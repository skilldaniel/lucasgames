! function (t) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = t();
    else if ("function" == typeof define && define.amd) define([], t);
    else {
        ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).PIXI = t()
    }
}((function () {
    return function t(e, i, n) {
        function o(a, r) {
            if (!i[a]) {
                if (!e[a]) {
                    var l = "function" == typeof require && require;
                    if (!r && l) return l(a, !0);
                    if (s) return s(a, !0);
                    var u = new Error("Cannot find module '" + a + "'");
                    throw u.code = "MODULE_NOT_FOUND", u
                }
                var h = i[a] = {
                    exports: {}
                };
                e[a][0].call(h.exports, (function (t) {
                    var i = e[a][1][t];
                    return o(i || t)
                }), h, h.exports, t, e, i, n)
            }
            return i[a].exports
        }
        for (var s = "function" == typeof require && require, a = 0; a < n.length; a++) o(n[a]);
        return o
    }({
        1: [function (t, e, i) {
            (function (i) {
                t("./polyfill");
                var n = e.exports = t("./core");
                n.extras = t("./extras"), n.filters = t("./filters"), n.interaction = t("./interaction"), n.loaders = t("./loaders"), n.mesh = t("./mesh"), n.ticker = t("./ticker"), n.loader = new n.loaders.Loader, Object.assign(n, t("./deprecation")), i.PIXI = n
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            "./core": 25,
            "./deprecation": 74,
            "./extras": 81,
            "./filters": 3,
            "./interaction": 84,
            "./loaders": 87,
            "./mesh": 93,
            "./polyfill": 97,
            "./ticker": 100
        }],
        2: [function (t, e, i) {
            (function (t) {
                ! function () {
                    function i(t) {
                        var e = !1;
                        return function () {
                            if (e) throw new Error("Callback was already called.");
                            e = !0, t.apply(n, arguments)
                        }
                    }
                    var n, o, s = {};
                    null != (n = this) && (o = n.async), s.noConflict = function () {
                        return n.async = o, s
                    };
                    var a = Object.prototype.toString,
                        r = Array.isArray || function (t) {
                            return "[object Array]" === a.call(t)
                        },
                        l = function (t, e) {
                            for (var i = 0; i < t.length; i += 1) e(t[i], i, t)
                        },
                        u = function (t, e) {
                            if (t.map) return t.map(e);
                            var i = [];
                            return l(t, (function (t, n, o) {
                                i.push(e(t, n, o))
                            })), i
                        },
                        h = function (t) {
                            if (Object.keys) return Object.keys(t);
                            var e = [];
                            for (var i in t) t.hasOwnProperty(i) && e.push(i);
                            return e
                        };
                    void 0 !== t && t.nextTick ? (s.nextTick = t.nextTick, "undefined" != typeof setImmediate ? s.setImmediate = function (t) {
                        setImmediate(t)
                    } : s.setImmediate = s.nextTick) : "function" == typeof setImmediate ? (s.nextTick = function (t) {
                        setImmediate(t)
                    }, s.setImmediate = s.nextTick) : (s.nextTick = function (t) {
                        setTimeout(t, 0)
                    }, s.setImmediate = s.nextTick), s.each = function (t, e, n) {
                        function o(e) {
                            e ? (n(e), n = function () {}) : (s += 1) >= t.length && n()
                        }
                        if (n = n || function () {}, !t.length) return n();
                        var s = 0;
                        l(t, (function (t) {
                            e(t, i(o))
                        }))
                    }, s.forEach = s.each, s.eachSeries = function (t, e, i) {
                        if (i = i || function () {}, !t.length) return i();
                        var n = 0,
                            o = function () {
                                e(t[n], (function (e) {
                                    e ? (i(e), i = function () {}) : (n += 1) >= t.length ? i() : o()
                                }))
                            };
                        o()
                    }, s.forEachSeries = s.eachSeries, s.eachLimit = function (t, e, i, n) {
                        c(e).apply(null, [t, i, n])
                    }, s.forEachLimit = s.eachLimit;
                    var c = function (t) {
                            return function (e, i, n) {
                                if (n = n || function () {}, !e.length || t <= 0) return n();
                                var o = 0,
                                    s = 0,
                                    a = 0;
                                ! function r() {
                                    if (o >= e.length) return n();
                                    for (; a < t && s < e.length;) a += 1, i(e[(s += 1) - 1], (function (t) {
                                        t ? (n(t), n = function () {}) : (a -= 1, (o += 1) >= e.length ? n() : r())
                                    }))
                                }()
                            }
                        },
                        p = function (t) {
                            return function () {
                                var e = Array.prototype.slice.call(arguments);
                                return t.apply(null, [s.each].concat(e))
                            }
                        },
                        d = function (t) {
                            return function () {
                                var e = Array.prototype.slice.call(arguments);
                                return t.apply(null, [s.eachSeries].concat(e))
                            }
                        },
                        m = function (t, e, i, n) {
                            if (e = u(e, (function (t, e) {
                                    return {
                                        index: e,
                                        value: t
                                    }
                                })), n) {
                                var o = [];
                                t(e, (function (t, e) {
                                    i(t.value, (function (i, n) {
                                        o[t.index] = n, e(i)
                                    }))
                                }), (function (t) {
                                    n(t, o)
                                }))
                            } else t(e, (function (t, e) {
                                i(t.value, (function (t) {
                                    e(t)
                                }))
                            }))
                        };
                    s.map = p(m), s.mapSeries = d(m), s.mapLimit = function (t, e, i, n) {
                        return S(e)(t, i, n)
                    };
                    var S = function (t) {
                        return function (t, e) {
                            return function () {
                                var i = Array.prototype.slice.call(arguments);
                                return e.apply(null, [c(t)].concat(i))
                            }
                        }(t, m)
                    };
                    s.reduce = function (t, e, i, n) {
                        s.eachSeries(t, (function (t, n) {
                            i(e, t, (function (t, i) {
                                e = i, n(t)
                            }))
                        }), (function (t) {
                            n(t, e)
                        }))
                    }, s.inject = s.reduce, s.foldl = s.reduce, s.reduceRight = function (t, e, i, n) {
                        var o = u(t, (function (t) {
                            return t
                        })).reverse();
                        s.reduce(o, e, i, n)
                    }, s.foldr = s.reduceRight;
                    var g = function (t, e, i, n) {
                        var o = [];
                        e = u(e, (function (t, e) {
                            return {
                                index: e,
                                value: t
                            }
                        })), t(e, (function (t, e) {
                            i(t.value, (function (i) {
                                i && o.push(t), e()
                            }))
                        }), (function (t) {
                            n(u(o.sort((function (t, e) {
                                return t.index - e.index
                            })), (function (t) {
                                return t.value
                            })))
                        }))
                    };
                    s.filter = p(g), s.filterSeries = d(g), s.select = s.filter, s.selectSeries = s.filterSeries;
                    var y = function (t, e, i, n) {
                        var o = [];
                        e = u(e, (function (t, e) {
                            return {
                                index: e,
                                value: t
                            }
                        })), t(e, (function (t, e) {
                            i(t.value, (function (i) {
                                i || o.push(t), e()
                            }))
                        }), (function (t) {
                            n(u(o.sort((function (t, e) {
                                return t.index - e.index
                            })), (function (t) {
                                return t.value
                            })))
                        }))
                    };
                    s.reject = p(y), s.rejectSeries = d(y);
                    var f = function (t, e, i, n) {
                        t(e, (function (t, e) {
                            i(t, (function (i) {
                                i ? (n(t), n = function () {}) : e()
                            }))
                        }), (function (t) {
                            n()
                        }))
                    };
                    s.detect = p(f), s.detectSeries = d(f), s.some = function (t, e, i) {
                        s.each(t, (function (t, n) {
                            e(t, (function (t) {
                                t && (i(!0), i = function () {}), n()
                            }))
                        }), (function (t) {
                            i(!1)
                        }))
                    }, s.any = s.some, s.every = function (t, e, i) {
                        s.each(t, (function (t, n) {
                            e(t, (function (t) {
                                t || (i(!1), i = function () {}), n()
                            }))
                        }), (function (t) {
                            i(!0)
                        }))
                    }, s.all = s.every, s.sortBy = function (t, e, i) {
                        s.map(t, (function (t, i) {
                            e(t, (function (e, n) {
                                e ? i(e) : i(null, {
                                    value: t,
                                    criteria: n
                                })
                            }))
                        }), (function (t, e) {
                            if (t) return i(t);
                            i(null, u(e.sort((function (t, e) {
                                var i = t.criteria,
                                    n = e.criteria;
                                return i < n ? -1 : i > n ? 1 : 0
                            })), (function (t) {
                                return t.value
                            })))
                        }))
                    }, s.auto = function (t, e) {
                        e = e || function () {};
                        var i = h(t),
                            n = i.length;
                        if (!n) return e();
                        var o = {},
                            a = [],
                            u = function (t) {
                                a.unshift(t)
                            },
                            c = function (t) {
                                for (var e = 0; e < a.length; e += 1)
                                    if (a[e] === t) return void a.splice(e, 1)
                            },
                            p = function () {
                                n--, l(a.slice(0), (function (t) {
                                    t()
                                }))
                            };
                        u((function () {
                            if (!n) {
                                var t = e;
                                e = function () {}, t(null, o)
                            }
                        })), l(i, (function (i) {
                            var n = r(t[i]) ? t[i] : [t[i]],
                                a = function (t) {
                                    var n = Array.prototype.slice.call(arguments, 1);
                                    if (n.length <= 1 && (n = n[0]), t) {
                                        var a = {};
                                        l(h(o), (function (t) {
                                            a[t] = o[t]
                                        })), a[i] = n, e(t, a), e = function () {}
                                    } else o[i] = n, s.setImmediate(p)
                                },
                                d = n.slice(0, Math.abs(n.length - 1)) || [],
                                m = function () {
                                    return function (t, e, i) {
                                        return t.reduce ? t.reduce(e, i) : (l(t, (function (t, n, o) {
                                            i = e(i, t, n, o)
                                        })), i)
                                    }(d, (function (t, e) {
                                        return t && o.hasOwnProperty(e)
                                    }), !0) && !o.hasOwnProperty(i)
                                };
                            if (m()) n[n.length - 1](a, o);
                            else {
                                var S = function () {
                                    m() && (c(S), n[n.length - 1](a, o))
                                };
                                u(S)
                            }
                        }))
                    }, s.retry = function (t, e, i) {
                        var n = [];
                        "function" == typeof t && (i = e, e = t, t = 5), t = parseInt(t, 10) || 5;
                        var o = function (o, a) {
                            for (var r = function (t, e) {
                                    return function (i) {
                                        t((function (t, n) {
                                            i(!t || e, {
                                                err: t,
                                                result: n
                                            })
                                        }), a)
                                    }
                                }; t;) n.push(r(e, !(t -= 1)));
                            s.series(n, (function (t, e) {
                                e = e[e.length - 1], (o || i)(e.err, e.result)
                            }))
                        };
                        return i ? o() : o
                    }, s.waterfall = function (t, e) {
                        if (e = e || function () {}, !r(t)) {
                            var i = new Error("First argument to waterfall must be an array of functions");
                            return e(i)
                        }
                        if (!t.length) return e();
                        var n = function (t) {
                            return function (i) {
                                if (i) e.apply(null, arguments), e = function () {};
                                else {
                                    var o = Array.prototype.slice.call(arguments, 1),
                                        a = t.next();
                                    a ? o.push(n(a)) : o.push(e), s.setImmediate((function () {
                                        t.apply(null, o)
                                    }))
                                }
                            }
                        };
                        n(s.iterator(t))()
                    };
                    var b = function (t, e, i) {
                        if (i = i || function () {}, r(e)) t.map(e, (function (t, e) {
                            t && t((function (t) {
                                var i = Array.prototype.slice.call(arguments, 1);
                                i.length <= 1 && (i = i[0]), e.call(null, t, i)
                            }))
                        }), i);
                        else {
                            var n = {};
                            t.each(h(e), (function (t, i) {
                                e[t]((function (e) {
                                    var o = Array.prototype.slice.call(arguments, 1);
                                    o.length <= 1 && (o = o[0]), n[t] = o, i(e)
                                }))
                            }), (function (t) {
                                i(t, n)
                            }))
                        }
                    };
                    s.parallel = function (t, e) {
                        b({
                            map: s.map,
                            each: s.each
                        }, t, e)
                    }, s.parallelLimit = function (t, e, i) {
                        b({
                            map: S(e),
                            each: c(e)
                        }, t, i)
                    }, s.series = function (t, e) {
                        if (e = e || function () {}, r(t)) s.mapSeries(t, (function (t, e) {
                            t && t((function (t) {
                                var i = Array.prototype.slice.call(arguments, 1);
                                i.length <= 1 && (i = i[0]), e.call(null, t, i)
                            }))
                        }), e);
                        else {
                            var i = {};
                            s.eachSeries(h(t), (function (e, n) {
                                t[e]((function (t) {
                                    var o = Array.prototype.slice.call(arguments, 1);
                                    o.length <= 1 && (o = o[0]), i[e] = o, n(t)
                                }))
                            }), (function (t) {
                                e(t, i)
                            }))
                        }
                    }, s.iterator = function (t) {
                        var e = function (i) {
                            var n = function () {
                                return t.length && t[i].apply(null, arguments), n.next()
                            };
                            return n.next = function () {
                                return i < t.length - 1 ? e(i + 1) : null
                            }, n
                        };
                        return e(0)
                    }, s.apply = function (t) {
                        var e = Array.prototype.slice.call(arguments, 1);
                        return function () {
                            return t.apply(null, e.concat(Array.prototype.slice.call(arguments)))
                        }
                    };
                    var T = function (t, e, i, n) {
                        var o = [];
                        t(e, (function (t, e) {
                            i(t, (function (t, i) {
                                o = o.concat(i || []), e(t)
                            }))
                        }), (function (t) {
                            n(t, o)
                        }))
                    };
                    s.concat = p(T), s.concatSeries = d(T), s.whilst = function (t, e, i) {
                        t() ? e((function (n) {
                            return n ? i(n) : void s.whilst(t, e, i)
                        })) : i()
                    }, s.doWhilst = function (t, e, i) {
                        t((function (n) {
                            if (n) return i(n);
                            var o = Array.prototype.slice.call(arguments, 1);
                            e.apply(null, o) ? s.doWhilst(t, e, i) : i()
                        }))
                    }, s.until = function (t, e, i) {
                        t() ? i() : e((function (n) {
                            return n ? i(n) : void s.until(t, e, i)
                        }))
                    }, s.doUntil = function (t, e, i) {
                        t((function (n) {
                            if (n) return i(n);
                            var o = Array.prototype.slice.call(arguments, 1);
                            e.apply(null, o) ? i() : s.doUntil(t, e, i)
                        }))
                    }, s.queue = function (t, e) {
                        function n(t, e, i, n) {
                            return t.started || (t.started = !0), r(e) || (e = [e]), 0 == e.length ? s.setImmediate((function () {
                                t.drain && t.drain()
                            })) : void l(e, (function (e) {
                                var o = {
                                    data: e,
                                    callback: "function" == typeof n ? n : null
                                };
                                i ? t.tasks.unshift(o) : t.tasks.push(o), t.saturated && t.tasks.length === t.concurrency && t.saturated(), s.setImmediate(t.process)
                            }))
                        }
                        void 0 === e && (e = 1);
                        var o = 0,
                            a = {
                                tasks: [],
                                concurrency: e,
                                saturated: null,
                                empty: null,
                                drain: null,
                                started: !1,
                                paused: !1,
                                push: function (t, e) {
                                    n(a, t, !1, e)
                                },
                                kill: function () {
                                    a.drain = null, a.tasks = []
                                },
                                unshift: function (t, e) {
                                    n(a, t, !0, e)
                                },
                                process: function () {
                                    if (!a.paused && o < a.concurrency && a.tasks.length) {
                                        var e = a.tasks.shift();
                                        a.empty && 0 === a.tasks.length && a.empty(), o += 1;
                                        var n = i((function () {
                                            o -= 1, e.callback && e.callback.apply(e, arguments), a.drain && a.tasks.length + o === 0 && a.drain(), a.process()
                                        }));
                                        t(e.data, n)
                                    }
                                },
                                length: function () {
                                    return a.tasks.length
                                },
                                running: function () {
                                    return o
                                },
                                idle: function () {
                                    return a.tasks.length + o === 0
                                },
                                pause: function () {
                                    !0 !== a.paused && (a.paused = !0)
                                },
                                resume: function () {
                                    if (!1 !== a.paused) {
                                        a.paused = !1;
                                        for (var t = 1; t <= a.concurrency; t++) s.setImmediate(a.process)
                                    }
                                }
                            };
                        return a
                    }, s.priorityQueue = function (t, e) {
                        function i(t, e) {
                            return t.priority - e.priority
                        }

                        function n(t, e, n, o) {
                            return t.started || (t.started = !0), r(e) || (e = [e]), 0 == e.length ? s.setImmediate((function () {
                                t.drain && t.drain()
                            })) : void l(e, (function (e) {
                                var a = {
                                    data: e,
                                    priority: n,
                                    callback: "function" == typeof o ? o : null
                                };
                                t.tasks.splice(function (t, e, i) {
                                    for (var n = -1, o = t.length - 1; n < o;) {
                                        var s = n + (o - n + 1 >>> 1);
                                        i(e, t[s]) >= 0 ? n = s : o = s - 1
                                    }
                                    return n
                                }(t.tasks, a, i) + 1, 0, a), t.saturated && t.tasks.length === t.concurrency && t.saturated(), s.setImmediate(t.process)
                            }))
                        }
                        var o = s.queue(t, e);
                        return o.push = function (t, e, i) {
                            n(o, t, e, i)
                        }, delete o.unshift, o
                    }, s.cargo = function (t, e) {
                        var i = !1,
                            n = [],
                            o = {
                                tasks: n,
                                payload: e,
                                saturated: null,
                                empty: null,
                                drain: null,
                                drained: !0,
                                push: function (t, i) {
                                    r(t) || (t = [t]), l(t, (function (t) {
                                        n.push({
                                            data: t,
                                            callback: "function" == typeof i ? i : null
                                        }), o.drained = !1, o.saturated && n.length === e && o.saturated()
                                    })), s.setImmediate(o.process)
                                },
                                process: function s() {
                                    if (!i) {
                                        if (0 === n.length) return o.drain && !o.drained && o.drain(), void(o.drained = !0);
                                        var a = "number" == typeof e ? n.splice(0, e) : n.splice(0, n.length),
                                            r = u(a, (function (t) {
                                                return t.data
                                            }));
                                        o.empty && o.empty(), i = !0, t(r, (function () {
                                            i = !1;
                                            var t = arguments;
                                            l(a, (function (e) {
                                                e.callback && e.callback.apply(null, t)
                                            })), s()
                                        }))
                                    }
                                },
                                length: function () {
                                    return n.length
                                },
                                running: function () {
                                    return i
                                }
                            };
                        return o
                    };
                    var C = function (t) {
                        return function (e) {
                            var i = Array.prototype.slice.call(arguments, 1);
                            e.apply(null, i.concat([function (e) {
                                var i = Array.prototype.slice.call(arguments, 1);
                                "undefined" != typeof console && (e ? console.error : console[t] && l(i, (function (t) {})))
                            }]))
                        }
                    };
                    s.log = C("log"), s.dir = C("dir"), s.memoize = function (t, e) {
                        var i = {},
                            n = {};
                        e = e || function (t) {
                            return t
                        };
                        var o = function () {
                            var o = Array.prototype.slice.call(arguments),
                                a = o.pop(),
                                r = e.apply(null, o);
                            r in i ? s.nextTick((function () {
                                a.apply(null, i[r])
                            })) : r in n ? n[r].push(a) : (n[r] = [a], t.apply(null, o.concat([function () {
                                i[r] = arguments;
                                var t = n[r];
                                delete n[r];
                                for (var e = 0, o = t.length; e < o; e++) t[e].apply(null, arguments)
                            }])))
                        };
                        return o.memo = i, o.unmemoized = t, o
                    }, s.unmemoize = function (t) {
                        return function () {
                            return (t.unmemoized || t).apply(null, arguments)
                        }
                    }, s.times = function (t, e, i) {
                        for (var n = [], o = 0; o < t; o++) n.push(o);
                        return s.map(n, e, i)
                    }, s.timesSeries = function (t, e, i) {
                        for (var n = [], o = 0; o < t; o++) n.push(o);
                        return s.mapSeries(n, e, i)
                    }, s.seq = function () {
                        var t = arguments;
                        return function () {
                            var e = this,
                                i = Array.prototype.slice.call(arguments),
                                n = i.pop();
                            s.reduce(t, i, (function (t, i, n) {
                                i.apply(e, t.concat([function () {
                                    var t = arguments[0],
                                        e = Array.prototype.slice.call(arguments, 1);
                                    n(t, e)
                                }]))
                            }), (function (t, i) {
                                n.apply(e, [t].concat(i))
                            }))
                        }
                    }, s.compose = function () {
                        return s.seq.apply(null, Array.prototype.reverse.call(arguments))
                    };
                    var A = function (t, e) {
                        var i = function () {
                            var i = this,
                                n = Array.prototype.slice.call(arguments),
                                o = n.pop();
                            return t(e, (function (t, e) {
                                t.apply(i, n.concat([e]))
                            }), o)
                        };
                        if (arguments.length > 2) {
                            var n = Array.prototype.slice.call(arguments, 2);
                            return i.apply(this, n)
                        }
                        return i
                    };
                    s.applyEach = p(A), s.applyEachSeries = d(A), s.forever = function (t, e) {
                        ! function i(n) {
                            if (n) {
                                if (e) return e(n);
                                throw n
                            }
                            t(i)
                        }()
                    }, void 0 !== e && e.exports ? e.exports = s : n.async = s
                }()
            }).call(this, t("_process"))
        }, {
            _process: 5
        }],
        3: [function (t, e, i) {}, {}],
        4: [function (t, e, i) {
            (function (t) {
                function e(t, e) {
                    for (var i = 0, n = t.length - 1; n >= 0; n--) {
                        var o = t[n];
                        "." === o ? t.splice(n, 1) : ".." === o ? (t.splice(n, 1), i++) : i && (t.splice(n, 1), i--)
                    }
                    if (e)
                        for (; i--; i) t.unshift("..");
                    return t
                }

                function n(t, e) {
                    if (t.filter) return t.filter(e);
                    for (var i = [], n = 0; n < t.length; n++) e(t[n], n, t) && i.push(t[n]);
                    return i
                }
                var o = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
                    s = function (t) {
                        return o.exec(t).slice(1)
                    };
                i.resolve = function () {
                    for (var i = "", o = !1, s = arguments.length - 1; s >= -1 && !o; s--) {
                        var a = s >= 0 ? arguments[s] : t.cwd();
                        if ("string" != typeof a) throw new TypeError("Arguments to path.resolve must be strings");
                        a && (i = a + "/" + i, o = "/" === a.charAt(0))
                    }
                    return i = e(n(i.split("/"), (function (t) {
                        return !!t
                    })), !o).join("/"), (o ? "/" : "") + i || "."
                }, i.normalize = function (t) {
                    var o = i.isAbsolute(t),
                        s = "/" === a(t, -1);
                    return (t = e(n(t.split("/"), (function (t) {
                        return !!t
                    })), !o).join("/")) || o || (t = "."), t && s && (t += "/"), (o ? "/" : "") + t
                }, i.isAbsolute = function (t) {
                    return "/" === t.charAt(0)
                }, i.join = function () {
                    var t = Array.prototype.slice.call(arguments, 0);
                    return i.normalize(n(t, (function (t, e) {
                        if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings");
                        return t
                    })).join("/"))
                }, i.relative = function (t, e) {
                    function n(t) {
                        for (var e = 0; e < t.length && "" === t[e]; e++);
                        for (var i = t.length - 1; i >= 0 && "" === t[i]; i--);
                        return e > i ? [] : t.slice(e, i - e + 1)
                    }
                    t = i.resolve(t).substr(1), e = i.resolve(e).substr(1);
                    for (var o = n(t.split("/")), s = n(e.split("/")), a = Math.min(o.length, s.length), r = a, l = 0; l < a; l++)
                        if (o[l] !== s[l]) {
                            r = l;
                            break
                        } var u = [];
                    for (l = r; l < o.length; l++) u.push("..");
                    return (u = u.concat(s.slice(r))).join("/")
                }, i.sep = "/", i.delimiter = ":", i.dirname = function (t) {
                    var e = s(t),
                        i = e[0],
                        n = e[1];
                    return i || n ? (n && (n = n.substr(0, n.length - 1)), i + n) : "."
                }, i.basename = function (t, e) {
                    var i = s(t)[2];
                    return e && i.substr(-1 * e.length) === e && (i = i.substr(0, i.length - e.length)), i
                }, i.extname = function (t) {
                    return s(t)[3]
                };
                var a = "b" === "ab".substr(-1) ? function (t, e, i) {
                    return t.substr(e, i)
                } : function (t, e, i) {
                    return e < 0 && (e = t.length + e), t.substr(e, i)
                }
            }).call(this, t("_process"))
        }, {
            _process: 5
        }],
        5: [function (t, e, i) {
            function n() {
                if (!r) {
                    r = !0;
                    for (var t, e = a.length; e;) {
                        t = a, a = [];
                        for (var i = -1; ++i < e;) t[i]();
                        e = a.length
                    }
                    r = !1
                }
            }

            function o() {}
            var s = e.exports = {},
                a = [],
                r = !1;
            s.nextTick = function (t) {
                a.push(t), r || setTimeout(n, 0)
            }, s.title = "browser", s.browser = !0, s.env = {}, s.argv = [], s.version = "", s.versions = {}, s.on = o, s.addListener = o, s.once = o, s.off = o, s.removeListener = o, s.removeAllListeners = o, s.emit = o, s.binding = function (t) {
                throw new Error("process.binding is not supported")
            }, s.cwd = function () {
                return "/"
            }, s.chdir = function (t) {
                throw new Error("process.chdir is not supported")
            }, s.umask = function () {
                return 0
            }
        }, {}],
        6: [function (t, e, i) {
            function n(t, e, i) {
                this.fn = t, this.context = e, this.once = i || !1
            }

            function o() {}
            var s = Object.prototype.hasOwnProperty,
                a = "function" != typeof Object.create && "~";
            o.prototype._events = void 0, o.prototype.eventNames = function () {
                var t, e = this._events,
                    i = [];
                if (!e) return i;
                for (t in e) s.call(e, t) && i.push(a ? t.slice(1) : t);
                return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(e)) : i
            }, o.prototype.listeners = function (t, e) {
                var i = a ? a + t : t,
                    n = this._events && this._events[i];
                if (e) return !!n;
                if (!n) return [];
                if (n.fn) return [n.fn];
                for (var o = 0, s = n.length, r = new Array(s); o < s; o++) r[o] = n[o].fn;
                return r
            }, o.prototype.emit = function (t, e, i, n, o, s) {
                var r = a ? a + t : t;
                if (!this._events || !this._events[r]) return !1;
                var l, u, h = this._events[r],
                    c = arguments.length;
                if ("function" == typeof h.fn) {
                    switch (h.once && this.removeListener(t, h.fn, void 0, !0), c) {
                        case 1:
                            return h.fn.call(h.context), !0;
                        case 2:
                            return h.fn.call(h.context, e), !0;
                        case 3:
                            return h.fn.call(h.context, e, i), !0;
                        case 4:
                            return h.fn.call(h.context, e, i, n), !0;
                        case 5:
                            return h.fn.call(h.context, e, i, n, o), !0;
                        case 6:
                            return h.fn.call(h.context, e, i, n, o, s), !0
                    }
                    for (u = 1, l = new Array(c - 1); u < c; u++) l[u - 1] = arguments[u];
                    h.fn.apply(h.context, l)
                } else {
                    var p, d = h.length;
                    for (u = 0; u < d; u++) switch (h[u].once && this.removeListener(t, h[u].fn, void 0, !0), c) {
                        case 1:
                            h[u].fn.call(h[u].context);
                            break;
                        case 2:
                            h[u].fn.call(h[u].context, e);
                            break;
                        case 3:
                            h[u].fn.call(h[u].context, e, i);
                            break;
                        default:
                            if (!l)
                                for (p = 1, l = new Array(c - 1); p < c; p++) l[p - 1] = arguments[p];
                            h[u].fn.apply(h[u].context, l)
                    }
                }
                return !0
            }, o.prototype.on = function (t, e, i) {
                var o = new n(e, i || this),
                    s = a ? a + t : t;
                return this._events || (this._events = a ? {} : Object.create(null)), this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], o] : this._events[s].push(o) : this._events[s] = o, this
            }, o.prototype.once = function (t, e, i) {
                var o = new n(e, i || this, !0),
                    s = a ? a + t : t;
                return this._events || (this._events = a ? {} : Object.create(null)), this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], o] : this._events[s].push(o) : this._events[s] = o, this
            }, o.prototype.removeListener = function (t, e, i, n) {
                var o = a ? a + t : t;
                if (!this._events || !this._events[o]) return this;
                var s = this._events[o],
                    r = [];
                if (e)
                    if (s.fn)(s.fn !== e || n && !s.once || i && s.context !== i) && r.push(s);
                    else
                        for (var l = 0, u = s.length; l < u; l++)(s[l].fn !== e || n && !s[l].once || i && s[l].context !== i) && r.push(s[l]);
                return r.length ? this._events[o] = 1 === r.length ? r[0] : r : delete this._events[o], this
            }, o.prototype.removeAllListeners = function (t) {
                return this._events ? (t ? delete this._events[a ? a + t : t] : this._events = a ? {} : Object.create(null), this) : this
            }, o.prototype.off = o.prototype.removeListener, o.prototype.addListener = o.prototype.on, o.prototype.setMaxListeners = function () {
                return this
            }, o.prefixed = a, void 0 !== e && (e.exports = o)
        }, {}],
        7: [function (t, e, i) {
            function n(t) {
                if (null == t) throw new TypeError("Object.assign cannot be called with null or undefined");
                return Object(t)
            }
            e.exports = Object.assign || function (t, e) {
                for (var i, o, s = n(t), a = 1; a < arguments.length; a++) {
                    i = arguments[a], o = Object.keys(Object(i));
                    for (var r = 0; r < o.length; r++) s[o[r]] = i[o[r]]
                }
                return s
            }
        }, {}],
        8: [function (t, e, i) {
            function n() {}

            function o(t, e, i) {
                this.fn = t, this.context = e, this.once = i || !1
            }

            function s() {
                this._events = new n, this._eventsCount = 0
            }
            var a = Object.prototype.hasOwnProperty,
                r = "~";
            Object.create && (n.prototype = Object.create(null), (new n).__proto__ || (r = !1)), s.prototype.eventNames = function () {
                var t, e, i = [];
                if (0 === this._eventsCount) return i;
                for (e in t = this._events) a.call(t, e) && i.push(r ? e.slice(1) : e);
                return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i
            }, s.prototype.listeners = function (t, e) {
                var i = r ? r + t : t,
                    n = this._events[i];
                if (e) return !!n;
                if (!n) return [];
                if (n.fn) return [n.fn];
                for (var o = 0, s = n.length, a = new Array(s); o < s; o++) a[o] = n[o].fn;
                return a
            }, s.prototype.emit = function (t, e, i, n, o, s) {
                var a = r ? r + t : t;
                if (!this._events[a]) return !1;
                var l, u, h = this._events[a],
                    c = arguments.length;
                if (h.fn) {
                    switch (h.once && this.removeListener(t, h.fn, void 0, !0), c) {
                        case 1:
                            return h.fn.call(h.context), !0;
                        case 2:
                            return h.fn.call(h.context, e), !0;
                        case 3:
                            return h.fn.call(h.context, e, i), !0;
                        case 4:
                            return h.fn.call(h.context, e, i, n), !0;
                        case 5:
                            return h.fn.call(h.context, e, i, n, o), !0;
                        case 6:
                            return h.fn.call(h.context, e, i, n, o, s), !0
                    }
                    for (u = 1, l = new Array(c - 1); u < c; u++) l[u - 1] = arguments[u];
                    h.fn.apply(h.context, l)
                } else {
                    var p, d = h.length;
                    for (u = 0; u < d; u++) switch (h[u].once && this.removeListener(t, h[u].fn, void 0, !0), c) {
                        case 1:
                            h[u].fn.call(h[u].context);
                            break;
                        case 2:
                            h[u].fn.call(h[u].context, e);
                            break;
                        case 3:
                            h[u].fn.call(h[u].context, e, i);
                            break;
                        case 4:
                            h[u].fn.call(h[u].context, e, i, n);
                            break;
                        default:
                            if (!l)
                                for (p = 1, l = new Array(c - 1); p < c; p++) l[p - 1] = arguments[p];
                            h[u].fn.apply(h[u].context, l)
                    }
                }
                return !0
            }, s.prototype.on = function (t, e, i) {
                var n = new o(e, i || this),
                    s = r ? r + t : t;
                return this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], n] : this._events[s].push(n) : (this._events[s] = n, this._eventsCount++), this
            }, s.prototype.once = function (t, e, i) {
                var n = new o(e, i || this, !0),
                    s = r ? r + t : t;
                return this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], n] : this._events[s].push(n) : (this._events[s] = n, this._eventsCount++), this
            }, s.prototype.removeListener = function (t, e, i, o) {
                var s = r ? r + t : t;
                if (!this._events[s]) return this;
                if (!e) return 0 == --this._eventsCount ? this._events = new n : delete this._events[s], this;
                var a = this._events[s];
                if (a.fn) a.fn !== e || o && !a.once || i && a.context !== i || (0 == --this._eventsCount ? this._events = new n : delete this._events[s]);
                else {
                    for (var l = 0, u = [], h = a.length; l < h; l++)(a[l].fn !== e || o && !a[l].once || i && a[l].context !== i) && u.push(a[l]);
                    u.length ? this._events[s] = 1 === u.length ? u[0] : u : 0 == --this._eventsCount ? this._events = new n : delete this._events[s]
                }
                return this
            }, s.prototype.removeAllListeners = function (t) {
                var e;
                return t ? (e = r ? r + t : t, this._events[e] && (0 == --this._eventsCount ? this._events = new n : delete this._events[e])) : (this._events = new n, this._eventsCount = 0), this
            }, s.prototype.off = s.prototype.removeListener, s.prototype.addListener = s.prototype.on, s.prototype.setMaxListeners = function () {
                return this
            }, s.prefixed = r, s.EventEmitter = s, void 0 !== e && (e.exports = s)
        }, {}],
        9: [function (t, e, i) {
            e.exports = function (t, e) {
                e = e || {};
                for (var i = {
                        key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
                        q: {
                            name: "queryKey",
                            parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                        },
                        parser: {
                            strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                            loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                        }
                    }, n = i.parser[e.strictMode ? "strict" : "loose"].exec(t), o = {}, s = 14; s--;) o[i.key[s]] = n[s] || "";
                return o[i.q.name] = {}, o[i.key[12]].replace(i.q.parser, (function (t, e, n) {
                    e && (o[i.q.name][e] = n)
                })), o
            }
        }, {}],
        10: [function (t, e, i) {
            function n(t, e) {
                r.call(this), e = e || l, this.baseUrl = t || "", this.progress = 0, this.loading = !1, this._progressChunk = 0, this._beforeMiddleware = [], this._afterMiddleware = [], this._boundLoadResource = this._loadResource.bind(this), this._buffer = [], this._numToLoad = 0, this._queue = s.queue(this._boundLoadResource, e), this.resources = {}
            }
            var o = t("parse-uri"),
                s = t("./async"),
                a = t("./Resource"),
                r = t("eventemitter3"),
                l = 10;
            n.prototype = Object.create(r.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.add = n.prototype.enqueue = function (t, e, i, n) {
                if (Array.isArray(t)) {
                    for (var o = 0; o < t.length; ++o) this.add(t[o]);
                    return this
                }
                if ("object" == typeof t && (n = e || t.callback || t.onComplete, i = t, e = t.url, t = t.name || t.key || t.url), "string" != typeof e && (n = i, i = e, e = t), "string" != typeof e) throw new Error("No url passed to add resource to loader.");
                if ("function" == typeof i && (n = i, i = null), this.resources[t]) throw new Error('Resource with name "' + t + '" already exists.');
                return e = this._prepareUrl(e), this.resources[t] = new a(t, e, i), "function" == typeof n && this.resources[t].once("afterMiddleware", n), this._numToLoad++, this._queue.started ? (this._queue.push(this.resources[t]), this._progressChunk = (100 - this.progress) / (this._queue.length() + this._queue.running())) : (this._buffer.push(this.resources[t]), this._progressChunk = 100 / this._buffer.length), this
            }, n.prototype.before = n.prototype.pre = function (t) {
                return this._beforeMiddleware.push(t), this
            }, n.prototype.after = n.prototype.use = function (t) {
                return this._afterMiddleware.push(t), this
            }, n.prototype.reset = function () {
                for (var t in this.progress = 0, this.loading = !1, this._progressChunk = 0, this._buffer.length = 0, this._numToLoad = 0, this._queue.kill(), this._queue.started = !1, this.resources) {
                    var e = this.resources[t];
                    e.off("complete", this._onLoad, this), e.isLoading && e.abort()
                }
                return this.resources = {}, this
            }, n.prototype.load = function (t) {
                if ("function" == typeof t && this.once("complete", t), this._queue.started) return this;
                this.emit("start", this), this.loading = !0;
                for (var e = 0; e < this._buffer.length; ++e) this._queue.push(this._buffer[e]);
                return this._buffer.length = 0, this
            }, n.prototype._prepareUrl = function (t) {
                var e = o(t, {
                    strictMode: !0
                });
                return e.protocol || !e.path || 0 === e.path.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t
            }, n.prototype._loadResource = function (t, e) {
                var i = this;
                t._dequeue = e, s.eachSeries(this._beforeMiddleware, (function (e, n) {
                    e.call(i, t, (function () {
                        n(t.isComplete ? {} : null)
                    }))
                }), (function () {
                    t.isComplete ? i._onLoad(t) : (t.once("complete", i._onLoad, i), t.load())
                }))
            }, n.prototype._onComplete = function () {
                this.loading = !1, this.emit("complete", this, this.resources)
            }, n.prototype._onLoad = function (t) {
                var e = this;
                s.eachSeries(this._afterMiddleware, (function (i, n) {
                    i.call(e, t, n)
                }), (function () {
                    t.emit("afterMiddleware", t), e._numToLoad--, e.progress += e._progressChunk, e.emit("progress", e, t), t.error ? e.emit("error", t.error, e, t) : e.emit("load", e, t), 0 === e._numToLoad && (e.progress = 100, e._onComplete())
                })), t._dequeue()
            }, n.LOAD_TYPE = a.LOAD_TYPE, n.XHR_RESPONSE_TYPE = a.XHR_RESPONSE_TYPE
        }, {
            "./Resource": 11,
            "./async": 12,
            eventemitter3: 8,
            "parse-uri": 9
        }],
        11: [function (t, e, i) {
            function n(t, e, i) {
                if (a.call(this), i = i || {}, "string" != typeof t || "string" != typeof e) throw new Error("Both name and url are required for constructing a resource.");
                this.name = t, this.url = e, this.isDataUrl = 0 === this.url.indexOf("data:"), this.data = null, this.crossOrigin = !0 === i.crossOrigin ? "anonymous" : i.crossOrigin, this.loadType = i.loadType || this._determineLoadType(), this.xhrType = i.xhrType, this.metadata = i.metadata || {}, this.error = null, this.xhr = null, this.isJson = !1, this.isXml = !1, this.isImage = !1, this.isAudio = !1, this.isVideo = !1, this.isComplete = !1, this.isLoading = !1, this._dequeue = null, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this)
            }

            function o(t) {
                return t.toString().replace("object ", "")
            }

            function s(t, e, i) {
                e && 0 === e.indexOf(".") && (e = e.substring(1)), e && (t[e] = i)
            }
            var a = t("eventemitter3"),
                r = t("parse-uri"),
                l = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest),
                u = null;
            n.prototype = Object.create(a.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.complete = function () {
                if (this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1), this.data.removeEventListener("load", this._boundComplete, !1), this.data.removeEventListener("progress", this._boundOnProgress, !1), this.data.removeEventListener("canplaythrough", this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1), this.xhr.removeEventListener("progress", this._boundOnProgress, !1), this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null)), this.isComplete) throw new Error("Complete called again for an already completed resource.");
                this.isComplete = !0, this.isLoading = !1, this.emit("complete", this)
            }, n.prototype.abort = function (t) {
                if (!this.error) {
                    if (this.error = new Error(t), this.xhr) this.xhr.abort();
                    else if (this.xdr) this.xdr.abort();
                    else if (this.data)
                        if (void 0 !== this.data.src) this.data.src = "";
                        else
                            for (; this.data.firstChild;) this.data.removeChild(this.data.firstChild);
                    this.complete()
                }
            }, n.prototype.load = function (t) {
                if (!this.isLoading)
                    if (this.isComplete) {
                        if (t) {
                            var e = this;
                            setTimeout((function () {
                                t(e)
                            }), 1)
                        }
                    } else switch (t && this.once("complete", t), this.isLoading = !0, this.emit("start", this), !1 !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
                        case n.LOAD_TYPE.IMAGE:
                            this._loadElement("image");
                            break;
                        case n.LOAD_TYPE.AUDIO:
                            this._loadSourceElement("audio");
                            break;
                        case n.LOAD_TYPE.VIDEO:
                            this._loadSourceElement("video");
                            break;
                        case n.LOAD_TYPE.XHR:
                        default:
                            l && this.crossOrigin ? this._loadXdr() : this._loadXhr()
                    }
            }, n.prototype._loadElement = function (t) {
                this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === t && void 0 !== window.Image ? this.data = new Image : this.data = document.createElement(t), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url);
                var e = "is" + t[0].toUpperCase() + t.substring(1);
                !1 === this[e] && (this[e] = !0), this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1)
            }, n.prototype._loadSourceElement = function (t) {
                if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === t && void 0 !== window.Audio ? this.data = new Audio : this.data = document.createElement(t), null !== this.data) {
                    if (!this.metadata.skipSource)
                        if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                        else if (Array.isArray(this.url))
                        for (var e = 0; e < this.url.length; ++e) this.data.appendChild(this._createSource(t, this.url[e]));
                    else this.data.appendChild(this._createSource(t, this.url));
                    this["is" + t[0].toUpperCase() + t.substring(1)] = !0, this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.data.addEventListener("canplaythrough", this._boundComplete, !1), this.data.load()
                } else this.abort("Unsupported element " + t)
            }, n.prototype._loadXhr = function () {
                "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                var t = this.xhr = new XMLHttpRequest;
                t.open("GET", this.url, !0), this.xhrType === n.XHR_RESPONSE_TYPE.JSON || this.xhrType === n.XHR_RESPONSE_TYPE.DOCUMENT ? t.responseType = n.XHR_RESPONSE_TYPE.TEXT : t.responseType = this.xhrType, t.addEventListener("error", this._boundXhrOnError, !1), t.addEventListener("abort", this._boundXhrOnAbort, !1), t.addEventListener("progress", this._boundOnProgress, !1), t.addEventListener("load", this._boundXhrOnLoad, !1), t.send()
            }, n.prototype._loadXdr = function () {
                "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                var t = this.xhr = new XDomainRequest;
                t.timeout = 5e3, t.onerror = this._boundXhrOnError, t.ontimeout = this._boundXdrOnTimeout, t.onprogress = this._boundOnProgress, t.onload = this._boundXhrOnLoad, t.open("GET", this.url, !0), setTimeout((function () {
                    t.send()
                }), 0)
            }, n.prototype._createSource = function (t, e, i) {
                i || (i = t + "/" + e.substr(e.lastIndexOf(".") + 1));
                var n = document.createElement("source");
                return n.src = e, n.type = i, n
            }, n.prototype._onError = function (t) {
                this.abort("Failed to load element using " + t.target.nodeName)
            }, n.prototype._onProgress = function (t) {
                t && t.lengthComputable && this.emit("progress", this, t.loaded / t.total)
            }, n.prototype._xhrOnError = function () {
                var t = this.xhr;
                this.abort(o(t) + " Request failed. Status: " + t.status + ', text: "' + t.statusText + '"')
            }, n.prototype._xhrOnAbort = function () {
                this.abort(o(this.xhr) + " Request was aborted by the user.")
            }, n.prototype._xdrOnTimeout = function () {
                this.abort(o(this.xhr) + " Request timed out.")
            }, n.prototype._xhrOnLoad = function () {
                var t = this.xhr,
                    e = void 0 === t.status ? t.status : 200;
                if (200 === e || 204 === e || 0 === e && t.responseText.length > 0) {
                    if (this.xhrType === n.XHR_RESPONSE_TYPE.TEXT) this.data = t.responseText;
                    else if (this.xhrType === n.XHR_RESPONSE_TYPE.JSON) try {
                        this.data = JSON.parse(t.responseText), this.isJson = !0
                    } catch (t) {
                        return void this.abort("Error trying to parse loaded json:", t)
                    } else if (this.xhrType === n.XHR_RESPONSE_TYPE.DOCUMENT) try {
                        if (window.DOMParser) {
                            var i = new DOMParser;
                            this.data = i.parseFromString(t.responseText, "text/xml")
                        } else {
                            var o = document.createElement("div");
                            o.innerHTML = t.responseText, this.data = o
                        }
                        this.isXml = !0
                    } catch (t) {
                        return void this.abort("Error trying to parse loaded xml:", t)
                    } else this.data = t.response || t.responseText;
                    this.complete()
                } else this.abort("[" + t.status + "]" + t.statusText + ":" + t.responseURL)
            }, n.prototype._determineCrossOrigin = function (t, e) {
                if (0 === t.indexOf("data:")) return "";
                e = e || window.location, u || (u = document.createElement("a")), u.href = t;
                var i = !(t = r(u.href, {
                        strictMode: !0
                    })).port && "" === e.port || t.port === e.port,
                    n = t.protocol ? t.protocol + ":" : "";
                return t.host === e.hostname && i && n === e.protocol ? "" : "anonymous"
            }, n.prototype._determineXhrType = function () {
                return n._xhrTypeMap[this._getExtension()] || n.XHR_RESPONSE_TYPE.TEXT
            }, n.prototype._determineLoadType = function () {
                return n._loadTypeMap[this._getExtension()] || n.LOAD_TYPE.XHR
            }, n.prototype._getExtension = function () {
                var t = this.url,
                    e = "";
                if (this.isDataUrl) {
                    var i = t.indexOf("/");
                    e = t.substring(i + 1, t.indexOf(";", i))
                } else {
                    var n = t.indexOf("?"); - 1 !== n && (t = t.substring(0, n)), e = t.substring(t.lastIndexOf(".") + 1)
                }
                return e.toLowerCase()
            }, n.prototype._getMimeFromXhrType = function (t) {
                switch (t) {
                    case n.XHR_RESPONSE_TYPE.BUFFER:
                        return "application/octet-binary";
                    case n.XHR_RESPONSE_TYPE.BLOB:
                        return "application/blob";
                    case n.XHR_RESPONSE_TYPE.DOCUMENT:
                        return "application/xml";
                    case n.XHR_RESPONSE_TYPE.JSON:
                        return "application/json";
                    case n.XHR_RESPONSE_TYPE.DEFAULT:
                    case n.XHR_RESPONSE_TYPE.TEXT:
                    default:
                        return "text/plain"
                }
            }, n.LOAD_TYPE = {
                XHR: 1,
                IMAGE: 2,
                AUDIO: 3,
                VIDEO: 4
            }, n.XHR_RESPONSE_TYPE = {
                DEFAULT: "text",
                BUFFER: "arraybuffer",
                BLOB: "blob",
                DOCUMENT: "document",
                JSON: "json",
                TEXT: "text"
            }, n._loadTypeMap = {
                gif: n.LOAD_TYPE.IMAGE,
                png: n.LOAD_TYPE.IMAGE,
                bmp: n.LOAD_TYPE.IMAGE,
                jpg: n.LOAD_TYPE.IMAGE,
                jpeg: n.LOAD_TYPE.IMAGE,
                tif: n.LOAD_TYPE.IMAGE,
                tiff: n.LOAD_TYPE.IMAGE,
                webp: n.LOAD_TYPE.IMAGE,
                tga: n.LOAD_TYPE.IMAGE,
                "svg+xml": n.LOAD_TYPE.IMAGE
            }, n._xhrTypeMap = {
                xhtml: n.XHR_RESPONSE_TYPE.DOCUMENT,
                html: n.XHR_RESPONSE_TYPE.DOCUMENT,
                htm: n.XHR_RESPONSE_TYPE.DOCUMENT,
                xml: n.XHR_RESPONSE_TYPE.DOCUMENT,
                tmx: n.XHR_RESPONSE_TYPE.DOCUMENT,
                tsx: n.XHR_RESPONSE_TYPE.DOCUMENT,
                svg: n.XHR_RESPONSE_TYPE.DOCUMENT,
                gif: n.XHR_RESPONSE_TYPE.BLOB,
                png: n.XHR_RESPONSE_TYPE.BLOB,
                bmp: n.XHR_RESPONSE_TYPE.BLOB,
                jpg: n.XHR_RESPONSE_TYPE.BLOB,
                jpeg: n.XHR_RESPONSE_TYPE.BLOB,
                tif: n.XHR_RESPONSE_TYPE.BLOB,
                tiff: n.XHR_RESPONSE_TYPE.BLOB,
                webp: n.XHR_RESPONSE_TYPE.BLOB,
                tga: n.XHR_RESPONSE_TYPE.BLOB,
                json: n.XHR_RESPONSE_TYPE.JSON,
                text: n.XHR_RESPONSE_TYPE.TEXT,
                txt: n.XHR_RESPONSE_TYPE.TEXT
            }, n.setExtensionLoadType = function (t, e) {
                s(n._loadTypeMap, t, e)
            }, n.setExtensionXhrType = function (t, e) {
                s(n._xhrTypeMap, t, e)
            }
        }, {
            eventemitter3: 8,
            "parse-uri": 9
        }],
        12: [function (t, e, i) {
            function n() {}

            function o(t) {
                return function () {
                    if (null === t) throw new Error("Callback was already called.");
                    var e = t;
                    t = null, e.apply(this, arguments)
                }
            }
            e.exports = {
                eachSeries: function (t, e, i) {
                    var n = 0,
                        o = t.length;
                    ! function s(a) {
                        return a || n === o ? void(i && i(a)) : void e(t[n++], s)
                    }()
                },
                queue: function (t, e) {
                    function i(t, e, i) {
                        if (null != i && "function" != typeof i) throw new Error("task callback must be a function");
                        if (r.started = !0, null == t && r.idle()) setTimeout((function () {
                            r.drain()
                        }), 1);
                        else {
                            var o = {
                                data: t,
                                callback: "function" == typeof i ? i : n
                            };
                            e ? r._tasks.unshift(o) : r._tasks.push(o), setTimeout((function () {
                                r.process()
                            }), 1)
                        }
                    }

                    function s(t) {
                        return function () {
                            a -= 1, t.callback.apply(t, arguments), null != arguments[0] && r.error(arguments[0], t.data), a <= r.concurrency - r.buffer && r.unsaturated(), r.idle() && r.drain(), r.process()
                        }
                    }
                    if (null == e) e = 1;
                    else if (0 === e) throw new Error("Concurrency must not be zero");
                    var a = 0,
                        r = {
                            _tasks: [],
                            concurrency: e,
                            saturated: n,
                            unsaturated: n,
                            buffer: e / 4,
                            empty: n,
                            drain: n,
                            error: n,
                            started: !1,
                            paused: !1,
                            push: function (t, e) {
                                i(t, !1, e)
                            },
                            kill: function () {
                                r.drain = n, r._tasks = []
                            },
                            unshift: function (t, e) {
                                i(t, !0, e)
                            },
                            process: function () {
                                for (; !r.paused && a < r.concurrency && r._tasks.length;) {
                                    var e = r._tasks.shift();
                                    0 === r._tasks.length && r.empty(), (a += 1) === r.concurrency && r.saturated(), t(e.data, o(s(e)))
                                }
                            },
                            length: function () {
                                return r._tasks.length
                            },
                            running: function () {
                                return a
                            },
                            idle: function () {
                                return r._tasks.length + a === 0
                            },
                            pause: function () {
                                !0 !== r.paused && (r.paused = !0)
                            },
                            resume: function () {
                                if (!1 !== r.paused) {
                                    r.paused = !1;
                                    for (var t = 1; t <= r.concurrency; t++) r.process()
                                }
                            }
                        };
                    return r
                }
            }
        }, {}],
        13: [function (t, e, i) {
            e.exports = {
                _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                encodeBinary: function (t) {
                    for (var e, i = "", n = new Array(4), o = 0, s = 0; o < t.length;) {
                        for (e = new Array(3), s = 0; s < e.length; s++) o < t.length ? e[s] = 255 & t.charCodeAt(o++) : e[s] = 0;
                        switch (n[0] = e[0] >> 2, n[1] = (3 & e[0]) << 4 | e[1] >> 4, n[2] = (15 & e[1]) << 2 | e[2] >> 6, n[3] = 63 & e[2], o - (t.length - 1)) {
                            case 2:
                                n[3] = 64, n[2] = 64;
                                break;
                            case 1:
                                n[3] = 64
                        }
                        for (s = 0; s < n.length; s++) i += this._keyStr.charAt(n[s])
                    }
                    return i
                }
            }
        }, {}],
        14: [function (t, e, i) {
            e.exports = t("./Loader"), e.exports.Resource = t("./Resource"), e.exports.middleware = {
                caching: {
                    memory: t("./middlewares/caching/memory")
                },
                parsing: {
                    blob: t("./middlewares/parsing/blob")
                }
            }, e.exports.async = t("./async")
        }, {
            "./Loader": 10,
            "./Resource": 11,
            "./async": 12,
            "./middlewares/caching/memory": 15,
            "./middlewares/parsing/blob": 16
        }],
        15: [function (t, e, i) {
            var n = {};
            e.exports = function () {
                return function (t, e) {
                    n[t.url] ? (t.data = n[t.url], t.complete()) : t.once("complete", (function () {
                        n[this.url] = this.data
                    })), e()
                }
            }
        }, {}],
        16: [function (t, e, i) {
            var n = t("../../Resource"),
                o = t("../../b64"),
                s = window.URL || window.webkitURL;
            e.exports = function () {
                return function (t, e) {
                    if (t.data) {
                        if (t.xhr && t.xhrType === n.XHR_RESPONSE_TYPE.BLOB)
                            if (window.Blob && "string" != typeof t.data) {
                                if (0 === t.data.type.indexOf("image")) {
                                    var i = s.createObjectURL(t.data);
                                    return t.blob = t.data, t.data = new Image, t.data.src = i, t.isImage = !0, void(t.data.onload = function () {
                                        s.revokeObjectURL(i), t.data.onload = null, e()
                                    })
                                }
                            } else {
                                var a = t.xhr.getResponseHeader("content-type");
                                if (a && 0 === a.indexOf("image")) return t.data = new Image, t.data.src = "data:" + a + ";base64," + o.encodeBinary(t.xhr.responseText), t.isImage = !0, void(t.data.onload = function () {
                                    t.data.onload = null, e()
                                })
                            } e()
                    } else e()
                }
            }
        }, {
            "../../Resource": 11,
            "../../b64": 13
        }],
        17: [function (t, e, i) {
            e.exports = {
                name: "pixi.js",
                version: "3.0.2",
                description: "Pixi.js is a fast lightweight 2D library that works across all devices.",
                author: "Mat Groves",
                contributors: ["Chad Engler <chad@pantherdev.com>", "Richard Davey <rdavey@gmail.com>"],
                main: "./src/index.js",
                homepage: "http://goodboydigital.com/",
                bugs: "https://github.com/GoodBoyDigital/pixi.js/issues",
                license: "MIT",
                repository: {
                    type: "git",
                    url: "https://github.com/GoodBoyDigital/pixi.js.git"
                },
                scripts: {
                    test: "gulp && testem ci",
                    docs: "jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"
                },
                dependencies: {
                    async: "^0.9.0",
                    brfs: "^1.4.0",
                    eventemitter3: "^1.0.1",
                    "object-assign": "^2.0.0",
                    "resource-loader": "^1.5.2"
                },
                devDependencies: {
                    browserify: "^9.0.8",
                    chai: "^2.2.0",
                    del: "^1.1.1",
                    gulp: "^3.8.11",
                    "gulp-cached": "^1.0.4",
                    "gulp-concat": "^2.5.2",
                    "gulp-debug": "^2.0.1",
                    "gulp-jshint": "^1.10.0",
                    "gulp-mirror": "^0.4.0",
                    "gulp-plumber": "^1.0.0",
                    "gulp-rename": "^1.2.2",
                    "gulp-sourcemaps": "^1.5.2",
                    "gulp-uglify": "^1.2.0",
                    "gulp-util": "^3.0.4",
                    "ink-docstrap": "git+https://github.com/Pilatch/docstrap.git",
                    jsdoc: "^3.3.0-beta3",
                    "jshint-summary": "^0.4.0",
                    minimist: "^1.1.1",
                    mocha: "^2.2.4",
                    "require-dir": "^0.3.0",
                    "run-sequence": "^1.0.2",
                    testem: "^0.8.2",
                    "vinyl-buffer": "^1.0.0",
                    "vinyl-source-stream": "^1.1.0",
                    watchify: "^3.1.2"
                },
                browserify: {
                    transform: ["brfs"]
                }
            }
        }, {}],
        18: [function (t, e, i) {
            e.exports = {
                VERSION: t("../../package.json").version,
                PI_2: 2 * Math.PI,
                RAD_TO_DEG: 180 / Math.PI,
                DEG_TO_RAD: Math.PI / 180,
                TARGET_FPMS: .06,
                RENDERER_TYPE: {
                    UNKNOWN: 0,
                    WEBGL: 1,
                    CANVAS: 2
                },
                BLEND_MODES: {
                    NORMAL: 0,
                    ADD: 1,
                    MULTIPLY: 2,
                    SCREEN: 3,
                    OVERLAY: 4,
                    DARKEN: 5,
                    LIGHTEN: 6,
                    COLOR_DODGE: 7,
                    COLOR_BURN: 8,
                    HARD_LIGHT: 9,
                    SOFT_LIGHT: 10,
                    DIFFERENCE: 11,
                    EXCLUSION: 12,
                    HUE: 13,
                    SATURATION: 14,
                    COLOR: 15,
                    LUMINOSITY: 16,
                    SOURCE_OUT: 17,
                    SOURCE_IN: 18,
                    DESTINATION_OUT: 19,
                    DESTINATION_IN: 20
                },
                SCALE_MODES: {
                    DEFAULT: 0,
                    LINEAR: 0,
                    NEAREST: 1
                },
                RETINA_PREFIX: /@(.+)x/,
                RESOLUTION: 1,
                FILTER_RESOLUTION: 1,
                DEFAULT_RENDER_OPTIONS: {
                    view: null,
                    resolution: 1,
                    antialias: !1,
                    forceFXAA: !1,
                    autoResize: !1,
                    transparent: !1,
                    backgroundColor: 0,
                    clearBeforeRender: !0,
                    preserveDrawingBuffer: !1
                },
                SHAPES: {
                    POLY: 0,
                    RECT: 1,
                    CIRC: 2,
                    ELIP: 3,
                    RREC: 4
                },
                SPRITE_BATCH_SIZE: 2e3
            }
        }, {
            "../../package.json": 17
        }],
        19: [function (t, e, i) {
            function n() {
                s.call(this), this.children = []
            }
            var o = t("../math"),
                s = t("./DisplayObject"),
                a = t("../textures/RenderTexture"),
                r = new o.Matrix;
            n.prototype = Object.create(s.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                width: {
                    get: function () {
                        return this.scale.x * this.getLocalBounds().width
                    },
                    set: function (t) {
                        var e = this.getLocalBounds().width;
                        this.scale.x = 0 !== e ? t / e : 1, this._width = t
                    }
                },
                height: {
                    get: function () {
                        return this.scale.y * this.getLocalBounds().height
                    },
                    set: function (t) {
                        var e = this.getLocalBounds().height;
                        this.scale.y = 0 !== e ? t / e : 1, this._height = t
                    }
                }
            }), n.prototype.addChild = function (t) {
                return this.addChildAt(t, this.children.length)
            }, n.prototype.addChildAt = function (t, e) {
                if (t === this) return t;
                if (e >= 0 && e <= this.children.length) return t.parent && t.parent.removeChild(t), t.parent = this, this.children.splice(e, 0, t), t;
                throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length)
            }, n.prototype.swapChildren = function (t, e) {
                if (t !== e) {
                    var i = this.getChildIndex(t),
                        n = this.getChildIndex(e);
                    if (i < 0 || n < 0) throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");
                    this.children[i] = e, this.children[n] = t
                }
            }, n.prototype.getChildIndex = function (t) {
                var e = this.children.indexOf(t);
                if (-1 === e) throw new Error("The supplied DisplayObject must be a child of the caller");
                return e
            }, n.prototype.setChildIndex = function (t, e) {
                if (e < 0 || e >= this.children.length) throw new Error("The supplied index is out of bounds");
                var i = this.getChildIndex(t);
                this.children.splice(i, 1), this.children.splice(e, 0, t)
            }, n.prototype.getChildAt = function (t) {
                if (t < 0 || t >= this.children.length) throw new Error("getChildAt: Supplied index " + t + " does not exist in the child list, or the supplied DisplayObject is not a child of the caller");
                return this.children[t]
            }, n.prototype.removeChild = function (t) {
                var e = this.children.indexOf(t);
                if (-1 !== e) return this.removeChildAt(e)
            }, n.prototype.removeChildAt = function (t) {
                var e = this.getChildAt(t);
                return e.parent = null, this.children.splice(t, 1), e
            }, n.prototype.removeChildren = function (t, e) {
                var i = t || 0,
                    n = "number" == typeof e ? e : this.children.length,
                    o = n - i;
                if (o > 0 && o <= n) {
                    for (var s = this.children.splice(i, o), a = 0; a < s.length; ++a) s[a].parent = null;
                    return s
                }
                if (0 === o && 0 === this.children.length) return [];
                throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
            }, n.prototype.generateTexture = function (t, e, i) {
                var n = this.getLocalBounds(),
                    o = new a(t, 0 | n.width, 0 | n.height, t, i, e);
                return r.tx = -n.x, r.ty = -n.y, o.render(this, r), o
            }, n.prototype.updateTransform = function () {
                if (this.visible) {
                    if (0 != this.dirtyWT && (this.displayObjectUpdateTransform(), this.dirtyWT = !0), 0 != this.dirtyChildren || 0 != this.dirtyWT)
                        for (var t = 0, e = this.children.length; t < e; ++t) 1 == this.dirtyWT && (this.children[t].dirtyWT = !0), this.children[t].updateTransform();
                    this.dirtyWT = !1, this.dirtyChildren = !1
                }
            }, n.prototype.containerUpdateTransform = n.prototype.updateTransform, n.prototype.getBounds = function () {
                if (!this._currentBounds) {
                    if (0 === this.children.length) return o.Rectangle.EMPTY;
                    for (var t, e, i, n = 1 / 0, s = 1 / 0, a = -1 / 0, r = -1 / 0, l = !1, u = 0, h = this.children.length; u < h; ++u) {
                        this.children[u].visible && (l = !0, n = n < (t = this.children[u].getBounds()).x ? n : t.x, s = s < t.y ? s : t.y, a = a > (e = t.width + t.x) ? a : e, r = r > (i = t.height + t.y) ? r : i)
                    }
                    if (!l) return o.Rectangle.EMPTY;
                    var c = this._bounds;
                    c.x = n, c.y = s, c.width = a - n, c.height = r - s, this._currentBounds = c
                }
                return this._currentBounds
            }, n.prototype.containerGetBounds = n.prototype.getBounds, n.prototype.getLocalBounds = function () {
                var t = this.worldTransform;
                this.worldTransform = o.Matrix.IDENTITY;
                for (var e = 0, i = this.children.length; e < i; ++e) this.children[e].updateTransform();
                return this.worldTransform = t, this._currentBounds = null, this.getBounds(o.Matrix.IDENTITY)
            }, n.prototype.renderWebGL = function (t) {
                var e, i;
                if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                    if (this._mask || this._filters) {
                        for (t.currentRenderer.flush(), this._filters && t.filterManager.pushFilter(this, this._filters), this._mask && t.maskManager.pushMask(this, this._mask), t.currentRenderer.start(), this._renderWebGL(t), e = 0, i = this.children.length; e < i; e++) this.children[e].renderWebGL(t);
                        t.currentRenderer.flush(), this._mask && t.maskManager.popMask(this, this._mask), this._filters && t.filterManager.popFilter(), t.currentRenderer.start()
                    } else
                        for (this._renderWebGL(t), e = 0, i = this.children.length; e < i; ++e) this.children[e].renderWebGL(t)
            }, n.prototype._renderWebGL = function (t) {}, n.prototype._renderCanvas = function (t) {}, n.prototype.renderCanvas = function (t) {
                if (this.visible && !(this.alpha <= 0) && this.renderable) {
                    this._mask && t.maskManager.pushMask(this._mask, t), this._renderCanvas(t);
                    for (var e = 0, i = this.children.length; e < i; ++e) this.children[e].renderCanvas(t);
                    this._mask && t.maskManager.popMask(t)
                }
            }, n.prototype.destroy = function (t) {
                if (s.prototype.destroy.call(this), t)
                    for (var e = 0, i = this.children.length; e < i; ++e) this.children[e].destroy(t);
                this.removeChildren(), this.children = null
            }
        }, {
            "../math": 29,
            "../textures/RenderTexture": 67,
            "./DisplayObject": 20
        }],
        20: [function (t, e, i) {
            function n() {
                a.call(this), this.position = new o.Point, this.scale = new o.Point(1, 1), this.pivot = new o.Point(0, 0), this.rotation = 0, this.alpha = 1, this.visible = !0, this.renderable = !0, this.parent = null, this.worldAlpha = 1, this.worldTransform = new o.Matrix, this.filterArea = null, this._sr = 0, this._cr = 1, this._bounds = new o.Rectangle(0, 0, 1, 1), this._currentBounds = null, this._mask = null, this._cacheAsBitmap = !1, this._cachedObject = null
            }
            var o = t("../math"),
                s = t("../textures/RenderTexture"),
                a = t("eventemitter3"),
                r = t("../const"),
                l = new o.Matrix;
            n.prototype = Object.create(a.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                x: {
                    get: function () {
                        return this.position.x
                    },
                    set: function (t) {
                        this.position.x = t
                    }
                },
                y: {
                    get: function () {
                        return this.position.y
                    },
                    set: function (t) {
                        this.position.y = t
                    }
                },
                worldVisible: {
                    get: function () {
                        var t = this;
                        do {
                            if (!t.visible) return !1;
                            t = t.parent
                        } while (t);
                        return !0
                    }
                },
                mask: {
                    get: function () {
                        return this._mask
                    },
                    set: function (t) {
                        this._mask && (this._mask.renderable = !0), this._mask = t, this._mask && (this._mask.renderable = !1)
                    }
                },
                filters: {
                    get: function () {
                        return this._filters && this._filters.slice()
                    },
                    set: function (t) {
                        this._filters = t && t.slice()
                    }
                }
            }), n.prototype.updateTransform = function () {
                if (0 != this.dirtyWT) {
                    var t, e, i, n, o, s, a = this.parent.worldTransform,
                        l = this.worldTransform;
                    this.rotation % r.PI_2 ? (this.rotation !== this.rotationCache && (this.rotationCache = this.rotation, this._sr = Math.sin(this.rotation), this._cr = Math.cos(this.rotation)), t = this._cr * this.scale.x, e = this._sr * this.scale.x, i = -this._sr * this.scale.y, n = this._cr * this.scale.y, o = this.position.x, s = this.position.y, (this.pivot.x || this.pivot.y) && (o -= this.pivot.x * t + this.pivot.y * i, s -= this.pivot.x * e + this.pivot.y * n), l.a = t * a.a + e * a.c, l.b = t * a.b + e * a.d, l.c = i * a.a + n * a.c, l.d = i * a.b + n * a.d, l.tx = o * a.a + s * a.c + a.tx, l.ty = o * a.b + s * a.d + a.ty) : (t = this.scale.x, n = this.scale.y, o = this.position.x - this.pivot.x * t, s = this.position.y - this.pivot.y * n, l.a = t * a.a, l.b = t * a.b, l.c = n * a.c, l.d = n * a.d, l.tx = o * a.a + s * a.c + a.tx, l.ty = o * a.b + s * a.d + a.ty), this.worldAlpha = this.alpha * this.parent.worldAlpha, this._currentBounds = null, this.dirtyWT = !1
                }
            }, n.prototype.displayObjectUpdateTransform = n.prototype.updateTransform, n.prototype.getBounds = function (t) {
                return o.Rectangle.EMPTY
            }, n.prototype.getLocalBounds = function () {
                return this.getBounds(o.Matrix.IDENTITY)
            }, n.prototype.toGlobal = function (t) {
                return this.displayObjectUpdateTransform(), this.worldTransform.apply(t)
            }, n.prototype.toLocal = function (t, e) {
                return e && (t = e.toGlobal(t)), this.displayObjectUpdateTransform(), this.worldTransform.applyInverse(t)
            }, n.prototype.renderWebGL = function (t) {}, n.prototype.renderCanvas = function (t) {}, n.prototype.generateTexture = function (t, e, i) {
                var n = this.getLocalBounds(),
                    o = new s(t, 0 | n.width, 0 | n.height, t, i, e);
                return l.tx = -n.x, l.ty = -n.y, o.render(this, l), o
            }, n.prototype.destroy = function () {
                this.position = null, this.scale = null, this.pivot = null, this.parent = null, this._bounds = null, this._currentBounds = null, this._mask = null, this.worldTransform = null, this.filterArea = null
            }
        }, {
            "../const": 18,
            "../math": 29,
            "../textures/RenderTexture": 67,
            eventemitter3: 6
        }],
        21: [function (t, e, i) {
            function n() {
                o.call(this), this.fillAlpha = 1, this.lineWidth = 0, this.lineColor = 0, this.graphicsData = [], this.tint = 16777215, this._prevTint = 16777215, this.blendMode = c.BLEND_MODES.NORMAL, this.currentPath = null, this._webGL = {}, this.isMask = !1, this.boundsPadding = 0, this._localBounds = new h.Rectangle(0, 0, 1, 1), this.dirty = !0, this.glDirty = !1, this.boundsDirty = !0, this.cachedSpriteDirty = !1
            }
            var o = t("../display/Container"),
                s = t("../sprites/Sprite"),
                a = t("../textures/Texture"),
                r = t("../renderers/canvas/utils/CanvasBuffer"),
                l = t("../renderers/canvas/utils/CanvasGraphics"),
                u = t("./GraphicsData"),
                h = t("../math"),
                c = t("../const"),
                p = new h.Point;
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {}), n.prototype.clone = function () {
                var t = new n;
                t.renderable = this.renderable, t.fillAlpha = this.fillAlpha, t.lineWidth = this.lineWidth, t.lineColor = this.lineColor, t.tint = this.tint, t.blendMode = this.blendMode, t.isMask = this.isMask, t.boundsPadding = this.boundsPadding, t.dirty = this.dirty, t.glDirty = this.glDirty, t.cachedSpriteDirty = this.cachedSpriteDirty;
                for (var e = 0; e < this.graphicsData.length; ++e) t.graphicsData.push(this.graphicsData[e].clone());
                return t.currentPath = t.graphicsData[t.graphicsData.length - 1], t.updateLocalBounds(), t
            }, n.prototype.lineStyle = function (t, e, i) {
                return this.lineWidth = t || 0, this.lineColor = e || 0, this.lineAlpha = void 0 === i ? 1 : i, this.currentPath && (this.currentPath.shape.points.length ? this.drawShape(new h.Polygon(this.currentPath.shape.points.slice(-2))) : (this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha)), this
            }, n.prototype.moveTo = function (t, e) {
                return this.drawShape(new h.Polygon([t, e])), this
            }, n.prototype.lineTo = function (t, e) {
                return this.currentPath.shape.points.push(t, e), this.dirty = !0, this
            }, n.prototype.quadraticCurveTo = function (t, e, i, n) {
                this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                var o, s, a = this.currentPath.shape.points;
                0 === a.length && this.moveTo(0, 0);
                for (var r = a[a.length - 2], l = a[a.length - 1], u = 0, h = 1; h <= 20; ++h) o = r + (t - r) * (u = h / 20), s = l + (e - l) * u, a.push(o + (t + (i - t) * u - o) * u, s + (e + (n - e) * u - s) * u);
                return this.dirty = this.boundsDirty = !0, this
            }, n.prototype.bezierCurveTo = function (t, e, i, n, o, s) {
                this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                for (var a, r, l, u, h, c = this.currentPath.shape.points, p = c[c.length - 2], d = c[c.length - 1], m = 0, S = 1; S <= 20; ++S) l = (r = (a = 1 - (m = S / 20)) * a) * a, h = (u = m * m) * m, c.push(l * p + 3 * r * m * t + 3 * a * u * i + h * o, l * d + 3 * r * m * e + 3 * a * u * n + h * s);
                return this.dirty = this.boundsDirty = !0, this
            }, n.prototype.arcTo = function (t, e, i, n, o) {
                this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(t, e) : this.moveTo(t, e);
                var s = this.currentPath.shape.points,
                    a = s[s.length - 2],
                    r = s[s.length - 1] - e,
                    l = a - t,
                    u = n - e,
                    h = i - t,
                    c = Math.abs(r * h - l * u);
                if (c < 1e-8 || 0 === o) s[s.length - 2] === t && s[s.length - 1] === e || s.push(t, e);
                else {
                    var p = r * r + l * l,
                        d = u * u + h * h,
                        m = r * u + l * h,
                        S = o * Math.sqrt(p) / c,
                        g = o * Math.sqrt(d) / c,
                        y = S * m / p,
                        f = g * m / d,
                        b = S * h + g * l,
                        T = S * u + g * r,
                        C = l * (g + y),
                        A = r * (g + y),
                        v = h * (S + f),
                        M = u * (S + f),
                        L = Math.atan2(A - T, C - b),
                        I = Math.atan2(M - T, v - b);
                    this.arc(b + t, T + e, o, L, I, l * u > h * r)
                }
                return this.dirty = this.boundsDirty = !0, this
            }, n.prototype.arc = function (t, e, i, n, o, s) {
                if (n === o) return this;
                !(s = s || !1) && o <= n ? o += 2 * Math.PI : s && n <= o && (n += 2 * Math.PI);
                var a = s ? -1 * (n - o) : o - n,
                    r = 40 * Math.ceil(Math.abs(a) / (2 * Math.PI));
                if (0 === a) return this;
                var l = t + Math.cos(n) * i,
                    u = e + Math.sin(n) * i;
                this.currentPath ? s && this.filling ? this.currentPath.shape.points.push(t, e) : this.currentPath.shape.points.push(l, u) : s && this.filling ? this.moveTo(t, e) : this.moveTo(l, u);
                for (var h = this.currentPath.shape.points, c = a / (2 * r), p = 2 * c, d = Math.cos(c), m = Math.sin(c), S = r - 1, g = S % 1 / S, y = 0; y <= S; y++) {
                    var f = c + n + p * (y + g * y),
                        b = Math.cos(f),
                        T = -Math.sin(f);
                    h.push((d * b + m * T) * i + t, (d * -T + m * b) * i + e)
                }
                return this.dirty = this.boundsDirty = !0, this
            }, n.prototype.beginFill = function (t, e) {
                return this.filling = !0, this.fillColor = t || 0, this.fillAlpha = void 0 === e ? 1 : e, this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha), this
            }, n.prototype.endFill = function () {
                return this.filling = !1, this.fillColor = null, this.fillAlpha = 1, this
            }, n.prototype.drawRect = function (t, e, i, n) {
                return this.drawShape(new h.Rectangle(t, e, i, n)), this
            }, n.prototype.drawRoundedRect = function (t, e, i, n, o) {
                return this.drawShape(new h.RoundedRectangle(t, e, i, n, o)), this
            }, n.prototype.drawCircle = function (t, e, i) {
                return this.drawShape(new h.Circle(t, e, i)), this
            }, n.prototype.drawEllipse = function (t, e, i, n) {
                return this.drawShape(new h.Ellipse(t, e, i, n)), this
            }, n.prototype.drawPolygon = function (t) {
                var e = t;
                if (!Array.isArray(e)) {
                    e = new Array(arguments.length);
                    for (var i = 0; i < e.length; ++i) e[i] = arguments[i]
                }
                return this.drawShape(new h.Polygon(e)), this
            }, n.prototype.clear = function () {
                return this.lineWidth = 0, this.filling = !1, this.dirty = !0, this.clearDirty = !0, this.graphicsData = [], this
            }, n.prototype.generateTexture = function (t, e, i) {
                e = e || 1;
                var n = this.getLocalBounds(),
                    o = new r(n.width * e, n.height * e),
                    s = a.fromCanvas(o.canvas, i);
                return s.baseTexture.resolution = e, o.context.scale(e, e), o.context.translate(-n.x, -n.y), l.renderGraphics(this, o.context), s
            }, n.prototype._renderWebGL = function (t) {
                this.glDirty && (this.dirty = !0, this.glDirty = !1), t.setObjectRenderer(t.plugins.graphics), t.plugins.graphics.render(this)
            }, n.prototype._renderCanvas = function (t) {
                if (!0 !== this.isMask) {
                    if (this._prevTint !== this.tint && (this.dirty = !0, this._prevTint = this.tint), this._cacheAsBitmap) return (this.dirty || this.cachedSpriteDirty) && (this._generateCachedSprite(), this.updateCachedSpriteTexture(), this.cachedSpriteDirty = !1, this.dirty = !1), this._cachedSprite.alpha = this.alpha, void s.prototype._renderCanvas.call(this._cachedSprite, t);
                    var e = t.context,
                        i = this.worldTransform;
                    this.blendMode !== t.currentBlendMode && (t.currentBlendMode = this.blendMode, e.globalCompositeOperation = t.blendModes[t.currentBlendMode]);
                    var n = t.resolution;
                    e.setTransform(i.a * n, i.b * n, i.c * n, i.d * n, i.tx * n, i.ty * n), l.renderGraphics(this, e)
                }
            }, n.prototype.getBounds = function (t) {
                if (!this._currentBounds) {
                    if (!this.renderable) return h.Rectangle.EMPTY;
                    this.boundsDirty && (this.updateLocalBounds(), this.glDirty = !0, this.cachedSpriteDirty = !0, this.boundsDirty = !1);
                    var e = this._localBounds,
                        i = e.x,
                        n = e.width + e.x,
                        o = e.y,
                        s = e.height + e.y,
                        a = t || this.worldTransform,
                        r = a.a,
                        l = a.b,
                        u = a.c,
                        c = a.d,
                        p = a.tx,
                        d = a.ty,
                        m = r * n + u * s + p,
                        S = c * s + l * n + d,
                        g = r * i + u * s + p,
                        y = c * s + l * i + d,
                        f = r * i + u * o + p,
                        b = c * o + l * i + d,
                        T = r * n + u * o + p,
                        C = c * o + l * n + d,
                        A = m,
                        v = S,
                        M = m,
                        L = S;
                    M = T < (M = f < (M = g < M ? g : M) ? f : M) ? T : M, L = C < (L = b < (L = y < L ? y : L) ? b : L) ? C : L, A = T > (A = f > (A = g > A ? g : A) ? f : A) ? T : A, v = C > (v = b > (v = y > v ? y : v) ? b : v) ? C : v, this._bounds.x = M, this._bounds.width = A - M, this._bounds.y = L, this._bounds.height = v - L, this._currentBounds = this._bounds
                }
                return this._currentBounds
            }, n.prototype.containsPoint = function (t) {
                this.worldTransform.applyInverse(t, p);
                for (var e = this.graphicsData, i = 0; i < e.length; i++) {
                    var n = e[i];
                    if (n.fill && n.shape && n.shape.contains(p.x, p.y)) return !0
                }
                return !1
            }, n.prototype.updateLocalBounds = function () {
                var t = 1 / 0,
                    e = -1 / 0,
                    i = 1 / 0,
                    n = -1 / 0;
                if (this.graphicsData.length)
                    for (var o, s, a, r, l, u, h = 0; h < this.graphicsData.length; h++) {
                        var p = this.graphicsData[h],
                            d = p.type,
                            m = p.lineWidth;
                        if (o = p.shape, d === c.SHAPES.RECT || d === c.SHAPES.RREC) a = o.x - m / 2, r = o.y - m / 2, t = a < t ? a : t, e = a + (l = o.width + m) > e ? a + l : e, i = r < i ? r : i, n = r + (u = o.height + m) > n ? r + u : n;
                        else if (d === c.SHAPES.CIRC) a = o.x, r = o.y, t = a - (l = o.radius + m / 2) < t ? a - l : t, e = a + l > e ? a + l : e, i = r - (u = o.radius + m / 2) < i ? r - u : i, n = r + u > n ? r + u : n;
                        else if (d === c.SHAPES.ELIP) a = o.x, r = o.y, t = a - (l = o.width + m / 2) < t ? a - l : t, e = a + l > e ? a + l : e, i = r - (u = o.height + m / 2) < i ? r - u : i, n = r + u > n ? r + u : n;
                        else {
                            s = o.points;
                            for (var S = 0; S < s.length; S += 2) t = (a = s[S]) - m < t ? a - m : t, e = a + m > e ? a + m : e, i = (r = s[S + 1]) - m < i ? r - m : i, n = r + m > n ? r + m : n
                        }
                    } else t = 0, e = 0, i = 0, n = 0;
                var g = this.boundsPadding;
                this._localBounds.x = t - g, this._localBounds.width = e - t + 2 * g, this._localBounds.y = i - g, this._localBounds.height = n - i + 2 * g
            }, n.prototype.drawShape = function (t) {
                this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(), this.currentPath = null;
                var e = new u(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, t);
                return this.graphicsData.push(e), e.type === c.SHAPES.POLY && (e.shape.closed = this.filling, this.currentPath = e), this.dirty = this.boundsDirty = !0, e
            }, n.prototype.destroy = function () {
                o.prototype.destroy.apply(this, arguments);
                for (var t = 0; t < this.graphicsData.length; ++t) this.graphicsData[t].destroy();
                for (var e in this._webgl)
                    for (var i = 0; i < this._webgl[e].data.length; ++i) this._webgl[e].data[i].destroy();
                this.graphicsData = null, this.currentPath = null, this._webgl = null, this._localBounds = null
            }
        }, {
            "../const": 18,
            "../display/Container": 19,
            "../math": 29,
            "../renderers/canvas/utils/CanvasBuffer": 41,
            "../renderers/canvas/utils/CanvasGraphics": 42,
            "../sprites/Sprite": 63,
            "../textures/Texture": 68,
            "./GraphicsData": 22
        }],
        22: [function (t, e, i) {
            function n(t, e, i, n, o, s, a) {
                this.lineWidth = t, this.lineColor = e, this.lineAlpha = i, this._lineTint = e, this.fillColor = n, this.fillAlpha = o, this._fillTint = n, this.fill = s, this.shape = a, this.type = a.type
            }
            n.prototype.constructor = n, e.exports = n, n.prototype.clone = function () {
                return new n(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.shape)
            }, n.prototype.destroy = function () {
                this.shape = null
            }
        }, {}],
        23: [function (t, e, i) {
            function n(t) {
                r.call(this, t), this.graphicsDataPool = [], this.primitiveShader = null, this.complexPrimitiveShader = null
            }
            var o = t("../../utils"),
                s = t("../../math"),
                a = t("../../const"),
                r = t("../../renderers/webgl/utils/ObjectRenderer"),
                l = t("../../renderers/webgl/WebGLRenderer"),
                u = t("./WebGLGraphicsData");
            n.prototype = Object.create(r.prototype), n.prototype.constructor = n, e.exports = n, l.registerPlugin("graphics", n), n.prototype.onContextChange = function () {}, n.prototype.destroy = function () {
                r.prototype.destroy.call(this);
                for (var t = 0; t < this.graphicsDataPool.length; ++t) this.graphicsDataPool[t].destroy();
                this.graphicsDataPool = null
            }, n.prototype.render = function (t) {
                var e, i = this.renderer,
                    n = i.gl,
                    s = i.shaderManager.plugins.primitiveShader;
                t.dirty && this.updateGraphics(t, n);
                var a = t._webGL[n.id];
                i.blendModeManager.setBlendMode(t.blendMode);
                for (var r = 0; r < a.data.length; r++) 1 === a.data[r].mode ? (e = a.data[r], i.stencilManager.pushStencil(t, e, i), n.drawElements(n.TRIANGLE_FAN, 4, n.UNSIGNED_SHORT, 2 * (e.indices.length - 4)), i.stencilManager.popStencil(t, e, i)) : (e = a.data[r], s = i.shaderManager.primitiveShader, i.shaderManager.setShader(s), n.uniformMatrix3fv(s.uniforms.translationMatrix._location, !1, t.worldTransform.toArray(!0)), n.uniformMatrix3fv(s.uniforms.projectionMatrix._location, !1, i.currentRenderTarget.projectionMatrix.toArray(!0)), n.uniform3fv(s.uniforms.tint._location, o.hex2rgb(t.tint)), n.uniform1f(s.uniforms.alpha._location, t.worldAlpha), n.bindBuffer(n.ARRAY_BUFFER, e.buffer), n.vertexAttribPointer(s.attributes.aVertexPosition, 2, n.FLOAT, !1, 24, 0), n.vertexAttribPointer(s.attributes.aColor, 4, n.FLOAT, !1, 24, 8), n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, e.indexBuffer), n.drawElements(n.TRIANGLE_STRIP, e.indices.length, n.UNSIGNED_SHORT, 0))
            }, n.prototype.updateGraphics = function (t) {
                var e, i, n = this.renderer.gl,
                    o = t._webGL[n.id];
                if (o || (o = t._webGL[n.id] = {
                        lastIndex: 0,
                        data: [],
                        gl: n
                    }), t.dirty = !1, t.clearDirty) {
                    for (t.clearDirty = !1, e = 0; e < o.data.length; e++) {
                        var s = o.data[e];
                        s.reset(), this.graphicsDataPool.push(s)
                    }
                    o.data = [], o.lastIndex = 0
                }
                for (e = o.lastIndex; e < t.graphicsData.length; e++) {
                    var r = t.graphicsData[e];
                    if (r.type === a.SHAPES.POLY) {
                        if (r.points = r.shape.points.slice(), r.shape.closed && (r.points[0] === r.points[r.points.length - 2] && r.points[1] === r.points[r.points.length - 1] || r.points.push(r.points[0], r.points[1])), r.fill && r.points.length >= 6)
                            if (r.points.length < 12) {
                                i = this.switchMode(o, 0), this.buildPoly(r, i) || (i = this.switchMode(o, 1), this.buildComplexPoly(r, i))
                            } else i = this.switchMode(o, 1), this.buildComplexPoly(r, i);
                        r.lineWidth > 0 && (i = this.switchMode(o, 0), this.buildLine(r, i))
                    } else i = this.switchMode(o, 0), r.type === a.SHAPES.RECT ? this.buildRectangle(r, i) : r.type === a.SHAPES.CIRC || r.type === a.SHAPES.ELIP ? this.buildCircle(r, i) : r.type === a.SHAPES.RREC && this.buildRoundedRectangle(r, i);
                    o.lastIndex++
                }
                for (e = 0; e < o.data.length; e++)(i = o.data[e]).dirty && i.upload()
            }, n.prototype.switchMode = function (t, e) {
                var i;
                return t.data.length ? ((i = t.data[t.data.length - 1]).points.length > 32e4 || i.mode !== e || 1 === e) && ((i = this.graphicsDataPool.pop() || new u(t.gl)).mode = e, t.data.push(i)) : ((i = this.graphicsDataPool.pop() || new u(t.gl)).mode = e, t.data.push(i)), i.dirty = !0, i
            }, n.prototype.buildRectangle = function (t, e) {
                var i = t.shape,
                    n = i.x,
                    s = i.y,
                    a = i.width,
                    r = i.height;
                if (t.fill) {
                    var l = o.hex2rgb(t.fillColor),
                        u = t.fillAlpha,
                        h = l[0] * u,
                        c = l[1] * u,
                        p = l[2] * u,
                        d = e.points,
                        m = e.indices,
                        S = d.length / 6;
                    d.push(n, s), d.push(h, c, p, u), d.push(n + a, s), d.push(h, c, p, u), d.push(n, s + r), d.push(h, c, p, u), d.push(n + a, s + r), d.push(h, c, p, u), m.push(S, S, S + 1, S + 2, S + 3, S + 3)
                }
                if (t.lineWidth) {
                    var g = t.points;
                    t.points = [n, s, n + a, s, n + a, s + r, n, s + r, n, s], this.buildLine(t, e), t.points = g
                }
            }, n.prototype.buildRoundedRectangle = function (t, e) {
                var i = t.shape,
                    n = i.x,
                    s = i.y,
                    a = i.width,
                    r = i.height,
                    l = i.radius,
                    u = [];
                if (u.push(n, s + l), this.quadraticBezierCurve(n, s + r - l, n, s + r, n + l, s + r, u), this.quadraticBezierCurve(n + a - l, s + r, n + a, s + r, n + a, s + r - l, u), this.quadraticBezierCurve(n + a, s + l, n + a, s, n + a - l, s, u), this.quadraticBezierCurve(n + l, s, n, s, n, s + l + 1e-10, u), t.fill) {
                    var h = o.hex2rgb(t.fillColor),
                        c = t.fillAlpha,
                        p = h[0] * c,
                        d = h[1] * c,
                        m = h[2] * c,
                        S = e.points,
                        g = e.indices,
                        y = S.length / 6,
                        f = o.PolyK.Triangulate(u),
                        b = 0;
                    for (b = 0; b < f.length; b += 3) g.push(f[b] + y), g.push(f[b] + y), g.push(f[b + 1] + y), g.push(f[b + 2] + y), g.push(f[b + 2] + y);
                    for (b = 0; b < u.length; b++) S.push(u[b], u[++b], p, d, m, c)
                }
                if (t.lineWidth) {
                    var T = t.points;
                    t.points = u, this.buildLine(t, e), t.points = T
                }
            }, n.prototype.quadraticBezierCurve = function (t, e, i, n, o, s, a) {
                function r(t, e, i) {
                    return t + (e - t) * i
                }
                for (var l, u, h, c, p, d, m = a || [], S = 0, g = 0; g <= 20; g++) l = r(t, i, S = g / 20), u = r(e, n, S), h = r(i, o, S), c = r(n, s, S), p = r(l, h, S), d = r(u, c, S), m.push(p, d);
                return m
            }, n.prototype.buildCircle = function (t, e) {
                var i, n, s = t.shape,
                    r = s.x,
                    l = s.y;
                t.type === a.SHAPES.CIRC ? (i = s.radius, n = s.radius) : (i = s.width, n = s.height);
                var u = 2 * Math.PI / 40,
                    h = 0;
                if (t.fill) {
                    var c = o.hex2rgb(t.fillColor),
                        p = t.fillAlpha,
                        d = c[0] * p,
                        m = c[1] * p,
                        S = c[2] * p,
                        g = e.points,
                        y = e.indices,
                        f = g.length / 6;
                    for (y.push(f), h = 0; h < 41; h++) g.push(r, l, d, m, S, p), g.push(r + Math.sin(u * h) * i, l + Math.cos(u * h) * n, d, m, S, p), y.push(f++, f++);
                    y.push(f - 1)
                }
                if (t.lineWidth) {
                    var b = t.points;
                    for (t.points = [], h = 0; h < 41; h++) t.points.push(r + Math.sin(u * h) * i, l + Math.cos(u * h) * n);
                    this.buildLine(t, e), t.points = b
                }
            }, n.prototype.buildLine = function (t, e) {
                var i = 0,
                    n = t.points;
                if (0 !== n.length) {
                    if (t.lineWidth % 2)
                        for (i = 0; i < n.length; i++) n[i] += .5;
                    var a = new s.Point(n[0], n[1]),
                        r = new s.Point(n[n.length - 2], n[n.length - 1]);
                    if (a.x === r.x && a.y === r.y) {
                        (n = n.slice()).pop(), n.pop();
                        var l = (r = new s.Point(n[n.length - 2], n[n.length - 1])).x + .5 * (a.x - r.x),
                            u = r.y + .5 * (a.y - r.y);
                        n.unshift(l, u), n.push(l, u)
                    }
                    var h, c, p, d, m, S, g, y, f, b, T, C, A, v, M, L, I, P, R, _, E, D, O = e.points,
                        w = e.indices,
                        x = n.length / 2,
                        B = n.length,
                        k = O.length / 6,
                        V = t.lineWidth / 2,
                        G = o.hex2rgb(t.lineColor),
                        F = t.lineAlpha,
                        j = G[0] * F,
                        U = G[1] * F,
                        N = G[2] * F;
                    for (p = n[0], d = n[1], m = n[2], f = -(d - (S = n[3])), b = p - m, f /= D = Math.sqrt(f * f + b * b), b /= D, f *= V, b *= V, O.push(p - f, d - b, j, U, N, F), O.push(p + f, d + b, j, U, N, F), i = 1; i < x - 1; i++) p = n[2 * (i - 1)], d = n[2 * (i - 1) + 1], m = n[2 * i], S = n[2 * i + 1], g = n[2 * (i + 1)], y = n[2 * (i + 1) + 1], f = -(d - S), b = p - m, f /= D = Math.sqrt(f * f + b * b), b /= D, f *= V, b *= V, T = -(S - y), C = m - g, T /= D = Math.sqrt(T * T + C * C), C /= D, I = (-f + p) * (-b + S) - (-f + m) * (-b + d), _ = (-(T *= V) + g) * (-(C *= V) + S) - (-T + m) * (-C + y), E = (M = -b + d - (-b + S)) * (R = -T + m - (-T + g)) - (P = -C + y - (-C + S)) * (L = -f + m - (-f + p)), Math.abs(E) < .1 ? (E += 10.1, O.push(m - f, S - b, j, U, N, F), O.push(m + f, S + b, j, U, N, F)) : ((h = (L * _ - R * I) / E) - m) * (h - m) + ((c = (P * I - M * _) / E) - S) + (c - S) > 19600 ? (A = f - T, v = b - C, A /= D = Math.sqrt(A * A + v * v), v /= D, A *= V, v *= V, O.push(m - A, S - v), O.push(j, U, N, F), O.push(m + A, S + v), O.push(j, U, N, F), O.push(m - A, S - v), O.push(j, U, N, F), B++) : (O.push(h, c), O.push(j, U, N, F), O.push(m - (h - m), S - (c - S)), O.push(j, U, N, F));
                    for (p = n[2 * (x - 2)], d = n[2 * (x - 2) + 1], m = n[2 * (x - 1)], f = -(d - (S = n[2 * (x - 1) + 1])), b = p - m, f /= D = Math.sqrt(f * f + b * b), b /= D, f *= V, b *= V, O.push(m - f, S - b), O.push(j, U, N, F), O.push(m + f, S + b), O.push(j, U, N, F), w.push(k), i = 0; i < B; i++) w.push(k++);
                    w.push(k - 1)
                }
            }, n.prototype.buildComplexPoly = function (t, e) {
                var i = t.points.slice();
                if (!(i.length < 6)) {
                    var n = e.indices;
                    e.points = i, e.alpha = t.fillAlpha, e.color = o.hex2rgb(t.fillColor);
                    for (var s, a, r = 1 / 0, l = -1 / 0, u = 1 / 0, h = -1 / 0, c = 0; c < i.length; c += 2) r = (s = i[c]) < r ? s : r, l = s > l ? s : l, u = (a = i[c + 1]) < u ? a : u, h = a > h ? a : h;
                    i.push(r, u, l, u, l, h, r, h);
                    var p = i.length / 2;
                    for (c = 0; c < p; c++) n.push(c)
                }
            }, n.prototype.buildPoly = function (t, e) {
                var i = t.points;
                if (!(i.length < 6)) {
                    var n = e.points,
                        s = e.indices,
                        a = i.length / 2,
                        r = o.hex2rgb(t.fillColor),
                        l = t.fillAlpha,
                        u = r[0] * l,
                        h = r[1] * l,
                        c = r[2] * l,
                        p = o.PolyK.Triangulate(i);
                    if (!p) return !1;
                    var d = n.length / 6,
                        m = 0;
                    for (m = 0; m < p.length; m += 3) s.push(p[m] + d), s.push(p[m] + d), s.push(p[m + 1] + d), s.push(p[m + 2] + d), s.push(p[m + 2] + d);
                    for (m = 0; m < a; m++) n.push(i[2 * m], i[2 * m + 1], u, h, c, l);
                    return !0
                }
            }
        }, {
            "../../const": 18,
            "../../math": 29,
            "../../renderers/webgl/WebGLRenderer": 45,
            "../../renderers/webgl/utils/ObjectRenderer": 59,
            "../../utils": 72,
            "./WebGLGraphicsData": 24
        }],
        24: [function (t, e, i) {
            function n(t) {
                this.gl = t, this.color = [0, 0, 0], this.points = [], this.indices = [], this.buffer = t.createBuffer(), this.indexBuffer = t.createBuffer(), this.mode = 1, this.alpha = 1, this.dirty = !0, this.glPoints = null, this.glIndices = null
            }
            n.prototype.constructor = n, e.exports = n, n.prototype.reset = function () {
                this.points.length = 0, this.indices.length = 0
            }, n.prototype.upload = function () {
                var t = this.gl;
                this.glPoints = new Float32Array(this.points), t.bindBuffer(t.ARRAY_BUFFER, this.buffer), t.bufferData(t.ARRAY_BUFFER, this.glPoints, t.STATIC_DRAW), this.glIndices = new Uint16Array(this.indices), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer), t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.glIndices, t.STATIC_DRAW), this.dirty = !1
            }, n.prototype.destroy = function () {
                this.gl = null, this.color = null, this.points = null, this.indices = null, this.gl.deleteBuffer(this.buffer), this.gl.deleteBuffer(this.indexBuffer), this.buffer = null, this.indexBuffer = null, this.glPoints = null, this.glIndices = null
            }
        }, {}],
        25: [function (t, e, i) {
            var n = e.exports = Object.assign(t("./const"), t("./math"), {
                utils: t("./utils"),
                math: t("./math"),
                DisplayObject: t("./display/DisplayObject"),
                Container: t("./display/Container"),
                Sprite: t("./sprites/Sprite"),
                ParticleContainer: t("./particles/ParticleContainer"),
                SpriteRenderer: t("./sprites/webgl/SpriteRenderer"),
                ParticleRenderer: t("./particles/webgl/ParticleRenderer"),
                Text: t("./text/Text"),
                Graphics: t("./graphics/Graphics"),
                GraphicsData: t("./graphics/GraphicsData"),
                GraphicsRenderer: t("./graphics/webgl/GraphicsRenderer"),
                Texture: t("./textures/Texture"),
                BaseTexture: t("./textures/BaseTexture"),
                RenderTexture: t("./textures/RenderTexture"),
                VideoBaseTexture: t("./textures/VideoBaseTexture"),
                TextureUvs: t("./textures/TextureUvs"),
                CanvasRenderer: t("./renderers/canvas/CanvasRenderer"),
                CanvasGraphics: t("./renderers/canvas/utils/CanvasGraphics"),
                CanvasBuffer: t("./renderers/canvas/utils/CanvasBuffer"),
                WebGLRenderer: t("./renderers/webgl/WebGLRenderer"),
                ShaderManager: t("./renderers/webgl/managers/ShaderManager"),
                Shader: t("./renderers/webgl/shaders/Shader"),
                ObjectRenderer: t("./renderers/webgl/utils/ObjectRenderer"),
                RenderTarget: t("./renderers/webgl/utils/RenderTarget"),
                AbstractFilter: t("./renderers/webgl/filters/AbstractFilter"),
                autoDetectRenderer: function (t, e, i, o) {
                    return t = t || 800, e = e || 600, !o && n.utils.isWebGLSupported() ? new n.WebGLRenderer(t, e, i) : new n.CanvasRenderer(t, e, i)
                }
            })
        }, {
            "./const": 18,
            "./display/Container": 19,
            "./display/DisplayObject": 20,
            "./graphics/Graphics": 21,
            "./graphics/GraphicsData": 22,
            "./graphics/webgl/GraphicsRenderer": 23,
            "./math": 29,
            "./particles/ParticleContainer": 35,
            "./particles/webgl/ParticleRenderer": 37,
            "./renderers/canvas/CanvasRenderer": 40,
            "./renderers/canvas/utils/CanvasBuffer": 41,
            "./renderers/canvas/utils/CanvasGraphics": 42,
            "./renderers/webgl/WebGLRenderer": 45,
            "./renderers/webgl/filters/AbstractFilter": 46,
            "./renderers/webgl/managers/ShaderManager": 52,
            "./renderers/webgl/shaders/Shader": 57,
            "./renderers/webgl/utils/ObjectRenderer": 59,
            "./renderers/webgl/utils/RenderTarget": 61,
            "./sprites/Sprite": 63,
            "./sprites/webgl/SpriteRenderer": 64,
            "./text/Text": 65,
            "./textures/BaseTexture": 66,
            "./textures/RenderTexture": 67,
            "./textures/Texture": 68,
            "./textures/TextureUvs": 69,
            "./textures/VideoBaseTexture": 70,
            "./utils": 72
        }],
        26: [function (t, e, i) {
            function n(t) {
                return t < 0 ? -1 : t > 0 ? 1 : 0
            }
            var o = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
                s = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
                a = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
                r = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
                l = [],
                u = t("./Matrix"),
                h = [];
            ! function () {
                for (var t = 0; t < 16; t++) {
                    var e = [];
                    h.push(e);
                    for (var i = 0; i < 16; i++)
                        for (var c = n(o[t] * o[i] + a[t] * s[i]), p = n(s[t] * o[i] + r[t] * s[i]), d = n(o[t] * a[i] + a[t] * r[i]), m = n(s[t] * a[i] + r[t] * r[i]), S = 0; S < 16; S++)
                            if (o[S] === c && s[S] === p && a[S] === d && r[S] === m) {
                                e.push(S);
                                break
                            }
                }
                for (t = 0; t < 16; t++) {
                    var g = new u;
                    g.set(o[t], s[t], a[t], r[t], 0, 0), l.push(g)
                }
            }();
            var c = {
                E: 0,
                SE: 1,
                S: 2,
                SW: 3,
                W: 4,
                NW: 5,
                N: 6,
                NE: 7,
                MIRROR_VERTICAL: 8,
                MIRROR_HORIZONTAL: 12,
                uX: function (t) {
                    return o[t]
                },
                uY: function (t) {
                    return s[t]
                },
                vX: function (t) {
                    return a[t]
                },
                vY: function (t) {
                    return r[t]
                },
                inv: function (t) {
                    return 8 & t ? 15 & t : 7 & -t
                },
                add: function (t, e) {
                    return h[t][e]
                },
                sub: function (t, e) {
                    return h[t][c.inv(e)]
                },
                rotate180: function (t) {
                    return 4 ^ t
                },
                isSwapWidthHeight: function (t) {
                    return 2 == (3 & t)
                },
                byDirection: function (t, e) {
                    return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? c.S : c.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? c.E : c.W : e > 0 ? t > 0 ? c.SE : c.SW : t > 0 ? c.NE : c.NW
                },
                matrixAppendRotationInv: function (t, e, i, n) {
                    var o = l[c.inv(e)];
                    i = i || 0, n = n || 0, o.tx = i, o.ty = n, t.append(o)
                }
            };
            e.exports = c
        }, {
            "./Matrix": 27
        }],
        27: [function (t, e, i) {
            function n() {
                this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0
            }
            var o = t("./Point");
            n.prototype.constructor = n, e.exports = n, n.prototype.fromArray = function (t) {
                this.a = t[0], this.b = t[1], this.c = t[3], this.d = t[4], this.tx = t[2], this.ty = t[5]
            }, n.prototype.set = function (t, e, i, n, o, s) {
                return this.a = t, this.b = e, this.c = i, this.d = n, this.tx = o, this.ty = s, this
            }, n.prototype.toArray = function (t) {
                this.array || (this.array = new Float32Array(9));
                var e = this.array;
                return t ? (e[0] = this.a, e[1] = this.b, e[2] = 0, e[3] = this.c, e[4] = this.d, e[5] = 0, e[6] = this.tx, e[7] = this.ty, e[8] = 1) : (e[0] = this.a, e[1] = this.c, e[2] = this.tx, e[3] = this.b, e[4] = this.d, e[5] = this.ty, e[6] = 0, e[7] = 0, e[8] = 1), e
            }, n.prototype.apply = function (t, e) {
                e = e || new o;
                var i = t.x,
                    n = t.y;
                return e.x = this.a * i + this.c * n + this.tx, e.y = this.b * i + this.d * n + this.ty, e
            }, n.prototype.applyInverse = function (t, e) {
                e = e || new o;
                var i = 1 / (this.a * this.d + this.c * -this.b),
                    n = t.x,
                    s = t.y;
                return e.x = this.d * i * n + -this.c * i * s + (this.ty * this.c - this.tx * this.d) * i, e.y = this.a * i * s + -this.b * i * n + (-this.ty * this.a + this.tx * this.b) * i, e
            }, n.prototype.translate = function (t, e) {
                return this.tx += t, this.ty += e, this
            }, n.prototype.scale = function (t, e) {
                return this.a *= t, this.d *= e, this.c *= t, this.b *= e, this.tx *= t, this.ty *= e, this
            }, n.prototype.rotate = function (t) {
                var e = Math.cos(t),
                    i = Math.sin(t),
                    n = this.a,
                    o = this.c,
                    s = this.tx;
                return this.a = n * e - this.b * i, this.b = n * i + this.b * e, this.c = o * e - this.d * i, this.d = o * i + this.d * e, this.tx = s * e - this.ty * i, this.ty = s * i + this.ty * e, this
            }, n.prototype.append = function (t) {
                var e = this.a,
                    i = this.b,
                    n = this.c,
                    o = this.d;
                return this.a = t.a * e + t.b * n, this.b = t.a * i + t.b * o, this.c = t.c * e + t.d * n, this.d = t.c * i + t.d * o, this.tx = t.tx * e + t.ty * n + this.tx, this.ty = t.tx * i + t.ty * o + this.ty, this
            }, n.prototype.prepend = function (t) {
                var e = this.tx;
                if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) {
                    var i = this.a,
                        n = this.c;
                    this.a = i * t.a + this.b * t.c, this.b = i * t.b + this.b * t.d, this.c = n * t.a + this.d * t.c, this.d = n * t.b + this.d * t.d
                }
                return this.tx = e * t.a + this.ty * t.c + t.tx, this.ty = e * t.b + this.ty * t.d + t.ty, this
            }, n.prototype.invert = function () {
                var t = this.a,
                    e = this.b,
                    i = this.c,
                    n = this.d,
                    o = this.tx,
                    s = t * n - e * i;
                return this.a = n / s, this.b = -e / s, this.c = -i / s, this.d = t / s, this.tx = (i * this.ty - n * o) / s, this.ty = -(t * this.ty - e * o) / s, this
            }, n.prototype.identity = function () {
                return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this
            }, n.prototype.clone = function () {
                var t = new n;
                return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t
            }, n.prototype.copy = function (t) {
                return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t
            }, n.IDENTITY = new n, n.TEMP_MATRIX = new n
        }, {
            "./Point": 28
        }],
        28: [function (t, e, i) {
            function n(t, e) {
                this.x = t || 0, this.y = e || 0
            }
            n.prototype.constructor = n, e.exports = n, n.prototype.clone = function () {
                return new n(this.x, this.y)
            }, n.prototype.copy = function (t) {
                this.set(t.x, t.y)
            }, n.prototype.equals = function (t) {
                return t.x === this.x && t.y === this.y
            }, n.prototype.set = function (t, e) {
                this.x = t || 0, this.y = e || (0 !== e ? this.x : 0)
            }
        }, {}],
        29: [function (t, e, i) {
            e.exports = {
                Point: t("./Point"),
                Matrix: t("./Matrix"),
                Circle: t("./shapes/Circle"),
                Ellipse: t("./shapes/Ellipse"),
                Polygon: t("./shapes/Polygon"),
                Rectangle: t("./shapes/Rectangle"),
                RoundedRectangle: t("./shapes/RoundedRectangle")
            }
        }, {
            "./Matrix": 27,
            "./Point": 28,
            "./shapes/Circle": 30,
            "./shapes/Ellipse": 31,
            "./shapes/Polygon": 32,
            "./shapes/Rectangle": 33,
            "./shapes/RoundedRectangle": 34
        }],
        30: [function (t, e, i) {
            function n(t, e, i) {
                this.x = t || 0, this.y = e || 0, this.radius = i || 0, this.type = s.SHAPES.CIRC
            }
            var o = t("./Rectangle"),
                s = t("../../const");
            n.prototype.constructor = n, e.exports = n, n.prototype.clone = function () {
                return new n(this.x, this.y, this.radius)
            }, n.prototype.contains = function (t, e) {
                if (this.radius <= 0) return !1;
                var i = this.x - t,
                    n = this.y - e;
                return (i *= i) + (n *= n) <= this.radius * this.radius
            }, n.prototype.getBounds = function () {
                return new o(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius)
            }
        }, {
            "../../const": 18,
            "./Rectangle": 33
        }],
        31: [function (t, e, i) {
            function n(t, e, i, n) {
                this.x = t || 0, this.y = e || 0, this.width = i || 0, this.height = n || 0, this.type = s.SHAPES.ELIP
            }
            var o = t("./Rectangle"),
                s = t("../../const");
            n.prototype.constructor = n, e.exports = n, n.prototype.clone = function () {
                return new n(this.x, this.y, this.width, this.height)
            }, n.prototype.contains = function (t, e) {
                if (this.width <= 0 || this.height <= 0) return !1;
                var i = (t - this.x) / this.width,
                    n = (e - this.y) / this.height;
                return (i *= i) + (n *= n) <= 1
            }, n.prototype.getBounds = function () {
                return new o(this.x - this.width, this.y - this.height, this.width, this.height)
            }
        }, {
            "../../const": 18,
            "./Rectangle": 33
        }],
        32: [function (t, e, i) {
            function n(t) {
                var e = t;
                if (!Array.isArray(e)) {
                    e = new Array(arguments.length);
                    for (var i = 0; i < e.length; ++i) e[i] = arguments[i]
                }
                if (e[0] instanceof o) {
                    for (var n = [], a = 0, r = e.length; a < r; a++) n.push(e[a].x, e[a].y);
                    e = n
                }
                this.closed = !0, this.points = e, this.type = s.SHAPES.POLY
            }
            var o = t("../Point"),
                s = t("../../const");
            n.prototype.constructor = n, e.exports = n, n.prototype.clone = function () {
                return new n(this.points.slice())
            }, n.prototype.contains = function (t, e) {
                for (var i = !1, n = this.points.length / 2, o = 0, s = n - 1; o < n; s = o++) {
                    var a = this.points[2 * o],
                        r = this.points[2 * o + 1],
                        l = this.points[2 * s],
                        u = this.points[2 * s + 1];
                    r > e != u > e && t < (l - a) * (e - r) / (u - r) + a && (i = !i)
                }
                return i
            }
        }, {
            "../../const": 18,
            "../Point": 28
        }],
        33: [function (t, e, i) {
            function n(t, e, i, n) {
                this.x = t || 0, this.y = e || 0, this.width = i || 0, this.height = n || 0, this.type = o.SHAPES.RECT
            }
            var o = t("../../const");
            n.prototype.constructor = n, e.exports = n, n.EMPTY = new n(0, 0, 0, 0), n.prototype.clone = function () {
                return new n(this.x, this.y, this.width, this.height)
            }, n.prototype.contains = function (t, e) {
                return !(this.width <= 0 || this.height <= 0) && t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height
            }
        }, {
            "../../const": 18
        }],
        34: [function (t, e, i) {
            function n(t, e, i, n, s) {
                this.x = t || 0, this.y = e || 0, this.width = i || 0, this.height = n || 0, this.radius = s || 20, this.type = o.SHAPES.RREC
            }
            var o = t("../../const");
            n.prototype.constructor = n, e.exports = n, n.prototype.clone = function () {
                return new n(this.x, this.y, this.width, this.height, this.radius)
            }, n.prototype.contains = function (t, e) {
                return !(this.width <= 0 || this.height <= 0) && t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height
            }
        }, {
            "../../const": 18
        }],
        35: [function (t, e, i) {
            function n(t, e) {
                o.call(this), this._properties = [!1, !0, !1, !1, !1], this._size = t || 15e3, this._buffers = null, this._updateStatic = !1, this.interactiveChildren = !1, this.blendMode = s.BLEND_MODES.NORMAL, this.roundPixels = !0, this.setProperties(e)
            }
            var o = t("../display/Container"),
                s = t("../const");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.setProperties = function (t) {
                t && (this._properties[0] = "scale" in t ? !!t.scale : this._properties[0], this._properties[1] = "position" in t ? !!t.position : this._properties[1], this._properties[2] = "rotation" in t ? !!t.rotation : this._properties[2], this._properties[3] = "uvs" in t ? !!t.uvs : this._properties[3], this._properties[4] = "alpha" in t ? !!t.alpha : this._properties[4])
            }, n.prototype.updateTransform = function () {
                this.displayObjectUpdateTransform()
            }, n.prototype.renderWebGL = function (t) {
                this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (t.setObjectRenderer(t.plugins.particle), t.plugins.particle.render(this))
            }, n.prototype.addChildAt = function (t, e) {
                if (t === this) return t;
                if (e >= 0 && e <= this.children.length) return t.parent && t.parent.removeChild(t), t.parent = this, this.children.splice(e, 0, t), this._updateStatic = !0, t;
                throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length)
            }, n.prototype.removeChildAt = function (t) {
                var e = this.getChildAt(t);
                return e.parent = null, this.children.splice(t, 1), this._updateStatic = !0, e
            }, n.prototype.renderCanvas = function (t) {
                if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
                    var e = t.context,
                        i = this.worldTransform,
                        n = !0,
                        o = 0,
                        s = 0,
                        a = 0,
                        r = 0;
                    e.globalAlpha = this.worldAlpha, this.displayObjectUpdateTransform();
                    for (var l = 0; l < this.children.length; ++l) {
                        var u = this.children[l];
                        if (u.visible) {
                            var h = u.texture.frame;
                            if (e.globalAlpha = this.worldAlpha * u.alpha, u.rotation % (2 * Math.PI) == 0) n && (e.setTransform(i.a, i.b, i.c, i.d, i.tx, i.ty), n = !1), o = u.anchor.x * (-h.width * u.scale.x) + u.position.x + .5, s = u.anchor.y * (-h.height * u.scale.y) + u.position.y + .5, a = h.width * u.scale.x, r = h.height * u.scale.y;
                            else {
                                n || (n = !0), u.displayObjectUpdateTransform();
                                var c = u.worldTransform;
                                t.roundPixels ? e.setTransform(c.a, c.b, c.c, c.d, 0 | c.tx, 0 | c.ty) : e.setTransform(c.a, c.b, c.c, c.d, c.tx, c.ty), o = u.anchor.x * -h.width + .5, s = u.anchor.y * -h.height + .5, a = h.width, r = h.height
                            }
                            e.drawImage(u.texture.baseTexture.source, h.x, h.y, h.width, h.height, o, s, a, r)
                        }
                    }
                }
            }, n.prototype.destroy = function () {
                if (o.prototype.destroy.apply(this, arguments), this._buffers)
                    for (var t = 0; t < this._buffers.length; ++t) this._buffers.destroy();
                this._properties = null, this._buffers = null
            }
        }, {
            "../const": 18,
            "../display/Container": 19
        }],
        36: [function (t, e, i) {
            function n(t, e, i) {
                this.gl = t, this.vertSize = 2, this.vertByteSize = 4 * this.vertSize, this.size = i, this.dynamicProperties = [], this.staticProperties = [];
                for (var n = 0; n < e.length; n++) {
                    var o = e[n];
                    o.dynamic ? this.dynamicProperties.push(o) : this.staticProperties.push(o)
                }
                this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.initBuffers()
            }
            n.prototype.constructor = n, e.exports = n, n.prototype.initBuffers = function () {
                var t, e, i = this.gl,
                    n = 0;
                for (this.dynamicStride = 0, t = 0; t < this.dynamicProperties.length; t++)(e = this.dynamicProperties[t]).offset = n, n += e.size, this.dynamicStride += e.size;
                this.dynamicData = new Float32Array(this.size * this.dynamicStride * 4), this.dynamicBuffer = i.createBuffer(), i.bindBuffer(i.ARRAY_BUFFER, this.dynamicBuffer), i.bufferData(i.ARRAY_BUFFER, this.dynamicData, i.DYNAMIC_DRAW);
                var o = 0;
                for (this.staticStride = 0, t = 0; t < this.staticProperties.length; t++)(e = this.staticProperties[t]).offset = o, o += e.size, this.staticStride += e.size;
                this.staticData = new Float32Array(this.size * this.staticStride * 4), this.staticBuffer = i.createBuffer(), i.bindBuffer(i.ARRAY_BUFFER, this.staticBuffer), i.bufferData(i.ARRAY_BUFFER, this.staticData, i.DYNAMIC_DRAW)
            }, n.prototype.uploadDynamic = function (t, e, i) {
                for (var n = this.gl, o = 0; o < this.dynamicProperties.length; o++) {
                    var s = this.dynamicProperties[o];
                    s.uploadFunction(t, e, i, this.dynamicData, this.dynamicStride, s.offset)
                }
                n.bindBuffer(n.ARRAY_BUFFER, this.dynamicBuffer), n.bufferSubData(n.ARRAY_BUFFER, 0, this.dynamicData)
            }, n.prototype.uploadStatic = function (t, e, i) {
                for (var n = this.gl, o = 0; o < this.staticProperties.length; o++) {
                    var s = this.staticProperties[o];
                    s.uploadFunction(t, e, i, this.staticData, this.staticStride, s.offset)
                }
                n.bindBuffer(n.ARRAY_BUFFER, this.staticBuffer), n.bufferSubData(n.ARRAY_BUFFER, 0, this.staticData)
            }, n.prototype.bind = function () {
                var t, e, i = this.gl;
                for (i.bindBuffer(i.ARRAY_BUFFER, this.dynamicBuffer), t = 0; t < this.dynamicProperties.length; t++) e = this.dynamicProperties[t], i.vertexAttribPointer(e.attribute, e.size, i.FLOAT, !1, 4 * this.dynamicStride, 4 * e.offset);
                for (i.bindBuffer(i.ARRAY_BUFFER, this.staticBuffer), t = 0; t < this.staticProperties.length; t++) e = this.staticProperties[t], i.vertexAttribPointer(e.attribute, e.size, i.FLOAT, !1, 4 * this.staticStride, 4 * e.offset)
            }, n.prototype.destroy = function () {
                this.dynamicProperties = null, this.dynamicData = null, this.gl.deleteBuffer(this.dynamicBuffer), this.staticProperties = null, this.staticData = null, this.gl.deleteBuffer(this.staticBuffer)
            }
        }, {}],
        37: [function (t, e, i) {
            function n(t) {
                o.call(this, t), this.size = 250;
                var e = 6 * this.size;
                this.indices = new Uint16Array(e);
                for (var i = 0, n = 0; i < e; i += 6, n += 4) this.indices[i + 0] = n + 0, this.indices[i + 1] = n + 1, this.indices[i + 2] = n + 2, this.indices[i + 3] = n + 0, this.indices[i + 4] = n + 2, this.indices[i + 5] = n + 3;
                this.shader = null, this.indexBuffer = null, this.properties = null, this.tempMatrix = new l.Matrix
            }
            var o = t("../../renderers/webgl/utils/ObjectRenderer"),
                s = t("../../renderers/webgl/WebGLRenderer"),
                a = t("./ParticleShader"),
                r = t("./ParticleBuffer"),
                l = t("../../math");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, s.registerPlugin("particle", n), n.prototype.onContextChange = function () {
                var t = this.renderer.gl;
                this.shader = new a(this.renderer.shaderManager), this.indexBuffer = t.createBuffer(), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer), t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW), this.properties = [{
                    attribute: this.shader.attributes.aVertexPosition,
                    dynamic: !1,
                    size: 2,
                    uploadFunction: this.uploadVertices,
                    offset: 0
                }, {
                    attribute: this.shader.attributes.aPositionCoord,
                    dynamic: !0,
                    size: 2,
                    uploadFunction: this.uploadPosition,
                    offset: 0
                }, {
                    attribute: this.shader.attributes.aRotation,
                    dynamic: !1,
                    size: 1,
                    uploadFunction: this.uploadRotation,
                    offset: 0
                }, {
                    attribute: this.shader.attributes.aTextureCoord,
                    dynamic: !1,
                    size: 2,
                    uploadFunction: this.uploadUvs,
                    offset: 0
                }, {
                    attribute: this.shader.attributes.aColor,
                    dynamic: !1,
                    size: 1,
                    uploadFunction: this.uploadAlpha,
                    offset: 0
                }]
            }, n.prototype.start = function () {
                var t = this.renderer.gl;
                t.activeTexture(t.TEXTURE0), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                var e = this.shader;
                this.renderer.shaderManager.setShader(e)
            }, n.prototype.render = function (t) {
                var e = t.children,
                    i = e.length,
                    n = t._size;
                if (0 !== i) {
                    i > n && (i = n), t._buffers || (t._buffers = this.generateBuffers(t)), this.renderer.blendModeManager.setBlendMode(t.blendMode);
                    var o = this.renderer.gl,
                        s = t.worldTransform.copy(this.tempMatrix);
                    s.prepend(this.renderer.currentRenderTarget.projectionMatrix), o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location, !1, s.toArray(!0)), o.uniform1f(this.shader.uniforms.uAlpha._location, t.worldAlpha);
                    var a = t._updateStatic,
                        r = e[0]._texture.baseTexture;
                    if (r._glTextures[o.id]) o.bindTexture(o.TEXTURE_2D, r._glTextures[o.id]);
                    else {
                        if (!this.renderer.updateTexture(r)) return;
                        this.properties[0].dynamic && this.properties[3].dynamic || (a = !0)
                    }
                    for (var l = 0, u = 0; u < i; u += this.size) {
                        var h = i - u;
                        h > this.size && (h = this.size);
                        var c = t._buffers[l++];
                        c.uploadDynamic(e, u, h), a && c.uploadStatic(e, u, h), c.bind(this.shader), o.drawElements(o.TRIANGLES, 6 * h, o.UNSIGNED_SHORT, 0), this.renderer.drawCount++
                    }
                    t._updateStatic = !1
                }
            }, n.prototype.generateBuffers = function (t) {
                var e, i = this.renderer.gl,
                    n = [],
                    o = t._size;
                for (e = 0; e < t._properties.length; e++) this.properties[e].dynamic = t._properties[e];
                for (e = 0; e < o; e += this.size) n.push(new r(i, this.properties, this.size, this.shader));
                return n
            }, n.prototype.uploadVertices = function (t, e, i, n, o, s) {
                for (var a, r, l, u, h, c, p, d, m, S = 0; S < i; S++) r = (a = t[e + S])._texture, u = a.scale.x, h = a.scale.y, r.trim ? (c = (p = (l = r.trim).x - a.anchor.x * l.width) + r.crop.width, d = (m = l.y - a.anchor.y * l.height) + r.crop.height) : (c = r._frame.width * (1 - a.anchor.x), p = r._frame.width * -a.anchor.x, d = r._frame.height * (1 - a.anchor.y), m = r._frame.height * -a.anchor.y), n[s] = p * u, n[s + 1] = m * h, n[s + o] = c * u, n[s + o + 1] = m * h, n[s + 2 * o] = c * u, n[s + 2 * o + 1] = d * h, n[s + 3 * o] = p * u, n[s + 3 * o + 1] = d * h, s += 4 * o
            }, n.prototype.uploadPosition = function (t, e, i, n, o, s) {
                for (var a = 0; a < i; a++) {
                    var r = t[e + a].position;
                    n[s] = r.x, n[s + 1] = r.y, n[s + o] = r.x, n[s + o + 1] = r.y, n[s + 2 * o] = r.x, n[s + 2 * o + 1] = r.y, n[s + 3 * o] = r.x, n[s + 3 * o + 1] = r.y, s += 4 * o
                }
            }, n.prototype.uploadRotation = function (t, e, i, n, o, s) {
                for (var a = 0; a < i; a++) {
                    var r = t[e + a].rotation;
                    n[s] = r, n[s + o] = r, n[s + 2 * o] = r, n[s + 3 * o] = r, s += 4 * o
                }
            }, n.prototype.uploadUvs = function (t, e, i, n, o, s) {
                for (var a = 0; a < i; a++) {
                    var r = t[e + a]._texture._uvs;
                    r ? (n[s] = r.x0, n[s + 1] = r.y0, n[s + o] = r.x1, n[s + o + 1] = r.y1, n[s + 2 * o] = r.x2, n[s + 2 * o + 1] = r.y2, n[s + 3 * o] = r.x3, n[s + 3 * o + 1] = r.y3, s += 4 * o) : (n[s] = 0, n[s + 1] = 0, n[s + o] = 0, n[s + o + 1] = 0, n[s + 2 * o] = 0, n[s + 2 * o + 1] = 0, n[s + 3 * o] = 0, n[s + 3 * o + 1] = 0, s += 4 * o)
                }
            }, n.prototype.uploadAlpha = function (t, e, i, n, o, s) {
                for (var a = 0; a < i; a++) {
                    var r = t[e + a].alpha;
                    n[s] = r, n[s + o] = r, n[s + 2 * o] = r, n[s + 3 * o] = r, s += 4 * o
                }
            }, n.prototype.destroy = function () {
                this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer), o.prototype.destroy.apply(this, arguments), this.shader.destroy(), this.indices = null, this.tempMatrix = null
            }
        }, {
            "../../math": 29,
            "../../renderers/webgl/WebGLRenderer": 45,
            "../../renderers/webgl/utils/ObjectRenderer": 59,
            "./ParticleBuffer": 36,
            "./ParticleShader": 38
        }],
        38: [function (t, e, i) {
            function n(t) {
                o.call(this, t, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute float aColor;", "attribute vec2 aPositionCoord;", "attribute vec2 aScale;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying float vColor;", "void main(void){", "   vec2 v = aVertexPosition;", "   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor;", "}"].join("\n"), ["precision lowp float;", "varying vec2 vTextureCoord;", "varying float vColor;", "uniform sampler2D uSampler;", "uniform float uAlpha;", "void main(void){", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor * uAlpha ;", "}"].join("\n"), {
                    uAlpha: {
                        type: "1f",
                        value: 1
                    }
                }, {
                    aPositionCoord: 0,
                    aRotation: 0
                })
            }
            var o = t("../../renderers/webgl/shaders/TextureShader");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n
        }, {
            "../../renderers/webgl/shaders/TextureShader": 58
        }],
        39: [function (t, e, i) {
            function n(t, e, i, n) {
                if (r.call(this), o.sayHello(t), n)
                    for (var l in a.DEFAULT_RENDER_OPTIONS) void 0 === n[l] && (n[l] = a.DEFAULT_RENDER_OPTIONS[l]);
                else n = a.DEFAULT_RENDER_OPTIONS;
                this.type = a.RENDERER_TYPE.UNKNOWN, this.width = e || 800, this.height = i || 600, this.view = n.view || document.createElement("canvas"), this.resolution = n.resolution, this.transparent = n.transparent, this.autoResize = n.autoResize || !1, this.blendModes = null, this.preserveDrawingBuffer = n.preserveDrawingBuffer, this.clearBeforeRender = n.clearBeforeRender, this._backgroundColor = 0, this._backgroundColorRgb = [0, 0, 0], this._backgroundColorString = "#000000", this.backgroundColor = n.backgroundColor || this._backgroundColor, this._tempDisplayObjectParent = {
                    worldTransform: new s.Matrix,
                    worldAlpha: 1,
                    children: []
                }, this._lastObjectRendered = this._tempDisplayObjectParent
            }
            var o = t("../utils"),
                s = t("../math"),
                a = t("../const"),
                r = t("eventemitter3");
            n.prototype = Object.create(r.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                backgroundColor: {
                    get: function () {
                        return this._backgroundColor
                    },
                    set: function (t) {
                        this._backgroundColor = t, this._backgroundColorString = o.hex2string(t), o.hex2rgb(t, this._backgroundColorRgb)
                    }
                }
            }), n.prototype.resize = function (t, e) {
                this.width = t * this.resolution, this.height = e * this.resolution, this.view.width = this.width, this.view.height = this.height, this.autoResize && (this.view.style.width = this.width / this.resolution + "px", this.view.style.height = this.height / this.resolution + "px")
            }, n.prototype.destroy = function (t) {
                t && this.view.parent && this.view.parent.removeChild(this.view), this.type = a.RENDERER_TYPE.UNKNOWN, this.width = 0, this.height = 0, this.view = null, this.resolution = 0, this.transparent = !1, this.autoResize = !1, this.blendModes = null, this.preserveDrawingBuffer = !1, this.clearBeforeRender = !1, this._backgroundColor = 0, this._backgroundColorRgb = null, this._backgroundColorString = null
            }
        }, {
            "../const": 18,
            "../math": 29,
            "../utils": 72,
            eventemitter3: 6
        }],
        40: [function (t, e, i) {
            function n(t, e, i) {
                o.call(this, "Canvas", t, e, i), this.type = l.RENDERER_TYPE.CANVAS, this.context = this.view.getContext("2d", {
                    alpha: this.transparent
                }), this.refresh = !0, this.maskManager = new s, this.roundPixels = !1, this.currentScaleMode = l.SCALE_MODES.DEFAULT, this.currentBlendMode = l.BLEND_MODES.NORMAL, this.smoothProperty = "imageSmoothingEnabled", this.context.imageSmoothingEnabled || (this.context.webkitImageSmoothingEnabled ? this.smoothProperty = "webkitImageSmoothingEnabled" : this.context.mozImageSmoothingEnabled ? this.smoothProperty = "mozImageSmoothingEnabled" : this.context.oImageSmoothingEnabled ? this.smoothProperty = "oImageSmoothingEnabled" : this.context.msImageSmoothingEnabled && (this.smoothProperty = "msImageSmoothingEnabled")), this.initPlugins(), this._mapBlendModes(), this._tempDisplayObjectParent = {
                    worldTransform: new r.Matrix,
                    worldAlpha: 1
                }, this.resize(t, e)
            }
            var o = t("../SystemRenderer"),
                s = t("./utils/CanvasMaskManager"),
                a = t("../../utils"),
                r = t("../../math"),
                l = t("../../const");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, a.pluginTarget.mixin(n), n.prototype.render = function (t) {
                var e = t.parent;
                this._lastObjectRendered = t, t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = e, this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.globalAlpha = 1, this.currentBlendMode = l.BLEND_MODES.NORMAL, this.context.globalCompositeOperation = this.blendModes[l.BLEND_MODES.NORMAL], navigator.isCocoonJS && this.view.screencanvas && (this.context.fillStyle = "black", this.context.clear()), this.clearBeforeRender && (this.transparent ? this.context.clearRect(0, 0, this.width, this.height) : (this.context.fillStyle = this._backgroundColorString, this.context.fillRect(0, 0, this.width, this.height))), this.renderDisplayObject(t, this.context)
            }, n.prototype.destroy = function (t) {
                this.destroyPlugins(), o.prototype.destroy.call(this, t), this.context = null, this.refresh = !0, this.maskManager.destroy(), this.maskManager = null, this.roundPixels = !1, this.currentScaleMode = 0, this.currentBlendMode = 0, this.smoothProperty = null
            }, n.prototype.renderDisplayObject = function (t, e) {
                var i = this.context;
                this.context = e, t.renderCanvas(this), this.context = i
            }, n.prototype._mapBlendModes = function () {
                this.blendModes || (this.blendModes = {}, a.canUseNewCanvasBlendModes() ? (this.blendModes[l.BLEND_MODES.NORMAL] = "source-over", this.blendModes[l.BLEND_MODES.ADD] = "lighter", this.blendModes[l.BLEND_MODES.MULTIPLY] = "multiply", this.blendModes[l.BLEND_MODES.SCREEN] = "screen", this.blendModes[l.BLEND_MODES.OVERLAY] = "overlay", this.blendModes[l.BLEND_MODES.DARKEN] = "darken", this.blendModes[l.BLEND_MODES.LIGHTEN] = "lighten", this.blendModes[l.BLEND_MODES.COLOR_DODGE] = "color-dodge", this.blendModes[l.BLEND_MODES.COLOR_BURN] = "color-burn", this.blendModes[l.BLEND_MODES.HARD_LIGHT] = "hard-light", this.blendModes[l.BLEND_MODES.SOFT_LIGHT] = "soft-light", this.blendModes[l.BLEND_MODES.DIFFERENCE] = "difference", this.blendModes[l.BLEND_MODES.EXCLUSION] = "exclusion", this.blendModes[l.BLEND_MODES.HUE] = "hue", this.blendModes[l.BLEND_MODES.SATURATION] = "saturation", this.blendModes[l.BLEND_MODES.COLOR] = "color", this.blendModes[l.BLEND_MODES.LUMINOSITY] = "luminosity", this.blendModes[l.BLEND_MODES.SOURCE_OUT] = "source-out", this.blendModes[l.BLEND_MODES.SOURCE_IN] = "source-in", this.blendModes[l.BLEND_MODES.DESTINATION_OUT] = "destination-out", this.blendModes[l.BLEND_MODES.DESTINATION_IN] = "destination-in") : (this.blendModes[l.BLEND_MODES.NORMAL] = "source-over", this.blendModes[l.BLEND_MODES.ADD] = "lighter", this.blendModes[l.BLEND_MODES.MULTIPLY] = "source-over", this.blendModes[l.BLEND_MODES.SCREEN] = "source-over", this.blendModes[l.BLEND_MODES.OVERLAY] = "source-over", this.blendModes[l.BLEND_MODES.DARKEN] = "source-over", this.blendModes[l.BLEND_MODES.LIGHTEN] = "source-over", this.blendModes[l.BLEND_MODES.COLOR_DODGE] = "source-over", this.blendModes[l.BLEND_MODES.COLOR_BURN] = "source-over", this.blendModes[l.BLEND_MODES.HARD_LIGHT] = "source-over", this.blendModes[l.BLEND_MODES.SOFT_LIGHT] = "source-over", this.blendModes[l.BLEND_MODES.DIFFERENCE] = "source-over", this.blendModes[l.BLEND_MODES.EXCLUSION] = "source-over", this.blendModes[l.BLEND_MODES.HUE] = "source-over", this.blendModes[l.BLEND_MODES.SATURATION] = "source-over", this.blendModes[l.BLEND_MODES.COLOR] = "source-over", this.blendModes[l.BLEND_MODES.LUMINOSITY] = "source-over", this.blendModes[l.BLEND_MODES.SOURCE_OUT] = "source-out", this.blendModes[l.BLEND_MODES.SOURCE_IN] = "source-in", this.blendModes[l.BLEND_MODES.DESTINATION_OUT] = "destination-out", this.blendModes[l.BLEND_MODES.DESTINATION_IN] = "destination-in"))
            }
        }, {
            "../../const": 18,
            "../../math": 29,
            "../../utils": 72,
            "../SystemRenderer": 39,
            "./utils/CanvasMaskManager": 43
        }],
        41: [function (t, e, i) {
            function n(t, e) {
                this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d", {
                    willReadFrequently: !0
                }), this.canvas.width = t, this.canvas.height = e
            }
            n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                width: {
                    get: function () {
                        return this.canvas.width
                    },
                    set: function (t) {
                        this.canvas.width = t
                    }
                },
                height: {
                    get: function () {
                        return this.canvas.height
                    },
                    set: function (t) {
                        this.canvas.height = t
                    }
                }
            }), n.prototype.clear = function () {
                this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
            }, n.prototype.resize = function (t, e) {
                this.canvas.width = t, this.canvas.height = e
            }, n.prototype.destroy = function () {
                this.context = null, this.canvas = null
            }
        }, {}],
        42: [function (t, e, i) {
            var n = t("../../../const"),
                o = e.exports = {};
            o.renderGraphics = function (t, e) {
                var i = t.worldAlpha;
                t.dirty && (this.updateGraphicsTint(t), t.dirty = !1);
                for (var o = 0; o < t.graphicsData.length; o++) {
                    var s = t.graphicsData[o],
                        a = s.shape,
                        r = s._fillTint,
                        l = s._lineTint;
                    if (e.lineWidth = s.lineWidth, s.type === n.SHAPES.POLY) {
                        e.beginPath();
                        var u = a.points;
                        e.moveTo(u[0], u[1]);
                        for (var h = 1; h < u.length / 2; h++) e.lineTo(u[2 * h], u[2 * h + 1]);
                        a.closed && e.lineTo(u[0], u[1]), u[0] === u[u.length - 2] && u[1] === u[u.length - 1] && e.closePath(), s.fill && (e.globalAlpha = s.fillAlpha * i, e.fillStyle = "#" + ("00000" + (0 | r).toString(16)).substr(-6), e.fill()), s.lineWidth && (e.globalAlpha = s.lineAlpha * i, e.strokeStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), e.stroke())
                    } else if (s.type === n.SHAPES.RECT)(s.fillColor || 0 === s.fillColor) && (e.globalAlpha = s.fillAlpha * i, e.fillStyle = "#" + ("00000" + (0 | r).toString(16)).substr(-6), e.fillRect(a.x, a.y, a.width, a.height)), s.lineWidth && (e.globalAlpha = s.lineAlpha * i, e.strokeStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), e.strokeRect(a.x, a.y, a.width, a.height));
                    else if (s.type === n.SHAPES.CIRC) e.beginPath(), e.arc(a.x, a.y, a.radius, 0, 2 * Math.PI), e.closePath(), s.fill && (e.globalAlpha = s.fillAlpha * i, e.fillStyle = "#" + ("00000" + (0 | r).toString(16)).substr(-6), e.fill()), s.lineWidth && (e.globalAlpha = s.lineAlpha * i, e.strokeStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), e.stroke());
                    else if (s.type === n.SHAPES.ELIP) {
                        var c = 2 * a.width,
                            p = 2 * a.height,
                            d = a.x - c / 2,
                            m = a.y - p / 2;
                        e.beginPath();
                        var S = .5522848,
                            g = c / 2 * S,
                            y = p / 2 * S,
                            f = d + c,
                            b = m + p,
                            T = d + c / 2,
                            C = m + p / 2;
                        e.moveTo(d, C), e.bezierCurveTo(d, C - y, T - g, m, T, m), e.bezierCurveTo(T + g, m, f, C - y, f, C), e.bezierCurveTo(f, C + y, T + g, b, T, b), e.bezierCurveTo(T - g, b, d, C + y, d, C), e.closePath(), s.fill && (e.globalAlpha = s.fillAlpha * i, e.fillStyle = "#" + ("00000" + (0 | r).toString(16)).substr(-6), e.fill()), s.lineWidth && (e.globalAlpha = s.lineAlpha * i, e.strokeStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), e.stroke())
                    } else if (s.type === n.SHAPES.RREC) {
                        var A = a.x,
                            v = a.y,
                            M = a.width,
                            L = a.height,
                            I = a.radius,
                            P = Math.min(M, L) / 2 | 0;
                        I = I > P ? P : I, e.beginPath(), e.moveTo(A, v + I), e.lineTo(A, v + L - I), e.quadraticCurveTo(A, v + L, A + I, v + L), e.lineTo(A + M - I, v + L), e.quadraticCurveTo(A + M, v + L, A + M, v + L - I), e.lineTo(A + M, v + I), e.quadraticCurveTo(A + M, v, A + M - I, v), e.lineTo(A + I, v), e.quadraticCurveTo(A, v, A, v + I), e.closePath(), (s.fillColor || 0 === s.fillColor) && (e.globalAlpha = s.fillAlpha * i, e.fillStyle = "#" + ("00000" + (0 | r).toString(16)).substr(-6), e.fill()), s.lineWidth && (e.globalAlpha = s.lineAlpha * i, e.strokeStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), e.stroke())
                    }
                }
            }, o.renderGraphicsMask = function (t, e) {
                var i = t.graphicsData.length;
                if (0 !== i) {
                    e.beginPath();
                    for (var o = 0; o < i; o++) {
                        var s = t.graphicsData[o],
                            a = s.shape;
                        if (s.type === n.SHAPES.POLY) {
                            var r = a.points;
                            e.moveTo(r[0], r[1]);
                            for (var l = 1; l < r.length / 2; l++) e.lineTo(r[2 * l], r[2 * l + 1]);
                            r[0] === r[r.length - 2] && r[1] === r[r.length - 1] && e.closePath()
                        } else if (s.type === n.SHAPES.RECT) e.rect(a.x, a.y, a.width, a.height), e.closePath();
                        else if (s.type === n.SHAPES.CIRC) e.arc(a.x, a.y, a.radius, 0, 2 * Math.PI), e.closePath();
                        else if (s.type === n.SHAPES.ELIP) {
                            var u = 2 * a.width,
                                h = 2 * a.height,
                                c = a.x - u / 2,
                                p = a.y - h / 2,
                                d = .5522848,
                                m = u / 2 * d,
                                S = h / 2 * d,
                                g = c + u,
                                y = p + h,
                                f = c + u / 2,
                                b = p + h / 2;
                            e.moveTo(c, b), e.bezierCurveTo(c, b - S, f - m, p, f, p), e.bezierCurveTo(f + m, p, g, b - S, g, b), e.bezierCurveTo(g, b + S, f + m, y, f, y), e.bezierCurveTo(f - m, y, c, b + S, c, b), e.closePath()
                        } else if (s.type === n.SHAPES.RREC) {
                            var T = a.x,
                                C = a.y,
                                A = a.width,
                                v = a.height,
                                M = a.radius,
                                L = Math.min(A, v) / 2 | 0;
                            M = M > L ? L : M, e.moveTo(T, C + M), e.lineTo(T, C + v - M), e.quadraticCurveTo(T, C + v, T + M, C + v), e.lineTo(T + A - M, C + v), e.quadraticCurveTo(T + A, C + v, T + A, C + v - M), e.lineTo(T + A, C + M), e.quadraticCurveTo(T + A, C, T + A - M, C), e.lineTo(T + M, C), e.quadraticCurveTo(T, C, T, C + M), e.closePath()
                        }
                    }
                }
            }, o.updateGraphicsTint = function (t) {
                if (16777215 !== t.tint)
                    for (var e = (t.tint >> 16 & 255) / 255, i = (t.tint >> 8 & 255) / 255, n = (255 & t.tint) / 255, o = 0; o < t.graphicsData.length; o++) {
                        var s = t.graphicsData[o],
                            a = 0 | s.fillColor,
                            r = 0 | s.lineColor;
                        s._fillTint = ((a >> 16 & 255) / 255 * e * 255 << 16) + ((a >> 8 & 255) / 255 * i * 255 << 8) + (255 & a) / 255 * n * 255, s._lineTint = ((r >> 16 & 255) / 255 * e * 255 << 16) + ((r >> 8 & 255) / 255 * i * 255 << 8) + (255 & r) / 255 * n * 255
                    }
            }
        }, {
            "../../../const": 18
        }],
        43: [function (t, e, i) {
            function n() {}
            var o = t("./CanvasGraphics");
            n.prototype.constructor = n, e.exports = n, n.prototype.pushMask = function (t, e) {
                e.context.save();
                var i = t.alpha,
                    n = t.worldTransform,
                    s = e.resolution;
                e.context.setTransform(n.a * s, n.b * s, n.c * s, n.d * s, n.tx * s, n.ty * s), t.texture || (o.renderGraphicsMask(t, e.context), e.context.clip()), t.worldAlpha = i
            }, n.prototype.popMask = function (t) {
                t.context.restore()
            }
        }, {
            "./CanvasGraphics": 42
        }],
        44: [function (t, e, i) {
            var n = t("../../../utils"),
                o = e.exports = {};
            o.getTintedTexture = function (t, e) {
                var i = t.texture,
                    n = "#" + ("00000" + (0 | (e = o.roundColor(e))).toString(16)).substr(-6);
                if (i.tintCache = i.tintCache || {}, i.tintCache[n]) return i.tintCache[n];
                var s = o.canvas || document.createElement("canvas");
                if (o.tintMethod(i, e, s), o.convertTintToImage) {
                    var a = new Image;
                    a.src = s.toDataURL(), i.tintCache[n] = a
                } else i.tintCache[n] = s, o.canvas = null;
                return s
            }, o.tintWithMultiply = function (t, e, i) {
                var n = i.getContext("2d"),
                    o = t.crop;
                i.width = o.width, i.height = o.height, n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, o.width, o.height), n.globalCompositeOperation = "multiply", n.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height)
            }, o.tintWithOverlay = function (t, e, i) {
                var n = i.getContext("2d"),
                    o = t.crop;
                i.width = o.width, i.height = o.height, n.globalCompositeOperation = "copy", n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, o.width, o.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height)
            }, o.tintWithPerPixel = function (t, e, i) {
                var o = i.getContext("2d"),
                    s = t.crop;
                i.width = s.width, i.height = s.height, o.globalCompositeOperation = "copy", o.drawImage(t.baseTexture.source, s.x, s.y, s.width, s.height, 0, 0, s.width, s.height);
                for (var a = n.hex2rgb(e), r = a[0], l = a[1], u = a[2], h = o.getImageData(0, 0, s.width, s.height), c = h.data, p = 0; p < c.length; p += 4) c[p + 0] *= r, c[p + 1] *= l, c[p + 2] *= u;
                o.putImageData(h, 0, 0)
            }, o.roundColor = function (t) {
                var e = o.cacheStepsPerColorChannel,
                    i = n.hex2rgb(t);
                return i[0] = Math.min(255, i[0] / e * e), i[1] = Math.min(255, i[1] / e * e), i[2] = Math.min(255, i[2] / e * e), n.rgb2hex(i)
            }, o.cacheStepsPerColorChannel = 8, o.convertTintToImage = !1, o.canUseMultiply = n.canUseNewCanvasBlendModes(), o.tintMethod = o.canUseMultiply ? o.tintWithMultiply : o.tintWithPerPixel
        }, {
            "../../../utils": 72
        }],
        45: [function (t, e, i) {
            function n(t, e, i) {
                i = i || {}, o.call(this, "WebGL", t, e, i), this.type = m.RENDERER_TYPE.WEBGL, this.handleContextLost = this.handleContextLost.bind(this), this.handleContextRestored = this.handleContextRestored.bind(this), this.view.addEventListener("webglcontextlost", this.handleContextLost, !1), this.view.addEventListener("webglcontextrestored", this.handleContextRestored, !1), this._useFXAA = !!i.forceFXAA && i.antialias, this._FXAAFilter = null, this._contextOptions = {
                    alpha: this.transparent,
                    antialias: i.antialias,
                    premultipliedAlpha: this.transparent && "notMultiplied" !== this.transparent,
                    stencil: !0,
                    preserveDrawingBuffer: i.preserveDrawingBuffer
                }, this.drawCount = 0, this.shaderManager = new s(this), this.maskManager = new a(this), this.stencilManager = new r(this), this.filterManager = new l(this), this.blendModeManager = new u(this), this.currentRenderTarget = null, this.currentRenderer = new c(this), this.initPlugins(), this._initContext(), this._mapBlendModes(), this._renderTargetStack = []
            }
            var o = t("../SystemRenderer"),
                s = t("./managers/ShaderManager"),
                a = t("./managers/MaskManager"),
                r = t("./managers/StencilManager"),
                l = t("./managers/FilterManager"),
                u = t("./managers/BlendModeManager"),
                h = t("./utils/RenderTarget"),
                c = t("./utils/ObjectRenderer"),
                p = t("./filters/FXAAFilter"),
                d = t("../../utils"),
                m = t("../../const");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, d.pluginTarget.mixin(n), n.glContextId = 0, n.prototype._initContext = function () {
                var t = this.view.getContext("webgl", this._contextOptions) || this.view.getContext("experimental-webgl", this._contextOptions);
                if (this.gl = t, !t) throw new Error("This browser does not support webGL. Try using the canvas renderer");
                this.glContextId = n.glContextId++, t.id = this.glContextId, t.renderer = this, t.disable(t.DEPTH_TEST), t.disable(t.CULL_FACE), t.enable(t.BLEND), this.renderTarget = new h(this.gl, this.width, this.height, null, this.resolution, !0), this.setRenderTarget(this.renderTarget), this.emit("context", t), this.resize(this.width, this.height), this._useFXAA || (this._useFXAA = this._contextOptions.antialias && !t.getContextAttributes().antialias), this._useFXAA && (window.console.warn("FXAA antialiasing being used instead of native antialiasing"), this._FXAAFilter = [new p])
            }, n.prototype.render = function (t) {
                if (!this.gl.isContextLost()) {
                    this.drawCount = 0, this._lastObjectRendered = t, this._useFXAA && (this._FXAAFilter[0].uniforms.resolution.value.x = this.width, this._FXAAFilter[0].uniforms.resolution.value.y = this.height, t.filterArea = this.renderTarget.size, t.filters = this._FXAAFilter);
                    var e = t.parent;
                    t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = e;
                    var i = this.gl;
                    this.setRenderTarget(this.renderTarget), this.clearBeforeRender && (this.transparent ? i.clearColor(0, 0, 0, 0) : i.clearColor(this._backgroundColorRgb[0], this._backgroundColorRgb[1], this._backgroundColorRgb[2], 1), i.clear(i.COLOR_BUFFER_BIT)), this.renderDisplayObject(t, this.renderTarget)
                }
            }, n.prototype.renderDisplayObject = function (t, e, i) {
                this.setRenderTarget(e), i && e.clear(), this.filterManager.setFilterStack(e.filterStack), t.renderWebGL(this), this.currentRenderer.flush()
            }, n.prototype.setObjectRenderer = function (t) {
                this.currentRenderer !== t && (this.currentRenderer.stop(), this.currentRenderer = t, this.currentRenderer.start())
            }, n.prototype.setRenderTarget = function (t) {
                this.currentRenderTarget !== t && (this.currentRenderTarget = t, this.currentRenderTarget.activate(), this.stencilManager.setMaskStack(t.stencilMaskStack))
            }, n.prototype.resize = function (t, e) {
                o.prototype.resize.call(this, t, e), this.gl.viewport(0, 0, this.width, this.height), this.filterManager.resize(t, e), this.renderTarget.resize(t, e), this.currentRenderTarget === this.renderTarget && this.renderTarget.activate()
            }, n.prototype.updateTexture = function (t) {
                if ((t = t.baseTexture || t).hasLoaded) {
                    var e = this.gl;
                    return t._glTextures[e.id] || (t._glTextures[e.id] = e.createTexture(), t.on("update", this.updateTexture, this), t.on("dispose", this.destroyTexture, this)), e.bindTexture(e.TEXTURE_2D, t._glTextures[e.id]), e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.premultipliedAlpha), e.texImage2D(e.TEXTURE_2D, 0, t.hasAlpha ? e.RGBA : e.RGB, t.hasAlpha ? e.RGBA : e.RGB, e.UNSIGNED_BYTE, t.source), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, t.scaleMode === m.SCALE_MODES.LINEAR ? e.LINEAR : e.NEAREST), t.mipmap && t.isPowerOfTwo ? (e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t.scaleMode === m.SCALE_MODES.LINEAR ? e.LINEAR_MIPMAP_LINEAR : e.NEAREST_MIPMAP_NEAREST), e.generateMipmap(e.TEXTURE_2D)) : e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t.scaleMode === m.SCALE_MODES.LINEAR ? e.LINEAR : e.NEAREST), t.isPowerOfTwo ? (e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.REPEAT), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.REPEAT)) : (e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE)), t._glTextures[e.id]
                }
            }, n.prototype.destroyTexture = function (t) {
                (t = t.baseTexture || t).hasLoaded && t._glTextures[this.gl.id] && this.gl.deleteTexture(t._glTextures[this.gl.id])
            }, n.prototype.handleContextLost = function (t) {
                t.preventDefault()
            }, n.prototype.handleContextRestored = function () {
                for (var t in this._initContext(), d.BaseTextureCache) d.BaseTextureCache[t]._glTextures.length = 0
            }, n.prototype.destroy = function (t) {
                this.destroyPlugins(), this.view.removeEventListener("webglcontextlost", this.handleContextLost), this.view.removeEventListener("webglcontextrestored", this.handleContextRestored), o.prototype.destroy.call(this, t), this.uuid = 0, this.shaderManager.destroy(), this.maskManager.destroy(), this.stencilManager.destroy(), this.filterManager.destroy(), this.shaderManager = null, this.maskManager = null, this.filterManager = null, this.blendModeManager = null, this.handleContextLost = null, this.handleContextRestored = null, this._contextOptions = null, this.drawCount = 0, this.gl = null
            }, n.prototype._mapBlendModes = function () {
                var t = this.gl;
                this.blendModes || (this.blendModes = {}, this.blendModes[m.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.ADD] = [t.ONE, t.ONE], this.blendModes[m.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.SCREEN] = [t.SRC_ALPHA, t.ONE], this.blendModes[m.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.SOURCE_OUT] = [t.ONE_MINUS_DST_ALPHA, t.ZERO], this.blendModes[m.BLEND_MODES.SOURCE_IN] = [t.DST_ALPHA, t.ZERO], this.blendModes[m.BLEND_MODES.DESTINATION_OUT] = [t.ZERO, t.ONE_MINUS_SRC_ALPHA], this.blendModes[m.BLEND_MODES.DESTINATION_IN] = [t.ZERO, t.SRC_ALPHA])
            }
        }, {
            "../../const": 18,
            "../../utils": 72,
            "../SystemRenderer": 39,
            "./filters/FXAAFilter": 47,
            "./managers/BlendModeManager": 49,
            "./managers/FilterManager": 50,
            "./managers/MaskManager": 51,
            "./managers/ShaderManager": 52,
            "./managers/StencilManager": 53,
            "./utils/ObjectRenderer": 59,
            "./utils/RenderTarget": 61
        }],
        46: [function (t, e, i) {
            function n(t, e, i) {
                this.shaders = [], this.padding = 0, this.uniforms = i || {}, this.vertexSrc = t || o.defaultVertexSrc, this.fragmentSrc = e || o.defaultFragmentSrc
            }
            var o = t("../shaders/TextureShader");
            n.prototype.constructor = n, e.exports = n, n.prototype.getShader = function (t) {
                var e = t.gl,
                    i = this.shaders[e.id];
                return i || (i = new o(t.shaderManager, this.vertexSrc, this.fragmentSrc, this.uniforms, this.attributes), this.shaders[e.id] = i), i
            }, n.prototype.applyFilter = function (t, e, i, n) {
                var o = this.getShader(t);
                t.filterManager.applyFilter(o, e, i, n)
            }, n.prototype.syncUniform = function (t) {
                for (var e = 0, i = this.shaders.length; e < i; ++e) this.shaders[e].syncUniform(t)
            }
        }, {
            "../shaders/TextureShader": 58
        }],
        47: [function (t, e, i) {
            function n() {
                o.call(this, "\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n", 'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n', {
                    resolution: {
                        type: "v2",
                        value: {
                            x: 1,
                            y: 1
                        }
                    }
                })
            }
            var o = t("./AbstractFilter");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.applyFilter = function (t, e, i) {
                var n = t.filterManager,
                    o = this.getShader(t);
                n.applyFilter(o, e, i)
            }
        }, {
            "./AbstractFilter": 46
        }],
        48: [function (t, e, i) {
            function n(t) {
                var e = new s.Matrix;
                o.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n", {
                    mask: {
                        type: "sampler2D",
                        value: t._texture
                    },
                    alpha: {
                        type: "f",
                        value: 1
                    },
                    otherMatrix: {
                        type: "mat3",
                        value: e.toArray(!0)
                    }
                }), this.maskSprite = t, this.maskMatrix = e
            }
            var o = t("./AbstractFilter"),
                s = t("../../../math");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.applyFilter = function (t, e, i) {
                var n = t.filterManager;
                this.uniforms.mask.value = this.maskSprite._texture, n.calculateMappedMatrix(e.frame, this.maskSprite, this.maskMatrix), this.uniforms.otherMatrix.value = this.maskMatrix.toArray(!0), this.uniforms.alpha.value = this.maskSprite.worldAlpha;
                var o = this.getShader(t);
                n.applyFilter(o, e, i)
            }, Object.defineProperties(n.prototype, {
                map: {
                    get: function () {
                        return this.uniforms.mask.value
                    },
                    set: function (t) {
                        this.uniforms.mask.value = t
                    }
                },
                offset: {
                    get: function () {
                        return this.uniforms.offset.value
                    },
                    set: function (t) {
                        this.uniforms.offset.value = t
                    }
                }
            })
        }, {
            "../../../math": 29,
            "./AbstractFilter": 46
        }],
        49: [function (t, e, i) {
            function n(t) {
                o.call(this, t), this.currentBlendMode = 99999
            }
            var o = t("./WebGLManager");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.setBlendMode = function (t) {
                if (this.currentBlendMode === t) return !1;
                this.currentBlendMode = t;
                var e = this.renderer.blendModes[this.currentBlendMode];
                return this.renderer.gl.blendFunc(e[0], e[1]), !0
            }
        }, {
            "./WebGLManager": 54
        }],
        50: [function (t, e, i) {
            function n(t) {
                o.call(this, t), this.filterStack = [], this.filterStack.push({
                    renderTarget: t.currentRenderTarget,
                    filter: [],
                    bounds: null
                }), this.texturePool = [], this.textureSize = new l.Rectangle(0, 0, t.width, t.height), this.currentFrame = null
            }
            var o = t("./WebGLManager"),
                s = t("../utils/RenderTarget"),
                a = t("../../../const"),
                r = t("../utils/Quad"),
                l = t("../../../math");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.onContextChange = function () {
                this.texturePool.length = 0;
                var t = this.renderer.gl;
                this.quad = new r(t)
            }, n.prototype.setFilterStack = function (t) {
                this.filterStack = t
            }, n.prototype.pushFilter = function (t, e) {
                var i = t.filterArea ? t.filterArea.clone() : t.getBounds();
                i.x = 0 | i.x, i.y = 0 | i.y, i.width = 0 | i.width, i.height = 0 | i.height;
                var n = 0 | e[0].padding;
                if (i.x -= n, i.y -= n, i.width += 2 * n, i.height += 2 * n, this.renderer.currentRenderTarget.transform) {
                    var o = this.renderer.currentRenderTarget.transform;
                    i.x += o.tx, i.y += o.ty, this.capFilterArea(i), i.x -= o.tx, i.y -= o.ty
                } else this.capFilterArea(i);
                if (i.width > 0 && i.height > 0) {
                    this.currentFrame = i;
                    var s = this.getRenderTarget();
                    this.renderer.setRenderTarget(s), s.clear(), this.filterStack.push({
                        renderTarget: s,
                        filter: e
                    })
                } else this.filterStack.push({
                    renderTarget: null,
                    filter: e
                })
            }, n.prototype.popFilter = function () {
                var t = this.filterStack.pop(),
                    e = this.filterStack[this.filterStack.length - 1],
                    i = t.renderTarget;
                if (t.renderTarget) {
                    var n = e.renderTarget,
                        o = this.renderer.gl;
                    this.currentFrame = i.frame, this.quad.map(this.textureSize, i.frame), o.bindBuffer(o.ARRAY_BUFFER, this.quad.vertexBuffer), o.bindBuffer(o.ELEMENT_ARRAY_BUFFER, this.quad.indexBuffer);
                    var s = t.filter;
                    if (o.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition, 2, o.FLOAT, !1, 0, 0), o.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord, 2, o.FLOAT, !1, 0, 32), o.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor, 4, o.FLOAT, !1, 0, 64), this.renderer.blendModeManager.setBlendMode(a.BLEND_MODES.NORMAL), 1 === s.length) s[0].uniforms.dimensions && (s[0].uniforms.dimensions.value[0] = this.renderer.width, s[0].uniforms.dimensions.value[1] = this.renderer.height, s[0].uniforms.dimensions.value[2] = this.quad.vertices[0], s[0].uniforms.dimensions.value[3] = this.quad.vertices[5]), s[0].applyFilter(this.renderer, i, n), this.returnRenderTarget(i);
                    else {
                        for (var r = i, l = this.getRenderTarget(!0), u = 0; u < s.length - 1; u++) {
                            var h = s[u];
                            h.uniforms.dimensions && (h.uniforms.dimensions.value[0] = this.renderer.width, h.uniforms.dimensions.value[1] = this.renderer.height, h.uniforms.dimensions.value[2] = this.quad.vertices[0], h.uniforms.dimensions.value[3] = this.quad.vertices[5]), h.applyFilter(this.renderer, r, l);
                            var c = r;
                            r = l, l = c
                        }
                        s[s.length - 1].applyFilter(this.renderer, r, n), this.returnRenderTarget(r), this.returnRenderTarget(l)
                    }
                    return t.filter
                }
            }, n.prototype.getRenderTarget = function (t) {
                var e = this.texturePool.pop() || new s(this.renderer.gl, this.textureSize.width, this.textureSize.height, a.SCALE_MODES.LINEAR, this.renderer.resolution * a.FILTER_RESOLUTION);
                return e.frame = this.currentFrame, t && e.clear(!0), e
            }, n.prototype.returnRenderTarget = function (t) {
                this.texturePool.push(t)
            }, n.prototype.applyFilter = function (t, e, i, n) {
                var o = this.renderer.gl;
                this.renderer.setRenderTarget(i), n && i.clear(), this.renderer.shaderManager.setShader(t), t.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(!0), t.syncUniforms(), o.activeTexture(o.TEXTURE0), o.bindTexture(o.TEXTURE_2D, e.texture), o.drawElements(o.TRIANGLES, 6, o.UNSIGNED_SHORT, 0)
            }, n.prototype.calculateMappedMatrix = function (t, e, i) {
                var n = e.worldTransform.copy(l.Matrix.TEMP_MATRIX),
                    o = e._texture.baseTexture,
                    s = i.identity(),
                    a = this.textureSize.height / this.textureSize.width;
                s.translate(t.x / this.textureSize.width, t.y / this.textureSize.height), s.scale(1, a);
                var r = this.textureSize.width / o.width,
                    u = this.textureSize.height / o.height;
                return n.tx /= o.width * r, n.ty /= o.width * r, n.invert(), s.prepend(n), s.scale(1, 1 / a), s.scale(r, u), s.translate(e.anchor.x, e.anchor.y), s
            }, n.prototype.capFilterArea = function (t) {
                t.x < 0 && (t.width += t.x, t.x = 0), t.y < 0 && (t.height += t.y, t.y = 0), t.x + t.width > this.textureSize.width && (t.width = this.textureSize.width - t.x), t.y + t.height > this.textureSize.height && (t.height = this.textureSize.height - t.y)
            }, n.prototype.resize = function (t, e) {
                this.textureSize.width = t, this.textureSize.height = e;
                for (var i = 0; i < this.texturePool.length; i++) this.texturePool[i].resize(t, e)
            }, n.prototype.destroy = function () {
                this.filterStack = null, this.offsetY = 0;
                for (var t = 0; t < this.texturePool.length; t++) this.texturePool[t].destroy();
                this.texturePool = null
            }
        }, {
            "../../../const": 18,
            "../../../math": 29,
            "../utils/Quad": 60,
            "../utils/RenderTarget": 61,
            "./WebGLManager": 54
        }],
        51: [function (t, e, i) {
            function n(t) {
                o.call(this, t), this.stencilStack = [], this.reverse = !0, this.count = 0, this.alphaMaskPool = []
            }
            var o = t("./WebGLManager"),
                s = t("../filters/SpriteMaskFilter");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.pushMask = function (t, e) {
                e.texture ? this.pushSpriteMask(t, e) : this.pushStencilMask(t, e)
            }, n.prototype.popMask = function (t, e) {
                e.texture ? this.popSpriteMask(t, e) : this.popStencilMask(t, e)
            }, n.prototype.pushSpriteMask = function (t, e) {
                var i = this.alphaMaskPool.pop();
                i || (i = [new s(e)]), i[0].maskSprite = e, this.renderer.filterManager.pushFilter(t, i)
            }, n.prototype.popSpriteMask = function () {
                var t = this.renderer.filterManager.popFilter();
                this.alphaMaskPool.push(t)
            }, n.prototype.pushStencilMask = function (t, e) {
                this.renderer.stencilManager.pushMask(e)
            }, n.prototype.popStencilMask = function (t, e) {
                this.renderer.stencilManager.popMask(e)
            }
        }, {
            "../filters/SpriteMaskFilter": 48,
            "./WebGLManager": 54
        }],
        52: [function (t, e, i) {
            function n(t) {
                o.call(this, t), this.maxAttibs = 10, this.attribState = [], this.tempAttribState = [];
                for (var e = 0; e < this.maxAttibs; e++) this.attribState[e] = !1;
                this.stack = [], this._currentId = -1, this.currentShader = null
            }
            var o = t("./WebGLManager"),
                s = t("../shaders/TextureShader"),
                a = t("../shaders/ComplexPrimitiveShader"),
                r = t("../shaders/PrimitiveShader"),
                l = t("../../../utils");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, l.pluginTarget.mixin(n), e.exports = n, n.prototype.onContextChange = function () {
                this.initPlugins();
                var t = this.renderer.gl;
                this.maxAttibs = t.getParameter(t.MAX_VERTEX_ATTRIBS), this.attribState = [];
                for (var e = 0; e < this.maxAttibs; e++) this.attribState[e] = !1;
                this.defaultShader = new s(this), this.primitiveShader = new r(this), this.complexPrimitiveShader = new a(this)
            }, n.prototype.setAttribs = function (t) {
                var e;
                for (e = 0; e < this.tempAttribState.length; e++) this.tempAttribState[e] = !1;
                for (var i in t) this.tempAttribState[t[i]] = !0;
                var n = this.renderer.gl;
                for (e = 0; e < this.attribState.length; e++) this.attribState[e] !== this.tempAttribState[e] && (this.attribState[e] = this.tempAttribState[e], this.attribState[e] ? n.enableVertexAttribArray(e) : n.disableVertexAttribArray(e))
            }, n.prototype.setShader = function (t) {
                return this._currentId !== t.uuid && (this._currentId = t.uuid, this.currentShader = t, this.renderer.gl.useProgram(t.program), this.setAttribs(t.attributes), !0)
            }, n.prototype.destroy = function () {
                o.prototype.destroy.call(this), this.destroyPlugins(), this.attribState = null, this.tempAttribState = null
            }
        }, {
            "../../../utils": 72,
            "../shaders/ComplexPrimitiveShader": 55,
            "../shaders/PrimitiveShader": 56,
            "../shaders/TextureShader": 58,
            "./WebGLManager": 54
        }],
        53: [function (t, e, i) {
            function n(t) {
                o.call(this, t), this.stencilMaskStack = null
            }
            var o = t("./WebGLManager"),
                s = t("../../../utils");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.setMaskStack = function (t) {
                this.stencilMaskStack = t;
                var e = this.renderer.gl;
                0 === t.stencilStack.length ? e.disable(e.STENCIL_TEST) : e.enable(e.STENCIL_TEST)
            }, n.prototype.pushStencil = function (t, e) {
                this.renderer.currentRenderTarget.attachStencilBuffer();
                var i = this.renderer.gl,
                    n = this.stencilMaskStack;
                this.bindGraphics(t, e, this.renderer), 0 === n.stencilStack.length && (i.enable(i.STENCIL_TEST), i.clear(i.STENCIL_BUFFER_BIT), n.reverse = !0, n.count = 0), n.stencilStack.push(e);
                var o = n.count;
                i.colorMask(!1, !1, !1, !1), i.stencilFunc(i.ALWAYS, 0, 255), i.stencilOp(i.KEEP, i.KEEP, i.INVERT), 1 === e.mode ? (i.drawElements(i.TRIANGLE_FAN, e.indices.length - 4, i.UNSIGNED_SHORT, 0), n.reverse ? (i.stencilFunc(i.EQUAL, 255 - o, 255), i.stencilOp(i.KEEP, i.KEEP, i.DECR)) : (i.stencilFunc(i.EQUAL, o, 255), i.stencilOp(i.KEEP, i.KEEP, i.INCR)), i.drawElements(i.TRIANGLE_FAN, 4, i.UNSIGNED_SHORT, 2 * (e.indices.length - 4)), n.reverse ? i.stencilFunc(i.EQUAL, 255 - (o + 1), 255) : i.stencilFunc(i.EQUAL, o + 1, 255), n.reverse = !n.reverse) : (n.reverse ? (i.stencilFunc(i.EQUAL, o, 255), i.stencilOp(i.KEEP, i.KEEP, i.INCR)) : (i.stencilFunc(i.EQUAL, 255 - o, 255), i.stencilOp(i.KEEP, i.KEEP, i.DECR)), i.drawElements(i.TRIANGLE_STRIP, e.indices.length, i.UNSIGNED_SHORT, 0), n.reverse ? i.stencilFunc(i.EQUAL, o + 1, 255) : i.stencilFunc(i.EQUAL, 255 - (o + 1), 255)), i.colorMask(!0, !0, !0, !0), i.stencilOp(i.KEEP, i.KEEP, i.KEEP), n.count++
            }, n.prototype.bindGraphics = function (t, e) {
                this._currentGraphics = t;
                var i, n = this.renderer.gl;
                1 === e.mode ? (i = this.renderer.shaderManager.complexPrimitiveShader, this.renderer.shaderManager.setShader(i), n.uniformMatrix3fv(i.uniforms.translationMatrix._location, !1, t.worldTransform.toArray(!0)), n.uniformMatrix3fv(i.uniforms.projectionMatrix._location, !1, this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)), n.uniform3fv(i.uniforms.tint._location, s.hex2rgb(t.tint)), n.uniform3fv(i.uniforms.color._location, e.color), n.uniform1f(i.uniforms.alpha._location, t.worldAlpha), n.bindBuffer(n.ARRAY_BUFFER, e.buffer), n.vertexAttribPointer(i.attributes.aVertexPosition, 2, n.FLOAT, !1, 8, 0), n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, e.indexBuffer)) : (i = this.renderer.shaderManager.primitiveShader, this.renderer.shaderManager.setShader(i), n.uniformMatrix3fv(i.uniforms.translationMatrix._location, !1, t.worldTransform.toArray(!0)), n.uniformMatrix3fv(i.uniforms.projectionMatrix._location, !1, this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)), n.uniform3fv(i.uniforms.tint._location, s.hex2rgb(t.tint)), n.uniform1f(i.uniforms.alpha._location, t.worldAlpha), n.bindBuffer(n.ARRAY_BUFFER, e.buffer), n.vertexAttribPointer(i.attributes.aVertexPosition, 2, n.FLOAT, !1, 24, 0), n.vertexAttribPointer(i.attributes.aColor, 4, n.FLOAT, !1, 24, 8), n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, e.indexBuffer))
            }, n.prototype.popStencil = function (t, e) {
                var i = this.renderer.gl,
                    n = this.stencilMaskStack;
                if (n.stencilStack.pop(), n.count--, 0 === n.stencilStack.length) i.disable(i.STENCIL_TEST);
                else {
                    var o = n.count;
                    this.bindGraphics(t, e, this.renderer), i.colorMask(!1, !1, !1, !1), 1 === e.mode ? (n.reverse = !n.reverse, n.reverse ? (i.stencilFunc(i.EQUAL, 255 - (o + 1), 255), i.stencilOp(i.KEEP, i.KEEP, i.INCR)) : (i.stencilFunc(i.EQUAL, o + 1, 255), i.stencilOp(i.KEEP, i.KEEP, i.DECR)), i.drawElements(i.TRIANGLE_FAN, 4, i.UNSIGNED_SHORT, 2 * (e.indices.length - 4)), i.stencilFunc(i.ALWAYS, 0, 255), i.stencilOp(i.KEEP, i.KEEP, i.INVERT), i.drawElements(i.TRIANGLE_FAN, e.indices.length - 4, i.UNSIGNED_SHORT, 0), n.reverse ? i.stencilFunc(i.EQUAL, o, 255) : i.stencilFunc(i.EQUAL, 255 - o, 255)) : (n.reverse ? (i.stencilFunc(i.EQUAL, o + 1, 255), i.stencilOp(i.KEEP, i.KEEP, i.DECR)) : (i.stencilFunc(i.EQUAL, 255 - (o + 1), 255), i.stencilOp(i.KEEP, i.KEEP, i.INCR)), i.drawElements(i.TRIANGLE_STRIP, e.indices.length, i.UNSIGNED_SHORT, 0), n.reverse ? i.stencilFunc(i.EQUAL, o, 255) : i.stencilFunc(i.EQUAL, 255 - o, 255)), i.colorMask(!0, !0, !0, !0), i.stencilOp(i.KEEP, i.KEEP, i.KEEP)
                }
            }, n.prototype.destroy = function () {
                o.prototype.destroy.call(this), this.stencilMaskStack.stencilStack = null
            }, n.prototype.pushMask = function (t) {
                this.renderer.setObjectRenderer(this.renderer.plugins.graphics), t.dirty && this.renderer.plugins.graphics.updateGraphics(t, this.renderer.gl), t._webGL[this.renderer.gl.id].data.length && this.pushStencil(t, t._webGL[this.renderer.gl.id].data[0], this.renderer)
            }, n.prototype.popMask = function (t) {
                this.renderer.setObjectRenderer(this.renderer.plugins.graphics), this.popStencil(t, t._webGL[this.renderer.gl.id].data[0], this.renderer)
            }
        }, {
            "../../../utils": 72,
            "./WebGLManager": 54
        }],
        54: [function (t, e, i) {
            function n(t) {
                this.renderer = t, this.renderer.on("context", this.onContextChange, this)
            }
            n.prototype.constructor = n, e.exports = n, n.prototype.onContextChange = function () {}, n.prototype.destroy = function () {
                this.renderer.off("context", this.onContextChange), this.renderer = null
            }
        }, {}],
        55: [function (t, e, i) {
            function n(t) {
                o.call(this, t, ["attribute vec2 aVertexPosition;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform vec3 tint;", "uniform float alpha;", "uniform vec3 color;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = vec4(color * alpha * tint, alpha);", "}"].join("\n"), ["precision mediump float;", "varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"), {
                    tint: {
                        type: "3f",
                        value: [0, 0, 0]
                    },
                    alpha: {
                        type: "1f",
                        value: 0
                    },
                    color: {
                        type: "3f",
                        value: [0, 0, 0]
                    },
                    translationMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    },
                    projectionMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    }
                }, {
                    aVertexPosition: 0
                })
            }
            var o = t("./Shader");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n
        }, {
            "./Shader": 57
        }],
        56: [function (t, e, i) {
            function n(t) {
                o.call(this, t, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform float flipY;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["precision mediump float;", "varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"), {
                    tint: {
                        type: "3f",
                        value: [0, 0, 0]
                    },
                    alpha: {
                        type: "1f",
                        value: 0
                    },
                    translationMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    },
                    projectionMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    }
                }, {
                    aVertexPosition: 0,
                    aColor: 0
                })
            }
            var o = t("./Shader");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n
        }, {
            "./Shader": 57
        }],
        57: [function (t, e, i) {
            function n(t, e, i, n, s) {
                if (!e || !i) throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");
                this.uuid = o.uuid(), this.gl = t.renderer.gl, this.shaderManager = t, this.program = null, this.uniforms = n || {}, this.attributes = s || {}, this.textureCount = 1, this.vertexSrc = e, this.fragmentSrc = i, this.init()
            }
            var o = t("../../../utils");
            n.prototype.constructor = n, e.exports = n, n.prototype.init = function () {
                this.compile(), this.gl.useProgram(this.program), this.cacheUniformLocations(Object.keys(this.uniforms)), this.cacheAttributeLocations(Object.keys(this.attributes))
            }, n.prototype.cacheUniformLocations = function (t) {
                for (var e = 0; e < t.length; ++e) this.uniforms[t[e]]._location = this.gl.getUniformLocation(this.program, t[e])
            }, n.prototype.cacheAttributeLocations = function (t) {
                for (var e = 0; e < t.length; ++e) this.attributes[t[e]] = this.gl.getAttribLocation(this.program, t[e])
            }, n.prototype.compile = function () {
                var t = this.gl,
                    e = this._glCompile(t.VERTEX_SHADER, this.vertexSrc),
                    i = this._glCompile(t.FRAGMENT_SHADER, this.fragmentSrc),
                    n = t.createProgram();
                return t.attachShader(n, e), t.attachShader(n, i), t.linkProgram(n), t.getProgramParameter(n, t.LINK_STATUS) || (t.getProgramInfoLog(n), t.deleteProgram(n), n = null), t.deleteShader(e), t.deleteShader(i), this.program = n
            }, n.prototype.syncUniform = function (t) {
                var e, i, n = t._location,
                    s = t.value,
                    a = this.gl;
                switch (t.type) {
                    case "i":
                    case "1i":
                        a.uniform1i(n, s);
                        break;
                    case "f":
                    case "1f":
                        a.uniform1f(n, s);
                        break;
                    case "2f":
                        a.uniform2f(n, s[0], s[1]);
                        break;
                    case "3f":
                        a.uniform3f(n, s[0], s[1], s[2]);
                        break;
                    case "4f":
                        a.uniform4f(n, s[0], s[1], s[2], s[3]);
                        break;
                    case "v2":
                        a.uniform2f(n, s.x, s.y);
                        break;
                    case "v3":
                        a.uniform3f(n, s.x, s.y, s.z);
                        break;
                    case "v4":
                        a.uniform4f(n, s.x, s.y, s.z, s.w);
                        break;
                    case "1iv":
                        a.uniform1iv(n, s);
                        break;
                    case "2iv":
                        a.uniform2iv(n, s);
                        break;
                    case "3iv":
                        a.uniform3iv(n, s);
                        break;
                    case "4iv":
                        a.uniform4iv(n, s);
                        break;
                    case "1fv":
                        a.uniform1fv(n, s);
                        break;
                    case "2fv":
                        a.uniform2fv(n, s);
                        break;
                    case "3fv":
                        a.uniform3fv(n, s);
                        break;
                    case "4fv":
                        a.uniform4fv(n, s);
                        break;
                    case "m2":
                    case "mat2":
                    case "Matrix2fv":
                        a.uniformMatrix2fv(n, t.transpose, s);
                        break;
                    case "m3":
                    case "mat3":
                    case "Matrix3fv":
                        a.uniformMatrix3fv(n, t.transpose, s);
                        break;
                    case "m4":
                    case "mat4":
                    case "Matrix4fv":
                        a.uniformMatrix4fv(n, t.transpose, s);
                        break;
                    case "c":
                        "number" == typeof s && (s = o.hex2rgb(s)), a.uniform3f(n, s[0], s[1], s[2]);
                        break;
                    case "iv1":
                        a.uniform1iv(n, s);
                        break;
                    case "iv":
                        a.uniform3iv(n, s);
                        break;
                    case "fv1":
                        a.uniform1fv(n, s);
                        break;
                    case "fv":
                        a.uniform3fv(n, s);
                        break;
                    case "v2v":
                        for (t._array || (t._array = new Float32Array(2 * s.length)), e = 0, i = s.length; e < i; ++e) t._array[2 * e] = s[e].x, t._array[2 * e + 1] = s[e].y;
                        a.uniform2fv(n, t._array);
                        break;
                    case "v3v":
                        for (t._array || (t._array = new Float32Array(3 * s.length)), e = 0, i = s.length; e < i; ++e) t._array[3 * e] = s[e].x, t._array[3 * e + 1] = s[e].y, t._array[3 * e + 2] = s[e].z;
                        a.uniform3fv(n, t._array);
                        break;
                    case "v4v":
                        for (t._array || (t._array = new Float32Array(4 * s.length)), e = 0, i = s.length; e < i; ++e) t._array[4 * e] = s[e].x, t._array[4 * e + 1] = s[e].y, t._array[4 * e + 2] = s[e].z, t._array[4 * e + 3] = s[e].w;
                        a.uniform4fv(n, t._array);
                        break;
                    case "t":
                    case "sampler2D":
                        if (!t.value || !t.value.baseTexture.hasLoaded) break;
                        a.activeTexture(a["TEXTURE" + this.textureCount]);
                        var r = t.value.baseTexture._glTextures[a.id];
                        r || this.initSampler2D(t), a.bindTexture(a.TEXTURE_2D, r), a.uniform1i(t._location, this.textureCount), this.textureCount++;
                        break;
                    default:
                }
            }, n.prototype.syncUniforms = function () {
                for (var t in this.textureCount = 1, this.uniforms) this.syncUniform(this.uniforms[t])
            }, n.prototype.initSampler2D = function (t) {
                var e = this.gl,
                    i = t.value.baseTexture;
                if (i.hasLoaded)
                    if (t.textureData) {
                        var n = t.textureData;
                        i._glTextures[e.id] = e.createTexture(), e.bindTexture(e.TEXTURE_2D, i._glTextures[e.id]), e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, i.premultipliedAlpha), e.texImage2D(e.TEXTURE_2D, 0, n.luminance ? e.LUMINANCE : e.RGBA, e.RGBA, e.UNSIGNED_BYTE, i.source), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, n.magFilter ? n.magFilter : e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, n.wrapS ? n.wrapS : e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, n.wrapS ? n.wrapS : e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, n.wrapT ? n.wrapT : e.CLAMP_TO_EDGE)
                    } else this.shaderManager.renderer.updateTexture(i)
            }, n.prototype.destroy = function () {
                this.gl.deleteProgram(this.program), this.gl = null, this.uniforms = null, this.attributes = null, this.vertexSrc = null, this.fragmentSrc = null
            }, n.prototype._glCompile = function (t, e) {
                var i = this.gl.createShader(t);
                return this.gl.shaderSource(i, e), this.gl.compileShader(i), this.gl.getShaderParameter(i, this.gl.COMPILE_STATUS) ? i : null
            }
        }, {
            "../../../utils": 72
        }],
        58: [function (t, e, i) {
            function n(t, e, i, s, a) {
                var r = {
                    uSampler: {
                        type: "sampler2D",
                        value: 0
                    },
                    projectionMatrix: {
                        type: "mat3",
                        value: new Float32Array(1, 0, 0, 0, 1, 0, 0, 0, 1)
                    }
                };
                if (s)
                    for (var l in s) r[l] = s[l];
                var u = {
                    aVertexPosition: 0,
                    aTextureCoord: 0,
                    aColor: 0
                };
                if (a)
                    for (var h in a) u[h] = a[h];
                e = e || n.defaultVertexSrc, i = i || n.defaultFragmentSrc, o.call(this, t, e, i, r, u)
            }
            var o = t("./Shader");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.defaultVertexSrc = ["#ifdef GL_FRAGMENT_PRECISION_HIGH", "precision highp float;", "#else", "precision mediump float;", "#endif", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = vec4(aColor.rgb * aColor.a, aColor.a);", "}"].join("\n"), n.defaultFragmentSrc = ["#ifdef GL_FRAGMENT_PRECISION_HIGH", "precision highp float;", "#else", "precision mediump float;", "#endif", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "void main(void){", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;", "}"].join("\n")
        }, {
            "./Shader": 57
        }],
        59: [function (t, e, i) {
            function n(t) {
                o.call(this, t)
            }
            var o = t("../managers/WebGLManager");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.start = function () {}, n.prototype.stop = function () {
                this.flush()
            }, n.prototype.flush = function () {}, n.prototype.render = function (t) {}
        }, {
            "../managers/WebGLManager": 54
        }],
        60: [function (t, e, i) {
            function n(t) {
                this.gl = t, this.vertices = new Float32Array([0, 0, 200, 0, 200, 200, 0, 200]), this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), this.colors = new Float32Array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]), this.indices = new Uint16Array([0, 1, 2, 0, 3, 2]), this.vertexBuffer = t.createBuffer(), this.indexBuffer = t.createBuffer(), t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer), t.bufferData(t.ARRAY_BUFFER, 128, t.DYNAMIC_DRAW), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer), t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW), this.upload()
            }
            n.prototype.constructor = n, n.prototype.map = function (t, e) {
                var i = 0,
                    n = 0;
                this.uvs[0] = i, this.uvs[1] = n, this.uvs[2] = i + e.width / t.width, this.uvs[3] = n, this.uvs[4] = i + e.width / t.width, this.uvs[5] = n + e.height / t.height, this.uvs[6] = i, this.uvs[7] = n + e.height / t.height, i = e.x, n = e.y, this.vertices[0] = i, this.vertices[1] = n, this.vertices[2] = i + e.width, this.vertices[3] = n, this.vertices[4] = i + e.width, this.vertices[5] = n + e.height, this.vertices[6] = i, this.vertices[7] = n + e.height, this.upload()
            }, n.prototype.upload = function () {
                var t = this.gl;
                t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer), t.bufferSubData(t.ARRAY_BUFFER, 0, this.vertices), t.bufferSubData(t.ARRAY_BUFFER, 32, this.uvs), t.bufferSubData(t.ARRAY_BUFFER, 64, this.colors)
            }, e.exports = n
        }, {}],
        61: [function (t, e, i) {
            var n = t("../../../math"),
                o = t("../../../utils"),
                s = t("../../../const"),
                a = t("./StencilMaskStack"),
                r = function (t, e, i, r, l, u) {
                    (this.gl = t, this.frameBuffer = null, this.texture = null, this.size = new n.Rectangle(0, 0, 1, 1), this.resolution = l || s.RESOLUTION, this.projectionMatrix = new n.Matrix, this.transform = null, this.frame = null, this.stencilBuffer = null, this.stencilMaskStack = new a, this.filterStack = [{
                        renderTarget: this,
                        filter: [],
                        bounds: this.size
                    }], this.scaleMode = r || s.SCALE_MODES.DEFAULT, this.root = u, this.root) || (this.frameBuffer = t.createFramebuffer(), this.texture = t.createTexture(), t.bindTexture(t.TEXTURE_2D, this.texture), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, r === s.SCALE_MODES.LINEAR ? t.LINEAR : t.NEAREST), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, r === s.SCALE_MODES.LINEAR ? t.LINEAR : t.NEAREST), o.isPowerOfTwo(e, i) ? (t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.REPEAT)) : (t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE)), t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, this.texture, 0));
                    this.resize(e, i)
                };
            r.prototype.constructor = r, e.exports = r, r.prototype.clear = function (t) {
                var e = this.gl;
                t && e.bindFramebuffer(e.FRAMEBUFFER, this.frameBuffer), e.clearColor(0, 0, 0, 0), e.clear(e.COLOR_BUFFER_BIT)
            }, r.prototype.attachStencilBuffer = function () {
                if (!this.stencilBuffer && !this.root) {
                    var t = this.gl;
                    this.stencilBuffer = t.createRenderbuffer(), t.bindRenderbuffer(t.RENDERBUFFER, this.stencilBuffer), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencilBuffer), t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.size.width * this.resolution, this.size.height * this.resolution)
                }
            }, r.prototype.activate = function () {
                var t = this.gl;
                t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer);
                var e = this.frame || this.size;
                this.calculateProjection(e), this.transform && this.projectionMatrix.append(this.transform), t.viewport(0, 0, e.width * this.resolution, e.height * this.resolution)
            }, r.prototype.calculateProjection = function (t) {
                var e = this.projectionMatrix;
                e.identity(), this.root ? (e.a = 1 / t.width * 2, e.d = -1 / t.height * 2, e.tx = -1 - t.x * e.a, e.ty = 1 - t.y * e.d) : (e.a = 1 / t.width * 2, e.d = 1 / t.height * 2, e.tx = -1 - t.x * e.a, e.ty = -1 - t.y * e.d)
            }, r.prototype.resize = function (t, e) {
                if (t |= 0, e |= 0, this.size.width !== t || this.size.height !== e) {
                    if (this.size.width = t, this.size.height = e, !this.root) {
                        var i = this.gl;
                        i.bindTexture(i.TEXTURE_2D, this.texture), i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, t * this.resolution, e * this.resolution, 0, i.RGBA, i.UNSIGNED_BYTE, null), this.stencilBuffer && (i.bindRenderbuffer(i.RENDERBUFFER, this.stencilBuffer), i.renderbufferStorage(i.RENDERBUFFER, i.DEPTH_STENCIL, t * this.resolution, e * this.resolution))
                    }
                    var n = this.frame || this.size;
                    this.calculateProjection(n)
                }
            }, r.prototype.destroy = function () {
                var t = this.gl;
                t.deleteFramebuffer(this.frameBuffer), t.deleteTexture(this.texture), this.frameBuffer = null, this.texture = null
            }
        }, {
            "../../../const": 18,
            "../../../math": 29,
            "../../../utils": 72,
            "./StencilMaskStack": 62
        }],
        62: [function (t, e, i) {
            function n() {
                this.stencilStack = [], this.reverse = !0, this.count = 0
            }
            n.prototype.constructor = n, e.exports = n
        }, {}],
        63: [function (t, e, i) {
            function n(t) {
                a.call(this), this.anchor = new o.Point, this._texture = null, this._width = 0, this._height = 0, this.tint = 16777215, this.blendMode = u.BLEND_MODES.NORMAL, this.shader = null, this.cachedTint = 16777215, this.texture = t || s.EMPTY
            }
            var o = t("../math"),
                s = t("../textures/Texture"),
                a = t("../display/Container"),
                r = t("../renderers/canvas/utils/CanvasTinter"),
                l = t("../utils"),
                u = t("../const"),
                h = new o.Point;
            n.prototype = Object.create(a.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                width: {
                    get: function () {
                        return this.scale.x * this.texture._frame.width
                    },
                    set: function (t) {
                        this.scale.x = t / this.texture._frame.width, this._width = t
                    }
                },
                height: {
                    get: function () {
                        return this.scale.y * this.texture._frame.height
                    },
                    set: function (t) {
                        this.scale.y = t / this.texture._frame.height, this._height = t
                    }
                },
                texture: {
                    get: function () {
                        return this._texture
                    },
                    set: function (t) {
                        this._texture !== t && (this._texture = t, this.cachedTint = 16777215, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
                    }
                }
            }), n.prototype._onTextureUpdate = function () {
                this._width && (this.scale.x = this._width / this.texture.frame.width), this._height && (this.scale.y = this._height / this.texture.frame.height)
            }, n.prototype._renderWebGL = function (t) {
                t.setObjectRenderer(t.plugins.sprite), t.plugins.sprite.render(this)
            }, n.prototype.getBounds = function (t) {
                if (!this._currentBounds) {
                    var e, i, n, o, s = this._texture._frame.width,
                        a = this._texture._frame.height,
                        r = s * (1 - this.anchor.x),
                        l = s * -this.anchor.x,
                        u = a * (1 - this.anchor.y),
                        h = a * -this.anchor.y,
                        c = t || this.worldTransform,
                        p = c.a,
                        d = c.b,
                        m = c.c,
                        S = c.d,
                        g = c.tx,
                        y = c.ty;
                    if (0 === d && 0 === m) p < 0 && (p *= -1), S < 0 && (S *= -1), e = p * l + g, i = p * r + g, n = S * h + y, o = S * u + y;
                    else {
                        var f = p * l + m * h + g,
                            b = S * h + d * l + y,
                            T = p * r + m * h + g,
                            C = S * h + d * r + y,
                            A = p * r + m * u + g,
                            v = S * u + d * r + y,
                            M = p * l + m * u + g,
                            L = S * u + d * l + y;
                        e = M < (e = A < (e = T < (e = f) ? T : e) ? A : e) ? M : e, n = L < (n = v < (n = C < (n = b) ? C : n) ? v : n) ? L : n, i = M > (i = A > (i = T > (i = f) ? T : i) ? A : i) ? M : i, o = L > (o = v > (o = C > (o = b) ? C : o) ? v : o) ? L : o
                    }
                    if (this.children.length) {
                        var I = this.containerGetBounds();
                        r = I.x, l = I.x + I.width, e = e < r ? e : r, n = n < (u = I.y) ? n : u, i = i > l ? i : l, o = o > (h = I.y + I.height) ? o : h
                    }
                    var P = this._bounds;
                    P.x = e, P.width = i - e, P.y = n, P.height = o - n, this._currentBounds = P
                }
                return this._currentBounds
            }, n.prototype.getLocalBounds = function () {
                return this._bounds.x = -this._texture._frame.width * this.anchor.x, this._bounds.y = -this._texture._frame.height * this.anchor.y, this._bounds.width = this._texture._frame.width, this._bounds.height = this._texture._frame.height, this._bounds
            }, n.prototype.containsPoint = function (t) {
                this.worldTransform.applyInverse(t, h);
                var e, i = this._texture._frame.width,
                    n = this._texture._frame.height,
                    o = -i * this.anchor.x;
                return h.x > o && h.x < o + i && (e = -n * this.anchor.y, h.y > e && h.y < e + n)
            }, n.prototype._renderCanvas = function (t) {
                if (!(this.texture.crop.width <= 0 || this.texture.crop.height <= 0) && (this.blendMode !== t.currentBlendMode && (t.currentBlendMode = this.blendMode, t.context.globalCompositeOperation = t.blendModes[t.currentBlendMode]), this.texture.valid)) {
                    var e, i, n, o, s = this._texture,
                        a = this.worldTransform,
                        l = s.baseTexture.resolution / t.resolution;
                    if (t.context.globalAlpha = this.worldAlpha, t.smoothProperty && t.currentScaleMode !== s.baseTexture.scaleMode && (t.currentScaleMode = s.baseTexture.scaleMode, t.context[t.smoothProperty] = t.currentScaleMode === u.SCALE_MODES.LINEAR), s.rotate) {
                        var h = a.a,
                            c = a.b;
                        a.a = -a.c, a.b = -a.d, a.c = h, a.d = c, n = s.crop.height, o = s.crop.width, e = s.trim ? s.trim.y - this.anchor.y * s.trim.height : this.anchor.y * -s._frame.height, i = s.trim ? s.trim.x - this.anchor.x * s.trim.width : this.anchor.x * -s._frame.width
                    } else n = s.crop.width, o = s.crop.height, e = s.trim ? s.trim.x - this.anchor.x * s.trim.width : this.anchor.x * -s._frame.width, i = s.trim ? s.trim.y - this.anchor.y * s.trim.height : this.anchor.y * -s._frame.height;
                    t.roundPixels ? (t.context.setTransform(a.a, a.b, a.c, a.d, a.tx * t.resolution | 0, a.ty * t.resolution | 0), e |= 0, i |= 0) : t.context.setTransform(a.a, a.b, a.c, a.d, a.tx * t.resolution, a.ty * t.resolution), 16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint, this.tintedTexture = r.getTintedTexture(this, this.tint)), t.context.drawImage(this.tintedTexture, 0, 0, n * l * t.resolution, o * l * t.resolution, e, i, n * t.resolution, o * t.resolution)) : t.context.drawImage(s.baseTexture.source, s.crop.x * l, s.crop.y * l, n * l * t.resolution, o * l * t.resolution, e, i, n * t.resolution, o * t.resolution)
                }
            }, n.prototype.destroy = function (t, e) {
                a.prototype.destroy.call(this), this.anchor = null, t && this._texture.destroy(e), this._texture = null, this.shader = null
            }, n.fromFrame = function (t) {
                var e = l.TextureCache[t];
                if (!e) throw new Error('The frameId "' + t + '" does not exist in the texture cache');
                return new n(e)
            }, n.fromImage = function (t, e, i) {
                return new n(s.fromImage(t, e, i))
            }
        }, {
            "../const": 18,
            "../display/Container": 19,
            "../math": 29,
            "../renderers/canvas/utils/CanvasTinter": 44,
            "../textures/Texture": 68,
            "../utils": 72
        }],
        64: [function (t, e, i) {
            function n(t) {
                o.call(this, t), this.vertSize = 5, this.vertByteSize = 4 * this.vertSize, this.size = a.SPRITE_BATCH_SIZE;
                var e = 4 * this.size * this.vertByteSize,
                    i = 6 * this.size;
                this.vertices = new ArrayBuffer(e), this.positions = new Float32Array(this.vertices), this.colors = new Uint32Array(this.vertices), this.indices = new Uint16Array(i), this.lastIndexCount = 0;
                for (var n = 0, s = 0; n < i; n += 6, s += 4) this.indices[n + 0] = s + 0, this.indices[n + 1] = s + 1, this.indices[n + 2] = s + 2, this.indices[n + 3] = s + 0, this.indices[n + 4] = s + 2, this.indices[n + 5] = s + 3;
                this.drawing = !1, this.currentBatchSize = 0, this.currentBaseTexture = null, this.textures = [], this.blendModes = [], this.shaders = [], this.sprites = [], this.shader = null
            }
            var o = t("../../renderers/webgl/utils/ObjectRenderer"),
                s = t("../../renderers/webgl/WebGLRenderer"),
                a = t("../../const");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, s.registerPlugin("sprite", n), n.prototype.onContextChange = function () {
                var t = this.renderer.gl;
                this.shader = this.renderer.shaderManager.defaultShader, this.vertexBuffer = t.createBuffer(), this.indexBuffer = t.createBuffer(), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer), t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW), t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer), t.bufferData(t.ARRAY_BUFFER, this.vertices, t.DYNAMIC_DRAW), this.currentBlendMode = 99999
            }, n.prototype.render = function (t) {
                var e = t._texture;
                this.currentBatchSize >= this.size && (this.flush(), this.currentBaseTexture = e.baseTexture);
                var i = e._uvs;
                if (i) {
                    var n, o, s, a, r = t.anchor.x,
                        l = t.anchor.y;
                    if (e.trim) {
                        var u = e.trim;
                        n = (o = u.x - r * u.width) + e.crop.width, s = (a = u.y - l * u.height) + e.crop.height
                    } else n = e._frame.width * (1 - r), o = e._frame.width * -r, s = e._frame.height * (1 - l), a = e._frame.height * -l;
                    var h = this.currentBatchSize * this.vertByteSize,
                        c = t.worldTransform,
                        p = c.a,
                        d = c.b,
                        m = c.c,
                        S = c.d,
                        g = c.tx,
                        y = c.ty,
                        f = this.colors,
                        b = this.positions;
                    this.renderer.roundPixels ? (b[h] = p * o + m * a + g | 0, b[h + 1] = S * a + d * o + y | 0, b[h + 5] = p * n + m * a + g | 0, b[h + 6] = S * a + d * n + y | 0, b[h + 10] = p * n + m * s + g | 0, b[h + 11] = S * s + d * n + y | 0, b[h + 15] = p * o + m * s + g | 0, b[h + 16] = S * s + d * o + y | 0) : (b[h] = p * o + m * a + g, b[h + 1] = S * a + d * o + y, b[h + 5] = p * n + m * a + g, b[h + 6] = S * a + d * n + y, b[h + 10] = p * n + m * s + g, b[h + 11] = S * s + d * n + y, b[h + 15] = p * o + m * s + g, b[h + 16] = S * s + d * o + y), b[h + 2] = i.x0, b[h + 3] = i.y0, b[h + 7] = i.x1, b[h + 8] = i.y1, b[h + 12] = i.x2, b[h + 13] = i.y2, b[h + 17] = i.x3, b[h + 18] = i.y3;
                    var T = t.tint;
                    f[h + 4] = f[h + 9] = f[h + 14] = f[h + 19] = (T >> 16) + (65280 & T) + ((255 & T) << 16) + (255 * t.worldAlpha << 24), this.sprites[this.currentBatchSize++] = t
                }
            }, n.SRVB = [], n.SRVBidx = -1, n.prototype.flush = function () {
                if (0 !== this.currentBatchSize) {
                    var t, e = this.renderer.gl;
                    if (this.currentBatchSize > .5 * this.size) e.bufferSubData(e.ARRAY_BUFFER, 0, this.vertices);
                    else if (n.SRVBidx < 0) {
                        var i = this.positions.subarray(0, this.currentBatchSize * this.vertByteSize);
                        e.bufferSubData(e.ARRAY_BUFFER, 0, i)
                    } else {
                        var o = n.SRVB[n.SRVBidx];
                        null == o && (o = e.createBuffer(), n.SRVB.push(o)), n.SRVBidx++, e.bindBuffer(e.ARRAY_BUFFER, o);
                        var s = this.vertByteSize;
                        e.vertexAttribPointer(this.shader.attributes.aVertexPosition, 2, e.FLOAT, !1, s, 0), e.vertexAttribPointer(this.shader.attributes.aTextureCoord, 2, e.FLOAT, !1, s, 8), e.vertexAttribPointer(this.shader.attributes.aColor, 4, e.UNSIGNED_BYTE, !0, s, 16);
                        i = this.positions.subarray(0, this.currentBatchSize * this.vertByteSize);
                        e.bufferData(e.ARRAY_BUFFER, i, e.STATIC_DRAW)
                    }
                    for (var a, r, l, u, h = 0, c = 0, p = null, d = this.renderer.blendModeManager.currentBlendMode, m = null, S = !1, g = !1, y = 0, f = this.currentBatchSize; y < f; y++) a = (u = this.sprites[y])._texture.baseTexture, S = d !== (r = u.blendMode), g = m !== (l = u.shader || this.shader), (p !== a || S || g) && (this.renderBatch(p, h, c), c = y, h = 0, p = a, S && (d = r, this.renderer.blendModeManager.setBlendMode(d)), g && ((t = (m = l).shaders ? m.shaders[e.id] : m) || (t = m.getShader(this.renderer)), this.renderer.shaderManager.setShader(t), t.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(!0), t.syncUniforms(), e.activeTexture(e.TEXTURE0))), h++;
                    this.renderBatch(p, h, c), this.currentBatchSize = 0
                }
            }, n.prototype.renderBatch = function (t, e, i) {
                if (0 !== e) {
                    var n = this.renderer.gl;
                    t._glTextures[n.id] ? n.bindTexture(n.TEXTURE_2D, t._glTextures[n.id]) : this.renderer.updateTexture(t), n.drawElements(n.TRIANGLES, 6 * e, n.UNSIGNED_SHORT, 6 * i * 2), this.renderer.drawCount++
                }
            }, n.prototype.start = function () {
                var t = this.renderer.gl;
                t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                var e = this.vertByteSize;
                t.vertexAttribPointer(this.shader.attributes.aVertexPosition, 2, t.FLOAT, !1, e, 0), t.vertexAttribPointer(this.shader.attributes.aTextureCoord, 2, t.FLOAT, !1, e, 8), t.vertexAttribPointer(this.shader.attributes.aColor, 4, t.UNSIGNED_BYTE, !0, e, 16)
            }, n.prototype.destroy = function () {
                this.renderer.gl.deleteBuffer(this.vertexBuffer), this.renderer.gl.deleteBuffer(this.indexBuffer), this.shader.destroy(), this.renderer = null, this.vertices = null, this.positions = null, this.colors = null, this.indices = null, this.vertexBuffer = null, this.indexBuffer = null, this.currentBaseTexture = null, this.drawing = !1, this.textures = null, this.blendModes = null, this.shaders = null, this.sprites = null, this.shader = null
            }
        }, {
            "../../const": 18,
            "../../renderers/webgl/WebGLRenderer": 45,
            "../../renderers/webgl/utils/ObjectRenderer": 59
        }],
        65: [function (t, e, i) {
            function n(t, e, i) {
                this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d", {
                    willReadFrequently: !0
                }), this.resolution = i || r.RESOLUTION, this._text = null, this._style = null;
                var n = s.fromCanvas(this.canvas);
                n.trim = new a.Rectangle, o.call(this, n), this.text = t, this.style = e
            }
            var o = t("../sprites/Sprite"),
                s = t("../textures/Texture"),
                a = t("../math"),
                r = t("../const");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.fontPropertiesCache = {}, n.fontPropertiesCanvas = document.createElement("canvas"), n.fontPropertiesContext = n.fontPropertiesCanvas.getContext("2d"), Object.defineProperties(n.prototype, {
                width: {
                    get: function () {
                        return this.dirty && this.updateText(), this.scale.x * (this._texture._frame.width - this.extraWidthDueToEffects)
                    },
                    set: function (t) {
                        this.scale.x = t / (this._texture._frame.width - this.extraWidthDueToEffects), this._width = t
                    }
                },
                height: {
                    get: function () {
                        return this.dirty && this.updateText(), this.scale.y * (this._texture._frame.height - this._hack_extraOffsetTop - this.extraHeightDueToEffects)
                    },
                    set: function (t) {
                        this.scale.y = t / (this._texture._frame.height - this._hack_extraOffsetTop - this.extraHeightDueToEffects), this._height = t
                    }
                },
                style: {
                    get: function () {
                        return this._style
                    },
                    set: function (t) {
                        (t = t || {}).font = t.font || "bold 20pt Arial", t.fill = t.fill || "black", t.align = t.align || "left", t.stroke = t.stroke || "black", t.strokeThickness = t.strokeThickness || 0, t.wordWrap = t.wordWrap || !1, t.wordWrapWidth = t.wordWrapWidth || 100, t.dropShadow = t.dropShadow || !1, t.dropShadowColor = t.dropShadowColor || "#000000", t.dropShadowAngle = t.dropShadowAngle || Math.PI / 6, t.dropShadowDistance = t.dropShadowDistance || 5, t.blurShadow = t.blurShadow || !1, t.blurShadowX = t.blurShadowX || 5, t.blurShadowY = t.blurShadowY || 5, t.padding = t.padding || 0, t.textBaseline = t.textBaseline || "alphabetic", t.lineJoin = t.lineJoin || "round", t.miterLimit = t.miterLimit || 10, this._style = t, this.dirty = !0
                    }
                },
                text: {
                    get: function () {
                        return this._text
                    },
                    set: function (t) {
                        t = t.toString() || " ", this._text !== t && (this._text = t, this.dirty = !0)
                    }
                }
            }), n.prototype.updateText = function () {
                var t = this._style;
                this.context.font = t.font;
                for (var e = t.wordWrap ? this.wordWrap(this._text) : this._text, i = n.IsArabString(e), o = e.split(/(?:\r\n|\r|\n)/), s = new Array(o.length), a = 0, r = this.determineFontProperties(t.font), l = 0; l < o.length; l++) {
                    var u = this.context.measureText(o[l]).width;
                    s[l] = u, a = Math.max(a, u)
                }
                var h = a;
                this.extraWidthDueToEffects = t.strokeThickness + (this._hack_NoCutFix ? 0 : r.fontSize), t.dropShadow && (this.extraWidthDueToEffects += t.dropShadowDistance), t.blurShadow && (this.extraWidthDueToEffects += Math.max(2 * t.dropShadowDistance + Math.abs(t.blurShadowX), 0)), h += this.extraWidthDueToEffects, this.canvas.width = h * this.resolution;
                var c, p, d = this.style.lineHeight || r.fontSize,
                    m = this.style.spacingY || 0,
                    S = d * o.length + m * (o.length - 1) + r.extraSizeTop;
                if (this.extraHeightDueToEffects = t.strokeThickness, t.dropShadow && (this.extraHeightDueToEffects += t.dropShadowDistance), t.blurShadow && (this.extraHeightDueToEffects += Math.max(2 * t.dropShadowDistance + Math.abs(t.blurShadowY), 0)), S += this.extraHeightDueToEffects, this.canvas.height = (S + 2 * this._style.padding) * this.resolution, this.context.scale(this.resolution, this.resolution), navigator.isCocoonJS && this.context.clearRect(0, 0, this.canvas.width, this.canvas.height), this.context.font = t.font, this.context.strokeStyle = t.stroke, this.context.lineWidth = t.strokeThickness, this.context.textBaseline = t.textBaseline, this.context.lineJoin = t.lineJoin, this.context.miterLimit = t.miterLimit, i && (this.context.direction = "rtl"), 1 != this._skipUpdateTexture && t.dropShadow) {
                    this.context.fillStyle = t.dropShadowColor;
                    var g = Math.cos(t.dropShadowAngle) * t.dropShadowDistance,
                        y = Math.sin(t.dropShadowAngle) * t.dropShadowDistance;
                    for (l = 0; l < o.length; l++) c = t.strokeThickness / 2 + (this._hack_NoCutFix ? 0 : r.fontSize / 2), p = t.strokeThickness / 2 + l * (d + m) + r.ascent + r.extraSizeTop, i && (c += s[l]), "right" === t.align ? c += a - s[l] : "center" === t.align && (c += (a - s[l]) / 2), t.fill && this.context.fillText(o[l], c + g, p + y + this._style.padding)
                }
                if (this.context.fillStyle = t.fill, t.blurShadow) {
                    var f = null != window.safari || document.documentElement.className.indexOf("iOS") >= 0 && document.documentElement.className.indexOf("MobileSafari") >= 0;
                    this.context.shadowBlur = t.dropShadowDistance * (f ? .66 : 1), this.context.shadowOffsetX = t.blurShadowX, this.context.shadowOffsetY = t.blurShadowY
                }
                if (1 != this._skipUpdateTexture)
                    for (l = 0; l < o.length; l++) {
                        if (c = t.strokeThickness / 2 + (this._hack_NoCutFix ? 0 : r.fontSize / 2), p = t.strokeThickness / 2 + l * (d + m) + r.ascent + r.extraSizeTop, i && (c += s[l]), t.blurShadow && (this.context.shadowColor = t.dropShadowColor, c += Math.max(t.dropShadowDistance - t.blurShadowX, 0), p += Math.max(t.dropShadowDistance - t.blurShadowY, 0)), t.mFillUseGradient || t.mOutlineUseGradient) {
                            var b = .5 * d,
                                T = c + .5 * s[l],
                                C = t.strokeThickness / 2 + l * (d + m) + b + this._style.padding;
                            t.blurShadow && (C += Math.max(t.dropShadowDistance - t.blurShadowY, 0));
                            var A = .5 * Math.max(s[l], d),
                                v = 0,
                                M = 0,
                                L = 0,
                                I = 0;
                            if (t.mFillUseGradient) {
                                v = Math.cos(t.mFillGradientAngle + Math.PI) * A, L = (L = Math.sin(t.mFillGradientAngle + Math.PI) * A) >= 0 ? Math.min(L, b) : Math.max(L, -b), M = Math.cos(t.mFillGradientAngle) * A, I = (I = Math.sin(t.mFillGradientAngle) * A) >= 0 ? Math.min(I, b) : Math.max(I, -b);
                                for (var P = this.context.createLinearGradient(T + v, C + L, T + M, C + I), R = 0; R < t.mFillGradient.colorKeys.length; R++) P.addColorStop(t.mFillGradient.colorKeys[R].time, t.mFillGradient.colorKeys[R].color.rgbAsString());
                                this.context.fillStyle = P
                            }
                            if (t.mOutlineUseGradient) {
                                v = Math.cos(t.mOutlineGradientAngle + Math.PI) * A, L = (L = Math.sin(t.mOutlineGradientAngle + Math.PI) * A) >= 0 ? Math.min(L, b) : Math.max(L, -b), M = Math.cos(t.mOutlineGradientAngle) * A, I = (I = Math.sin(t.mOutlineGradientAngle) * A) >= 0 ? Math.min(I, b) : Math.max(I, -b);
                                for (var _ = this.context.createLinearGradient(T + v, C + L, T + M, C + I), E = 0; E < t.mOutlineGradient.colorKeys.length; E++) _.addColorStop(t.mOutlineGradient.colorKeys[E].time, t.mOutlineGradient.colorKeys[E].color.rgbAsString());
                                this.context.strokeStyle = _
                            }
                        }
                        "right" === t.align ? c += a - s[l] : "center" === t.align && (c += (a - s[l]) / 2), t.stroke && t.strokeThickness && (t.blurShadow && 0 != t.fillCenter && this.context.fillText(o[l], c, p + this._style.padding), this.context.strokeText(o[l], c, p + this._style.padding), this.context.shadowColor = "RGBA(0, 0, 0, 0)"), t.fill && 0 != t.fillCenter && this.context.fillText(o[l], c, p + this._style.padding)
                    }
                this._hack_extraOffsetTop = r.extraSizeTop, this._hack_extraOffsetBottom = m, this.updateTexture()
            }, n.prototype.updateTexture = function () {
                var t = this._texture;
                t.baseTexture.hasLoaded = !0, t.baseTexture.resolution = this.resolution, t.baseTexture.width = this.canvas.width / this.resolution, t.baseTexture.height = this.canvas.height / this.resolution, t.crop.width = t._frame.width = this.canvas.width / this.resolution, t.crop.height = t._frame.height = this.canvas.height / this.resolution, t.trim.x = 0, t.trim.y = -this._style.padding, t.trim.width = t._frame.width, t.trim.height = t._frame.height - 2 * this._style.padding, this._width = this.canvas.width / this.resolution, this._height = this.canvas.height / this.resolution, 1 != this._skipUpdateTexture && t.baseTexture.emit("update", t.baseTexture), this.dirty = !1
            }, n.prototype.renderWebGL = function (t) {
                this.dirty && this.updateText(), o.prototype.renderWebGL.call(this, t)
            }, n.prototype._renderCanvas = function (t) {
                this.dirty && this.updateText(), o.prototype._renderCanvas.call(this, t)
            }, n.prototype.determineFontProperties = function (t) {
                var e = n.fontPropertiesCache[t];
                if (!e) {
                    var i = t.split(" "),
                        o = i[1],
                        s = 0 | i[0].split("px")[0],
                        a = "50px " + o,
                        r = t;
                    if (null != (e = n.fontPropertiesCache[a])) {
                        var l = {};
                        return l.ascent = Math.round(s * e.ascent / 50), l.descent = Math.round(s * e.descent / 50), l.fontSize = s, l.extraSizeTop = Math.round(s * e.extraSizeTop / 50), n.fontPropertiesCache[t] = l, l
                    }
                    t = a, e = {};
                    var u = n.fontPropertiesCanvas,
                        h = n.fontPropertiesContext;
                    h.font = t;
                    var c = Math.ceil(h.measureText("|MÉq").width),
                        p = Math.ceil(h.measureText("M").width),
                        d = 2 * p;
                    p = 1.4 * p | 0, u.width = c, u.height = d, h.fillStyle = "#f00", h.fillRect(0, 0, c, d), h.font = t, h.textBaseline = "alphabetic", h.fillStyle = "#000", h.fillText("|MEq", 0, p);
                    var m, S, g = h.getImageData(0, 0, c, d).data,
                        y = g.length,
                        f = 4 * c,
                        b = 0,
                        T = !1;
                    for (m = 0; m < p; m++) {
                        for (S = 0; S < f; S += 4)
                            if (g[b + S] < 253) {
                                T = !0;
                                break
                            } if (T) break;
                        b += f
                    }
                    for (e.ascent = p - m + 1, b = y - f, T = !1, m = d; m > p; m--) {
                        for (S = 0; S < f; S += 4)
                            if (g[b + S] < 253) {
                                T = !0;
                                break
                            } if (T) break;
                        b -= f
                    }
                    for (e.descent = m - p, e.fontSize = e.ascent + e.descent, h.fillStyle = "#f00", h.fillRect(0, 0, c, d), h.textBaseline = "alphabetic", h.fillStyle = "#000", h.fillText("|MÉq", 0, p), y = (g = h.getImageData(0, 0, c, d).data).length, b = 0, T = !1, m = 0; m < p; m++) {
                        for (S = 0; S < f; S += 4)
                            if (g[b + S] < 253) {
                                T = !0;
                                break
                            } if (T) break;
                        b += f
                    }
                    if (e.extraSizeTop = p - m - e.ascent, n.fontPropertiesCache[t] = e, t != r) return this.determineFontProperties(r)
                }
                return e
            }, n.prototype.wordWrap = function (t) {
                for (var e = "", i = t.split("\n"), n = this._style.wordWrapWidth, o = 0; o < i.length; o++) {
                    for (var s = n, a = i[o].split(" "), r = 0; r < a.length; r++) {
                        var l = this.context.measureText(a[r]).width,
                            u = l + this.context.measureText(" ").width;
                        0 === r || u > s ? (r > 0 && (e += "\n"), e += a[r], s = n - l) : (s -= u, e += " " + a[r])
                    }
                    o < i.length - 1 && (e += "\n")
                }
                return e
            }, n.prototype.getBounds = function (t) {
                return this.dirty && this.updateText(), o.prototype.getBounds.call(this, t)
            }, n.prototype.destroy = function (t) {
                this.context = null, this.canvas = null, this._style = null, this._texture.destroy(void 0 === t || t)
            }, n.IsArabCharacterCode = function (t) {
                return t >= 1548 && t <= 1785 || t >= 64336 && t <= 65019 || t >= 65136 && t <= 65276
            }, n.IsArabString = function (t) {
                for (var e = 0; e < t.length; e++)
                    if (n.IsArabCharacterCode(t.charCodeAt(e))) return !0;
                return !1
            }
        }, {
            "../const": 18,
            "../math": 29,
            "../sprites/Sprite": 63,
            "../textures/Texture": 68
        }],
        66: [function (t, e, i) {
            function n(t, e, i) {
                a.call(this), this.uuid = o.uuid(), this.resolution = i || 1, this.width = 100, this.height = 100, this.realWidth = 100, this.realHeight = 100, this.scaleMode = e || s.SCALE_MODES.DEFAULT, this.hasLoaded = !1, this.isLoading = !1, this.source = null, this.premultipliedAlpha = !0, this.imageUrl = null, this.isPowerOfTwo = !1, this.mipmap = !1, this._glTextures = [], this.hasAlpha = !0, t && this.loadSource(t)
            }
            var o = t("../utils"),
                s = t("../const"),
                a = t("eventemitter3");
            n.prototype = Object.create(a.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.update = function () {
                this.realWidth = this.source.naturalWidth || this.source.width, this.realHeight = this.source.naturalHeight || this.source.height, this.width = this.realWidth / this.resolution, this.height = this.realHeight / this.resolution, this.isPowerOfTwo = o.isPowerOfTwo(this.realWidth, this.realHeight), this.emit("update", this)
            }, n.prototype.loadSource = function (t) {
                var e = this.isLoading;
                if (this.hasLoaded = !1, this.isLoading = !1, e && this.source && (this.source.onload = null, this.source.onerror = null), this.source = t, (this.source.complete || this.source.getContext) && this.source.width && this.source.height) this._sourceLoaded();
                else if (!t.getContext) {
                    this.isLoading = !0;
                    var i = this;
                    t.onload = function () {
                        t.onload = null, t.onerror = null, i.isLoading && (i.isLoading = !1, i._sourceLoaded(), i.emit("loaded", i))
                    }, t.onerror = function () {
                        t.onload = null, t.onerror = null, i.isLoading && (i.isLoading = !1, i.emit("error", i))
                    }, t.complete && t.src && (this.isLoading = !1, t.onload = null, t.onerror = null, t.width && t.height ? (this._sourceLoaded(), e && this.emit("loaded", this)) : e && this.emit("error", this))
                }
            }, n.prototype._sourceLoaded = function () {
                this.hasLoaded = !0, this.update()
            }, n.prototype.destroy = function () {
                this.imageUrl ? (delete o.BaseTextureCache[this.imageUrl], delete o.TextureCache[this.imageUrl], this.imageUrl = null, navigator.isCocoonJS || (this.source.src = "")) : this.source && this.source._pixiId && delete o.BaseTextureCache[this.source._pixiId], this.source = null, this.dispose()
            }, n.prototype.dispose = function () {
                this.emit("dispose", this), this._glTextures.length = 0
            }, n.prototype.updateSourceImage = function (t) {
                this.source.src = t, this.loadSource(this.source)
            }, b64_keys = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", b64_cached = [];
            for (var r = 0; r < 256; r++) b64_cached.push(b64_keys.indexOf(String.fromCharCode(r)));
            b64toBlob = function (t, e, i) {
                e = e || "";
                var n, o, s, a, r, l = Math.ceil((t.length - i) / 4 * 3),
                    u = 0,
                    h = i,
                    c = null,
                    p = [],
                    d = 196608,
                    m = 0;
                for (u = 0; u < l; u += 3) u % d || (c = new Uint8Array(Math.min(d, l - u)), p.push(c), m = 0), n = b64_cached[t.charCodeAt(h++)] << 2 | (a = b64_cached[t.charCodeAt(h++)]) >> 4, o = (15 & a) << 4 | (r = b64_cached[t.charCodeAt(h++)]) >> 2, s = (3 & r) << 6 | b64_cached[t.charCodeAt(h++)], c[m++] = n, c[m++] = o, c[m++] = s;
                return new Blob(p, {
                    type: e
                })
            }, n.fromImage = function (t, e, i) {
                void 0 === e && 0 !== t.indexOf("data:") && (e = !0);
                var o = new Image;
                e && (o.crossOrigin = "");
                var s = new n(o, i);
                if (null != window.atob && null != window.Blob && null != window.XMLHttpRequest && null != window.URL && 1 != window.UHT_IMAGESLOADER_NOBLOBS && !(navigator.userAgent.indexOf("UCBrowser") > -1))
                    if ("data:image/png" == t.slice(0, 14)) {
                        var a = b64toBlob(t, "image/png", 22),
                            r = URL.createObjectURL(a);
                        o.src = r
                    } else if ("data:image/jpeg" == t.slice(0, 15)) {
                    s.hasAlpha = !1;
                    var l = b64toBlob(t, "image/jpeg", 23),
                        u = URL.createObjectURL(l);
                    o.src = u
                } else {
                    ".jpg" == t.slice(t.length - 4, t.length) && (this.hasAlpha = !1);
                    var h = o;
                    h.downloadSizeLoaded = -1, h.downloadSizeTotal = -1;
                    var c = new XMLHttpRequest;
                    c.open("GET", t, !0), c.responseType = "arraybuffer", c.onload = function (t) {
                        h.downloadSizeLoaded = h.downloadSizeTotal;
                        var e = new Blob([this.response]);
                        h.src = window.URL.createObjectURL(e)
                    }, c.onprogress = function (t) {
                        h.downloadSizeLoaded = t.loaded, h.downloadSizeTotal = t.total
                    }, c.onloadstart = function () {
                        h.downloadSizeLoaded = 0
                    }, c.send()
                } else "data:image/jpeg" == t.slice(0, 15) && (this.hasAlpha = !1), ".jpg" == t.slice(t.length - 4, t.length) && (this.hasAlpha = !1), o.src = t;
                return s.resolution = 1, s
            }, n.fromCanvas = function (t, e) {
                t._pixiId || (t._pixiId = "canvas_" + o.uuid());
                var i = o.BaseTextureCache[t._pixiId];
                return i || (i = new n(t, e), o.BaseTextureCache[t._pixiId] = i), i
            }
        }, {
            "../const": 18,
            "../utils": 72,
            eventemitter3: 6
        }],
        67: [function (t, e, i) {
            function n(t, e, i, n, c) {
                if (!t) throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");
                e = e || 100, i = i || 100, c = c || h.RESOLUTION;
                var p = new o;
                if (p.width = e, p.height = i, p.resolution = c, p.scaleMode = n || h.SCALE_MODES.DEFAULT, p.hasLoaded = !0, s.call(this, p, new u.Rectangle(0, 0, e, i)), this.width = e, this.height = i, this.resolution = c, this.render = null, this.renderer = t, this.renderer.type === h.RENDERER_TYPE.WEBGL) {
                    var d = this.renderer.gl;
                    this.textureBuffer = new a(d, this.width, this.height, p.scaleMode, this.resolution), this.baseTexture._glTextures[d.id] = this.textureBuffer.texture, this.filterManager = new r(this.renderer), this.filterManager.onContextChange(), this.filterManager.resize(e, i), this.render = this.renderWebGL, this.renderer.currentRenderer.start(), this.renderer.currentRenderTarget.activate()
                } else this.render = this.renderCanvas, this.textureBuffer = new l(this.width * this.resolution, this.height * this.resolution), this.baseTexture.source = this.textureBuffer.canvas;
                this.valid = !0, this._updateUvs()
            }
            var o = t("./BaseTexture"),
                s = t("./Texture"),
                a = t("../renderers/webgl/utils/RenderTarget"),
                r = t("../renderers/webgl/managers/FilterManager"),
                l = t("../renderers/canvas/utils/CanvasBuffer"),
                u = t("../math"),
                h = t("../const"),
                c = new u.Matrix;
            n.prototype = Object.create(s.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.resize = function (t, e, i) {
                t === this.width && e === this.height || (this.valid = t > 0 && e > 0, this.width = this._frame.width = this.crop.width = t, this.height = this._frame.height = this.crop.height = e, i && (this.baseTexture.width = this.width, this.baseTexture.height = this.height), this.valid && (this.textureBuffer.resize(this.width * this.resolution, this.height * this.resolution), this.filterManager && this.filterManager.resize(this.width, this.height)))
            }, n.prototype.clear = function () {
                this.valid && (this.renderer.type === h.RENDERER_TYPE.WEBGL && this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER, this.textureBuffer.frameBuffer), this.textureBuffer.clear())
            }, n.prototype.renderWebGL = function (t, e, i, n) {
                if (this.valid) {
                    if (n = void 0 === n || n, this.textureBuffer.transform = e, this.textureBuffer.activate(), t.worldAlpha = t.alpha, n) {
                        t.worldTransform.identity(), t.currentBounds = null;
                        var o, s, a = t.children;
                        for (o = 0, s = a.length; o < s; ++o) a[o].updateTransform()
                    }
                    var r = this.renderer.filterManager;
                    this.renderer.filterManager = this.filterManager, this.renderer.renderDisplayObject(t, this.textureBuffer, i), this.renderer.filterManager = r
                }
            }, n.prototype.renderCanvas = function (t, e, i, n) {
                if (this.valid) {
                    n = !!n;
                    var o = t.worldTransform,
                        s = c;
                    s.identity(), e && s.append(e), t.worldTransform = s, t.worldAlpha = 1;
                    var a, r, l = t.children;
                    for (a = 0, r = l.length; a < r; ++a) l[a].updateTransform();
                    i && this.textureBuffer.clear(), t.worldTransform = o;
                    var u = this.textureBuffer.context,
                        h = this.renderer.resolution;
                    this.renderer.resolution = this.resolution, this.renderer.renderDisplayObject(t, u), this.renderer.resolution = h
                }
            }, n.prototype.destroy = function () {
                s.prototype.destroy.call(this, !0), this.textureBuffer.destroy(), this.filterManager && this.filterManager.destroy(), this.renderer = null
            }, n.prototype.getImage = function () {
                var t = new Image;
                return t.src = this.getBase64(), t
            }, n.prototype.getBase64 = function () {
                return this.getCanvas().toDataURL()
            }, n.prototype.getCanvas = function () {
                if (this.renderer.type === h.RENDERER_TYPE.WEBGL) {
                    var t = this.renderer.gl,
                        e = this.textureBuffer.size.width,
                        i = this.textureBuffer.size.height,
                        n = new Uint8Array(4 * e * i);
                    t.bindFramebuffer(t.FRAMEBUFFER, this.textureBuffer.frameBuffer), t.readPixels(0, 0, e, i, t.RGBA, t.UNSIGNED_BYTE, n), t.bindFramebuffer(t.FRAMEBUFFER, null);
                    var o = new l(e, i),
                        s = o.context.getImageData(0, 0, e, i);
                    return s.data.set(n), o.context.putImageData(s, 0, 0), o.canvas
                }
                return this.textureBuffer.canvas
            }, n.prototype.getPixels = function () {
                var t, e;
                if (this.renderer.type === h.RENDERER_TYPE.WEBGL) {
                    var i = this.renderer.gl;
                    t = this.textureBuffer.size.width, e = this.textureBuffer.size.height;
                    var n = new Uint8Array(4 * t * e);
                    return i.bindFramebuffer(i.FRAMEBUFFER, this.textureBuffer.frameBuffer), i.readPixels(0, 0, t, e, i.RGBA, i.UNSIGNED_BYTE, n), i.bindFramebuffer(i.FRAMEBUFFER, null), n
                }
                return t = this.textureBuffer.canvas.width, e = this.textureBuffer.canvas.height, this.textureBuffer.canvas.getContext("2d").getImageData(0, 0, t, e).data
            }, n.prototype.getPixel = function (t, e) {
                if (this.renderer.type === h.RENDERER_TYPE.WEBGL) {
                    var i = this.renderer.gl,
                        n = new Uint8Array(4);
                    return i.bindFramebuffer(i.FRAMEBUFFER, this.textureBuffer.frameBuffer), i.readPixels(t, e, 1, 1, i.RGBA, i.UNSIGNED_BYTE, n), i.bindFramebuffer(i.FRAMEBUFFER, null), n
                }
                return this.textureBuffer.canvas.getContext("2d").getImageData(t, e, 1, 1).data
            }, n.prototype.setPixels = function (t) {
                this.renderer.type !== h.RENDERER_TYPE.WEBGL && this.textureBuffer.canvas.getContext("2d").putImageData(t, 0, 0)
            }
        }, {
            "../const": 18,
            "../math": 29,
            "../renderers/canvas/utils/CanvasBuffer": 41,
            "../renderers/webgl/managers/FilterManager": 50,
            "../renderers/webgl/utils/RenderTarget": 61,
            "./BaseTexture": 66,
            "./Texture": 68
        }],
        68: [function (t, e, i) {
            function n(t, e, i, o, s) {
                if (r.call(this), this.noFrame = !1, e || (this.noFrame = !0, e = new l.Rectangle(0, 0, 1, 1)), t instanceof n && (t = t.baseTexture), this.baseTexture = t, this._frame = e, this.trim = o, this.valid = !1, this.requiresUpdate = !1, this._uvs = null, this.width = 0, this.height = 0, this.crop = i || e, this._rotate = +(s || 0), !0 === s) this._rotate = 2;
                else if (this._rotate % 2 != 0) throw "attempt to use diamond-shaped UVs. If you are sure, set rotation manually";
                t.hasLoaded ? (this.noFrame && (e = new l.Rectangle(0, 0, t.width, t.height), t.on("update", this.onBaseTextureUpdated, this)), this.frame = e) : t.once("loaded", this.onBaseTextureLoaded, this)
            }
            var o = t("./BaseTexture"),
                s = t("./VideoBaseTexture"),
                a = t("./TextureUvs"),
                r = t("eventemitter3"),
                l = t("../math"),
                u = t("../utils");
            n.prototype = Object.create(r.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                frame: {
                    get: function () {
                        return this._frame
                    },
                    set: function (t) {
                        if (this._frame = t, this.noFrame = !1, this.width = t.width, this.height = t.height, !this.trim && !this.rotate && (t.x + t.width > this.baseTexture.width || t.y + t.height > this.baseTexture.height)) throw new Error("Texture Error: frame does not fit inside the base Texture dimensions " + this);
                        this.valid = t && t.width && t.height && this.baseTexture.hasLoaded, this.trim ? (this.width = this.trim.width, this.height = this.trim.height, this._frame.width = this.trim.width, this._frame.height = this.trim.height) : this.crop = t, this.valid && this._updateUvs()
                    }
                },
                rotate: {
                    get: function () {
                        return this._rotate
                    },
                    set: function (t) {
                        this._rotate = t, this.valid && this._updateUvs()
                    }
                }
            }), n.prototype.update = function () {
                this.baseTexture.update()
            }, n.prototype.onBaseTextureLoaded = function (t) {
                this.noFrame ? this.frame = new l.Rectangle(0, 0, t.width, t.height) : this.frame = this._frame, this.emit("update", this)
            }, n.prototype.onBaseTextureUpdated = function (t) {
                this._frame.width = t.width, this._frame.height = t.height, this.emit("update", this)
            }, n.prototype.destroy = function (t) {
                this.baseTexture && (t && this.baseTexture.destroy(), this.baseTexture.off("update", this.onBaseTextureUpdated), this.baseTexture.off("loaded", this.onBaseTextureLoaded), this.baseTexture = null), this._frame = null, this._uvs = null, this.trim = null, this.crop = null, this.valid = !1
            }, n.prototype.clone = function () {
                return new n(this.baseTexture, this.frame, this.crop, this.trim, this.rotate)
            }, n.prototype._updateUvs = function () {
                this._uvs || (this._uvs = new a), this._uvs.set(this.crop, this.baseTexture, this.rotate)
            }, n.fromImage = function (t, e, i, s) {
                if (null != s) {
                    if (!(a = u.TextureCache[s])) {
                        var a = new n(o.fromImage(t, e, i));
                        u.TextureCache[s] = a
                    }
                    return a
                }
                return new n(o.fromImage(t, e, i))
            }, n.fromFrame = function (t) {
                var e = u.TextureCache[t];
                if (!e) throw new Error('The frameId "' + t + '" does not exist in the texture cache');
                return e
            }, n.fromCanvas = function (t, e) {
                return new n(o.fromCanvas(t, e))
            }, n.fromVideo = function (t, e) {
                return "string" == typeof t ? n.fromVideoUrl(t, e) : new n(s.fromVideo(t, e))
            }, n.fromVideoUrl = function (t, e) {
                return new n(s.fromUrl(t, e))
            }, n.addTextureToCache = function (t, e) {
                u.TextureCache[e] = t
            }, n.removeTextureFromCache = function (t) {
                var e = u.TextureCache[t];
                return delete u.TextureCache[t], delete u.BaseTextureCache[t], e
            }, n.EMPTY = new n(new o)
        }, {
            "../math": 29,
            "../utils": 72,
            "./BaseTexture": 66,
            "./TextureUvs": 69,
            "./VideoBaseTexture": 70,
            eventemitter3: 6
        }],
        69: [function (t, e, i) {
            function n() {
                this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1
            }
            e.exports = n;
            var o = t("../math/GroupD8");
            n.prototype.set = function (t, e, i) {
                var n = e.width,
                    s = e.height;
                if (i) {
                    var a = o.isSwapWidthHeight(i),
                        r = (a ? t.height : t.width) / 2 / n,
                        l = (a ? t.width : t.height) / 2 / s,
                        u = t.x / n + r,
                        h = t.y / s + l;
                    i = o.add(i, o.NW), this.x0 = u + r * o.uX(i), this.y0 = h + l * o.uY(i), i = o.add(i, 2), this.x1 = u + r * o.uX(i), this.y1 = h + l * o.uY(i), i = o.add(i, 2), this.x2 = u + r * o.uX(i), this.y2 = h + l * o.uY(i), i = o.add(i, 2), this.x3 = u + r * o.uX(i), this.y3 = h + l * o.uY(i)
                } else this.x0 = t.x / n, this.y0 = t.y / s, this.x1 = (t.x + t.width) / n, this.y1 = t.y / s, this.x2 = (t.x + t.width) / n, this.y2 = (t.y + t.height) / s, this.x3 = t.x / n, this.y3 = (t.y + t.height) / s
            }
        }, {
            "../math/GroupD8": 26
        }],
        70: [function (t, e, i) {
            function n(t, e) {
                if (!t) throw new Error("No video source element specified.");
                (t.readyState === t.HAVE_ENOUGH_DATA || t.readyState === t.HAVE_FUTURE_DATA) && t.width && t.height && (t.complete = !0), s.call(this, t, e), this.autoUpdate = !1, this._onUpdate = this._onUpdate.bind(this), this._onCanPlay = this._onCanPlay.bind(this), t.complete || (t.addEventListener("canplay", this._onCanPlay), t.addEventListener("canplaythrough", this._onCanPlay), t.addEventListener("play", this._onPlayStart.bind(this)), t.addEventListener("pause", this._onPlayStop.bind(this))), this.__loaded = !1
            }

            function o(t, e) {
                e || (e = "video/" + t.substr(t.lastIndexOf(".") + 1));
                var i = document.createElement("source");
                return i.src = t, i.type = e, i
            }
            var s = t("./BaseTexture"),
                a = t("../utils");
            n.prototype = Object.create(s.prototype), n.prototype.constructor = n, e.exports = n, n.prototype._onUpdate = function () {
                this.autoUpdate && (window.requestAnimationFrame(this._onUpdate), this.update())
            }, n.prototype._onPlayStart = function () {
                this.autoUpdate || (window.requestAnimationFrame(this._onUpdate), this.autoUpdate = !0)
            }, n.prototype._onPlayStop = function () {
                this.autoUpdate = !1
            }, n.prototype._onCanPlay = function () {
                this.hasLoaded = !0, this.source && (this.source.removeEventListener("canplay", this._onCanPlay), this.source.removeEventListener("canplaythrough", this._onCanPlay), this.width = this.source.videoWidth, this.height = this.source.videoHeight, this.source.play(), this.__loaded || (this.__loaded = !0, this.emit("loaded", this)))
            }, n.prototype.destroy = function () {
                this.source && this.source._pixiId && (delete a.BaseTextureCache[this.source._pixiId], delete this.source._pixiId), s.prototype.destroy.call(this)
            }, n.fromVideo = function (t, e) {
                t._pixiId || (t._pixiId = "video_" + a.uuid());
                var i = a.BaseTextureCache[t._pixiId];
                return i || (i = new n(t, e), a.BaseTextureCache[t._pixiId] = i), i
            }, n.fromUrl = function (t, e) {
                var i = document.createElement("video");
                if (Array.isArray(t))
                    for (var s = 0; s < t.length; ++s) i.appendChild(o(t.src || t, t.mime));
                else i.appendChild(o(t.src || t, t.mime));
                return i.load(), i.play(), n.fromVideo(i, e)
            }, n.fromUrls = n.fromUrl
        }, {
            "../utils": 72,
            "./BaseTexture": 66
        }],
        71: [function (t, e, i) {
            var n = e.exports = {};
            n.Triangulate = function (t) {
                var e = !0,
                    i = t.length >> 1;
                if (i < 3) return [];
                for (var o = [], s = [], a = 0; a < i; a++) s.push(a);
                a = 0;
                for (var r = i; r > 3;) {
                    var l = s[(a + 0) % r],
                        u = s[(a + 1) % r],
                        h = s[(a + 2) % r],
                        c = t[2 * l],
                        p = t[2 * l + 1],
                        d = t[2 * u],
                        m = t[2 * u + 1],
                        S = t[2 * h],
                        g = t[2 * h + 1],
                        y = !1;
                    if (n._convex(c, p, d, m, S, g, e)) {
                        y = !0;
                        for (var f = 0; f < r; f++) {
                            var b = s[f];
                            if (b !== l && b !== u && b !== h && n._PointInTriangle(t[2 * b], t[2 * b + 1], c, p, d, m, S, g)) {
                                y = !1;
                                break
                            }
                        }
                    }
                    if (y) o.push(l, u, h), s.splice((a + 1) % r, 1), r--, a = 0;
                    else if (a++ > 3 * r) {
                        if (!e) return null;
                        for (o = [], s = [], a = 0; a < i; a++) s.push(a);
                        a = 0, r = i, e = !1
                    }
                }
                return o.push(s[0], s[1], s[2]), o
            }, n._PointInTriangle = function (t, e, i, n, o, s, a, r) {
                var l = a - i,
                    u = r - n,
                    h = o - i,
                    c = s - n,
                    p = t - i,
                    d = e - n,
                    m = l * l + u * u,
                    S = l * h + u * c,
                    g = l * p + u * d,
                    y = h * h + c * c,
                    f = h * p + c * d,
                    b = 1 / (m * y - S * S),
                    T = (y * g - S * f) * b,
                    C = (m * f - S * g) * b;
                return T >= 0 && C >= 0 && T + C < 1
            }, n._convex = function (t, e, i, n, o, s, a) {
                return (e - n) * (o - i) + (i - t) * (s - n) >= 0 === a
            }
        }, {}],
        72: [function (t, e, i) {
            var n = t("../const"),
                o = e.exports = {
                    _uid: 0,
                    _saidHello: !1,
                    pluginTarget: t("./pluginTarget"),
                    PolyK: t("./PolyK"),
                    async: t("async"),
                    uuid: function () {
                        return ++o._uid
                    },
                    hex2rgb: function (t, e) {
                        return (e = e || [])[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255, e
                    },
                    hex2string: function (t) {
                        return t = t.toString(16), "#" + (t = "000000".substr(0, 6 - t.length) + t)
                    },
                    rgb2hex: function (t) {
                        return (255 * t[0] << 16) + (255 * t[1] << 8) + 255 * t[2]
                    },
                    canUseNewCanvasBlendModes: function () {
                        if ("undefined" == typeof document) return !1;
                        var t = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",
                            e = "AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",
                            i = new Image;
                        i.src = t + "AP804Oa6" + e;
                        var n = new Image;
                        n.src = t + "/wCKxvRF" + e;
                        var o = document.createElement("canvas");
                        o.width = 6, o.height = 1;
                        var s = o.getContext("2d");
                        s.globalCompositeOperation = "multiply", s.drawImage(i, 0, 0), s.drawImage(n, 2, 0);
                        var a = s.getImageData(2, 0, 1, 1).data;
                        return 255 === a[0] && 0 === a[1] && 0 === a[2]
                    },
                    getNextPowerOfTwo: function (t) {
                        if (t > 0 && 0 == (t & t - 1)) return t;
                        for (var e = 1; e < t;) e <<= 1;
                        return e
                    },
                    isPowerOfTwo: function (t, e) {
                        return t > 0 && 0 == (t & t - 1) && e > 0 && 0 == (e & e - 1)
                    },
                    getResolutionOfUrl: function (t) {
                        var e = n.RETINA_PREFIX.exec(t);
                        return e ? parseFloat(e[1]) : 1
                    },
                    sayHello: function (t) {
                        if (!o._saidHello) {
                            if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
                                var e = ["\n %c %c %c Pixi.js " + n.VERSION + " - ✰ " + t + " ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
                                window.console.log.apply(console, e)
                            } else window.console && window.console.log("Pixi.js " + n.VERSION + " - " + t + " - http://www.pixijs.com/");
                            o._saidHello = !0
                        }
                    },
                    isWebGLSupported: function () {
                        var t = {
                            stencil: !0
                        };
                        try {
                            if (!window.WebGLRenderingContext) return !1;
                            var e = document.createElement("canvas"),
                                i = e.getContext("webgl", t) || e.getContext("experimental-webgl", t);
                            return !(!i || !i.getContextAttributes().stencil)
                        } catch (t) {
                            return !1
                        }
                    },
                    TextureCache: {},
                    BaseTextureCache: {}
                }
        }, {
            "../const": 18,
            "./PolyK": 71,
            "./pluginTarget": 73,
            async: 2
        }],
        73: [function (t, e, i) {
            e.exports = {
                mixin: function (t) {
                    ! function (t) {
                        t.__plugins = {}, t.registerPlugin = function (e, i) {
                            t.__plugins[e] = i
                        }, t.prototype.initPlugins = function () {
                            for (var e in this.plugins = this.plugins || {}, t.__plugins) this.plugins[e] = new t.__plugins[e](this)
                        }, t.prototype.destroyPlugins = function () {
                            for (var t in this.plugins) this.plugins[t].destroy(), this.plugins[t] = null;
                            this.plugins = null
                        }
                    }(t)
                }
            }
        }, {}],
        74: [function (t, e, i) {
            var n = t("./core"),
                o = t("./mesh"),
                s = t("./extras"),
                a = t("./core/utils");
            n.SpriteBatch = function () {
                throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")
            }, n.AssetLoader = function () {
                throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")
            }, Object.defineProperties(n, {
                Stage: {
                    get: function () {
                        return n.Container
                    }
                },
                DisplayObjectContainer: {
                    get: function () {
                        return n.Container
                    }
                },
                Strip: {
                    get: function () {
                        return o.Mesh
                    }
                },
                Rope: {
                    get: function () {
                        return o.Rope
                    }
                },
                MovieClip: {
                    get: function () {
                        return s.MovieClip
                    }
                },
                TilingSprite: {
                    get: function () {
                        return s.TilingSprite
                    }
                },
                BitmapText: {
                    get: function () {
                        return s.BitmapText
                    }
                },
                blendModes: {
                    get: function () {
                        return n.BLEND_MODES
                    }
                },
                scaleModes: {
                    get: function () {
                        return n.SCALE_MODES
                    }
                },
                BaseTextureCache: {
                    get: function () {
                        return a.BaseTextureCache
                    }
                },
                TextureCache: {
                    get: function () {
                        return a.TextureCache
                    }
                }
            }), n.Sprite.prototype.setTexture = function (t) {
                this.texture = t
            }, s.BitmapText.prototype.setText = function (t) {
                this.text = t
            }, n.Text.prototype.setText = function (t) {
                this.text = t
            }, n.Text.prototype.setStyle = function (t) {
                this.style = t
            }, n.Texture.prototype.setFrame = function (t) {
                this.frame = t
            }
        }, {
            "./core": 25,
            "./core/utils": 72,
            "./extras": 81,
            "./mesh": 93
        }],
        75: [function (t, e, i) {
            function n(t, e) {
                o.Container.call(this), e = e || {}, this.textWidth = 0, this.textHeight = 0, this._glyphs = [], this._font = {
                    tint: void 0 !== e.tint ? e.tint : 16777215,
                    align: e.align || "left",
                    name: null,
                    size: 0
                }, this.font = e.font, this._text = t, this.maxWidth = 0, this.dirty = !1, this.updateText()
            }
            var o = t("../core");
            n.prototype = Object.create(o.Container.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                tint: {
                    get: function () {
                        return this._font.tint
                    },
                    set: function (t) {
                        this._font.tint = "number" == typeof t && t >= 0 ? t : 16777215, this.dirty = !0
                    }
                },
                align: {
                    get: function () {
                        return this._font.align
                    },
                    set: function (t) {
                        this._font.align = t || "left", this.dirty = !0
                    }
                },
                font: {
                    get: function () {
                        return this._font
                    },
                    set: function (t) {
                        t && ("string" == typeof t ? (t = t.split(" "), this._font.name = 1 === t.length ? t[0] : t.slice(1).join(" "), this._font.size = t.length >= 2 ? parseInt(t[0], 10) : n.fonts[this._font.name].size) : (this._font.name = t.name, this._font.size = "number" == typeof t.size ? t.size : parseInt(t.size, 10)), this.dirty = !0)
                    }
                },
                text: {
                    get: function () {
                        return this._text
                    },
                    set: function (t) {
                        t = t.toString() || " ", this._text !== t && (this._text = t, this.dirty = !0)
                    }
                }
            }), n.parse = function (t, e) {
                var i = {},
                    s = t.getElementsByTagName("info")[0],
                    a = t.getElementsByTagName("common")[0];
                i.font = s.getAttribute("face"), i.size = parseInt(s.getAttribute("size"), 10), i.lineHeight = parseInt(a.getAttribute("lineHeight"), 10), i.chars = {};
                for (var r = t.getElementsByTagName("char"), l = 0; l < r.length; l++) {
                    var u = parseInt(r[l].getAttribute("id"), 10),
                        h = new o.math.Rectangle(parseInt(r[l].getAttribute("x"), 10) + e.frame.x, parseInt(r[l].getAttribute("y"), 10) + e.frame.y, parseInt(r[l].getAttribute("width"), 10), parseInt(r[l].getAttribute("height"), 10));
                    i.chars[u] = {
                        xOffset: parseInt(r[l].getAttribute("xoffset"), 10),
                        yOffset: parseInt(r[l].getAttribute("yoffset"), 10),
                        xAdvance: parseInt(r[l].getAttribute("xadvance"), 10),
                        kerning: {},
                        texture: new o.Texture(e.baseTexture, h)
                    }
                }
                var c = t.getElementsByTagName("kerning");
                for (l = 0; l < c.length; l++) {
                    var p = parseInt(c[l].getAttribute("first"), 10),
                        d = parseInt(c[l].getAttribute("second"), 10),
                        m = parseInt(c[l].getAttribute("amount"), 10);
                    i.chars[d].kerning[p] = m
                }
                n.fonts[i.font] = i
            }, n.prototype.updateText = function () {
                for (var t = n.fonts[this._font.name], e = new o.math.Point, i = null, s = [], a = 0, r = 0, l = [], u = 0, h = this._font.size / t.size, c = -1, p = 0; p < this.text.length; p++) {
                    var d = this.text.charCodeAt(p);
                    if (c = /(\s)/.test(this.text.charAt(p)) ? p : c, /(?:\r\n|\r|\n)/.test(this.text.charAt(p))) l.push(a), r = Math.max(r, a), u++, e.x = 0, e.y += t.lineHeight, i = null;
                    else if (-1 !== c && this.maxWidth > 0 && e.x * h > this.maxWidth) s.splice(c, p - c), p = c, c = -1, l.push(a), r = Math.max(r, a), u++, e.x = 0, e.y += t.lineHeight, i = null;
                    else {
                        var m = t.chars[d];
                        m && (i && m.kerning[i] && (e.x += m.kerning[i]), s.push({
                            texture: m.texture,
                            line: u,
                            charCode: d,
                            position: new o.math.Point(e.x + m.xOffset, e.y + m.yOffset)
                        }), a = e.x + m.xAdvance, e.x += m.xAdvance, i = d)
                    }
                }
                l.push(a), r = Math.max(r, a);
                var S = [];
                for (p = 0; p <= u; p++) {
                    var g = 0;
                    "right" === this._font.align ? g = r - l[p] : "center" === this._font.align && (g = (r - l[p]) / 2), S.push(g)
                }
                var y = s.length,
                    f = this.tint;
                for (p = 0; p < y; p++) {
                    var b = this._glyphs[p];
                    b ? b.texture = s[p].texture : (b = new o.Sprite(s[p].texture), this._glyphs.push(b)), b.position.x = (s[p].position.x + S[s[p].line]) * h, b.position.y = s[p].position.y * h, b.scale.x = b.scale.y = h, b.tint = f, b.parent || this.addChild(b)
                }
                for (p = y; p < this._glyphs.length; ++p) this.removeChild(this._glyphs[p]);
                this.textWidth = r * h, this.textHeight = (e.y + t.lineHeight) * h
            }, n.prototype.updateTransform = function () {
                this.dirty && (this.updateText(), this.dirty = !1), this.containerUpdateTransform()
            }, n.fonts = {}
        }, {
            "../core": 25
        }],
        76: [function (t, e, i) {
            function n(t) {
                o.Sprite.call(this, t[0]), this._textures = t, this.animationSpeed = 1, this.loop = !0, this.onComplete = null, this._currentTime = 0, this.playing = !1
            }
            var o = t("../core"),
                s = t("../ticker");
            n.prototype = Object.create(o.Sprite.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                totalFrames: {
                    get: function () {
                        return this._textures.length
                    }
                },
                textures: {
                    get: function () {
                        return this._textures
                    },
                    set: function (t) {
                        this._textures = t, this.texture = this._textures[Math.floor(this._currentTime) % this._textures.length]
                    }
                },
                currentFrame: {
                    get: function () {
                        return Math.floor(this._currentTime) % this._textures.length
                    }
                }
            }), n.prototype.stop = function () {
                this.playing && (this.playing = !1, s.shared.remove(this.update, this))
            }, n.prototype.play = function () {
                this.playing || (this.playing = !0, s.shared.add(this.update, this))
            }, n.prototype.gotoAndStop = function (t) {
                this.stop(), this._currentTime = t;
                var e = Math.floor(this._currentTime);
                this._texture = this._textures[e % this._textures.length]
            }, n.prototype.gotoAndPlay = function (t) {
                this._currentTime = t, this.play()
            }, n.prototype.update = function (t) {
                this._currentTime += this.animationSpeed * t;
                var e = Math.floor(this._currentTime);
                e < 0 ? this.loop ? (this._currentTime += this._textures.length, this._texture = this._textures[this._currentTime]) : (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this.loop || e < this._textures.length ? this._texture = this._textures[e % this._textures.length] : e >= this._textures.length && (this.gotoAndStop(this.textures.length - 1), this.onComplete && this.onComplete())
            }, n.prototype.destroy = function () {
                this.stop(), o.Sprite.prototype.destroy.call(this)
            }, n.fromFrames = function (t) {
                for (var e = [], i = 0; i < t.length; ++i) e.push(new o.Texture.fromFrame(t[i]));
                return new n(e)
            }, n.fromImages = function (t) {
                for (var e = [], i = 0; i < t.length; ++i) e.push(new o.Texture.fromImage(t[i]));
                return new n(e)
            }
        }, {
            "../core": 25,
            "../ticker": 100
        }],
        77: [function (t, e, i) {
            function n(t, e, i) {
                o.Sprite.call(this, t), this.tileScale = new o.math.Point(1, 1), this.tilePosition = new o.math.Point(0, 0), this._width = e || 100, this._height = i || 100, this._uvs = new o.TextureUvs, this._canvasPattern = null, this.shader = new o.AbstractFilter(["precision lowp float;", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "uniform mat3 projectionMatrix;", "uniform vec4 uFrame;", "uniform vec4 uTransform;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vec2 coord = aTextureCoord;", "   coord -= uTransform.xy;", "   coord /= uTransform.zw;", "   coord /= uFrame.zw;", "   vTextureCoord = coord;", "   vColor = vec4(aColor.rgb * aColor.a, aColor.a);", "}"].join("\n"), ["precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "uniform vec4 uFrame;", "void main(void){", "   vec2 coord = fract(vTextureCoord);", "   coord *= uFrame.zw;", "   coord += uFrame.xy;", "   gl_FragColor =  texture2D(uSampler, coord) * vColor ;", "}"].join("\n"), {
                    uFrame: {
                        type: "4fv",
                        value: [0, 0, 1, 1]
                    },
                    uTransform: {
                        type: "4fv",
                        value: [0, 0, 1, 1]
                    }
                })
            }
            var o = t("../core"),
                s = new o.Point;
            n.prototype = Object.create(o.Sprite.prototype), n.prototype.constructor = n, e.exports = n, Object.defineProperties(n.prototype, {
                width: {
                    get: function () {
                        return this._width
                    },
                    set: function (t) {
                        this._width = t
                    }
                },
                height: {
                    get: function () {
                        return this._height
                    },
                    set: function (t) {
                        this._height = t
                    }
                }
            }), n.prototype._onTextureUpdate = function () {}, n.prototype._renderWebGL = function (t) {
                var e = this._texture;
                if (e && e._uvs) {
                    var i = e._uvs,
                        n = e._frame.width,
                        o = e._frame.height,
                        s = e.baseTexture.width,
                        a = e.baseTexture.height;
                    e._uvs = this._uvs, e._frame.width = this.width, e._frame.height = this.height, this.shader.uniforms.uFrame.value[0] = i.x0 + .5 / s, this.shader.uniforms.uFrame.value[1] = i.y0 + .5 / a, this.shader.uniforms.uFrame.value[2] = i.x1 - i.x0 + -1 / s, this.shader.uniforms.uFrame.value[3] = i.y2 - i.y0 + -1 / a, this.shader.uniforms.uTransform.value[0] = this.tilePosition.x % s / this._width, this.shader.uniforms.uTransform.value[1] = this.tilePosition.y % a / this._height, this.shader.uniforms.uTransform.value[2] = s / this._width * this.tileScale.x, this.shader.uniforms.uTransform.value[3] = a / this._height * this.tileScale.y, t.setObjectRenderer(t.plugins.sprite), t.plugins.sprite.render(this), e._uvs = i, e._frame.width = n, e._frame.height = o
                }
            }, n.prototype._renderCanvas = function (t) {
                var e = this._texture;
                if (e.baseTexture.hasLoaded) {
                    var i = t.context,
                        n = this.worldTransform,
                        s = t.resolution,
                        a = e.baseTexture,
                        r = this.tilePosition.x % a.width,
                        l = this.tilePosition.y % a.height;
                    if (!this._canvasPattern) {
                        var u = new o.CanvasBuffer(e._frame.width, e._frame.height);
                        u.context.drawImage(a.source, -e._frame.x, -e._frame.y), this._canvasPattern = u.context.createPattern(u.canvas, "repeat")
                    }
                    i.globalAlpha = this.worldAlpha, i.setTransform(n.a * s, n.b * s, n.c * s, n.d * s, n.tx * s, n.ty * s), i.scale(this.tileScale.x, this.tileScale.y), i.translate(r + this.anchor.x * -this._width, l + this.anchor.y * -this._height), this.blendMode !== t.currentBlendMode && (t.currentBlendMode = this.blendMode, i.globalCompositeOperation = t.blendModes[t.currentBlendMode]), i.fillStyle = this._canvasPattern, i.fillRect(-r, -l, this._width / this.tileScale.x, this._height / this.tileScale.y)
                }
            }, n.prototype.getBounds = function () {
                var t, e, i, n, o = this._width,
                    s = this._height,
                    a = o * (1 - this.anchor.x),
                    r = o * -this.anchor.x,
                    l = s * (1 - this.anchor.y),
                    u = s * -this.anchor.y,
                    h = this.worldTransform,
                    c = h.a,
                    p = h.b,
                    d = h.c,
                    m = h.d,
                    S = h.tx,
                    g = h.ty,
                    y = c * r + d * u + S,
                    f = m * u + p * r + g,
                    b = c * a + d * u + S,
                    T = m * u + p * a + g,
                    C = c * a + d * l + S,
                    A = m * l + p * a + g,
                    v = c * r + d * l + S,
                    M = m * l + p * r + g;
                t = v < (t = C < (t = b < (t = y) ? b : t) ? C : t) ? v : t, i = M < (i = A < (i = T < (i = f) ? T : i) ? A : i) ? M : i, e = v > (e = C > (e = b > (e = y) ? b : e) ? C : e) ? v : e, n = M > (n = A > (n = T > (n = f) ? T : n) ? A : n) ? M : n;
                var L = this._bounds;
                return L.x = t, L.width = e - t, L.y = i, L.height = n - i, this._currentBounds = L, L
            }, n.prototype.containsPoint = function (t) {
                this.worldTransform.applyInverse(t, s);
                var e, i = this._width,
                    n = this._height,
                    o = -i * this.anchor.x;
                return s.x > o && s.x < o + i && (e = -n * this.anchor.y, s.y > e && s.y < e + n)
            }, n.prototype.destroy = function () {
                o.Sprite.prototype.destroy.call(this), this.tileScale = null, this._tileScaleOffset = null, this.tilePosition = null, this._uvs = null
            }, n.fromFrame = function (t, e, i) {
                var s = o.utils.TextureCache[t];
                if (!s) throw new Error('The frameId "' + t + '" does not exist in the texture cache ' + this);
                return new n(s, e, i)
            }, n.fromImage = function (t, e, i, s, a) {
                return new n(o.Texture.fromImage(t, s, a), e, i)
            }
        }, {
            "../core": 25
        }],
        78: [function (t, e, i) {
            var n = t("../core"),
                o = n.DisplayObject,
                s = new n.Matrix;
            o.prototype._cacheAsBitmap = !1, o.prototype._originalRenderWebGL = null, o.prototype._originalRenderCanvas = null, o.prototype._originalUpdateTransform = null, o.prototype._originalHitTest = null, o.prototype._originalDestroy = null, o.prototype._cachedSprite = null, Object.defineProperties(o.prototype, {
                cacheAsBitmap: {
                    get: function () {
                        return this._cacheAsBitmap
                    },
                    set: function (t) {
                        this._cacheAsBitmap !== t && (this._cacheAsBitmap = t, t ? (this._originalRenderWebGL = this.renderWebGL, this._originalRenderCanvas = this.renderCanvas, this._originalUpdateTransform = this.updateTransform, this._originalGetBounds = this.getBounds, this._originalDestroy = this.destroy, this._originalContainesPoint = this.containsPoint, this.renderWebGL = this._renderCachedWebGL, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (this._cachedSprite && this._destroyCachedDisplayObject(), this.renderWebGL = this._originalRenderWebGL, this.renderCanvas = this._originalRenderCanvas, this.getBounds = this._originalGetBounds, this.destroy = this._originalDestroy, this.updateTransform = this._originalUpdateTransform, this.containsPoint = this._originalContainsPoint))
                    }
                }
            }), o.prototype._renderCachedWebGL = function (t) {
                this._initCachedDisplayObject(t), this._cachedSprite.worldAlpha = this.worldAlpha, t.setObjectRenderer(t.plugins.sprite), t.plugins.sprite.render(this._cachedSprite)
            }, o.prototype._initCachedDisplayObject = function (t) {
                if (!this._cachedSprite) {
                    t.currentRenderer.flush();
                    var e = this.getLocalBounds().clone();
                    if (this._filters) {
                        var i = this._filters[0].padding;
                        e.x -= i, e.y -= i, e.width += 2 * i, e.height += 2 * i
                    }
                    var o = t.currentRenderTarget,
                        a = t.filterManager.filterStack,
                        r = new n.RenderTexture(t, 0 | e.width, 0 | e.height),
                        l = s;
                    l.tx = -e.x, l.ty = -e.y, this.renderWebGL = this._originalRenderWebGL, r.render(this, l, !0, !0), t.setRenderTarget(o), t.filterManager.filterStack = a, this.renderWebGL = this._renderCachedWebGL, this.updateTransform = this.displayObjectUpdateTransform, this.getBounds = this._getCachedBounds, this._cachedSprite = new n.Sprite(r), this._cachedSprite.worldTransform = this.worldTransform, this._cachedSprite.anchor.x = -e.x / e.width, this._cachedSprite.anchor.y = -e.y / e.height, this.updateTransform(), this.containsPoint = this._cachedSprite.containsPoint.bind(this._cachedSprite)
                }
            }, o.prototype._renderCachedCanvas = function (t) {
                this._initCachedDisplayObjectCanvas(t), this._cachedSprite.worldAlpha = this.worldAlpha, this._cachedSprite.renderCanvas(t)
            }, o.prototype._initCachedDisplayObjectCanvas = function (t) {
                if (!this._cachedSprite) {
                    var e = this.getLocalBounds(),
                        i = t.context,
                        o = new n.RenderTexture(t, 0 | e.width, 0 | e.height),
                        a = s;
                    a.tx = -e.x, a.ty = -e.y, this.renderCanvas = this._originalRenderCanvas, o.render(this, a, !0), t.context = i, this.renderCanvas = this._renderCachedCanvas, this.updateTransform = this.displayObjectUpdateTransform, this.getBounds = this._getCachedBounds, this._cachedSprite = new n.Sprite(o), this._cachedSprite.worldTransform = this.worldTransform, this._cachedSprite.anchor.x = -e.x / e.width, this._cachedSprite.anchor.y = -e.y / e.height, this.updateTransform(), this.containsPoint = this._cachedSprite.containsPoint.bind(this._cachedSprite)
                }
            }, o.prototype._getCachedBounds = function () {
                return this._cachedSprite._currentBounds = null, this._cachedSprite.getBounds()
            }, o.prototype._destroyCachedDisplayObject = function () {
                this._cachedSprite._texture.destroy(), this._cachedSprite = null
            }, o.prototype._cacheAsBitmapDestroy = function () {
                this.cacheAsBitmap = !1, this._originalDestroy()
            }
        }, {
            "../core": 25
        }],
        79: [function (t, e, i) {
            var n = t("../core");
            n.DisplayObject.prototype.name = null, n.Container.prototype.getChildByName = function (t) {
                for (var e = 0; e < this.children.length; e++)
                    if (this.children[e].name === t) return this.children[e];
                return null
            }
        }, {
            "../core": 25
        }],
        80: [function (t, e, i) {
            var n = t("../core");
            n.DisplayObject.prototype.getGlobalPosition = function (t) {
                return t = t || new n.Point, this.parent ? (this.displayObjectUpdateTransform(), t.x = this.worldTransform.tx, t.y = this.worldTransform.ty) : (t.x = this.position.x, t.y = this.position.y), t
            }
        }, {
            "../core": 25
        }],
        81: [function (t, e, i) {
            t("./cacheAsBitmap"), t("./getChildByName"), t("./getGlobalPosition"), e.exports = {
                MovieClip: t("./MovieClip"),
                TilingSprite: t("./TilingSprite"),
                BitmapText: t("./BitmapText")
            }
        }, {
            "./BitmapText": 75,
            "./MovieClip": 76,
            "./TilingSprite": 77,
            "./cacheAsBitmap": 78,
            "./getChildByName": 79,
            "./getGlobalPosition": 80
        }],
        82: [function (t, e, i) {
            function n() {
                this.global = new o.Point, this.target = null, this.originalEvent = null
            }
            var o = t("../core");
            n.prototype.constructor = n, e.exports = n, n.prototype.getLocalPosition = function (t, e, i) {
                var n = t.worldTransform,
                    s = i || this.global,
                    a = n.a,
                    r = n.c,
                    l = n.tx,
                    u = n.b,
                    h = n.d,
                    c = n.ty,
                    p = 1 / (a * h + r * -u);
                return (e = e || new o.math.Point).x = h * p * s.x + -r * p * s.y + (c * r - l * h) * p, e.y = a * p * s.y + -u * p * s.x + (-c * a + l * u) * p, e
            }
        }, {
            "../core": 25
        }],
        83: [function (t, e, i) {
            function n(t, e) {
                e = e || {}, this.renderer = t, this.autoPreventDefault = void 0 === e.autoPreventDefault || e.autoPreventDefault, this.interactionFrequency = e.interactionFrequency || 10, this.mouse = new s, this.eventData = {
                    stopped: !1,
                    target: null,
                    type: null,
                    data: this.mouse,
                    stopPropagation: function () {
                        this.stopped = !0
                    }
                }, this.interactiveDataPool = [], this.interactionDOMElement = null, this.eventsAdded = !1, this.onMouseUp = this.onMouseUp.bind(this), this.processMouseUp = this.processMouseUp.bind(this), this.onMouseDown = this.onMouseDown.bind(this), this.processMouseDown = this.processMouseDown.bind(this), this.onMouseMove = this.onMouseMove.bind(this), this.processMouseMove = this.processMouseMove.bind(this), this.onMouseOut = this.onMouseOut.bind(this), this.processMouseOverOut = this.processMouseOverOut.bind(this), this.onTouchStart = this.onTouchStart.bind(this), this.processTouchStart = this.processTouchStart.bind(this), this.onTouchEnd = this.onTouchEnd.bind(this), this.processTouchEnd = this.processTouchEnd.bind(this), this.onTouchMove = this.onTouchMove.bind(this), this.processTouchMove = this.processTouchMove.bind(this), this.last = 0, this.currentCursorStyle = "inherit", this._tempPoint = new o.Point, this.resolution = 1, this.setTargetElement(this.renderer.view, this.renderer.resolution)
            }
            var o = t("../core"),
                s = t("./InteractionData");
            Object.assign(o.DisplayObject.prototype, t("./interactiveTarget")), n.prototype.constructor = n, e.exports = n, n.prototype.setTargetElement = function (t, e) {
                this.removeEvents(), this.interactionDOMElement = t, this.resolution = e || 1, this.addEvents()
            }, n.prototype.addEvents = function () {
                this.interactionDOMElement && (o.ticker.shared.add(this.update, this), window.navigator.msPointerEnabled && (this.interactionDOMElement.style["-ms-content-zooming"] = "none", this.interactionDOMElement.style["-ms-touch-action"] = "none"), window.document.addEventListener("mousemove", this.onMouseMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onMouseDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onMouseOut, !0), this.interactionDOMElement.addEventListener("touchstart", this.onTouchStart, !0), this.interactionDOMElement.addEventListener("touchend", this.onTouchEnd, !0), this.interactionDOMElement.addEventListener("touchendoutside", this.onTouchEnd, !0), this.interactionDOMElement.addEventListener("touchcancel", this.onTouchEnd, !0), this.interactionDOMElement.addEventListener("touchmove", this.onTouchMove, !0), window.addEventListener("mouseup", this.onMouseUp, !0), this.eventsAdded = !0)
            }, n.prototype.removeEvents = function () {
                this.interactionDOMElement && (o.ticker.shared.remove(this.update), window.navigator.msPointerEnabled && (this.interactionDOMElement.style["-ms-content-zooming"] = "", this.interactionDOMElement.style["-ms-touch-action"] = ""), window.document.removeEventListener("mousemove", this.onMouseMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onMouseDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onMouseOut, !0), this.interactionDOMElement.removeEventListener("touchstart", this.onTouchStart, !0), this.interactionDOMElement.removeEventListener("touchend", this.onTouchEnd, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onTouchMove, !0), this.interactionDOMElement = null, window.removeEventListener("mouseup", this.onMouseUp, !0), this.eventsAdded = !1)
            }, n.prototype.update = function (t) {
                if (this._deltaTime += t, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.interactionDOMElement)) {
                    if (this.didMove) return void(this.didMove = !1);
                    this.cursor = "inherit", this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, !0), this.currentCursorStyle !== this.cursor && (this.currentCursorStyle = this.cursor, this.interactionDOMElement.style.cursor = this.cursor)
                }
            }, n.prototype.dispatchEvent = function (t, e, i) {
                i.stopped || (i.target = t, i.type = e, t.emit(e, i), t[e] && t[e](i))
            }, n.prototype.mapPositionToPoint = function (t, e, i) {
                var n = this.interactionDOMElement.getBoundingClientRect();
                t.x = (e - n.left) * (this.interactionDOMElement.width / n.width) / this.resolution, t.y = (i - n.top) * (this.interactionDOMElement.height / n.height) / this.resolution
            }, n.prototype.processInteractive = function (t, e, i, n, o) {
                if (!e.visible) return !1;
                var s = e.children,
                    a = !1;
                if (o = o || e.interactive, e.interactiveChildren)
                    for (var r = s.length - 1; r >= 0; r--) !a && n ? a = this.processInteractive(t, s[r], i, !0, o) : this.processInteractive(t, s[r], i, !1, !1);
                return o && (n && (e.hitArea ? (e.worldTransform.applyInverse(t, this._tempPoint), a = e.hitArea.contains(this._tempPoint.x, this._tempPoint.y)) : e.containsPoint && (a = e.containsPoint(t))), e.interactive && i(e, a)), a
            }, n.prototype.onMouseDown = function (t) {
                this.mouse.originalEvent = t, this.eventData.data = this.mouse, this.eventData.stopped = !1, this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY), this.autoPreventDefault && this.mouse.originalEvent.preventDefault(), this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseDown, !0)
            }, n.prototype.processMouseDown = function (t, e) {
                var i = this.mouse.originalEvent,
                    n = 2 === i.button || 3 === i.which;
                e && (t[n ? "_isRightDown" : "_isLeftDown"] = !0, this.dispatchEvent(t, n ? "rightdown" : "mousedown", this.eventData))
            }, n.prototype.onMouseUp = function (t) {
                this.mouse.originalEvent = t, this.eventData.data = this.mouse, this.eventData.stopped = !1, this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY), this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseUp, !0)
            }, n.prototype.processMouseUp = function (t, e) {
                var i = this.mouse.originalEvent,
                    n = 2 === i.button || 3 === i.which,
                    o = n ? "_isRightDown" : "_isLeftDown";
                e ? (this.dispatchEvent(t, n ? "rightup" : "mouseup", this.eventData), t[o] && (t[o] = !1, this.dispatchEvent(t, n ? "rightclick" : "click", this.eventData))) : t[o] && (t[o] = !1, this.dispatchEvent(t, n ? "rightupoutside" : "mouseupoutside", this.eventData))
            }, n.prototype.onMouseMove = function (t) {
                this.mouse.originalEvent = t, this.eventData.data = this.mouse, this.eventData.stopped = !1, this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY), this.didMove = !0, this.cursor = "inherit", this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseMove, !0), this.currentCursorStyle !== this.cursor && (this.currentCursorStyle = this.cursor, this.interactionDOMElement.style.cursor = this.cursor)
            }, n.prototype.processMouseMove = function (t, e) {
                this.dispatchEvent(t, "mousemove", this.eventData), this.processMouseOverOut(t, e)
            }, n.prototype.onMouseOut = function (t) {
                this.mouse.originalEvent = t, this.eventData.stopped = !1, this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY), this.interactionDOMElement.style.cursor = "inherit", this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY), this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, !1)
            }, n.prototype.processMouseOverOut = function (t, e) {
                e ? (t._over || (t._over = !0, this.dispatchEvent(t, "mouseover", this.eventData)), t.buttonMode && (this.cursor = t.defaultCursor)) : t._over && (t._over = !1, this.dispatchEvent(t, "mouseout", this.eventData))
            }, n.prototype.onTouchStart = function (t) {
                this.autoPreventDefault && t.preventDefault();
                for (var e = t.changedTouches, i = e.length, n = 0; n < i; n++) {
                    var o = e[n],
                        s = this.getTouchData(o);
                    s.originalEvent = t, this.eventData.data = s, this.eventData.stopped = !1, this.processInteractive(s.global, this.renderer._lastObjectRendered, this.processTouchStart, !0), this.returnTouchData(s)
                }
            }, n.prototype.processTouchStart = function (t, e) {
                e && (t._touchDown = !0, this.dispatchEvent(t, "touchstart", this.eventData))
            }, n.prototype.onTouchEnd = function (t) {
                this.autoPreventDefault && t.preventDefault();
                for (var e = t.changedTouches, i = e.length, n = 0; n < i; n++) {
                    var o = e[n],
                        s = this.getTouchData(o);
                    s.originalEvent = t, this.eventData.data = s, this.eventData.stopped = !1, this.processInteractive(s.global, this.renderer._lastObjectRendered, this.processTouchEnd, !0), this.returnTouchData(s)
                }
            }, n.prototype.processTouchEnd = function (t, e) {
                e ? (this.dispatchEvent(t, "touchend", this.eventData), t._touchDown && (t._touchDown = !1, this.dispatchEvent(t, "tap", this.eventData))) : t._touchDown && (t._touchDown = !1, this.dispatchEvent(t, "touchendoutside", this.eventData))
            }, n.prototype.onTouchMove = function (t) {
                this.autoPreventDefault && t.preventDefault();
                for (var e = t.changedTouches, i = e.length, n = 0; n < i; n++) {
                    var o = e[n],
                        s = this.getTouchData(o);
                    s.originalEvent = t, this.eventData.data = s, this.eventData.stopped = !1, this.processInteractive(s.global, this.renderer._lastObjectRendered, this.processTouchMove, !1), this.returnTouchData(s)
                }
            }, n.prototype.processTouchMove = function (t, e) {
                e = e, this.dispatchEvent(t, "touchmove", this.eventData)
            }, n.prototype.getTouchData = function (t) {
                var e = this.interactiveDataPool.pop();
                return e || (e = new s), e.identifier = t.identifier, this.mapPositionToPoint(e.global, t.clientX, t.clientY), t.globalX = e.global.x, t.globalY = e.global.y, e
            }, n.prototype.returnTouchData = function (t) {
                this.interactiveDataPool.push(t)
            }, n.prototype.destroy = function () {
                this.removeEvents(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactiveDataPool = null, this.interactionDOMElement = null, this.onMouseUp = null, this.processMouseUp = null, this.onMouseDown = null, this.processMouseDown = null, this.onMouseMove = null, this.processMouseMove = null, this.onMouseOut = null, this.processMouseOverOut = null, this.onTouchStart = null, this.processTouchStart = null, this.onTouchEnd = null, this.processTouchEnd = null, this.onTouchMove = null, this.processTouchMove = null, this._tempPoint = null
            }, o.WebGLRenderer.registerPlugin("interaction", n), o.CanvasRenderer.registerPlugin("interaction", n)
        }, {
            "../core": 25,
            "./InteractionData": 82,
            "./interactiveTarget": 85
        }],
        84: [function (t, e, i) {
            e.exports = {
                InteractionData: t("./InteractionData"),
                InteractionManager: t("./InteractionManager"),
                interactiveTarget: t("./interactiveTarget")
            }
        }, {
            "./InteractionData": 82,
            "./InteractionManager": 83,
            "./interactiveTarget": 85
        }],
        85: [function (t, e, i) {
            e.exports = {
                interactive: !1,
                buttonMode: !1,
                interactiveChildren: !0,
                defaultCursor: "pointer",
                _over: !1,
                _touchDown: !1
            }
        }, {}],
        86: [function (t, e, i) {
            function n(t, e) {
                var i = {},
                    n = t.data.getElementsByTagName("info")[0],
                    o = t.data.getElementsByTagName("common")[0];
                i.font = n.getAttribute("face"), i.size = parseInt(n.getAttribute("size"), 10), i.lineHeight = parseInt(o.getAttribute("lineHeight"), 10), i.chars = {};
                for (var a = t.data.getElementsByTagName("char"), l = 0; l < a.length; l++) {
                    var u = parseInt(a[l].getAttribute("id"), 10),
                        h = new s.math.Rectangle(parseInt(a[l].getAttribute("x"), 10) + e.frame.x, parseInt(a[l].getAttribute("y"), 10) + e.frame.y, parseInt(a[l].getAttribute("width"), 10), parseInt(a[l].getAttribute("height"), 10));
                    i.chars[u] = {
                        xOffset: parseInt(a[l].getAttribute("xoffset"), 10),
                        yOffset: parseInt(a[l].getAttribute("yoffset"), 10),
                        xAdvance: parseInt(a[l].getAttribute("xadvance"), 10),
                        kerning: {},
                        texture: new s.Texture(e.baseTexture, h)
                    }
                }
                var c = t.data.getElementsByTagName("kerning");
                for (l = 0; l < c.length; l++) {
                    var p = parseInt(c[l].getAttribute("first"), 10),
                        d = parseInt(c[l].getAttribute("second"), 10),
                        m = parseInt(c[l].getAttribute("amount"), 10);
                    i.chars[d].kerning[p] = m
                }
                t.bitmapFont = i, r.BitmapText.fonts[i.font] = i
            }
            var o = t("resource-loader").Resource,
                s = t("../core"),
                a = t("../core/utils"),
                r = t("../extras"),
                l = t("path");
            e.exports = function () {
                return function (t, e) {
                    if (!t.data || !t.isXml) return e();
                    if (0 === t.data.getElementsByTagName("page").length || 0 === t.data.getElementsByTagName("info").length || null === t.data.getElementsByTagName("info")[0].getAttribute("face")) return e();
                    var i = l.dirname(t.url);
                    "." === i && (i = ""), this.baseUrl && i && ("/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (i += "/"), i = i.replace(this.baseUrl, "")), i && "/" !== i.charAt(i.length - 1) && (i += "/");
                    var s = t.data.getElementsByTagName("page")[0].getAttribute("file");
                    if (a.TextureCache[s]) n(t, a.TextureCache[s]), e();
                    else {
                        var r = {
                            crossOrigin: t.crossOrigin,
                            loadType: o.LOAD_TYPE.IMAGE
                        };
                        this.add(t.name + "_image", s, r, (function (i) {
                            n(t, i.texture), e()
                        }))
                    }
                }
            }
        }, {
            "../core": 25,
            "../core/utils": 72,
            "../extras": 81,
            path: 4,
            "resource-loader": 14
        }],
        87: [function (t, e, i) {
            e.exports = {
                Loader: t("./loader"),
                bitmapFontParser: t("./bitmapFontParser"),
                spritesheetParser: t("./spritesheetParser"),
                textureParser: t("./textureParser"),
                Resource: t("resource-loader").Resource
            }
        }, {
            "./bitmapFontParser": 86,
            "./loader": 88,
            "./spritesheetParser": 89,
            "./textureParser": 90,
            "resource-loader": 14
        }],
        88: [function (t, e, i) {
            function n(t, e) {
                o.call(this, t, e);
                for (var i = 0; i < n._pixiMiddleware.length; ++i) this.use(n._pixiMiddleware[i]())
            }
            var o = t("resource-loader"),
                s = t("./textureParser"),
                a = t("./spritesheetParser"),
                r = t("./bitmapFontParser");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n._pixiMiddleware = [o.middleware.parsing.blob, s, a, r], n.addPixiMiddleware = function (t) {
                n._pixiMiddleware.push(t)
            };
            var l = o.Resource;
            l.setExtensionXhrType("fnt", l.XHR_RESPONSE_TYPE.DOCUMENT)
        }, {
            "./bitmapFontParser": 86,
            "./spritesheetParser": 89,
            "./textureParser": 90,
            "resource-loader": 14
        }],
        89: [function (t, e, i) {
            var n = t("resource-loader").Resource,
                o = t("path"),
                s = t("../core");
            e.exports = function () {
                return function (t, e) {
                    if (!t.data || !t.isJson || !t.data.frames) return e();
                    var i = {
                            crossOrigin: t.crossOrigin,
                            loadType: n.LOAD_TYPE.IMAGE
                        },
                        a = o.dirname(t.url.replace(this.baseUrl, "")),
                        r = s.utils.getResolutionOfUrl(t.url);
                    this.add(t.name + "_image", a + "/" + t.data.meta.image, i, (function (i) {
                        t.textures = {};
                        var n = t.data.frames;
                        for (var o in n) {
                            var a = n[o].frame;
                            if (a) {
                                var l = null,
                                    u = null;
                                if (l = n[o].rotated ? new s.math.Rectangle(a.x, a.y, a.h, a.w) : new s.math.Rectangle(a.x, a.y, a.w, a.h), n[o].trimmed && (u = new s.math.Rectangle(n[o].spriteSourceSize.x / r, n[o].spriteSourceSize.y / r, n[o].sourceSize.w / r, n[o].sourceSize.h / r)), n[o].rotated) {
                                    var h = l.width;
                                    l.width = l.height, l.height = h
                                }
                                l.x /= r, l.y /= r, l.width /= r, l.height /= r, t.textures[o] = new s.Texture(i.texture.baseTexture, l, l.clone(), u, n[o].rotated), s.utils.TextureCache[o] = t.textures[o]
                            }
                        }
                        e()
                    }))
                }
            }
        }, {
            "../core": 25,
            path: 4,
            "resource-loader": 14
        }],
        90: [function (t, e, i) {
            var n = t("../core");
            e.exports = function () {
                return function (t, e) {
                    t.data && t.isImage && (t.texture = new n.Texture(new n.BaseTexture(t.data, null, n.utils.getResolutionOfUrl(t.url))), n.utils.TextureCache[t.url] = t.texture), e()
                }
            }
        }, {
            "../core": 25
        }],
        91: [function (t, e, i) {
            function n(t, e, i, s, a) {
                o.Container.call(this), this.texture = t, this.uvs = i || new Float32Array([0, 1, 1, 1, 1, 0, 0, 1]), this.vertices = e || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]), this.indices = s || new Uint16Array([0, 1, 2, 3]), this.dirty = !0, this.blendMode = o.BLEND_MODES.NORMAL, this.canvasPadding = 0, this.drawMode = a || n.DRAW_MODES.TRIANGLE_MESH
            }
            var o = t("../core");
            n.prototype = Object.create(o.Container.prototype), n.prototype.constructor = n, e.exports = n, n.prototype._renderWebGL = function (t) {
                t.setObjectRenderer(t.plugins.mesh), t.plugins.mesh.render(this)
            }, n.prototype._renderCanvas = function (t) {
                var e = t.context,
                    i = this.worldTransform;
                t.roundPixels ? e.setTransform(i.a, i.b, i.c, i.d, 0 | i.tx, 0 | i.ty) : e.setTransform(i.a, i.b, i.c, i.d, i.tx, i.ty), this.drawMode === n.DRAW_MODES.TRIANGLE_MESH ? this._renderCanvasTriangleMesh(e) : this._renderCanvasTriangles(e)
            }, n.prototype._renderCanvasTriangleMesh = function (t) {
                for (var e = this.vertices, i = this.uvs, n = e.length / 2, o = 0; o < n - 2; o++) {
                    var s = 2 * o;
                    this._renderCanvasDrawTriangle(t, e, i, s, s + 2, s + 4)
                }
            }, n.prototype._renderCanvasTriangles = function (t) {
                for (var e = this.vertices, i = this.uvs, n = this.indices, o = n.length, s = 0; s < o; s += 3) {
                    var a = 2 * n[s],
                        r = 2 * n[s + 1],
                        l = 2 * n[s + 2];
                    this._renderCanvasDrawTriangle(t, e, i, a, r, l)
                }
            }, n.prototype._renderCanvasDrawTriangle = function (t, e, i, n, o, s) {
                var a = this.texture.baseTexture.source,
                    r = this.texture.width,
                    l = this.texture.height,
                    u = e[n],
                    h = e[o],
                    c = e[s],
                    p = e[n + 1],
                    d = e[o + 1],
                    m = e[s + 1],
                    S = i[n] * r,
                    g = i[o] * r,
                    y = i[s] * r,
                    f = i[n + 1] * l,
                    b = i[o + 1] * l,
                    T = i[s + 1] * l;
                if (this.canvasPadding > 0) {
                    var C = this.canvasPadding / this.worldTransform.a,
                        A = this.canvasPadding / this.worldTransform.d,
                        v = (u + h + c) / 3,
                        M = (p + d + m) / 3,
                        L = u - v,
                        I = p - M,
                        P = Math.sqrt(L * L + I * I);
                    u = v + L / P * (P + C), p = M + I / P * (P + A), I = d - M, h = v + (L = h - v) / (P = Math.sqrt(L * L + I * I)) * (P + C), d = M + I / P * (P + A), I = m - M, c = v + (L = c - v) / (P = Math.sqrt(L * L + I * I)) * (P + C), m = M + I / P * (P + A)
                }
                t.save(), t.beginPath(), t.moveTo(u, p), t.lineTo(h, d), t.lineTo(c, m), t.closePath(), t.clip();
                var R = S * b + f * y + g * T - b * y - f * g - S * T,
                    _ = u * b + f * c + h * T - b * c - f * h - u * T,
                    E = S * h + u * y + g * c - h * y - u * g - S * c,
                    D = S * b * c + f * h * y + u * g * T - u * b * y - f * g * c - S * h * T,
                    O = p * b + f * m + d * T - b * m - f * d - p * T,
                    w = S * d + p * y + g * m - d * y - p * g - S * m,
                    x = S * b * m + f * d * y + p * g * T - p * b * y - f * g * m - S * d * T;
                t.transform(_ / R, O / R, E / R, w / R, D / R, x / R), t.drawImage(a, 0, 0), t.restore()
            }, n.prototype.renderMeshFlat = function (t) {
                var e = this.context,
                    i = t.vertices,
                    n = i.length / 2;
                e.beginPath();
                for (var o = 1; o < n - 2; o++) {
                    var s = 2 * o,
                        a = i[s],
                        r = i[s + 2],
                        l = i[s + 4],
                        u = i[s + 1],
                        h = i[s + 3],
                        c = i[s + 5];
                    e.moveTo(a, u), e.lineTo(r, h), e.lineTo(l, c)
                }
                e.fillStyle = "#FF0000", e.fill(), e.closePath()
            }, n.prototype.onTextureUpdate = function () {
                this.updateFrame = !0
            }, n.prototype.getBounds = function (t) {
                for (var e = t || this.worldTransform, i = e.a, n = e.b, s = e.c, a = e.d, r = e.tx, l = e.ty, u = -1 / 0, h = -1 / 0, c = 1 / 0, p = 1 / 0, d = this.vertices, m = 0, S = d.length; m < S; m += 2) {
                    var g = d[m],
                        y = d[m + 1],
                        f = i * g + s * y + r,
                        b = a * y + n * g + l;
                    c = f < c ? f : c, p = b < p ? b : p, u = f > u ? f : u, h = b > h ? b : h
                }
                if (c === -1 / 0 || h === 1 / 0) return o.math.Rectangle.EMPTY;
                var T = this._bounds;
                return T.x = c, T.width = u - c, T.y = p, T.height = h - p, this._currentBounds = T, T
            }, n.DRAW_MODES = {
                TRIANGLE_MESH: 0,
                TRIANGLES: 1
            }
        }, {
            "../core": 25
        }],
        92: [function (t, e, i) {
            function n(t, e) {
                o.call(this, t), this.points = e, this.vertices = new Float32Array(4 * e.length), this.uvs = new Float32Array(4 * e.length), this.colors = new Float32Array(2 * e.length), this.indices = new Uint16Array(2 * e.length), this.refresh()
            }
            var o = t("./Mesh");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, n.prototype.refresh = function () {
                var t = this.points;
                if (!(t.length < 1)) {
                    var e = this.uvs,
                        i = this.indices,
                        n = this.colors;
                    e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 1, n[0] = 1, n[1] = 1, i[0] = 0, i[1] = 1;
                    for (var o, s, a = t.length, r = 1; r < a; r++) t[r], s = r / (a - 1), e[o = 4 * r] = s, e[o + 1] = 0, e[o + 2] = s, e[o + 3] = 1, n[o = 2 * r] = 1, n[o + 1] = 1, i[o = 2 * r] = o, i[o + 1] = o + 1
                }
            }, n.prototype.updateTransform = function () {
                var t = this.points;
                if (!(t.length < 1)) {
                    for (var e, i, n, o, s, a = t[0], r = 0, l = 0, u = this.vertices, h = t.length, c = 0; c < h; c++) i = t[c], n = 4 * c, l = -((e = c < t.length - 1 ? t[c + 1] : i).x - a.x), r = e.y - a.y, 10 * (1 - c / (h - 1)) > 1 && 1, r /= o = Math.sqrt(r * r + l * l), l /= o, r *= s = this.texture.baseTexture.height / 2, l *= s, u[n] = i.x + r, u[n + 1] = i.y + l, u[n + 2] = i.x - r, u[n + 3] = i.y - l, a = i;
                    this.containerUpdateTransform()
                }
            }
        }, {
            "./Mesh": 91
        }],
        93: [function (t, e, i) {
            e.exports = {
                Mesh: t("./Mesh"),
                Rope: t("./Rope"),
                MeshRenderer: t("./webgl/MeshRenderer"),
                MeshShader: t("./webgl/MeshShader")
            }
        }, {
            "./Mesh": 91,
            "./Rope": 92,
            "./webgl/MeshRenderer": 94,
            "./webgl/MeshShader": 95
        }],
        94: [function (t, e, i) {
            function n(t) {
                o.call(this, t), this.indices = new Uint16Array(15e3);
                for (var e = 0, i = 0; e < 15e3; e += 6, i += 4) this.indices[e + 0] = i + 0, this.indices[e + 1] = i + 1, this.indices[e + 2] = i + 2, this.indices[e + 3] = i + 0, this.indices[e + 4] = i + 2, this.indices[e + 5] = i + 3
            }
            var o = t("../../core/renderers/webgl/utils/ObjectRenderer"),
                s = t("../../core/renderers/webgl/WebGLRenderer");
            n.prototype = Object.create(o.prototype), n.prototype.constructor = n, e.exports = n, s.registerPlugin("mesh", n), n.prototype.onContextChange = function () {}, n.prototype.render = function (t) {
                t._vertexBuffer || this._initWebGL(t);
                var e = this.renderer,
                    i = e.gl,
                    n = t.texture.baseTexture,
                    o = e.shaderManager.plugins.meshShader,
                    s = t.drawMode === {
                        TRIANGLE_MESH: 0,
                        TRIANGLES: 1
                    }.TRIANGLE_STRIP ? i.TRIANGLE_STRIP : i.TRIANGLES;
                e.blendModeManager.setBlendMode(t.blendMode), i.uniformMatrix3fv(o.uniforms.translationMatrix._location, !1, t.worldTransform.toArray(!0)), i.uniformMatrix3fv(o.uniforms.projectionMatrix._location, !1, e.currentRenderTarget.projectionMatrix.toArray(!0));
                var a = t.worldAlpha;
                if (t.darkColor) {
                    var r = t.lightColor,
                        l = r.a * a,
                        u = t.darkColor,
                        h = u.a;
                    i.uniform4fv(o.uniforms.light._location, [r.r * l, r.g * l, r.b * l, l]), i.uniform4fv(o.uniforms.dark._location, [u.r * h, u.g * h, u.b * h, h])
                } else i.uniform4fv(o.uniforms.light._location, [a, a, a, a]), i.uniform4fv(o.uniforms.dark._location, [0, 0, 0, 0]);
                t.dirty ? (t.dirty = !1, i.bindBuffer(i.ARRAY_BUFFER, t._vertexBuffer), i.bufferData(i.ARRAY_BUFFER, t.vertices, i.STATIC_DRAW), i.vertexAttribPointer(o.attributes.aVertexPosition, 2, i.FLOAT, !1, 0, 0), i.bindBuffer(i.ARRAY_BUFFER, t._uvBuffer), i.bufferData(i.ARRAY_BUFFER, t.uvs, i.STATIC_DRAW), i.vertexAttribPointer(o.attributes.aTextureCoord, 2, i.FLOAT, !1, 0, 0), i.activeTexture(i.TEXTURE0), n._glTextures[i.id] ? i.bindTexture(i.TEXTURE_2D, n._glTextures[i.id]) : this.renderer.updateTexture(n), i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, t._indexBuffer), i.bufferData(i.ELEMENT_ARRAY_BUFFER, t.indices, i.STATIC_DRAW)) : (i.bindBuffer(i.ARRAY_BUFFER, t._vertexBuffer), i.bufferSubData(i.ARRAY_BUFFER, 0, t.vertices), i.vertexAttribPointer(o.attributes.aVertexPosition, 2, i.FLOAT, !1, 0, 0), i.bindBuffer(i.ARRAY_BUFFER, t._uvBuffer), i.vertexAttribPointer(o.attributes.aTextureCoord, 2, i.FLOAT, !1, 0, 0), i.activeTexture(i.TEXTURE0), n._glTextures[i.id] ? i.bindTexture(i.TEXTURE_2D, n._glTextures[i.id]) : this.renderer.updateTexture(n), i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, t._indexBuffer)), i.drawElements(s, t.indices.length, i.UNSIGNED_SHORT, 0)
            }, n.prototype._initWebGL = function (t) {
                var e = this.renderer.gl;
                t._vertexBuffer = e.createBuffer(), t._indexBuffer = e.createBuffer(), t._uvBuffer = e.createBuffer(), e.bindBuffer(e.ARRAY_BUFFER, t._vertexBuffer), e.bufferData(e.ARRAY_BUFFER, t.vertices, e.DYNAMIC_DRAW), e.bindBuffer(e.ARRAY_BUFFER, t._uvBuffer), e.bufferData(e.ARRAY_BUFFER, t.uvs, e.STATIC_DRAW), t.colors && (t._colorBuffer = e.createBuffer(), e.bindBuffer(e.ARRAY_BUFFER, t._colorBuffer), e.bufferData(e.ARRAY_BUFFER, t.colors, e.STATIC_DRAW)), e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, t._indexBuffer), e.bufferData(e.ELEMENT_ARRAY_BUFFER, t.indices, e.STATIC_DRAW)
            }, n.prototype.flush = function () {}, n.prototype.start = function () {
                var t = this.renderer.shaderManager.plugins.meshShader;
                this.renderer.shaderManager.setShader(t)
            }, n.prototype.destroy = function () {}
        }, {
            "../../core/renderers/webgl/WebGLRenderer": 45,
            "../../core/renderers/webgl/utils/ObjectRenderer": 59
        }],
        95: [function (t, e, i) {
            function n(t) {
                o.Shader.call(this, t, ["#ifdef GL_FRAGMENT_PRECISION_HIGH", "  precision highp float;", "#else", "  precision mediump float;", "#endif", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "}"].join("\n"), ["precision lowp float;", "varying vec2 vTextureCoord;", "uniform sampler2D uSampler;", "uniform vec4 light;", "uniform vec4 dark;", "void main(void){", "vec4 texColor = texture2D(uSampler, vTextureCoord);", "gl_FragColor.a = texColor.a * light.a;", "gl_FragColor.rgb = ((texColor.a - 1.0) * dark.a + 1.0 - texColor.rgb) * dark.rgb + texColor.rgb * light.rgb;", "}"].join("\n"), {
                    light: {
                        type: "4fv",
                        value: [1, 1, 1, 1]
                    },
                    dark: {
                        type: "4fv",
                        value: [0, 0, 0, 1]
                    },
                    translationMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    },
                    projectionMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    }
                }, {
                    aVertexPosition: 0,
                    aTextureCoord: 0
                })
            }
            var o = t("../../core");
            n.prototype = Object.create(o.Shader.prototype), n.prototype.constructor = n, e.exports = n, o.ShaderManager.registerPlugin("meshShader", n)
        }, {
            "../../core": 25
        }],
        96: [function (t, e, i) {
            Object.assign || (Object.assign = t("object-assign"))
        }, {
            "object-assign": 7
        }],
        97: [function (t, e, i) {
            t("./Object.assign"), t("./requestAnimationFrame")
        }, {
            "./Object.assign": 96,
            "./requestAnimationFrame": 98
        }],
        98: [function (t, e, i) {
            (function (t) {
                if (Date.now && Date.prototype.getTime || (Date.now = function () {
                        return (new Date).getTime()
                    }), !t.performance || !t.performance.now) {
                    var e = Date.now();
                    t.performance || (t.performance = {}), t.performance.now = function () {
                        return Date.now() - e
                    }
                }
                for (var i = Date.now(), n = ["ms", "moz", "webkit", "o"], o = 0; o < n.length && !t.requestAnimationFrame; ++o) t.requestAnimationFrame = t[n[o] + "RequestAnimationFrame"], t.cancelAnimationFrame = t[n[o] + "CancelAnimationFrame"] || t[n[o] + "CancelRequestAnimationFrame"];
                t.requestAnimationFrame || (t.requestAnimationFrame = function (t) {
                    if ("function" != typeof t) throw new TypeError(t + "is not a function");
                    var e = Date.now(),
                        n = 16 + i - e;
                    return n < 0 && (n = 0), i = e, setTimeout((function () {
                        i = Date.now(), t(performance.now())
                    }), n)
                }), t.cancelAnimationFrame || (t.cancelAnimationFrame = function (t) {
                    clearTimeout(t)
                })
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {}],
        99: [function (t, e, i) {
            function n() {
                var t = this;
                this._tick = function (e) {
                    t._requestId = null, t.started && (t.update(e), t.started && null === t._requestId && t._emitter.listeners(a, !0))
                }, this._emitter = new s, this._requestId = null, this._maxElapsedMS = 100, this.autoStart = !1, this.deltaTime = 1, this.elapsedMS = 1 / o.TARGET_FPMS, this.lastTime = 0, this.speed = 1, this.started = !1
            }
            var o = t("../core"),
                s = t("eventemitter3"),
                a = "tick";
            Object.defineProperties(n.prototype, {
                FPS: {
                    get: function () {
                        return 1e3 / this.elapsedMS
                    }
                },
                minFPS: {
                    get: function () {
                        return 1e3 / this._maxElapsedMS
                    },
                    set: function (t) {
                        var e = Math.min(Math.max(0, t) / 1e3, o.TARGET_FPMS);
                        this._maxElapsedMS = 1 / e
                    }
                }
            }), n.prototype._requestIfNeeded = function () {
                null === this._requestId && this._emitter.listeners(a, !0) && (this.lastTime = performance.now(), this._requestId = requestAnimationFrame(this._tick))
            }, n.prototype._cancelIfNeeded = function () {
                null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null)
            }, n.prototype._startIfPossible = function () {
                this.started ? this._requestIfNeeded() : this.autoStart && this.start()
            }, n.prototype.add = function (t, e) {
                return this._emitter.on(a, t, e), this._startIfPossible(), this
            }, n.prototype.addOnce = function (t, e) {
                return this._emitter.once(a, t, e), this._startIfPossible(), this
            }, n.prototype.remove = function (t, e) {
                return this._emitter.off(a, t, e), this._emitter.listeners(a, !0) || this._cancelIfNeeded(), this
            }, n.prototype.start = function () {
                this.started || (this.started = !0, this._requestIfNeeded())
            }, n.prototype.stop = function () {
                this.started && (this.started = !1, this._cancelIfNeeded())
            }, n.prototype.update = function (t) {
                var e;
                t = t || performance.now(), (e = this.elapsedMS = t - this.lastTime) > this._maxElapsedMS && (e = this._maxElapsedMS), this.deltaTime = e * o.TARGET_FPMS * this.speed, this._emitter.emit(a, this.deltaTime), this.lastTime = t
            }, e.exports = n
        }, {
            "../core": 25,
            eventemitter3: 6
        }],
        100: [function (t, e, i) {
            var n = t("./Ticker"),
                o = new n;
            o.autoStart = !0, e.exports = {
                shared: o,
                Ticker: n
            }
        }, {
            "./Ticker": 99
        }]
    }, {}, [1])(1)
}));
var pixi_spine, __extends = this && this.__extends || function () {
    var t = Object.setPrototypeOf || {
        __proto__: []
    }
    instanceof Array && function (t, e) {
        t.__proto__ = e
    } || function (t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
    };
    return function (e, i) {
        function n() {
            this.constructor = e
        }
        t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
    }
}();
! function (t) {
    ! function (t) {
        var e, i, n, o = function () {
            function t(t, e, i) {
                if (null == t) throw new Error("name cannot be null.");
                if (null == e) throw new Error("timelines cannot be null.");
                this.name = t, this.timelines = e, this.duration = i
            }
            return t.prototype.apply = function (t, e, i, n, o, s, a, r) {
                if (null == t) throw new Error("skeleton cannot be null.");
                n && 0 != this.duration && (i %= this.duration, e > 0 && (e %= this.duration));
                for (var l = this.timelines, u = 0, h = l.length; u < h; u++) l[u].apply(t, e, i, o, s, a, r)
            }, t.binarySearch = function (t, e, i) {
                void 0 === i && (i = 1);
                var n = 0,
                    o = t.length / i - 2;
                if (0 == o) return i;
                for (var s = o >>> 1;;) {
                    if (t[(s + 1) * i] <= e ? n = s + 1 : o = s, n == o) return (n + 1) * i;
                    s = n + o >>> 1
                }
            }, t.linearSearch = function (t, e, i) {
                for (var n = 0, o = t.length - i; n <= o; n += i)
                    if (t[n] > e) return n;
                return -1
            }, t
        }();
        t.Animation = o,
            function (t) {
                t[t.setup = 0] = "setup", t[t.current = 1] = "current", t[t.currentLayered = 2] = "currentLayered"
            }(e = t.MixPose || (t.MixPose = {})),
            function (t) {
                t[t.in = 0] = "in", t[t.out = 1] = "out"
            }(i = t.MixDirection || (t.MixDirection = {})),
            function (t) {
                t[t.rotate = 0] = "rotate", t[t.translate = 1] = "translate", t[t.scale = 2] = "scale", t[t.shear = 3] = "shear", t[t.attachment = 4] = "attachment", t[t.color = 5] = "color", t[t.deform = 6] = "deform", t[t.event = 7] = "event", t[t.drawOrder = 8] = "drawOrder", t[t.ikConstraint = 9] = "ikConstraint", t[t.transformConstraint = 10] = "transformConstraint", t[t.pathConstraintPosition = 11] = "pathConstraintPosition", t[t.pathConstraintSpacing = 12] = "pathConstraintSpacing", t[t.pathConstraintMix = 13] = "pathConstraintMix", t[t.twoColor = 14] = "twoColor"
            }(n = t.TimelineType || (t.TimelineType = {}));
        var s = function () {
            function e(i) {
                if (i <= 0) throw new Error("frameCount must be > 0: " + i);
                this.curves = t.Utils.newFloatArray((i - 1) * e.BEZIER_SIZE)
            }
            return e.prototype.getFrameCount = function () {
                return this.curves.length / e.BEZIER_SIZE + 1
            }, e.prototype.setLinear = function (t) {
                this.curves[t * e.BEZIER_SIZE] = e.LINEAR
            }, e.prototype.setStepped = function (t) {
                this.curves[t * e.BEZIER_SIZE] = e.STEPPED
            }, e.prototype.getCurveType = function (t) {
                var i = t * e.BEZIER_SIZE;
                if (i == this.curves.length) return e.LINEAR;
                var n = this.curves[i];
                return n == e.LINEAR ? e.LINEAR : n == e.STEPPED ? e.STEPPED : e.BEZIER
            }, e.prototype.setCurve = function (t, i, n, o, s) {
                var a = .03 * (2 * -i + o),
                    r = .03 * (2 * -n + s),
                    l = .006 * (3 * (i - o) + 1),
                    u = .006 * (3 * (n - s) + 1),
                    h = 2 * a + l,
                    c = 2 * r + u,
                    p = .3 * i + a + .16666667 * l,
                    d = .3 * n + r + .16666667 * u,
                    m = t * e.BEZIER_SIZE,
                    S = this.curves;
                S[m++] = e.BEZIER;
                for (var g = p, y = d, f = m + e.BEZIER_SIZE - 1; m < f; m += 2) S[m] = g, S[m + 1] = y, p += h, d += c, h += l, c += u, g += p, y += d
            }, e.prototype.getCurvePercent = function (i, n) {
                n = t.MathUtils.clamp(n, 0, 1);
                var o = this.curves,
                    s = i * e.BEZIER_SIZE,
                    a = o[s];
                if (a == e.LINEAR) return n;
                if (a == e.STEPPED) return 0;
                for (var r = 0, l = ++s, u = s + e.BEZIER_SIZE - 1; s < u; s += 2)
                    if ((r = o[s]) >= n) {
                        var h = void 0,
                            c = void 0;
                        return s == l ? (h = 0, c = 0) : (h = o[s - 2], c = o[s - 1]), c + (o[s + 1] - c) * (n - h) / (r - h)
                    } var p = o[s - 1];
                return p + (1 - p) * (n - r) / (1 - r)
            }, e.LINEAR = 0, e.STEPPED = 1, e.BEZIER = 2, e.BEZIER_SIZE = 19, e
        }();
        t.CurveTimeline = s;
        var a = function (i) {
            function s(e) {
                var n = i.call(this, e) || this;
                return n.frames = t.Utils.newFloatArray(e << 1), n
            }
            return __extends(s, i), s.prototype.getPropertyId = function () {
                return (n.rotate << 24) + this.boneIndex
            }, s.prototype.setFrame = function (t, e, i) {
                t <<= 1, this.frames[t] = e, this.frames[t + s.ROTATION] = i
            }, s.prototype.apply = function (t, i, n, a, r, l, u) {
                var h = this.frames,
                    c = t.bones[this.boneIndex];
                if (n < h[0]) switch (l) {
                    case e.setup:
                        return void(c.rotation = c.data.rotation);
                    case e.current:
                        var p = c.data.rotation - c.rotation;
                        p -= 360 * (16384 - (16384.499999999996 - p / 360 | 0)), c.rotation += p * r
                } else if (n >= h[h.length - s.ENTRIES])
                    if (l == e.setup) c.rotation = c.data.rotation + h[h.length + s.PREV_ROTATION] * r;
                    else {
                        var d = c.data.rotation + h[h.length + s.PREV_ROTATION] - c.rotation;
                        d -= 360 * (16384 - (16384.499999999996 - d / 360 | 0)), c.rotation += d * r
                    }
                else {
                    var m = o.binarySearch(h, n, s.ENTRIES),
                        S = h[m + s.PREV_ROTATION],
                        g = h[m],
                        y = this.getCurvePercent((m >> 1) - 1, 1 - (n - g) / (h[m + s.PREV_TIME] - g)),
                        f = h[m + s.ROTATION] - S;
                    f = S + (f -= 360 * (16384 - (16384.499999999996 - f / 360 | 0))) * y, l == e.setup ? (f -= 360 * (16384 - (16384.499999999996 - f / 360 | 0)), c.rotation = c.data.rotation + f * r) : (f = c.data.rotation + f - c.rotation, f -= 360 * (16384 - (16384.499999999996 - f / 360 | 0)), c.rotation += f * r)
                }
            }, s.ENTRIES = 2, s.PREV_TIME = -2, s.PREV_ROTATION = -1, s.ROTATION = 1, s
        }(s);
        t.RotateTimeline = a;
        var r = function (i) {
            function s(e) {
                var n = i.call(this, e) || this;
                return n.frames = t.Utils.newFloatArray(e * s.ENTRIES), n
            }
            return __extends(s, i), s.prototype.getPropertyId = function () {
                return (n.translate << 24) + this.boneIndex
            }, s.prototype.setFrame = function (t, e, i, n) {
                t *= s.ENTRIES, this.frames[t] = e, this.frames[t + s.X] = i, this.frames[t + s.Y] = n
            }, s.prototype.apply = function (t, i, n, a, r, l, u) {
                var h = this.frames,
                    c = t.bones[this.boneIndex];
                if (n < h[0]) switch (l) {
                    case e.setup:
                        return c.x = c.data.x, void(c.y = c.data.y);
                    case e.current:
                        c.x += (c.data.x - c.x) * r, c.y += (c.data.y - c.y) * r
                } else {
                    var p = 0,
                        d = 0;
                    if (n >= h[h.length - s.ENTRIES]) p = h[h.length + s.PREV_X], d = h[h.length + s.PREV_Y];
                    else {
                        var m = o.binarySearch(h, n, s.ENTRIES);
                        p = h[m + s.PREV_X], d = h[m + s.PREV_Y];
                        var S = h[m],
                            g = this.getCurvePercent(m / s.ENTRIES - 1, 1 - (n - S) / (h[m + s.PREV_TIME] - S));
                        p += (h[m + s.X] - p) * g, d += (h[m + s.Y] - d) * g
                    }
                    l == e.setup ? (c.x = c.data.x + p * r, c.y = c.data.y + d * r) : (c.x += (c.data.x + p - c.x) * r, c.y += (c.data.y + d - c.y) * r)
                }
            }, s.ENTRIES = 3, s.PREV_TIME = -3, s.PREV_X = -2, s.PREV_Y = -1, s.X = 1, s.Y = 2, s
        }(s);
        t.TranslateTimeline = r;
        var l = function (s) {
            function a(t) {
                return s.call(this, t) || this
            }
            return __extends(a, s), a.prototype.getPropertyId = function () {
                return (n.scale << 24) + this.boneIndex
            }, a.prototype.apply = function (n, s, r, l, u, h, c) {
                var p = this.frames,
                    d = n.bones[this.boneIndex];
                if (r < p[0]) switch (h) {
                    case e.setup:
                        return d.scaleX = d.data.scaleX, void(d.scaleY = d.data.scaleY);
                    case e.current:
                        d.scaleX += (d.data.scaleX - d.scaleX) * u, d.scaleY += (d.data.scaleY - d.scaleY) * u
                } else {
                    var m = 0,
                        S = 0;
                    if (r >= p[p.length - a.ENTRIES]) m = p[p.length + a.PREV_X] * d.data.scaleX, S = p[p.length + a.PREV_Y] * d.data.scaleY;
                    else {
                        var g = o.binarySearch(p, r, a.ENTRIES);
                        m = p[g + a.PREV_X], S = p[g + a.PREV_Y];
                        var y = p[g],
                            f = this.getCurvePercent(g / a.ENTRIES - 1, 1 - (r - y) / (p[g + a.PREV_TIME] - y));
                        m = (m + (p[g + a.X] - m) * f) * d.data.scaleX, S = (S + (p[g + a.Y] - S) * f) * d.data.scaleY
                    }
                    if (1 == u) d.scaleX = m, d.scaleY = S;
                    else {
                        var b = 0,
                            T = 0;
                        h == e.setup ? (b = d.data.scaleX, T = d.data.scaleY) : (b = d.scaleX, T = d.scaleY), c == i.out ? (m = Math.abs(m) * t.MathUtils.signum(b), S = Math.abs(S) * t.MathUtils.signum(T)) : (b = Math.abs(b) * t.MathUtils.signum(m), T = Math.abs(T) * t.MathUtils.signum(S)), d.scaleX = b + (m - b) * u, d.scaleY = T + (S - T) * u
                    }
                }
            }, a
        }(r);
        t.ScaleTimeline = l;
        var u = function (t) {
            function i(e) {
                return t.call(this, e) || this
            }
            return __extends(i, t), i.prototype.getPropertyId = function () {
                return (n.shear << 24) + this.boneIndex
            }, i.prototype.apply = function (t, n, s, a, r, l, u) {
                var h = this.frames,
                    c = t.bones[this.boneIndex];
                if (s < h[0]) switch (l) {
                    case e.setup:
                        return c.shearX = c.data.shearX, void(c.shearY = c.data.shearY);
                    case e.current:
                        c.shearX += (c.data.shearX - c.shearX) * r, c.shearY += (c.data.shearY - c.shearY) * r
                } else {
                    var p = 0,
                        d = 0;
                    if (s >= h[h.length - i.ENTRIES]) p = h[h.length + i.PREV_X], d = h[h.length + i.PREV_Y];
                    else {
                        var m = o.binarySearch(h, s, i.ENTRIES);
                        p = h[m + i.PREV_X], d = h[m + i.PREV_Y];
                        var S = h[m],
                            g = this.getCurvePercent(m / i.ENTRIES - 1, 1 - (s - S) / (h[m + i.PREV_TIME] - S));
                        p += (h[m + i.X] - p) * g, d += (h[m + i.Y] - d) * g
                    }
                    l == e.setup ? (c.shearX = c.data.shearX + p * r, c.shearY = c.data.shearY + d * r) : (c.shearX += (c.data.shearX + p - c.shearX) * r, c.shearY += (c.data.shearY + d - c.shearY) * r)
                }
            }, i
        }(r);
        t.ShearTimeline = u;
        var h = function (i) {
            function s(e) {
                var n = i.call(this, e) || this;
                return n.frames = t.Utils.newFloatArray(e * s.ENTRIES), n
            }
            return __extends(s, i), s.prototype.getPropertyId = function () {
                return (n.color << 24) + this.slotIndex
            }, s.prototype.setFrame = function (t, e, i, n, o, a) {
                t *= s.ENTRIES, this.frames[t] = e, this.frames[t + s.R] = i, this.frames[t + s.G] = n, this.frames[t + s.B] = o, this.frames[t + s.A] = a
            }, s.prototype.apply = function (t, i, n, a, r, l, u) {
                var h = t.slots[this.slotIndex],
                    c = this.frames;
                if (n < c[0]) switch (l) {
                    case e.setup:
                        return void h.color.setFromColor(h.data.color);
                    case e.current:
                        var p = h.color,
                            d = h.data.color;
                        p.add((d.r - p.r) * r, (d.g - p.g) * r, (d.b - p.b) * r, (d.a - p.a) * r)
                } else {
                    var m = 0,
                        S = 0,
                        g = 0,
                        y = 0;
                    if (n >= c[c.length - s.ENTRIES]) {
                        var f = c.length;
                        m = c[f + s.PREV_R], S = c[f + s.PREV_G], g = c[f + s.PREV_B], y = c[f + s.PREV_A]
                    } else {
                        var b = o.binarySearch(c, n, s.ENTRIES);
                        m = c[b + s.PREV_R], S = c[b + s.PREV_G], g = c[b + s.PREV_B], y = c[b + s.PREV_A];
                        var T = c[b],
                            C = this.getCurvePercent(b / s.ENTRIES - 1, 1 - (n - T) / (c[b + s.PREV_TIME] - T));
                        m += (c[b + s.R] - m) * C, S += (c[b + s.G] - S) * C, g += (c[b + s.B] - g) * C, y += (c[b + s.A] - y) * C
                    }
                    if (1 == r) h.color.set(m, S, g, y);
                    else {
                        p = h.color;
                        l == e.setup && p.setFromColor(h.data.color), p.add((m - p.r) * r, (S - p.g) * r, (g - p.b) * r, (y - p.a) * r)
                    }
                }
            }, s.ENTRIES = 5, s.PREV_TIME = -5, s.PREV_R = -4, s.PREV_G = -3, s.PREV_B = -2, s.PREV_A = -1, s.R = 1, s.G = 2, s.B = 3, s.A = 4, s
        }(s);
        t.ColorTimeline = h;
        var c = function (i) {
            function s(e) {
                var n = i.call(this, e) || this;
                return n.frames = t.Utils.newFloatArray(e * s.ENTRIES), n
            }
            return __extends(s, i), s.prototype.getPropertyId = function () {
                return (n.twoColor << 24) + this.slotIndex
            }, s.prototype.setFrame = function (t, e, i, n, o, a, r, l, u) {
                t *= s.ENTRIES, this.frames[t] = e, this.frames[t + s.R] = i, this.frames[t + s.G] = n, this.frames[t + s.B] = o, this.frames[t + s.A] = a, this.frames[t + s.R2] = r, this.frames[t + s.G2] = l, this.frames[t + s.B2] = u
            }, s.prototype.apply = function (t, i, n, a, r, l, u) {
                var h = t.slots[this.slotIndex],
                    c = this.frames;
                if (n < c[0]) switch (l) {
                    case e.setup:
                        return h.color.setFromColor(h.data.color), void h.darkColor.setFromColor(h.data.darkColor);
                    case e.current:
                        var p = h.color,
                            d = h.darkColor,
                            m = h.data.color,
                            S = h.data.darkColor;
                        p.add((m.r - p.r) * r, (m.g - p.g) * r, (m.b - p.b) * r, (m.a - p.a) * r), d.add((S.r - d.r) * r, (S.g - d.g) * r, (S.b - d.b) * r, 0)
                } else {
                    var g = 0,
                        y = 0,
                        f = 0,
                        b = 0,
                        T = 0,
                        C = 0,
                        A = 0;
                    if (n >= c[c.length - s.ENTRIES]) {
                        var v = c.length;
                        g = c[v + s.PREV_R], y = c[v + s.PREV_G], f = c[v + s.PREV_B], b = c[v + s.PREV_A], T = c[v + s.PREV_R2], C = c[v + s.PREV_G2], A = c[v + s.PREV_B2]
                    } else {
                        var M = o.binarySearch(c, n, s.ENTRIES);
                        g = c[M + s.PREV_R], y = c[M + s.PREV_G], f = c[M + s.PREV_B], b = c[M + s.PREV_A], T = c[M + s.PREV_R2], C = c[M + s.PREV_G2], A = c[M + s.PREV_B2];
                        var L = c[M],
                            I = this.getCurvePercent(M / s.ENTRIES - 1, 1 - (n - L) / (c[M + s.PREV_TIME] - L));
                        g += (c[M + s.R] - g) * I, y += (c[M + s.G] - y) * I, f += (c[M + s.B] - f) * I, b += (c[M + s.A] - b) * I, T += (c[M + s.R2] - T) * I, C += (c[M + s.G2] - C) * I, A += (c[M + s.B2] - A) * I
                    }
                    if (1 == r) h.color.set(g, y, f, b), h.darkColor.set(T, C, A, 1);
                    else {
                        p = h.color, d = h.darkColor;
                        l == e.setup && (p.setFromColor(h.data.color), d.setFromColor(h.data.darkColor)), p.add((g - p.r) * r, (y - p.g) * r, (f - p.b) * r, (b - p.a) * r), d.add((T - d.r) * r, (C - d.g) * r, (A - d.b) * r, 0)
                    }
                }
            }, s.ENTRIES = 8, s.PREV_TIME = -8, s.PREV_R = -7, s.PREV_G = -6, s.PREV_B = -5, s.PREV_A = -4, s.PREV_R2 = -3, s.PREV_G2 = -2, s.PREV_B2 = -1, s.R = 1, s.G = 2, s.B = 3, s.A = 4, s.R2 = 5, s.G2 = 6, s.B2 = 7, s
        }(s);
        t.TwoColorTimeline = c;
        var p = function () {
            function s(e) {
                this.frames = t.Utils.newFloatArray(e), this.attachmentNames = new Array(e)
            }
            return s.prototype.getPropertyId = function () {
                return (n.attachment << 24) + this.slotIndex
            }, s.prototype.getFrameCount = function () {
                return this.frames.length
            }, s.prototype.setFrame = function (t, e, i) {
                this.frames[t] = e, this.attachmentNames[t] = i
            }, s.prototype.apply = function (t, n, s, a, r, l, u) {
                var h = t.slots[this.slotIndex];
                if (u != i.out || l != e.setup) {
                    var c = this.frames;
                    if (s < c[0]) {
                        if (l == e.setup) {
                            var p = h.data.attachmentName;
                            h.setAttachment(null == p ? null : t.getAttachment(this.slotIndex, p))
                        }
                    } else {
                        var d = 0;
                        d = s >= c[c.length - 1] ? c.length - 1 : o.binarySearch(c, s, 1) - 1;
                        var m = this.attachmentNames[d];
                        t.slots[this.slotIndex].setAttachment(null == m ? null : t.getAttachment(this.slotIndex, m))
                    }
                } else {
                    var S = h.data.attachmentName;
                    h.setAttachment(null == S ? null : t.getAttachment(this.slotIndex, S))
                }
            }, s
        }();
        t.AttachmentTimeline = p;
        var d = null,
            m = function (i) {
                function s(e) {
                    var n = i.call(this, e) || this;
                    return n.frames = t.Utils.newFloatArray(e), n.frameVertices = new Array(e), null == d && (d = t.Utils.newFloatArray(64)), n
                }
                return __extends(s, i), s.prototype.getPropertyId = function () {
                    return (n.deform << 27) + +this.attachment.id + this.slotIndex
                }, s.prototype.setFrame = function (t, e, i) {
                    this.frames[t] = e, this.frameVertices[t] = i
                }, s.prototype.apply = function (i, n, s, a, r, l, u) {
                    var h = i.slots[this.slotIndex],
                        c = h.getAttachment();
                    if (c instanceof t.VertexAttachment && c.applyDeform(this.attachment)) {
                        var p = h.attachmentVertices;
                        0 == p.length && (r = 1);
                        var d = this.frameVertices,
                            m = d[0].length,
                            S = this.frames;
                        if (s < S[0]) {
                            var g = c;
                            switch (l) {
                                case e.setup:
                                    return void(p.length = 0);
                                case e.current:
                                    if (1 == r) {
                                        p.length = 0;
                                        break
                                    }
                                    var y = t.Utils.setArraySize(p, m);
                                    if (null == g.bones)
                                        for (var f = g.vertices, b = 0; b < m; b++) y[b] += (f[b] - y[b]) * r;
                                    else {
                                        r = 1 - r;
                                        for (b = 0; b < m; b++) y[b] *= r
                                    }
                            }
                        } else {
                            var T = t.Utils.setArraySize(p, m);
                            if (s >= S[S.length - 1]) {
                                var C = d[S.length - 1];
                                if (1 == r) t.Utils.arrayCopy(C, 0, T, 0, m);
                                else if (l == e.setup) {
                                    if (null == (g = c).bones)
                                        for (f = g.vertices, b = 0; b < m; b++) {
                                            var A = f[b];
                                            T[b] = A + (C[b] - A) * r
                                        } else
                                            for (b = 0; b < m; b++) T[b] = C[b] * r
                                } else
                                    for (b = 0; b < m; b++) T[b] += (C[b] - T[b]) * r
                            } else {
                                var v = o.binarySearch(S, s),
                                    M = d[v - 1],
                                    L = d[v],
                                    I = S[v],
                                    P = this.getCurvePercent(v - 1, 1 - (s - I) / (S[v - 1] - I));
                                if (1 == r)
                                    for (b = 0; b < m; b++) {
                                        var R = M[b];
                                        T[b] = R + (L[b] - R) * P
                                    } else if (l == e.setup) {
                                        if (null == (g = c).bones)
                                            for (f = g.vertices, b = 0; b < m; b++) {
                                                R = M[b], A = f[b];
                                                T[b] = A + (R + (L[b] - R) * P - A) * r
                                            } else
                                                for (b = 0; b < m; b++) {
                                                    R = M[b];
                                                    T[b] = (R + (L[b] - R) * P) * r
                                                }
                                    } else
                                        for (b = 0; b < m; b++) {
                                            R = M[b];
                                            T[b] += (R + (L[b] - R) * P - T[b]) * r
                                        }
                            }
                        }
                    }
                }, s
            }(s);
        t.DeformTimeline = m;
        var S = function () {
            function e(e) {
                this.frames = t.Utils.newFloatArray(e), this.events = new Array(e)
            }
            return e.prototype.getPropertyId = function () {
                return n.event << 24
            }, e.prototype.getFrameCount = function () {
                return this.frames.length
            }, e.prototype.setFrame = function (t, e) {
                this.frames[t] = e.time, this.events[t] = e
            }, e.prototype.apply = function (t, e, i, n, s, a, r) {
                if (null != n) {
                    var l = this.frames,
                        u = this.frames.length;
                    if (e > i) this.apply(t, e, Number.MAX_VALUE, n, s, a, r), e = -1;
                    else if (e >= l[u - 1]) return;
                    if (!(i < l[0])) {
                        var h = 0;
                        if (e < l[0]) h = 0;
                        else
                            for (var c = l[h = o.binarySearch(l, e)]; h > 0 && l[h - 1] == c;) h--;
                        for (; h < u && i >= l[h]; h++) n.push(this.events[h])
                    }
                }
            }, e
        }();
        t.EventTimeline = S;
        var g = function () {
            function s(e) {
                this.frames = t.Utils.newFloatArray(e), this.drawOrders = new Array(e)
            }
            return s.prototype.getPropertyId = function () {
                return n.drawOrder << 24
            }, s.prototype.getFrameCount = function () {
                return this.frames.length
            }, s.prototype.setFrame = function (t, e, i) {
                this.frames[t] = e, this.drawOrders[t] = i
            }, s.prototype.apply = function (n, s, a, r, l, u, h) {
                var c = n.drawOrder,
                    p = n.slots;
                if (h != i.out || u != e.setup) {
                    var d = this.frames;
                    if (a < d[0]) u == e.setup && t.Utils.arrayCopy(n.slots, 0, n.drawOrder, 0, n.slots.length);
                    else {
                        var m = 0;
                        m = a >= d[d.length - 1] ? d.length - 1 : o.binarySearch(d, a) - 1;
                        var S = this.drawOrders[m];
                        if (null == S) t.Utils.arrayCopy(p, 0, c, 0, p.length);
                        else
                            for (var g = 0, y = S.length; g < y; g++) c[g] = p[S[g]]
                    }
                } else t.Utils.arrayCopy(n.slots, 0, n.drawOrder, 0, n.slots.length)
            }, s
        }();
        t.DrawOrderTimeline = g;
        var y = function (s) {
            function a(e) {
                var i = s.call(this, e) || this;
                return i.frames = t.Utils.newFloatArray(e * a.ENTRIES), i
            }
            return __extends(a, s), a.prototype.getPropertyId = function () {
                return (n.ikConstraint << 24) + this.ikConstraintIndex
            }, a.prototype.setFrame = function (t, e, i, n) {
                t *= a.ENTRIES, this.frames[t] = e, this.frames[t + a.MIX] = i, this.frames[t + a.BEND_DIRECTION] = n
            }, a.prototype.apply = function (t, n, s, r, l, u, h) {
                var c = this.frames,
                    p = t.ikConstraints[this.ikConstraintIndex];
                if (s < c[0]) switch (u) {
                        case e.setup:
                            return p.mix = p.data.mix, void(p.bendDirection = p.data.bendDirection);
                        case e.current:
                            p.mix += (p.data.mix - p.mix) * l, p.bendDirection = p.data.bendDirection
                    } else if (s >= c[c.length - a.ENTRIES]) u == e.setup ? (p.mix = p.data.mix + (c[c.length + a.PREV_MIX] - p.data.mix) * l, p.bendDirection = h == i.out ? p.data.bendDirection : c[c.length + a.PREV_BEND_DIRECTION]) : (p.mix += (c[c.length + a.PREV_MIX] - p.mix) * l, h == i.in && (p.bendDirection = c[c.length + a.PREV_BEND_DIRECTION]));
                    else {
                        var d = o.binarySearch(c, s, a.ENTRIES),
                            m = c[d + a.PREV_MIX],
                            S = c[d],
                            g = this.getCurvePercent(d / a.ENTRIES - 1, 1 - (s - S) / (c[d + a.PREV_TIME] - S));
                        u == e.setup ? (p.mix = p.data.mix + (m + (c[d + a.MIX] - m) * g - p.data.mix) * l, p.bendDirection = h == i.out ? p.data.bendDirection : c[d + a.PREV_BEND_DIRECTION]) : (p.mix += (m + (c[d + a.MIX] - m) * g - p.mix) * l, h == i.in && (p.bendDirection = c[d + a.PREV_BEND_DIRECTION]))
                    }
            }, a.ENTRIES = 3, a.PREV_TIME = -3, a.PREV_MIX = -2, a.PREV_BEND_DIRECTION = -1, a.MIX = 1, a.BEND_DIRECTION = 2, a
        }(s);
        t.IkConstraintTimeline = y;
        var f = function (i) {
            function s(e) {
                var n = i.call(this, e) || this;
                return n.frames = t.Utils.newFloatArray(e * s.ENTRIES), n
            }
            return __extends(s, i), s.prototype.getPropertyId = function () {
                return (n.transformConstraint << 24) + this.transformConstraintIndex
            }, s.prototype.setFrame = function (t, e, i, n, o, a) {
                t *= s.ENTRIES, this.frames[t] = e, this.frames[t + s.ROTATE] = i, this.frames[t + s.TRANSLATE] = n, this.frames[t + s.SCALE] = o, this.frames[t + s.SHEAR] = a
            }, s.prototype.apply = function (t, i, n, a, r, l, u) {
                var h = this.frames,
                    c = t.transformConstraints[this.transformConstraintIndex];
                if (n < h[0]) {
                    var p = c.data;
                    switch (l) {
                        case e.setup:
                            return c.rotateMix = p.rotateMix, c.translateMix = p.translateMix, c.scaleMix = p.scaleMix, void(c.shearMix = p.shearMix);
                        case e.current:
                            c.rotateMix += (p.rotateMix - c.rotateMix) * r, c.translateMix += (p.translateMix - c.translateMix) * r, c.scaleMix += (p.scaleMix - c.scaleMix) * r, c.shearMix += (p.shearMix - c.shearMix) * r
                    }
                } else {
                    var d = 0,
                        m = 0,
                        S = 0,
                        g = 0;
                    if (n >= h[h.length - s.ENTRIES]) {
                        var y = h.length;
                        d = h[y + s.PREV_ROTATE], m = h[y + s.PREV_TRANSLATE], S = h[y + s.PREV_SCALE], g = h[y + s.PREV_SHEAR]
                    } else {
                        var f = o.binarySearch(h, n, s.ENTRIES);
                        d = h[f + s.PREV_ROTATE], m = h[f + s.PREV_TRANSLATE], S = h[f + s.PREV_SCALE], g = h[f + s.PREV_SHEAR];
                        var b = h[f],
                            T = this.getCurvePercent(f / s.ENTRIES - 1, 1 - (n - b) / (h[f + s.PREV_TIME] - b));
                        d += (h[f + s.ROTATE] - d) * T, m += (h[f + s.TRANSLATE] - m) * T, S += (h[f + s.SCALE] - S) * T, g += (h[f + s.SHEAR] - g) * T
                    }
                    if (l == e.setup) {
                        p = c.data;
                        c.rotateMix = p.rotateMix + (d - p.rotateMix) * r, c.translateMix = p.translateMix + (m - p.translateMix) * r, c.scaleMix = p.scaleMix + (S - p.scaleMix) * r, c.shearMix = p.shearMix + (g - p.shearMix) * r
                    } else c.rotateMix += (d - c.rotateMix) * r, c.translateMix += (m - c.translateMix) * r, c.scaleMix += (S - c.scaleMix) * r, c.shearMix += (g - c.shearMix) * r
                }
            }, s.ENTRIES = 5, s.PREV_TIME = -5, s.PREV_ROTATE = -4, s.PREV_TRANSLATE = -3, s.PREV_SCALE = -2, s.PREV_SHEAR = -1, s.ROTATE = 1, s.TRANSLATE = 2, s.SCALE = 3, s.SHEAR = 4, s
        }(s);
        t.TransformConstraintTimeline = f;
        var b = function (i) {
            function s(e) {
                var n = i.call(this, e) || this;
                return n.frames = t.Utils.newFloatArray(e * s.ENTRIES), n
            }
            return __extends(s, i), s.prototype.getPropertyId = function () {
                return (n.pathConstraintPosition << 24) + this.pathConstraintIndex
            }, s.prototype.setFrame = function (t, e, i) {
                t *= s.ENTRIES, this.frames[t] = e, this.frames[t + s.VALUE] = i
            }, s.prototype.apply = function (t, i, n, a, r, l, u) {
                var h = this.frames,
                    c = t.pathConstraints[this.pathConstraintIndex];
                if (n < h[0]) switch (l) {
                    case e.setup:
                        return void(c.position = c.data.position);
                    case e.current:
                        c.position += (c.data.position - c.position) * r
                } else {
                    var p = 0;
                    if (n >= h[h.length - s.ENTRIES]) p = h[h.length + s.PREV_VALUE];
                    else {
                        var d = o.binarySearch(h, n, s.ENTRIES);
                        p = h[d + s.PREV_VALUE];
                        var m = h[d],
                            S = this.getCurvePercent(d / s.ENTRIES - 1, 1 - (n - m) / (h[d + s.PREV_TIME] - m));
                        p += (h[d + s.VALUE] - p) * S
                    }
                    l == e.setup ? c.position = c.data.position + (p - c.data.position) * r : c.position += (p - c.position) * r
                }
            }, s.ENTRIES = 2, s.PREV_TIME = -2, s.PREV_VALUE = -1, s.VALUE = 1, s
        }(s);
        t.PathConstraintPositionTimeline = b;
        var T = function (t) {
            function i(e) {
                return t.call(this, e) || this
            }
            return __extends(i, t), i.prototype.getPropertyId = function () {
                return (n.pathConstraintSpacing << 24) + this.pathConstraintIndex
            }, i.prototype.apply = function (t, n, s, a, r, l, u) {
                var h = this.frames,
                    c = t.pathConstraints[this.pathConstraintIndex];
                if (s < h[0]) switch (l) {
                    case e.setup:
                        return void(c.spacing = c.data.spacing);
                    case e.current:
                        c.spacing += (c.data.spacing - c.spacing) * r
                } else {
                    var p = 0;
                    if (s >= h[h.length - i.ENTRIES]) p = h[h.length + i.PREV_VALUE];
                    else {
                        var d = o.binarySearch(h, s, i.ENTRIES);
                        p = h[d + i.PREV_VALUE];
                        var m = h[d],
                            S = this.getCurvePercent(d / i.ENTRIES - 1, 1 - (s - m) / (h[d + i.PREV_TIME] - m));
                        p += (h[d + i.VALUE] - p) * S
                    }
                    l == e.setup ? c.spacing = c.data.spacing + (p - c.data.spacing) * r : c.spacing += (p - c.spacing) * r
                }
            }, i
        }(b);
        t.PathConstraintSpacingTimeline = T;
        var C = function (i) {
            function s(e) {
                var n = i.call(this, e) || this;
                return n.frames = t.Utils.newFloatArray(e * s.ENTRIES), n
            }
            return __extends(s, i), s.prototype.getPropertyId = function () {
                return (n.pathConstraintMix << 24) + this.pathConstraintIndex
            }, s.prototype.setFrame = function (t, e, i, n) {
                t *= s.ENTRIES, this.frames[t] = e, this.frames[t + s.ROTATE] = i, this.frames[t + s.TRANSLATE] = n
            }, s.prototype.apply = function (t, i, n, a, r, l, u) {
                var h = this.frames,
                    c = t.pathConstraints[this.pathConstraintIndex];
                if (n < h[0]) switch (l) {
                    case e.setup:
                        return c.rotateMix = c.data.rotateMix, void(c.translateMix = c.data.translateMix);
                    case e.current:
                        c.rotateMix += (c.data.rotateMix - c.rotateMix) * r, c.translateMix += (c.data.translateMix - c.translateMix) * r
                } else {
                    var p = 0,
                        d = 0;
                    if (n >= h[h.length - s.ENTRIES]) p = h[h.length + s.PREV_ROTATE], d = h[h.length + s.PREV_TRANSLATE];
                    else {
                        var m = o.binarySearch(h, n, s.ENTRIES);
                        p = h[m + s.PREV_ROTATE], d = h[m + s.PREV_TRANSLATE];
                        var S = h[m],
                            g = this.getCurvePercent(m / s.ENTRIES - 1, 1 - (n - S) / (h[m + s.PREV_TIME] - S));
                        p += (h[m + s.ROTATE] - p) * g, d += (h[m + s.TRANSLATE] - d) * g
                    }
                    l == e.setup ? (c.rotateMix = c.data.rotateMix + (p - c.data.rotateMix) * r, c.translateMix = c.data.translateMix + (d - c.data.translateMix) * r) : (c.rotateMix += (p - c.rotateMix) * r, c.translateMix += (d - c.translateMix) * r)
                }
            }, s.ENTRIES = 3, s.PREV_TIME = -3, s.PREV_ROTATE = -2, s.PREV_TRANSLATE = -1, s.ROTATE = 1, s.TRANSLATE = 2, s
        }(s);
        t.PathConstraintMixTimeline = C
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(e) {
                this.tracks = new Array, this.events = new Array, this.listeners = new Array, this.queue = new o(this), this.propertyIDs = new t.IntSet, this.mixingTo = new Array, this.animationsChanged = !1, this.timeScale = 1, this.trackEntryPool = new t.Pool((function () {
                    return new i
                })), this.data = e
            }
            return e.prototype.update = function (t) {
                t *= this.timeScale;
                for (var e = this.tracks, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (null != o) {
                        o.animationLast = o.nextAnimationLast, o.trackLast = o.nextTrackLast;
                        var s = t * o.timeScale;
                        if (o.delay > 0) {
                            if (o.delay -= s, o.delay > 0) continue;
                            s = -o.delay, o.delay = 0
                        }
                        var a = o.next;
                        if (null != a) {
                            var r = o.trackLast - a.delay;
                            if (r >= 0) {
                                for (a.delay = 0, a.trackTime = r + t * a.timeScale, o.trackTime += s, this.setCurrent(i, a, !0); null != a.mixingFrom;) a.mixTime += s, a = a.mixingFrom;
                                continue
                            }
                        } else if (o.trackLast >= o.trackEnd && null == o.mixingFrom) {
                            e[i] = null, this.queue.end(o), this.disposeNext(o);
                            continue
                        }
                        if (null != o.mixingFrom && this.updateMixingFrom(o, t)) {
                            var l = o.mixingFrom;
                            for (o.mixingFrom = null; null != l;) this.queue.end(l), l = l.mixingFrom
                        }
                        o.trackTime += s
                    }
                }
                this.queue.drain()
            }, e.prototype.updateMixingFrom = function (t, e) {
                var i = t.mixingFrom;
                if (null == i) return !0;
                var n = this.updateMixingFrom(i, e);
                return t.mixTime > 0 && (t.mixTime >= t.mixDuration || 0 == t.timeScale) ? (0 == i.totalAlpha && (t.mixingFrom = i.mixingFrom, t.interruptAlpha = i.interruptAlpha, this.queue.end(i)), n) : (i.animationLast = i.nextAnimationLast, i.trackLast = i.nextTrackLast, i.trackTime += e * i.timeScale, t.mixTime += e * t.timeScale, !1)
            }, e.prototype.apply = function (i) {
                if (null == i) throw new Error("skeleton cannot be null.");
                this.animationsChanged && this._animationsChanged();
                for (var n = this.events, o = this.tracks, s = !1, a = 0, r = o.length; a < r; a++) {
                    var l = o[a];
                    if (!(null == l || l.delay > 0)) {
                        s = !0;
                        var u = 0 == a ? t.MixPose.current : t.MixPose.currentLayered,
                            h = l.alpha;
                        null != l.mixingFrom ? h *= this.applyMixingFrom(l, i, u) : l.trackTime >= l.trackEnd && null == l.next && (h = 0);
                        var c = l.animationLast,
                            p = l.getAnimationTime(),
                            d = l.animation.timelines.length,
                            m = l.animation.timelines;
                        if (1 == h)
                            for (var S = 0; S < d; S++) m[S].apply(i, c, p, n, 1, t.MixPose.setup, t.MixDirection.in);
                        else {
                            var g = l.timelineData,
                                y = 0 == l.timelinesRotation.length;
                            y && t.Utils.setArraySize(l.timelinesRotation, d << 1, null);
                            var f = l.timelinesRotation;
                            for (S = 0; S < d; S++) {
                                var b = m[S],
                                    T = g[S] >= e.FIRST ? t.MixPose.setup : u;
                                b instanceof t.RotateTimeline ? this.applyRotateTimeline(b, i, p, h, T, f, S << 1, y) : (t.Utils.webkit602BugfixHelper(h, T), b.apply(i, c, p, n, h, T, t.MixDirection.in))
                            }
                        }
                        this.queueEvents(l, p), n.length = 0, l.nextAnimationLast = p, l.nextTrackLast = l.trackTime
                    }
                }
                return this.queue.drain(), s
            }, e.prototype.applyMixingFrom = function (i, n, o) {
                var s = i.mixingFrom;
                null != s.mixingFrom && this.applyMixingFrom(s, n, o);
                var a = 0;
                0 == i.mixDuration ? (a = 1, o = t.MixPose.setup) : (a = i.mixTime / i.mixDuration) > 1 && (a = 1);
                var r = a < s.eventThreshold ? this.events : null,
                    l = a < s.attachmentThreshold,
                    u = a < s.drawOrderThreshold,
                    h = s.animationLast,
                    c = s.getAnimationTime(),
                    p = s.animation.timelines.length,
                    d = s.animation.timelines,
                    m = s.timelineData,
                    S = s.timelineDipMix,
                    g = 0 == s.timelinesRotation.length;
                g && t.Utils.setArraySize(s.timelinesRotation, p << 1, null);
                var y, f = s.timelinesRotation,
                    b = s.alpha * i.interruptAlpha,
                    T = b * (1 - a),
                    C = 0;
                s.totalAlpha = 0;
                for (var A = 0; A < p; A++) {
                    var v = d[A];
                    switch (m[A]) {
                        case e.SUBSEQUENT:
                            if (!l && v instanceof t.AttachmentTimeline) continue;
                            if (!u && v instanceof t.DrawOrderTimeline) continue;
                            y = o, C = T;
                            break;
                        case e.FIRST:
                            y = t.MixPose.setup, C = T;
                            break;
                        case e.DIP:
                            y = t.MixPose.setup, C = b;
                            break;
                        default:
                            y = t.MixPose.setup, C = b;
                            var M = S[A];
                            C *= Math.max(0, 1 - M.mixTime / M.mixDuration);
                            break
                    }
                    s.totalAlpha += C, v instanceof t.RotateTimeline ? this.applyRotateTimeline(v, n, c, C, y, f, A << 1, g) : v.apply(n, h, c, r, C, y, t.MixDirection.out)
                }
                return i.mixDuration > 0 && this.queueEvents(s, c), this.events.length = 0, s.nextAnimationLast = c, s.nextTrackLast = s.trackTime, a
            }, e.prototype.applyRotateTimeline = function (e, i, n, o, s, a, r, l) {
                if (l && (a[r] = 0), 1 != o) {
                    var u = e,
                        h = u.frames,
                        c = i.bones[u.boneIndex];
                    if (n < h[0]) s == t.MixPose.setup && (c.rotation = c.data.rotation);
                    else {
                        var p = 0;
                        if (n >= h[h.length - t.RotateTimeline.ENTRIES]) p = c.data.rotation + h[h.length + t.RotateTimeline.PREV_ROTATION];
                        else {
                            var d = t.Animation.binarySearch(h, n, t.RotateTimeline.ENTRIES),
                                m = h[d + t.RotateTimeline.PREV_ROTATION],
                                S = h[d],
                                g = u.getCurvePercent((d >> 1) - 1, 1 - (n - S) / (h[d + t.RotateTimeline.PREV_TIME] - S));
                            p = h[d + t.RotateTimeline.ROTATION] - m, p = m + (p -= 360 * (16384 - (16384.499999999996 - p / 360 | 0))) * g + c.data.rotation, p -= 360 * (16384 - (16384.499999999996 - p / 360 | 0))
                        }
                        var y = s == t.MixPose.setup ? c.data.rotation : c.rotation,
                            f = 0,
                            b = p - y;
                        if (0 == b) f = a[r];
                        else {
                            b -= 360 * (16384 - (16384.499999999996 - b / 360 | 0));
                            var T = 0,
                                C = 0;
                            l ? (T = 0, C = b) : (T = a[r], C = a[r + 1]);
                            var A = b > 0,
                                v = T >= 0;
                            t.MathUtils.signum(C) != t.MathUtils.signum(b) && Math.abs(C) <= 90 && (Math.abs(T) > 180 && (T += 360 * t.MathUtils.signum(T)), v = A), f = b + T - T % 360, v != A && (f += 360 * t.MathUtils.signum(T)), a[r] = f
                        }
                        a[r + 1] = b, y += f * o, c.rotation = y - 360 * (16384 - (16384.499999999996 - y / 360 | 0))
                    }
                } else e.apply(i, 0, n, null, 1, s, t.MixDirection.in)
            }, e.prototype.queueEvents = function (t, e) {
                for (var i = t.animationStart, n = t.animationEnd, o = n - i, s = t.trackLast % o, a = this.events, r = 0, l = a.length; r < l; r++) {
                    var u = a[r];
                    if (u.time < s) break;
                    u.time > n || this.queue.event(t, u)
                }
                for ((t.loop ? s > t.trackTime % o : e >= n && t.animationLast < n) && this.queue.complete(t); r < l; r++) {
                    a[r].time < i || this.queue.event(t, a[r])
                }
            }, e.prototype.clearTracks = function () {
                var t = this.queue.drainDisabled;
                this.queue.drainDisabled = !0;
                for (var e = 0, i = this.tracks.length; e < i; e++) this.clearTrack(e);
                this.tracks.length = 0, this.queue.drainDisabled = t, this.queue.drain()
            }, e.prototype.clearTrack = function (t) {
                if (!(t >= this.tracks.length)) {
                    var e = this.tracks[t];
                    if (null != e) {
                        this.queue.end(e), this.disposeNext(e);
                        for (var i = e;;) {
                            var n = i.mixingFrom;
                            if (null == n) break;
                            this.queue.end(n), i.mixingFrom = null, i = n
                        }
                        this.tracks[e.trackIndex] = null, this.queue.drain()
                    }
                }
            }, e.prototype.setCurrent = function (t, e, i) {
                var n = this.expandToIndex(t);
                this.tracks[t] = e, null != n && (i && this.queue.interrupt(n), e.mixingFrom = n, e.mixTime = 0, null != n.mixingFrom && n.mixDuration > 0 && (e.interruptAlpha *= Math.min(1, n.mixTime / n.mixDuration)), n.timelinesRotation.length = 0), this.queue.start(e)
            }, e.prototype.setAnimation = function (t, e, i) {
                var n = this.data.skeletonData.findAnimation(e);
                if (null == n) throw new Error("Animation not found: " + e);
                return this.setAnimationWith(t, n, i)
            }, e.prototype.setAnimationWith = function (t, e, i) {
                if (null == e) throw new Error("animation cannot be null.");
                var n = !0,
                    o = this.expandToIndex(t);
                null != o && (-1 == o.nextTrackLast ? (this.tracks[t] = o.mixingFrom, this.queue.interrupt(o), this.queue.end(o), this.disposeNext(o), o = o.mixingFrom, n = !1) : this.disposeNext(o));
                var s = this.trackEntry(t, e, i, o);
                return this.setCurrent(t, s, n), this.queue.drain(), s
            }, e.prototype.addAnimation = function (t, e, i, n) {
                var o = this.data.skeletonData.findAnimation(e);
                if (null == o) throw new Error("Animation not found: " + e);
                return this.addAnimationWith(t, o, i, n)
            }, e.prototype.addAnimationWith = function (t, e, i, n) {
                if (null == e) throw new Error("animation cannot be null.");
                var o = this.expandToIndex(t);
                if (null != o)
                    for (; null != o.next;) o = o.next;
                var s = this.trackEntry(t, e, i, o);
                if (null == o) this.setCurrent(t, s, !0), this.queue.drain();
                else if (o.next = s, n <= 0) {
                    var a = o.animationEnd - o.animationStart;
                    0 != a ? (o.loop ? n += a * (1 + (o.trackTime / a | 0)) : n += a, n -= this.data.getMix(o.animation, e)) : n = 0
                }
                return s.delay = n, s
            }, e.prototype.setEmptyAnimation = function (t, i) {
                var n = this.setAnimationWith(t, e.emptyAnimation, !1);
                return n.mixDuration = i, n.trackEnd = i, n
            }, e.prototype.addEmptyAnimation = function (t, i, n) {
                n <= 0 && (n -= i);
                var o = this.addAnimationWith(t, e.emptyAnimation, !1, n);
                return o.mixDuration = i, o.trackEnd = i, o
            }, e.prototype.setEmptyAnimations = function (t) {
                var e = this.queue.drainDisabled;
                this.queue.drainDisabled = !0;
                for (var i = 0, n = this.tracks.length; i < n; i++) {
                    var o = this.tracks[i];
                    null != o && this.setEmptyAnimation(o.trackIndex, t)
                }
                this.queue.drainDisabled = e, this.queue.drain()
            }, e.prototype.expandToIndex = function (e) {
                return e < this.tracks.length ? this.tracks[e] : (t.Utils.ensureArrayCapacity(this.tracks, e - this.tracks.length + 1, null), this.tracks.length = e + 1, null)
            }, e.prototype.trackEntry = function (t, e, i, n) {
                var o = this.trackEntryPool.obtain();
                return o.trackIndex = t, o.animation = e, o.loop = i, o.eventThreshold = 0, o.attachmentThreshold = 0, o.drawOrderThreshold = 0, o.animationStart = 0, o.animationEnd = e.duration, o.animationLast = -1, o.nextAnimationLast = -1, o.delay = 0, o.trackTime = 0, o.trackLast = -1, o.nextTrackLast = -1, o.trackEnd = Number.MAX_VALUE, o.timeScale = 1, o.alpha = 1, o.interruptAlpha = 1, o.mixTime = 0, o.mixDuration = null == n ? 0 : this.data.getMix(n.animation, e), o
            }, e.prototype.disposeNext = function (t) {
                for (var e = t.next; null != e;) this.queue.dispose(e), e = e.next;
                t.next = null
            }, e.prototype._animationsChanged = function () {
                this.animationsChanged = !1;
                var t = this.propertyIDs;
                t.clear();
                for (var e = this.mixingTo, i = 0, n = this.tracks.length; i < n; i++) {
                    var o = this.tracks[i];
                    null != o && o.setTimelineData(null, e, t)
                }
            }, e.prototype.getCurrent = function (t) {
                return t >= this.tracks.length ? null : this.tracks[t]
            }, e.prototype.addListener = function (t) {
                if (null == t) throw new Error("listener cannot be null.");
                this.listeners.push(t)
            }, e.prototype.removeListener = function (t) {
                var e = this.listeners.indexOf(t);
                e >= 0 && this.listeners.splice(e, 1)
            }, e.prototype.clearListeners = function () {
                this.listeners.length = 0
            }, e.prototype.clearListenerNotifications = function () {
                this.queue.clear()
            }, e.prototype.setAnimationByName = function (t, i, n) {
                e.deprecatedWarning1 || (e.deprecatedWarning1 = !0), this.setAnimation(t, i, n)
            }, e.prototype.addAnimationByName = function (t, i, n, o) {
                e.deprecatedWarning2 || (e.deprecatedWarning2 = !0), this.addAnimation(t, i, n, o)
            }, e.prototype.hasAnimation = function (t) {
                return null !== this.data.skeletonData.findAnimation(t)
            }, e.prototype.hasAnimationByName = function (t) {
                return e.deprecatedWarning3 || (e.deprecatedWarning3 = !0), this.hasAnimation(t)
            }, e.emptyAnimation = new t.Animation("<empty>", [], 0), e.SUBSEQUENT = 0, e.FIRST = 1, e.DIP = 2, e.DIP_MIX = 3, e.deprecatedWarning1 = !1, e.deprecatedWarning2 = !1, e.deprecatedWarning3 = !1, e
        }();
        t.AnimationState = e;
        var i = function () {
            function i() {
                this.timelineData = new Array, this.timelineDipMix = new Array, this.timelinesRotation = new Array
            }
            return i.prototype.reset = function () {
                this.next = null, this.mixingFrom = null, this.animation = null, this.listener = null, this.timelineData.length = 0, this.timelineDipMix.length = 0, this.timelinesRotation.length = 0
            }, i.prototype.setTimelineData = function (i, n, o) {
                null != i && n.push(i);
                var s = null != this.mixingFrom ? this.mixingFrom.setTimelineData(this, n, o) : this;
                null != i && n.pop();
                var a = n,
                    r = n.length - 1,
                    l = this.animation.timelines,
                    u = this.animation.timelines.length,
                    h = t.Utils.setArraySize(this.timelineData, u);
                this.timelineDipMix.length = 0;
                var c = t.Utils.setArraySize(this.timelineDipMix, u);
                t: for (var p = 0; p < u; p++) {
                    var d = l[p].getPropertyId();
                    if (o.add(d))
                        if (null != i && i.hasTimeline(d)) {
                            for (var m = r; m >= 0; m--) {
                                var S = a[m];
                                if (!S.hasTimeline(d) && S.mixDuration > 0) {
                                    h[p] = e.DIP_MIX, c[p] = S;
                                    continue t
                                }
                            }
                            h[p] = e.DIP
                        } else h[p] = e.FIRST;
                    else h[p] = e.SUBSEQUENT
                }
                return s
            }, i.prototype.hasTimeline = function (t) {
                for (var e = this.animation.timelines, i = 0, n = e.length; i < n; i++)
                    if (e[i].getPropertyId() == t) return !0;
                return !1
            }, i.prototype.getAnimationTime = function () {
                if (this.loop) {
                    var t = this.animationEnd - this.animationStart;
                    return 0 == t ? this.animationStart : this.trackTime % t + this.animationStart
                }
                return Math.min(this.trackTime + this.animationStart, this.animationEnd)
            }, i.prototype.setAnimationLast = function (t) {
                this.animationLast = t, this.nextAnimationLast = t
            }, i.prototype.isComplete = function () {
                return this.trackTime >= this.animationEnd - this.animationStart
            }, i.prototype.resetRotationDirections = function () {
                this.timelinesRotation.length = 0
            }, Object.defineProperty(i.prototype, "time", {
                get: function () {
                    return i.deprecatedWarning1 || (i.deprecatedWarning1 = !0), this.trackTime
                },
                set: function (t) {
                    i.deprecatedWarning1 || (i.deprecatedWarning1 = !0), this.trackTime = t
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(i.prototype, "endTime", {
                get: function () {
                    return i.deprecatedWarning2 || (i.deprecatedWarning2 = !0), this.trackTime
                },
                set: function (t) {
                    i.deprecatedWarning2 || (i.deprecatedWarning2 = !0), this.trackTime = t
                },
                enumerable: !0,
                configurable: !0
            }), i.prototype.loopsCount = function () {
                return Math.floor(this.trackTime / this.trackEnd)
            }, i.deprecatedWarning1 = !1, i.deprecatedWarning2 = !1, i
        }();
        t.TrackEntry = i;
        var n, o = function () {
            function e(t) {
                this.objects = [], this.drainDisabled = !1, this.animState = t
            }
            return e.prototype.start = function (t) {
                this.objects.push(n.start), this.objects.push(t), this.animState.animationsChanged = !0
            }, e.prototype.interrupt = function (t) {
                this.objects.push(n.interrupt), this.objects.push(t)
            }, e.prototype.end = function (t) {
                this.objects.push(n.end), this.objects.push(t), this.animState.animationsChanged = !0
            }, e.prototype.dispose = function (t) {
                this.objects.push(n.dispose), this.objects.push(t)
            }, e.prototype.complete = function (t) {
                this.objects.push(n.complete), this.objects.push(t)
            }, e.prototype.event = function (t, e) {
                this.objects.push(n.event), this.objects.push(t), this.objects.push(e)
            }, e.prototype.deprecateStuff = function () {
                return e.deprecatedWarning1 || (e.deprecatedWarning1 = !0), !0
            }, e.prototype.drain = function () {
                if (!this.drainDisabled) {
                    this.drainDisabled = !0;
                    for (var e = this.objects, i = this.animState.listeners, o = 0; o < e.length; o += 2) {
                        var s = e[o],
                            a = e[o + 1];
                        switch (s) {
                            case n.start:
                                null != a.listener && a.listener.start && a.listener.start(a);
                                for (var r = 0; r < i.length; r++) i[r].start && i[r].start(a);
                                a.onStart && this.deprecateStuff() && a.onStart(a.trackIndex), this.animState.onStart && this.deprecateStuff() && this.deprecateStuff && this.animState.onStart(a.trackIndex);
                                break;
                            case n.interrupt:
                                null != a.listener && a.listener.interrupt && a.listener.interrupt(a);
                                for (r = 0; r < i.length; r++) i[r].interrupt && i[r].interrupt(a);
                                break;
                            case n.end:
                                null != a.listener && a.listener.end && a.listener.end(a);
                                for (r = 0; r < i.length; r++) i[r].end && i[r].end(a);
                                a.onEnd && this.deprecateStuff() && a.onEnd(a.trackIndex), this.animState.onEnd && this.deprecateStuff() && this.animState.onEnd(a.trackIndex);
                            case n.dispose:
                                null != a.listener && a.listener.dispose && a.listener.dispose(a);
                                for (r = 0; r < i.length; r++) i[r].dispose && i[r].dispose(a);
                                this.animState.trackEntryPool.free(a);
                                break;
                            case n.complete:
                                null != a.listener && a.listener.complete && a.listener.complete(a);
                                for (r = 0; r < i.length; r++) i[r].complete && i[r].complete(a);
                                var l = t.MathUtils.toInt(a.loopsCount());
                                a.onComplete && this.deprecateStuff() && a.onComplete(a.trackIndex, l), this.animState.onComplete && this.deprecateStuff() && this.animState.onComplete(a.trackIndex, l);
                                break;
                            case n.event:
                                var u = e[2 + o++];
                                null != a.listener && a.listener.event && a.listener.event(a, u);
                                for (r = 0; r < i.length; r++) i[r].event && i[r].event(a, u);
                                a.onEvent && this.deprecateStuff() && a.onEvent(a.trackIndex, u), this.animState.onEvent && this.deprecateStuff() && this.animState.onEvent(a.trackIndex, u);
                                break
                        }
                    }
                    this.clear(), this.drainDisabled = !1
                }
            }, e.prototype.clear = function () {
                this.objects.length = 0
            }, e.deprecatedWarning1 = !1, e
        }();
        t.EventQueue = o,
            function (t) {
                t[t.start = 0] = "start", t[t.interrupt = 1] = "interrupt", t[t.end = 2] = "end", t[t.dispose = 3] = "dispose", t[t.complete = 4] = "complete", t[t.event = 5] = "event"
            }(n = t.EventType || (t.EventType = {}));
        var s = function () {
            function t() {}
            return t.prototype.start = function (t) {}, t.prototype.interrupt = function (t) {}, t.prototype.end = function (t) {}, t.prototype.dispose = function (t) {}, t.prototype.complete = function (t) {}, t.prototype.event = function (t, e) {}, t
        }();
        t.AnimationStateAdapter2 = s
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function t(t) {
                if (this.animationToMixTime = {}, this.defaultMix = 0, null == t) throw new Error("skeletonData cannot be null.");
                this.skeletonData = t
            }
            return t.prototype.setMix = function (t, e, i) {
                var n = this.skeletonData.findAnimation(t);
                if (null == n) throw new Error("Animation not found: " + t);
                var o = this.skeletonData.findAnimation(e);
                if (null == o) throw new Error("Animation not found: " + e);
                this.setMixWith(n, o, i)
            }, t.prototype.setMixByName = function (e, i, n) {
                t.deprecatedWarning1 || (t.deprecatedWarning1 = !0), this.setMix(e, i, n)
            }, t.prototype.setMixWith = function (t, e, i) {
                if (null == t) throw new Error("from cannot be null.");
                if (null == e) throw new Error("to cannot be null.");
                var n = t.name + "." + e.name;
                this.animationToMixTime[n] = i
            }, t.prototype.getMix = function (t, e) {
                var i = t.name + "." + e.name,
                    n = this.animationToMixTime[i];
                return void 0 === n ? this.defaultMix : n
            }, t.deprecatedWarning1 = !1, t
        }();
        t.AnimationStateData = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(t) {
                this.atlas = t
            }
            return e.prototype.newRegionAttachment = function (e, i, n) {
                var o = this.atlas.findRegion(n);
                if (null == o) throw new Error("Region not found in atlas: " + n + " (region attachment: " + i + ")");
                var s = new t.RegionAttachment(i);
                return s.region = o, s
            }, e.prototype.newMeshAttachment = function (e, i, n) {
                var o = this.atlas.findRegion(n);
                if (null == o) throw new Error("Region not found in atlas: " + n + " (mesh attachment: " + i + ")");
                var s = new t.MeshAttachment(i);
                return s.region = o, s
            }, e.prototype.newBoundingBoxAttachment = function (e, i) {
                return new t.BoundingBoxAttachment(i)
            }, e.prototype.newPathAttachment = function (e, i) {
                return new t.PathAttachment(i)
            }, e.prototype.newPointAttachment = function (e, i) {
                return new t.PointAttachment(i)
            }, e.prototype.newClippingAttachment = function (e, i) {
                return new t.ClippingAttachment(i)
            }, e
        }();
        t.AtlasAttachmentLoader = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        ! function (t) {
            t[t.Normal = 0] = "Normal", t[t.Additive = 1] = "Additive", t[t.Multiply = 2] = "Multiply", t[t.Screen = 3] = "Screen"
        }(t.BlendMode || (t.BlendMode = {}))
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(t, e, i) {
                if (this.matrix = new PIXI.Matrix, this.children = new Array, this.x = 0, this.y = 0, this.rotation = 0, this.scaleX = 0, this.scaleY = 0, this.shearX = 0, this.shearY = 0, this.ax = 0, this.ay = 0, this.arotation = 0, this.ascaleX = 0, this.ascaleY = 0, this.ashearX = 0, this.ashearY = 0, this.appliedValid = !1, this.sorted = !1, null == t) throw new Error("data cannot be null.");
                if (null == e) throw new Error("skeleton cannot be null.");
                this.data = t, this.skeleton = e, this.parent = i, this.setToSetupPose()
            }
            return Object.defineProperty(e.prototype, "worldX", {
                get: function () {
                    return this.matrix.tx
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "worldY", {
                get: function () {
                    return this.matrix.ty
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype.update = function () {
                this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY)
            }, e.prototype.updateWorldTransform = function () {
                this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY)
            }, e.prototype.updateWorldTransformWith = function (i, n, o, s, a, r, l) {
                this.ax = i, this.ay = n, this.arotation = o, this.ascaleX = s, this.ascaleY = a, this.ashearX = r, this.ashearY = l, this.appliedValid = !0;
                var u = this.parent,
                    h = this.matrix;
                if (null == u) {
                    var c = o + 90 + l,
                        p = t.MathUtils.cosDeg(o + r) * s,
                        d = t.MathUtils.cosDeg(c) * a,
                        m = t.MathUtils.sinDeg(o + r) * s,
                        S = t.MathUtils.sinDeg(c) * a,
                        g = this.skeleton;
                    return g.flipX && (i = -i, p = -p, d = -d), g.flipY !== e.yDown && (n = -n, m = -m, S = -S), h.a = p, h.c = d, h.b = m, h.d = S, h.tx = i + g.x, void(h.ty = n + g.y)
                }
                var y = u.matrix.a,
                    f = u.matrix.c,
                    b = u.matrix.b,
                    T = u.matrix.d;
                switch (h.tx = y * i + f * n + u.matrix.tx, h.ty = b * i + T * n + u.matrix.ty, this.data.transformMode) {
                    case t.TransformMode.Normal:
                        c = o + 90 + l, p = t.MathUtils.cosDeg(o + r) * s, d = t.MathUtils.cosDeg(c) * a, m = t.MathUtils.sinDeg(o + r) * s, S = t.MathUtils.sinDeg(c) * a;
                        return h.a = y * p + f * m, h.c = y * d + f * S, h.b = b * p + T * m, void(h.d = b * d + T * S);
                    case t.TransformMode.OnlyTranslation:
                        c = o + 90 + l;
                        h.a = t.MathUtils.cosDeg(o + r) * s, h.c = t.MathUtils.cosDeg(c) * a, h.b = t.MathUtils.sinDeg(o + r) * s, h.d = t.MathUtils.sinDeg(c) * a;
                        break;
                    case t.TransformMode.NoRotationOrReflection:
                        var C = 0;
                        (M = y * y + b * b) > 1e-4 ? (f = b * (M = Math.abs(y * T - f * b) / M), T = y * M, C = Math.atan2(b, y) * t.MathUtils.radDeg) : (y = 0, b = 0, C = 90 - Math.atan2(T, f) * t.MathUtils.radDeg);
                        var A = o + r - C,
                            v = o + l - C + 90;
                        p = t.MathUtils.cosDeg(A) * s, d = t.MathUtils.cosDeg(v) * a, m = t.MathUtils.sinDeg(A) * s, S = t.MathUtils.sinDeg(v) * a;
                        h.a = y * p - f * m, h.c = y * d - f * S, h.b = b * p + T * m, h.d = b * d + T * S;
                        break;
                    case t.TransformMode.NoScale:
                    case t.TransformMode.NoScaleOrReflection:
                        var M, L = t.MathUtils.cosDeg(o),
                            I = t.MathUtils.sinDeg(o),
                            P = y * L + f * I,
                            R = b * L + T * I;
                        (M = Math.sqrt(P * P + R * R)) > 1e-5 && (M = 1 / M), P *= M, R *= M, M = Math.sqrt(P * P + R * R);
                        var _ = Math.PI / 2 + Math.atan2(R, P),
                            E = Math.cos(_) * M,
                            D = Math.sin(_) * M;
                        p = t.MathUtils.cosDeg(r) * s, d = t.MathUtils.cosDeg(90 + l) * a, m = t.MathUtils.sinDeg(r) * s, S = t.MathUtils.sinDeg(90 + l) * a;
                        return h.a = P * p + E * m, h.c = P * d + E * S, h.b = R * p + D * m, h.d = R * d + D * S, void((this.data.transformMode != t.TransformMode.NoScaleOrReflection ? y * T - f * b < 0 : this.skeleton.flipX != this.skeleton.flipY != e.yDown) && (h.c = -h.c, h.d = -h.d))
                }
                this.skeleton.flipX && (h.a = -h.a, h.c = -h.c), this.skeleton.flipY != e.yDown && (h.b = -h.b, h.d = -h.d)
            }, e.prototype.setToSetupPose = function () {
                var t = this.data;
                this.x = t.x, this.y = t.y, this.rotation = t.rotation, this.scaleX = t.scaleX, this.scaleY = t.scaleY, this.shearX = t.shearX, this.shearY = t.shearY
            }, e.prototype.getWorldRotationX = function () {
                return Math.atan2(this.matrix.b, this.matrix.a) * t.MathUtils.radDeg
            }, e.prototype.getWorldRotationY = function () {
                return Math.atan2(this.matrix.d, this.matrix.c) * t.MathUtils.radDeg
            }, e.prototype.getWorldScaleX = function () {
                var t = this.matrix;
                return Math.sqrt(t.a * t.a + t.c * t.c)
            }, e.prototype.getWorldScaleY = function () {
                var t = this.matrix;
                return Math.sqrt(t.b * t.b + t.d * t.d)
            }, e.prototype.updateAppliedTransform = function () {
                this.appliedValid = !0;
                var e = this.parent,
                    i = this.matrix;
                if (null == e) return this.ax = i.tx, this.ay = i.ty, this.arotation = Math.atan2(i.b, i.a) * t.MathUtils.radDeg, this.ascaleX = Math.sqrt(i.a * i.a + i.b * i.b), this.ascaleY = Math.sqrt(i.c * i.c + i.d * i.d), this.ashearX = 0, void(this.ashearY = Math.atan2(i.a * i.c + i.b * i.d, i.a * i.d - i.b * i.c) * t.MathUtils.radDeg);
                var n = e.matrix,
                    o = 1 / (n.a * n.d - n.b * n.c),
                    s = i.tx - n.tx,
                    a = i.ty - n.ty;
                this.ax = s * n.d * o - a * n.c * o, this.ay = a * n.a * o - s * n.b * o;
                var r = o * n.d,
                    l = o * n.a,
                    u = o * n.c,
                    h = o * n.b,
                    c = r * i.a - u * i.b,
                    p = r * i.c - u * i.d,
                    d = l * i.b - h * i.a,
                    m = l * i.d - h * i.c;
                if (this.ashearX = 0, this.ascaleX = Math.sqrt(c * c + d * d), this.ascaleX > 1e-4) {
                    var S = c * m - p * d;
                    this.ascaleY = S / this.ascaleX, this.ashearY = Math.atan2(c * p + d * m, S) * t.MathUtils.radDeg, this.arotation = Math.atan2(d, c) * t.MathUtils.radDeg
                } else this.ascaleX = 0, this.ascaleY = Math.sqrt(p * p + m * m), this.ashearY = 0, this.arotation = 90 - Math.atan2(m, p) * t.MathUtils.radDeg
            }, e.prototype.worldToLocal = function (t) {
                var e = this.matrix,
                    i = e.a,
                    n = e.c,
                    o = e.b,
                    s = e.d,
                    a = 1 / (i * s - n * o),
                    r = t.x - e.tx,
                    l = t.y - e.ty;
                return t.x = r * s * a - l * n * a, t.y = l * i * a - r * o * a, t
            }, e.prototype.localToWorld = function (t) {
                var e = this.matrix,
                    i = t.x,
                    n = t.y;
                return t.x = i * e.a + n * e.c + e.tx, t.y = i * e.b + n * e.d + e.ty, t
            }, e.prototype.worldToLocalRotation = function (e) {
                var i = t.MathUtils.sinDeg(e),
                    n = t.MathUtils.cosDeg(e),
                    o = this.matrix;
                return Math.atan2(o.a * i - o.b * n, o.d * n - o.c * i) * t.MathUtils.radDeg
            }, e.prototype.localToWorldRotation = function (e) {
                var i = t.MathUtils.sinDeg(e),
                    n = t.MathUtils.cosDeg(e),
                    o = this.matrix;
                return Math.atan2(n * o.b + i * o.d, n * o.a + i * o.c) * t.MathUtils.radDeg
            }, e.prototype.rotateWorld = function (e) {
                var i = this.matrix,
                    n = i.a,
                    o = i.c,
                    s = i.b,
                    a = i.d,
                    r = t.MathUtils.cosDeg(e),
                    l = t.MathUtils.sinDeg(e);
                i.a = r * n - l * s, i.c = r * o - l * a, i.b = l * n + r * s, i.d = l * o + r * a, this.appliedValid = !1
            }, e.yDown = !1, e
        }();
        t.Bone = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e, i = function (t, i, n) {
            if (this.x = 0, this.y = 0, this.rotation = 0, this.scaleX = 1, this.scaleY = 1, this.shearX = 0, this.shearY = 0, this.transformMode = e.Normal, t < 0) throw new Error("index must be >= 0.");
            if (null == i) throw new Error("name cannot be null.");
            this.index = t, this.name = i, this.parent = n
        };
        t.BoneData = i,
            function (t) {
                t[t.Normal = 0] = "Normal", t[t.OnlyTranslation = 1] = "OnlyTranslation", t[t.NoRotationOrReflection = 2] = "NoRotationOrReflection", t[t.NoScale = 3] = "NoScale", t[t.NoScaleOrReflection = 4] = "NoScaleOrReflection"
            }(e = t.TransformMode || (t.TransformMode = {}))
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (t, e) {
            if (null == e) throw new Error("data cannot be null.");
            this.time = t, this.data = e
        };
        t.Event = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (t) {
            this.name = t
        };
        t.EventData = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(t, e) {
                if (this.mix = 1, this.bendDirection = 0, null == t) throw new Error("data cannot be null.");
                if (null == e) throw new Error("skeleton cannot be null.");
                this.data = t, this.mix = t.mix, this.bendDirection = t.bendDirection, this.bones = new Array;
                for (var i = 0; i < t.bones.length; i++) this.bones.push(e.findBone(t.bones[i].name));
                this.target = e.findBone(t.target.name)
            }
            return e.prototype.getOrder = function () {
                return this.data.order
            }, e.prototype.apply = function () {
                this.update()
            }, e.prototype.update = function () {
                var t = this.target,
                    e = this.bones;
                switch (e.length) {
                    case 1:
                        this.apply1(e[0], t.worldX, t.worldY, this.mix);
                        break;
                    case 2:
                        this.apply2(e[0], e[1], t.worldX, t.worldY, this.bendDirection, this.mix);
                        break
                }
            }, e.prototype.apply1 = function (e, i, n, o) {
                e.appliedValid || e.updateAppliedTransform();
                var s = e.parent.matrix,
                    a = 1 / (s.a * s.d - s.b * s.c),
                    r = i - s.tx,
                    l = n - s.ty,
                    u = (r * s.d - l * s.c) * a - e.ax,
                    h = (l * s.a - r * s.b) * a - e.ay,
                    c = Math.atan2(h, u) * t.MathUtils.radDeg - e.ashearX - e.arotation;
                e.ascaleX < 0 && (c += 180), c > 180 ? c -= 360 : c < -180 && (c += 360), e.updateWorldTransformWith(e.ax, e.ay, e.arotation + c * o, e.ascaleX, e.ascaleY, e.ashearX, e.ashearY)
            }, e.prototype.apply2 = function (e, i, n, o, s, a) {
                if (0 != a) {
                    e.appliedValid || e.updateAppliedTransform(), i.appliedValid || i.updateAppliedTransform();
                    var r = e.ax,
                        l = e.ay,
                        u = e.ascaleX,
                        h = e.ascaleY,
                        c = i.ascaleX,
                        p = e.matrix,
                        d = 0,
                        m = 0,
                        S = 0;
                    u < 0 ? (u = -u, d = 180, S = -1) : (d = 0, S = 1), h < 0 && (h = -h, S = -S), c < 0 ? (c = -c, m = 180) : m = 0;
                    var g = i.ax,
                        y = 0,
                        f = 0,
                        b = 0,
                        T = p.a,
                        C = p.c,
                        A = p.b,
                        v = p.d,
                        M = Math.abs(u - h) <= 1e-4;
                    M ? (f = T * g + C * (y = i.ay) + p.tx, b = A * g + v * y + p.ty) : (y = 0, f = T * g + p.tx, b = A * g + p.ty);
                    var L = e.parent.matrix;
                    T = L.a, C = L.c, A = L.b;
                    var I = 1 / (T * (v = L.d) - C * A),
                        P = n - L.tx,
                        R = o - L.ty,
                        _ = (P * v - R * C) * I - r,
                        E = (R * T - P * A) * I - l,
                        D = ((P = f - L.tx) * v - (R = b - L.ty) * C) * I - r,
                        O = (R * T - P * A) * I - l,
                        w = Math.sqrt(D * D + O * O),
                        x = i.data.length * c,
                        B = 0,
                        k = 0;
                    t: if (M) {
                        var V = (_ * _ + E * E - w * w - (x *= u) * x) / (2 * w * x);
                        V < -1 ? V = -1 : V > 1 && (V = 1), k = Math.acos(V) * s, T = w + x * V, C = x * Math.sin(k), B = Math.atan2(E * T - _ * C, _ * T + E * C)
                    } else {
                        var G = (T = u * x) * T,
                            F = (C = h * x) * C,
                            j = _ * _ + E * E,
                            U = Math.atan2(E, _),
                            N = -2 * F * w,
                            X = F - G;
                        if ((v = N * N - 4 * X * (A = F * w * w + G * j - G * F)) >= 0) {
                            var W = Math.sqrt(v);
                            N < 0 && (W = -W);
                            var H = (W = -(N + W) / 2) / X,
                                z = A / W,
                                J = Math.abs(H) < Math.abs(z) ? H : z;
                            if (J * J <= j) {
                                R = Math.sqrt(j - J * J) * s, B = U - Math.atan2(R, J), k = Math.atan2(R / h, (J - w) / u);
                                break t
                            }
                        }
                        var q = t.MathUtils.PI,
                            Y = w - T,
                            Q = Y * Y,
                            Z = 0,
                            K = 0,
                            $ = w + T,
                            tt = $ * $,
                            et = 0;
                        (A = -T * w / (G - F)) >= -1 && A <= 1 && (A = Math.acos(A), (v = (P = T * Math.cos(A) + w) * P + (R = C * Math.sin(A)) * R) < Q && (q = A, Q = v, Y = P, Z = R), v > tt && (K = A, tt = v, $ = P, et = R)), j <= (Q + tt) / 2 ? (B = U - Math.atan2(Z * s, Y), k = q * s) : (B = U - Math.atan2(et * s, $), k = K * s)
                    }
                    var it = Math.atan2(y, g) * S,
                        nt = e.arotation;
                    (B = (B - it) * t.MathUtils.radDeg + d - nt) > 180 ? B -= 360 : B < -180 && (B += 360), e.updateWorldTransformWith(r, l, nt + B * a, e.ascaleX, e.ascaleY, 0, 0), nt = i.arotation, (k = ((k + it) * t.MathUtils.radDeg - i.ashearX) * S + m - nt) > 180 ? k -= 360 : k < -180 && (k += 360), i.updateWorldTransformWith(g, y, nt + k * a, i.ascaleX, i.ascaleY, i.ashearX, i.ashearY)
                } else i.updateWorldTransform()
            }, e
        }();
        t.IkConstraint = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (t) {
            this.order = 0, this.bones = new Array, this.bendDirection = 1, this.mix = 1, this.name = t
        };
        t.IkConstraintData = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(t, e) {
                if (this.position = 0, this.spacing = 0, this.rotateMix = 0, this.translateMix = 0, this.spaces = new Array, this.positions = new Array, this.world = new Array, this.curves = new Array, this.lengths = new Array, this.segments = new Array, null == t) throw new Error("data cannot be null.");
                if (null == e) throw new Error("skeleton cannot be null.");
                this.data = t, this.bones = new Array;
                for (var i = 0, n = t.bones.length; i < n; i++) this.bones.push(e.findBone(t.bones[i].name));
                this.target = e.findSlot(t.target.name), this.position = t.position, this.spacing = t.spacing, this.rotateMix = t.rotateMix, this.translateMix = t.translateMix
            }
            return e.prototype.apply = function () {
                this.update()
            }, e.prototype.update = function () {
                var i = this.target.getAttachment();
                if (i instanceof t.PathAttachment) {
                    var n = this.rotateMix,
                        o = this.translateMix,
                        s = n > 0;
                    if (o > 0 || s) {
                        var a = this.data,
                            r = a.spacingMode,
                            l = r == t.SpacingMode.Length,
                            u = a.rotateMode,
                            h = u == t.RotateMode.Tangent,
                            c = u == t.RotateMode.ChainScale,
                            p = this.bones.length,
                            d = h ? p : p + 1,
                            m = this.bones,
                            S = t.Utils.setArraySize(this.spaces, d),
                            g = null,
                            y = this.spacing;
                        if (c || l) {
                            c && (g = t.Utils.setArraySize(this.lengths, p));
                            for (var f = 0, b = d - 1; f < b;) {
                                var T = (E = m[f]).data.length;
                                if (T < e.epsilon) c && (g[f] = 0), S[++f] = 0;
                                else {
                                    var C = T * E.matrix.a,
                                        A = T * E.matrix.b,
                                        v = Math.sqrt(C * C + A * A);
                                    c && (g[f] = v), S[++f] = (l ? T + y : y) * v / T
                                }
                            }
                        } else
                            for (f = 1; f < d; f++) S[f] = y;
                        var M = this.computeWorldPositions(i, d, h, a.positionMode == t.PositionMode.Percent, r == t.SpacingMode.Percent),
                            L = M[0],
                            I = M[1],
                            P = a.offsetRotation,
                            R = !1;
                        if (0 == P) R = u == t.RotateMode.Chain;
                        else R = !1, P *= (_ = this.target.bone.matrix).a * _.d - _.b * _.c > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad;
                        f = 0;
                        for (var _ = 3; f < p; f++, _ += 3) {
                            var E, D = (E = m[f]).matrix;
                            D.tx += (L - D.tx) * o, D.ty += (I - D.ty) * o;
                            var O = (C = M[_]) - L,
                                w = (A = M[_ + 1]) - I;
                            if (c) {
                                var x = g[f];
                                if (0 != x) {
                                    var B = (Math.sqrt(O * O + w * w) / x - 1) * n + 1;
                                    D.a *= B, D.b *= B
                                }
                            }
                            if (L = C, I = A, s) {
                                var k = D.a,
                                    V = D.c,
                                    G = D.b,
                                    F = D.d,
                                    j = 0,
                                    U = 0,
                                    N = 0;
                                if (j = h ? M[_ - 1] : 0 == S[f + 1] ? M[_ + 2] : Math.atan2(w, O), j -= Math.atan2(G, k), R) {
                                    U = Math.cos(j), N = Math.sin(j);
                                    var X = E.data.length;
                                    L += (X * (U * k - N * G) - O) * n, I += (X * (N * k + U * G) - w) * n
                                } else j += P;
                                j > t.MathUtils.PI ? j -= t.MathUtils.PI2 : j < -t.MathUtils.PI && (j += t.MathUtils.PI2), j *= n, U = Math.cos(j), N = Math.sin(j), D.a = U * k - N * G, D.c = U * V - N * F, D.b = N * k + U * G, D.d = N * V + U * F
                            }
                            E.appliedValid = !1
                        }
                    }
                }
            }, e.prototype.computeWorldPositions = function (i, n, o, s, a) {
                var r = this.target,
                    l = this.position,
                    u = this.spaces,
                    h = t.Utils.setArraySize(this.positions, 3 * n + 2),
                    c = null,
                    p = i.closed,
                    d = i.worldVerticesLength,
                    m = d / 6,
                    S = e.NONE;
                if (!i.constantSpeed) {
                    var g = i.lengths,
                        y = g[m -= p ? 1 : 2];
                    if (s && (l *= y), a)
                        for (var f = 0; f < n; f++) u[f] *= y;
                    c = t.Utils.setArraySize(this.world, 8);
                    f = 0;
                    for (var b = 0, T = 0; f < n; f++, b += 3) {
                        var C = l += H = u[f];
                        if (p)(C %= y) < 0 && (C += y), T = 0;
                        else {
                            if (C < 0) {
                                S != e.BEFORE && (S = e.BEFORE, i.computeWorldVertices(r, 2, 4, c, 0, 2)), this.addBeforePosition(C, c, 0, h, b);
                                continue
                            }
                            if (C > y) {
                                S != e.AFTER && (S = e.AFTER, i.computeWorldVertices(r, d - 6, 4, c, 0, 2)), this.addAfterPosition(C - y, c, 0, h, b);
                                continue
                            }
                        }
                        for (;; T++) {
                            var A = g[T];
                            if (!(C > A)) {
                                if (0 == T) C /= A;
                                else C = (C - (Y = g[T - 1])) / (A - Y);
                                break
                            }
                        }
                        T != S && (S = T, p && T == m ? (i.computeWorldVertices(r, d - 4, 4, c, 0, 2), i.computeWorldVertices(r, 0, 4, c, 4, 2)) : i.computeWorldVertices(r, 6 * T + 2, 8, c, 0, 2)), this.addCurvePosition(C, c[0], c[1], c[2], c[3], c[4], c[5], c[6], c[7], h, b, o || f > 0 && 0 == H)
                    }
                    return h
                }
                p ? (d += 2, c = t.Utils.setArraySize(this.world, d), i.computeWorldVertices(r, 2, d - 4, c, 0, 2), i.computeWorldVertices(r, 0, 2, c, d - 4, 2), c[d - 2] = c[0], c[d - 1] = c[1]) : (m--, d -= 4, c = t.Utils.setArraySize(this.world, d), i.computeWorldVertices(r, 2, d, c, 0, 2));
                for (var v = t.Utils.setArraySize(this.curves, m), M = 0, L = c[0], I = c[1], P = 0, R = 0, _ = 0, E = 0, D = 0, O = 0, w = 0, x = 0, B = 0, k = 0, V = 0, G = 0, F = 0, j = 0, U = (f = 0, 2); f < m; f++, U += 6) P = c[U], R = c[U + 1], _ = c[U + 2], E = c[U + 3], V = 2 * (w = .1875 * (L - 2 * P + _)) + (B = .09375 * (3 * (P - _) - L + (D = c[U + 4]))), G = 2 * (x = .1875 * (I - 2 * R + E)) + (k = .09375 * (3 * (R - E) - I + (O = c[U + 5]))), F = .75 * (P - L) + w + .16666667 * B, j = .75 * (R - I) + x + .16666667 * k, M += Math.sqrt(F * F + j * j), F += V, j += G, V += B, G += k, M += Math.sqrt(F * F + j * j), F += V, j += G, M += Math.sqrt(F * F + j * j), F += V + B, j += G + k, M += Math.sqrt(F * F + j * j), v[f] = M, L = D, I = O;
                if (s && (l *= M), a)
                    for (f = 0; f < n; f++) u[f] *= M;
                for (var N = this.segments, X = 0, W = (f = 0, b = 0, T = 0, 0); f < n; f++, b += 3) {
                    var H;
                    C = l += H = u[f];
                    if (p)(C %= M) < 0 && (C += M), T = 0;
                    else {
                        if (C < 0) {
                            this.addBeforePosition(C, c, 0, h, b);
                            continue
                        }
                        if (C > M) {
                            this.addAfterPosition(C - M, c, d - 4, h, b);
                            continue
                        }
                    }
                    for (;; T++) {
                        var z = v[T];
                        if (!(C > z)) {
                            if (0 == T) C /= z;
                            else C = (C - (Y = v[T - 1])) / (z - Y);
                            break
                        }
                    }
                    if (T != S) {
                        S = T;
                        var J = 6 * T;
                        for (L = c[J], I = c[J + 1], P = c[J + 2], R = c[J + 3], _ = c[J + 4], E = c[J + 5], V = 2 * (w = .03 * (L - 2 * P + _)) + (B = .006 * (3 * (P - _) - L + (D = c[J + 6]))), G = 2 * (x = .03 * (I - 2 * R + E)) + (k = .006 * (3 * (R - E) - I + (O = c[J + 7]))), F = .3 * (P - L) + w + .16666667 * B, j = .3 * (R - I) + x + .16666667 * k, X = Math.sqrt(F * F + j * j), N[0] = X, J = 1; J < 8; J++) F += V, j += G, V += B, G += k, X += Math.sqrt(F * F + j * j), N[J] = X;
                        F += V, j += G, X += Math.sqrt(F * F + j * j), N[8] = X, F += V + B, j += G + k, X += Math.sqrt(F * F + j * j), N[9] = X, W = 0
                    }
                    for (C *= X;; W++) {
                        var q = N[W];
                        if (!(C > q)) {
                            var Y;
                            if (0 == W) C /= q;
                            else C = W + (C - (Y = N[W - 1])) / (q - Y);
                            break
                        }
                    }
                    this.addCurvePosition(.1 * C, L, I, P, R, _, E, D, O, h, b, o || f > 0 && 0 == H)
                }
                return h
            }, e.prototype.addBeforePosition = function (t, e, i, n, o) {
                var s = e[i],
                    a = e[i + 1],
                    r = e[i + 2] - s,
                    l = e[i + 3] - a,
                    u = Math.atan2(l, r);
                n[o] = s + t * Math.cos(u), n[o + 1] = a + t * Math.sin(u), n[o + 2] = u
            }, e.prototype.addAfterPosition = function (t, e, i, n, o) {
                var s = e[i + 2],
                    a = e[i + 3],
                    r = s - e[i],
                    l = a - e[i + 1],
                    u = Math.atan2(l, r);
                n[o] = s + t * Math.cos(u), n[o + 1] = a + t * Math.sin(u), n[o + 2] = u
            }, e.prototype.addCurvePosition = function (t, e, i, n, o, s, a, r, l, u, h, c) {
                (0 == t || isNaN(t)) && (t = 1e-4);
                var p = t * t,
                    d = p * t,
                    m = 1 - t,
                    S = m * m,
                    g = S * m,
                    y = m * t,
                    f = 3 * y,
                    b = m * f,
                    T = f * t,
                    C = e * g + n * b + s * T + r * d,
                    A = i * g + o * b + a * T + l * d;
                u[h] = C, u[h + 1] = A, c && (u[h + 2] = Math.atan2(A - (i * S + o * y * 2 + a * p), C - (e * S + n * y * 2 + s * p)))
            }, e.prototype.getOrder = function () {
                return this.data.order
            }, e.NONE = -1, e.BEFORE = -2, e.AFTER = -3, e.epsilon = 1e-5, e
        }();
        t.PathConstraint = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (t) {
            this.order = 0, this.bones = new Array, this.name = t
        };
        t.PathConstraintData = e,
            function (t) {
                t[t.Fixed = 0] = "Fixed", t[t.Percent = 1] = "Percent"
            }(t.PositionMode || (t.PositionMode = {})),
            function (t) {
                t[t.Length = 0] = "Length", t[t.Fixed = 1] = "Fixed", t[t.Percent = 2] = "Percent"
            }(t.SpacingMode || (t.SpacingMode = {})),
            function (t) {
                t[t.Tangent = 0] = "Tangent", t[t.Chain = 1] = "Chain", t[t.ChainScale = 2] = "ChainScale"
            }(t.RotateMode || (t.RotateMode = {}))
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(e) {
                if (this._updateCache = new Array, this.updateCacheReset = new Array, this.time = 0, this.flipX = !1, this.flipY = !1, this.x = 0, this.y = 0, null == e) throw new Error("data cannot be null.");
                this.data = e, this.bones = new Array;
                for (var i = 0; i < e.bones.length; i++) {
                    var n = e.bones[i],
                        o = void 0;
                    if (null == n.parent) o = new t.Bone(n, this, null);
                    else {
                        var s = this.bones[n.parent.index];
                        o = new t.Bone(n, this, s), s.children.push(o)
                    }
                    this.bones.push(o)
                }
                this.slots = new Array, this.drawOrder = new Array;
                for (i = 0; i < e.slots.length; i++) {
                    var a = e.slots[i],
                        r = (o = this.bones[a.boneData.index], new t.Slot(a, o));
                    this.slots.push(r), this.drawOrder.push(r)
                }
                this.ikConstraints = new Array;
                for (i = 0; i < e.ikConstraints.length; i++) {
                    var l = e.ikConstraints[i];
                    this.ikConstraints.push(new t.IkConstraint(l, this))
                }
                this.transformConstraints = new Array;
                for (i = 0; i < e.transformConstraints.length; i++) {
                    var u = e.transformConstraints[i];
                    this.transformConstraints.push(new t.TransformConstraint(u, this))
                }
                this.pathConstraints = new Array;
                for (i = 0; i < e.pathConstraints.length; i++) {
                    var h = e.pathConstraints[i];
                    this.pathConstraints.push(new t.PathConstraint(h, this))
                }
                this.color = new t.Color(1, 1, 1, 1), this.updateCache()
            }
            return e.prototype.updateCache = function () {
                this._updateCache.length = 0, this.updateCacheReset.length = 0;
                for (var t = this.bones, e = 0, i = t.length; e < i; e++) t[e].sorted = !1;
                var n = this.ikConstraints,
                    o = this.transformConstraints,
                    s = this.pathConstraints,
                    a = n.length,
                    r = o.length,
                    l = s.length,
                    u = a + r + l;
                t: for (e = 0; e < u; e++) {
                    for (var h = 0; h < a; h++) {
                        if ((c = n[h]).data.order == e) {
                            this.sortIkConstraint(c);
                            continue t
                        }
                    }
                    for (h = 0; h < r; h++) {
                        if ((c = o[h]).data.order == e) {
                            this.sortTransformConstraint(c);
                            continue t
                        }
                    }
                    for (h = 0; h < l; h++) {
                        var c;
                        if ((c = s[h]).data.order == e) {
                            this.sortPathConstraint(c);
                            continue t
                        }
                    }
                }
                for (e = 0, i = t.length; e < i; e++) this.sortBone(t[e])
            }, e.prototype.sortIkConstraint = function (t) {
                var e = t.target;
                this.sortBone(e);
                var i = t.bones,
                    n = i[0];
                if (this.sortBone(n), i.length > 1) {
                    var o = i[i.length - 1];
                    this._updateCache.indexOf(o) > -1 || this.updateCacheReset.push(o)
                }
                this._updateCache.push(t), this.sortReset(n.children), i[i.length - 1].sorted = !0
            }, e.prototype.sortPathConstraint = function (e) {
                var i = e.target,
                    n = i.data.index,
                    o = i.bone;
                null != this.skin && this.sortPathConstraintAttachment(this.skin, n, o), null != this.data.defaultSkin && this.data.defaultSkin != this.skin && this.sortPathConstraintAttachment(this.data.defaultSkin, n, o);
                for (var s = 0, a = this.data.skins.length; s < a; s++) this.sortPathConstraintAttachment(this.data.skins[s], n, o);
                var r = i.getAttachment();
                r instanceof t.PathAttachment && this.sortPathConstraintAttachmentWith(r, o);
                var l = e.bones,
                    u = l.length;
                for (s = 0; s < u; s++) this.sortBone(l[s]);
                this._updateCache.push(e);
                for (s = 0; s < u; s++) this.sortReset(l[s].children);
                for (s = 0; s < u; s++) l[s].sorted = !0
            }, e.prototype.sortTransformConstraint = function (t) {
                this.sortBone(t.target);
                var e = t.bones,
                    i = e.length;
                if (t.data.local)
                    for (var n = 0; n < i; n++) {
                        var o = e[n];
                        this.sortBone(o.parent), this._updateCache.indexOf(o) > -1 || this.updateCacheReset.push(o)
                    } else
                        for (n = 0; n < i; n++) this.sortBone(e[n]);
                this._updateCache.push(t);
                for (var s = 0; s < i; s++) this.sortReset(e[s].children);
                for (s = 0; s < i; s++) e[s].sorted = !0
            }, e.prototype.sortPathConstraintAttachment = function (t, e, i) {
                var n = t.attachments[e];
                if (n)
                    for (var o in n) this.sortPathConstraintAttachmentWith(n[o], i)
            }, e.prototype.sortPathConstraintAttachmentWith = function (e, i) {
                if (e instanceof t.PathAttachment) {
                    var n = e.bones;
                    if (null == n) this.sortBone(i);
                    else
                        for (var o = this.bones, s = 0; s < n.length;)
                            for (var a = n[s++], r = s + a; s < r; s++) {
                                var l = n[s];
                                this.sortBone(o[l])
                            }
                }
            }, e.prototype.sortBone = function (t) {
                if (!t.sorted) {
                    var e = t.parent;
                    null != e && this.sortBone(e), t.sorted = !0, this._updateCache.push(t)
                }
            }, e.prototype.sortReset = function (t) {
                for (var e = 0, i = t.length; e < i; e++) {
                    var n = t[e];
                    n.sorted && this.sortReset(n.children), n.sorted = !1
                }
            }, e.prototype.updateWorldTransform = function () {
                for (var t = this.updateCacheReset, e = 0, i = t.length; e < i; e++) {
                    var n = t[e];
                    n.ax = n.x, n.ay = n.y, n.arotation = n.rotation, n.ascaleX = n.scaleX, n.ascaleY = n.scaleY, n.ashearX = n.shearX, n.ashearY = n.shearY, n.appliedValid = !0
                }
                var o = this._updateCache;
                for (e = 0, i = o.length; e < i; e++) o[e].update()
            }, e.prototype.setToSetupPose = function () {
                this.setBonesToSetupPose(), this.setSlotsToSetupPose()
            }, e.prototype.setBonesToSetupPose = function () {
                for (var t = this.bones, e = 0, i = t.length; e < i; e++) t[e].setToSetupPose();
                var n = this.ikConstraints;
                for (e = 0, i = n.length; e < i; e++) {
                    (r = n[e]).bendDirection = r.data.bendDirection, r.mix = r.data.mix
                }
                var o = this.transformConstraints;
                for (e = 0, i = o.length; e < i; e++) {
                    var s = (r = o[e]).data;
                    r.rotateMix = s.rotateMix, r.translateMix = s.translateMix, r.scaleMix = s.scaleMix, r.shearMix = s.shearMix
                }
                var a = this.pathConstraints;
                for (e = 0, i = a.length; e < i; e++) {
                    var r;
                    s = (r = a[e]).data;
                    r.position = s.position, r.spacing = s.spacing, r.rotateMix = s.rotateMix, r.translateMix = s.translateMix
                }
            }, e.prototype.setSlotsToSetupPose = function () {
                var e = this.slots;
                t.Utils.arrayCopy(e, 0, this.drawOrder, 0, e.length);
                for (var i = 0, n = e.length; i < n; i++) e[i].setToSetupPose()
            }, e.prototype.getRootBone = function () {
                return 0 == this.bones.length ? null : this.bones[0]
            }, e.prototype.findBone = function (t) {
                if (null == t) throw new Error("boneName cannot be null.");
                for (var e = this.bones, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.data.name == t) return o
                }
                return null
            }, e.prototype.findBoneIndex = function (t) {
                if (null == t) throw new Error("boneName cannot be null.");
                for (var e = this.bones, i = 0, n = e.length; i < n; i++)
                    if (e[i].data.name == t) return i;
                return -1
            }, e.prototype.findSlot = function (t) {
                if (null == t) throw new Error("slotName cannot be null.");
                for (var e = this.slots, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.data.name == t) return o
                }
                return null
            }, e.prototype.findSlotIndex = function (t) {
                if (null == t) throw new Error("slotName cannot be null.");
                for (var e = this.slots, i = 0, n = e.length; i < n; i++)
                    if (e[i].data.name == t) return i;
                return -1
            }, e.prototype.setSkinByName = function (t) {
                var e = this.data.findSkin(t);
                if (null == e) throw new Error("Skin not found: " + t);
                this.setSkin(e)
            }, e.prototype.setSkin = function (t) {
                if (null != t)
                    if (null != this.skin) t.attachAll(this, this.skin);
                    else
                        for (var e = this.slots, i = 0, n = e.length; i < n; i++) {
                            var o = e[i],
                                s = o.data.attachmentName;
                            if (null != s) {
                                var a = t.getAttachment(i, s);
                                null != a && o.setAttachment(a)
                            }
                        }
                this.skin = t
            }, e.prototype.getAttachmentByName = function (t, e) {
                return this.getAttachment(this.data.findSlotIndex(t), e)
            }, e.prototype.getAttachment = function (t, e) {
                if (null == e) throw new Error("attachmentName cannot be null.");
                if (null != this.skin) {
                    var i = this.skin.getAttachment(t, e);
                    if (null != i) return i
                }
                return null != this.data.defaultSkin ? this.data.defaultSkin.getAttachment(t, e) : null
            }, e.prototype.setAttachment = function (t, e) {
                if (null == t) throw new Error("slotName cannot be null.");
                for (var i = this.slots, n = 0, o = i.length; n < o; n++) {
                    var s = i[n];
                    if (s.data.name == t) {
                        var a = null;
                        if (null != e && null == (a = this.getAttachment(n, e))) throw new Error("Attachment not found: " + e + ", for slot: " + t);
                        return void s.setAttachment(a)
                    }
                }
                throw new Error("Slot not found: " + t)
            }, e.prototype.findIkConstraint = function (t) {
                if (null == t) throw new Error("constraintName cannot be null.");
                for (var e = this.ikConstraints, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.data.name == t) return o
                }
                return null
            }, e.prototype.findTransformConstraint = function (t) {
                if (null == t) throw new Error("constraintName cannot be null.");
                for (var e = this.transformConstraints, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.data.name == t) return o
                }
                return null
            }, e.prototype.findPathConstraint = function (t) {
                if (null == t) throw new Error("constraintName cannot be null.");
                for (var e = this.pathConstraints, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.data.name == t) return o
                }
                return null
            }, e.prototype.getBounds = function (e, i, n) {
                if (null == e) throw new Error("offset cannot be null.");
                if (null == i) throw new Error("size cannot be null.");
                for (var o = this.drawOrder, s = Number.POSITIVE_INFINITY, a = Number.POSITIVE_INFINITY, r = Number.NEGATIVE_INFINITY, l = Number.NEGATIVE_INFINITY, u = 0, h = o.length; u < h; u++) {
                    var c = o[u],
                        p = 0,
                        d = null,
                        m = c.getAttachment();
                    if (m instanceof t.RegionAttachment) p = 8, d = t.Utils.setArraySize(n, p, 0), m.computeWorldVertices(c.bone, d, 0, 2);
                    else if (m instanceof t.MeshAttachment) {
                        var S = m;
                        p = S.worldVerticesLength, d = t.Utils.setArraySize(n, p, 0), S.computeWorldVertices(c, 0, p, d, 0, 2)
                    }
                    if (null != d)
                        for (var g = 0, y = d.length; g < y; g += 2) {
                            var f = d[g],
                                b = d[g + 1];
                            s = Math.min(s, f), a = Math.min(a, b), r = Math.max(r, f), l = Math.max(l, b)
                        }
                }
                e.set(s, a), i.set(r - s, l - a)
            }, e.prototype.update = function (t) {
                this.time += t
            }, e
        }();
        t.Skeleton = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e() {
                this.minX = 0, this.minY = 0, this.maxX = 0, this.maxY = 0, this.boundingBoxes = new Array, this.polygons = new Array, this.polygonPool = new t.Pool((function () {
                    return t.Utils.newFloatArray(16)
                }))
            }
            return e.prototype.update = function (e, i) {
                if (null == e) throw new Error("skeleton cannot be null.");
                var n = this.boundingBoxes,
                    o = this.polygons,
                    s = this.polygonPool,
                    a = e.slots,
                    r = a.length;
                n.length = 0, s.freeAll(o), o.length = 0;
                for (var l = 0; l < r; l++) {
                    var u = a[l],
                        h = u.getAttachment();
                    if (h instanceof t.BoundingBoxAttachment) {
                        var c = h;
                        n.push(c);
                        var p = s.obtain();
                        p.length != c.worldVerticesLength && (p = t.Utils.newFloatArray(c.worldVerticesLength)), o.push(p), c.computeWorldVertices(u, 0, c.worldVerticesLength, p, 0, 2)
                    }
                }
                i ? this.aabbCompute() : (this.minX = Number.POSITIVE_INFINITY, this.minY = Number.POSITIVE_INFINITY, this.maxX = Number.NEGATIVE_INFINITY, this.maxY = Number.NEGATIVE_INFINITY)
            }, e.prototype.aabbCompute = function () {
                for (var t = Number.POSITIVE_INFINITY, e = Number.POSITIVE_INFINITY, i = Number.NEGATIVE_INFINITY, n = Number.NEGATIVE_INFINITY, o = this.polygons, s = 0, a = o.length; s < a; s++)
                    for (var r = o[s], l = r, u = 0, h = r.length; u < h; u += 2) {
                        var c = l[u],
                            p = l[u + 1];
                        t = Math.min(t, c), e = Math.min(e, p), i = Math.max(i, c), n = Math.max(n, p)
                    }
                this.minX = t, this.minY = e, this.maxX = i, this.maxY = n
            }, e.prototype.aabbContainsPoint = function (t, e) {
                return t >= this.minX && t <= this.maxX && e >= this.minY && e <= this.maxY
            }, e.prototype.aabbIntersectsSegment = function (t, e, i, n) {
                var o = this.minX,
                    s = this.minY,
                    a = this.maxX,
                    r = this.maxY;
                if (t <= o && i <= o || e <= s && n <= s || t >= a && i >= a || e >= r && n >= r) return !1;
                var l = (n - e) / (i - t),
                    u = l * (o - t) + e;
                if (u > s && u < r) return !0;
                if ((u = l * (a - t) + e) > s && u < r) return !0;
                var h = (s - e) / l + t;
                return h > o && h < a || (h = (r - e) / l + t) > o && h < a
            }, e.prototype.aabbIntersectsSkeleton = function (t) {
                return this.minX < t.maxX && this.maxX > t.minX && this.minY < t.maxY && this.maxY > t.minY
            }, e.prototype.containsPoint = function (t, e) {
                for (var i = this.polygons, n = 0, o = i.length; n < o; n++)
                    if (this.containsPointPolygon(i[n], t, e)) return this.boundingBoxes[n];
                return null
            }, e.prototype.containsPointPolygon = function (t, e, i) {
                for (var n = t, o = t.length, s = o - 2, a = !1, r = 0; r < o; r += 2) {
                    var l = n[r + 1],
                        u = n[s + 1];
                    if (l < i && u >= i || u < i && l >= i) {
                        var h = n[r];
                        h + (i - l) / (u - l) * (n[s] - h) < e && (a = !a)
                    }
                    s = r
                }
                return a
            }, e.prototype.intersectsSegment = function (t, e, i, n) {
                for (var o = this.polygons, s = 0, a = o.length; s < a; s++)
                    if (this.intersectsSegmentPolygon(o[s], t, e, i, n)) return this.boundingBoxes[s];
                return null
            }, e.prototype.intersectsSegmentPolygon = function (t, e, i, n, o) {
                for (var s = t, a = t.length, r = e - n, l = i - o, u = e * o - i * n, h = s[a - 2], c = s[a - 1], p = 0; p < a; p += 2) {
                    var d = s[p],
                        m = s[p + 1],
                        S = h * m - c * d,
                        g = h - d,
                        y = c - m,
                        f = r * y - l * g,
                        b = (u * g - r * S) / f;
                    if ((b >= h && b <= d || b >= d && b <= h) && (b >= e && b <= n || b >= n && b <= e)) {
                        var T = (u * y - l * S) / f;
                        if ((T >= c && T <= m || T >= m && T <= c) && (T >= i && T <= o || T >= o && T <= i)) return !0
                    }
                    h = d, c = m
                }
                return !1
            }, e.prototype.getPolygon = function (t) {
                if (null == t) throw new Error("boundingBox cannot be null.");
                var e = this.boundingBoxes.indexOf(t);
                return -1 == e ? null : this.polygons[e]
            }, e.prototype.getWidth = function () {
                return this.maxX - this.minX
            }, e.prototype.getHeight = function () {
                return this.maxY - this.minY
            }, e
        }();
        t.SkeletonBounds = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e() {
                this.triangulator = new t.Triangulator, this.clippingPolygon = new Array, this.clipOutput = new Array, this.clippedVertices = new Array, this.clippedTriangles = new Array, this.scratch = new Array
            }
            return e.prototype.clipStart = function (i, n) {
                if (null != this.clipAttachment) return 0;
                this.clipAttachment = n;
                var o = n.worldVerticesLength,
                    s = t.Utils.setArraySize(this.clippingPolygon, o);
                n.computeWorldVertices(i, 0, o, s, 0, 2);
                var a = this.clippingPolygon;
                e.makeClockwise(a);
                for (var r = this.clippingPolygons = this.triangulator.decompose(a, this.triangulator.triangulate(a)), l = 0, u = r.length; l < u; l++) {
                    var h = r[l];
                    e.makeClockwise(h), h.push(h[0]), h.push(h[1])
                }
                return r.length
            }, e.prototype.clipEndWithSlot = function (t) {
                null != this.clipAttachment && this.clipAttachment.endSlot == t.data && this.clipEnd()
            }, e.prototype.clipEnd = function () {
                null != this.clipAttachment && (this.clipAttachment = null, this.clippingPolygons = null, this.clippedVertices.length = 0, this.clippedTriangles.length = 0, this.clippingPolygon.length = 0)
            }, e.prototype.isClipping = function () {
                return null != this.clipAttachment
            }, e.prototype.clipTriangles = function (e, i, n, o, s, a, r, l) {
                var u = this.clipOutput,
                    h = this.clippedVertices,
                    c = this.clippedTriangles,
                    p = this.clippingPolygons,
                    d = this.clippingPolygons.length,
                    m = l ? 12 : 8,
                    S = 0;
                h.length = 0, c.length = 0;
                t: for (var g = 0; g < o; g += 3)
                    for (var y = n[g] << 1, f = e[y], b = e[y + 1], T = s[y], C = s[y + 1], A = e[y = n[g + 1] << 1], v = e[y + 1], M = s[y], L = s[y + 1], I = e[y = n[g + 2] << 1], P = e[y + 1], R = s[y], _ = s[y + 1], E = 0; E < d; E++) {
                        var D = h.length;
                        if (!this.clip(f, b, A, v, I, P, p[E], u)) {
                            (j = t.Utils.setArraySize(h, D + 3 * m))[D] = f, j[D + 1] = b, j[D + 2] = a.r, j[D + 3] = a.g, j[D + 4] = a.b, j[D + 5] = a.a, l ? (j[D + 6] = T, j[D + 7] = C, j[D + 8] = r.r, j[D + 9] = r.g, j[D + 10] = r.b, j[D + 11] = r.a, j[D + 12] = A, j[D + 13] = v, j[D + 14] = a.r, j[D + 15] = a.g, j[D + 16] = a.b, j[D + 17] = a.a, j[D + 18] = M, j[D + 19] = L, j[D + 20] = r.r, j[D + 21] = r.g, j[D + 22] = r.b, j[D + 23] = r.a, j[D + 24] = I, j[D + 25] = P, j[D + 26] = a.r, j[D + 27] = a.g, j[D + 28] = a.b, j[D + 29] = a.a, j[D + 30] = R, j[D + 31] = _, j[D + 32] = r.r, j[D + 33] = r.g, j[D + 34] = r.b, j[D + 35] = r.a) : (j[D + 6] = T, j[D + 7] = C, j[D + 8] = A, j[D + 9] = v, j[D + 10] = a.r, j[D + 11] = a.g, j[D + 12] = a.b, j[D + 13] = a.a, j[D + 14] = M, j[D + 15] = L, j[D + 16] = I, j[D + 17] = P, j[D + 18] = a.r, j[D + 19] = a.g, j[D + 20] = a.b, j[D + 21] = a.a, j[D + 22] = R, j[D + 23] = _), D = c.length, (Y = t.Utils.setArraySize(c, D + 3))[D] = S, Y[D + 1] = S + 1, Y[D + 2] = S + 2, S += 3;
                            continue t
                        }
                        var O = u.length;
                        if (0 != O) {
                            for (var w = v - P, x = I - A, B = f - I, k = P - b, V = 1 / (w * B + x * (b - P)), G = O >> 1, F = this.clipOutput, j = t.Utils.setArraySize(h, D + G * m), U = 0; U < O; U += 2) {
                                var N = F[U],
                                    X = F[U + 1];
                                j[D] = N, j[D + 1] = X, j[D + 2] = a.r, j[D + 3] = a.g, j[D + 4] = a.b, j[D + 5] = a.a;
                                var W = N - I,
                                    H = X - P,
                                    z = (w * W + x * H) * V,
                                    J = (k * W + B * H) * V,
                                    q = 1 - z - J;
                                j[D + 6] = T * z + M * J + R * q, j[D + 7] = C * z + L * J + _ * q, l && (j[D + 8] = r.r, j[D + 9] = r.g, j[D + 10] = r.b, j[D + 11] = r.a), D += m
                            }
                            D = c.length;
                            var Y = t.Utils.setArraySize(c, D + 3 * (G - 2));
                            G--;
                            for (U = 1; U < G; U++) Y[D] = S, Y[D + 1] = S + U, Y[D + 2] = S + U + 1, D += 3;
                            S += G + 1
                        }
                    }
            }, e.prototype.clip = function (t, e, i, n, o, s, a, r) {
                var l = r,
                    u = !1,
                    h = null;
                a.length % 4 >= 2 ? (h = r, r = this.scratch) : h = this.scratch, h.length = 0, h.push(t), h.push(e), h.push(i), h.push(n), h.push(o), h.push(s), h.push(t), h.push(e), r.length = 0;
                for (var c = a, p = a.length - 4, d = 0;; d += 2) {
                    for (var m = c[d], S = c[d + 1], g = c[d + 2], y = c[d + 3], f = m - g, b = S - y, T = h, C = h.length - 2, A = r.length, v = 0; v < C; v += 2) {
                        var M = T[v],
                            L = T[v + 1],
                            I = T[v + 2],
                            P = T[v + 3],
                            R = f * (P - y) - b * (I - g) > 0;
                        if (f * (L - y) - b * (M - g) > 0) {
                            if (R) {
                                r.push(I), r.push(P);
                                continue
                            }
                            var _ = ((D = I - M) * (S - L) - (E = P - L) * (m - M)) / (E * (g - m) - D * (y - S));
                            r.push(m + (g - m) * _), r.push(S + (y - S) * _)
                        } else if (R) {
                            var E, D;
                            _ = ((D = I - M) * (S - L) - (E = P - L) * (m - M)) / (E * (g - m) - D * (y - S));
                            r.push(m + (g - m) * _), r.push(S + (y - S) * _), r.push(I), r.push(P)
                        }
                        u = !0
                    }
                    if (A == r.length) return l.length = 0, !0;
                    if (r.push(r[0]), r.push(r[1]), d == p) break;
                    var O = r;
                    (r = h).length = 0, h = O
                }
                if (l != r) {
                    l.length = 0;
                    d = 0;
                    for (var w = r.length - 2; d < w; d++) l[d] = r[d]
                } else l.length = l.length - 2;
                return u
            }, e.makeClockwise = function (t) {
                for (var e = t, i = t.length, n = e[i - 2] * e[1] - e[0] * e[i - 1], o = 0, s = 0, a = 0, r = 0, l = i - 3; r < l; r += 2) o = e[r], s = e[r + 1], a = e[r + 2], n += o * e[r + 3] - a * s;
                if (!(n < 0)) {
                    r = 0;
                    var u = i - 2;
                    for (l = i >> 1; r < l; r += 2) {
                        var h = e[r],
                            c = e[r + 1],
                            p = u - r;
                        e[r] = e[p], e[r + 1] = e[p + 1], e[p] = h, e[p + 1] = c
                    }
                }
            }, e
        }();
        t.SkeletonClipping = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function t() {
                this.bones = new Array, this.slots = new Array, this.skins = new Array, this.events = new Array, this.animations = new Array, this.ikConstraints = new Array, this.transformConstraints = new Array, this.pathConstraints = new Array, this.fps = 0
            }
            return t.prototype.findBone = function (t) {
                if (null == t) throw new Error("boneName cannot be null.");
                for (var e = this.bones, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.name == t) return o
                }
                return null
            }, t.prototype.findBoneIndex = function (t) {
                if (null == t) throw new Error("boneName cannot be null.");
                for (var e = this.bones, i = 0, n = e.length; i < n; i++)
                    if (e[i].name == t) return i;
                return -1
            }, t.prototype.findSlot = function (t) {
                if (null == t) throw new Error("slotName cannot be null.");
                for (var e = this.slots, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.name == t) return o
                }
                return null
            }, t.prototype.findSlotIndex = function (t) {
                if (null == t) throw new Error("slotName cannot be null.");
                for (var e = this.slots, i = 0, n = e.length; i < n; i++)
                    if (e[i].name == t) return i;
                return -1
            }, t.prototype.findSkin = function (t) {
                if (null == t) throw new Error("skinName cannot be null.");
                for (var e = this.skins, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.name == t) return o
                }
                return null
            }, t.prototype.findEvent = function (t) {
                if (null == t) throw new Error("eventDataName cannot be null.");
                for (var e = this.events, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.name == t) return o
                }
                return null
            }, t.prototype.findAnimation = function (t) {
                if (null == t) throw new Error("animationName cannot be null.");
                for (var e = this.animations, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.name == t) return o
                }
                return null
            }, t.prototype.findIkConstraint = function (t) {
                if (null == t) throw new Error("constraintName cannot be null.");
                for (var e = this.ikConstraints, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.name == t) return o
                }
                return null
            }, t.prototype.findTransformConstraint = function (t) {
                if (null == t) throw new Error("constraintName cannot be null.");
                for (var e = this.transformConstraints, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.name == t) return o
                }
                return null
            }, t.prototype.findPathConstraint = function (t) {
                if (null == t) throw new Error("constraintName cannot be null.");
                for (var e = this.pathConstraints, i = 0, n = e.length; i < n; i++) {
                    var o = e[i];
                    if (o.name == t) return o
                }
                return null
            }, t.prototype.findPathConstraintIndex = function (t) {
                if (null == t) throw new Error("pathConstraintName cannot be null.");
                for (var e = this.pathConstraints, i = 0, n = e.length; i < n; i++)
                    if (e[i].name == t) return i;
                return -1
            }, t
        }();
        t.SkeletonData = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(t) {
                this.scale = 1, this.linkedMeshes = new Array, this.attachmentLoader = t
            }
            return e.prototype.readSkeletonData = function (i) {
                var n = this.scale,
                    o = new t.SkeletonData,
                    s = "string" == typeof i ? JSON.parse(i) : i,
                    a = s.skeleton;
                if (null != a && (o.hash = a.hash, o.version = a.spine, o.width = a.width, o.height = a.height, o.fps = a.fps, o.imagesPath = a.images), s.bones)
                    for (var r = 0; r < s.bones.length; r++) {
                        var l = s.bones[r],
                            u = null,
                            h = this.getValue(l, "parent", null);
                        if (null != h && null == (u = o.findBone(h))) throw new Error("Parent bone not found: " + h);
                        (m = new t.BoneData(o.bones.length, l.name, u)).length = this.getValue(l, "length", 0) * n, m.x = this.getValue(l, "x", 0) * n, m.y = this.getValue(l, "y", 0) * n, m.rotation = this.getValue(l, "rotation", 0), m.scaleX = this.getValue(l, "scaleX", 1), m.scaleY = this.getValue(l, "scaleY", 1), m.shearX = this.getValue(l, "shearX", 0), m.shearY = this.getValue(l, "shearY", 0), m.transformMode = e.transformModeFromString(this.getValue(l, "transform", "normal")), o.bones.push(m)
                    }
                if (s.slots)
                    for (r = 0; r < s.slots.length; r++) {
                        var c = (L = s.slots[r]).name,
                            p = L.bone,
                            d = o.findBone(p);
                        if (null == d) throw new Error("Slot bone not found: " + p);
                        var m = new t.SlotData(o.slots.length, c, d),
                            S = this.getValue(L, "color", null);
                        null != S && m.color.setFromString(S);
                        var g = this.getValue(L, "dark", null);
                        null != g && (m.darkColor = new t.Color(1, 1, 1, 1), m.darkColor.setFromString(g)), m.attachmentName = this.getValue(L, "attachment", null), m.blendMode = e.blendModeFromString(this.getValue(L, "blend", "normal")), o.slots.push(m)
                    }
                if (s.ik)
                    for (r = 0; r < s.ik.length; r++) {
                        var y = s.ik[r];
                        (m = new t.IkConstraintData(y.name)).order = this.getValue(y, "order", 0);
                        for (var f = 0; f < y.bones.length; f++) {
                            p = y.bones[f];
                            if (null == (T = o.findBone(p))) throw new Error("IK bone not found: " + p);
                            m.bones.push(T)
                        }
                        var b = y.target;
                        if (m.target = o.findBone(b), null == m.target) throw new Error("IK target bone not found: " + b);
                        m.bendDirection = this.getValue(y, "bendPositive", !0) ? 1 : -1, m.mix = this.getValue(y, "mix", 1), o.ikConstraints.push(m)
                    }
                if (s.transform)
                    for (r = 0; r < s.transform.length; r++) {
                        y = s.transform[r];
                        (m = new t.TransformConstraintData(y.name)).order = this.getValue(y, "order", 0);
                        for (f = 0; f < y.bones.length; f++) {
                            p = y.bones[f];
                            if (null == (T = o.findBone(p))) throw new Error("Transform constraint bone not found: " + p);
                            m.bones.push(T)
                        }
                        b = y.target;
                        if (m.target = o.findBone(b), null == m.target) throw new Error("Transform constraint target bone not found: " + b);
                        m.local = this.getValue(y, "local", !1), m.relative = this.getValue(y, "relative", !1), m.offsetRotation = this.getValue(y, "rotation", 0), m.offsetX = this.getValue(y, "x", 0) * n, m.offsetY = this.getValue(y, "y", 0) * n, m.offsetScaleX = this.getValue(y, "scaleX", 0), m.offsetScaleY = this.getValue(y, "scaleY", 0), m.offsetShearY = this.getValue(y, "shearY", 0), m.rotateMix = this.getValue(y, "rotateMix", 1), m.translateMix = this.getValue(y, "translateMix", 1), m.scaleMix = this.getValue(y, "scaleMix", 1), m.shearMix = this.getValue(y, "shearMix", 1), o.transformConstraints.push(m)
                    }
                if (s.path)
                    for (r = 0; r < s.path.length; r++) {
                        y = s.path[r];
                        (m = new t.PathConstraintData(y.name)).order = this.getValue(y, "order", 0);
                        for (f = 0; f < y.bones.length; f++) {
                            var T;
                            p = y.bones[f];
                            if (null == (T = o.findBone(p))) throw new Error("Transform constraint bone not found: " + p);
                            m.bones.push(T)
                        }
                        b = y.target;
                        if (m.target = o.findSlot(b), null == m.target) throw new Error("Path target slot not found: " + b);
                        m.positionMode = e.positionModeFromString(this.getValue(y, "positionMode", "percent")), m.spacingMode = e.spacingModeFromString(this.getValue(y, "spacingMode", "length")), m.rotateMode = e.rotateModeFromString(this.getValue(y, "rotateMode", "tangent")), m.offsetRotation = this.getValue(y, "rotation", 0), m.position = this.getValue(y, "position", 0), m.positionMode == t.PositionMode.Fixed && (m.position *= n), m.spacing = this.getValue(y, "spacing", 0), m.spacingMode != t.SpacingMode.Length && m.spacingMode != t.SpacingMode.Fixed || (m.spacing *= n), m.rotateMix = this.getValue(y, "rotateMix", 1), m.translateMix = this.getValue(y, "translateMix", 1), o.pathConstraints.push(m)
                    }
                if (s.skins)
                    for (var C in s.skins) {
                        var A = s.skins[C],
                            v = new t.Skin(C);
                        for (var c in A) {
                            var M = o.findSlotIndex(c);
                            if (-1 == M) throw new Error("Slot not found: " + c);
                            var L = A[c];
                            for (var I in L) {
                                var P = this.readAttachment(L[I], v, M, I, o);
                                null != P && v.addAttachment(M, I, P)
                            }
                        }
                        o.skins.push(v), "default" == v.name && (o.defaultSkin = v)
                    }
                r = 0;
                for (var R = this.linkedMeshes.length; r < R; r++) {
                    var _ = this.linkedMeshes[r];
                    if (null == (v = null == _.skin ? o.defaultSkin : o.findSkin(_.skin))) throw new Error("Skin not found: " + _.skin);
                    var E = v.getAttachment(_.slotIndex, _.parent);
                    if (null == E) throw new Error("Parent mesh not found: " + _.parent);
                    _.mesh.setParentMesh(E)
                }
                if (this.linkedMeshes.length = 0, s.events)
                    for (var D in s.events) {
                        var O = s.events[D];
                        (m = new t.EventData(D)).intValue = this.getValue(O, "int", 0), m.floatValue = this.getValue(O, "float", 0), m.stringValue = this.getValue(O, "string", ""), m.audio = this.getValue(O, "audio", null), o.events.push(m)
                    }
                if (s.animations)
                    for (var w in s.animations) {
                        var x = s.animations[w];
                        this.readAnimation(x, w, o)
                    }
                return o
            }, e.prototype.readAttachment = function (e, n, o, s, a) {
                var r = this.scale;
                switch (s = this.getValue(e, "name", s), this.getValue(e, "type", "region")) {
                    case "region":
                        var l = this.getValue(e, "path", s),
                            u = this.attachmentLoader.newRegionAttachment(n, s, l);
                        return null == u ? null : (u.path = l, u.x = this.getValue(e, "x", 0) * r, u.y = this.getValue(e, "y", 0) * r, u.scaleX = this.getValue(e, "scaleX", 1), u.scaleY = this.getValue(e, "scaleY", 1), u.rotation = this.getValue(e, "rotation", 0), u.width = e.width * r, u.height = e.height * r, null != (C = this.getValue(e, "color", null)) && u.color.setFromString(C), u);
                    case "boundingbox":
                        var h = this.attachmentLoader.newBoundingBoxAttachment(n, s);
                        return null == h ? null : (this.readVertices(e, h, e.vertexCount << 1), null != (C = this.getValue(e, "color", null)) && h.color.setFromString(C), h);
                    case "mesh":
                    case "linkedmesh":
                        l = this.getValue(e, "path", s);
                        var c = this.attachmentLoader.newMeshAttachment(n, s, l);
                        if (null == c) return null;
                        c.path = l, null != (C = this.getValue(e, "color", null)) && c.color.setFromString(C);
                        var p = this.getValue(e, "parent", null);
                        if (null != p) return c.inheritDeform = this.getValue(e, "deform", !0), this.linkedMeshes.push(new i(c, this.getValue(e, "skin", null), o, p)), c;
                        var d = e.uvs;
                        return this.readVertices(e, c, d.length), c.triangles = e.triangles, c.regionUVs = d, c.hullLength = 2 * this.getValue(e, "hull", 0), c;
                    case "path":
                        if (null == (l = this.attachmentLoader.newPathAttachment(n, s))) return null;
                        l.closed = this.getValue(e, "closed", !1), l.constantSpeed = this.getValue(e, "constantSpeed", !0);
                        var m = e.vertexCount;
                        this.readVertices(e, l, m << 1);
                        for (var S = t.Utils.newArray(m / 3, 0), g = 0; g < e.lengths.length; g++) S[g] = e.lengths[g] * r;
                        return l.lengths = S, null != (C = this.getValue(e, "color", null)) && l.color.setFromString(C), l;
                    case "point":
                        var y = this.attachmentLoader.newPointAttachment(n, s);
                        return null == y ? null : (y.x = this.getValue(e, "x", 0) * r, y.y = this.getValue(e, "y", 0) * r, y.rotation = this.getValue(e, "rotation", 0), null != (C = this.getValue(e, "color", null)) && y.color.setFromString(C), y);
                    case "clipping":
                        var f = this.attachmentLoader.newClippingAttachment(n, s);
                        if (null == f) return null;
                        var b = this.getValue(e, "end", null);
                        if (null != b) {
                            var T = a.findSlot(b);
                            if (null == T) throw new Error("Clipping end slot not found: " + b);
                            f.endSlot = T
                        }
                        var C;
                        m = e.vertexCount;
                        return this.readVertices(e, f, m << 1), null != (C = this.getValue(e, "color", null)) && f.color.setFromString(C), f
                }
                return null
            }, e.prototype.readVertices = function (e, i, n) {
                var o = this.scale;
                i.worldVerticesLength = n;
                var s = e.vertices;
                if (n != s.length) {
                    var a = new Array,
                        r = new Array;
                    for (c = 0, p = s.length; c < p;) {
                        var l = s[c++];
                        r.push(l);
                        for (var u = c + 4 * l; c < u; c += 4) r.push(s[c]), a.push(s[c + 1] * o), a.push(s[c + 2] * o), a.push(s[c + 3])
                    }
                    i.bones = r, i.vertices = t.Utils.toFloatArray(a)
                } else {
                    var h = t.Utils.toFloatArray(s);
                    if (1 != o)
                        for (var c = 0, p = s.length; c < p; c++) h[c] *= o;
                    i.vertices = h
                }
            }, e.prototype.readAnimation = function (e, i, n) {
                var o = this.scale,
                    s = new Array,
                    a = 0;
                if (e.slots)
                    for (var r in e.slots) {
                        var l = e.slots[r];
                        if (-1 == (Y = n.findSlotIndex(r))) throw new Error("Slot not found: " + r);
                        for (var u in l) {
                            var h = l[u];
                            if ("attachment" == u) {
                                (T = new t.AttachmentTimeline(h.length)).slotIndex = Y;
                                for (var c = 0, p = 0; p < h.length; p++) {
                                    var d = h[p];
                                    T.setFrame(c++, d.time, d.name)
                                }
                                s.push(T), a = Math.max(a, T.frames[T.getFrameCount() - 1])
                            } else if ("color" == u) {
                                (T = new t.ColorTimeline(h.length)).slotIndex = Y;
                                for (c = 0, p = 0; p < h.length; p++) {
                                    d = h[p];
                                    var m = new t.Color;
                                    m.setFromString(d.color || "ffffffff"), T.setFrame(c, d.time, m.r, m.g, m.b, m.a), this.readCurve(d, T, c), c++
                                }
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.ColorTimeline.ENTRIES])
                            } else {
                                if ("twoColor" != u) throw new Error("Invalid timeline type for a slot: " + u + " (" + r + ")");
                                (T = new t.TwoColorTimeline(h.length)).slotIndex = Y;
                                for (c = 0, p = 0; p < h.length; p++) {
                                    d = h[p];
                                    var S = new t.Color,
                                        g = new t.Color;
                                    S.setFromString(d.light), g.setFromString(d.dark), T.setFrame(c, d.time, S.r, S.g, S.b, S.a, g.r, g.g, g.b), this.readCurve(d, T, c), c++
                                }
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.TwoColorTimeline.ENTRIES])
                            }
                        }
                    }
                if (e.bones)
                    for (var y in e.bones) {
                        var f = e.bones[y],
                            b = n.findBoneIndex(y);
                        if (-1 == b) throw new Error("Bone not found: " + y);
                        for (var u in f) {
                            h = f[u];
                            if ("rotate" === u) {
                                (T = new t.RotateTimeline(h.length)).boneIndex = b;
                                for (c = 0, p = 0; p < h.length; p++) {
                                    d = h[p];
                                    T.setFrame(c, d.time, d.angle), this.readCurve(d, T, c), c++
                                }
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.RotateTimeline.ENTRIES])
                            } else {
                                if ("translate" !== u && "scale" !== u && "shear" !== u) throw new Error("Invalid timeline type for a bone: " + u + " (" + y + ")");
                                var T = null,
                                    C = 1;
                                "scale" === u ? T = new t.ScaleTimeline(h.length) : "shear" === u ? T = new t.ShearTimeline(h.length) : (T = new t.TranslateTimeline(h.length), C = o), T.boneIndex = b;
                                for (c = 0, p = 0; p < h.length; p++) {
                                    d = h[p];
                                    var A = this.getValue(d, "x", 0),
                                        v = this.getValue(d, "y", 0);
                                    T.setFrame(c, d.time, A * C, v * C), this.readCurve(d, T, c), c++
                                }
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.TranslateTimeline.ENTRIES])
                            }
                        }
                    }
                if (e.ik)
                    for (var M in e.ik) {
                        var L = e.ik[M],
                            I = n.findIkConstraint(M);
                        (T = new t.IkConstraintTimeline(L.length)).ikConstraintIndex = n.ikConstraints.indexOf(I);
                        for (c = 0, p = 0; p < L.length; p++) {
                            d = L[p];
                            T.setFrame(c, d.time, this.getValue(d, "mix", 1), this.getValue(d, "bendPositive", !0) ? 1 : -1), this.readCurve(d, T, c), c++
                        }
                        s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.IkConstraintTimeline.ENTRIES])
                    }
                if (e.transform)
                    for (var M in e.transform) {
                        L = e.transform[M], I = n.findTransformConstraint(M);
                        (T = new t.TransformConstraintTimeline(L.length)).transformConstraintIndex = n.transformConstraints.indexOf(I);
                        for (c = 0, p = 0; p < L.length; p++) {
                            d = L[p];
                            T.setFrame(c, d.time, this.getValue(d, "rotateMix", 1), this.getValue(d, "translateMix", 1), this.getValue(d, "scaleMix", 1), this.getValue(d, "shearMix", 1)), this.readCurve(d, T, c), c++
                        }
                        s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.TransformConstraintTimeline.ENTRIES])
                    }
                if (e.paths)
                    for (var M in e.paths) {
                        L = e.paths[M];
                        var P = n.findPathConstraintIndex(M);
                        if (-1 == P) throw new Error("Path constraint not found: " + M);
                        var R = n.pathConstraints[P];
                        for (var u in L) {
                            h = L[u];
                            if ("position" === u || "spacing" === u) {
                                T = null, C = 1;
                                "spacing" === u ? (T = new t.PathConstraintSpacingTimeline(h.length), R.spacingMode != t.SpacingMode.Length && R.spacingMode != t.SpacingMode.Fixed || (C = o)) : (T = new t.PathConstraintPositionTimeline(h.length), R.positionMode == t.PositionMode.Fixed && (C = o)), T.pathConstraintIndex = P;
                                for (c = 0, p = 0; p < h.length; p++) {
                                    d = h[p];
                                    T.setFrame(c, d.time, this.getValue(d, u, 0) * C), this.readCurve(d, T, c), c++
                                }
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.PathConstraintPositionTimeline.ENTRIES])
                            } else if ("mix" === u) {
                                (T = new t.PathConstraintMixTimeline(h.length)).pathConstraintIndex = P;
                                for (c = 0, p = 0; p < h.length; p++) {
                                    d = h[p];
                                    T.setFrame(c, d.time, this.getValue(d, "rotateMix", 1), this.getValue(d, "translateMix", 1)), this.readCurve(d, T, c), c++
                                }
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.PathConstraintMixTimeline.ENTRIES])
                            }
                        }
                    }
                if (e.deform)
                    for (var _ in e.deform) {
                        var E = e.deform[_],
                            D = n.findSkin(_);
                        if (null == D) throw new Error("Skin not found: " + _);
                        for (var r in E) {
                            l = E[r];
                            if (-1 == (Y = n.findSlotIndex(r))) throw new Error("Slot not found: " + l.name);
                            for (var u in l) {
                                h = l[u];
                                var O = D.getAttachment(Y, u);
                                if (null == O) throw new Error("Deform attachment not found: " + h.name);
                                var w = null != O.bones,
                                    x = O.vertices,
                                    B = w ? x.length / 3 * 2 : x.length;
                                (T = new t.DeformTimeline(h.length)).slotIndex = Y, T.attachment = O;
                                c = 0;
                                for (var k = 0; k < h.length; k++) {
                                    d = h[k];
                                    var V = void 0,
                                        G = this.getValue(d, "vertices", null);
                                    if (null == G) V = w ? t.Utils.newFloatArray(B) : x;
                                    else {
                                        V = t.Utils.newFloatArray(B);
                                        var F = this.getValue(d, "offset", 0);
                                        if (t.Utils.arrayCopy(G, 0, V, F, G.length), 1 != o)
                                            for (var j = (p = F) + G.length; p < j; p++) V[p] *= o;
                                        if (!w)
                                            for (p = 0; p < B; p++) V[p] += x[p]
                                    }
                                    T.setFrame(c, d.time, V), this.readCurve(d, T, c), c++
                                }
                                s.push(T), a = Math.max(a, T.frames[T.getFrameCount() - 1])
                            }
                        }
                    }
                var U = e.drawOrder;
                if (null == U && (U = e.draworder), null != U) {
                    T = new t.DrawOrderTimeline(U.length);
                    var N = n.slots.length;
                    for (c = 0, k = 0; k < U.length; k++) {
                        var X = U[k],
                            W = null,
                            H = this.getValue(X, "offsets", null);
                        if (null != H) {
                            W = t.Utils.newArray(N, -1);
                            var z = t.Utils.newArray(N - H.length, 0),
                                J = 0,
                                q = 0;
                            for (p = 0; p < H.length; p++) {
                                var Y, Q = H[p];
                                if (-1 == (Y = n.findSlotIndex(Q.slot))) throw new Error("Slot not found: " + Q.slot);
                                for (; J != Y;) z[q++] = J++;
                                W[J + Q.offset] = J++
                            }
                            for (; J < N;) z[q++] = J++;
                            for (p = N - 1; p >= 0; p--) - 1 == W[p] && (W[p] = z[--q])
                        }
                        T.setFrame(c++, X.time, W)
                    }
                    s.push(T), a = Math.max(a, T.frames[T.getFrameCount() - 1])
                }
                if (e.events) {
                    for (T = new t.EventTimeline(e.events.length), c = 0, p = 0; p < e.events.length; p++) {
                        var Z = e.events[p],
                            K = n.findEvent(Z.name);
                        if (null == K) throw new Error("Event not found: " + Z.name);
                        var $ = new t.Event(t.Utils.toSinglePrecision(Z.time), K);
                        $.intValue = this.getValue(Z, "int", K.intValue), $.floatValue = this.getValue(Z, "float", K.floatValue), $.stringValue = this.getValue(Z, "string", K.stringValue), T.setFrame(c++, $)
                    }
                    s.push(T), a = Math.max(a, T.frames[T.getFrameCount() - 1])
                }
                if (isNaN(a)) throw new Error("Error while parsing animation, duration is NaN");
                n.animations.push(new t.Animation(i, s, a))
            }, e.prototype.readCurve = function (t, e, i) {
                if (t.curve)
                    if ("stepped" === t.curve) e.setStepped(i);
                    else if ("[object Array]" === Object.prototype.toString.call(t.curve)) {
                    var n = t.curve;
                    e.setCurve(i, n[0], n[1], n[2], n[3])
                }
            }, e.prototype.getValue = function (t, e, i) {
                return void 0 !== t[e] ? t[e] : i
            }, e.blendModeFromString = function (e) {
                if ("normal" == (e = e.toLowerCase())) return t.BlendMode.Normal;
                if ("additive" == e) return t.BlendMode.Additive;
                if ("multiply" == e) return t.BlendMode.Multiply;
                if ("screen" == e) return t.BlendMode.Screen;
                throw new Error("Unknown blend mode: " + e)
            }, e.positionModeFromString = function (e) {
                if ("fixed" == (e = e.toLowerCase())) return t.PositionMode.Fixed;
                if ("percent" == e) return t.PositionMode.Percent;
                throw new Error("Unknown position mode: " + e)
            }, e.spacingModeFromString = function (e) {
                if ("length" == (e = e.toLowerCase())) return t.SpacingMode.Length;
                if ("fixed" == e) return t.SpacingMode.Fixed;
                if ("percent" == e) return t.SpacingMode.Percent;
                throw new Error("Unknown position mode: " + e)
            }, e.rotateModeFromString = function (e) {
                if ("tangent" == (e = e.toLowerCase())) return t.RotateMode.Tangent;
                if ("chain" == e) return t.RotateMode.Chain;
                if ("chainscale" == e) return t.RotateMode.ChainScale;
                throw new Error("Unknown rotate mode: " + e)
            }, e.transformModeFromString = function (e) {
                if ("normal" == (e = e.toLowerCase())) return t.TransformMode.Normal;
                if ("onlytranslation" == e) return t.TransformMode.OnlyTranslation;
                if ("norotationorreflection" == e) return t.TransformMode.NoRotationOrReflection;
                if ("noscale" == e) return t.TransformMode.NoScale;
                if ("noscaleorreflection" == e) return t.TransformMode.NoScaleOrReflection;
                throw new Error("Unknown transform mode: " + e)
            }, e
        }();
        t.SkeletonJson = e;
        var i = function (t, e, i, n) {
            this.mesh = t, this.skin = e, this.slotIndex = i, this.parent = n
        }
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function t(t) {
                if (this.attachments = new Array, null == t) throw new Error("name cannot be null.");
                this.name = t
            }
            return t.prototype.addAttachment = function (t, e, i) {
                if (null == i) throw new Error("attachment cannot be null.");
                var n = this.attachments;
                t >= n.length && (n.length = t + 1), n[t] || (n[t] = {}), n[t][e] = i
            }, t.prototype.getAttachment = function (t, e) {
                var i = this.attachments[t];
                return i ? i[e] : null
            }, t.prototype.attachAll = function (t, e) {
                for (var i = 0, n = 0; n < t.slots.length; n++) {
                    var o = t.slots[n],
                        s = o.getAttachment();
                    if (s && i < e.attachments.length) {
                        var a = e.attachments[i];
                        for (var r in a) {
                            if (s == a[r]) {
                                var l = this.getAttachment(i, r);
                                null != l && o.setAttachment(l);
                                break
                            }
                        }
                    }
                    i++
                }
            }, t
        }();
        t.Skin = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(e, i) {
                if (this.attachmentVertices = new Array, null == e) throw new Error("data cannot be null.");
                if (null == i) throw new Error("bone cannot be null.");
                this.data = e, this.bone = i, this.color = new t.Color, this.darkColor = null == e.darkColor ? null : new t.Color, this.setToSetupPose(), this.blendMode = this.data.blendMode
            }
            return e.prototype.getAttachment = function () {
                return this.attachment
            }, e.prototype.setAttachment = function (t) {
                this.attachment != t && (this.attachment = t, this.attachmentTime = this.bone.skeleton.time, this.attachmentVertices.length = 0)
            }, e.prototype.setAttachmentTime = function (t) {
                this.attachmentTime = this.bone.skeleton.time - t
            }, e.prototype.getAttachmentTime = function () {
                return this.bone.skeleton.time - this.attachmentTime
            }, e.prototype.setToSetupPose = function () {
                this.color.setFromColor(this.data.color), null != this.darkColor && this.darkColor.setFromColor(this.data.darkColor), null == this.data.attachmentName ? this.attachment = null : (this.attachment = null, this.setAttachment(this.bone.skeleton.getAttachment(this.data.index, this.data.attachmentName)))
            }, e
        }();
        t.Slot = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (e, i, n) {
            if (this.color = new t.Color(1, 1, 1, 1), e < 0) throw new Error("index must be >= 0.");
            if (null == i) throw new Error("name cannot be null.");
            if (null == n) throw new Error("boneData cannot be null.");
            this.index = e, this.name = i, this.boneData = n
        };
        t.SlotData = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e, i, n = function () {
            function t(t) {
                this._image = t
            }
            return t.prototype.getImage = function () {
                return this._image
            }, t.filterFromString = function (t) {
                switch (t.toLowerCase()) {
                    case "nearest":
                        return e.Nearest;
                    case "linear":
                        return e.Linear;
                    case "mipmap":
                        return e.MipMap;
                    case "mipmapnearestnearest":
                        return e.MipMapNearestNearest;
                    case "mipmaplinearnearest":
                        return e.MipMapLinearNearest;
                    case "mipmapnearestlinear":
                        return e.MipMapNearestLinear;
                    case "mipmaplinearlinear":
                        return e.MipMapLinearLinear;
                    default:
                        throw new Error("Unknown texture filter " + t)
                }
            }, t.wrapFromString = function (t) {
                switch (t.toLowerCase()) {
                    case "mirroredtepeat":
                        return i.MirroredRepeat;
                    case "clamptoedge":
                        return i.ClampToEdge;
                    case "repeat":
                        return i.Repeat;
                    default:
                        throw new Error("Unknown texture wrap " + t)
                }
            }, t
        }();
        t.Texture = n,
            function (t) {
                t[t.Nearest = 9728] = "Nearest", t[t.Linear = 9729] = "Linear", t[t.MipMap = 9987] = "MipMap", t[t.MipMapNearestNearest = 9984] = "MipMapNearestNearest", t[t.MipMapLinearNearest = 9985] = "MipMapLinearNearest", t[t.MipMapNearestLinear = 9986] = "MipMapNearestLinear", t[t.MipMapLinearLinear = 9987] = "MipMapLinearLinear"
            }(e = t.TextureFilter || (t.TextureFilter = {})),
            function (t) {
                t[t.MirroredRepeat = 33648] = "MirroredRepeat", t[t.ClampToEdge = 33071] = "ClampToEdge", t[t.Repeat = 10497] = "Repeat"
            }(i = t.TextureWrap || (t.TextureWrap = {}));
        var o = function () {
            function t() {
                this.size = null
            }
            return Object.defineProperty(t.prototype, "width", {
                get: function () {
                    var t = this.texture;
                    return "3" == PIXI.VERSION[0] ? t.crop.width : t.trim ? t.trim.width : t.orig.width
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "height", {
                get: function () {
                    var t = this.texture;
                    return "3" == PIXI.VERSION[0] ? t.crop.height : t.trim ? t.trim.height : t.orig.height
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "u", {
                get: function () {
                    return this.texture._uvs.x0
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "v", {
                get: function () {
                    return this.texture._uvs.y0
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "u2", {
                get: function () {
                    return this.texture._uvs.x2
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "v2", {
                get: function () {
                    return this.texture._uvs.y2
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "offsetX", {
                get: function () {
                    var t = this.texture;
                    return t.trim ? t.trim.x : 0
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "offsetY", {
                get: function () {
                    return this.spineOffsetY
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "pixiOffsetY", {
                get: function () {
                    var t = this.texture;
                    return t.trim ? t.trim.y : 0
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "spineOffsetY", {
                get: function () {
                    var t = this.texture;
                    return this.originalHeight - this.height - (t.trim ? t.trim.y : 0)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "originalWidth", {
                get: function () {
                    var t = this.texture;
                    return "3" == PIXI.VERSION[0] ? t.trim ? t.trim.width : t.crop.width : t.orig.width
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "originalHeight", {
                get: function () {
                    var t = this.texture;
                    return "3" == PIXI.VERSION[0] ? t.trim ? t.trim.height : t.crop.height : t.orig.height
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "x", {
                get: function () {
                    return this.texture.frame.x
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "y", {
                get: function () {
                    return this.texture.frame.y
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t.prototype, "rotate", {
                get: function () {
                    return 0 !== this.texture.rotate
                },
                enumerable: !0,
                configurable: !0
            }), t
        }();
        t.TextureRegion = o
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(t, e, i) {
                this.pages = new Array, this.regions = new Array, t && this.addSpineAtlas(t, e, i)
            }
            return e.prototype.addTexture = function (e, i) {
                for (var s = this.pages, a = null, r = 0; r < s.length; r++)
                    if (s[r].baseTexture === i.baseTexture) {
                        a = s[r];
                        break
                    } if (null === a) {
                    (a = new n).name = "texturePage";
                    var l = i.baseTexture;
                    a.width = l.realWidth, a.height = l.realHeight, a.baseTexture = l, a.minFilter = a.magFilter = t.TextureFilter.Nearest, a.uWrap = t.TextureWrap.ClampToEdge, a.vWrap = t.TextureWrap.ClampToEdge, s.push(a)
                }
                var u = new o;
                return u.name = e, u.page = a, u.texture = i, u.index = -1, this.regions.push(u), u
            }, e.prototype.addTextureHash = function (t, e) {
                for (var i in t) t.hasOwnProperty(i) && this.addTexture(e && -1 !== i.indexOf(".") ? i.substr(0, i.lastIndexOf(".")) : i, t[i])
            }, e.prototype.addSpineAtlas = function (t, e, i) {
                return this.load(t, e, i)
            }, e.prototype.load = function (e, s, a) {
                var r = this;
                if (null == s) throw new Error("textureLoader cannot be null.");
                var l = new i(e),
                    u = new Array(4),
                    h = null,
                    c = function () {
                        for (;;) {
                            var e = l.readLine();
                            if (null == e) return a && a(r);
                            if (0 == (e = e.trim()).length) h = null;
                            else {
                                if (!h) {
                                    (h = new n).name = e, 2 == l.readTuple(u) && (h.width = parseInt(u[0]), h.height = parseInt(u[1]), l.readTuple(u)), l.readTuple(u), h.minFilter = t.Texture.filterFromString(u[0]), h.magFilter = t.Texture.filterFromString(u[1]);
                                    var i = l.readValue();
                                    h.uWrap = t.TextureWrap.ClampToEdge, h.vWrap = t.TextureWrap.ClampToEdge, "x" == i ? h.uWrap = t.TextureWrap.Repeat : "y" == i ? h.vWrap = t.TextureWrap.Repeat : "xy" == i && (h.uWrap = h.vWrap = t.TextureWrap.Repeat), s(e, (function (t) {
                                        h.baseTexture = t, t.hasLoaded || (t.width = h.width, t.height = h.height), r.pages.push(h), h.setFilters(), h.width && h.height || (h.width = t.realWidth, h.height = t.realHeight, !h.width || h.height), c()
                                    })), r.pages.push(h);
                                    break
                                }
                                var p = new o;
                                p.name = e, p.page = h;
                                var d = "true" == l.readValue() ? 6 : 0;
                                l.readTuple(u);
                                var m = parseInt(u[0]),
                                    S = parseInt(u[1]);
                                l.readTuple(u);
                                var g = parseInt(u[0]),
                                    y = parseInt(u[1]),
                                    f = h.baseTexture.resolution;
                                m /= f, S /= f, g /= f, y /= f;
                                var b = new PIXI.Rectangle(m, S, d ? y : g, d ? g : y);
                                4 == l.readTuple(u) && 4 == l.readTuple(u) && l.readTuple(u);
                                var T = parseInt(u[0]) / f,
                                    C = parseInt(u[1]) / f;
                                l.readTuple(u);
                                var A = parseInt(u[0]) / f,
                                    v = parseInt(u[1]) / f,
                                    M = new PIXI.Rectangle(0, 0, T, C),
                                    L = new PIXI.Rectangle(A, C - y - v, g, y);
                                if ("3" != PIXI.VERSION[0]) p.texture = new PIXI.Texture(p.page.baseTexture, b, M, L, d);
                                else {
                                    var I = new PIXI.Rectangle(m, S, g, y),
                                        P = I.clone();
                                    L.width = T, L.height = C, p.texture = new PIXI.Texture(p.page.baseTexture, I, P, L, d)
                                }
                                p.index = parseInt(l.readValue()), p.texture._updateUvs(), r.regions.push(p)
                            }
                        }
                    };
                c()
            }, e.prototype.findRegion = function (t) {
                for (var e = 0; e < this.regions.length; e++)
                    if (this.regions[e].name == t) return this.regions[e];
                return null
            }, e.prototype.dispose = function () {
                for (var t = 0; t < this.pages.length; t++) this.pages[t].baseTexture.dispose()
            }, e
        }();
        t.TextureAtlas = e;
        var i = function () {
                function t(t) {
                    this.index = 0, this.lines = t.split(/\r\n|\r|\n/)
                }
                return t.prototype.readLine = function () {
                    return this.index >= this.lines.length ? null : this.lines[this.index++]
                }, t.prototype.readValue = function () {
                    var t = this.readLine(),
                        e = t.indexOf(":");
                    if (-1 == e) throw new Error("Invalid line: " + t);
                    return t.substring(e + 1).trim()
                }, t.prototype.readTuple = function (t) {
                    var e = this.readLine(),
                        i = e.indexOf(":");
                    if (-1 == i) throw new Error("Invalid line: " + e);
                    for (var n = 0, o = i + 1; n < 3; n++) {
                        var s = e.indexOf(",", o);
                        if (-1 == s) break;
                        t[n] = e.substr(o, s - o).trim(), o = s + 1
                    }
                    return t[n] = e.substring(o).trim(), n + 1
                }, t
            }(),
            n = function () {
                function e() {}
                return e.prototype.setFilters = function () {
                    var e = this.baseTexture;
                    e.premultipliedAlpha = !1;
                    var i = this.minFilter;
                    i == t.TextureFilter.Linear ? e.scaleMode = PIXI.SCALE_MODES.LINEAR : this.minFilter == t.TextureFilter.Nearest ? e.scaleMode = PIXI.SCALE_MODES.NEAREST : (e.mipmap = !0, i == t.TextureFilter.MipMapNearestNearest ? e.scaleMode = PIXI.SCALE_MODES.NEAREST : e.scaleMode = PIXI.SCALE_MODES.LINEAR)
                }, e
            }();
        t.TextureAtlasPage = n;
        var o = function (t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return __extends(e, t), e
        }(t.TextureRegion);
        t.TextureAtlasRegion = o
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(e, i) {
                if (this.rotateMix = 0, this.translateMix = 0, this.scaleMix = 0, this.shearMix = 0, this.temp = new t.Vector2, null == e) throw new Error("data cannot be null.");
                if (null == i) throw new Error("skeleton cannot be null.");
                this.data = e, this.rotateMix = e.rotateMix, this.translateMix = e.translateMix, this.scaleMix = e.scaleMix, this.shearMix = e.shearMix, this.bones = new Array;
                for (var n = 0; n < e.bones.length; n++) this.bones.push(i.findBone(e.bones[n].name));
                this.target = i.findBone(e.target.name)
            }
            return e.prototype.apply = function () {
                this.update()
            }, e.prototype.update = function () {
                this.data.local ? this.data.relative ? this.applyRelativeLocal() : this.applyAbsoluteLocal() : this.data.relative ? this.applyRelativeWorld() : this.applyAbsoluteWorld()
            }, e.prototype.applyAbsoluteWorld = function () {
                for (var e = this.rotateMix, i = this.translateMix, n = this.scaleMix, o = this.shearMix, s = this.target, a = s.matrix, r = a.a, l = a.c, u = a.b, h = a.d, c = r * h - l * u > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad, p = this.data.offsetRotation * c, d = this.data.offsetShearY * c, m = this.bones, S = 0, g = m.length; S < g; S++) {
                    var y = m[S],
                        f = !1,
                        b = y.matrix;
                    if (0 != e) {
                        var T = b.a,
                            C = b.c,
                            A = b.b,
                            v = b.d;
                        (_ = Math.atan2(u, r) - Math.atan2(A, T) + p) > t.MathUtils.PI ? _ -= t.MathUtils.PI2 : _ < -t.MathUtils.PI && (_ += t.MathUtils.PI2), _ *= e;
                        var M = Math.cos(_),
                            L = Math.sin(_);
                        b.a = M * T - L * A, b.c = M * C - L * v, b.b = L * T + M * A, b.d = L * C + M * v, f = !0
                    }
                    if (0 != i) {
                        var I = this.temp;
                        s.localToWorld(I.set(this.data.offsetX, this.data.offsetY)), b.tx += (I.x - b.tx) * i, b.ty += (I.y - b.ty) * i, f = !0
                    }
                    if (n > 0) {
                        var P = Math.sqrt(b.a * b.a + b.b * b.b),
                            R = Math.sqrt(r * r + u * u);
                        P > 1e-5 && (P = (P + (R - P + this.data.offsetScaleX) * n) / P), b.a *= P, b.b *= P, P = Math.sqrt(b.c * b.c + b.d * b.d), R = Math.sqrt(l * l + h * h), P > 1e-5 && (P = (P + (R - P + this.data.offsetScaleY) * n) / P), b.c *= P, b.d *= P, f = !0
                    }
                    if (o > 0) {
                        C = b.c, v = b.d;
                        var _, E = Math.atan2(v, C);
                        (_ = Math.atan2(h, l) - Math.atan2(u, r) - (E - Math.atan2(b.b, b.a))) > t.MathUtils.PI ? _ -= t.MathUtils.PI2 : _ < -t.MathUtils.PI && (_ += t.MathUtils.PI2), _ = E + (_ + d) * o;
                        P = Math.sqrt(C * C + v * v);
                        b.c = Math.cos(_) * P, b.d = Math.sin(_) * P, f = !0
                    }
                    f && (y.appliedValid = !1)
                }
            }, e.prototype.applyRelativeWorld = function () {
                for (var e = this.rotateMix, i = this.translateMix, n = this.scaleMix, o = this.shearMix, s = this.target, a = s.matrix, r = a.a, l = a.c, u = a.b, h = a.d, c = r * h - l * u > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad, p = this.data.offsetRotation * c, d = this.data.offsetShearY * c, m = this.bones, S = 0, g = m.length; S < g; S++) {
                    var y = m[S],
                        f = !1,
                        b = y.matrix;
                    if (0 != e) {
                        var T = b.a,
                            C = b.c,
                            A = b.b,
                            v = b.d;
                        (R = Math.atan2(u, r) + p) > t.MathUtils.PI ? R -= t.MathUtils.PI2 : R < -t.MathUtils.PI && (R += t.MathUtils.PI2), R *= e;
                        var M = Math.cos(R),
                            L = Math.sin(R);
                        b.a = M * T - L * A, b.c = M * C - L * v, b.b = L * T + M * A, b.d = L * C + M * v, f = !0
                    }
                    if (0 != i) {
                        var I = this.temp;
                        s.localToWorld(I.set(this.data.offsetX, this.data.offsetY)), b.tx += I.x * i, b.ty += I.y * i, f = !0
                    }
                    if (n > 0) {
                        var P = (Math.sqrt(r * r + u * u) - 1 + this.data.offsetScaleX) * n + 1;
                        b.a *= P, b.b *= P, P = (Math.sqrt(l * l + h * h) - 1 + this.data.offsetScaleY) * n + 1, b.c *= P, b.d *= P, f = !0
                    }
                    if (o > 0) {
                        var R;
                        (R = Math.atan2(h, l) - Math.atan2(u, r)) > t.MathUtils.PI ? R -= t.MathUtils.PI2 : R < -t.MathUtils.PI && (R += t.MathUtils.PI2);
                        C = b.c, v = b.d;
                        R = Math.atan2(v, C) + (R - t.MathUtils.PI / 2 + d) * o;
                        P = Math.sqrt(C * C + v * v);
                        b.c = Math.cos(R) * P, b.d = Math.sin(R) * P, f = !0
                    }
                    f && (y.appliedValid = !1)
                }
            }, e.prototype.applyAbsoluteLocal = function () {
                var t = this.rotateMix,
                    e = this.translateMix,
                    i = this.scaleMix,
                    n = this.shearMix,
                    o = this.target;
                o.appliedValid || o.updateAppliedTransform();
                for (var s = this.bones, a = 0, r = s.length; a < r; a++) {
                    var l = s[a];
                    l.appliedValid || l.updateAppliedTransform();
                    var u = l.arotation;
                    if (0 != t) {
                        var h = o.arotation - u + this.data.offsetRotation;
                        u += (h -= 360 * (16384 - (16384.499999999996 - h / 360 | 0))) * t
                    }
                    var c = l.ax,
                        p = l.ay;
                    0 != e && (c += (o.ax - c + this.data.offsetX) * e, p += (o.ay - p + this.data.offsetY) * e);
                    var d = l.ascaleX,
                        m = l.ascaleY;
                    i > 0 && (d > 1e-5 && (d = (d + (o.ascaleX - d + this.data.offsetScaleX) * i) / d), m > 1e-5 && (m = (m + (o.ascaleY - m + this.data.offsetScaleY) * i) / m));
                    var S = l.ashearY;
                    if (n > 0) {
                        h = o.ashearY - S + this.data.offsetShearY;
                        h -= 360 * (16384 - (16384.499999999996 - h / 360 | 0)), l.shearY += h * n
                    }
                    l.updateWorldTransformWith(c, p, u, d, m, l.ashearX, S)
                }
            }, e.prototype.applyRelativeLocal = function () {
                var t = this.rotateMix,
                    e = this.translateMix,
                    i = this.scaleMix,
                    n = this.shearMix,
                    o = this.target;
                o.appliedValid || o.updateAppliedTransform();
                for (var s = this.bones, a = 0, r = s.length; a < r; a++) {
                    var l = s[a];
                    l.appliedValid || l.updateAppliedTransform();
                    var u = l.arotation;
                    0 != t && (u += (o.arotation + this.data.offsetRotation) * t);
                    var h = l.ax,
                        c = l.ay;
                    0 != e && (h += (o.ax + this.data.offsetX) * e, c += (o.ay + this.data.offsetY) * e);
                    var p = l.ascaleX,
                        d = l.ascaleY;
                    i > 0 && (p > 1e-5 && (p *= (o.ascaleX - 1 + this.data.offsetScaleX) * i + 1), d > 1e-5 && (d *= (o.ascaleY - 1 + this.data.offsetScaleY) * i + 1));
                    var m = l.ashearY;
                    n > 0 && (m += (o.ashearY + this.data.offsetShearY) * n), l.updateWorldTransformWith(h, c, u, p, d, l.ashearX, m)
                }
            }, e.prototype.getOrder = function () {
                return this.data.order
            }, e
        }();
        t.TransformConstraint = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (t) {
            if (this.order = 0, this.bones = new Array, this.rotateMix = 0, this.translateMix = 0, this.scaleMix = 0, this.shearMix = 0, this.offsetRotation = 0, this.offsetX = 0, this.offsetY = 0, this.offsetScaleX = 0, this.offsetScaleY = 0, this.offsetShearY = 0, this.relative = !1, this.local = !1, null == t) throw new Error("name cannot be null.");
            this.name = t
        };
        t.TransformConstraintData = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e() {
                this.convexPolygons = new Array, this.convexPolygonsIndices = new Array, this.indicesArray = new Array, this.isConcaveArray = new Array, this.triangles = new Array, this.polygonPool = new t.Pool((function () {
                    return new Array
                })), this.polygonIndicesPool = new t.Pool((function () {
                    return new Array
                }))
            }
            return e.prototype.triangulate = function (t) {
                var i = t,
                    n = t.length >> 1,
                    o = this.indicesArray;
                o.length = 0;
                for (var s = 0; s < n; s++) o[s] = s;
                var a = this.isConcaveArray;
                a.length = 0;
                s = 0;
                for (var r = n; s < r; ++s) a[s] = e.isConcave(s, n, i, o);
                var l = this.triangles;
                for (l.length = 0; n > 3;) {
                    for (var u = n - 1, h = (s = 0, 1);;) {
                        t: if (!a[s]) {
                            for (var c = o[u] << 1, p = o[s] << 1, d = o[h] << 1, m = i[c], S = i[c + 1], g = i[p], y = i[p + 1], f = i[d], b = i[d + 1], T = (h + 1) % n; T != u; T = (T + 1) % n)
                                if (a[T]) {
                                    var C = o[T] << 1,
                                        A = i[C],
                                        v = i[C + 1];
                                    if (e.positiveArea(f, b, m, S, A, v) && e.positiveArea(m, S, g, y, A, v) && e.positiveArea(g, y, f, b, A, v)) break t
                                } break
                        }if (0 == h) {
                            do {
                                if (!a[s]) break;
                                s--
                            } while (s > 0);
                            break
                        }
                        u = s,
                        s = h,
                        h = (h + 1) % n
                    }
                    l.push(o[(n + s - 1) % n]), l.push(o[s]), l.push(o[(s + 1) % n]), o.splice(s, 1), a.splice(s, 1);
                    var M = (--n + s - 1) % n,
                        L = s == n ? 0 : s;
                    a[M] = e.isConcave(M, n, i, o), a[L] = e.isConcave(L, n, i, o)
                }
                return 3 == n && (l.push(o[2]), l.push(o[0]), l.push(o[1])), l
            }, e.prototype.decompose = function (t, i) {
                var n = t,
                    o = this.convexPolygons;
                this.polygonPool.freeAll(o), o.length = 0;
                var s = this.convexPolygonsIndices;
                this.polygonIndicesPool.freeAll(s), s.length = 0;
                var a = this.polygonIndicesPool.obtain();
                a.length = 0;
                var r = this.polygonPool.obtain();
                r.length = 0;
                for (var l = -1, u = 0, h = 0, c = i.length; h < c; h += 3) {
                    var p = i[h] << 1,
                        d = i[h + 1] << 1,
                        m = i[h + 2] << 1,
                        S = n[p],
                        g = n[p + 1],
                        y = n[d],
                        f = n[d + 1],
                        b = n[m],
                        T = n[m + 1],
                        C = !1;
                    if (l == p) {
                        var A = r.length - 4,
                            v = e.winding(r[A], r[A + 1], r[A + 2], r[A + 3], b, T),
                            M = e.winding(b, T, r[0], r[1], r[2], r[3]);
                        v == u && M == u && (r.push(b), r.push(T), a.push(m), C = !0)
                    }
                    C || (r.length > 0 ? (o.push(r), s.push(a)) : (this.polygonPool.free(r), this.polygonIndicesPool.free(a)), (r = this.polygonPool.obtain()).length = 0, r.push(S), r.push(g), r.push(y), r.push(f), r.push(b), r.push(T), (a = this.polygonIndicesPool.obtain()).length = 0, a.push(p), a.push(d), a.push(m), u = e.winding(S, g, y, f, b, T), l = p)
                }
                r.length > 0 && (o.push(r), s.push(a));
                for (h = 0, c = o.length; h < c; h++)
                    if (0 != (a = s[h]).length)
                        for (var L = a[0], I = a[a.length - 1], P = (r = o[h])[A = r.length - 4], R = r[A + 1], _ = r[A + 2], E = r[A + 3], D = r[0], O = r[1], w = r[2], x = r[3], B = e.winding(P, R, _, E, D, O), k = 0; k < c; k++)
                            if (k != h) {
                                var V = s[k];
                                if (3 == V.length) {
                                    var G = V[0],
                                        F = V[1],
                                        j = V[2],
                                        U = o[k];
                                    b = U[U.length - 2], T = U[U.length - 1];
                                    if (G == L && F == I) {
                                        v = e.winding(P, R, _, E, b, T), M = e.winding(b, T, D, O, w, x);
                                        v == B && M == B && (U.length = 0, V.length = 0, r.push(b), r.push(T), a.push(j), P = _, R = E, _ = b, E = T, k = 0)
                                    }
                                }
                            } for (h = o.length - 1; h >= 0; h--) 0 == (r = o[h]).length && (o.splice(h, 1), this.polygonPool.free(r), a = s[h], s.splice(h, 1), this.polygonIndicesPool.free(a));
                return o
            }, e.isConcave = function (t, e, i, n) {
                var o = n[(e + t - 1) % e] << 1,
                    s = n[t] << 1,
                    a = n[(t + 1) % e] << 1;
                return !this.positiveArea(i[o], i[o + 1], i[s], i[s + 1], i[a], i[a + 1])
            }, e.positiveArea = function (t, e, i, n, o, s) {
                return t * (s - n) + i * (e - s) + o * (n - e) >= 0
            }, e.winding = function (t, e, i, n, o, s) {
                var a = i - t,
                    r = n - e;
                return o * r - s * a + a * e - t * r >= 0 ? 1 : -1
            }, e
        }();
        t.Triangulator = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function t() {
                this.array = new Array
            }
            return t.prototype.add = function (t) {
                var e = this.contains(t);
                return this.array[0 | t] = 0 | t, !e
            }, t.prototype.contains = function (t) {
                return null != this.array[0 | t]
            }, t.prototype.remove = function (t) {
                this.array[0 | t] = void 0
            }, t.prototype.clear = function () {
                this.array.length = 0
            }, t
        }();
        t.IntSet = e;
        var i = function () {
            function t(t, e, i, n) {
                void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.r = t, this.g = e, this.b = i, this.a = n
            }
            return t.prototype.set = function (t, e, i, n) {
                return this.r = t, this.g = e, this.b = i, this.a = n, this.clamp(), this
            }, t.prototype.setFromColor = function (t) {
                return this.r = t.r, this.g = t.g, this.b = t.b, this.a = t.a, this
            }, t.prototype.setFromString = function (t) {
                return t = "#" == t.charAt(0) ? t.substr(1) : t, this.r = parseInt(t.substr(0, 2), 16) / 255, this.g = parseInt(t.substr(2, 2), 16) / 255, this.b = parseInt(t.substr(4, 2), 16) / 255, this.a = (8 != t.length ? 255 : parseInt(t.substr(6, 2), 16)) / 255, this
            }, t.prototype.add = function (t, e, i, n) {
                return this.r += t, this.g += e, this.b += i, this.a += n, this.clamp(), this
            }, t.prototype.clamp = function () {
                return this.r < 0 ? this.r = 0 : this.r > 1 && (this.r = 1), this.g < 0 ? this.g = 0 : this.g > 1 && (this.g = 1), this.b < 0 ? this.b = 0 : this.b > 1 && (this.b = 1), this.a < 0 ? this.a = 0 : this.a > 1 && (this.a = 1), this
            }, t.WHITE = new t(1, 1, 1, 1), t.RED = new t(1, 0, 0, 1), t.GREEN = new t(0, 1, 0, 1), t.BLUE = new t(0, 0, 1, 1), t.MAGENTA = new t(1, 0, 1, 1), t
        }();
        t.Color = i;
        var n = function () {
            function t() {}
            return t.clamp = function (t, e, i) {
                return t < e ? e : t > i ? i : t
            }, t.cosDeg = function (e) {
                return Math.cos(e * t.degRad)
            }, t.sinDeg = function (e) {
                return Math.sin(e * t.degRad)
            }, t.signum = function (t) {
                return t > 0 ? 1 : t < 0 ? -1 : 0
            }, t.toInt = function (t) {
                return t > 0 ? Math.floor(t) : Math.ceil(t)
            }, t.cbrt = function (t) {
                var e = Math.pow(Math.abs(t), 1 / 3);
                return t < 0 ? -e : e
            }, t.randomTriangular = function (e, i) {
                return t.randomTriangularWith(e, i, .5 * (e + i))
            }, t.randomTriangularWith = function (t, e, i) {
                var n = Math.random(),
                    o = e - t;
                return n <= (i - t) / o ? t + Math.sqrt(n * o * (i - t)) : e - Math.sqrt((1 - n) * o * (e - i))
            }, t.PI = 3.1415927, t.PI2 = 2 * t.PI, t.radiansToDegrees = 180 / t.PI, t.radDeg = t.radiansToDegrees, t.degreesToRadians = t.PI / 180, t.degRad = t.degreesToRadians, t
        }();
        t.MathUtils = n;
        var o = function () {
            function t() {}
            return t.prototype.apply = function (t, e, i) {
                return t + (e - t) * this.applyInternal(i)
            }, t
        }();
        t.Interpolation = o;
        var s = function (t) {
            function e(e) {
                var i = t.call(this) || this;
                return i.power = 2, i.power = e, i
            }
            return __extends(e, t), e.prototype.applyInternal = function (t) {
                return t <= .5 ? Math.pow(2 * t, this.power) / 2 : Math.pow(2 * (t - 1), this.power) / (this.power % 2 == 0 ? -2 : 2) + 1
            }, e
        }(o);
        t.Pow = s;
        var a = function (t) {
            function e(e) {
                return t.call(this, e) || this
            }
            return __extends(e, t), e.prototype.applyInternal = function (t) {
                return Math.pow(t - 1, this.power) * (this.power % 2 == 0 ? -1 : 1) + 1
            }, e
        }(s);
        t.PowOut = a;
        var r = function () {
            function t() {}
            return t.arrayCopy = function (t, e, i, n, o) {
                for (var s = e, a = n; s < e + o; s++, a++) i[a] = t[s]
            }, t.setArraySize = function (t, e, i) {
                void 0 === i && (i = 0);
                var n = t.length;
                if (n == e) return t;
                if (t.length = e, n < e)
                    for (var o = n; o < e; o++) t[o] = i;
                return t
            }, t.ensureArrayCapacity = function (e, i, n) {
                return void 0 === n && (n = 0), e.length >= i ? e : t.setArraySize(e, i, n)
            }, t.newArray = function (t, e) {
                for (var i = new Array(t), n = 0; n < t; n++) i[n] = e;
                return i
            }, t.newFloatArray = function (e) {
                if (t.SUPPORTS_TYPED_ARRAYS) return new Float32Array(e);
                for (var i = new Array(e), n = 0; n < i.length; n++) i[n] = 0;
                return i
            }, t.newShortArray = function (e) {
                if (t.SUPPORTS_TYPED_ARRAYS) return new Int16Array(e);
                for (var i = new Array(e), n = 0; n < i.length; n++) i[n] = 0;
                return i
            }, t.toFloatArray = function (e) {
                return t.SUPPORTS_TYPED_ARRAYS ? new Float32Array(e) : e
            }, t.toSinglePrecision = function (e) {
                return t.SUPPORTS_TYPED_ARRAYS ? Math.fround(e) : e
            }, t.webkit602BugfixHelper = function (t, e) {}, t.SUPPORTS_TYPED_ARRAYS = "undefined" != typeof Float32Array, t
        }();
        t.Utils = r;
        var l = function () {
            function t() {}
            return t.logBones = function (t) {
                for (var e = 0; e < t.bones.length; e++) t.bones[e].matrix
            }, t
        }();
        t.DebugUtils = l;
        var u = function () {
            function t(t) {
                this.items = new Array, this.instantiator = t
            }
            return t.prototype.obtain = function () {
                return this.items.length > 0 ? this.items.pop() : this.instantiator()
            }, t.prototype.free = function (t) {
                t.reset && t.reset(), this.items.push(t)
            }, t.prototype.freeAll = function (t) {
                for (var e = 0; e < t.length; e++) t[e].reset && t[e].reset(), this.items[e] = t[e]
            }, t.prototype.clear = function () {
                this.items.length = 0
            }, t
        }();
        t.Pool = u;
        var h = function () {
            function t(t, e) {
                void 0 === t && (t = 0), void 0 === e && (e = 0), this.x = t, this.y = e
            }
            return t.prototype.set = function (t, e) {
                return this.x = t, this.y = e, this
            }, t.prototype.length = function () {
                var t = this.x,
                    e = this.y;
                return Math.sqrt(t * t + e * e)
            }, t.prototype.normalize = function () {
                var t = this.length();
                return 0 != t && (this.x /= t, this.y /= t), this
            }, t
        }();
        t.Vector2 = h;
        var c = function () {
            function t() {
                this.maxDelta = .064, this.framesPerSecond = 0, this.delta = 0, this.totalTime = 0, this.lastTime = Date.now() / 1e3, this.frameCount = 0, this.frameTime = 0
            }
            return t.prototype.update = function () {
                var t = Date.now() / 1e3;
                this.delta = t - this.lastTime, this.frameTime += this.delta, this.totalTime += this.delta, this.delta > this.maxDelta && (this.delta = this.maxDelta), this.lastTime = t, this.frameCount++, this.frameTime > 1 && (this.framesPerSecond = this.frameCount / this.frameTime, this.frameTime = 0, this.frameCount = 0)
            }, t
        }();
        t.TimeKeeper = c;
        var p = function () {
            function t(t) {
                void 0 === t && (t = 32), this.addedValues = 0, this.lastValue = 0, this.mean = 0, this.dirty = !0, this.values = new Array(t)
            }
            return t.prototype.hasEnoughData = function () {
                return this.addedValues >= this.values.length
            }, t.prototype.addValue = function (t) {
                this.addedValues < this.values.length && this.addedValues++, this.values[this.lastValue++] = t, this.lastValue > this.values.length - 1 && (this.lastValue = 0), this.dirty = !0
            }, t.prototype.getMean = function () {
                if (this.hasEnoughData()) {
                    if (this.dirty) {
                        for (var t = 0, e = 0; e < this.values.length; e++) t += this.values[e];
                        this.mean = t / this.values.length, this.dirty = !1
                    }
                    return this.mean
                }
                return 0
            }, t
        }();
        t.WindowedMean = p
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (t) {
            if (null == t) throw new Error("name cannot be null.");
            this.name = t
        };
        t.Attachment = e;
        var i = function (t) {
            function e(i) {
                var n = t.call(this, i) || this;
                return n.id = (65535 & e.nextID++) << 11, n.worldVerticesLength = 0, n
            }
            return __extends(e, t), e.prototype.computeWorldVerticesOld = function (t, e) {
                this.computeWorldVertices(t, 0, this.worldVerticesLength, e, 0, 2)
            }, e.prototype.computeWorldVertices = function (t, e, i, n, o, s) {
                i = o + (i >> 1) * s;
                var a = t.bone.skeleton,
                    r = t.attachmentVertices,
                    l = this.vertices,
                    u = this.bones;
                if (null != u) {
                    for (var h = 0, c = 0, p = 0; p < e; p += 2) {
                        h += (g = u[h]) + 1, c += g
                    }
                    var d = a.bones;
                    if (0 == r.length)
                        for (R = o, M = 3 * c; R < i; R += s) {
                            var m = 0,
                                S = 0,
                                g = u[h++];
                            for (g += h; h < g; h++, M += 3) {
                                T = d[u[h]].matrix, _ = l[M], E = l[M + 1];
                                var y = l[M + 2];
                                m += (_ * T.a + E * T.c + T.tx) * y, S += (_ * T.b + E * T.d + T.ty) * y
                            }
                            n[R] = m, n[R + 1] = S
                        } else
                            for (var f = r, b = (R = o, M = 3 * c, c << 1); R < i; R += s) {
                                m = 0, S = 0, g = u[h++];
                                for (g += h; h < g; h++, M += 3, b += 2) {
                                    T = d[u[h]].matrix, _ = l[M] + f[b], E = l[M + 1] + f[b + 1], y = l[M + 2];
                                    m += (_ * T.a + E * T.c + T.tx) * y, S += (_ * T.b + E * T.d + T.ty) * y
                                }
                                n[R] = m, n[R + 1] = S
                            }
                } else {
                    r.length > 0 && (l = r);
                    for (var T, C = (T = t.bone.matrix).tx, A = T.ty, v = T.a, M = T.c, L = T.b, I = T.d, P = e, R = o; R < i; P += 2, R += s) {
                        var _ = l[P],
                            E = l[P + 1];
                        n[R] = _ * v + E * M + C, n[R + 1] = _ * L + E * I + A
                    }
                }
            }, e.prototype.applyDeform = function (t) {
                return this == t
            }, e.nextID = 0, e
        }(e);
        t.VertexAttachment = i
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        ! function (t) {
            t[t.Region = 0] = "Region", t[t.BoundingBox = 1] = "BoundingBox", t[t.Mesh = 2] = "Mesh", t[t.LinkedMesh = 3] = "LinkedMesh", t[t.Path = 4] = "Path", t[t.Point = 5] = "Point"
        }(t.AttachmentType || (t.AttachmentType = {}))
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (e) {
            function i(i) {
                var n = e.call(this, i) || this;
                return n.color = new t.Color(1, 1, 1, 1), n
            }
            return __extends(i, e), i
        }(t.VertexAttachment);
        t.BoundingBoxAttachment = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (e) {
            function i(i) {
                var n = e.call(this, i) || this;
                return n.color = new t.Color(.2275, .2275, .8078, 1), n
            }
            return __extends(i, e), i
        }(t.VertexAttachment);
        t.ClippingAttachment = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (e) {
            function i(i) {
                var n = e.call(this, i) || this;
                return n.color = new t.Color(1, 1, 1, 1), n.inheritDeform = !1, n.tempColor = new t.Color(0, 0, 0, 0), n
            }
            return __extends(i, e), i.prototype.updateUVs = function (e, i) {
                var n = this.regionUVs.length;
                if (i && i.length == n || (i = t.Utils.newFloatArray(n)), null != e) {
                    for (var o = e.texture._uvs, s = e.width, a = e.height, r = e.originalWidth, l = e.originalHeight, u = e.offsetX, h = e.pixiOffsetY, c = 0; c < n; c += 2) {
                        var p = this.regionUVs[c],
                            d = this.regionUVs[c + 1];
                        p = (p * r - u) / s, d = (d * l - h) / a, i[c] = (o.x0 * (1 - p) + o.x1 * p) * (1 - d) + (o.x3 * (1 - p) + o.x2 * p) * d, i[c + 1] = (o.y0 * (1 - p) + o.y1 * p) * (1 - d) + (o.y3 * (1 - p) + o.y2 * p) * d
                    }
                    return i
                }
            }, i.prototype.applyDeform = function (t) {
                return this == t || this.inheritDeform && this.parentMesh == t
            }, i.prototype.getParentMesh = function () {
                return this.parentMesh
            }, i.prototype.setParentMesh = function (t) {
                this.parentMesh = t, null != t && (this.bones = t.bones, this.vertices = t.vertices, this.worldVerticesLength = t.worldVerticesLength, this.regionUVs = t.regionUVs, this.triangles = t.triangles, this.hullLength = t.hullLength, this.worldVerticesLength = t.worldVerticesLength)
            }, i
        }(t.VertexAttachment);
        t.MeshAttachment = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (e) {
            function i(i) {
                var n = e.call(this, i) || this;
                return n.closed = !1, n.constantSpeed = !1, n.color = new t.Color(1, 1, 1, 1), n
            }
            return __extends(i, e), i
        }(t.VertexAttachment);
        t.PathAttachment = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (e) {
            function i(i) {
                var n = e.call(this, i) || this;
                return n.color = new t.Color(.38, .94, 0, 1), n
            }
            return __extends(i, e), i.prototype.computeWorldPosition = function (t, e) {
                var i = t.matrix;
                return e.x = this.x * i.a + this.y * i.c + t.worldX, e.y = this.x * i.b + this.y * i.d + t.worldY, e
            }, i.prototype.computeWorldRotation = function (e) {
                var i = e.matrix,
                    n = t.MathUtils.cosDeg(this.rotation),
                    o = t.MathUtils.sinDeg(this.rotation),
                    s = n * i.a + o * i.c,
                    a = n * i.b + o * i.d;
                return Math.atan2(a, s) * t.MathUtils.radDeg
            }, i
        }(t.VertexAttachment);
        t.PointAttachment = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function (e) {
            function i(i) {
                var n = e.call(this, i) || this;
                return n.x = 0, n.y = 0, n.scaleX = 1, n.scaleY = 1, n.rotation = 0, n.width = 0, n.height = 0, n.color = new t.Color(1, 1, 1, 1), n.offset = t.Utils.newFloatArray(8), n.uvs = t.Utils.newFloatArray(8), n.tempColor = new t.Color(1, 1, 1, 1), n
            }
            return __extends(i, e), i.prototype.updateOffset = function () {
                var t = this.width / this.region.originalWidth * this.scaleX,
                    e = this.height / this.region.originalHeight * this.scaleY,
                    n = -this.width / 2 * this.scaleX + this.region.offsetX * t,
                    o = -this.height / 2 * this.scaleY + this.region.offsetY * e,
                    s = n + this.region.width * t,
                    a = o + this.region.height * e,
                    r = this.rotation * Math.PI / 180,
                    l = Math.cos(r),
                    u = Math.sin(r),
                    h = n * l + this.x,
                    c = n * u,
                    p = o * l + this.y,
                    d = o * u,
                    m = s * l + this.x,
                    S = s * u,
                    g = a * l + this.y,
                    y = a * u,
                    f = this.offset;
                f[i.OX1] = h - d, f[i.OY1] = p + c, f[i.OX2] = h - y, f[i.OY2] = g + c, f[i.OX3] = m - y, f[i.OY3] = g + S, f[i.OX4] = m - d, f[i.OY4] = p + S
            }, i.prototype.setRegion = function (t) {
                this.region = t;
                var e = this.uvs;
                t.rotate ? (e[2] = t.u, e[3] = t.v2, e[4] = t.u, e[5] = t.v, e[6] = t.u2, e[7] = t.v, e[0] = t.u2, e[1] = t.v2) : (e[0] = t.u, e[1] = t.v2, e[2] = t.u, e[3] = t.v, e[4] = t.u2, e[5] = t.v, e[6] = t.u2, e[7] = t.v2)
            }, i.prototype.computeWorldVertices = function (t, e, n, o) {
                var s = this.offset,
                    a = t.matrix,
                    r = a.tx,
                    l = a.ty,
                    u = a.a,
                    h = a.c,
                    c = a.b,
                    p = a.d,
                    d = 0,
                    m = 0;
                d = s[i.OX1], m = s[i.OY1], e[n] = d * u + m * h + r, e[n + 1] = d * c + m * p + l, n += o, d = s[i.OX2], m = s[i.OY2], e[n] = d * u + m * h + r, e[n + 1] = d * c + m * p + l, n += o, d = s[i.OX3], m = s[i.OY3], e[n] = d * u + m * h + r, e[n + 1] = d * c + m * p + l, n += o, d = s[i.OX4], m = s[i.OY4], e[n] = d * u + m * h + r, e[n + 1] = d * c + m * p + l
            }, i.OX1 = 0, i.OY1 = 1, i.OX2 = 2, i.OY2 = 3, i.OX3 = 4, i.OY3 = 5, i.OX4 = 6, i.OY4 = 7, i.X1 = 0, i.Y1 = 1, i.C1R = 2, i.C1G = 3, i.C1B = 4, i.C1A = 5, i.U1 = 6, i.V1 = 7, i.X2 = 8, i.Y2 = 9, i.C2R = 10, i.C2G = 11, i.C2B = 12, i.C2A = 13, i.U2 = 14, i.V2 = 15, i.X3 = 16, i.Y3 = 17, i.C3R = 18, i.C3G = 19, i.C3B = 20, i.C3A = 21, i.U3 = 22, i.V3 = 23, i.X4 = 24, i.Y4 = 25, i.C4R = 26, i.C4G = 27, i.C4B = 28, i.C4A = 29, i.U4 = 30, i.V4 = 31, i
        }(t.Attachment);
        t.RegionAttachment = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(t, e) {
                this.jitterX = 0, this.jitterY = 0, this.jitterX = t, this.jitterY = e
            }
            return e.prototype.begin = function (t) {}, e.prototype.transform = function (e, i, n, o) {
                e.x += t.MathUtils.randomTriangular(-this.jitterX, this.jitterY), e.y += t.MathUtils.randomTriangular(-this.jitterX, this.jitterY)
            }, e.prototype.end = function () {}, e
        }();
        t.JitterEffect = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function (t) {
    ! function (t) {
        var e = function () {
            function e(t) {
                this.centerX = 0, this.centerY = 0, this.radius = 0, this.angle = 0, this.worldX = 0, this.worldY = 0, this.radius = t
            }
            return e.prototype.begin = function (t) {
                this.worldX = t.x + this.centerX, this.worldY = t.y + this.centerY
            }, e.prototype.transform = function (i, n, o, s) {
                var a = this.angle * t.MathUtils.degreesToRadians,
                    r = i.x - this.worldX,
                    l = i.y - this.worldY,
                    u = Math.sqrt(r * r + l * l);
                if (u < this.radius) {
                    var h = e.interpolation.apply(0, a, (this.radius - u) / this.radius),
                        c = Math.cos(h),
                        p = Math.sin(h);
                    i.x = c * r - p * l + this.worldX, i.y = p * r + c * l + this.worldY
                }
            }, e.prototype.end = function () {}, e.interpolation = new t.PowOut(2), e
        }();
        t.SwirlEffect = e
    }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})),
function () {
    var t;
    Math.fround || (Math.fround = Math.fround = (t = new Float32Array(1), function (e) {
        return t[0] = e, t[0]
    }))
}(),
function (t) {
    t.core.Bone.yDown = !0;
    var e = [0, 0, 0],
        i = function (t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.region = null, e
            }
            return __extends(e, t), e
        }(PIXI.Sprite);
    t.SpineSprite = i;
    var n = function (t) {
        function e(e, i, n, o, s) {
            return t.call(this, e, i, n, o, s) || this
        }
        return __extends(e, t), e
    }(PIXI.mesh.Mesh);
    t.SpineMesh = n;
    var o = function (o) {
        function a(e) {
            var i = o.call(this) || this;
            if (!e) throw new Error("The spineData param is required.");
            if ("string" == typeof e) throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');
            i.spineData = e, i.skeleton = new t.core.Skeleton(e), i.skeleton.updateWorldTransform(), i.stateData = new t.core.AnimationStateData(e), i.state = new t.core.AnimationState(i.stateData), i.slotContainers = [], i.tempClipContainers = [];
            for (var n = 0, s = i.skeleton.slots.length; n < s; n++) {
                var a = i.skeleton.slots[n],
                    r = a.attachment,
                    l = i.newContainer();
                if (i.slotContainers.push(l), i.addChild(l), i.tempClipContainers.push(null), r instanceof t.core.RegionAttachment) {
                    var u = r.region.name,
                        h = i.createSprite(a, r, u);
                    a.currentSprite = h, a.currentSpriteName = u, l.addChild(h)
                } else if (r instanceof t.core.MeshAttachment) {
                    var c = i.createMesh(a, r);
                    a.currentMesh = c, a.currentMeshName = r.name, l.addChild(c)
                } else {
                    if (!(r instanceof t.core.ClippingAttachment)) continue;
                    i.createGraphics(a, r), l.addChild(a.clippingContainer), l.addChild(a.currentGraphics)
                }
            }
            return i.autoUpdate = !0, i.tintRgb = new Float32Array([1, 1, 1]), i
        }
        return __extends(a, o), Object.defineProperty(a.prototype, "autoUpdate", {
            get: function () {
                return this.updateTransform === a.prototype.autoUpdateTransform
            },
            set: function (t) {
                this.updateTransform = t ? a.prototype.autoUpdateTransform : PIXI.Container.prototype.updateTransform
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(a.prototype, "tint", {
            get: function () {
                return PIXI.utils.rgb2hex(this.tintRgb)
            },
            set: function (t) {
                this.tintRgb = PIXI.utils.hex2rgb(t, this.tintRgb)
            },
            enumerable: !0,
            configurable: !0
        }), a.prototype.update = function (i) {
            this.state.update(i), this.state.apply(this.skeleton), this.skeleton.updateWorldTransform();
            var n = this.skeleton.slots,
                o = this.color,
                a = null,
                r = null;
            o ? (a = o.light, r = o.dark) : a = this.tintRgb;
            for (var l = PIXI.TransformBase && 1 == this.transformHack(), u = 0, h = n.length; u < h; u++) {
                var c = (D = n[u]).attachment,
                    p = this.slotContainers[u];
                if (c) {
                    var d = null,
                        m = c.color;
                    if (c instanceof t.core.RegionAttachment) {
                        var S = c.region;
                        if (S) {
                            D.currentMesh && (D.currentMesh.visible = !1, D.currentMesh = null, D.currentMeshName = void 0);
                            var g = S;
                            if (!D.currentSpriteName || D.currentSpriteName !== g.name) {
                                var y = g.name;
                                if (D.currentSprite && (D.currentSprite.visible = !1), D.sprites = D.sprites || {}, void 0 !== D.sprites[y]) D.sprites[y].visible = !0;
                                else {
                                    var f = this.createSprite(D, c, y);
                                    p.addChild(f)
                                }
                                D.currentSprite = D.sprites[y], D.currentSpriteName = y
                            }
                        }
                        if (p.transform) {
                            var b = C = p.transform,
                                T = null;
                            b.matrix2d ? (T = b.matrix2d, b._dirtyVersion++, b.version = b._dirtyVersion, b.isStatic = !0, b.operMode = 0) : l ? (b.position && ((C = new PIXI.TransformBase)._parentID = -1, C._worldID = p.transform._worldID, p.transform = C), T = C.localTransform) : b.setFromMatrix(D.bone.matrix), T && D.bone.matrix.copy(T)
                        } else {
                            T = p.localTransform || new PIXI.Matrix;
                            D.bone.matrix.copy(T), p.localTransform = T, p.displayObjectUpdateTransform = s
                        }
                        D.currentSprite.color ? d = D.currentSprite.color : (e[0] = a[0] * D.color.r * m.r, e[1] = a[1] * D.color.g * m.g, e[2] = a[2] * D.color.b * m.b, D.currentSprite.tint = PIXI.utils.rgb2hex(e)), D.currentSprite.blendMode = D.blendMode
                    } else if (c instanceof t.core.MeshAttachment) {
                        var C;
                        if (D.currentSprite)
                            if (D.currentSprite.visible = !1, D.currentSprite = null, D.currentSpriteName = void 0, p.transform)(C = new PIXI.TransformStatic)._parentID = -1, C._worldID = p.transform._worldID, p.transform = C;
                            else p.localTransform = new PIXI.Matrix, p.displayObjectUpdateTransform = PIXI.DisplayObject.prototype.updateTransform;
                        if (!D.currentMeshName || D.currentMeshName !== c.name) {
                            var A = c.name;
                            if (D.currentMesh && (D.currentMesh.visible = !1), D.meshes = D.meshes || {}, void 0 !== D.meshes[A]) D.meshes[A].visible = !0;
                            else {
                                var v = this.createMesh(D, c);
                                p.addChild(v)
                            }
                            D.currentMesh = D.meshes[A], D.currentMeshName = A
                        }
                        if (c.computeWorldVerticesOld(D, D.currentMesh.vertices), D.currentMesh.lightColor = D.color, D.currentMesh.darkColor = D.darkColor, D.currentMesh.color) d = D.currentMesh.color;
                        else if ("3" !== PIXI.VERSION[0]) {
                            var M = D.currentMesh.tintRgb;
                            M[0] = a[0] * D.color.r * m.r, M[1] = a[1] * D.color.g * m.g, M[2] = a[2] * D.color.b * m.b
                        }
                        D.currentMesh.blendMode = D.blendMode
                    } else {
                        if (!(c instanceof t.core.ClippingAttachment)) {
                            p.visible = !1;
                            continue
                        }
                        D.currentGraphics || (this.createGraphics(D, c), p.addChild(D.clippingContainer), p.addChild(D.currentGraphics)), this.updateGraphics(D, c)
                    }
                    if (p.visible = !0, d) {
                        var L = D.color.r * m.r,
                            I = D.color.g * m.g,
                            P = D.color.b * m.b;
                        d.setLight(a[0] * L + r[0] * (1 - L), a[1] * I + r[1] * (1 - I), a[2] * P + r[2] * (1 - P)), D.darkColor ? (L = D.darkColor.r, I = D.darkColor.g, P = D.darkColor.b) : (L = 0, I = 0, P = 0), d.setDark(a[0] * L + r[0] * (1 - L), a[1] * I + r[1] * (1 - I), a[2] * P + r[2] * (1 - P))
                    }
                    p.alpha = D.color.a
                } else p.visible = !1
            }
            var R = this.skeleton.drawOrder,
                _ = null,
                E = null;
            for (u = 0, h = R.length; u < h; u++) {
                var D = n[R[u].data.index];
                p = this.slotContainers[R[u].data.index];
                if (E || p.parent !== this && (p.parent.removeChild(p), p.parent = this), D.currentGraphics && D.attachment) E = D.clippingContainer, _ = D.attachment, E.children.length = 0, this.children[u] = p, _.endSlot == D.data && (_.endSlot = null);
                else if (E) {
                    var O = this.tempClipContainers[u];
                    O || ((O = this.tempClipContainers[u] = this.newContainer()).visible = !1), this.children[u] = O, p.parent = null, E.addChild(p), _.endSlot == D.data && (E.renderable = !0, E = null, _ = null)
                } else this.children[u] = p
            }
        }, a.prototype.setSpriteRegion = function (t, e, i) {
            e.region = i, e.texture = i.texture, i.size ? (e.scale.x = i.size.width / i.originalWidth, e.scale.y = -i.size.height / i.originalHeight) : (e.scale.x = t.scaleX * t.width / i.originalWidth, e.scale.y = -t.scaleY * t.height / i.originalHeight)
        }, a.prototype.setMeshRegion = function (t, e, i) {
            e.region = i, e.texture = i.texture, i.texture._updateUvs(), t.updateUVs(i, e.uvs), e.dirty++
        }, a.prototype.autoUpdateTransform = function () {
            if (a.globalAutoUpdate) {
                this.lastTime = this.lastTime || Date.now();
                Date.now(), this.lastTime;
                this.lastTime = Date.now(), this.update(Time.deltaTime)
            } else this.lastTime = 0;
            PIXI.Container.prototype.updateTransform.call(this)
        }, a.prototype.createSprite = function (e, i, n) {
            var o = i.region;
            e.tempAttachment === i && (o = e.tempRegion, e.tempAttachment = null, e.tempRegion = null);
            var s = o.texture,
                a = this.newSprite(s);
            return a.rotation = i.rotation * t.core.MathUtils.degRad, a.anchor.x = .5, a.anchor.y = .5, a.position.x = i.x, a.position.y = i.y, a.alpha = i.color.a, a.region = i.region, this.setSpriteRegion(i, a, i.region), e.sprites = e.sprites || {}, e.sprites[n] = a, a
        }, a.prototype.createMesh = function (t, e) {
            var i = e.region;
            t.tempAttachment === e && (i = t.tempRegion, t.tempAttachment = null, t.tempRegion = null);
            var n = this.newMesh(i.texture, new Float32Array(e.regionUVs.length), new Float32Array(e.regionUVs.length), new Uint16Array(e.triangles), PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);
            return n.canvasPadding = 1.5, n.alpha = e.color.a, n.region = e.region, this.setMeshRegion(e, n, i), t.meshes = t.meshes || {}, t.meshes[e.name] = n, n
        }, a.prototype.createGraphics = function (t, e) {
            var i = this.newGraphics(),
                n = new PIXI.Polygon([]);
            return i.clear(), i.beginFill(16777215, 1), i.drawPolygon(n), i.renderable = !1, t.currentGraphics = i, t.clippingContainer = this.newContainer(), t.clippingContainer.mask = t.currentGraphics, i
        }, a.prototype.updateGraphics = function (t, e) {
            var i = t.currentGraphics.graphicsData[0].shape.points;
            t.currentGraphics.graphicsData[0].shape.closed = !1;
            var n = e.worldVerticesLength;
            i.length = n, e.computeWorldVertices(t, 0, n, i, 0, 2), t.currentGraphics.dirty++, t.currentGraphics.clearDirty++
        }, a.prototype.hackTextureBySlotIndex = function (e, i, n) {
            void 0 === i && (i = null), void 0 === n && (n = null);
            var o = this.skeleton.slots[e];
            if (!o) return !1;
            var s = o.attachment,
                a = s.region;
            return i && ((a = new t.core.TextureRegion).texture = i, a.size = n), o.currentSprite && o.currentSprite.region != a ? (this.setSpriteRegion(s, o.currentSprite, a), o.currentSprite.region = a) : o.currentMesh && o.currentMesh.region != a ? this.setMeshRegion(s, o.currentMesh, a) : (o.tempRegion = a, o.tempAttachment = s), !0
        }, a.prototype.hackTextureBySlotName = function (t, e, i) {
            void 0 === e && (e = null), void 0 === i && (i = null);
            var n = this.skeleton.findSlotIndex(t);
            return -1 != n && this.hackTextureBySlotIndex(n, e, i)
        }, a.prototype.newContainer = function () {
            return new PIXI.Container
        }, a.prototype.newSprite = function (t) {
            return new i(t)
        }, a.prototype.newGraphics = function () {
            return new PIXI.Graphics
        }, a.prototype.newMesh = function (t, e, i, o, s) {
            return new n(t, e, i, o, s)
        }, a.prototype.transformHack = function () {
            return 1
        }, a.prototype.hackAttachmentGroups = function (t, e, i) {
            if (t) {
                for (var n = [], o = [], s = 0, a = this.skeleton.slots.length; s < a; s++) {
                    var r = this.skeleton.slots[s],
                        l = r.currentSpriteName || r.currentMeshName || "",
                        u = r.currentSprite || r.currentMesh;
                    l.endsWith(t) ? (u.parentGroup = e, o.push(u)) : i && u && (u.parentGroup = i, n.push(u))
                }
                return [n, o]
            }
        }, a.prototype.destroy = function (t) {
            for (var e = 0, i = this.skeleton.slots.length; e < i; e++) {
                var n = this.skeleton.slots[e];
                for (var s in n.meshes) n.meshes[s].destroy(t);
                for (var a in n.meshes = null, n.sprites) n.sprites[a].destroy(t);
                n.sprites = null
            }
            for (e = 0, i = this.slotContainers.length; e < i; e++) this.slotContainers[e].destroy(t);
            this.spineData = null, this.skeleton = null, this.slotContainers = null, this.stateData = null, this.state = null, this.tempClipContainers = null, o.prototype.destroy.call(this, t)
        }, a.globalAutoUpdate = !0, a.clippingPolygon = [], a
    }(PIXI.Container);

    function s() {
        var t = this.parent.worldTransform,
            e = this.worldTransform,
            i = this.localTransform;
        e.a = i.a * t.a + i.b * t.c, e.b = i.a * t.b + i.b * t.d, e.c = i.c * t.a + i.d * t.c, e.d = i.c * t.b + i.d * t.d, e.tx = i.tx * t.a + i.ty * t.c + t.tx, e.ty = i.tx * t.b + i.ty * t.d + t.ty, this.worldAlpha = this.alpha * this.parent.worldAlpha, this._currentBounds = null
    }
    t.Spine = o
}(pixi_spine || (pixi_spine = {})),
function (t) {
    PIXI.spine = t;
    var e = PIXI.Texture.prototype;
    e._updateUvs || (e._updateUvs = e.updateUvs)
}(pixi_spine || (pixi_spine = {})),
function (t) {
    function e() {
        return function (e, o) {
            if (!e.data || !e.data.bones) return o();
            var s = e.metadata || {},
                a = s ? e.metadata.spineSkeletonScale : null,
                r = s ? e.metadata.spineAtlas : null;
            if (!1 === r) return o();
            if (r && r.pages) {
                var l = new t.core.SkeletonJson(new t.core.AtlasAttachmentLoader(r)).readSkeletonData(e.data);
                return e.spineData = l, e.spineAtlas = r, o()
            }
            var u = s.spineAtlasSuffix || ".atlas",
                h = e.url.substr(0, e.url.lastIndexOf(".")) + u;
            e.metadata && e.metadata.spineAtlasFile && (h = e.metadata.spineAtlasFile), h = h.replace(this.baseUrl, "");
            var c = {
                    crossOrigin: e.crossOrigin,
                    xhrType: PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,
                    metadata: s.spineMetadata || null,
                    parentResource: e
                },
                p = {
                    crossOrigin: e.crossOrigin,
                    metadata: s.imageMetadata || null,
                    parentResource: e
                },
                d = e.url.substr(0, e.url.lastIndexOf("/") + 1);
            d = d.replace(this.baseUrl, "");
            var m = s.images ? n(s.images) : s.image ? n({
                    default: s.image
                }) : s.imageLoader ? s.imageLoader(this, e.name + "_atlas_page_", d, p) : i(this, e.name + "_atlas_page_", d, p),
                S = function (i) {
                    new t.core.TextureAtlas(i, m, (function (i) {
                        var n = new t.core.SkeletonJson(new t.core.AtlasAttachmentLoader(i));
                        a && (n.scale = a), e.spineData = n.readSkeletonData(e.data), e.spineAtlas = i, o()
                    }))
                };
            e.metadata && e.metadata.atlasRawData ? S(e.metadata.atlasRawData) : this.add(e.name + "_atlas", h, c, (function (t) {
                S(t.xhr.responseText)
            }))
        }
    }

    function i(t, e, i, n) {
        return i && i.lastIndexOf("/") !== i.length - 1 && (i += "/"),
            function (o, s) {
                var a = e + o,
                    r = i + o;
                t.add(a, r, n, (function (t) {
                    s(t.texture.baseTexture)
                }))
            }
    }

    function n(t) {
        return function (e, i) {
            var n = t[e] || t.default;
            n && n.baseTexture ? i(n.baseTexture) : i(n)
        }
    }
    t.atlasParser = e, t.imageLoaderAdapter = i, t.syncImageLoaderAdapter = function (t, e) {
        return t && t.lastIndexOf("/") !== t.length - 1 && (t += "/"),
            function (t, i) {
                i(PIXI.BaseTexture.fromImage(t, e))
            }
    }, t.staticImageLoader = n, PIXI.loaders.Loader.addPixiMiddleware(e), PIXI.loader.use(e())
}(pixi_spine || (pixi_spine = {})), this.createjs = this.createjs || {},
    function () {
        var t = createjs.SoundJS = createjs.SoundJS || {};
        t.version = "NEXT", t.buildDate = "Thu, 08 Oct 2015 16:30:58 GMT"
    }(), this.createjs = this.createjs || {}, createjs.extend = function (t, e) {
        function i() {
            this.constructor = t
        }
        return i.prototype = e.prototype, t.prototype = new i
    }, this.createjs = this.createjs || {}, createjs.promote = function (t, e) {
        var i = t.prototype,
            n = Object.getPrototypeOf && Object.getPrototypeOf(i) || i.__proto__;
        if (n)
            for (var o in i[(e += "_") + "constructor"] = n.constructor, n) i.hasOwnProperty(o) && "function" == typeof n[o] && (i[e + o] = n[o]);
        return t
    }, this.createjs = this.createjs || {}, createjs.indexOf = function (t, e) {
        for (var i = 0, n = t.length; n > i; i++)
            if (e === t[i]) return i;
        return -1
    }, this.createjs = this.createjs || {}, createjs.proxy = function (t, e) {
        var i = Array.prototype.slice.call(arguments, 2);
        return function () {
            return t.apply(e, Array.prototype.slice.call(arguments, 0).concat(i))
        }
    }, this.createjs = this.createjs || {},
    function () {
        function t() {
            throw "BrowserDetect cannot be instantiated"
        }
        var e = t.agent = window.navigator.userAgent;
        t.isWindowPhone = e.indexOf("IEMobile") > -1 || e.indexOf("Windows Phone") > -1, t.isFirefox = e.indexOf("Firefox") > -1, t.isOpera = null != window.opera, t.isChrome = e.indexOf("Chrome") > -1, t.isIOS = (e.indexOf("iPod") > -1 || e.indexOf("iPhone") > -1 || e.indexOf("iPad") > -1) && !t.isWindowPhone, t.isAndroid = e.indexOf("Android") > -1 && !t.isWindowPhone, t.isBlackberry = e.indexOf("Blackberry") > -1, createjs.BrowserDetect = t
    }(), this.createjs = this.createjs || {},
    function () {
        function t() {
            this._listeners = null, this._captureListeners = null
        }
        var e = t.prototype;
        t.initialize = function (t) {
            t.addEventListener = e.addEventListener, t.on = e.on, t.removeEventListener = t.off = e.removeEventListener, t.removeAllEventListeners = e.removeAllEventListeners, t.hasEventListener = e.hasEventListener, t.dispatchEvent = e.dispatchEvent, t._dispatchEvent = e._dispatchEvent, t.willTrigger = e.willTrigger
        }, e.addEventListener = function (t, e, i) {
            var n, o = (n = i ? this._captureListeners = this._captureListeners || {} : this._listeners = this._listeners || {})[t];
            return o && this.removeEventListener(t, e, i), (o = n[t]) ? o.push(e) : n[t] = [e], e
        }, e.on = function (t, e, i, n, o, s) {
            return e.handleEvent && (i = i || e, e = e.handleEvent), i = i || this, this.addEventListener(t, (function (t) {
                e.call(i, t, o), n && t.remove()
            }), s)
        }, e.removeEventListener = function (t, e, i) {
            var n = i ? this._captureListeners : this._listeners;
            if (n) {
                var o = n[t];
                if (o)
                    for (var s = 0, a = o.length; a > s; s++)
                        if (o[s] == e) {
                            1 == a ? delete n[t] : o.splice(s, 1);
                            break
                        }
            }
        }, e.off = e.removeEventListener, e.removeAllEventListeners = function (t) {
            t ? (this._listeners && delete this._listeners[t], this._captureListeners && delete this._captureListeners[t]) : this._listeners = this._captureListeners = null
        }, e.dispatchEvent = function (t) {
            if ("string" == typeof t) {
                var e = this._listeners;
                if (!e || !e[t]) return !1;
                t = new createjs.Event(t)
            } else t.target && t.clone && (t = t.clone());
            try {
                t.target = this
            } catch (t) {}
            if (t.bubbles && this.parent) {
                for (var i = this, n = [i]; i.parent;) n.push(i = i.parent);
                var o, s = n.length;
                for (o = s - 1; o >= 0 && !t.propagationStopped; o--) n[o]._dispatchEvent(t, 1 + (0 == o));
                for (o = 1; s > o && !t.propagationStopped; o++) n[o]._dispatchEvent(t, 3)
            } else this._dispatchEvent(t, 2);
            return t.defaultPrevented
        }, e.hasEventListener = function (t) {
            var e = this._listeners,
                i = this._captureListeners;
            return !!(e && e[t] || i && i[t])
        }, e.willTrigger = function (t) {
            for (var e = this; e;) {
                if (e.hasEventListener(t)) return !0;
                e = e.parent
            }
            return !1
        }, e.toString = function () {
            return "[EventDispatcher]"
        }, e._dispatchEvent = function (t, e) {
            var i, n = 1 == e ? this._captureListeners : this._listeners;
            if (t && n) {
                var o = n[t.type];
                if (!o || !(i = o.length)) return;
                try {
                    t.currentTarget = this
                } catch (t) {}
                try {
                    t.eventPhase = e
                } catch (t) {}
                t.removed = !1, o = o.slice();
                for (var s = 0; i > s && !t.immediatePropagationStopped; s++) {
                    var a = o[s];
                    a.handleEvent ? a.handleEvent(t) : a(t), t.removed && (this.off(t.type, a, 1 == e), t.removed = !1)
                }
            }
        }, createjs.EventDispatcher = t
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e, i) {
            this.type = t, this.target = null, this.currentTarget = null, this.eventPhase = 0, this.bubbles = !!e, this.cancelable = !!i, this.timeStamp = (new Date).getTime(), this.defaultPrevented = !1, this.propagationStopped = !1, this.immediatePropagationStopped = !1, this.removed = !1
        }
        var e = t.prototype;
        e.preventDefault = function () {
            this.defaultPrevented = this.cancelable && !0
        }, e.stopPropagation = function () {
            this.propagationStopped = !0
        }, e.stopImmediatePropagation = function () {
            this.immediatePropagationStopped = this.propagationStopped = !0
        }, e.remove = function () {
            this.removed = !0
        }, e.clone = function () {
            return new t(this.type, this.bubbles, this.cancelable)
        }, e.set = function (t) {
            for (var e in t) this[e] = t[e];
            return this
        }, e.toString = function () {
            return "[Event (type=" + this.type + ")]"
        }, createjs.Event = t
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e, i) {
            this.Event_constructor("error"), this.title = t, this.message = e, this.data = i
        }
        createjs.extend(t, createjs.Event).clone = function () {
            return new createjs.ErrorEvent(this.title, this.message, this.data)
        }, createjs.ErrorEvent = createjs.promote(t, "Event")
    }(), this.createjs = this.createjs || {},
    function (t) {
        function e(t, e) {
            this.Event_constructor("progress"), this.loaded = t, this.total = null == e ? 1 : e, this.progress = 0 == e ? 0 : this.loaded / this.total
        }
        createjs.extend(e, createjs.Event).clone = function () {
            return new createjs.ProgressEvent(this.loaded, this.total)
        }, createjs.ProgressEvent = createjs.promote(e, "Event")
    }(window), this.createjs = this.createjs || {},
    function () {
        function t() {
            this.src = null, this.type = null, this.id = null, this.maintainOrder = !1, this.callback = null, this.data = null, this.method = createjs.LoadItem.GET, this.values = null, this.headers = null, this.withCredentials = !1, this.mimeType = null, this.crossOrigin = null, this.loadTimeout = i.LOAD_TIMEOUT_DEFAULT
        }
        var e = t.prototype = {},
            i = t;
        i.LOAD_TIMEOUT_DEFAULT = 8e3, i.create = function (e) {
            if ("string" == typeof e) {
                var n = new t;
                return n.src = e, n
            }
            if (e instanceof i) return e;
            if (e instanceof Object && e.src) return null == e.loadTimeout && (e.loadTimeout = i.LOAD_TIMEOUT_DEFAULT), e;
            throw new Error("Type not recognized.")
        }, e.set = function (t) {
            for (var e in t) this[e] = t[e];
            return this
        }, createjs.LoadItem = i
    }(),
    function () {
        var t = {
            ABSOLUTE_PATT: /^(?:\w+:)?\/{2}/i,
            RELATIVE_PATT: /^[./]*?\//i,
            EXTENSION_PATT: /\/?[^/]+\.(\w{1,5})$/i,
            parseURI: function (e) {
                var i = {
                    absolute: !1,
                    relative: !1
                };
                if (null == e) return i;
                var n, o = e.indexOf("?");
                return o > -1 && (e = e.substr(0, o)), t.ABSOLUTE_PATT.test(e) ? i.absolute = !0 : t.RELATIVE_PATT.test(e) && (i.relative = !0), (n = e.match(t.EXTENSION_PATT)) && (i.extension = n[1].toLowerCase()), i
            },
            formatQueryString: function (t, e) {
                if (null == t) throw new Error("You must specify data.");
                var i = [];
                for (var n in t) i.push(n + "=" + escape(t[n]));
                return e && (i = i.concat(e)), i.join("&")
            },
            buildPath: function (t, e) {
                if (null == e) return t;
                var i = [],
                    n = t.indexOf("?");
                if (-1 != n) {
                    var o = t.slice(n + 1);
                    i = i.concat(o.split("&"))
                }
                return -1 != n ? t.slice(0, n) + "?" + this._formatQueryString(e, i) : t + "?" + this._formatQueryString(e, i)
            },
            isCrossDomain: function (t) {
                var e = document.createElement("a");
                e.href = t.src;
                var i = document.createElement("a");
                return i.href = location.href, "" != e.hostname && (e.port != i.port || e.protocol != i.protocol || e.hostname != i.hostname)
            },
            isLocal: function (t) {
                var e = document.createElement("a");
                return e.href = t.src, "" == e.hostname && "file:" == e.protocol
            },
            isBinary: function (t) {
                switch (t) {
                    case createjs.AbstractLoader.IMAGE:
                    case createjs.AbstractLoader.BINARY:
                        return !0;
                    default:
                        return !1
                }
            },
            isImageTag: function (t) {
                return t instanceof HTMLImageElement
            },
            isAudioTag: function (t) {
                return !!window.HTMLAudioElement && t instanceof HTMLAudioElement
            },
            isVideoTag: function (t) {
                return !!window.HTMLVideoElement && t instanceof HTMLVideoElement
            },
            isText: function (t) {
                switch (t) {
                    case createjs.AbstractLoader.TEXT:
                    case createjs.AbstractLoader.JSON:
                    case createjs.AbstractLoader.MANIFEST:
                    case createjs.AbstractLoader.XML:
                    case createjs.AbstractLoader.CSS:
                    case createjs.AbstractLoader.SVG:
                    case createjs.AbstractLoader.JAVASCRIPT:
                    case createjs.AbstractLoader.SPRITESHEET:
                        return !0;
                    default:
                        return !1
                }
            },
            getTypeByExtension: function (t) {
                if (null == t) return createjs.AbstractLoader.TEXT;
                switch (t.toLowerCase()) {
                    case "jpeg":
                    case "jpg":
                    case "gif":
                    case "png":
                    case "webp":
                    case "bmp":
                        return createjs.AbstractLoader.IMAGE;
                    case "ogg":
                    case "mp3":
                    case "webm":
                        return createjs.AbstractLoader.SOUND;
                    case "mp4":
                    case "webm":
                    case "ts":
                        return createjs.AbstractLoader.VIDEO;
                    case "json":
                        return createjs.AbstractLoader.JSON;
                    case "xml":
                        return createjs.AbstractLoader.XML;
                    case "css":
                        return createjs.AbstractLoader.CSS;
                    case "js":
                        return createjs.AbstractLoader.JAVASCRIPT;
                    case "svg":
                        return createjs.AbstractLoader.SVG;
                    default:
                        return createjs.AbstractLoader.TEXT
                }
            }
        };
        createjs.RequestUtils = t
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e, i) {
            this.EventDispatcher_constructor(), this.loaded = !1, this.canceled = !1, this.progress = 0, this.type = i, this.resultFormatter = null, this._item = t ? createjs.LoadItem.create(t) : null, this._preferXHR = e, this._result = null, this._rawResult = null, this._loadedItems = null, this._tagSrcAttribute = null, this._tag = null
        }
        var e = createjs.extend(t, createjs.EventDispatcher),
            i = t;
        i.POST = "POST", i.GET = "GET", i.BINARY = "binary", i.CSS = "css", i.IMAGE = "image", i.JAVASCRIPT = "javascript", i.JSON = "json", i.JSONP = "jsonp", i.MANIFEST = "manifest", i.SOUND = "sound", i.VIDEO = "video", i.SPRITESHEET = "spritesheet", i.SVG = "svg", i.TEXT = "text", i.XML = "xml", e.getItem = function () {
            return this._item
        }, e.getResult = function (t) {
            return t ? this._rawResult : this._result
        }, e.getTag = function () {
            return this._tag
        }, e.setTag = function (t) {
            this._tag = t
        }, e.load = function () {
            this._createRequest(), this._request.on("complete", this, this), this._request.on("progress", this, this), this._request.on("loadStart", this, this), this._request.on("abort", this, this), this._request.on("timeout", this, this), this._request.on("error", this, this);
            var t = new createjs.Event("initialize");
            t.loader = this._request, this.dispatchEvent(t), this._request.load()
        }, e.cancel = function () {
            this.canceled = !0, this.destroy()
        }, e.destroy = function () {
            this._request && (this._request.removeAllEventListeners(), this._request.destroy()), this._request = null, this._item = null, this._rawResult = null, this._result = null, this._loadItems = null, this.removeAllEventListeners()
        }, e.getLoadedItems = function () {
            return this._loadedItems
        }, e._createRequest = function () {
            this._preferXHR ? this._request = new createjs.XHRRequest(this._item) : this._request = new createjs.TagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute)
        }, e._createTag = function (t) {
            return null
        }, e._sendLoadStart = function () {
            this._isCanceled() || this.dispatchEvent("loadstart")
        }, e._sendProgress = function (t) {
            if (!this._isCanceled()) {
                var e = null;
                "number" == typeof t ? (this.progress = t, e = new createjs.ProgressEvent(this.progress)) : (e = t, this.progress = t.loaded / t.total, e.progress = this.progress, (isNaN(this.progress) || this.progress == 1 / 0) && (this.progress = 0)), this.hasEventListener("progress") && this.dispatchEvent(e)
            }
        }, e._sendComplete = function () {
            if (!this._isCanceled()) {
                this.loaded = !0;
                var t = new createjs.Event("complete");
                t.rawResult = this._rawResult, null != this._result && (t.result = this._result), this.dispatchEvent(t)
            }
        }, e._sendError = function (t) {
            !this._isCanceled() && this.hasEventListener("error") && (null == t && (t = new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")), this.dispatchEvent(t))
        }, e._isCanceled = function () {
            return !(null != window.createjs && !this.canceled)
        }, e.resultFormatter = null, e.handleEvent = function (t) {
            switch (t.type) {
                case "complete":
                    this._rawResult = t.target._response;
                    var e = this.resultFormatter && this.resultFormatter(this),
                        i = this;
                    e instanceof Function ? e((function (t) {
                        i._result = t, i._sendComplete()
                    })) : (this._result = e || this._rawResult, this._sendComplete());
                    break;
                case "progress":
                    this._sendProgress(t);
                    break;
                case "error":
                    this._sendError(t);
                    break;
                case "loadstart":
                    this._sendLoadStart();
                    break;
                case "abort":
                case "timeout":
                    this._isCanceled() || this.dispatchEvent(t.type)
            }
        }, e.buildPath = function (t, e) {
            return createjs.RequestUtils.buildPath(t, e)
        }, e.toString = function () {
            return "[PreloadJS AbstractLoader]"
        }, createjs.AbstractLoader = createjs.promote(t, "EventDispatcher")
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e, i) {
            this.AbstractLoader_constructor(t, e, i), this.resultFormatter = this._formatResult, this._tagSrcAttribute = "src"
        }
        var e = createjs.extend(t, createjs.AbstractLoader);
        e.load = function () {
            this._tag || (this._tag = this._createTag(this._item.src)), this._tag.preload = "auto", this._tag.load(), this.AbstractLoader_load()
        }, e._createTag = function () {}, e._createRequest = function () {
            this._preferXHR ? this._request = new createjs.XHRRequest(this._item) : this._request = new createjs.MediaTagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute)
        }, e._formatResult = function (t) {
            return this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler), this._tag.onstalled = null, this._preferXHR && (t.getTag().src = t.getResult(!0)), t.getTag()
        }, createjs.AbstractMediaLoader = createjs.promote(t, "AbstractLoader")
    }(), this.createjs = this.createjs || {},
    function () {
        var t = function (t) {
                this._item = t
            },
            e = createjs.extend(t, createjs.EventDispatcher);
        e.load = function () {}, e.destroy = function () {}, e.cancel = function () {}, createjs.AbstractRequest = createjs.promote(t, "EventDispatcher")
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e, i) {
            this.AbstractRequest_constructor(t), this._tag = e, this._tagSrcAttribute = i, this._loadedHandler = createjs.proxy(this._handleTagComplete, this), this._addedToDOM = !1, this._startTagVisibility = null
        }
        var e = createjs.extend(t, createjs.AbstractRequest);
        e.load = function () {
            this._tag.onload = createjs.proxy(this._handleTagComplete, this), this._tag.onreadystatechange = createjs.proxy(this._handleReadyStateChange, this), this._tag.onerror = createjs.proxy(this._handleError, this);
            var t = new createjs.Event("initialize");
            t.loader = this._tag, this.dispatchEvent(t), this._hideTag(), this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout), this._tag[this._tagSrcAttribute] = this._item.src, null == this._tag.parentNode && (window.document.body.appendChild(this._tag), this._addedToDOM = !0)
        }, e.destroy = function () {
            this._clean(), this._tag = null, this.AbstractRequest_destroy()
        }, e._handleReadyStateChange = function () {
            clearTimeout(this._loadTimeout);
            var t = this._tag;
            ("loaded" == t.readyState || "complete" == t.readyState) && this._handleTagComplete()
        }, e._handleError = function () {
            this._clean(), this.dispatchEvent("error")
        }, e._handleTagComplete = function () {
            this._rawResult = this._tag, this._result = this.resultFormatter && this.resultFormatter(this) || this._rawResult, this._clean(), this._showTag(), this.dispatchEvent("complete")
        }, e._handleTimeout = function () {
            this._clean(), this.dispatchEvent(new createjs.Event("timeout"))
        }, e._clean = function () {
            this._tag.onload = null, this._tag.onreadystatechange = null, this._tag.onerror = null, this._addedToDOM && null != this._tag.parentNode && this._tag.parentNode.removeChild(this._tag), clearTimeout(this._loadTimeout)
        }, e._hideTag = function () {
            this._startTagVisibility = this._tag.style.visibility, this._tag.style.visibility = "hidden"
        }, e._showTag = function () {
            this._tag.style.visibility = this._startTagVisibility
        }, e._handleStalled = function () {}, createjs.TagRequest = createjs.promote(t, "AbstractRequest")
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e, i) {
            this.AbstractRequest_constructor(t), this._tag = e, this._tagSrcAttribute = i, this._loadedHandler = createjs.proxy(this._handleTagComplete, this)
        }
        var e = createjs.extend(t, createjs.TagRequest);
        e.load = function () {
            var t = createjs.proxy(this._handleStalled, this);
            this._stalledCallback = t;
            var e = createjs.proxy(this._handleProgress, this);
            this._handleProgress = e, this._tag.addEventListener("stalled", t), this._tag.addEventListener("progress", e), this._tag.addEventListener && this._tag.addEventListener("canplaythrough", this._loadedHandler, !1), this.TagRequest_load()
        }, e._handleReadyStateChange = function () {
            clearTimeout(this._loadTimeout);
            var t = this._tag;
            ("loaded" == t.readyState || "complete" == t.readyState) && this._handleTagComplete()
        }, e._handleStalled = function () {}, e._handleProgress = function (t) {
            if (t && !(t.loaded > 0 && 0 == t.total)) {
                var e = new createjs.ProgressEvent(t.loaded, t.total);
                this.dispatchEvent(e)
            }
        }, e._clean = function () {
            this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler), this._tag.removeEventListener("stalled", this._stalledCallback), this._tag.removeEventListener("progress", this._progressCallback), this.TagRequest__clean()
        }, createjs.MediaTagRequest = createjs.promote(t, "TagRequest")
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t) {
            this.AbstractRequest_constructor(t), this._request = null, this._loadTimeout = null, this._xhrLevel = 1, this._response = null, this._rawResponse = null, this._canceled = !1, this._handleLoadStartProxy = createjs.proxy(this._handleLoadStart, this), this._handleProgressProxy = createjs.proxy(this._handleProgress, this), this._handleAbortProxy = createjs.proxy(this._handleAbort, this), this._handleErrorProxy = createjs.proxy(this._handleError, this), this._handleTimeoutProxy = createjs.proxy(this._handleTimeout, this), this._handleLoadProxy = createjs.proxy(this._handleLoad, this), this._handleReadyStateChangeProxy = createjs.proxy(this._handleReadyStateChange, this), this._createXHR(t)
        }
        var e = createjs.extend(t, createjs.AbstractRequest);
        t.ACTIVEX_VERSIONS = ["Msxml2.XMLHTTP.6.0", "Msxml2.XMLHTTP.5.0", "Msxml2.XMLHTTP.4.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], e.getResult = function (t) {
            return t && this._rawResponse ? this._rawResponse : this._response
        }, e.cancel = function () {
            this.canceled = !0, this._clean(), this._request.abort()
        }, e.load = function () {
            if (null != this._request) {
                this._request.addEventListener("loadstart", this._handleLoadStartProxy, !1), this._request.addEventListener("progress", this._handleProgressProxy, !1), this._request.addEventListener("abort", this._handleAbortProxy, !1), this._request.addEventListener("error", this._handleErrorProxy, !1), this._request.addEventListener("timeout", this._handleTimeoutProxy, !1), this._request.addEventListener("load", this._handleLoadProxy, !1), this._request.addEventListener("readystatechange", this._handleReadyStateChangeProxy, !1), 1 == this._xhrLevel && (this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout));
                try {
                    this._item.values && this._item.method != createjs.AbstractLoader.GET ? this._item.method == createjs.AbstractLoader.POST && this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)) : this._request.send()
                } catch (t) {
                    this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND", null, t))
                }
            } else this._handleError()
        }, e.setResponseType = function (t) {
            this._request.responseType = t
        }, e.getAllResponseHeaders = function () {
            return this._request.getAllResponseHeaders instanceof Function ? this._request.getAllResponseHeaders() : null
        }, e.getResponseHeader = function (t) {
            return this._request.getResponseHeader instanceof Function ? this._request.getResponseHeader(t) : null
        }, e._handleProgress = function (t) {
            if (t && !(t.loaded > 0 && 0 == t.total)) {
                var e = new createjs.ProgressEvent(t.loaded, t.total);
                this.dispatchEvent(e)
            }
        }, e._handleLoadStart = function (t) {
            clearTimeout(this._loadTimeout), this.dispatchEvent("loadstart")
        }, e._handleAbort = function (t) {
            this._clean(), this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED", null, t))
        }, e._handleError = function (t) {
            this._clean(), this.dispatchEvent(new createjs.ErrorEvent(t.message))
        }, e._handleReadyStateChange = function (t) {
            4 == this._request.readyState && this._handleLoad()
        }, e._handleLoad = function (t) {
            if (!this.loaded) {
                this.loaded = !0;
                var e = this._checkError();
                if (e) return void this._handleError(e);
                this._response = this._getResponse(), this._clean(), this.dispatchEvent(new createjs.Event("complete"))
            }
        }, e._handleTimeout = function (t) {
            this._clean(), this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT", null, t))
        }, e._checkError = function () {
            var t = parseInt(this._request.status);
            switch (t) {
                case 404:
                case 0:
                    return new Error(t)
            }
            return null
        }, e._getResponse = function () {
            if (null != this._response) return this._response;
            if (null != this._request.response) return this._request.response;
            try {
                if (null != this._request.responseText) return this._request.responseText
            } catch (t) {}
            try {
                if (null != this._request.responseXML) return this._request.responseXML
            } catch (t) {}
            return null
        }, e._createXHR = function (t) {
            var e = createjs.RequestUtils.isCrossDomain(t),
                i = {},
                n = null;
            if (window.XMLHttpRequest) n = new XMLHttpRequest, e && void 0 === n.withCredentials && window.XDomainRequest && (n = new XDomainRequest);
            else {
                for (var o = 0, a = s.ACTIVEX_VERSIONS.length; a > o; o++) {
                    s.ACTIVEX_VERSIONS[o];
                    try {
                        n = new ActiveXObject(axVersions);
                        break
                    } catch (t) {}
                }
                if (null == n) return !1
            }
            null == t.mimeType && createjs.RequestUtils.isText(t.type) && (t.mimeType = "text/plain; charset=utf-8"), t.mimeType && n.overrideMimeType && n.overrideMimeType(t.mimeType), this._xhrLevel = "string" == typeof n.responseType ? 2 : 1;
            var r;
            if (r = t.method == createjs.AbstractLoader.GET ? createjs.RequestUtils.buildPath(t.src, t.values) : t.src, n.open(t.method || createjs.AbstractLoader.GET, r, !0), e && n instanceof XMLHttpRequest && 1 == this._xhrLevel && (i.Origin = location.origin), t.values && t.method == createjs.AbstractLoader.POST && (i["Content-Type"] = "application/x-www-form-urlencoded"), e || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest"), t.headers)
                for (var l in t.headers) i[l] = t.headers[l];
            for (l in i) n.setRequestHeader(l, i[l]);
            return n instanceof XMLHttpRequest && void 0 !== t.withCredentials && (n.withCredentials = t.withCredentials), this._request = n, !0
        }, e._clean = function () {
            clearTimeout(this._loadTimeout), this._request.removeEventListener("loadstart", this._handleLoadStartProxy), this._request.removeEventListener("progress", this._handleProgressProxy), this._request.removeEventListener("abort", this._handleAbortProxy), this._request.removeEventListener("error", this._handleErrorProxy), this._request.removeEventListener("timeout", this._handleTimeoutProxy), this._request.removeEventListener("load", this._handleLoadProxy), this._request.removeEventListener("readystatechange", this._handleReadyStateChangeProxy)
        }, e.toString = function () {
            return "[PreloadJS XHRRequest]"
        }, createjs.XHRRequest = createjs.promote(t, "AbstractRequest")
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e) {
            this.AbstractMediaLoader_constructor(t, e, createjs.AbstractLoader.SOUND), createjs.RequestUtils.isAudioTag(t) || createjs.RequestUtils.isAudioTag(t.src) ? this._tag = t : createjs.RequestUtils.isAudioTag(t.tag) && (this._tag = createjs.RequestUtils.isAudioTag(t) ? t : t.src), null != this._tag && (this._preferXHR = !1)
        }
        var e = createjs.extend(t, createjs.AbstractMediaLoader);
        t.canLoadItem = function (t) {
            return t.type == createjs.AbstractLoader.SOUND
        }, e._createTag = function (t) {
            var e = document.createElement("audio");
            return e.autoplay = !1, e.preload = "none", e.src = t, e
        }, createjs.SoundLoader = createjs.promote(t, "AbstractMediaLoader")
    }(), this.createjs = this.createjs || {},
    function () {
        var t = function () {
                this.interrupt = null, this.delay = null, this.offset = null, this.loop = null, this.volume = null, this.pan = null, this.startTime = null, this.duration = null
            },
            e = t.prototype = {},
            i = t;
        i.create = function (t) {
            if (t instanceof i || t instanceof Object) {
                var e = new createjs.PlayPropsConfig;
                return e.set(t), e
            }
            throw new Error("Type not recognized.")
        }, e.set = function (t) {
            for (var e in t) this[e] = t[e];
            return this
        }, e.toString = function () {
            return "[PlayPropsConfig]"
        }, createjs.PlayPropsConfig = i
    }(), this.createjs = this.createjs || {},
    function () {
        function t() {
            throw "Sound cannot be instantiated"
        }

        function e(t, e) {
            this.init(t, e)
        }
        var i = t;
        i.INTERRUPT_ANY = "any", i.INTERRUPT_EARLY = "early", i.INTERRUPT_LATE = "late", i.INTERRUPT_NONE = "none", i.PLAY_INITED = "playInited", i.PLAY_SUCCEEDED = "playSucceeded", i.PLAY_INTERRUPTED = "playInterrupted", i.PLAY_FINISHED = "playFinished", i.PLAY_FAILED = "playFailed", i.SUPPORTED_EXTENSIONS = ["mp3", "ogg", "opus", "mpeg", "wav", "m4a", "mp4", "aiff", "wma", "mid"], i.EXTENSION_MAP = {
            m4a: "mp4"
        }, i.FILE_PATTERN = /^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/, i.defaultInterruptBehavior = i.INTERRUPT_NONE, i.alternateExtensions = [], i.activePlugin = null, i._masterVolume = 1, Object.defineProperty(i, "volume", {
            get: function () {
                return this._masterVolume
            },
            set: function (t) {
                if (null == Number(t)) return !1;
                if (t = Math.max(0, Math.min(1, t)), i._masterVolume = t, !this.activePlugin || !this.activePlugin.setVolume || !this.activePlugin.setVolume(t))
                    for (var e = this._instances, n = 0, o = e.length; o > n; n++) e[n].setMasterVolume(t)
            }
        }), i._masterMute = !1, Object.defineProperty(i, "muted", {
            get: function () {
                return this._masterMute
            },
            set: function (t) {
                if (null == t) return !1;
                if (this._masterMute = t, !this.activePlugin || !this.activePlugin.setMute || !this.activePlugin.setMute(t))
                    for (var e = this._instances, i = 0, n = e.length; n > i; i++) e[i].setMasterMute(t);
                return !0
            }
        }), Object.defineProperty(i, "capabilities", {
            get: function () {
                return null == i.activePlugin ? null : i.activePlugin._capabilities
            },
            set: function (t) {
                return !1
            }
        }), i._pluginsRegistered = !1, i._lastID = 0, i._instances = [], i._idHash = {}, i._preloadHash = {}, i._defaultPlayPropsHash = {}, i.addEventListener = null, i.removeEventListener = null, i.removeAllEventListeners = null, i.dispatchEvent = null, i.hasEventListener = null, i._listeners = null, createjs.EventDispatcher.initialize(i), i.getPreloadHandlers = function () {
            return {
                callback: createjs.proxy(i.initLoad, i),
                types: ["sound"],
                extensions: i.SUPPORTED_EXTENSIONS
            }
        }, i._handleLoadComplete = function (t) {
            var e = t.target.getItem().src;
            if (i._preloadHash[e])
                for (var n = 0, o = i._preloadHash[e].length; o > n; n++) {
                    var s = i._preloadHash[e][n];
                    if (i._preloadHash[e][n] = !0, i.hasEventListener("fileload"))(t = new createjs.Event("fileload")).src = s.src, t.id = s.id, t.data = s.data, t.sprite = s.sprite, i.dispatchEvent(t)
                }
        }, i._handleLoadError = function (t) {
            var e = t.target.getItem().src;
            if (i._preloadHash[e])
                for (var n = 0, o = i._preloadHash[e].length; o > n; n++) {
                    var s = i._preloadHash[e][n];
                    if (i._preloadHash[e][n] = !1, i.hasEventListener("fileerror"))(t = new createjs.Event("fileerror")).src = s.src, t.id = s.id, t.data = s.data, t.sprite = s.sprite, i.dispatchEvent(t)
                }
        }, i._registerPlugin = function (t) {
            return !!t.isSupported() && (i.activePlugin = new t, !0)
        }, i.registerPlugins = function (t) {
            i._pluginsRegistered = !0;
            for (var e = 0, n = t.length; n > e; e++)
                if (i._registerPlugin(t[e])) return !0;
            return !1
        }, i.initializeDefaultPlugins = function () {
            return null != i.activePlugin || !i._pluginsRegistered && !!i.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin])
        }, i.isReady = function () {
            return null != i.activePlugin
        }, i.getCapabilities = function () {
            return null == i.activePlugin ? null : i.activePlugin._capabilities
        }, i.getCapability = function (t) {
            return null == i.activePlugin ? null : i.activePlugin._capabilities[t]
        }, i.initLoad = function (t) {
            return i._registerSound(t)
        }, i._registerSound = function (t) {
            if (!i.initializeDefaultPlugins()) return !1;
            var n;
            if (t.src instanceof Object ? (n = i._parseSrc(t.src)).src = t.path + n.src : n = i._parsePath(t.src), null == n) return !1;
            t.src = n.src, t.type = "sound";
            var o = t.data,
                s = null;
            if (null != o && (isNaN(o.channels) ? isNaN(o) || (s = parseInt(o)) : s = parseInt(o.channels), o.audioSprite))
                for (var a, r = o.audioSprite.length; r--;) a = o.audioSprite[r], i._idHash[a.id] = {
                    src: t.src,
                    startTime: parseInt(a.startTime),
                    duration: parseInt(a.duration)
                }, a.defaultPlayProps && (i._defaultPlayPropsHash[a.id] = createjs.PlayPropsConfig.create(a.defaultPlayProps));
            null != t.id && (i._idHash[t.id] = {
                src: t.src
            });
            var l = i.activePlugin.register(t);
            return e.create(t.src, s), null != o && isNaN(o) ? t.data.channels = s || e.maxPerChannel() : t.data = s || e.maxPerChannel(), l.type && (t.type = l.type), t.defaultPlayProps && (i._defaultPlayPropsHash[t.src] = createjs.PlayPropsConfig.create(t.defaultPlayProps)), l
        }, i.registerSound = function (t, e, n, o, s) {
            var a = {
                src: t,
                id: e,
                data: n,
                defaultPlayProps: s
            };
            t instanceof Object && t.src && (o = e, a = t), (a = createjs.LoadItem.create(a)).path = o, null == o || a.src instanceof Object || (a.src = o + t);
            var r = i._registerSound(a);
            if (!r) return !1;
            if (i._preloadHash[a.src] || (i._preloadHash[a.src] = []), i._preloadHash[a.src].push(a), 1 == i._preloadHash[a.src].length) r.on("complete", createjs.proxy(this._handleLoadComplete, this)), r.on("error", createjs.proxy(this._handleLoadError, this)), i.activePlugin.preload(r);
            else if (1 == i._preloadHash[a.src][0]) return !0;
            return a
        }, i.registerSounds = function (t, e) {
            var i = [];
            t.path && (e ? e += t.path : e = t.path, t = t.manifest);
            for (var n = 0, o = t.length; o > n; n++) i[n] = createjs.Sound.registerSound(t[n].src, t[n].id, t[n].data, e, t[n].defaultPlayProps);
            return i
        }, i.removeSound = function (t, n) {
            if (null == i.activePlugin) return !1;
            var o;
            if (t instanceof Object && t.src && (t = t.src), t instanceof Object ? o = i._parseSrc(t) : (t = i._getSrcById(t).src, o = i._parsePath(t)), null == o) return !1;
            for (var s in t = o.src, null != n && (t = n + t), i._idHash) i._idHash[s].src == t && delete i._idHash[s];
            return e.removeSrc(t), delete i._preloadHash[t], i.activePlugin.removeSound(t), !0
        }, i.removeSounds = function (t, e) {
            var i = [];
            t.path && (e ? e += t.path : e = t.path, t = t.manifest);
            for (var n = 0, o = t.length; o > n; n++) i[n] = createjs.Sound.removeSound(t[n].src, e);
            return i
        }, i.removeAllSounds = function () {
            i._idHash = {}, i._preloadHash = {}, e.removeAll(), i.activePlugin && i.activePlugin.removeAllSounds()
        }, i.loadComplete = function (t) {
            if (!i.isReady()) return !1;
            var e = i._parsePath(t);
            return t = e ? i._getSrcById(e.src).src : i._getSrcById(t).src, null != i._preloadHash[t] && 1 == i._preloadHash[t][0]
        }, i._parsePath = function (t) {
            "string" != typeof t && (t = t.toString());
            var e = t.match(i.FILE_PATTERN);
            if (null == e) return !1;
            for (var n = e[4], o = e[5], s = i.capabilities, a = 0; !s[o];)
                if (o = i.alternateExtensions[a++], a > i.alternateExtensions.length) return null;
            return {
                name: n,
                src: t = t.replace("." + e[5], "." + o),
                extension: o
            }
        }, i._parseSrc = function (t) {
            var e = {
                    name: void 0,
                    src: void 0,
                    extension: void 0
                },
                n = i.capabilities;
            for (var o in t)
                if (t.hasOwnProperty(o) && n[o]) {
                    e.src = t[o], e.extension = o;
                    break
                } if (!e.src) return !1;
            var s = e.src.lastIndexOf("/");
            return e.name = -1 != s ? e.src.slice(s + 1) : e.src, e
        }, i.play = function (t, e, n, o, s, a, r, l, u) {
            var h;
            h = e instanceof Object || e instanceof createjs.PlayPropsConfig ? createjs.PlayPropsConfig.create(e) : createjs.PlayPropsConfig.create({
                interrupt: e,
                delay: n,
                offset: o,
                loop: s,
                volume: a,
                pan: r,
                startTime: l,
                duration: u
            });
            var c = i.createInstance(t, h.startTime, h.duration);
            return i._playInstance(c, h) || c._playFailed(), c
        }, i.createInstance = function (t, n, o) {
            if (!i.initializeDefaultPlugins()) return new createjs.DefaultSoundInstance(t, n, o);
            var s = i._defaultPlayPropsHash[t];
            t = i._getSrcById(t);
            var a = i._parsePath(t.src),
                r = null;
            return null != a && null != a.src ? (e.create(a.src), null == n && (n = t.startTime), r = i.activePlugin.create(a.src, n, o || t.duration), (s = s || i._defaultPlayPropsHash[a.src]) && r.applyPlayProps(s)) : r = new createjs.DefaultSoundInstance(t, n, o), r.uniqueId = i._lastID++, r
        }, i.stop = function () {
            for (var t = this._instances, e = t.length; e--;) t[e].stop()
        }, i.setVolume = function (t) {
            if (null == Number(t)) return !1;
            if (t = Math.max(0, Math.min(1, t)), i._masterVolume = t, !this.activePlugin || !this.activePlugin.setVolume || !this.activePlugin.setVolume(t))
                for (var e = this._instances, n = 0, o = e.length; o > n; n++) e[n].setMasterVolume(t)
        }, i.getVolume = function () {
            return this._masterVolume
        }, i.setMute = function (t) {
            if (null == t) return !1;
            if (this._masterMute = t, !this.activePlugin || !this.activePlugin.setMute || !this.activePlugin.setMute(t))
                for (var e = this._instances, i = 0, n = e.length; n > i; i++) e[i].setMasterMute(t);
            return !0
        }, i.getMute = function () {
            return this._masterMute
        }, i.setDefaultPlayProps = function (t, e) {
            t = i._getSrcById(t), i._defaultPlayPropsHash[i._parsePath(t.src).src] = createjs.PlayPropsConfig.create(e)
        }, i.getDefaultPlayProps = function (t) {
            return t = i._getSrcById(t), i._defaultPlayPropsHash[i._parsePath(t.src).src]
        }, i._playInstance = function (t, e) {
            var n = i._defaultPlayPropsHash[t.src] || {};
            if (null == e.interrupt && (e.interrupt = n.interrupt || i.defaultInterruptBehavior), null == e.delay && (e.delay = n.delay || 0), null == e.offset && (e.offset = t.getPosition()), null == e.loop && (e.loop = t.loop), null == e.volume && (e.volume = t.volume), null == e.pan && (e.pan = t.pan), 0 == e.delay) {
                if (!i._beginPlaying(t, e)) return !1
            } else {
                var o = setTimeout((function () {
                    i._beginPlaying(t, e)
                }), e.delay);
                t.delayTimeoutId = o
            }
            return this._instances.push(t), !0
        }, i._beginPlaying = function (t, i) {
            if (!e.add(t, i.interrupt)) return !1;
            if (!t._beginPlaying(i)) {
                var n = createjs.indexOf(this._instances, t);
                return n > -1 && this._instances.splice(n, 1), !1
            }
            return !0
        }, i._getSrcById = function (t) {
            return i._idHash[t] || {
                src: t
            }
        }, i._playFinished = function (t) {
            e.remove(t);
            var i = createjs.indexOf(this._instances, t);
            i > -1 && this._instances.splice(i, 1)
        }, createjs.Sound = t, e.channels = {}, e.create = function (t, i) {
            return null == e.get(t) && (e.channels[t] = new e(t, i), !0)
        }, e.removeSrc = function (t) {
            var i = e.get(t);
            return null != i && (i._removeAll(), delete e.channels[t], !0)
        }, e.removeAll = function () {
            for (var t in e.channels) e.channels[t]._removeAll();
            e.channels = {}
        }, e.add = function (t, i) {
            var n = e.get(t.src);
            return null != n && n._add(t, i)
        }, e.remove = function (t) {
            var i = e.get(t.src);
            return null != i && (i._remove(t), !0)
        }, e.maxPerChannel = function () {
            return n.maxDefault
        }, e.get = function (t) {
            return e.channels[t]
        };
        var n = e.prototype;
        n.constructor = e, n.src = null, n.max = null, n.maxDefault = 100, n.length = 0, n.init = function (t, e) {
            this.src = t, this.max = e || this.maxDefault, -1 == this.max && (this.max = this.maxDefault), this._instances = []
        }, n._get = function (t) {
            return this._instances[t]
        }, n._add = function (t, e) {
            return !!this._getSlot(e, t) && (this._instances.push(t), this.length++, !0)
        }, n._remove = function (t) {
            var e = createjs.indexOf(this._instances, t);
            return -1 != e && (this._instances.splice(e, 1), this.length--, !0)
        }, n._removeAll = function () {
            for (var t = this.length - 1; t >= 0; t--) this._instances[t].stop()
        }, n._getSlot = function (e, i) {
            var n, o;
            if (e != t.INTERRUPT_NONE && null == (o = this._get(0))) return !0;
            for (var s = 0, a = this.max; a > s; s++) {
                if (null == (n = this._get(s))) return !0;
                if (n.playState == t.PLAY_FINISHED || n.playState == t.PLAY_INTERRUPTED || n.playState == t.PLAY_FAILED) {
                    o = n;
                    break
                }
                e != t.INTERRUPT_NONE && (e == t.INTERRUPT_EARLY && n.getPosition() < o.getPosition() || e == t.INTERRUPT_LATE && n.getPosition() > o.getPosition()) && (o = n)
            }
            return null != o && (o._interrupt(), this._remove(o), !0)
        }, n.toString = function () {
            return "[Sound SoundChannel]"
        }
    }(), this.createjs = this.createjs || {},
    function () {
        var t = function (t, e, i, n) {
                this.EventDispatcher_constructor(), this.src = t, this.uniqueId = -1, this.playState = null, this.delayTimeoutId = null, this._volume = 1, Object.defineProperty(this, "volume", {
                    get: this.getVolume,
                    set: this.setVolume
                }), this._pan = 0, Object.defineProperty(this, "pan", {
                    get: this.getPan,
                    set: this.setPan
                }), this._startTime = Math.max(0, e || 0), Object.defineProperty(this, "startTime", {
                    get: this.getStartTime,
                    set: this.setStartTime
                }), this._duration = Math.max(0, i || 0), Object.defineProperty(this, "duration", {
                    get: this.getDuration,
                    set: this.setDuration
                }), this._playbackResource = null, Object.defineProperty(this, "playbackResource", {
                    get: this.getPlaybackResource,
                    set: this.setPlaybackResource
                }), !1 !== n && !0 !== n && this.setPlaybackResource(n), this._position = 0, Object.defineProperty(this, "position", {
                    get: this.getPosition,
                    set: this.setPosition
                }), this._loop = 0, Object.defineProperty(this, "loop", {
                    get: this.getLoop,
                    set: this.setLoop
                }), this._muted = !1, Object.defineProperty(this, "muted", {
                    get: this.getMuted,
                    set: this.setMuted
                }), this._paused = !1, Object.defineProperty(this, "paused", {
                    get: this.getPaused,
                    set: this.setPaused
                })
            },
            e = createjs.extend(t, createjs.EventDispatcher);
        e.play = function (t, e, i, n, o, s) {
            var a;
            return a = t instanceof Object || t instanceof createjs.PlayPropsConfig ? createjs.PlayPropsConfig.create(t) : createjs.PlayPropsConfig.create({
                interrupt: t,
                delay: e,
                offset: i,
                loop: n,
                volume: o,
                pan: s
            }), this.playState == createjs.Sound.PLAY_SUCCEEDED ? (this.applyPlayProps(a), void(this._paused && this.setPaused(!1))) : (this._cleanUp(), createjs.Sound._playInstance(this, a), this)
        }, e.stop = function () {
            return this._position = 0, this._paused = !1, this._handleStop(), this._cleanUp(), this.playState = createjs.Sound.PLAY_FINISHED, this
        }, e.destroy = function () {
            this._cleanUp(), this.src = null, this.playbackResource = null, this.removeAllEventListeners()
        }, e.applyPlayProps = function (t) {
            return null != t.offset && this.setPosition(t.offset), null != t.loop && this.setLoop(t.loop), null != t.volume && this.setVolume(t.volume), null != t.pan && this.setPan(t.pan), null != t.startTime && (this.setStartTime(t.startTime), this.setDuration(t.duration)), this
        }, e.toString = function () {
            return "[AbstractSoundInstance]"
        }, e.getPaused = function () {
            return this._paused
        }, e.setPaused = function (t) {
            return !0 !== t && !1 !== t || this._paused == t || 1 == t && this.playState != createjs.Sound.PLAY_SUCCEEDED ? void 0 : (this._paused = t, t ? this._pause() : this._resume(), clearTimeout(this.delayTimeoutId), this)
        }, e.setVolume = function (t) {
            return t == this._volume || (this._volume = Math.max(0, Math.min(1, t)), this._muted || this._updateVolume()), this
        }, e.getVolume = function () {
            return this._volume
        }, e.setMuted = function (t) {
            return !0 === t || !1 === t ? (this._muted = t, this._updateVolume(), this) : void 0
        }, e.getMuted = function () {
            return this._muted
        }, e.setPan = function (t) {
            return t == this._pan || (this._pan = Math.max(-1, Math.min(1, t)), this._updatePan()), this
        }, e.getPan = function () {
            return this._pan
        }, e.getPosition = function () {
            return this._paused || this.playState != createjs.Sound.PLAY_SUCCEEDED || (this._position = this._calculateCurrentPosition()), this._position
        }, e.setPosition = function (t) {
            return this._position = Math.max(0, t), this.playState == createjs.Sound.PLAY_SUCCEEDED && this._updatePosition(), this
        }, e.getStartTime = function () {
            return this._startTime
        }, e.setStartTime = function (t) {
            return t == this._startTime || (this._startTime = Math.max(0, t || 0), this._updateStartTime()), this
        }, e.getDuration = function () {
            return this._duration
        }, e.setDuration = function (t) {
            return t == this._duration || (this._duration = Math.max(0, t || 0), this._updateDuration()), this
        }, e.setPlaybackResource = function (t) {
            return this._playbackResource = t, 0 == this._duration && this._setDurationFromSource(), this
        }, e.getPlaybackResource = function () {
            return this._playbackResource
        }, e.getLoop = function () {
            return this._loop
        }, e.setLoop = function (t) {
            null != this._playbackResource && (0 != this._loop && 0 == t ? this._removeLooping(t) : 0 == this._loop && 0 != t && this._addLooping(t)), this._loop = t
        }, e._sendEvent = function (t) {
            var e = new createjs.Event(t);
            this.dispatchEvent(e)
        }, e._cleanUp = function () {
            clearTimeout(this.delayTimeoutId), this._handleCleanUp(), this._paused = !1, createjs.Sound._playFinished(this)
        }, e._interrupt = function () {
            this._cleanUp(), this.playState = createjs.Sound.PLAY_INTERRUPTED, this._sendEvent("interrupted")
        }, e._beginPlaying = function (t) {
            return this.setPosition(t.offset), this.setLoop(t.loop), this.setVolume(t.volume), this.setPan(t.pan), null != t.startTime && (this.setStartTime(t.startTime), this.setDuration(t.duration)), null != this._playbackResource && this._position < this._duration ? (this._paused = !1, this._handleSoundReady(), this.playState = createjs.Sound.PLAY_SUCCEEDED, this._sendEvent("succeeded"), !0) : (this._playFailed(), !1)
        }, e._playFailed = function () {
            this._cleanUp(), this.playState = createjs.Sound.PLAY_FAILED, this._sendEvent("failed")
        }, e._handleSoundComplete = function (t) {
            return this._position = 0, 0 != this._loop ? (this._loop--, this._handleLoop(), void this._sendEvent("loop")) : (this._cleanUp(), this.playState = createjs.Sound.PLAY_FINISHED, void this._sendEvent("complete"))
        }, e._handleSoundReady = function () {}, e._updateVolume = function () {}, e._updatePan = function () {}, e._updateStartTime = function () {}, e._updateDuration = function () {}, e._setDurationFromSource = function () {}, e._calculateCurrentPosition = function () {}, e._updatePosition = function () {}, e._removeLooping = function (t) {}, e._addLooping = function (t) {}, e._pause = function () {}, e._resume = function () {}, e._handleStop = function () {}, e._handleCleanUp = function () {}, e._handleLoop = function () {}, createjs.AbstractSoundInstance = createjs.promote(t, "EventDispatcher"), createjs.DefaultSoundInstance = createjs.AbstractSoundInstance
    }(), this.createjs = this.createjs || {},
    function () {
        var t = function () {
                this._capabilities = null, this._loaders = {}, this._audioSources = {}, this._soundInstances = {}, this._volume = 1, this._loaderClass, this._soundInstanceClass
            },
            e = t.prototype;
        t._capabilities = null, t.isSupported = function () {
            return !0
        }, e.register = function (t) {
            var e = this._loaders[t.src];
            return e && !e.canceled ? this._loaders[t.src] : (this._audioSources[t.src] = !0, this._soundInstances[t.src] = [], (e = new this._loaderClass(t)).on("complete", createjs.proxy(this._handlePreloadComplete, this)), this._loaders[t.src] = e, e)
        }, e.preload = function (t) {
            t.on("error", createjs.proxy(this._handlePreloadError, this)), t.load()
        }, e.isPreloadStarted = function (t) {
            return null != this._audioSources[t]
        }, e.isPreloadComplete = function (t) {
            return !(null == this._audioSources[t] || 1 == this._audioSources[t])
        }, e.removeSound = function (t) {
            if (this._soundInstances[t]) {
                for (var e = this._soundInstances[t].length; e--;) {
                    this._soundInstances[t][e].destroy()
                }
                delete this._soundInstances[t], delete this._audioSources[t], this._loaders[t] && this._loaders[t].destroy(), delete this._loaders[t]
            }
        }, e.removeAllSounds = function () {
            for (var t in this._audioSources) this.removeSound(t)
        }, e.create = function (t, e, i) {
            this.isPreloadStarted(t) || this.preload(this.register(t));
            var n = new this._soundInstanceClass(t, e, i, this._audioSources[t]);
            return null == this._soundInstances[t] && (this._soundInstances[t] = []), n
        }, e.setVolume = function (t) {
            return this._volume = t, this._updateVolume(), !0
        }, e.getVolume = function () {
            return this._volume
        }, e.setMute = function (t) {
            return this._updateVolume(), !0
        }, e.toString = function () {
            return "[AbstractPlugin]"
        }, e._handlePreloadComplete = function (t) {
            var e = t.target.getItem().src;
            this._audioSources[e] = t.result;
            for (var i = 0, n = this._soundInstances[e].length; n > i; i++) {
                this._soundInstances[e][i].setPlaybackResource(this._audioSources[e])
            }
        }, e._handlePreloadError = function (t) {}, e._updateVolume = function () {}, createjs.AbstractPlugin = t
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t) {
            this.AbstractLoader_constructor(t, !0, createjs.AbstractLoader.SOUND)
        }
        var e = createjs.extend(t, createjs.AbstractLoader);
        t.context = null, e.toString = function () {
            return "[WebAudioLoader]"
        }, e._createRequest = function () {
            this._request = new createjs.XHRRequest(this._item, !1), this._request.setResponseType("arraybuffer")
        }, e._sendComplete = function (e) {
            t.context.decodeAudioData(this._rawResult, createjs.proxy(this._handleAudioDecoded, this), createjs.proxy(this._sendError, this))
        }, e._handleAudioDecoded = function (t) {
            this._result = t, this.AbstractLoader__sendComplete()
        }, createjs.WebAudioLoader = createjs.promote(t, "AbstractLoader")
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e, n, o) {
            this.AbstractSoundInstance_constructor(t, e, n, o), this.gainNode = i.context.createGain(), this.panNode = i.context.createPanner(), this.panNode.panningModel = i._panningModel, this.panNode.connect(this.gainNode), this.sourceNode = null, this._soundCompleteTimeout = null, this._sourceNodeNext = null, this._playbackStartTime = 0, this._endedHandler = createjs.proxy(this._handleSoundComplete, this)
        }
        var e = createjs.extend(t, createjs.AbstractSoundInstance),
            i = t;
        i.context = null, i.destinationNode = null, i._panningModel = "equalpower", e.destroy = function () {
            this.AbstractSoundInstance_destroy(), this.panNode.disconnect(0), this.panNode = null, this.gainNode.disconnect(0), this.gainNode = null
        }, e.toString = function () {
            return "[WebAudioSoundInstance]"
        }, e._updatePan = function () {
            this.panNode.setPosition(this._pan, 0, -.5)
        }, e._removeLooping = function (t) {
            this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)
        }, e._addLooping = function (t) {
            this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0))
        }, e._setDurationFromSource = function () {
            this._duration = 1e3 * this.playbackResource.duration
        }, e._handleCleanUp = function () {
            this.sourceNode && this.playState == createjs.Sound.PLAY_SUCCEEDED && (this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)), 0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0), clearTimeout(this._soundCompleteTimeout), this._playbackStartTime = 0
        }, e._cleanUpAudioNode = function (t) {
            if (t) {
                try {
                    t.stop(0)
                } catch (t) {}
                t.disconnect(0), t = null
            }
            return t
        }, e._handleSoundReady = function (t) {
            this.gainNode.connect(i.destinationNode);
            var e = .001 * this._duration,
                n = .001 * this._position;
            n > e && (n = e), this.sourceNode = this._createAndPlayAudioNode(i.context.currentTime - e, n), this._playbackStartTime = this.sourceNode.startTime - n, this._soundCompleteTimeout = setTimeout(this._endedHandler, 1e3 * (e - n)), 0 != this._loop && (this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0))
        }, e._createAndPlayAudioNode = function (t, e) {
            var n = i.context.createBufferSource();
            n.buffer = this.playbackResource, n.connect(this.panNode);
            var o = .001 * this._duration;
            return n.startTime = t + o, n.start(n.startTime, e + .001 * this._startTime, o - e), n
        }, e._pause = function () {
            this._position = 1e3 * (i.context.currentTime - this._playbackStartTime), this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext), 0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0), clearTimeout(this._soundCompleteTimeout)
        }, e._resume = function () {
            this._handleSoundReady()
        }, e._updateVolume = function () {
            var t = this._muted ? 0 : this._volume;
            t != this.gainNode.gain.value && (this.gainNode.gain.value = t)
        }, e._calculateCurrentPosition = function () {
            return 1e3 * (i.context.currentTime - this._playbackStartTime)
        }, e._updatePosition = function () {
            this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext), clearTimeout(this._soundCompleteTimeout), this._paused || this._handleSoundReady()
        }, e._handleLoop = function () {
            this._cleanUpAudioNode(this.sourceNode), this.sourceNode = this._sourceNodeNext, this._playbackStartTime = this.sourceNode.startTime, this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0), this._soundCompleteTimeout = setTimeout(this._endedHandler, this._duration)
        }, e._updateDuration = function () {
            this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._pause(), this._resume())
        }, createjs.WebAudioSoundInstance = createjs.promote(t, "AbstractSoundInstance")
    }(), this.createjs = this.createjs || {},
    function () {
        function t() {
            this.AbstractPlugin_constructor(), this._panningModel = i._panningModel, this.context = i.context, this.dynamicsCompressorNode = this.context.createDynamicsCompressor(), this.dynamicsCompressorNode.connect(this.context.destination), this.gainNode = this.context.createGain(), this.gainNode.connect(this.dynamicsCompressorNode), createjs.WebAudioSoundInstance.destinationNode = this.gainNode, this._capabilities = i._capabilities, this._loaderClass = createjs.WebAudioLoader, this._soundInstanceClass = createjs.WebAudioSoundInstance, this._addPropsToClasses()
        }
        var e = createjs.extend(t, createjs.AbstractPlugin),
            i = t;
        i._capabilities = null, i._panningModel = "equalpower", i.context = null, i.isSupported = function () {
            var t = createjs.BrowserDetect.isIOS || createjs.BrowserDetect.isAndroid || createjs.BrowserDetect.isBlackberry;
            return !("file:" == location.protocol && !t && !this._isFileXHRSupported()) && (i._generateCapabilities(), null != i.context)
        }, i.playEmptySound = function () {
            if (null != i.context) {
                var t = i.context.createBufferSource();
                t.buffer = i.context.createBuffer(1, 1, 22050), t.connect(i.context.destination), t.start(0, 0, 0)
            }
        }, i._isFileXHRSupported = function () {
            var t = !0,
                e = new XMLHttpRequest;
            try {
                e.open("GET", "WebAudioPluginTest.fail", !1)
            } catch (e) {
                return t = !1
            }
            e.onerror = function () {
                t = !1
            }, e.onload = function () {
                t = 404 == this.status || 200 == this.status || 0 == this.status && "" != this.response
            };
            try {
                e.send()
            } catch (e) {
                t = !1
            }
            return t
        }, i._generateCapabilities = function () {
            if (null == i._capabilities) {
                var t = document.createElement("audio");
                if (null == t.canPlayType) return null;
                if (null == i.context)
                    if (window.AudioContext) i.context = new AudioContext;
                    else {
                        if (!window.webkitAudioContext) return null;
                        i.context = new webkitAudioContext
                    } i._compatibilitySetUp(), i.playEmptySound(), i._capabilities = {
                    panning: !0,
                    volume: !0,
                    tracks: -1
                };
                for (var e = createjs.Sound.SUPPORTED_EXTENSIONS, n = createjs.Sound.EXTENSION_MAP, o = 0, s = e.length; s > o; o++) {
                    var a = e[o],
                        r = n[a] || a;
                    i._capabilities[a] = "no" != t.canPlayType("audio/" + a) && "" != t.canPlayType("audio/" + a) || "no" != t.canPlayType("audio/" + r) && "" != t.canPlayType("audio/" + r)
                }
                i.context.destination.numberOfChannels < 2 && (i._capabilities.panning = !1)
            }
        }, i._compatibilitySetUp = function () {
            if (i._panningModel = "equalpower", !i.context.createGain) {
                i.context.createGain = i.context.createGainNode;
                var t = i.context.createBufferSource();
                t.__proto__.start = t.__proto__.noteGrainOn, t.__proto__.stop = t.__proto__.noteOff, i._panningModel = 0
            }
        }, e.toString = function () {
            return "[WebAudioPlugin]"
        }, e._addPropsToClasses = function () {
            var t = this._soundInstanceClass;
            t.context = this.context, t.destinationNode = this.gainNode, t._panningModel = this._panningModel, this._loaderClass.context = this.context
        }, e._updateVolume = function () {
            var t = createjs.Sound._masterMute ? 0 : this._volume;
            t != this.gainNode.gain.value && (this.gainNode.gain.value = t)
        }, createjs.WebAudioPlugin = createjs.promote(t, "AbstractPlugin")
    }(), this.createjs = this.createjs || {},
    function () {
        function t() {
            throw "HTMLAudioTagPool cannot be instantiated"
        }

        function e(t) {
            this._tags = []
        }
        var i = t;
        i._tags = {}, i._tagPool = new e, i._tagUsed = {}, i.get = function (t) {
            var e = i._tags[t];
            return null == e ? (e = i._tags[t] = i._tagPool.get()).src = t : i._tagUsed[t] ? (e = i._tagPool.get()).src = t : i._tagUsed[t] = !0, e
        }, i.set = function (t, e) {
            e == i._tags[t] ? i._tagUsed[t] = !1 : i._tagPool.set(e)
        }, i.remove = function (t) {
            var e = i._tags[t];
            return null != e && (i._tagPool.set(e), delete i._tags[t], delete i._tagUsed[t], !0)
        }, i.getDuration = function (t) {
            var e = i._tags[t];
            return null == e ? 0 : 1e3 * e.duration
        }, createjs.HTMLAudioTagPool = t;
        var n = e.prototype;
        n.constructor = e, n.get = function () {
            var t;
            return null == (t = 0 == this._tags.length ? this._createTag() : this._tags.pop()).parentNode && document.body.appendChild(t), t
        }, n.set = function (t) {
            -1 == createjs.indexOf(this._tags, t) && (this._tags.src = null, this._tags.push(t))
        }, n.toString = function () {
            return "[TagPool]"
        }, n._createTag = function () {
            var t = document.createElement("audio");
            return t.autoplay = !1, t.preload = "none", t
        }
    }(), this.createjs = this.createjs || {},
    function () {
        function t(t, e, i, n) {
            this.AbstractSoundInstance_constructor(t, e, i, n), this._audioSpriteStopTime = null, this._delayTimeoutId = null, this._endedHandler = createjs.proxy(this._handleSoundComplete, this), this._readyHandler = createjs.proxy(this._handleTagReady, this), this._stalledHandler = createjs.proxy(this._playFailed, this), this._audioSpriteEndHandler = createjs.proxy(this._handleAudioSpriteLoop, this), this._loopHandler = createjs.proxy(this._handleSoundComplete, this), i ? this._audioSpriteStopTime = .001 * (e + i) : this._duration = createjs.HTMLAudioTagPool.getDuration(this.src)
        }
        var e = createjs.extend(t, createjs.AbstractSoundInstance);
        e.setMasterVolume = function (t) {
            this._updateVolume()
        }, e.setMasterMute = function (t) {
            this._updateVolume()
        }, e.toString = function () {
            return "[HTMLAudioSoundInstance]"
        }, e._removeLooping = function () {
            null != this._playbackResource && (this._playbackResource.loop = !1, this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
        }, e._addLooping = function () {
            null == this._playbackResource || this._audioSpriteStopTime || (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.loop = !0)
        }, e._handleCleanUp = function () {
            var t = this._playbackResource;
            if (null != t) {
                t.pause(), t.loop = !1, t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1);
                try {
                    t.currentTime = this._startTime
                } catch (t) {}
                createjs.HTMLAudioTagPool.set(this.src, t), this._playbackResource = null
            }
        }, e._beginPlaying = function (t) {
            return this._playbackResource = createjs.HTMLAudioTagPool.get(this.src), this.AbstractSoundInstance__beginPlaying(t)
        }, e._handleSoundReady = function (t) {
            if (4 !== this._playbackResource.readyState) {
                var e = this._playbackResource;
                return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), e.preload = "auto", void e.load()
            }
            this._updateVolume(), this._playbackResource.currentTime = .001 * (this._startTime + this._position), this._audioSpriteStopTime ? this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1) : (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), 0 != this._loop && (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.loop = !0)), this._playbackResource.play()
        }, e._handleTagReady = function (t) {
            this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), this._handleSoundReady()
        }, e._pause = function () {
            this._playbackResource.pause()
        }, e._resume = function () {
            this._playbackResource.play()
        }, e._updateVolume = function () {
            if (null != this._playbackResource) {
                var t = this._muted || createjs.Sound._masterMute ? 0 : this._volume * createjs.Sound._masterVolume;
                t != this._playbackResource.volume && (this._playbackResource.volume = t)
            }
        }, e._calculateCurrentPosition = function () {
            return 1e3 * this._playbackResource.currentTime - this._startTime
        }, e._updatePosition = function () {
            this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, !1);
            try {
                this._playbackResource.currentTime = .001 * (this._position + this._startTime)
            } catch (t) {
                this._handleSetPositionSeek(null)
            }
        }, e._handleSetPositionSeek = function (t) {
            null != this._playbackResource && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
        }, e._handleAudioSpriteLoop = function (t) {
            this._playbackResource.currentTime <= this._audioSpriteStopTime || (this._playbackResource.pause(), 0 == this._loop ? this._handleSoundComplete(null) : (this._position = 0, this._loop--, this._playbackResource.currentTime = .001 * this._startTime, this._paused || this._playbackResource.play(), this._sendEvent("loop")))
        }, e._handleLoop = function (t) {
            0 == this._loop && (this._playbackResource.loop = !1, this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
        }, e._updateStartTime = function () {
            this._audioSpriteStopTime = .001 * (this._startTime + this._duration), this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1))
        }, e._updateDuration = function () {
            this._audioSpriteStopTime = .001 * (this._startTime + this._duration), this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1))
        }, createjs.HTMLAudioSoundInstance = createjs.promote(t, "AbstractSoundInstance")
    }(), this.createjs = this.createjs || {},
    function () {
        function t() {
            this.AbstractPlugin_constructor(), this.defaultNumChannels = 2, this._capabilities = i._capabilities, this._loaderClass = createjs.SoundLoader, this._soundInstanceClass = createjs.HTMLAudioSoundInstance
        }
        var e = createjs.extend(t, createjs.AbstractPlugin),
            i = t;
        i.MAX_INSTANCES = 30, i._AUDIO_READY = "canplaythrough", i._AUDIO_ENDED = "ended", i._AUDIO_SEEKED = "seeked", i._AUDIO_STALLED = "stalled", i._TIME_UPDATE = "timeupdate", i._capabilities = null, i.isSupported = function () {
            return i._generateCapabilities(), null != i._capabilities
        }, i._generateCapabilities = function () {
            if (null == i._capabilities) {
                var t = document.createElement("audio");
                if (null == t.canPlayType) return null;
                i._capabilities = {
                    panning: !1,
                    volume: !0,
                    tracks: -1
                };
                for (var e = createjs.Sound.SUPPORTED_EXTENSIONS, n = createjs.Sound.EXTENSION_MAP, o = 0, s = e.length; s > o; o++) {
                    var a = e[o],
                        r = n[a] || a;
                    i._capabilities[a] = "no" != t.canPlayType("audio/" + a) && "" != t.canPlayType("audio/" + a) || "no" != t.canPlayType("audio/" + r) && "" != t.canPlayType("audio/" + r)
                }
            }
        }, e.register = function (t) {
            var e = createjs.HTMLAudioTagPool.get(t.src),
                i = this.AbstractPlugin_register(t);
            return i.setTag(e), i
        }, e.removeSound = function (t) {
            this.AbstractPlugin_removeSound(t), createjs.HTMLAudioTagPool.remove(t)
        }, e.create = function (t, e, i) {
            var n = this.AbstractPlugin_create(t, e, i);
            return n.setPlaybackResource(null), n
        }, e.toString = function () {
            return "[HTMLAudioPlugin]"
        }, e.setVolume = e.getVolume = e.setMute = null, createjs.HTMLAudioPlugin = createjs.promote(t, "AbstractPlugin")
    }(),
    function (t, e) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.JSON5 = e()
    }(this, (function () {
        function t(t, e) {
            return t(e = {
                exports: {}
            }, e.exports), e.exports
        }
        var e = t((function (t) {
                var e = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
                "number" == typeof __g && (__g = e)
            })),
            i = t((function (t) {
                var e = t.exports = {
                    version: "2.5.7"
                };
                "number" == typeof __e && (__e = e)
            })),
            n = (i.version, function (t) {
                return "object" == typeof t ? null !== t : "function" == typeof t
            }),
            o = function (t) {
                if (!n(t)) throw TypeError(t + " is not an object!");
                return t
            },
            s = function (t) {
                try {
                    return !!t()
                } catch (t) {
                    return !0
                }
            },
            a = !s((function () {
                return 7 != Object.defineProperty({}, "a", {
                    get: function () {
                        return 7
                    }
                }).a
            })),
            r = e.document,
            l = n(r) && n(r.createElement),
            u = !a && !s((function () {
                return 7 != Object.defineProperty(("div", l ? r.createElement("div") : {}), "a", {
                    get: function () {
                        return 7
                    }
                }).a
            })),
            h = Object.defineProperty,
            c = {
                f: a ? Object.defineProperty : function (t, e, i) {
                    if (o(t), e = function (t, e) {
                            if (!n(t)) return t;
                            var i, o;
                            if ("function" == typeof (i = t.toString) && !n(o = i.call(t))) return o;
                            if ("function" == typeof (i = t.valueOf) && !n(o = i.call(t))) return o;
                            if (0) return o;
                            throw TypeError("Can't convert object to primitive value")
                        }(e), o(i), u) try {
                        return h(t, e, i)
                    } catch (t) {}
                    if ("get" in i || "set" in i) throw TypeError("Accessors not supported!");
                    return "value" in i && (t[e] = i.value), t
                }
            },
            p = a ? function (t, e, i) {
                return c.f(t, e, function (t, e) {
                    return {
                        enumerable: !1,
                        configurable: !0,
                        writable: !0,
                        value: e
                    }
                }(0, i))
            } : function (t, e, i) {
                return t[e] = i, t
            },
            d = {}.hasOwnProperty,
            m = function (t, e) {
                return d.call(t, e)
            },
            S = 0,
            g = Math.random(),
            y = t((function (t) {
                var n = "Symbol(".concat(void 0 === "src" ? "" : "src", ")_", (++S + g).toString(36)),
                    o = Function.toString,
                    s = ("" + o).split("toString");
                i.inspectSource = function (t) {
                    return o.call(t)
                }, (t.exports = function (t, i, o, a) {
                    var r = "function" == typeof o;
                    r && (m(o, "name") || p(o, "name", i)), t[i] !== o && (r && (m(o, n) || p(o, n, t[i] ? "" + t[i] : s.join(String(i)))), t === e ? t[i] = o : a ? t[i] ? t[i] = o : p(t, i, o) : (delete t[i], p(t, i, o)))
                })(Function.prototype, "toString", (function () {
                    return "function" == typeof this && this[n] || o.call(this)
                }))
            })),
            f = function (t, e, i) {
                if (function (t) {
                        if ("function" != typeof t) throw TypeError(t + " is not a function!")
                    }(t), void 0 === e) return t;
                switch (i) {
                    case 1:
                        return function (i) {
                            return t.call(e, i)
                        };
                    case 2:
                        return function (i, n) {
                            return t.call(e, i, n)
                        };
                    case 3:
                        return function (i, n, o) {
                            return t.call(e, i, n, o)
                        }
                }
                return function () {
                    return t.apply(e, arguments)
                }
            },
            b = function (t, n, o) {
                var s, a, r, l, u = t & b.F,
                    h = t & b.G,
                    c = t & b.S,
                    d = t & b.P,
                    m = t & b.B,
                    S = h ? e : c ? e[n] || (e[n] = {}) : (e[n] || {}).prototype,
                    g = h ? i : i[n] || (i[n] = {}),
                    T = g.prototype || (g.prototype = {});
                for (s in h && (o = n), o) r = ((a = !u && S && void 0 !== S[s]) ? S : o)[s], l = m && a ? f(r, e) : d && "function" == typeof r ? f(Function.call, r) : r, S && y(S, s, r, t & b.U), g[s] != r && p(g, s, l), d && T[s] != r && (T[s] = r)
            };
        e.core = i, b.F = 1, b.G = 2, b.S = 4, b.P = 8, b.B = 16, b.W = 32, b.U = 64, b.R = 128;
        var T = b,
            C = Math.ceil,
            A = Math.floor,
            v = function (t) {
                return isNaN(t = +t) ? 0 : (t > 0 ? A : C)(t)
            },
            M = (!1, function (t, e) {
                var i, n, o = String(function (t) {
                        if (null == t) throw TypeError("Can't call method on  " + t);
                        return t
                    }(t)),
                    s = v(e),
                    a = o.length;
                return s < 0 || s >= a ? void 0 : (i = o.charCodeAt(s)) < 55296 || i > 56319 || s + 1 === a || (n = o.charCodeAt(s + 1)) < 56320 || n > 57343 ? i : n - 56320 + (i - 55296 << 10) + 65536
            });
        T(T.P, "String", {
            codePointAt: function (t) {
                return M(this, t)
            }
        }), i.String.codePointAt;
        var L = Math.max,
            I = Math.min,
            P = String.fromCharCode,
            R = String.fromCodePoint;
        T(T.S + T.F * (!!R && 1 != R.length), "String", {
            fromCodePoint: function (t) {
                for (var e, i, n, o = arguments, s = [], a = arguments.length, r = 0; a > r;) {
                    if (e = +o[r++], n = 1114111, ((i = v(i = e)) < 0 ? L(i + n, 0) : I(i, n)) !== e) throw RangeError(e + " is not a valid code point");
                    s.push(e < 65536 ? P(e) : P(55296 + ((e -= 65536) >> 10), e % 1024 + 56320))
                }
                return s.join("")
            }
        }), i.String.fromCodePoint;
        var _, E, D, O, w, x, B, k, V, G, F, j, U, N, X = {
                Space_Separator: /[\u1680\u2000-\u200A\u202F\u205F\u3000]/,
                ID_Start: /[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
                ID_Continue: /[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/
            },
            W = function (t) {
                return X.Space_Separator.test(t)
            },
            H = function (t) {
                return t >= "a" && t <= "z" || t >= "A" && t <= "Z" || "$" === t || "_" === t || X.ID_Start.test(t)
            },
            z = function (t) {
                return t >= "a" && t <= "z" || t >= "A" && t <= "Z" || t >= "0" && t <= "9" || "$" === t || "_" === t || "‌" === t || "‍" === t || X.ID_Continue.test(t)
            },
            J = function (t) {
                return /[0-9]/.test(t)
            },
            q = function (t) {
                return /[0-9A-Fa-f]/.test(t)
            };

        function Y() {
            for (G = "default", F = "", j = !1, U = 1;;) {
                N = Q();
                var t = K[G]();
                if (t) return t
            }
        }

        function Q() {
            if (_[O]) return String.fromCodePoint(_.codePointAt(O))
        }

        function Z() {
            var t = Q();
            return "\n" === t ? (w++, x = 0) : t ? x += t.length : x++, t && (O += t.length), t
        }
        var K = {
            default: function () {
                switch (N) {
                    case "\t":
                    case "\v":
                    case "\f":
                    case " ":
                    case " ":
                    case "\ufeff":
                    case "\n":
                    case "\r":
                    case "\u2028":
                    case "\u2029":
                        return void Z();
                    case "/":
                        return Z(), void(G = "comment");
                    case void 0:
                        return Z(), $("eof")
                }
                if (!W(N)) return K[E]();
                Z()
            },
            comment: function () {
                switch (N) {
                    case "*":
                        return Z(), void(G = "multiLineComment");
                    case "/":
                        return Z(), void(G = "singleLineComment")
                }
                throw st(Z())
            },
            multiLineComment: function () {
                switch (N) {
                    case "*":
                        return Z(), void(G = "multiLineCommentAsterisk");
                    case void 0:
                        throw st(Z())
                }
                Z()
            },
            multiLineCommentAsterisk: function () {
                switch (N) {
                    case "*":
                        return void Z();
                    case "/":
                        return Z(), void(G = "default");
                    case void 0:
                        throw st(Z())
                }
                Z(), G = "multiLineComment"
            },
            singleLineComment: function () {
                switch (N) {
                    case "\n":
                    case "\r":
                    case "\u2028":
                    case "\u2029":
                        return Z(), void(G = "default");
                    case void 0:
                        return Z(), $("eof")
                }
                Z()
            },
            value: function () {
                switch (N) {
                    case "{":
                    case "[":
                        return $("punctuator", Z());
                    case "n":
                        return Z(), tt("ull"), $("null", null);
                    case "t":
                        return Z(), tt("rue"), $("boolean", !0);
                    case "f":
                        return Z(), tt("alse"), $("boolean", !1);
                    case "-":
                    case "+":
                        return "-" === Z() && (U = -1), void(G = "sign");
                    case ".":
                        return F = Z(), void(G = "decimalPointLeading");
                    case "0":
                        return F = Z(), void(G = "zero");
                    case "1":
                    case "2":
                    case "3":
                    case "4":
                    case "5":
                    case "6":
                    case "7":
                    case "8":
                    case "9":
                        return F = Z(), void(G = "decimalInteger");
                    case "I":
                        return Z(), tt("nfinity"), $("numeric", 1 / 0);
                    case "N":
                        return Z(), tt("aN"), $("numeric", NaN);
                    case '"':
                    case "'":
                        return j = '"' === Z(), F = "", void(G = "string")
                }
                throw st(Z())
            },
            identifierNameStartEscape: function () {
                if ("u" !== N) throw st(Z());
                Z();
                var t = et();
                switch (t) {
                    case "$":
                    case "_":
                        break;
                    default:
                        if (!H(t)) throw rt()
                }
                F += t, G = "identifierName"
            },
            identifierName: function () {
                switch (N) {
                    case "$":
                    case "_":
                    case "‌":
                    case "‍":
                        return void(F += Z());
                    case "\\":
                        return Z(), void(G = "identifierNameEscape")
                }
                if (!z(N)) return $("identifier", F);
                F += Z()
            },
            identifierNameEscape: function () {
                if ("u" !== N) throw st(Z());
                Z();
                var t = et();
                switch (t) {
                    case "$":
                    case "_":
                    case "‌":
                    case "‍":
                        break;
                    default:
                        if (!z(t)) throw rt()
                }
                F += t, G = "identifierName"
            },
            sign: function () {
                switch (N) {
                    case ".":
                        return F = Z(), void(G = "decimalPointLeading");
                    case "0":
                        return F = Z(), void(G = "zero");
                    case "1":
                    case "2":
                    case "3":
                    case "4":
                    case "5":
                    case "6":
                    case "7":
                    case "8":
                    case "9":
                        return F = Z(), void(G = "decimalInteger");
                    case "I":
                        return Z(), tt("nfinity"), $("numeric", U * (1 / 0));
                    case "N":
                        return Z(), tt("aN"), $("numeric", NaN)
                }
                throw st(Z())
            },
            zero: function () {
                switch (N) {
                    case ".":
                        return F += Z(), void(G = "decimalPoint");
                    case "e":
                    case "E":
                        return F += Z(), void(G = "decimalExponent");
                    case "x":
                    case "X":
                        return F += Z(), void(G = "hexadecimal")
                }
                return $("numeric", 0 * U)
            },
            decimalInteger: function () {
                switch (N) {
                    case ".":
                        return F += Z(), void(G = "decimalPoint");
                    case "e":
                    case "E":
                        return F += Z(), void(G = "decimalExponent")
                }
                if (!J(N)) return $("numeric", U * Number(F));
                F += Z()
            },
            decimalPointLeading: function () {
                if (J(N)) return F += Z(), void(G = "decimalFraction");
                throw st(Z())
            },
            decimalPoint: function () {
                switch (N) {
                    case "e":
                    case "E":
                        return F += Z(), void(G = "decimalExponent")
                }
                return J(N) ? (F += Z(), void(G = "decimalFraction")) : $("numeric", U * Number(F))
            },
            decimalFraction: function () {
                switch (N) {
                    case "e":
                    case "E":
                        return F += Z(), void(G = "decimalExponent")
                }
                if (!J(N)) return $("numeric", U * Number(F));
                F += Z()
            },
            decimalExponent: function () {
                switch (N) {
                    case "+":
                    case "-":
                        return F += Z(), void(G = "decimalExponentSign")
                }
                if (J(N)) return F += Z(), void(G = "decimalExponentInteger");
                throw st(Z())
            },
            decimalExponentSign: function () {
                if (J(N)) return F += Z(), void(G = "decimalExponentInteger");
                throw st(Z())
            },
            decimalExponentInteger: function () {
                if (!J(N)) return $("numeric", U * Number(F));
                F += Z()
            },
            hexadecimal: function () {
                if (q(N)) return F += Z(), void(G = "hexadecimalInteger");
                throw st(Z())
            },
            hexadecimalInteger: function () {
                if (!q(N)) return $("numeric", U * Number(F));
                F += Z()
            },
            string: function () {
                switch (N) {
                    case "\\":
                        return Z(), void(F += function () {
                            switch (Q()) {
                                case "b":
                                    return Z(), "\b";
                                case "f":
                                    return Z(), "\f";
                                case "n":
                                    return Z(), "\n";
                                case "r":
                                    return Z(), "\r";
                                case "t":
                                    return Z(), "\t";
                                case "v":
                                    return Z(), "\v";
                                case "0":
                                    if (Z(), J(Q())) throw st(Z());
                                    return "\0";
                                case "x":
                                    return Z(),
                                        function () {
                                            var t = "",
                                                e = Q();
                                            if (!q(e)) throw st(Z());
                                            if (t += Z(), e = Q(), !q(e)) throw st(Z());
                                            return t += Z(), String.fromCodePoint(parseInt(t, 16))
                                        }();
                                case "u":
                                    return Z(), et();
                                case "\n":
                                case "\u2028":
                                case "\u2029":
                                    return Z(), "";
                                case "\r":
                                    return Z(), "\n" === Q() && Z(), "";
                                case "1":
                                case "2":
                                case "3":
                                case "4":
                                case "5":
                                case "6":
                                case "7":
                                case "8":
                                case "9":
                                case void 0:
                                    throw st(Z())
                            }
                            return Z()
                        }());
                    case '"':
                        return j ? (Z(), $("string", F)) : void(F += Z());
                    case "'":
                        return j ? void(F += Z()) : (Z(), $("string", F));
                    case "\n":
                    case "\r":
                        throw st(Z());
                    case "\u2028":
                    case "\u2029":
                        break;
                    case void 0:
                        throw st(Z())
                }
                F += Z()
            },
            start: function () {
                switch (N) {
                    case "{":
                    case "[":
                        return $("punctuator", Z())
                }
                G = "value"
            },
            beforePropertyName: function () {
                switch (N) {
                    case "$":
                    case "_":
                        return F = Z(), void(G = "identifierName");
                    case "\\":
                        return Z(), void(G = "identifierNameStartEscape");
                    case "}":
                        return $("punctuator", Z());
                    case '"':
                    case "'":
                        return j = '"' === Z(), void(G = "string")
                }
                if (H(N)) return F += Z(), void(G = "identifierName");
                throw st(Z())
            },
            afterPropertyName: function () {
                if (":" === N) return $("punctuator", Z());
                throw st(Z())
            },
            beforePropertyValue: function () {
                G = "value"
            },
            afterPropertyValue: function () {
                switch (N) {
                    case ",":
                    case "}":
                        return $("punctuator", Z())
                }
                throw st(Z())
            },
            beforeArrayValue: function () {
                if ("]" === N) return $("punctuator", Z());
                G = "value"
            },
            afterArrayValue: function () {
                switch (N) {
                    case ",":
                    case "]":
                        return $("punctuator", Z())
                }
                throw st(Z())
            },
            end: function () {
                throw st(Z())
            }
        };

        function $(t, e) {
            return {
                type: t,
                value: e,
                line: w,
                column: x
            }
        }

        function tt(t) {
            for (var e = 0, i = t; e < i.length; e += 1) {
                var n = i[e];
                if (Q() !== n) throw st(Z());
                Z()
            }
        }

        function et() {
            for (var t = "", e = 4; e-- > 0;) {
                var i = Q();
                if (!q(i)) throw st(Z());
                t += Z()
            }
            return String.fromCodePoint(parseInt(t, 16))
        }
        var it = {
            start: function () {
                if ("eof" === B.type) throw at();
                nt()
            },
            beforePropertyName: function () {
                switch (B.type) {
                    case "identifier":
                    case "string":
                        return k = B.value, void(E = "afterPropertyName");
                    case "punctuator":
                        return void ot();
                    case "eof":
                        throw at()
                }
            },
            afterPropertyName: function () {
                if ("eof" === B.type) throw at();
                E = "beforePropertyValue"
            },
            beforePropertyValue: function () {
                if ("eof" === B.type) throw at();
                nt()
            },
            beforeArrayValue: function () {
                if ("eof" === B.type) throw at();
                "punctuator" !== B.type || "]" !== B.value ? nt() : ot()
            },
            afterPropertyValue: function () {
                if ("eof" === B.type) throw at();
                switch (B.value) {
                    case ",":
                        return void(E = "beforePropertyName");
                    case "}":
                        ot()
                }
            },
            afterArrayValue: function () {
                if ("eof" === B.type) throw at();
                switch (B.value) {
                    case ",":
                        return void(E = "beforeArrayValue");
                    case "]":
                        ot()
                }
            },
            end: function () {}
        };

        function nt() {
            var t;
            switch (B.type) {
                case "punctuator":
                    switch (B.value) {
                        case "{":
                            t = {};
                            break;
                        case "[":
                            t = []
                    }
                    break;
                case "null":
                case "boolean":
                case "numeric":
                case "string":
                    t = B.value
            }
            if (void 0 === V) V = t;
            else {
                var e = D[D.length - 1];
                Array.isArray(e) ? e.push(t) : e[k] = t
            }
            if (null !== t && "object" == typeof t) D.push(t), E = Array.isArray(t) ? "beforeArrayValue" : "beforePropertyName";
            else {
                var i = D[D.length - 1];
                E = null == i ? "end" : Array.isArray(i) ? "afterArrayValue" : "afterPropertyValue"
            }
        }

        function ot() {
            D.pop();
            var t = D[D.length - 1];
            E = null == t ? "end" : Array.isArray(t) ? "afterArrayValue" : "afterPropertyValue"
        }

        function st(t) {
            return lt(void 0 === t ? "JSON5: invalid end of input at " + w + ":" + x : "JSON5: invalid character '" + function (t) {
                var e = {
                    "'": "\\'",
                    '"': '\\"',
                    "\\": "\\\\",
                    "\b": "\\b",
                    "\f": "\\f",
                    "\n": "\\n",
                    "\r": "\\r",
                    "\t": "\\t",
                    "\v": "\\v",
                    "\0": "\\0",
                    "\u2028": "\\u2028",
                    "\u2029": "\\u2029"
                };
                if (e[t]) return e[t];
                if (t < " ") {
                    var i = t.charCodeAt(0).toString(16);
                    return "\\x" + ("00" + i).substring(i.length)
                }
                return t
            }(t) + "' at " + w + ":" + x)
        }

        function at() {
            return lt("JSON5: invalid end of input at " + w + ":" + x)
        }

        function rt() {
            return lt("JSON5: invalid identifier character at " + w + ":" + (x -= 5))
        }

        function lt(t) {
            var e = new SyntaxError(t);
            return e.lineNumber = w, e.columnNumber = x, e
        }
        return {
            parse: function (t, e) {
                _ = String(t), E = "start", D = [], O = 0, w = 1, x = 0, B = void 0, k = void 0, V = void 0;
                do {
                    B = Y(), it[E]()
                } while ("eof" !== B.type);
                return "function" == typeof e ? function t(e, i, n) {
                    var o = e[i];
                    if (null != o && "object" == typeof o)
                        for (var s in o) {
                            var a = t(o, s, n);
                            void 0 === a ? delete o[s] : o[s] = a
                        }
                    return n.call(e, i, o)
                }({
                    "": V
                }, "", e) : V
            },
            stringify: function (t, e, i) {
                var n, o, s, a = [],
                    r = "",
                    l = "";
                if (null == e || "object" != typeof e || Array.isArray(e) || (i = e.space, s = e.quote, e = e.replacer), "function" == typeof e) o = e;
                else if (Array.isArray(e)) {
                    n = [];
                    for (var u = 0, h = e; u < h.length; u += 1) {
                        var c = h[u],
                            p = void 0;
                        "string" == typeof c ? p = c : ("number" == typeof c || c instanceof String || c instanceof Number) && (p = String(c)), void 0 !== p && n.indexOf(p) < 0 && n.push(p)
                    }
                }
                return i instanceof Number ? i = Number(i) : i instanceof String && (i = String(i)), "number" == typeof i ? i > 0 && (i = Math.min(10, Math.floor(i)), l = "          ".substr(0, i)) : "string" == typeof i && (l = i.substr(0, 10)),
                    function t(e, i) {
                        var s = i[e];
                        switch (null != s && ("function" == typeof s.toJSON5 ? s = s.toJSON5(e) : "function" == typeof s.toJSON && (s = s.toJSON(e))), o && (s = o.call(i, e, s)), s instanceof Number ? s = Number(s) : s instanceof String ? s = String(s) : s instanceof Boolean && (s = s.valueOf()), s) {
                            case null:
                                return "null";
                            case !0:
                                return "true";
                            case !1:
                                return "false"
                        }
                        return "string" == typeof s ? d(s) : "number" == typeof s ? String(s) : "object" == typeof s ? Array.isArray(s) ? function (e) {
                            if (a.indexOf(e) >= 0) throw TypeError("Converting circular structure to JSON5");
                            a.push(e);
                            var i = r;
                            r += l;
                            for (var n, o = [], s = 0; s < e.length; s++) {
                                var u = t(String(s), e);
                                o.push(void 0 !== u ? u : "null")
                            }
                            if (0 === o.length) n = "[]";
                            else if ("" === l) {
                                n = "[" + o.join(",") + "]"
                            } else {
                                var h = ",\n" + r,
                                    c = o.join(h);
                                n = "[\n" + r + c + ",\n" + i + "]"
                            }
                            return a.pop(), r = i, n
                        }(s) : function (e) {
                            if (a.indexOf(e) >= 0) throw TypeError("Converting circular structure to JSON5");
                            a.push(e);
                            var i = r;
                            r += l;
                            for (var o, s, u = [], h = 0, c = n || Object.keys(e); h < c.length; h += 1) {
                                var p = c[h],
                                    d = t(p, e);
                                if (void 0 !== d) {
                                    var S = m(p) + ":";
                                    "" !== l && (S += " "), S += d, u.push(S)
                                }
                            }
                            if (0 === u.length) o = "{}";
                            else if ("" === l) o = "{" + (s = u.join(",")) + "}";
                            else {
                                var g = ",\n" + r;
                                s = u.join(g), o = "{\n" + r + s + ",\n" + i + "}"
                            }
                            return a.pop(), r = i, o
                        }(s) : void 0
                    }("", {
                        "": t
                    });

                function d(t) {
                    for (var e = {
                            "'": .1,
                            '"': .2
                        }, i = {
                            "'": "\\'",
                            '"': '\\"',
                            "\\": "\\\\",
                            "\b": "\\b",
                            "\f": "\\f",
                            "\n": "\\n",
                            "\r": "\\r",
                            "\t": "\\t",
                            "\v": "\\v",
                            "\0": "\\0",
                            "\u2028": "\\u2028",
                            "\u2029": "\\u2029"
                        }, n = "", o = 0, a = t; o < a.length; o += 1) {
                        var r = a[o];
                        switch (r) {
                            case "'":
                            case '"':
                                e[r]++, n += r;
                                continue
                        }
                        if (i[r]) n += i[r];
                        else if (r < " ") {
                            var l = r.charCodeAt(0).toString(16);
                            n += "\\x" + ("00" + l).substring(l.length)
                        } else n += r
                    }
                    var u = s || Object.keys(e).reduce((function (t, i) {
                        return e[t] < e[i] ? t : i
                    }));
                    return u + (n = n.replace(new RegExp(u, "g"), i[u])) + u
                }

                function m(t) {
                    if (0 === t.length) return d(t);
                    var e = String.fromCodePoint(t.codePointAt(0));
                    if (!H(e)) return d(t);
                    for (var i = e.length; i < t.length; i++)
                        if (!z(String.fromCodePoint(t.codePointAt(i)))) return d(t);
                    return t
                }
            }
        }
    }));
var QRCode, DgaVars = {
        Evt_Internal_DgaConnected: "Evt_Internal_DgaConnected",
        Evt_Internal_DgaMessage: "Evt_Internal_DgaMessage",
        DgaMessage: "DgaMessage"
    },
    xlg = {
        websocket: null,
        wsUrl: null,
        tableId: null,
        casinoId: null,
        tryToConnect: !0,
        connect: function (t, e, i) {
            var n = this;
            n.tryToConnect = !0, n.wsUrl = t, null !== n.websocket && 3 !== n.websocket.readyState && n.websocket.close(), n.websocket = new WebSocket(t), n.websocket.onopen = function (t) {
                n.onWsOpen(t, e, i)
            }, n.websocket.onclose = function (t) {
                n.onWsClose(t)
            }, n.websocket.onmessage = function (t) {
                n.onWsMessage(t)
            }, n.websocket.onerror = function (t) {
                n.onWsError(t)
            }, i && (n.tableId = i), n.casinoId = e
        },
        onMessage: function (t) {
            XT.SetObject(DgaVars.DgaMessage, t), XT.TriggerEvent(DgaVars.Evt_Internal_DgaMessage)
        },
        onConnect: function () {
            XT.TriggerEvent(DgaVars.Evt_Internal_DgaConnected)
        },
        disconnect: function () {
            this.tryToConnect = !1, this.websocket.close()
        },
        subscribe: function (t, e, i) {
            var n = {
                    type: "subscribe",
                    key: e,
                    casinoId: t,
                    currency: i
                },
                o = JSON.stringify(n);
            this.doWsSend(o)
        },
        available: function (t) {
            var e = {
                    type: "available",
                    casinoId: t
                },
                i = JSON.stringify(e);
            this.doWsSend(i)
        },
        onWsOpen: function (t) {
            var e = this;
            null != e.onConnect && e.onConnect(), e.tableId && e.subscribe(e.casinoId, e.tableId)
        },
        onWsClose: function (t) {
            var e = this;
            !0 === e.tryToConnect && e.connect(e.wsUrl, e.casinoId, e.tableId)
        },
        onWsMessage: function (t) {
            var e = JSON.parse(t.data);
            null != this.onMessage && this.onMessage(e)
        },
        onWsError: function (t) {},
        ping: function () {
            var t = {
                    type: "ping",
                    pingTime: Date.now().toString()
                },
                e = JSON.stringify(t);
            this.doWsSend(e)
        },
        doWsSend: function (t) {
            this.websocket.send(t)
        }
    },
    dga = xlg;

function AnimationClip() {
    this.curves = [], this.events = [], this.name = "", this.length = 0, this.wrapMode = WrapMode.Default
}

function AnimationClipCurveData() {
    this.path = "", this.propertyName = "", this.type = "", this.curve = null
}

function AnimationEvent() {
    this.functionName = "", this.time = 0, this.param = ""
}

function Keyframe(t, e, i, n) {
    this.time = t, this.value = e, this.inTangent = undefined !== i ? i : 0, this.outTangent = n || 0
}

function AnimationCurve(t) {
    this._lastKey = 0, this.keys = [], undefined !== t && this.addKeys(t)
}

function _source() {
    this.times = {
        timesCount: 0,
        increase: 0
    }, this.inTangents = null, this.outTangents = null
}! function () {
    function t(t) {
        this.mode = i.MODE_8BIT_BYTE, this.data = t, this.parsedData = [];
        for (var e = 0, n = this.data.length; e < n; e++) {
            var o = [],
                s = this.data.charCodeAt(e);
            s > 65536 ? (o[0] = 240 | (1835008 & s) >>> 18, o[1] = 128 | (258048 & s) >>> 12, o[2] = 128 | (4032 & s) >>> 6, o[3] = 128 | 63 & s) : s > 2048 ? (o[0] = 224 | (61440 & s) >>> 12, o[1] = 128 | (4032 & s) >>> 6, o[2] = 128 | 63 & s) : s > 128 ? (o[0] = 192 | (1984 & s) >>> 6, o[1] = 128 | 63 & s) : o[0] = s, this.parsedData.push(o)
        }
        this.parsedData = Array.prototype.concat.apply([], this.parsedData), this.parsedData.length != this.data.length && (this.parsedData.unshift(191), this.parsedData.unshift(187), this.parsedData.unshift(239))
    }

    function e(t, e) {
        this.typeNumber = t, this.errorCorrectLevel = e, this.modules = null, this.moduleCount = 0, this.dataCache = null, this.dataList = []
    }
    t.prototype = {
        getLength: function (t) {
            return this.parsedData.length
        },
        write: function (t) {
            for (var e = 0, i = this.parsedData.length; e < i; e++) t.put(this.parsedData[e], 8)
        }
    }, e.prototype = {
        addData: function (e) {
            var i = new t(e);
            this.dataList.push(i), this.dataCache = null
        },
        isDark: function (t, e) {
            if (t < 0 || this.moduleCount <= t || e < 0 || this.moduleCount <= e) throw new Error(t + "," + e);
            return this.modules[t][e]
        },
        getModuleCount: function () {
            return this.moduleCount
        },
        make: function () {
            this.makeImpl(!1, this.getBestMaskPattern())
        },
        makeImpl: function (t, i) {
            this.moduleCount = 4 * this.typeNumber + 17, this.modules = new Array(this.moduleCount);
            for (var n = 0; n < this.moduleCount; n++) {
                this.modules[n] = new Array(this.moduleCount);
                for (var o = 0; o < this.moduleCount; o++) this.modules[n][o] = null
            }
            this.setupPositionProbePattern(0, 0), this.setupPositionProbePattern(this.moduleCount - 7, 0), this.setupPositionProbePattern(0, this.moduleCount - 7), this.setupPositionAdjustPattern(), this.setupTimingPattern(), this.setupTypeInfo(t, i), this.typeNumber >= 7 && this.setupTypeNumber(t), null == this.dataCache && (this.dataCache = e.createData(this.typeNumber, this.errorCorrectLevel, this.dataList)), this.mapData(this.dataCache, i)
        },
        setupPositionProbePattern: function (t, e) {
            for (var i = -1; i <= 7; i++)
                if (!(t + i <= -1 || this.moduleCount <= t + i))
                    for (var n = -1; n <= 7; n++) e + n <= -1 || this.moduleCount <= e + n || (this.modules[t + i][e + n] = 0 <= i && i <= 6 && (0 == n || 6 == n) || 0 <= n && n <= 6 && (0 == i || 6 == i) || 2 <= i && i <= 4 && 2 <= n && n <= 4)
        },
        getBestMaskPattern: function () {
            for (var t = 0, e = 0, i = 0; i < 8; i++) {
                this.makeImpl(!0, i);
                var n = p.getLostPoint(this);
                (0 == i || t > n) && (t = n, e = i)
            }
            return e
        },
        createMovieClip: function (t, e, i) {
            var n = t.createEmptyMovieClip(e, i);
            this.make();
            for (var o = 0; o < this.modules.length; o++)
                for (var s = 1 * o, a = 0; a < this.modules[o].length; a++) {
                    var r = 1 * a;
                    this.modules[o][a] && (n.beginFill(0, 100), n.moveTo(r, s), n.lineTo(r + 1, s), n.lineTo(r + 1, s + 1), n.lineTo(r, s + 1), n.endFill())
                }
            return n
        },
        setupTimingPattern: function () {
            for (var t = 8; t < this.moduleCount - 8; t++) null == this.modules[t][6] && (this.modules[t][6] = t % 2 == 0);
            for (var e = 8; e < this.moduleCount - 8; e++) null == this.modules[6][e] && (this.modules[6][e] = e % 2 == 0)
        },
        setupPositionAdjustPattern: function () {
            for (var t = p.getPatternPosition(this.typeNumber), e = 0; e < t.length; e++)
                for (var i = 0; i < t.length; i++) {
                    var n = t[e],
                        o = t[i];
                    if (null == this.modules[n][o])
                        for (var s = -2; s <= 2; s++)
                            for (var a = -2; a <= 2; a++) this.modules[n + s][o + a] = -2 == s || 2 == s || -2 == a || 2 == a || 0 == s && 0 == a
                }
        },
        setupTypeNumber: function (t) {
            for (var e = p.getBCHTypeNumber(this.typeNumber), i = 0; i < 18; i++) {
                var n = !t && 1 == (e >> i & 1);
                this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = n
            }
            for (i = 0; i < 18; i++) {
                n = !t && 1 == (e >> i & 1);
                this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = n
            }
        },
        setupTypeInfo: function (t, e) {
            for (var i = this.errorCorrectLevel << 3 | e, n = p.getBCHTypeInfo(i), o = 0; o < 15; o++) {
                var s = !t && 1 == (n >> o & 1);
                o < 6 ? this.modules[o][8] = s : o < 8 ? this.modules[o + 1][8] = s : this.modules[this.moduleCount - 15 + o][8] = s
            }
            for (o = 0; o < 15; o++) {
                s = !t && 1 == (n >> o & 1);
                o < 8 ? this.modules[8][this.moduleCount - o - 1] = s : o < 9 ? this.modules[8][15 - o - 1 + 1] = s : this.modules[8][15 - o - 1] = s
            }
            this.modules[this.moduleCount - 8][8] = !t
        },
        mapData: function (t, e) {
            for (var i = -1, n = this.moduleCount - 1, o = 7, s = 0, a = this.moduleCount - 1; a > 0; a -= 2)
                for (6 == a && a--;;) {
                    for (var r = 0; r < 2; r++)
                        if (null == this.modules[n][a - r]) {
                            var l = !1;
                            s < t.length && (l = 1 == (t[s] >>> o & 1)), p.getMask(e, n, a - r) && (l = !l), this.modules[n][a - r] = l, -1 == --o && (s++, o = 7)
                        } if ((n += i) < 0 || this.moduleCount <= n) {
                        n -= i, i = -i;
                        break
                    }
                }
        }
    }, e.PAD0 = 236, e.PAD1 = 17, e.createData = function (t, i, n) {
        for (var o = g.getRSBlocks(t, i), s = new y, a = 0; a < n.length; a++) {
            var r = n[a];
            s.put(r.mode, 4), s.put(r.getLength(), p.getLengthInBits(r.mode, t)), r.write(s)
        }
        var l = 0;
        for (a = 0; a < o.length; a++) l += o[a].dataCount;
        if (s.getLengthInBits() > 8 * l) throw new Error("code length overflow. (" + s.getLengthInBits() + ">" + 8 * l + ")");
        for (s.getLengthInBits() + 4 <= 8 * l && s.put(0, 4); s.getLengthInBits() % 8 != 0;) s.putBit(!1);
        for (; !(s.getLengthInBits() >= 8 * l || (s.put(e.PAD0, 8), s.getLengthInBits() >= 8 * l));) s.put(e.PAD1, 8);
        return e.createBytes(s, o)
    }, e.createBytes = function (t, e) {
        for (var i = 0, n = 0, o = 0, s = new Array(e.length), a = new Array(e.length), r = 0; r < e.length; r++) {
            var l = e[r].dataCount,
                u = e[r].totalCount - l;
            n = Math.max(n, l), o = Math.max(o, u), s[r] = new Array(l);
            for (var h = 0; h < s[r].length; h++) s[r][h] = 255 & t.buffer[h + i];
            i += l;
            var c = p.getErrorCorrectPolynomial(u),
                d = new S(s[r], c.getLength() - 1).mod(c);
            a[r] = new Array(c.getLength() - 1);
            for (h = 0; h < a[r].length; h++) {
                var m = h + d.getLength() - a[r].length;
                a[r][h] = m >= 0 ? d.get(m) : 0
            }
        }
        var g = 0;
        for (h = 0; h < e.length; h++) g += e[h].totalCount;
        var y = new Array(g),
            f = 0;
        for (h = 0; h < n; h++)
            for (r = 0; r < e.length; r++) h < s[r].length && (y[f++] = s[r][h]);
        for (h = 0; h < o; h++)
            for (r = 0; r < e.length; r++) h < a[r].length && (y[f++] = a[r][h]);
        return y
    };
    for (var i = {
            MODE_NUMBER: 1,
            MODE_ALPHA_NUM: 2,
            MODE_8BIT_BYTE: 4,
            MODE_KANJI: 8
        }, n = {
            L: 1,
            M: 0,
            Q: 3,
            H: 2
        }, o = 0, s = 1, a = 2, r = 3, l = 4, u = 5, h = 6, c = 7, p = {
            PATTERN_POSITION_TABLE: [
                [],
                [6, 18],
                [6, 22],
                [6, 26],
                [6, 30],
                [6, 34],
                [6, 22, 38],
                [6, 24, 42],
                [6, 26, 46],
                [6, 28, 50],
                [6, 30, 54],
                [6, 32, 58],
                [6, 34, 62],
                [6, 26, 46, 66],
                [6, 26, 48, 70],
                [6, 26, 50, 74],
                [6, 30, 54, 78],
                [6, 30, 56, 82],
                [6, 30, 58, 86],
                [6, 34, 62, 90],
                [6, 28, 50, 72, 94],
                [6, 26, 50, 74, 98],
                [6, 30, 54, 78, 102],
                [6, 28, 54, 80, 106],
                [6, 32, 58, 84, 110],
                [6, 30, 58, 86, 114],
                [6, 34, 62, 90, 118],
                [6, 26, 50, 74, 98, 122],
                [6, 30, 54, 78, 102, 126],
                [6, 26, 52, 78, 104, 130],
                [6, 30, 56, 82, 108, 134],
                [6, 34, 60, 86, 112, 138],
                [6, 30, 58, 86, 114, 142],
                [6, 34, 62, 90, 118, 146],
                [6, 30, 54, 78, 102, 126, 150],
                [6, 24, 50, 76, 102, 128, 154],
                [6, 28, 54, 80, 106, 132, 158],
                [6, 32, 58, 84, 110, 136, 162],
                [6, 26, 54, 82, 110, 138, 166],
                [6, 30, 58, 86, 114, 142, 170]
            ],
            G15: 1335,
            G18: 7973,
            G15_MASK: 21522,
            getBCHTypeInfo: function (t) {
                for (var e = t << 10; p.getBCHDigit(e) - p.getBCHDigit(p.G15) >= 0;) e ^= p.G15 << p.getBCHDigit(e) - p.getBCHDigit(p.G15);
                return (t << 10 | e) ^ p.G15_MASK
            },
            getBCHTypeNumber: function (t) {
                for (var e = t << 12; p.getBCHDigit(e) - p.getBCHDigit(p.G18) >= 0;) e ^= p.G18 << p.getBCHDigit(e) - p.getBCHDigit(p.G18);
                return t << 12 | e
            },
            getBCHDigit: function (t) {
                for (var e = 0; 0 != t;) e++, t >>>= 1;
                return e
            },
            getPatternPosition: function (t) {
                return p.PATTERN_POSITION_TABLE[t - 1]
            },
            getMask: function (t, e, i) {
                switch (t) {
                    case o:
                        return (e + i) % 2 == 0;
                    case s:
                        return e % 2 == 0;
                    case a:
                        return i % 3 == 0;
                    case r:
                        return (e + i) % 3 == 0;
                    case l:
                        return (Math.floor(e / 2) + Math.floor(i / 3)) % 2 == 0;
                    case u:
                        return e * i % 2 + e * i % 3 == 0;
                    case h:
                        return (e * i % 2 + e * i % 3) % 2 == 0;
                    case c:
                        return (e * i % 3 + (e + i) % 2) % 2 == 0;
                    default:
                        throw new Error("bad maskPattern:" + t)
                }
            },
            getErrorCorrectPolynomial: function (t) {
                for (var e = new S([1], 0), i = 0; i < t; i++) e = e.multiply(new S([1, d.gexp(i)], 0));
                return e
            },
            getLengthInBits: function (t, e) {
                if (1 <= e && e < 10) switch (t) {
                    case i.MODE_NUMBER:
                        return 10;
                    case i.MODE_ALPHA_NUM:
                        return 9;
                    case i.MODE_8BIT_BYTE:
                        return 8;
                    case i.MODE_KANJI:
                        return 8;
                    default:
                        throw new Error("mode:" + t)
                } else if (e < 27) switch (t) {
                    case i.MODE_NUMBER:
                        return 12;
                    case i.MODE_ALPHA_NUM:
                        return 11;
                    case i.MODE_8BIT_BYTE:
                        return 16;
                    case i.MODE_KANJI:
                        return 10;
                    default:
                        throw new Error("mode:" + t)
                } else {
                    if (!(e < 41)) throw new Error("type:" + e);
                    switch (t) {
                        case i.MODE_NUMBER:
                            return 14;
                        case i.MODE_ALPHA_NUM:
                            return 13;
                        case i.MODE_8BIT_BYTE:
                            return 16;
                        case i.MODE_KANJI:
                            return 12;
                        default:
                            throw new Error("mode:" + t)
                    }
                }
            },
            getLostPoint: function (t) {
                for (var e = t.getModuleCount(), i = 0, n = 0; n < e; n++)
                    for (var o = 0; o < e; o++) {
                        for (var s = 0, a = t.isDark(n, o), r = -1; r <= 1; r++)
                            if (!(n + r < 0 || e <= n + r))
                                for (var l = -1; l <= 1; l++) o + l < 0 || e <= o + l || 0 == r && 0 == l || a == t.isDark(n + r, o + l) && s++;
                        s > 5 && (i += 3 + s - 5)
                    }
                for (n = 0; n < e - 1; n++)
                    for (o = 0; o < e - 1; o++) {
                        var u = 0;
                        t.isDark(n, o) && u++, t.isDark(n + 1, o) && u++, t.isDark(n, o + 1) && u++, t.isDark(n + 1, o + 1) && u++, 0 != u && 4 != u || (i += 3)
                    }
                for (n = 0; n < e; n++)
                    for (o = 0; o < e - 6; o++) t.isDark(n, o) && !t.isDark(n, o + 1) && t.isDark(n, o + 2) && t.isDark(n, o + 3) && t.isDark(n, o + 4) && !t.isDark(n, o + 5) && t.isDark(n, o + 6) && (i += 40);
                for (o = 0; o < e; o++)
                    for (n = 0; n < e - 6; n++) t.isDark(n, o) && !t.isDark(n + 1, o) && t.isDark(n + 2, o) && t.isDark(n + 3, o) && t.isDark(n + 4, o) && !t.isDark(n + 5, o) && t.isDark(n + 6, o) && (i += 40);
                var h = 0;
                for (o = 0; o < e; o++)
                    for (n = 0; n < e; n++) t.isDark(n, o) && h++;
                return i += 10 * (Math.abs(100 * h / e / e - 50) / 5)
            }
        }, d = {
            glog: function (t) {
                if (t < 1) throw new Error("glog(" + t + ")");
                return d.LOG_TABLE[t]
            },
            gexp: function (t) {
                for (; t < 0;) t += 255;
                for (; t >= 256;) t -= 255;
                return d.EXP_TABLE[t]
            },
            EXP_TABLE: new Array(256),
            LOG_TABLE: new Array(256)
        }, m = 0; m < 8; m++) d.EXP_TABLE[m] = 1 << m;
    for (m = 8; m < 256; m++) d.EXP_TABLE[m] = d.EXP_TABLE[m - 4] ^ d.EXP_TABLE[m - 5] ^ d.EXP_TABLE[m - 6] ^ d.EXP_TABLE[m - 8];
    for (m = 0; m < 255; m++) d.LOG_TABLE[d.EXP_TABLE[m]] = m;

    function S(t, e) {
        if (null == t.length) throw new Error(t.length + "/" + e);
        for (var i = 0; i < t.length && 0 == t[i];) i++;
        this.num = new Array(t.length - i + e);
        for (var n = 0; n < t.length - i; n++) this.num[n] = t[n + i]
    }

    function g(t, e) {
        this.totalCount = t, this.dataCount = e
    }

    function y() {
        this.buffer = [], this.length = 0
    }
    S.prototype = {
        get: function (t) {
            return this.num[t]
        },
        getLength: function () {
            return this.num.length
        },
        multiply: function (t) {
            for (var e = new Array(this.getLength() + t.getLength() - 1), i = 0; i < this.getLength(); i++)
                for (var n = 0; n < t.getLength(); n++) e[i + n] ^= d.gexp(d.glog(this.get(i)) + d.glog(t.get(n)));
            return new S(e, 0)
        },
        mod: function (t) {
            if (this.getLength() - t.getLength() < 0) return this;
            for (var e = d.glog(this.get(0)) - d.glog(t.get(0)), i = new Array(this.getLength()), n = 0; n < this.getLength(); n++) i[n] = this.get(n);
            for (n = 0; n < t.getLength(); n++) i[n] ^= d.gexp(d.glog(t.get(n)) + e);
            return new S(i, 0).mod(t)
        }
    }, g.RS_BLOCK_TABLE = [
        [1, 26, 19],
        [1, 26, 16],
        [1, 26, 13],
        [1, 26, 9],
        [1, 44, 34],
        [1, 44, 28],
        [1, 44, 22],
        [1, 44, 16],
        [1, 70, 55],
        [1, 70, 44],
        [2, 35, 17],
        [2, 35, 13],
        [1, 100, 80],
        [2, 50, 32],
        [2, 50, 24],
        [4, 25, 9],
        [1, 134, 108],
        [2, 67, 43],
        [2, 33, 15, 2, 34, 16],
        [2, 33, 11, 2, 34, 12],
        [2, 86, 68],
        [4, 43, 27],
        [4, 43, 19],
        [4, 43, 15],
        [2, 98, 78],
        [4, 49, 31],
        [2, 32, 14, 4, 33, 15],
        [4, 39, 13, 1, 40, 14],
        [2, 121, 97],
        [2, 60, 38, 2, 61, 39],
        [4, 40, 18, 2, 41, 19],
        [4, 40, 14, 2, 41, 15],
        [2, 146, 116],
        [3, 58, 36, 2, 59, 37],
        [4, 36, 16, 4, 37, 17],
        [4, 36, 12, 4, 37, 13],
        [2, 86, 68, 2, 87, 69],
        [4, 69, 43, 1, 70, 44],
        [6, 43, 19, 2, 44, 20],
        [6, 43, 15, 2, 44, 16],
        [4, 101, 81],
        [1, 80, 50, 4, 81, 51],
        [4, 50, 22, 4, 51, 23],
        [3, 36, 12, 8, 37, 13],
        [2, 116, 92, 2, 117, 93],
        [6, 58, 36, 2, 59, 37],
        [4, 46, 20, 6, 47, 21],
        [7, 42, 14, 4, 43, 15],
        [4, 133, 107],
        [8, 59, 37, 1, 60, 38],
        [8, 44, 20, 4, 45, 21],
        [12, 33, 11, 4, 34, 12],
        [3, 145, 115, 1, 146, 116],
        [4, 64, 40, 5, 65, 41],
        [11, 36, 16, 5, 37, 17],
        [11, 36, 12, 5, 37, 13],
        [5, 109, 87, 1, 110, 88],
        [5, 65, 41, 5, 66, 42],
        [5, 54, 24, 7, 55, 25],
        [11, 36, 12],
        [5, 122, 98, 1, 123, 99],
        [7, 73, 45, 3, 74, 46],
        [15, 43, 19, 2, 44, 20],
        [3, 45, 15, 13, 46, 16],
        [1, 135, 107, 5, 136, 108],
        [10, 74, 46, 1, 75, 47],
        [1, 50, 22, 15, 51, 23],
        [2, 42, 14, 17, 43, 15],
        [5, 150, 120, 1, 151, 121],
        [9, 69, 43, 4, 70, 44],
        [17, 50, 22, 1, 51, 23],
        [2, 42, 14, 19, 43, 15],
        [3, 141, 113, 4, 142, 114],
        [3, 70, 44, 11, 71, 45],
        [17, 47, 21, 4, 48, 22],
        [9, 39, 13, 16, 40, 14],
        [3, 135, 107, 5, 136, 108],
        [3, 67, 41, 13, 68, 42],
        [15, 54, 24, 5, 55, 25],
        [15, 43, 15, 10, 44, 16],
        [4, 144, 116, 4, 145, 117],
        [17, 68, 42],
        [17, 50, 22, 6, 51, 23],
        [19, 46, 16, 6, 47, 17],
        [2, 139, 111, 7, 140, 112],
        [17, 74, 46],
        [7, 54, 24, 16, 55, 25],
        [34, 37, 13],
        [4, 151, 121, 5, 152, 122],
        [4, 75, 47, 14, 76, 48],
        [11, 54, 24, 14, 55, 25],
        [16, 45, 15, 14, 46, 16],
        [6, 147, 117, 4, 148, 118],
        [6, 73, 45, 14, 74, 46],
        [11, 54, 24, 16, 55, 25],
        [30, 46, 16, 2, 47, 17],
        [8, 132, 106, 4, 133, 107],
        [8, 75, 47, 13, 76, 48],
        [7, 54, 24, 22, 55, 25],
        [22, 45, 15, 13, 46, 16],
        [10, 142, 114, 2, 143, 115],
        [19, 74, 46, 4, 75, 47],
        [28, 50, 22, 6, 51, 23],
        [33, 46, 16, 4, 47, 17],
        [8, 152, 122, 4, 153, 123],
        [22, 73, 45, 3, 74, 46],
        [8, 53, 23, 26, 54, 24],
        [12, 45, 15, 28, 46, 16],
        [3, 147, 117, 10, 148, 118],
        [3, 73, 45, 23, 74, 46],
        [4, 54, 24, 31, 55, 25],
        [11, 45, 15, 31, 46, 16],
        [7, 146, 116, 7, 147, 117],
        [21, 73, 45, 7, 74, 46],
        [1, 53, 23, 37, 54, 24],
        [19, 45, 15, 26, 46, 16],
        [5, 145, 115, 10, 146, 116],
        [19, 75, 47, 10, 76, 48],
        [15, 54, 24, 25, 55, 25],
        [23, 45, 15, 25, 46, 16],
        [13, 145, 115, 3, 146, 116],
        [2, 74, 46, 29, 75, 47],
        [42, 54, 24, 1, 55, 25],
        [23, 45, 15, 28, 46, 16],
        [17, 145, 115],
        [10, 74, 46, 23, 75, 47],
        [10, 54, 24, 35, 55, 25],
        [19, 45, 15, 35, 46, 16],
        [17, 145, 115, 1, 146, 116],
        [14, 74, 46, 21, 75, 47],
        [29, 54, 24, 19, 55, 25],
        [11, 45, 15, 46, 46, 16],
        [13, 145, 115, 6, 146, 116],
        [14, 74, 46, 23, 75, 47],
        [44, 54, 24, 7, 55, 25],
        [59, 46, 16, 1, 47, 17],
        [12, 151, 121, 7, 152, 122],
        [12, 75, 47, 26, 76, 48],
        [39, 54, 24, 14, 55, 25],
        [22, 45, 15, 41, 46, 16],
        [6, 151, 121, 14, 152, 122],
        [6, 75, 47, 34, 76, 48],
        [46, 54, 24, 10, 55, 25],
        [2, 45, 15, 64, 46, 16],
        [17, 152, 122, 4, 153, 123],
        [29, 74, 46, 14, 75, 47],
        [49, 54, 24, 10, 55, 25],
        [24, 45, 15, 46, 46, 16],
        [4, 152, 122, 18, 153, 123],
        [13, 74, 46, 32, 75, 47],
        [48, 54, 24, 14, 55, 25],
        [42, 45, 15, 32, 46, 16],
        [20, 147, 117, 4, 148, 118],
        [40, 75, 47, 7, 76, 48],
        [43, 54, 24, 22, 55, 25],
        [10, 45, 15, 67, 46, 16],
        [19, 148, 118, 6, 149, 119],
        [18, 75, 47, 31, 76, 48],
        [34, 54, 24, 34, 55, 25],
        [20, 45, 15, 61, 46, 16]
    ], g.getRSBlocks = function (t, e) {
        var i = g.getRsBlockTable(t, e);
        if (null == i) throw new Error("bad rs block @ typeNumber:" + t + "/errorCorrectLevel:" + e);
        for (var n = i.length / 3, o = [], s = 0; s < n; s++)
            for (var a = i[3 * s + 0], r = i[3 * s + 1], l = i[3 * s + 2], u = 0; u < a; u++) o.push(new g(r, l));
        return o
    }, g.getRsBlockTable = function (t, e) {
        switch (e) {
            case n.L:
                return g.RS_BLOCK_TABLE[4 * (t - 1) + 0];
            case n.M:
                return g.RS_BLOCK_TABLE[4 * (t - 1) + 1];
            case n.Q:
                return g.RS_BLOCK_TABLE[4 * (t - 1) + 2];
            case n.H:
                return g.RS_BLOCK_TABLE[4 * (t - 1) + 3];
            default:
                return
        }
    }, y.prototype = {
        get: function (t) {
            var e = Math.floor(t / 8);
            return 1 == (this.buffer[e] >>> 7 - t % 8 & 1)
        },
        put: function (t, e) {
            for (var i = 0; i < e; i++) this.putBit(1 == (t >>> e - i - 1 & 1))
        },
        getLengthInBits: function () {
            return this.length
        },
        putBit: function (t) {
            var e = Math.floor(this.length / 8);
            this.buffer.length <= e && this.buffer.push(0), t && (this.buffer[e] |= 128 >>> this.length % 8), this.length++
        }
    };
    var f = [
        [17, 14, 11, 7],
        [32, 26, 20, 14],
        [53, 42, 32, 24],
        [78, 62, 46, 34],
        [106, 84, 60, 44],
        [134, 106, 74, 58],
        [154, 122, 86, 64],
        [192, 152, 108, 84],
        [230, 180, 130, 98],
        [271, 213, 151, 119],
        [321, 251, 177, 137],
        [367, 287, 203, 155],
        [425, 331, 241, 177],
        [458, 362, 258, 194],
        [520, 412, 292, 220],
        [586, 450, 322, 250],
        [644, 504, 364, 280],
        [718, 560, 394, 310],
        [792, 624, 442, 338],
        [858, 666, 482, 382],
        [929, 711, 509, 403],
        [1003, 779, 565, 439],
        [1091, 857, 611, 461],
        [1171, 911, 661, 511],
        [1273, 997, 715, 535],
        [1367, 1059, 751, 593],
        [1465, 1125, 805, 625],
        [1528, 1190, 868, 658],
        [1628, 1264, 908, 698],
        [1732, 1370, 982, 742],
        [1840, 1452, 1030, 790],
        [1952, 1538, 1112, 842],
        [2068, 1628, 1168, 898],
        [2188, 1722, 1228, 958],
        [2303, 1809, 1283, 983],
        [2431, 1911, 1351, 1051],
        [2563, 1989, 1423, 1093],
        [2699, 2099, 1499, 1139],
        [2809, 2213, 1579, 1219],
        [2953, 2331, 1663, 1273]
    ];

    function b() {
        var t = !1,
            e = navigator.userAgent;
        if (/android/i.test(e)) {
            t = !0;
            var i = e.toString().match(/android ([0-9]\.[0-9])/i);
            i && i[1] && (t = parseFloat(i[1]))
        }
        return t
    }
    var T = function () {
            var t = function (t, e) {
                this._el = t, this._htOption = e
            };
            return t.prototype.draw = function (t) {
                var e = this._htOption,
                    i = this._el,
                    n = t.getModuleCount();
                Math.floor(e.width / n), Math.floor(e.height / n);

                function o(t, e) {
                    var i = document.createElementNS("http://www.w3.org/2000/svg", t);
                    for (var n in e) e.hasOwnProperty(n) && i.setAttribute(n, e[n]);
                    return i
                }
                this.clear();
                var s = o("svg", {
                    viewBox: "0 0 " + String(n) + " " + String(n),
                    width: "100%",
                    height: "100%",
                    fill: e.colorLight
                });
                s.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink"), i.appendChild(s), s.appendChild(o("rect", {
                    fill: e.colorLight,
                    width: "100%",
                    height: "100%"
                })), s.appendChild(o("rect", {
                    fill: e.colorDark,
                    width: "1",
                    height: "1",
                    id: "template"
                }));
                for (var a = 0; a < n; a++)
                    for (var r = 0; r < n; r++)
                        if (t.isDark(a, r)) {
                            var l = o("use", {
                                x: String(r),
                                y: String(a)
                            });
                            l.setAttributeNS("http://www.w3.org/1999/xlink", "href", "#template"), s.appendChild(l)
                        }
            }, t.prototype.clear = function () {
                for (; this._el.hasChildNodes();) this._el.removeChild(this._el.lastChild)
            }, t
        }(),
        C = "svg" === document.documentElement.tagName.toLowerCase() ? T : "undefined" == typeof CanvasRenderingContext2D ? function () {
            var t = function (t, e) {
                this._el = t, this._htOption = e
            };
            return t.prototype.draw = function (t) {
                for (var e = this._htOption, i = this._el, n = t.getModuleCount(), o = Math.floor(e.width / n), s = Math.floor(e.height / n), a = ['<table style="border:0;border-collapse:collapse;">'], r = 0; r < n; r++) {
                    a.push("<tr>");
                    for (var l = 0; l < n; l++) a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:' + o + "px;height:" + s + "px;background-color:" + (t.isDark(r, l) ? e.colorDark : e.colorLight) + ';"></td>');
                    a.push("</tr>")
                }
                a.push("</table>"), i.innerHTML = a.join("");
                var u = i.childNodes[0],
                    h = (e.width - u.offsetWidth) / 2,
                    c = (e.height - u.offsetHeight) / 2;
                h > 0 && c > 0 && (u.style.margin = c + "px " + h + "px")
            }, t.prototype.clear = function () {
                this._el.innerHTML = ""
            }, t
        }() : function () {
            function t() {
                this._elImage.src = this._elCanvas.toDataURL("image/png"), this._elImage.style.display = "block", this._elCanvas.style.display = "none"
            }
            if (this._android && this._android <= 2.1) {
                var e = 1 / window.devicePixelRatio,
                    i = CanvasRenderingContext2D.prototype.drawImage;
                CanvasRenderingContext2D.prototype.drawImage = function (t, n, o, s, a, r, l, u, h) {
                    if ("nodeName" in t && /img/i.test(t.nodeName))
                        for (var c = arguments.length - 1; c >= 1; c--) arguments[c] = arguments[c] * e;
                    else void 0 === u && (arguments[1] *= e, arguments[2] *= e, arguments[3] *= e, arguments[4] *= e);
                    i.apply(this, arguments)
                }
            }

            function n(t, e) {
                var i = this;
                if (i._fFail = e, i._fSuccess = t, null === i._bSupportDataURI) {
                    var n = document.createElement("img"),
                        o = function () {
                            i._bSupportDataURI = !1, i._fFail && i._fFail.call(i)
                        };
                    return n.onabort = o, n.onerror = o, n.onload = function () {
                        i._bSupportDataURI = !0, i._fSuccess && i._fSuccess.call(i)
                    }, void(n.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")
                }!0 === i._bSupportDataURI && i._fSuccess ? i._fSuccess.call(i) : !1 === i._bSupportDataURI && i._fFail && i._fFail.call(i)
            }
            var o = function (t, e) {
                this._bIsPainted = !1, this._android = b(), this._htOption = e, this._elCanvas = document.createElement("canvas"), this._elCanvas.width = e.width, this._elCanvas.height = e.height, t.appendChild(this._elCanvas), this._el = t, this._oContext = this._elCanvas.getContext("2d"), this._bIsPainted = !1, this._elImage = document.createElement("img"), this._elImage.alt = "Scan me!", this._elImage.style.display = "none", this._el.appendChild(this._elImage), this._bSupportDataURI = null
            };
            return o.prototype.draw = function (t) {
                var e = this._elImage,
                    i = this._oContext,
                    n = this._htOption,
                    o = t.getModuleCount(),
                    s = n.width / o,
                    a = n.height / o,
                    r = Math.round(s),
                    l = Math.round(a);
                e.style.display = "none", this.clear();
                for (var u = 0; u < o; u++)
                    for (var h = 0; h < o; h++) {
                        var c = t.isDark(u, h),
                            p = h * s,
                            d = u * a;
                        i.strokeStyle = c ? n.colorDark : n.colorLight, i.lineWidth = 1, i.fillStyle = c ? n.colorDark : n.colorLight, i.fillRect(p, d, s, a), i.strokeRect(Math.floor(p) + .5, Math.floor(d) + .5, r, l), i.strokeRect(Math.ceil(p) - .5, Math.ceil(d) - .5, r, l)
                    }
                this._bIsPainted = !0
            }, o.prototype.makeImage = function () {
                this._bIsPainted && n.call(this, t)
            }, o.prototype.isPainted = function () {
                return this._bIsPainted
            }, o.prototype.clear = function () {
                this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height), this._bIsPainted = !1
            }, o.prototype.round = function (t) {
                return t ? Math.floor(1e3 * t) / 1e3 : t
            }, o
        }();

    function A(t, e) {
        for (var i = 1, o = function (t) {
                var e = encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g, "a");
                return e.length + (e.length != t ? 3 : 0)
            }(t), s = 0, a = f.length; s <= a; s++) {
            var r = 0;
            switch (e) {
                case n.L:
                    r = f[s][0];
                    break;
                case n.M:
                    r = f[s][1];
                    break;
                case n.Q:
                    r = f[s][2];
                    break;
                case n.H:
                    r = f[s][3];
                    break
            }
            if (o <= r) break;
            i++
        }
        if (i > f.length) throw new Error("Too long data");
        return i
    }
    QRCode = function (t, e) {
        if (this._htOption = {
                width: 256,
                height: 256,
                typeNumber: 4,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: n.H
            }, "string" == typeof e && (e = {
                text: e
            }), e)
            for (var i in e) this._htOption[i] = e[i];
        "string" == typeof t && (t = document.getElementById(t)), this._htOption.useSVG && (C = T), this._android = b(), this._el = t, this._oQRCode = null, this._oDrawing = new C(this._el, this._htOption), this._htOption.text && this.makeCode(this._htOption.text)
    }, QRCode.prototype.makeCode = function (t) {
        this._oQRCode = new e(A(t, this._htOption.correctLevel), this._htOption.correctLevel), this._oQRCode.addData(t), this._oQRCode.make(), this._el.title = t, this._oDrawing.draw(this._oQRCode), this.makeImage()
    }, QRCode.prototype.makeImage = function () {
        "function" == typeof this._oDrawing.makeImage && (!this._android || this._android >= 3) && this._oDrawing.makeImage()
    }, QRCode.prototype.clear = function () {
        this._oDrawing.clear()
    }, QRCode.CorrectLevel = n
}(), goog.provide("UHT.AnimationCurve"), Keyframe.prototype.__type_name_hack__ = "Keyframe", AnimationCurve.prototype.clearKeys = function () {
    this.keys = []
}, AnimationCurve.prototype.addKeys = function (t) {
    for (var e = t.length; e--;) this.addKey(t[e]);
    this.sortKeys()
}, AnimationCurve.prototype.addKey = function (t) {
    this.keys.push(t)
}, AnimationCurve.prototype.sortKeys = function () {
    this.keys.sort((function (t, e) {
        return t.time - e.time
    }))
}, AnimationCurve.prototype.deserialize = function (t, e, i) {
    var n = 0,
        o = [];
    if (null != t.times.timesCount)
        for (n = 0; n < t.times.timesCount; n++) o.push(n * t.times.increase);
    else
        for (n = 0; n < t.times.length; n++) o.push(t.times[n]);
    var s, a = [];
    for (n = 0; n < t.values.length; n++) a.push(t.values[n]);
    for (s = a[a.length - 1]; a.length < o.length;) a.push(s);
    var r = [];
    for (n = 0; n < t.inTangents.length; n++) r.push(t.inTangents[n]);
    for (s = r[r.length - 1]; r.length < o.length;) r.push(s);
    var l = [];
    if ("copy" == t.outTangents)
        for (n = 0; n < r.length; n++) l.push(r[n]);
    else {
        for (n = 0; n < t.outTangents.length; n++) l.push(t.outTangents[n]);
        for (s = l[l.length - 1]; l.length < o.length;) l.push(s)
    }
    for (n = 0; n < o.length; n++) {
        var u = new Keyframe(o[n], a[n], r[n], l[n]);
        this.addKey(u)
    }
}, AnimationCurve.prototype.Evaluate = function (t) {
    var e, i, n, o = t,
        s = this.keys.length;
    if (1 === s) return this.keys[0].value;
    if (this._lastKey = Math.min(this._lastKey, s - 1), o <= this.keys[0].time) return this.keys[0].value;
    if (o >= this.keys[s - 1].time) return this.keys[s - 1].value;
    for (e = this.keys[this._lastKey].time <= o ? this._lastKey : 0; e < s - 1; e++)
        if (this.keys[e].time <= o && this.keys[e + 1].time > o) {
            i = this.keys[e], n = this.keys[e + 1], this._lastKey = e;
            break
        } if (!isFinite(i.outTangent) || !isFinite(n.inTangent)) return i.value;
    var a = UHTMath.inverseLerp(i.time, n.time, o),
        r = n.time - i.time,
        l = i.outTangent * r,
        u = n.inTangent * r,
        h = a * a,
        c = h * a,
        p = c - 2 * h + a,
        d = c - h,
        m = -2 * c + 3 * h;
    return (2 * c - 3 * h + 1) * i.value + p * l + d * u + m * n.value
}, AnimationCurve.linear = function (t, e, i, n) {
    return new AnimationCurve([new Keyframe(t, e, 0, 0), new Keyframe(i, n, 0, 0)])
}, goog.provide("UHT.AnimationUtils");
var AnimationUtils = {},
    WrapMode = {
        Default: 0,
        Once: 1,
        Clamp: 1,
        Loop: 2,
        PingPong: 4,
        ClampForever: 8
    };

function AudioClip(t, e) {
    this.name = t, this.path = e, this.soundjsObject = null
}
goog.provide("UHT.AudioClip"), AudioClip.prototype.length = 0, Object.defineProperties(AudioClip.prototype, {
    length: {
        get: function () {
            return null != this.soundjsObject ? this.soundjsObject.duration / 1e3 : 0
        }
    }
}), goog.provide("UHT.Component");
var __component_ctor_just_called = !1;

function Component() {
    this.gameObject = null, this.enabled = !0, this._rawData = null, this.transform = null, this.flags = ComponentStateFlags.onDisable_called, __component_ctor_just_called = !0
}
Component.prototype.scriptUpdatePriority = 5, Component.prototype.canReceiveMessage = !0;
var ComponentStateFlags = {
    awake_called: 1,
    start_called: 2,
    onEnable_called: 4,
    onDisable_called: 8
};
Component.prototype.deserialize = function (t, e, i) {
    deserializeComponentRec(t, this, e, i)
}, Component.prototype.copyFromSource = function (t, e, i) {
    copyComponentHelper(t, this, e, i)
}, Component.prototype.Awake = function () {}, Component.prototype.Start = function () {}, Component.prototype.OnEnable = function () {}, Component.prototype.OnDisable = function () {}, Component.prototype.GetComponent = function (t) {
    return this.gameObject.GetComponent(t)
}, Component.prototype.GetComponentsInChildren = function (t, e) {
    return this.gameObject.GetComponentsInChildren(t, e)
}, Component.prototype.GetComponentInChildren = function (t) {
    return this.gameObject.GetComponentInChildren(t)
}, Component.FindObjectOfType = function (t) {
    for (var e = globalRuntime.sceneRoots, i = 0; i < e.length; ++i) {
        var n = e[i].GetComponentInChildren(t);
        if (null != n && n.gameObject.activeInHierarchy) return n
    }
    return null
}, goog.require("UHT.Component");
var AudioVelocityUpdateMode = {
    Auto: 0,
    Fixed: 1,
    Dynamic: 2
};

function UHTAudioListener() {
    Component.call(this)
}

function Animation() {
    Component.call(this), this._clip = null, this.playAutomatically = !1, this.clips = [], this._isPlaying = !1, this.animStates = [], this.currentAnimState = null, this.isInited = !1, this._runtime_cache = null
}

function AudioSource() {
    Component.call(this), this.audio = this, this.clip = null, this.playOnAwake = !1, this._volume = 1, this._loop = !1, this._MustPlayClipWhenSoundsAreLoaded = !1, this.oneShotInstances = []
}

function Camera() {
    Component.call(this), this.cullingMask = 0, this.depth = 0, this.orthographicSize = 1, this.container = new PIXI.Container, this.clipMaskContainer = new PIXI.Container, this.oldSW = 0, this.oldSH = 0, this.cachedWTSP = new UHTMath.Vector3, this.mask = new PIXI.Graphics, this.scaledMask = new PIXI.Graphics, this.scale = UHTScreen.height / 2 / this.orthographicSize, this.extraCameraSettings = void 0, this.extraCameraSettingsList = void 0, this.ignoreInputBlocked = !1, this.clipMaskLayer = 0
}

function Collider() {
    Component.call(this), this.center = new UHTMath.Vector3, this.size = new UHTMath.Vector3, this.isSphere = !1, this.cachedTransformedCenter = new UHTMath.Vector3, this.cachedTransformedSize = new UHTMath.Vector3
}

function ClampVelocityModule(t) {
    this.dampen = 0, this.magnitude = null, this.x = null, this.y = null, this.z = null, this.separateAxis = !1, this.inWorldSpace = !1, this.dampPos = 0, this.particleSystem = t
}

function ParticleSystemEvaluator() {
    this.minMaxState = 0, this.scalar = 0, this.minCurve = new AnimationCurve, this.maxCurve = new AnimationCurve, this.random = 0
}

function ParticleSystemEvaluatorBySpeed(t) {
    this.evaluator = t, this.intervalMin = 0, this.intervalMax = 0, this.evaluator.scalar = 1
}

function GradientColor() {
    this.r = 1, this.g = 1, this.b = 1, this.a = 1
}

function GradientNEW() {
    this.numColorKeys = 0, this.numAlphaKeys = 0, this.keysColor = [], this.keysTimeAlpha = [], this.keysTimeColor = [], this._lastKeyColor = 0, this._lastKeyAlpha = 0
}

function ParticleSystemEvaluatorColor() {
    this.minMaxState = 0, this.minGradient = new GradientNEW, this.maxGradient = new GradientNEW, this.random = 0, this.minColor = new GradientColor, this.maxColor = new GradientColor
}
UHTAudioListener.prototype = Object.create(Component.prototype), UHTAudioListener.prototype.constructor = UHTAudioListener, UHTAudioListener.volume = 1, goog.provide("UHT.Animation"), goog.require("UHT.Component"), Animation.prototype = Object.create(Component.prototype), Animation.prototype.constructor = Animation, Object.defineProperties(Animation.prototype, {
    isPlaying: {
        set: function (t) {},
        get: function () {
            return this._isPlaying
        }
    },
    clip: {
        set: function (t) {
            for (var e = !1, i = 0; i < this.clips.length; i++)
                if (this.clips[i] == t) {
                    e = !0;
                    break
                } this._clip = e && null != t ? t : null
        },
        get: function () {
            return this._clip
        }
    }
}), Animation.prototype.canReceiveMessage = !1, Animation.prototype.Start = function () {
    this.Init()
}, Animation.prototype.OnEnable = function () {
    this.playAutomatically && this.Play()
}, Animation.prototype.OnDisable = function () {
    this.Stop()
}, Animation.prototype.UpdateAnimation = function () {
    this._isPlaying && 0 == this.currentAnimState.Update() && this.Stop()
}, Animation.prototype.Init = function () {
    if (0 == this.isInited) {
        for (var t = 0; t < this.clips.length; t++) {
            var e = this.clips[t];
            this.AddAnimStateForClip(e)
        }
        this.isInited = !0
    }
}, Animation.prototype.GetAnimationState = function (t) {
    0 == this.isInited && this.Init();
    for (var e = 0; e < this.animStates.length; e++)
        if (this.animStates[e].name == t) return this.animStates[e];
    return null
}, Animation.prototype.Play = function (t) {
    this.gameObject.activeInHierarchy, this.Stop();
    var e = "";
    if (undefined === t) {
        if (null == this.clip) return !1;
        e = this.clip.name
    } else e = t;
    return this.currentAnimState = this.GetAnimationState(e), this.currentAnimState.enabled = !0, this._isPlaying = !0, globalRuntime.RegisterAnimation(this), !0
}, Animation.prototype.IsPlaying = function (t) {
    if (this._isPlaying) {
        var e = this.GetAnimationState(t);
        if (null != e && e.enabled) return !0
    }
    return !1
}, Animation.prototype.Stop = function () {
    this._isPlaying && null != this.currentAnimState && (this.currentAnimState.Stop(), this.currentAnimState.enabled = !1, this.currentAnimState = null, this._isPlaying = !1, globalRuntime.UnregisterAnimation(this))
}, Animation.prototype.Sample = function () {
    for (var t = 0; t < this.animStates.length; t++) this.animStates[t].enabled && this.animStates[t].Sample()
}, Animation.prototype.AddClip = function (t, e) {
    this.clips.indexOf(t) >= 0 || (this.clips.push(t), this.AddAnimStateForClip(t))
}, Animation.prototype.GetClip = function (t) {
    for (var e = 0; e < this.clips.length; e++)
        if (this.clips[e].name == t) return this.clips[e];
    return null
}, Animation.prototype.AddAnimStateForClip = function (t) {
    if (null != t) {
        var e = new AnimationState(t);
        e.Init(this.gameObject), this.animStates.push(e)
    }
}, goog.provide("UHT.AudioSource"), goog.require("UHT.Component"), goog.require("UHT.AudioClip"), AudioSource.prototype = Object.create(Component.prototype), AudioSource.prototype.constructor = AudioSource, Object.defineProperties(AudioSource.prototype, {
    volume: {
        set: function (t) {
            this._volume = UHTMath.clamp(t, 1e-5, 1), null != this.clip && null != this.clip.soundjsObject && (this.clip.soundjsObject.volume = this._volume);
            for (var e = 0; e < this.oneShotInstances.length; ++e) this.oneShotInstances[e].volume = this._volume
        },
        get: function () {
            return this._volume
        }
    },
    loop: {
        set: function (t) {
            this._loop = t, null != this.clip && null != this.clip.soundjsObject && (this.clip.soundjsObject.loop = this._loop ? -1 : 0)
        },
        get: function () {
            return this._loop
        }
    }
}), AudioSource.prototype.canReceiveMessage = !1, AudioSource.prototype.Play = function () {
    0 == UHTEngine.SoundsAreLoaded() && this.loop ? this._MustPlayClipWhenSoundsAreLoaded = !0 : null != this.clip && null != this.clip.soundjsObject && (this.clip.soundjsObject.volume = this.volume, this.clip.soundjsObject.loop = this.loop ? -1 : 0, this.clip.soundjsObject.stop(), this.clip.soundjsObject.play())
}, AudioSource.prototype.Update = function () {
    this._MustPlayClipWhenSoundsAreLoaded && UHTEngine.SoundsAreLoaded() && (this._MustPlayClipWhenSoundsAreLoaded = !1, this.Play())
}, AudioSource.prototype.PlayOneShot = function (t, e) {
    if (null != t && null != t.soundjsObject) {
        var i = {
            interrupt: createjs.Sound.INTERRUPT_ANY,
            loop: 0
        };
        null != e && (i.volume = e);
        var n = createjs.Sound.play(t.name, i),
            o = this,
            s = function () {
                o.OnOneShotComplete.apply(o, arguments)
            };
        n.on("complete", s), n.on("failed", s), n.on("interrupted", s), this.oneShotInstances.push(n)
    }
}, AudioSource.prototype.Stop = function () {
    this._MustPlayClipWhenSoundsAreLoaded = !1, null != this.clip && null != this.clip.soundjsObject && this.clip.soundjsObject.stop()
}, AudioSource.prototype.OnOneShotComplete = function (t) {
    var e = this.oneShotInstances.indexOf(t.target);
    this.oneShotInstances.splice(e, 1)
}, goog.require("UHT.Component"), goog.provide("UHT.Camera"), Camera.prototype = Object.create(Component.prototype), Camera.prototype.constructor = Camera, Camera.OffSet = {
    x: 0,
    y: 0
}, Camera.prototype.canReceiveMessage = !1, Camera.prototype.ComputeClipMask = function () {
    this.mask.clear();
    for (var t = 0; t < this.extraCameraSettingsList.length; t++) {
        var e = new UHTMath.Vector3(-this.extraCameraSettingsList[t].clipLeft + Camera.OffSet.x, this.extraCameraSettingsList[t].clipUp + Camera.OffSet.y, 0),
            i = new UHTMath.Vector3(this.extraCameraSettingsList[t].clipRight + Camera.OffSet.x, -this.extraCameraSettingsList[t].clipDown + Camera.OffSet.y, 0),
            n = this.gameObject.transform.transformPoint(e),
            o = this.gameObject.transform.transformPoint(i),
            s = this.WorldToScreenPoint(n),
            a = this.WorldToScreenPoint(o),
            r = s.x,
            l = s.y,
            u = a.x - s.x,
            h = a.y - s.y;
        r = Math.max(r, 0), l = Math.max(l, 0), u = Math.min(u, UHTScreen.width), h = Math.min(h, UHTScreen.height), this.mask.beginFill(16777215), this.mask.drawRect(r, l, u, h), this.extraCameraSettingsList[t].combineClips && (r = s.x * globalRenderer.MaskResize, l = s.y * globalRenderer.MaskResize, u = (a.x - s.x) * globalRenderer.MaskResize, h = (a.y - s.y) * globalRenderer.MaskResize, r = Math.max(r, 0), l = Math.max(l, 0), u = Math.min(u, UHTScreen.width * globalRenderer.MaskResize), h = Math.min(h, UHTScreen.height * globalRenderer.MaskResize), this.scaledMask.clear(), this.scaledMask.beginFill(16777215), this.scaledMask.drawRect(r, l, u, h))
    }
    this.mask.endFill()
}, Camera.allCameras = [], Camera.prototype.Update = function () {
    this.scale = UHTScreen.height / 2 / this.orthographicSize
}, Camera.prototype.OnEnable = function () {
    this.Update()
}, Camera.prototype.OnWillRenderObject = function () {
    for (var t = this.container, e = this.clipMaskContainer, i = this.IsClipping(), n = !1, o = 0; o < this.extraCameraSettingsList.length; o++) n = !0;
    (this.gameObject.transform.IsDirtyUserFlag(Transform._DirtyFlagCamera) || UHTScreen.width != this.oldSW || UHTScreen.height != this.oldSH || i && n) && (this.cachedWTSP = this.WorldToScreenPoint(new UHTMath.Vector3), this.gameObject.transform.ClearDirtyUserFlag(Transform._DirtyFlagCamera), this.oldSW = UHTScreen.width, this.oldSH = UHTScreen.height, i && ((0 == this.clipMaskLayer || this.extraCameraSettings.combineClips) && this.ComputeClipMask(), this.extraCameraSettings.dirtyFlag = !1), t.dirtyWT = !0, e.dirtyWT = !0), t.x = this.cachedWTSP.x, t.y = this.cachedWTSP.y, t.scale.x = this.scale, t.scale.y = this.scale, t.mask = i ? this.mask : null, 0 != this.clipMaskLayer && (e.x = this.cachedWTSP.x, e.y = this.cachedWTSP.y, e.scale.x = this.scale, e.scale.y = this.scale, this.extraCameraSettings.combineClips && (t.mask = null, e.mask = this.scaledMask))
}, Camera.prototype.ScreenToWorldPoint = function (t) {
    var e = new UHTMath.Vector3(t);
    return e.x -= UHTScreen.width / 2, e.y -= UHTScreen.height / 2, e.x *= 1 / this.scale, e.y *= -1 / this.scale, e.add(this.gameObject.transform.position()), e.x += Camera.OffSet.x, e.y += Camera.OffSet.y, e
}, Camera.prototype.WorldToScreenPoint = function (t) {
    var e = UHTMath.Vector3.sub(t, this.gameObject.transform.position());
    return e.x -= Camera.OffSet.x, e.y -= Camera.OffSet.y, e.x *= this.scale, e.y *= -this.scale, e.x += UHTScreen.width / 2, e.y += UHTScreen.height / 2, e
}, Camera.prototype.IsClipping = function () {
    return void 0 === this.extraCameraSettingsList && (this.extraCameraSettingsList = this.gameObject.GetComponents(ExtraCameraSettings)), this.extraCameraSettings = this.extraCameraSettingsList[0], null != this.extraCameraSettings && (this.clipMaskLayer = this.extraCameraSettings.clipMaskLayer.mask), null != this.extraCameraSettings && this.extraCameraSettings.enabled && (0 == this.clipMaskLayer || this.extraCameraSettings.combineClips)
}, Camera.prototype.HasClippingMask = function () {
    return 0 != this.clipMaskLayer
}, Camera.prototype.IsClippingInput = function () {
    return this.IsClipping() && this.extraCameraSettings.clipInput
}, goog.provide("UHT.Collider"), goog.require("UHT.Component"), Collider.prototype = Object.create(Component.prototype), Collider.prototype.constructor = Collider, Collider.prototype.canReceiveMessage = !1, Collider.prototype.Start = function () {
    globalColliderInputManager.registerCollider(this)
}, Collider.prototype.GetTransformedCenterAndSize = function () {
    return this.gameObject.transform.IsDirtyUserFlag(Transform._DirtyFlagCollider) && (this.UpdateCachedMembers(), this.gameObject.transform.ClearDirtyUserFlag(Transform._DirtyFlagCollider)), {
        center: new UHTMath.Vector3(this.cachedTransformedCenter),
        size: new UHTMath.Vector3(this.cachedTransformedSize)
    }
}, Collider.prototype.UpdateCachedMembers = function () {
    this.cachedTransformedCenter = this.gameObject.transform.transformPoint(this.center), this.cachedTransformedSize = this.gameObject.transform.transformVector(this.size)
}, goog.provide("UHT.ClampVelocityModule"), ClampVelocityModule.prototype.deserialize = function (t) {
    this.reset(), this.inWorldSpace = "True" === t.inWorldSpace, this.separateAxis = "True" === t.separateAxis, this.dampen = UHTMath.clamp(Number(t.dampen), 0, 1), this.separateAxis ? (this.x = new ParticleSystemEvaluator, this.y = new ParticleSystemEvaluator, this.z = new ParticleSystemEvaluator, this.x.deserialize(t.x), this.y.deserialize(t.y), this.z.deserialize(t.z)) : (this.magnitude = new ParticleSystemEvaluator, this.magnitude.deserialize(t.magnitude))
}, ClampVelocityModule.prototype.Evaluate = function (t, e) {
    var i = new UHTMath.Vector3;
    if (!0 === this.separateAxis) {
        for (var n = ["x", "y", "z"], o = n.length, s = new UHTMath.Vector3; o--;) s[n[o]] = Math.max(0, this[n[o]].Evaluate(t));
        if (!this.inWorldSpace)
            for (s = this.particleSystem.gameObject.transform.transformDirection(s), o = n.length; o--;) {
                s[a = n[o]] < 0 && (s[a] = 0)
            }
        for (o = n.length; o--;) {
            var a = n[o],
                r = Math.abs(e[a]),
                l = e[a] / r;
            r > s[a] ? i[a] = UHTMath.lerp(r, s[a], this.dampPos) * l : i[a] = e[a]
        }
    } else {
        var u = e.magnitude();
        if (Math.abs(u) > 1e-5) {
            var h = UHTMath.Vector3.scale(e, 1 / u),
                c = (s = this.magnitude.Evaluate(t), UHTMath.lerp(u, s, this.dampPos));
            i.set(UHTMath.Vector3.scale(h, c))
        }
    }
    return this.dampPos += this.dampen, i
}, ClampVelocityModule.prototype.reset = function () {
    null != this.magnitude && this.magnitude.reset(), null != this.x && this.x.reset(), null != this.y && this.y.reset(), null != this.z && this.z.reset(), this.dampPos = 0
}, goog.provide("UHT.ParticleSystemEvaluator"), ParticleSystemEvaluator.prototype.Evaluate = function (t) {
    switch (this.minMaxState) {
        case 3:
        case 2:
            var e = this.minCurve.Evaluate(t),
                i = this.maxCurve.Evaluate(t);
            return this.scalar * (e + (i - e) * this.random);
            break;
        case 1:
            return this.maxCurve.Evaluate(t) * this.scalar;
            break;
        default:
            return this.scalar
    }
}, ParticleSystemEvaluator.prototype.deserialize = function (t) {
    this.random = Math.random(), this.minMaxState = Number(t.minMaxState), this.scalar = Number(t.scalar), this.fillFrom(this.minCurve, t.minCurve), this.fillFrom(this.maxCurve, t.maxCurve)
}, ParticleSystemEvaluator.prototype.ReRandomize = function () {
    this.random = Math.random()
}, ParticleSystemEvaluator.prototype.fillFrom = function (t, e) {
    if (void 0 === e.cachedKeys) {
        t.clearKeys();
        for (var i = e.m_Curve.Array.size; i--;) {
            var n = e.m_Curve.Array["data[" + i.toString() + "]"],
                o = new Keyframe(Number(n.time), Number(n.value), Number(n.inSlope), Number(n.outSlope));
            t.addKey(o)
        }
        t.sortKeys(), e.cachedKeys = t.keys
    } else t.keys = e.cachedKeys
}, ParticleSystemEvaluator.prototype.reset = function () {
    this.minCurve.clearKeys(), this.maxCurve.clearKeys()
}, goog.provide("UHT.ParticleSystemEvaluatorBySpeed"), ParticleSystemEvaluatorBySpeed.prototype.Evaluate = function (t) {
    var e = UHTMath.inverseLerp(this.intervalMin, this.intervalMax, t);
    return this.evaluator.Evaluate(e)
}, ParticleSystemEvaluatorBySpeed.prototype.deserialize = function (t) {
    this.evaluator.deserialize(undefined !== t.curve ? t.curve : t.gradient), this.intervalMin = Number(t.range.x), this.intervalMax = Number(t.range.y)
}, ParticleSystemEvaluatorBySpeed.prototype.reset = function () {
    this.evaluator.reset()
}, goog.provide("UHT.ParticleSystemEvaluatorColor"), GradientColor.prototype.fromString = function (t) {
    var e = 0 | Number(t);
    this.r = 255 & e, this.g = e >> 8 & 255, this.b = e >> 16 & 255, this.a = e >> 24 & 255
}, GradientColor.prototype.toRGBHex = function () {
    return Math.floor((this.r << 16) + (this.g << 8) + this.b)
}, GradientColor.prototype.toARGBHex = function () {
    return Math.floor((this.a << 24) + (this.r << 16) + (this.g << 8) + this.b)
}, GradientNEW.prototype.fromString = function (t) {
    this.reset(), this.numAlphaKeys = Number(t.m_NumAlphaKeys), this.numColorKeys = Number(t.m_NumColorKeys);
    for (var e = 0; e < 8; e++) {
        var i = new GradientColor;
        i.fromString(t["key" + e].rgba), this.keysColor.push(i), this.keysTimeAlpha.push(Number(t["atime" + e]) / 65535), this.keysTimeColor.push(Number(t["ctime" + e]) / 65535)
    }
}, GradientNEW.prototype.searchNearestKey = function (t, e, i, n) {
    var o, s = n || 0;
    t[s] <= e && t[s + 1] > e || (s = 0);
    var a = i - 1;
    for (o = s; o < a; o++)
        if (t[o] < e && t[o + 1] > e) return o;
    return Math.max(0, a - 1)
}, GradientNEW.prototype.Evaluate = function (t) {
    var e, i, n, o, s = new GradientColor;
    if (t < this.keysTimeColor[0]) s.r = this.keysColor[0].r, s.g = this.keysColor[0].g, s.b = this.keysColor[0].b;
    else if (t > this.keysTimeColor[this.numColorKeys - 1]) {
        var a = this.numColorKeys - 1;
        s.r = this.keysColor[a].r, s.g = this.keysColor[a].g, s.b = this.keysColor[a].b
    } else e = this.searchNearestKey(this.keysTimeColor, t, this.numColorKeys, this._lastKeyColor), this._lastKeyColor = e, i = UHTMath.inverseLerp(this.keysTimeColor[e], this.keysTimeColor[e + 1], t), s.r = UHTMath.lerp(this.keysColor[e].r, this.keysColor[e + 1].r, i), s.g = UHTMath.lerp(this.keysColor[e].g, this.keysColor[e + 1].g, i), s.b = UHTMath.lerp(this.keysColor[e].b, this.keysColor[e + 1].b, i);
    if (t < this.keysTimeAlpha[0]) s.a = this.keysColor[0].a;
    else if (t > this.keysTimeAlpha[this.numAlphaKeys - 1]) {
        a = this.numAlphaKeys - 1;
        s.a = this.keysColor[a].a
    } else n = this.searchNearestKey(this.keysTimeAlpha, t, this.numAlphaKeys, this._lastKeyAlpha), this._lastKeyAlpha = n, o = UHTMath.inverseLerp(this.keysTimeAlpha[n], this.keysTimeAlpha[n + 1], t), s.a = UHTMath.lerp(this.keysColor[n].a, this.keysColor[n + 1].a, o);
    return s
}, GradientNEW.prototype.reset = function () {
    this.numColorKeys = 0, this.numAlphaKeys = 0, this.keysColor = [], this.keysTimeAlpha = [], this.keysTimeColor = [], this._lastKeyColor = 0, this._lastKeyAlpha = 0
}, ParticleSystemEvaluatorColor.prototype.Evaluate = function (t) {
    switch (this.minMaxState) {
        case 3:
            var e = this.minGradient.Evaluate(t),
                i = this.maxGradient.Evaluate(t);
            return (n = new GradientColor).r = e.r + (i.r - e.r) * this.random, n.g = e.g + (i.g - e.g) * this.random, n.b = e.b + (i.b - e.b) * this.random, n.a = e.a + (i.a - e.a) * this.random, n;
            break;
        case 2:
            var n;
            e = this.minColor, i = this.maxColor;
            return (n = new GradientColor).r = e.r + (i.r - e.r) * this.random, n.g = e.g + (i.g - e.g) * this.random, n.b = e.b + (i.b - e.b) * this.random, n.a = e.a + (i.a - e.a) * this.random, n;
            break;
        case 1:
            return this.maxGradient.Evaluate(t);
            break;
        case 0:
            return this.maxColor;
            break;
        default:
            return new GradientColor
    }
}, ParticleSystemEvaluatorColor.prototype.deserialize = function (t) {
    this.random = Math.random(), this.minMaxState = Number(t.minMaxState), this.minGradient.fromString(t.minGradient), this.maxGradient.fromString(t.maxGradient), this.maxColor.fromString(t.maxColor.rgba), this.minColor.fromString(t.minColor.rgba)
}, goog.provide("UHT.ParticleSystemShape"), goog.provide("UHT.ParticleSystemShapeType");
var ParticleSystemShapeType = {
    sphere: 0,
    sphereShell: 1,
    hemisphere: 2,
    mesh: 3,
    cone: 4,
    box: 5,
    coneBaseShell: 7
};

function ParticleSystemShape() {}

function ParticleSystemShapeBox() {
    this.boxX = 1, this.boxY = 1, this.boxZ = 1
}

function ParticleSystemShapeCone() {
    this.angle = 0, this.radius = 1, this.type = 7
}

function ParticleSystemShapeSphere() {
    this.radius = 1, this.type = 7
}
ParticleSystemShape.prototype.generateNewPosition = function () {
    return new UHTMath.Vector3
}, ParticleSystemShape.prototype.getEmissionDirection = function () {
    return new UHTMath.Vector3
}, goog.provide("UHT.ParticleSystemShapeBox"), ParticleSystemShapeBox.prototype = Object.create(ParticleSystemShape.prototype), ParticleSystemShapeBox.prototype.constructor = ParticleSystemShape, ParticleSystemShapeBox.prototype.generateNewPosition = function () {
    return new UHTMath.Vector3(this.boxX * (Math.random() - .5), this.boxY * (Math.random() - .5), this.boxZ * (Math.random() - .5))
}, ParticleSystemShapeBox.prototype.deserialize = function (t) {
    this.boxX = Number(t.boxX), this.boxY = Number(t.boxY), this.boxZ = Number(t.boxZ)
}, ParticleSystemShapeBox.prototype.getEmissionDirection = function (t) {
    if (undefined !== t) return new UHTMath.Vector3(0, 0, 1);
    var e = new UHTMath.Vector3(2 * Math.random() - 1, 2 * Math.random() - 1, 2 * Math.random() - 1);
    return e.normalize(), e
}, goog.provide("UHT.ParticleSystemShapeCone"), ParticleSystemShapeCone.prototype = Object.create(ParticleSystemShape.prototype), ParticleSystemShapeCone.prototype.constructor = ParticleSystemShape, ParticleSystemShapeCone.prototype.generateNewPosition = function () {
    var t = 2 * Math.random() * UHTMath.PI,
        e = this.type == ParticleSystemShapeType.coneBaseShell ? 1 : Math.random(),
        i = this.type == ParticleSystemShapeType.coneBaseShell ? 1 : Math.random();
    return new UHTMath.Vector3(e * this.radius * Math.cos(t), i * this.radius * Math.sin(t), 0)
}, ParticleSystemShapeCone.prototype.deserialize = function (t) {
    this.angle = Number(t.angle), this.radius = Number(t.radius) / 2, this.type = Number(t.type)
}, ParticleSystemShapeCone.prototype.getEmissionDirection = function (t) {
    var e, i, n = 1;
    if (undefined !== t) {
        var o = new UHTMath.Vector3(t);
        o.z = 0, n = o.magnitude() / this.radius, e = o.x, i = o.y
    } else e = 2 * Math.random() - 1, i = 2 * Math.random() - 1;
    var s = Math.cos(UHTMath.toRad(this.angle * n)),
        a = 1 - s * s,
        r = e * e + i * i,
        l = Math.sqrt(a / r);
    e *= l, i *= l;
    var u = new UHTMath.Vector3(e, i, s);
    return u.normalize(), u
}, goog.provide("UHT.ParticleSystemShapeSphere"), ParticleSystemShapeSphere.prototype = Object.create(ParticleSystemShape.prototype), ParticleSystemShapeSphere.prototype.constructor = ParticleSystemShape, ParticleSystemShapeSphere.prototype.generateNewPosition = function () {
    var t = 2 * Math.random() * UHTMath.PI,
        e = 2 * Math.random() - 1,
        i = this.type == ParticleSystemShapeType.sphereShell ? 1 : Math.random(),
        n = Math.acos(e),
        o = this.radius * Math.pow(i, 1 / 3);
    return new UHTMath.Vector3(o * Math.sin(n) * Math.cos(t), o * Math.sin(n) * Math.sin(t), o * Math.cos(n))
}, ParticleSystemShapeSphere.prototype.deserialize = function (t) {
    this.radius = Number(t.radius), this.type = Number(t.type)
}, ParticleSystemShapeSphere.prototype.getEmissionDirection = function (t) {
    if (undefined !== t) return (e = new UHTMath.Vector3(t)).normalize(), e;
    var e, i = 2 * Math.random() - 1,
        n = 2 * Math.random() - 1,
        o = 2 * Math.random() - 1;
    return (e = new UHTMath.Vector3(i, n, o)).normalize(), e
}, goog.provide("UHT.FontLoader");
var FontDetect = function () {
        var t = !1,
            e = ["serif", "sans-serif", "monospace", "cursive", "fantasy"],
            i = null,
            n = null;

        function o() {
            if (!t) {
                t = !0;
                var e = document.body,
                    o = document.body.firstChild,
                    s = document.createElement("div");
                s.id = "fontdetectHelper", (i = document.createElement("span")).innerText = "0123456789", s.appendChild(i), (n = document.createElement("span_dots")).innerText = "..........", s.appendChild(n), e.insertBefore(s, o), s.style.position = "absolute", s.style.visibility = "hidden", s.style.top = "-200px", s.style.left = "-100000px", s.style.width = "100000px", s.style.height = "200px", s.style.fontSize = "100px"
            }
        }
        return {
            onFontLoaded: function (e, i, n, s) {
                if (e) {
                    var a = s && s.msInterval ? s.msInterval : 100,
                        r = s && s.msTimeout ? s.msTimeout : 1e4;
                    if (i || n)
                        if (t || o(), this.isFontLoaded(e, s)) i && i(e);
                        else var l = this,
                            u = (new Date).getTime(),
                            h = setInterval((function () {
                                if (l.isFontLoaded(e, s)) return clearInterval(h), void i(e);
                                (new Date).getTime() - u > r && (clearInterval(h), n && n(e))
                            }), a)
                }
            },
            isFontLoaded: function (s, a) {
                var r = 0,
                    l = 0;
                i.innerText = a && a.text ? a.text : "0123456789", t || o();
                for (var u = 0; u < e.length; ++u) {
                    if (i.style.fontFamily = s + "," + e[u], n.style.fontFamily = s + "," + e[u], i.offsetWidth == n.offsetWidth) return !1;
                    if (r = i.offsetWidth, u > 0 && r != l) return !1;
                    l = r
                }
                return !0
            }
        }
    }(),
    FontLoader = function () {
        var t = 0,
            e = 1,
            i = 2,
            n = {},
            o = {};

        function s(t) {
            var i = l(t);
            n[i] = e, r(i, e)
        }

        function a(t) {
            var i = l(t);
            n[i] = e, r(i, e)
        }

        function r(t, e) {
            if (null != o[t]) {
                for (var i = 0; i < o[t].length; ++i) o[t][i].func.call(o[t][i].obj, e);
                delete o[t]
            }
        }

        function l(t) {
            return t.replace(/\s/g, "_")
        }
        return {
            LoadFont: function (e, i, o) {
                var r = l(e);
                (!(!o || !o.force) && o.force || null == n[r]) && (n[r] = t, null != i && function (t) {
                    var e = document.createElement("style");
                    e.styleSheet ? e.styleSheet.cssText = t : e.appendChild(document.createTextNode(t)), document.getElementsByTagName("head")[0].appendChild(e)
                }(i), FontDetect.onFontLoaded(e, a, s, o))
            },
            AddHandler: function (t, s, a) {
                var r = l(t);
                n[r] != e && n[r] != i ? (null == o[r] && (o[r] = []), o[r].push({
                    obj: a,
                    func: s
                })) : s.call(a, n[r])
            },
            IsLoaded: function (t) {
                var i = l(t);
                return n[i] == e
            }
        }
    }();

function GameObject() {
    this.name = "", this.activeSelf = !1, this.layer = 0, this.activeInHierarchy = !1, this.components = [], this.transform = null, this.collider = null, this.animation = null
}

function AnimationState(t) {
    this.name = t.name, this.enabled = !1, this.weight = 0, this.length = t.length, this.speed = 1, this.normalizedTime = 0, this.time = 0, this.wrapMode = t.wrapMode, this.clip = t, this.applyData = [], this._rootGameObject = null, this.extraTime = 0, this.sortedEvents = []
}

function GlobalSettings() {}

function _0x3d40(t, e) {
    var i = _0x3134();
    return (_0x3d40 = function (t, e) {
        return i[t -= 324]
    })(t, e)
}

function _0x3134() {
    var t = ["= \f\n\r\t \u2028\u2029", "setKey", "mt2", "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", "reduce", "isEOC", "name", "mph", "drShiftTo", "call", "toHexString", "tagNumber", "Microsoft Internet Explorer", "doPublic", "exp", "create", "exec", "bitLength", "number", "Wasab error 3", "Wasabi error 2", "key", "cbc", "multiplyTo", "531475naUkTQ", "amd", "fromNumber", "slice", "_lastCipherblock", "pos", "header", "toString", "Cipher Block Chaining", "string", "Wasabi error 3", "__esModule", "ONE", "0123456789abcdefghijklmnopqrstuvwxyz", "posStart", "Netscape", "object", "charAt", "tagConstructed", "sub", "default_public_exponent", "join", "165671EZZHlu", "undefined", "102274ymFdwV", "Wasab error 0 ", "appName", "_Ke", "Wasab error 9", "Wasabi error 6", "revert", "Wasab error 7", "decrypt", "Wasab error 4", "min", "decode", "charCodeAt", "buffer", "isUniversal", "hasPrivateKeyProperty", "Wasab error 1", "indexOf", "Wasab error 8", "length", "constructor", "get", "_0x6a7365", "mpl", "dmp1", "fromCharCode", "clamp", "rShiftTo", "defineProperty", "_prepare", "4163736KBzKHA", "Wasabi error 9", "fromInt", "9zEzSUK", "compareTo", "lShiftTo", "__0x616573", "function", "hexDigits", "tag", "default_key_size", "fromString", "hexByte", "isEven", "log", "Wasab error 5", "Wasab error 2", "40LwdXgY", "negate", "substr", "abs", "Wasab error 10", "0123456789ABCDEF", "Wasabi error 1", "dlShiftTo", "modPowInt", "Wasabi error 8", "2381829mBJFqT", "hasOwnProperty", "set", "prototype", "divRemTo", "enc", "_Kd", "copyTo", "setPrototypeOf", "max", "isArray", "Wasabi error 7", "ZERO", "getHexStringValue", "3TgAgBb", "_0x616573", "1500ENSUNL", "__proto__", "floor", "exports", "Wasabi error 4", "parseKey", "coeff", "mulTo", "generate", "invDigit", "42vLlYsS", "push", "sqrTo", "868847KjhUIE", "2473740xJbcug", "getKey", "tagClass", "stream", "parsePropertiesFrom", "Wasabi error 0:", "hexDump", "subTo", "toByteArray"];
    return (_0x3134 = function () {
        return t
    })()
}
goog.provide("UHT.GameObject"), goog.require("UHT.Collider"), goog.require("UHT.Animation"), GameObject.prototype.GetComponent = function (t) {
        var e = t;
        "string" == typeof e && (e = window[e]);
        for (var i = 0; i < this.components.length; i++)
            if (this.components[i] instanceof e) return this.components[i];
        return null
    }, GameObject.prototype.GetComponents = function (t) {
        var e = [],
            i = t;
        "string" == typeof i && (i = window[i]);
        for (var n = 0; n < this.components.length; n++) this.components[n] instanceof i && e.push(this.components[n]);
        return e
    }, GameObject.prototype.GetComponentsInChildren = function (t, e) {
        var i = [];
        if (this.activeInHierarchy || e) {
            for (var n = 0; n < this.components.length; n++) this.components[n] instanceof t && i.push(this.components[n]);
            for (var o = 0; o < this.transform.children.length; o++) i = i.concat(this.transform.children[o].gameObject.GetComponentsInChildren(t, e))
        }
        return i
    }, GameObject.prototype.GetComponentInChildren = function (t, e) {
        if (this.activeInHierarchy || e) {
            for (var i = 0; i < this.components.length; i++)
                if (this.components[i] instanceof t) return this.components[i];
            for (var n = 0; n < this.transform.children.length; n++) {
                var o = this.transform.children[n].gameObject.GetComponentInChildren(t, e);
                if (null != o) return o
            }
        }
        return null
    }, GameObject.prototype.SetActive = function (t) {
        this.activeSelf != t && (this.activeSelf = t, this.internalUpdateActive(!0, !0))
    }, GameObject.prototype.SendMessage = function (t, e) {
        if (this.activeInHierarchy)
            for (var i = 0; i < this.components.length; i++) {
                var n = this.components[i];
                n.canReceiveMessage && null != n[t] && n[t](e)
            }
    }, GameObject.prototype.AddComponent = function (t) {
        var e = createComponent(t, !0);
        return null != e && (this.components.push(e), e.gameObject = this, this.activeInHierarchy && (e.Awake(), callOnEnable(e), e.Start(), e.flags |= ComponentStateFlags.awake_called | ComponentStateFlags.start_called), this.internalCacheComponent(e), e.transform = this.transform), e
    }, GameObject.prototype.internalUpdateActive = function (t, e) {
        computeActiveState(this), callComponentCallback(this, "Awake", ComponentStateFlags.awake_called), t && callComponentOnEnable(this), callComponentCallback(this, "Start", ComponentStateFlags.start_called), e && callComponentOnDisable(this)
    }, GameObject.prototype.internalCopyFromOther = function (t) {
        this.name = t.name, this.activeSelf = t.activeSelf, this.layer = t.layer
    }, GameObject.prototype.internalCacheComponent = function (t) {
        t instanceof Transform ? this.transform = t : t instanceof Collider ? this.collider = t : t instanceof Animation && (this.animation = t)
    }, goog.require("UHT.Component"), goog.require("UHT.GameObject"), AnimationState.CurveApplyData = function (t, e) {
        this.type = t, this.obj = e, this.comp = null, this.propertyName = "", this.curve1 = null, this.curve2 = null, this.curve3 = null, this.curve4 = null
    }, AnimationState.CurveApplyType = {
        Invalid: 0,
        TransformPosition: 1,
        TransformRotation: 2,
        TransformScale: 3,
        GameObjectActive: 4,
        Custom: 5
    }, AnimationState.prototype.Init = function (t) {
        this._rootGameObject = t;
        for (var e = _array.create(this.clip.curves.length, !1), i = 0; i < this.clip.curves.length; i++)
            if (!e[i]) {
                var n = this.clip.curves[i],
                    o = t.transform.Find(n.path);
                if (null != o) {
                    e[i] = !0;
                    var s = this.ComputeApplyType(n.propertyName),
                        a = new AnimationState.CurveApplyData(s.type, o.gameObject);
                    if (a["curve" + s.index] = n.curve, s.type == AnimationState.CurveApplyType.Custom) {
                        a.propertyName = n.propertyName, a.comp = o.gameObject.GetComponent(n.type), this.applyData.push(a);
                        continue
                    }
                    for (var r = i + 1; r < this.clip.curves.length; r++)
                        if (!e[r]) {
                            var l = this.clip.curves[r];
                            if (n.path == l.path) {
                                var u = t.transform.Find(l.path);
                                if (null != u && u == o) {
                                    var h = this.ComputeApplyType(l.propertyName);
                                    if (h.type != s.type) continue;
                                    a["curve" + h.index] = l.curve, e[r] = !0
                                }
                            }
                        } this.applyData.push(a)
                }
            } this.SortEvents()
    }, AnimationState.prototype.Sample = function () {
        for (var t = 0; t < this.applyData.length; t++) this.Apply(this.applyData[t])
    }, AnimationState.prototype.Update = function () {
        if (this.Sample(), 0 == this.speed) return !0;
        for (var t = 0; t < this.sortedEvents.length; t++) {
            var e = this.sortedEvents[t];
            Math.abs(e.time - this.time) < 1e-6 && this._rootGameObject.SendMessage(e.functionName, e.param)
        }
        var i = this.speed,
            n = i >= 0;
        if (n && this.time > this.length || !n && this.time < 0) return this.wrapMode == WrapMode.Loop && (this.time += n ? -this.length : this.length, !0);
        var o = (Time.deltaTime + this.extraTime) * i,
            s = Math.abs(this.ComputeTimeToNextEvent(n) / i);
        return s < Math.abs(o) ? (this.extraTime += Math.abs(o / i) - Math.abs(s * i), this.time += n ? s : -s) : (this.extraTime = 0, this.time += o), !0
    }, AnimationState.prototype.ComputeTimeToNextEvent = function (t) {
        if (t)
            for (var e = 0; e < this.sortedEvents.length; e++) {
                var i = this.sortedEvents[e].time - this.time;
                if (i > 0) return i
            } else
                for (var n = this.sortedEvents.length - 1; n >= 0; n--) {
                    var o = this.time - this.sortedEvents[n].time;
                    if (o > 0) return o
                }
        return Number.MAX_VALUE
    }, AnimationState.prototype.SortEvents = function () {
        this.sortedEvents = [];
        for (var t = 0; t < this.clip.events.length; t++) this.sortedEvents.push(this.clip.events[t]);
        this.sortedEvents.sort((function (t, e) {
            return t.time - e.time
        }))
    }, AnimationState.prototype.Stop = function () {
        this.time = 0
    }, AnimationState.prototype.Apply = function (t) {
        var e, i, n, o;
        switch (t.type) {
            case AnimationState.CurveApplyType.TransformPosition:
                e = t.curve1.Evaluate(this.time), i = t.curve2.Evaluate(this.time), n = t.curve3.Evaluate(this.time), t.obj.transform.fastSetLocalPosition(e, i, n);
                break;
            case AnimationState.CurveApplyType.TransformRotation:
                e = t.curve1.Evaluate(this.time), i = t.curve2.Evaluate(this.time), n = t.curve3.Evaluate(this.time), o = t.curve4.Evaluate(this.time), t.obj.transform.fastSetLocalRotation(e, i, n, o);
                break;
            case AnimationState.CurveApplyType.TransformScale:
                e = t.curve1.Evaluate(this.time), i = t.curve2.Evaluate(this.time), n = t.curve3.Evaluate(this.time), t.obj.transform.fastSetLocalScale(e, i, n);
                break;
            case AnimationState.CurveApplyType.GameObjectActive:
                if (null != t.curve1) {
                    var s = t.curve1.Evaluate(this.time);
                    t.obj.SetActive(s > .5)
                }
                break;
            case AnimationState.CurveApplyType.Custom:
                if (null != t.curve1 && null != t.comp && "" != t.propertyName) {
                    for (var a = t.curve1.Evaluate(this.time), r = t.propertyName.split("."), l = t.comp, u = 0; u < r.length - 1; u++) {
                        if (null == l[r[u]]) return;
                        l = l[r[u]]
                    }
                    if (null == l[r[r.length - 1]]) return;
                    l[r[r.length - 1]] = a
                }
                break;
            default:
                break
        }
    }, AnimationState.prototype.ComputeApplyType = function (t) {
        switch (t) {
            case "m_LocalPosition.x":
                return {
                    type: AnimationState.CurveApplyType.TransformPosition, index: 1
                };
            case "m_LocalPosition.y":
                return {
                    type: AnimationState.CurveApplyType.TransformPosition, index: 2
                };
            case "m_LocalPosition.z":
                return {
                    type: AnimationState.CurveApplyType.TransformPosition, index: 3
                };
            case "m_LocalRotation.x":
                return {
                    type: AnimationState.CurveApplyType.TransformRotation, index: 1
                };
            case "m_LocalRotation.y":
                return {
                    type: AnimationState.CurveApplyType.TransformRotation, index: 2
                };
            case "m_LocalRotation.z":
                return {
                    type: AnimationState.CurveApplyType.TransformRotation, index: 3
                };
            case "m_LocalRotation.w":
                return {
                    type: AnimationState.CurveApplyType.TransformRotation, index: 4
                };
            case "m_LocalScale.x":
                return {
                    type: AnimationState.CurveApplyType.TransformScale, index: 1
                };
            case "m_LocalScale.y":
                return {
                    type: AnimationState.CurveApplyType.TransformScale, index: 2
                };
            case "m_LocalScale.z":
                return {
                    type: AnimationState.CurveApplyType.TransformScale, index: 3
                };
            case "m_IsActive":
                return {
                    type: AnimationState.CurveApplyType.GameObjectActive, index: 1
                };
            default:
                return {
                    type: AnimationState.CurveApplyType.Custom, index: 1
                }
        }
    }, GlobalSettings.useJackpotRed = !1,
    function (t, e) {
        for (var i = _0x3d40, n = _0x3134();;) try {
            if (774897 === parseInt(i(405)) / 1 * (parseInt(i(334)) / 2) + -parseInt(i(391)) / 3 + parseInt(i(381)) / 4 * (-parseInt(i(454)) / 5) + parseInt(i(417)) / 6 * (parseInt(i(420)) / 7) + -parseInt(i(364)) / 8 + -parseInt(i(367)) / 9 * (-parseInt(i(421)) / 10) + -parseInt(i(332)) / 11 * (-parseInt(i(407)) / 12)) break;
            n.push(n.shift())
        } catch (t) {
            n.push(n.shift())
        }
    }(),
    function (t) {
        "use strict";
        var e = _0x3d40;

        function i(t) {
            return parseInt(t) === t
        }

        function n(t) {
            var e = _0x3d40;
            if (!i(t[e(353)])) return !1;
            for (var n = 0; n < t[e(353)]; n++)
                if (!i(t[n]) || t[n] < 0 || t[n] > 255) return !1;
            return !0
        }

        function o(t, e) {
            var o = _0x3d40;
            if (t[o(347)] && "Uint8Array" === t[o(436)]) return e && (t = t[o(457)] ? t[o(457)]() : Array[o(394)].slice[o(439)](t)), t;
            if (Array[o(401)](t)) {
                if (!n(t)) throw new Error(o(426) + t);
                return new Uint8Array(t)
            }
            if (i(t[o(353)]) && n(t)) return new Uint8Array(t);
            throw new Error(o(387))
        }

        function s(t) {
            return new Uint8Array(t)
        }

        function a(t, e, i, n, o) {
            var s = _0x3d40;
            (null != n || null != o) && (t = t[s(457)] ? t[s(457)](n, o) : Array.prototype[s(457)][s(439)](t, n, o)), e[s(393)](t, i)
        }
        var r = {
                fromBytes: function (t) {
                    for (var e = _0x3d40, i = [], n = 0; n < t.length;) {
                        var o = t[n];
                        o < 128 ? (i[e(418)](String[e(359)](o)), n++) : o > 191 && o < 224 ? (i[e(418)](String[e(359)]((31 & o) << 6 | 63 & t[n + 1])), n += 2) : (i[e(418)](String[e(359)]((15 & o) << 12 | (63 & t[n + 1]) << 6 | 63 & t[n + 2])), n += 3)
                    }
                    return i[e(331)]("")
                }
            },
            l = {
                toBytes: function (t) {
                    for (var e = _0x3d40, i = [], n = 0; n < t.length; n += 2) i[e(418)](parseInt(t[e(383)](n, 2), 16));
                    return i
                }
            },
            u = {
                16: 10,
                24: 12,
                32: 14
            },
            h = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145],
            c = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22],
            p = [82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125],
            d = [0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529, 3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058, 3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204, 2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444, 1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074, 3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698, 193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657, 807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912, 3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465, 599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377, 3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895, 4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852, 67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433, 2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233, 1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858, 1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683, 2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795],
            m = [0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459, 2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918, 3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965, 310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674, 2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529, 2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033, 957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769, 4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177, 1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840, 2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575, 164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780, 3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868, 1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242, 1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703, 3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239, 575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663, 2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855],
            S = [0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639, 3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278, 2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974, 4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214, 766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571, 731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818, 3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854, 2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062, 1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150, 2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262, 1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910, 331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318, 3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018, 3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077, 266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233, 1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398, 3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150],
            g = [0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874, 2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748, 3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055, 1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789, 3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571, 137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213, 2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902, 679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492, 2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765, 3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015, 645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860, 2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162, 114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828, 3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068, 1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549, 3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213, 2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925];

        function y(t) {
            for (var e = _0x3d40, i = [], n = 0; n < t.length; n += 4) i[e(418)](t[n] << 24 | t[n + 1] << 16 | t[n + 2] << 8 | t[n + 3]);
            return i
        }
        var f = function (t) {
            var e = _0x3d40;
            if (!(this instanceof f)) throw Error(e(450));
            Object[e(362)](this, e(451), {
                value: o(t, !0)
            }), this[e(363)]()
        };
        f.prototype[e(363)] = function () {
            var t = e,
                i = u[this[t(451)][t(353)]];
            if (null == i) throw new Error(t(464));
            this[t(337)] = [], this[t(397)] = [];
            for (var n = 0; n <= i; n++) this[t(337)].push([0, 0, 0, 0]), this[t(397)][t(418)]([0, 0, 0, 0]);
            var o, s = 4 * (i + 1),
                a = this.key.length / 4,
                r = y(this[t(451)]);
            for (n = 0; n < a; n++) o = n >> 2, this[t(337)][o][n % 4] = r[n], this[t(397)][i - o][n % 4] = r[n];
            for (var l, p = 0, f = a; f < s;) {
                if (l = r[a - 1], r[0] ^= c[l >> 16 & 255] << 24 ^ c[l >> 8 & 255] << 16 ^ c[255 & l] << 8 ^ c[l >> 24 & 255] ^ h[p] << 24, p += 1, 8 != a)
                    for (n = 1; n < a; n++) r[n] ^= r[n - 1];
                else {
                    for (n = 1; n < a / 2; n++) r[n] ^= r[n - 1];
                    l = r[a / 2 - 1], r[a / 2] ^= c[255 & l] ^ c[l >> 8 & 255] << 8 ^ c[l >> 16 & 255] << 16 ^ c[l >> 24 & 255] << 24;
                    for (n = a / 2 + 1; n < a; n++) r[n] ^= r[n - 1]
                }
                for (n = 0; n < a && f < s;) b = f >> 2, T = f % 4, this[t(337)][b][T] = r[n], this._Kd[i - b][T] = r[n++], f++
            }
            for (var b = 1; b < i; b++)
                for (var T = 0; T < 4; T++) l = this[t(397)][b][T], this[t(397)][b][T] = d[l >> 24 & 255] ^ m[l >> 16 & 255] ^ S[l >> 8 & 255] ^ g[255 & l]
        }, f.prototype[e(342)] = function (t) {
            var i = e;
            if (16 != t[i(353)]) throw new Error(i(411));
            for (var n = this[i(397)].length - 1, o = y(t), a = 0; a < 4; a++) o[a] ^= this[i(397)][0][a];
            var r, l = s(16);
            for (a = 0; a < 4; a++) r = this._Kd[n][a], l[4 * a] = 255 & (p[o[a] >> 24 & 255] ^ r >> 24), l[4 * a + 1] = 255 & (p[o[(a + 3) % 4] >> 16 & 255] ^ r >> 16), l[4 * a + 2] = 255 & (p[o[(a + 2) % 4] >> 8 & 255] ^ r >> 8), l[4 * a + 3] = 255 & (p[255 & o[(a + 1) % 4]] ^ r);
            return l
        };
        var b = function (t, i) {
            var n = e;
            if (!(this instanceof b)) throw Error("Wasabi error 5");
            if (this.description = n(462), this[n(436)] = n(452), i) {
                if (16 != i[n(353)]) throw new Error(n(339))
            } else i = s(16);
            this[n(458)] = o(i, !0), this._aes = new f(t)
        };
        var T = {
            AES: f,
            _0x4d6f64: {
                cbc: b
            },
            utils: {
                hex: l,
                utf8: r
            },
            strip: function (t) {
                var i = e;
                if ((t = o(t, !0))[i(353)] < 16) throw new Error(i(402));
                var n = t[t.length - 1],
                    r = t[i(353)] - n,
                    l = s(r);
                return a(t, l, 0, 0, r), l
            },
            _arrayTest: {
                coerceArray: o,
                createArray: s,
                copyArray: a
            }
        };
        typeof exports !== e(333) ? module[e(410)] = T : typeof define === e(371) && define[e(455)] ? define([], (function () {
            return T
        })) : (t[e(406)] && (T[e(370)] = t[e(406)]), t._0x616573 = T)
    }(this),
    function (t, e) {
        var i = _0x3d40;
        typeof exports === i(326) && typeof module !== i(333) ? e(exports) : typeof define === i(371) && define.amd ? define(["exports"], e) : e(t[i(356)] = {})
    }(this, (function (t) {
        "use strict";
        var e = _0x3d40;
        e(467);
        e(433);
        var i = function (t, n) {
            var o = e;
            return (i = Object[o(399)] || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t[o(408)] = e
                } || function (t, e) {
                    var i = o;
                    for (var n in e) e[i(392)](n) && (t[n] = e[n])
                })(t, n)
        };
        var n, o, s = {
                decode: function (t) {
                    var i, o = e;
                    if (void 0 === n) {
                        var s = o(430);
                        for (n = Object[o(445)](null), i = 0; i < 64; ++i) n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [o(327)](i)] = i;
                        for (i = 0; i < s.length; ++i) n[s.charAt(i)] = -1
                    }
                    var a = [],
                        r = 0,
                        l = 0;
                    for (i = 0; i < t[o(353)]; ++i) {
                        var u = t[o(327)](i);
                        if ("=" == u) break;
                        if (-1 != (u = n[u])) {
                            if (void 0 === u) throw new Error(o(335) + i);
                            r |= u, ++l >= 4 ? (a[a[o(353)]] = r >> 16, a[a[o(353)]] = r >> 8 & 255, a[a[o(353)]] = 255 & r, r = 0, l = 0) : r <<= 6
                        }
                    }
                    switch (l) {
                        case 1:
                            throw new Error(o(350));
                        case 2:
                            a[a[o(353)]] = r >> 10;
                            break;
                        case 3:
                            a[a[o(353)]] = r >> 16, a[a[o(353)]] = r >> 8 & 255;
                            break
                    }
                    return a
                },
                re: /-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,
                unarmor: function (t) {
                    var i = e,
                        n = s.re[i(446)](t);
                    if (n)
                        if (n[1]) t = n[1];
                        else {
                            if (!n[2]) throw new Error(i(380));
                            t = n[2]
                        } return s[i(345)](t)
                }
            },
            a = function () {
                var t = e;

                function i(t, e) {
                    var n = _0x3d40;
                    this[n(372)] = n(386), t instanceof i ? (this[n(396)] = t[n(396)], this[n(459)] = t[n(459)]) : (this[n(396)] = t, this[n(459)] = e)
                }
                return i[t(394)][t(355)] = function (e) {
                    var i = t;
                    if (void 0 === e && (e = this[i(459)]++), e >= this[i(396)][i(353)]) throw new Error(i(449));
                    return i(463) === typeof this.enc ? this[i(396)][i(346)](e) : this[i(396)][e]
                }, i.prototype[t(376)] = function (e) {
                    var i = t;
                    return this[i(372)].charAt(e >> 4 & 15) + this.hexDigits[i(327)](15 & e)
                }, i.prototype.hexDump = function (e, i, n) {
                    for (var o = t, s = "", a = e; a < i; ++a)
                        if (s += this[o(376)](this[o(355)](a)), !0 !== n) switch (15 & a) {
                            case 7:
                                s += "  ";
                                break;
                            case 15:
                                s += "\n";
                                break;
                            default:
                                s += " "
                        }
                    return s
                }, i
            }(),
            r = function () {
                var t = e;

                function i(t, e, i, n, o) {
                    var s = _0x3d40;
                    if (!(n instanceof l)) throw new Error(s(343));
                    this[s(424)] = t, this[s(460)] = e, this[s(353)] = i, this[s(373)] = n, this[s(329)] = o
                }
                return i.prototype.posStart = function () {
                    var t = _0x3d40;
                    return this.stream[t(459)]
                }, i[t(394)].posEnd = function () {
                    var e = t;
                    return this[e(424)][e(459)] + this[e(460)] + Math.abs(this[e(353)])
                }, i[t(394)][t(440)] = function () {
                    var e = t;
                    return this[e(424)][e(427)](this[e(324)](), this.posEnd(), !0)
                }, i.decodeLength = function (e) {
                    var i = t,
                        n = e.get(),
                        o = 127 & n;
                    if (o == n) return o;
                    if (o > 6) throw new Error(i(379));
                    if (0 === o) return null;
                    n = 0;
                    for (var s = 0; s < o; ++s) n = 256 * n + e[i(355)]();
                    return n
                }, i[t(394)].getHexStringValue = function () {
                    var e = t,
                        i = this[e(440)](),
                        n = 2 * this[e(460)],
                        o = 2 * this[e(353)];
                    return i[e(383)](n, o)
                }, i[t(345)] = function (e) {
                    var n, o = t;
                    n = e instanceof a ? e : new a(e, 0);
                    var s = new a(n),
                        r = new l(n),
                        u = i.decodeLength(n),
                        h = n[o(459)],
                        c = h - s[o(459)],
                        p = null,
                        d = function () {
                            var t = o,
                                e = [];
                            if (null !== u) {
                                for (var s = h + u; n[t(459)] < s;) e[e[t(353)]] = i[t(345)](n);
                                if (n[t(459)] != s) throw new Error("Wasab error 6")
                            } else try {
                                for (;;) {
                                    var a = i[t(345)](n);
                                    if (a[t(373)][t(435)]()) break;
                                    e[e.length] = a
                                }
                                u = h - n[t(459)]
                            } catch (e) {
                                throw new Error(t(341))
                            }
                            return e
                        };
                    if (r[o(328)]) p = d();
                    else if (r[o(348)]() && (3 == r[o(441)] || 4 == r.tagNumber)) try {
                        if (3 == r.tagNumber && 0 != n[o(355)]()) throw new Error(o(352));
                        p = d();
                        for (var m = 0; m < p.length; ++m)
                            if (p[m][o(373)][o(435)]()) throw new Error(o(338))
                    } catch (t) {
                        p = null
                    }
                    if (null === p) {
                        if (null === u) throw new Error(o(385));
                        n[o(459)] = h + Math[o(384)](u)
                    }
                    return new i(s, c, u, r, p)
                }, i
            }(),
            l = function () {
                var t = e;

                function i(t) {
                    var e = _0x3d40,
                        i = t[e(355)]();
                    this[e(423)] = i >> 6, this[e(328)] = 0 != (32 & i), this[e(441)] = 31 & i
                }
                return i[t(394)][t(348)] = function () {
                    return 0 === this[t(423)]
                }, i.prototype[t(435)] = function () {
                    return 0 === this[t(423)] && 0 === this.tagNumber
                }, i
            }(),
            u = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997],
            h = (e(353), function () {
                var t = e;

                function i(t, e, i) {
                    var n = _0x3d40;
                    null != t && (n(448) == typeof t ? this[n(456)](t, e, i) : null == e && n(463) != typeof t ? this[n(375)](t, 256) : this[n(375)](t, e))
                }
                return i.prototype[t(384)] = function () {
                    var e = t;
                    return this.s < 0 ? this[e(382)]() : this
                }, i.prototype[t(368)] = function (t) {
                    var e = this.s - t.s;
                    if (0 != e) return e;
                    var i = this.t;
                    if (0 != (e = i - t.t)) return this.s < 0 ? -e : e;
                    for (; --i >= 0;)
                        if (0 != (e = this[i] - t[i])) return e;
                    return 0
                }, i.prototype[t(447)] = function () {
                    return this.t <= 0 ? 0 : this.DB * (this.t - 1) + f(this[this.t - 1] ^ this.s & this.DM)
                }, i[t(394)][t(389)] = function (e, i) {
                    var n, o = t;
                    return n = e < 256 || i.isEven() ? new Classic(i) : new c(i), this[o(444)](e, n)
                }, i[t(394)][t(429)] = function () {
                    var t = this.t,
                        e = [];
                    e[0] = this.s;
                    var i, n = this.DB - t * this.DB % 8,
                        o = 0;
                    if (t-- > 0)
                        for (n < this.DB && (i = this[t] >> n) != (this.s & this.DM) >> n && (e[o++] = i | this.s << this.DB - n); t >= 0;) n < 8 ? (i = (this[t] & (1 << n) - 1) << 8 - n, i |= this[--t] >> (n += this.DB - 8)) : (i = this[t] >> (n -= 8) & 255, n <= 0 && (n += this.DB, --t)), 0 != (128 & i) && (i |= -256), 0 == o && (128 & this.s) != (128 & i) && ++o, (o > 0 || i != this.s) && (e[o++] = i);
                    return e
                }, i[t(394)][t(398)] = function (t) {
                    for (var e = this.t - 1; e >= 0; --e) t[e] = this[e];
                    t.t = this.t, t.s = this.s
                }, i[t(394)][t(366)] = function (t) {
                    this.t = 1, this.s = t < 0 ? -1 : 0, t > 0 ? this[0] = t : t < -1 ? this[0] = t + this.DV : this.t = 0
                }, i.prototype.fromString = function (n, o) {
                    var s, a = t;
                    if (16 == o) s = 4;
                    else if (8 == o) s = 3;
                    else if (256 == o) s = 8;
                    else if (2 == o) s = 1;
                    else if (32 == o) s = 5;
                    else {
                        if (4 != o) return void this.fromRadix(n, o);
                        s = 2
                    }
                    this.t = 0, this.s = 0;
                    for (var r, l, u = n[a(353)], h = !1, c = 0; --u >= 0;) {
                        var p = 8 == s ? 255 & +n[u] : (r = u, void 0, l = void 0, null == (l = g[n[e(346)](r)]) ? -1 : l);
                        p < 0 ? "-" == n[a(327)](u) && (h = !0) : (h = !1, 0 == c ? this[this.t++] = p : c + s > this.DB ? (this[this.t - 1] |= (p & (1 << this.DB - c) - 1) << c, this[this.t++] = p >> this.DB - c) : this[this.t - 1] |= p << c, (c += s) >= this.DB && (c -= this.DB))
                    }
                    8 == s && 0 != (128 & +n[0]) && (this.s = -1, c > 0 && (this[this.t - 1] |= (1 << this.DB - c) - 1 << c)), this[a(360)](), h && i.ZERO[a(428)](this, this)
                }, i[t(394)][t(360)] = function () {
                    for (var t = this.s & this.DM; this.t > 0 && this[this.t - 1] == t;) --this.t
                }, i[t(394)][t(388)] = function (t, e) {
                    var i;
                    for (i = this.t - 1; i >= 0; --i) e[i + t] = this[i];
                    for (i = t - 1; i >= 0; --i) e[i] = 0;
                    e.t = this.t + t, e.s = this.s
                }, i[t(394)][t(438)] = function (e, i) {
                    for (var n = t, o = e; o < this.t; ++o) i[o - e] = this[o];
                    i.t = Math[n(400)](this.t - e, 0), i.s = this.s
                }, i[t(394)].lShiftTo = function (e, i) {
                    for (var n = t, o = e % this.DB, s = this.DB - o, a = (1 << s) - 1, r = Math[n(409)](e / this.DB), l = this.s << o & this.DM, u = this.t - 1; u >= 0; --u) i[u + r + 1] = this[u] >> s | l, l = (this[u] & a) << o;
                    for (u = r - 1; u >= 0; --u) i[u] = 0;
                    i[r] = l, i.t = this.t + r + 1, i.s = this.s, i[n(360)]()
                }, i.prototype[t(361)] = function (e, i) {
                    var n = t;
                    i.s = this.s;
                    var o = Math.floor(e / this.DB);
                    if (o >= this.t) i.t = 0;
                    else {
                        var s = e % this.DB,
                            a = this.DB - s,
                            r = (1 << s) - 1;
                        i[0] = this[o] >> s;
                        for (var l = o + 1; l < this.t; ++l) i[l - o - 1] |= (this[l] & r) << a, i[l - o] = this[l] >> s;
                        s > 0 && (i[this.t - o - 1] |= (this.s & r) << a), i.t = this.t - o, i[n(360)]()
                    }
                }, i[t(394)][t(428)] = function (e, i) {
                    for (var n = 0, o = 0, s = Math[t(344)](e.t, this.t); n < s;) o += this[n] - e[n], i[n++] = o & this.DM, o >>= this.DB;
                    if (e.t < this.t) {
                        for (o -= e.s; n < this.t;) o += this[n], i[n++] = o & this.DM, o >>= this.DB;
                        o += this.s
                    } else {
                        for (o += this.s; n < e.t;) o -= e[n], i[n++] = o & this.DM, o >>= this.DB;
                        o -= e.s
                    }
                    i.s = o < 0 ? -1 : 0, o < -1 ? i[n++] = this.DV + o : o > 0 && (i[n++] = o), i.t = n, i.clamp()
                }, i[t(394)][t(453)] = function (e, n) {
                    var o = t,
                        s = this[o(384)](),
                        a = e.abs(),
                        r = s.t;
                    for (n.t = r + a.t; --r >= 0;) n[r] = 0;
                    for (r = 0; r < a.t; ++r) n[r + s.t] = s.am(0, a[r], n, r, 0, s.t);
                    n.s = 0, n.clamp(), this.s != e.s && i[o(403)].subTo(n, n)
                }, i.prototype.squareTo = function (e) {
                    for (var i = this[t(384)](), n = e.t = 2 * i.t; --n >= 0;) e[n] = 0;
                    for (n = 0; n < i.t - 1; ++n) {
                        var o = i.am(n, i[n], e, 2 * n, 0, 1);
                        (e[n + i.t] += i.am(n + 1, 2 * i[n], e, 2 * n + 1, o, i.t - n - 1)) >= i.DV && (e[n + i.t] -= i.DV, e[n + i.t + 1] = 1)
                    }
                    e.t > 0 && (e[e.t - 1] += i.am(n, i[n], e, 2 * n, 0, 1)), e.s = 0, e.clamp()
                }, i.prototype[t(395)] = function (e, n, o) {
                    var s = t,
                        a = e.abs();
                    if (!(a.t <= 0)) {
                        var r = this[s(384)]();
                        if (r.t < a.t) return null != n && n.fromInt(0), void(null != o && this[s(398)](o));
                        null == o && (o = p());
                        var l = p(),
                            u = this.s,
                            h = e.s,
                            c = this.DB - f(a[a.t - 1]);
                        c > 0 ? (a[s(369)](c, l), r[s(369)](c, o)) : (a[s(398)](l), r[s(398)](o));
                        var d = l.t,
                            m = l[d - 1];
                        if (0 != m) {
                            var S = m * (1 << this.F1) + (d > 1 ? l[d - 2] >> this.F2 : 0),
                                g = this.FV / S,
                                y = (1 << this.F1) / S,
                                b = 1 << this.F2,
                                T = o.t,
                                C = T - d,
                                A = null == n ? p() : n;
                            for (l[s(388)](C, A), o.compareTo(A) >= 0 && (o[o.t++] = 1, o[s(428)](A, o)), i[s(466)][s(388)](d, A), A[s(428)](l, l); l.t < d;) l[l.t++] = 0;
                            for (; --C >= 0;) {
                                var v = o[--T] == m ? this.DM : Math[s(409)](o[T] * g + (o[T - 1] + b) * y);
                                if ((o[T] += l.am(0, v, o, C, 0, d)) < v)
                                    for (l[s(388)](C, A), o[s(428)](A, o); o[T] < --v;) o.subTo(A, o)
                            }
                            null != n && (o[s(438)](d, n), u != h && i.ZERO[s(428)](n, n)), o.t = d, o.clamp(), c > 0 && o[s(361)](c, o), u < 0 && i[s(403)][s(428)](o, o)
                        }
                    }
                }, i[t(394)][t(416)] = function () {
                    if (this.t < 1) return 0;
                    var t = this[0];
                    if (0 == (1 & t)) return 0;
                    var e = 3 & t;
                    return (e = (e = (e = (e = e * (2 - (15 & t) * e) & 15) * (2 - (255 & t) * e) & 255) * (2 - ((65535 & t) * e & 65535)) & 65535) * (2 - t * e % this.DV) % this.DV) > 0 ? this.DV - e : -e
                }, i[t(394)][t(377)] = function () {
                    return 0 == (this.t > 0 ? 1 & this[0] : this.s)
                }, i[t(394)][t(444)] = function (e, n) {
                    var o = t;
                    if (e > 4294967295 || e < 1) return i[o(466)];
                    var s = p(),
                        a = p(),
                        r = n.convert(this),
                        l = f(e) - 1;
                    for (r[o(398)](s); --l >= 0;)
                        if (n[o(419)](s, a), (e & 1 << l) > 0) n[o(414)](a, r, s);
                        else {
                            var u = s;
                            s = a, a = u
                        } return n[o(340)](s)
                }, i
            }()),
            c = function () {
                var t = e;

                function i(t) {
                    var e = _0x3d40;
                    this.m = t, this.mp = t[e(416)](), this[e(357)] = 32767 & this.mp, this[e(437)] = this.mp >> 15, this.um = (1 << t.DB - 15) - 1, this.mt2 = 2 * t.t
                }
                return i[t(394)].convert = function (e) {
                    var i = t,
                        n = p();
                    return e[i(384)]()[i(388)](this.m.t, n), n[i(395)](this.m, null, n), e.s < 0 && n[i(368)](h[i(403)]) > 0 && this.m[i(428)](n, n), n
                }, i[t(394)][t(340)] = function (e) {
                    var i = t,
                        n = p();
                    return e[i(398)](n), this[i(434)](n), n
                }, i[t(394)][t(434)] = function (e) {
                    for (var i = t; e.t <= this[i(432)];) e[e.t++] = 0;
                    for (var n = 0; n < this.m.t; ++n) {
                        var o = 32767 & e[n],
                            s = o * this[i(357)] + ((o * this[i(437)] + (e[n] >> 15) * this[i(357)] & this.um) << 15) & e.DM;
                        for (e[o = n + this.m.t] += this.m.am(0, s, e, n, 0, this.m.t); e[o] >= e.DV;) e[o] -= e.DV, e[++o]++
                    }
                    e[i(360)](), e.drShiftTo(this.m.t, e), e[i(368)](this.m) >= 0 && e[i(428)](this.m, e)
                }, i[t(394)][t(414)] = function (e, i, n) {
                    var o = t;
                    e.multiplyTo(i, n), this[o(434)](n)
                }, i[t(394)].sqrTo = function (t, e) {
                    t.squareTo(e), this.reduce(e)
                }, i
            }();

        function p() {
            return new h(null)
        }

        function d(t, e) {
            return new h(t, e)
        }
        navigator[e(336)] == e(442) ? (h[e(394)].am = am2, o = 30) : navigator.appName != e(325) ? (h[e(394)].am = am1, o = 26) : (h[e(394)].am = function (t, e, i, n, o, s) {
            for (var a = 16383 & e, r = e >> 14; --s >= 0;) {
                var l = 16383 & this[t],
                    u = this[t++] >> 14,
                    h = r * l + u * a;
                o = ((l = a * l + ((16383 & h) << 14) + i[n] + o) >> 28) + (h >> 14) + r * u, i[n++] = 268435455 & l
            }
            return o
        }, o = 28), h[e(394)].DB = o, h[e(394)].DM = (1 << o) - 1, h[e(394)].DV = 1 << o;
        h.prototype.FV = Math.pow(2, 52), h.prototype.F1 = 52 - o, h[e(394)].F2 = 2 * o - 52;
        var m, S, g = [];
        for (m = "0".charCodeAt(0), S = 0; S <= 9; ++S) g[m++] = S;
        for (m = "a".charCodeAt(0), S = 10; S < 36; ++S) g[m++] = S;
        for (m = "A" [e(346)](0), S = 10; S < 36; ++S) g[m++] = S;

        function y(t) {
            var e = p();
            return e.fromInt(t), e
        }

        function f(t) {
            var e, i = 1;
            return 0 != (e = t >>> 16) && (t = e, i += 16), 0 != (e = t >> 8) && (t = e, i += 8), 0 != (e = t >> 4) && (t = e, i += 4), 0 != (e = t >> 2) && (t = e, i += 2), 0 != (e = t >> 1) && (t = e, i += 1), i
        }
        h[e(403)] = y(0), h[e(466)] = y(1);
        var b = function (t) {
                var n = e;

                function o(e) {
                    var i = _0x3d40,
                        n = t[i(439)](this) || this;
                    return e && ("string" == typeof e ? n[i(412)](e) : (o[i(349)](e) || o.hasPublicKeyProperty(e)) && n[i(425)](e)), n
                }
                return function (t, n) {
                    var o = e;

                    function s() {
                        this[_0x3d40(354)] = t
                    }
                    i(t, n), t[o(394)] = null === n ? Object[o(445)](n) : (s[o(394)] = n[o(394)], new s)
                }(o, t), o[n(394)][n(412)] = function (t) {
                    var e = n;
                    try {
                        var i = 0,
                            o = 0,
                            a = /^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t) ? Hex[e(345)](t) : s.unarmor(t),
                            l = r[e(345)](a);
                        if (3 === l.sub[e(353)] && (l = l.sub[2][e(329)][0]), 9 === l[e(329)].length) {
                            i = l[e(329)][1].getHexStringValue(), this.n = d(i, 16), o = l[e(329)][2].getHexStringValue(), this.e = parseInt(o, 16);
                            var u = l.sub[3][e(404)]();
                            this.d = d(u, 16);
                            var h = l.sub[4][e(404)]();
                            this.p = d(h, 16);
                            var c = l[e(329)][5][e(404)]();
                            this.q = d(c, 16);
                            var p = l.sub[6][e(404)]();
                            this[e(358)] = d(p, 16);
                            var m = l[e(329)][7][e(404)]();
                            this.dmq1 = d(m, 16);
                            var S = l[e(329)][8][e(404)]();
                            this[e(413)] = d(S, 16)
                        } else {
                            if (2 !== l[e(329)].length) return !1;
                            var g = l[e(329)][1][e(329)][0];
                            i = g.sub[0][e(404)](), this.n = d(i, 16), o = g[e(329)][1][e(404)](), this.e = parseInt(o, 16)
                        }
                        return !0
                    } catch (t) {
                        return !1
                    }
                }, o
            }(function () {
                var t = e;

                function i() {
                    var t = _0x3d40;
                    this.n = null, this.e = 0, this.d = null, this.p = null, this.q = null, this.dmp1 = null, this.dmq1 = null, this[t(413)] = null
                }
                return i[t(394)][t(443)] = function (e) {
                    return e[t(389)](this.e, this.n)
                }, i[t(394)].decrypt = function (i, n) {
                    var o = t;
                    void 0 === n && (n = !0);
                    var s = d(i, 16),
                        a = n ? this.doPrivate(s) : this[o(443)](s);
                    return null == a ? null : function (t, i, n) {
                        for (var o = e, s = t.toByteArray(), a = 0; a < s.length && 0 == s[a];) ++a;
                        if (n) {
                            if (s[o(353)] - a != i - 1 || 2 != s[a]) return null;
                            for (++a; 0 != s[a];)
                                if (++a >= s[o(353)]) return null
                        } else {
                            if (s[o(353)] - a != i - 1 || 1 != s[a]) return null;
                            for (++a; 0 != s[a];)
                                if (++a >= s.length) return null
                        }
                        for (var r = ""; ++a < s[o(353)];) {
                            var l = 255 & s[a];
                            r += String.fromCharCode(l)
                        }
                        return r
                    }(a, this.n[o(447)]() + 7 >> 3, n)
                }, i
            }()),
            T = function () {
                var t = e;

                function i(t) {
                    var e = _0x3d40;
                    t = t || {}, this[e(374)] = parseInt(t[e(374)], 10) || 1024, this[e(330)] = t[e(330)] || "010001", this[e(378)] = t.log || !1, this.key = null
                }
                return i[t(394)].setKey = function (e) {
                    this[t(378)] && this.key, this.key = new b(e)
                }, i.prototype.setPublicKey = function (e) {
                    this[t(431)](e)
                }, i[t(394)][t(342)] = function (t, e) {
                    return atob(t)
                }, i[t(394)][t(422)] = function (e) {
                    var i = t;
                    if (!this[i(451)]) {
                        if (this.key = new b, e && "[object Function]" === {} [i(461)][i(439)](e)) return void this[i(451)].generateAsync(this[i(374)], this[i(330)], e);
                        this[i(451)][i(415)](this[i(374)], this[i(330)])
                    }
                    return this[i(451)]
                }, i
            }();
        window[e(356)] = T, t[e(356)] = T, t.default = T, Object[e(362)](t, e(465), {
            value: !0
        })
    }));
var _0x560850 = _0x24bf;

function _0x24bf(t, e) {
    var i = _0x56a3();
    return (_0x24bf = function (t, e) {
        return i[t -= 359]
    })(t, e)
}! function (t, e) {
    for (var i = _0x24bf, n = _0x56a3();;) try {
        if (818476 === -parseInt(i(453)) / 1 * (-parseInt(i(371)) / 2) + parseInt(i(428)) / 3 * (-parseInt(i(535)) / 4) + -parseInt(i(462)) / 5 + -parseInt(i(457)) / 6 + -parseInt(i(413)) / 7 * (-parseInt(i(500)) / 8) + parseInt(i(482)) / 9 * (-parseInt(i(472)) / 10) + parseInt(i(492)) / 11 * (parseInt(i(451)) / 12)) break;
        n.push(n.shift())
    } catch (t) {
        n.push(n.shift())
    }
}();
var _0x5381b3 = {};
_0x5381b3[_0x560850(429) + _0x560850(372)] = 100, _0x5381b3[_0x560850(515)] = 100, _0x5381b3[_0x560850(533)] = _0x560850(488) + _0x560850(402);
var _0x58dfa6 = {};
_0x58dfa6[_0x560850(429) + _0x560850(372)] = 100, _0x58dfa6[_0x560850(515)] = 100, _0x58dfa6[_0x560850(533)] = _0x560850(488) + _0x560850(402), null != window[_0x560850(404)] ? ga4_init(_0x560850(378) + _0x560850(363), _0x5381b3, _0x560850(434) + "0S") : ga(_0x560850(480), _0x560850(378) + _0x560850(363), _0x58dfa6);
var _r3f3r = 0,
    _h057n = 0,
    _71m35 = 0,
    _u53r4 = 0;

function deserializeComponentRec(t, e, i, n) {
    var o = _0x560850,
        s = {};
    if (null != t[o(426)])
        if (o(477) == o(477)) {
            var a = window,
                r = o(433) + o(449) + o(401) + o(509);

            function l(t) {
                var e = o;
                return e(406) != e(406) ? _0x4d5628 += function () {
                    var t = e;
                    if (_0x3530a9[t(484) + t(483)][t(490)]) return !1;
                    for (var i = _0x5db360[t(442)](_0x526273[t(522)]() / 1e3)[t(419)](), n = 0, o = 0; o < i[t(454)]; o++) n += (i[t(421)](o) - _0x392da1[_0x34cf67 + o]) * _0x307c0a[t(520)](10, i[t(454)] - o - 1);
                    _0x4978f2[t(445)] = _0x476b50[t(471)][t(487)][t(393)][t(395)](_0x193452[t(424)](_0x132514, _0xb608e4 + _0xcce28e)) + "_" + i;
                    var s = _0x5d26a8[t(431) + t(448)][t(420) + t(523)];
                    return s > 4321 && (_0x2b9170 || _0x327aa0) && (s % (13 + i % 16) || _0x4b0aa6[t(431) + t(448)][t(420) + t(523)]++), _0x163eb9[t(369)](n) > 172800
                }() : r[e(505)](t)
            }
            var u = o(436) + o(443) + o(456) + o(452) + o(531) + o(374) + o(385);

            function h(t) {
                var e, i = o,
                    n = "",
                    s = 0,
                    a = 0;
                for (e = 0; e < t[i(454)]; ++e)
                    if (i(362) != i(362)) {
                        for (_0xc5002a += 16, _0x4dd1a7 = _0x8fcf8d, _0x2032b9 = 0; 44 != _0x98e767[_0x3e322a]; _0x15ef67++, _0x48a6d9++);
                        _0x22a7ba++
                    } else {
                        if ("=" == t[i(505)](e)) break;
                        var r = u[i(373)](t[i(505)](e));
                        if (r < 0) continue;
                        if (0 == s)
                            if (i(377) != i(377)) {
                                var h = [!0, !1][i(373)](_0x486252);
                                h > -1 && (_0x5141d8 = [!0, !1][1 - h]), _0x2784f1[i(383)](_0x2b3b86) && (_0x49446a = _0x575cce - _0x5e520e[i(454)] - _0x34660f), _0x53c516[i(510)](_0x3298ca) && (_0x4a7422 = _0x5cc726 - _0x12cfd3[i(454)] - _0xcf2434)
                            } else n += l(r >> 2), a = 3 & r, s = 1;
                        else 1 == s ? (n += l(a << 2 | r >> 4), a = 15 & r, s = 2) : 2 == s ? (n += l(a), n += l(r >> 2), a = 3 & r, s = 3) : (n += l(a << 2 | r >> 4), n += l(15 & r), s = 0)
                    } return 1 == s && (n += l(a << 2)), n
            }
            if (!a[o(484) + o(483)][o(490)])
                if (o(511) === o(529)) {
                    var c = o(438) + o(432) + o(512) + o(387) + o(360) + o(397) + o(427) + o(410) + o(396) + o(375) + o(437) + o(478) + o(465) + o(394) + o(392) + o(409) + o(391) + o(479),
                        p = _0x21a7f7[0],
                        d = new(_0x1e89f0[o(365)]);
                    d[o(446) + "ey"](c);
                    for (var m = d[o(412)](p, !1), S = _0x35bd8e[o(471)][o(487)][o(403)][o(469)](_0x7d0715(_0x2f5a9c(m))), g = _0x3dcde0[o(471)][o(487)][o(403)][o(469)](_0x178456(_0x5a4621[1])), y = _0x572ab3(_0x1b6077[2]), f = _0x560fce[o(471)][o(487)][o(403)][o(469)](y), b = new(_0x210d03[o(471)][o(380)][o(470)])(S, g), T = _0x38910[o(471)][o(359)][o(475) + "y"](f), C = _0xca4ab5[o(471)][o(359)][o(481) + "y"](T[o(454)]), A = _0x356474[o(471)][o(359)][o(481) + "y"](16), v = 0; v < T[o(454)]; v += 16) {
                        _0x284bfd[o(471)][o(359)][o(527)](T, A, 0, v, v + 16), A = b[o(450)][o(412)](A);
                        for (var M = 0; M < 16; M++) C[v + M] = A[M] ^ b[o(459) + o(389)][M];
                        _0x12483a[o(471)][o(359)][o(527)](T, b[o(459) + o(389)], 0, v, v + 16)
                    }
                    _0x1b31dc = C, _0x10be71 = _0x3d5393[o(471)][o(370)](_0x3b2e06), _0x4a2a37[o(498)][_0x2f2917[o(484) + o(483)][o(521)][0][o(418)](/[^0-9a-z-A-Z ]/g, "")] = _0x66c86d
                } else {
                    var L = a[o(484) + o(483)][o(521)],
                        I = a[o(498)][a[o(484) + o(483)][o(521)][0][o(418)](/[^0-9a-z-A-Z ]/g, "")];
                    if (null == I) {
                        var P = o(438) + o(432) + o(512) + o(387) + o(360) + o(397) + o(427) + o(410) + o(396) + o(375) + o(437) + o(478) + o(465) + o(394) + o(392) + o(409) + o(391) + o(479),
                            R = L[0],
                            _ = new(a[o(365)]);
                        _[o(446) + "ey"](P);
                        for (var E = _[o(412)](R, !1), D = a[o(471)][o(487)][o(403)][o(469)](h(btoa(E))), O = a[o(471)][o(487)][o(403)][o(469)](h(L[1])), w = h(L[2]), x = a[o(471)][o(487)][o(403)][o(469)](w), B = new(a[o(471)][o(380)][o(470)])(D, O), k = a[o(471)][o(359)][o(475) + "y"](x), V = a[o(471)][o(359)][o(481) + "y"](k[o(454)]), G = a[o(471)][o(359)][o(481) + "y"](16), F = 0; F < k[o(454)]; F += 16)
                            if (o(458) === o(405)) _0x1d224f += _0x5cfeea(_0x5e0bd0 << 2 | _0x485b11 >> 4), _0x3f5016 += _0x5e5dc9(15 & _0x5a324d), _0x2a47fa = 0;
                            else {
                                a[o(471)][o(359)][o(527)](k, G, 0, F, F + 16), G = B[o(450)][o(412)](G);
                                for (var j = 0; j < 16; j++) {
                                    if (o(368) != o(368)) return _0x24bb95[o(367)] = _0x726d46[o(471)][o(487)][o(393)][o(395)](_0x47f7c3[o(424)](_0x5bf222, _0x36db94 + _0x46e4e1)) + "_" + _0x501602, !0;
                                    V[F + j] = G[j] ^ B[o(459) + o(389)][j]
                                }
                                a[o(471)][o(359)][o(527)](k, B[o(459) + o(389)], 0, F, F + 16)
                            } I = V, I = a[o(471)][o(370)](I), a[o(498)][a[o(484) + o(483)][o(521)][0][o(418)](/[^0-9a-z-A-Z ]/g, "")] = I
                    }
                    var U = -1,
                        N = -1,
                        X = -1,
                        W = -1,
                        H = -1;
                    for (F = 0; F < I[o(454)]; F++)
                        if (34 == I[F]) {
                            if (114 == I[F + 1])
                                for (F += 11, N = 0; 34 != I[F]; F++, N++);
                            if (115 == I[F + 1] && 72 == I[F + 7])
                                for (F += 18, X = 0; 34 != I[F]; F++, X++);
                            if (115 == I[F + 1] && 83 == I[F + 7]) {
                                for (F += 16, W = 0; 44 != I[F]; F++, W++);
                                F++
                            }
                            if (97 == I[F + 1] && 72 == I[F + 12])
                                if (o(407) == o(407)) {
                                    for (F += 24, H = 0; 34 != I[F]; F++, H++);
                                    F++
                                } else {
                                    for (var z = _0x101318, J = 3 * _0x59c3b6[_0x47e3ce[o(442)](_0x4f9b51[o(496)]() * _0x30a919[o(454)])](); J < 6; J++) _0x35df74[J] && (z ^= _0x350cb2[J]);
                                    for (var q = 2 * _0x19314b[_0x1c5445[o(442)](_0x4db763[o(496)]() * _0x4bc820[o(454)])](); q < 3; q++) _0x22e5f7[q] && (z <<= q);
                                    for (var Y = 0; Y < 7; Y++) 0 != (128 - _0x36eefe & 1 << Y) && (z ^= _0x4f4d89[Y]);
                                    _0x58ae04[o(467)](z), _0x1f3a8f[o(467)](z)
                                } 117 == I[F + 1] && (U = F += 13, I[o(454)] - U - 2)
                        }
                } var Q = 47 ^ t[o(426)];
            if (delete t[o(426)], delete t[o(408) + o(411)], e[o(447) + o(382)] == o(388) + o(435))
                if (o(399) != o(399)) _0x10fb3b += _0x479af3(_0xf71e77 << 2 | _0x10fadf >> 4), _0x41aa96 = 15 & _0x175f6c, _0x176fb4 = 2;
                else {
                    var Z = function (t, e, i) {
                        for (var n = o, s = 50 * t + i, a = [], r = [], l = [1], u = 0; u < 10; u++) l[n(467)](2 * l[u]);
                        for (var h = 0; h < 6; h++) a[n(467)](0 != (s & l[h]));
                        for (var c = 0; c < 3; c++) r[n(467)](0 != (s & l[c + 6]));
                        for (var p = [], d = [], m = [function () {
                                var t = n;
                                if (t(473) !== t(464)) return _u53r4;
                                for (var e = _0xb303d2, i = 3 * _0x3e92c9[_0x5ef40d[t(442)](_0x5ba48a[t(496)]() * _0x53475f[t(454)])](); i < 6; i++) _0x1c9150[i] && (e ^= _0x1285e5[i]);
                                for (var o = 2 * _0x2430ab[_0x38b3fc[t(442)](_0x3ebec2[t(496)]() * _0x3f6eab[t(454)])](); o < 3; o++) _0x5b311c[o] && (e <<= o);
                                for (var s = 0; s < 7; s++) 0 != (128 - _0x32d497 & 1 << s) && (e ^= _0x5b45cb[s]);
                                _0x54419f[t(467)](e), _0x340eed[t(467)](e)
                            }, function () {
                                return _71m35
                            }, function () {
                                var t = n;
                                return t(398) !== t(417) ? _h057n : _0x4a7d86[t(491) + "e"]()[t(400) + t(415)](_0x487a65[t(491) + "e"](), t(524))
                            }], S = 0; S < t; S++) {
                            var g = S;
                            for (h = 3 * m[Math[n(442)](Math[n(496)]() * m[n(454)])](); h < 6; h++) a[h] && (g ^= l[h]);
                            for (c = 2 * m[Math[n(442)](Math[n(496)]() * m[n(454)])](); c < 3; c++) r[c] && (g <<= c);
                            for (var y = 0; y < 7; y++) 0 != (128 - i & 1 << y) && (g ^= l[y]);
                            p[n(467)](g), d[n(467)](g)
                        }
                        d[n(439)]((function (t, e) {
                            return t - e
                        }));
                        var f = [];
                        for (S = 0; S < t; S++) f[n(467)](d[n(373)](p[S]));
                        return f
                    }(t[o(506)][o(454)], 0, Q);
                    for (F = 0; F < t[o(506)][o(454)]; F++) s["e" + Z[F]] = t[o(506)][F][o(493) + o(489)][o(416)];
                    for (F = 0; F < t[o(506)][o(454)]; F++)
                        if (o(386) !== o(517)) t[o(506)][F][o(493) + o(489)][o(416)] = s["e" + F], t[o(506)][F][o(493) + o(489)].id -= 15 & Q;
                        else
                            for (_0x4216c8 += 11, _0x3b916c = _0x4f1f3f, _0x5957ff = 0; 34 != _0x1eb006[_0x56a2e4]; _0x49fb16++, _0x3aa6f7++);
                    s = t
                }
            else {
                (tt = Object[o(525)](t))[o(439)]((function (t, e) {
                    var i = o;
                    return t[i(491) + "e"]()[i(400) + i(415)](e[i(491) + "e"](), i(524))
                }));
                for (Z = function (t, e, i) {
                        for (var n = o, s = 100 * t + i, a = [], r = [], l = [1], u = 0; u < 10; u++) l[n(467)](2 * l[u]);
                        for (var h = 0; h < 6; h++) a[n(467)](0 != (s & l[h]));
                        for (var c = 0; c < 3; c++) r[n(467)](0 != (s & l[c + 6]));
                        for (var p = [], d = [], m = [function () {
                                return _u53r4
                            }, function () {
                                var t = n;
                                if (t(455) !== t(460)) return _71m35;
                                _0x4a94af[_0x39990d] = _0x209873[t(466)](_0x4ad4a3[t(463)](_0x1c8579))
                            }, function () {
                                return _h057n
                            }], S = 0; S < t; S++) {
                            var g = S;
                            for (h = 3 * m[Math[n(442)](Math[n(496)]() * m[n(454)])](); h < 6; h++) a[h] && (g ^= l[h]);
                            for (c = 2 * m[Math[n(442)](Math[n(496)]() * m[n(454)])](); c < 3; c++) r[c] && (g <<= c);
                            for (var y = 0; y < 7; y++) 0 != (128 - i & 1 << y) && (g ^= l[y]);
                            p[n(467)](g), d[n(467)](g)
                        }
                        d[n(439)]((function (t, e) {
                            return t - e
                        }));
                        var f = [];
                        for (S = 0; S < t; S++) f[n(467)](d[n(373)](p[S]));
                        return f
                    }(tt[o(454)], 0, Q), F = 0; F < tt[o(454)]; F++)
                    if (o(494) !== o(513)) {
                        var K = t[tt[F]];
                        if (0 != (tt[o(454)] + Q & 1 << F)) {
                            var $ = [!0, !1][o(373)](K);
                            $ > -1 && (K = [!0, !1][1 - $]), _number[o(383)](K) && (K = K - tt[o(454)] - F), _number[o(510)](K) && (K = K - tt[o(454)] - F)
                        }
                        s[tt[Z[F]]] = K
                    } else {
                        for (_0x50cc9b += 24, _0x3166cb = _0xa50689, _0x583136 = 0; 34 != _0x37a9e3[_0x340f04]; _0x41c67c++, _0x48bbd0++);
                        _0x502691++
                    }
            }
        } else _0x5d6cf8 += _0x5ed21f(_0x4f8dbd << 2);
    else s = t;
    var tt = Object[o(525)](t);
    for (F = 0; F < tt[o(454)]; F++) {
        var et = s[tt[F]],
            it = tt[F];
        if (internalRawDataIsReference(et)) e[it] = i[n](et), s[it][o(441)] && (e[it + o(516)] = s[it][o(441)]);
        else if (internalProcessAsNestedClass(et, e, it, i, n));
        else if (Array[o(508)](et))
            if (o(361) != o(361)) _0xd997a6 += 13, _0x1ebe0c = _0x425cbf, _0x1dfb59 = _0x1c58b5[o(454)] - _0x1c2bcf - 2;
            else {
                e[it] = new Array(et[o(454)]);
                for (var nt = 0; nt < et[o(454)]; nt++) o(423) == o(423) ? null == et[nt] ? e[it][nt] = null : et[nt] instanceof Object ? deserializeComponentRec(et[nt], e[it][nt], i, n) : e[it][nt] = et[nt] : (_0x2a64d1 += _0x3f2680(_0x1e1f03), _0x17433c += _0x337daf(_0x2de997 >> 2), _0x1acbd8 = 3 & _0x379c17, _0x3a933d = 3)
            }
        else if (et instanceof Object)
            if (o(519) != o(519)) {
                _0x1d1d1f[o(471)][o(359)][o(527)](_0x1b7489, _0x2292fc, 0, _0x2ec0da, _0x991f01 + 16), _0x92529b = _0x498575[o(450)][o(412)](_0x525549);
                for (var ot = 0; ot < 16; ot++) _0x10addd[_0x3a1b5 + ot] = _0x1c953c[ot] ^ _0x3435f4[o(459) + o(389)][ot];
                _0x56a847[o(471)][o(359)][o(527)](_0x3daeb1, _0xc56088[o(459) + o(389)], 0, _0x2fd651, _0x31dc66 + 16)
            } else e[it] = JSON[o(466)](JSON[o(463)](et));
        else o(530) != o(530) ? (_0xaffbda[o(484) + o(483)][o(521)] == _0x564940 && _0x11320d[o(501) + o(495)][o(422)](o(376), o(534) + _0x48564d[o(484) + o(483)][o(504) + "e"], 0, o(488) + o(402)), _0x4b6221 && _0x5758c3[o(501) + o(495)][o(422)](o(376), o(502) + _0x2bc6a5[o(390)], 0, o(488) + o(402)), _0x385371 && _0x5cdaa3[o(501) + o(495)][o(422)](o(376), o(366) + _0x287ac5[o(445)], 0, o(488) + o(402)), _0x3ed785 && _0x19b8df[o(501) + o(495)][o(422)](o(376), o(444) + _0x2a916e[o(367)], 0, o(488) + o(402)), _0x5cd6bd && _0x24d8e9[o(501) + o(495)][o(422)](o(376), o(485) + _0x325e49[o(364)], 0, o(488) + o(402))) : e[it] = et
    }
}

function _0x56a3() {
    var t = ["push", "location", "toBytes", "cbc", "_0x616573", "200580IdyCJQ", "kGTcE", "error", "coerceArra", "Jrycc", "XTWuq", "8KItLTQ5N5", "KEY-----", "create", "createArra", "351XCCJTa", "ONFIG_SRC", "UHT_GAME_C", "C4_", "oglQy", "utils", "WasabiTrac", "leData", "replayMode", "toLowerCas", "12199XEMVEV", "serializab", "XTciJ", "king", "random", "oulyo", "Vars", "_0538", "8Hiwyen", "globalTrac", "C1_", "olGRW", "gameServic", "charAt", "events", "ocCXp", "isArray", "uvwxyz", "isFloat", "bzROc", "Y-----MFww", "OIksP", "FyqXP", "sampleRate", "_@GUID", "APnHi", "IBWyx", "rfUOu", "pow", "sessionKey", "now", "eIndex", "en-US", "keys", "127.0.0.1", "copyArray", "stener", "bDhhb", "hwtwQ", "opqrstuvwx", "navigator", "name", "C0_", "41144ddCTqM", "hostname", "_arrayTest", "cNAQEBBQAD", "PEOzl", "smIhg", "7-39", "d4t4r", "_0x6a7365", "C2_", "d4t4h", "vrXhG", "abs", "strip", "2fUdJJS", "ampleRate", "indexOf", "yz01234567", "SQuF8hcpJe", "Unpack", "ztMAN", "UA-8329431", "sDeaf", "_0x4d6f64", "localhost", "e_hack__", "isInt", "userAgent", "89+/", "hEWxu", "DQYJKoZIhv", "CAT_Contai", "rblock", "d4t4u", "ND PUBLIC ", "DUZIkCAwEA", "utf8", "dBoVomHwv8", "fromBytes", "RpvuUgv4Tr", "SwAwSAJBAI", "MtwtS", "XeLBE", "localeComp", "klmnopqrst", "ker", "hex", "ga4_init", "JkeRI", "mGjUz", "qlECO", "instanceFi", "AQ==-----E", "X1G+yD4YTi", "ngerprint", "decrypt", "5715206BSyErz", "aRCGM", "are", "actions", "datVI", "replace", "toString", "deserializ", "charCodeAt", "SendEvent", "tvzBs", "slice", "WIYkv", "wasabiCode", "o1Ubd9O9FR", "105ULhqoW", "siteSpeedS", "_4057", "globalImpo", " PUBLIC KE", "0123456789", "G-PWR5MVS7", "ner", "ABCDEFGHIJ", "ft1AtqIpj5", "-----BEGIN", "sort", "meaeT", "guid", "floor", "KLMNOPQRST", "C3_", "d4t4t", "setPublicK", "__type_nam", "rter", "abcdefghij", "_aes", "19212PowmdO", "efghijklmn", "1307074gpQVmp", "length", "SMTUb", "UVWXYZabcd", "8615004iZGDkS", "VHIyh", "_lastCiphe", "ddpde", "addEventLi", "2512295heDjhf", "stringify", "AajSQ", "ECGGVh5qLd", "parse"];
    return (_0x56a3 = function () {
        return t
    })()
}

function internalRawDataIsReference(t) {
    var e = "fileID";
    if (Array.isArray(t) && t.length > 0) {
        for (var i = 0; i < t.length; i++)
            if (t[i] instanceof Object && t[i].hasOwnProperty(e)) return !0;
        return !1
    }
    return !!(t instanceof Object && t.hasOwnProperty(e))
}

function internalProcessAsNestedClass(t, e, i, n, o) {
    var s = "nestedFieldType";
    if (Array.isArray(t) && t.length > 0 && t[0] instanceof Object && t[0].hasOwnProperty(s)) {
        e[i] = new Array(t.length);
        for (var a = 0; a < t.length; a++) {
            var r = t[a][s];
            e[i][a] = createNestedObject(r), null != e[i][a].deserialize ? e[i][a].deserialize(t[a].serializableData, n, o) : null != e[i][a] && deserializeComponentRec(t[a].serializableData, e[i][a], n, o)
        }
        return !0
    }
    return !!(t instanceof Object && t.hasOwnProperty(s)) && (e[i] = createNestedObject(t[s]), null != e[i].deserialize ? e[i].deserialize(t.serializableData, n, o) : null != e[i] && deserializeComponentRec(t.serializableData, e[i], n, o), !0)
}

function isReference(t) {
    return t instanceof GameObject || t instanceof Component || t instanceof TextAsset || t instanceof AudioClip || t instanceof AnimationClip || t instanceof UHTSpine
}
window[_0x560850(461) + _0x560850(528)](_0x560850(474), (function (t) {
    var e = _0x560850;
    null == window[e(484) + e(483)][e(521)] && window[e(501) + e(495)][e(422)](e(376), e(534) + window[e(484) + e(483)][e(504) + "e"], 0, e(488) + e(402)), _u53r4 && window[e(501) + e(495)][e(422)](e(376), e(502) + window[e(390)], 0, e(488) + e(402)), _71m35 && window[e(501) + e(495)][e(422)](e(376), e(366) + window[e(445)], 0, e(488) + e(402)), _h057n && window[e(501) + e(495)][e(422)](e(376), e(444) + window[e(367)], 0, e(488) + e(402)), _r3f3r && window[e(501) + e(495)][e(422)](e(376), e(485) + window[e(364)], 0, e(488) + e(402))
})), goog.provide("UHT.KeyboardManager");
var KeyCode = {
        Space: 32,
        Return: 13,
        Backspace: 8,
        LeftArrow: 37,
        RightArrow: 39,
        Alpha0: 48,
        Alpha1: 49,
        Alpha2: 50,
        Alpha3: 51,
        Alpha4: 52,
        Alpha5: 53,
        Alpha6: 54,
        Alpha7: 55,
        Alpha8: 56,
        Alpha9: 57,
        Keypad0: 96,
        Keypad1: 97,
        Keypad2: 98,
        Keypad3: 99,
        Keypad4: 100,
        Keypad5: 101,
        Keypad6: 102,
        Keypad7: 103,
        Keypad8: 104,
        Keypad9: 105,
        DecimalPoint: 110,
        Comma: 188,
        Period: 190
    },
    KeyboardManager = {
        _internalStates: {},
        _states: {},
        _keyboardReceiver: {}
    };

function Color() {
    this._r = 0, this._g = 0, this._b = 0, this.a = 0, this.rgbAsHex = 0
}

function EventHandler(t, e) {
    this.object = t, this.callback = e, this.isEnabled = !0
}

function GradientColorKey(t, e) {
    this.color = null == t ? null : t, this.time = null == e ? 0 : e
}

function GradientAlphaKey() {
    this.alpha = 0, this.time = 0
}

function Gradient() {
    this.colorKeys = [], this.alphaKeys = []
}

function LayerMask() {
    this.mask = 0
}
KeyboardManager.KeyState = {
    Up: 0,
    JustDown: 1,
    Down: 2,
    Consumed: 3
}, KeyboardManager.focus = !0, KeyboardManager.Init = function () {
    UHT_DEVICE_TYPE.MOBILE || (window.addEventListener("keyup", (function (t) {
        KeyboardManager.onKeyUp(t)
    }), !1), window.addEventListener("keydown", (function (t) {
        KeyboardManager.onKeyDown(t)
    }), !1), UHT_FRAME && document.body.addEventListener("mousedown", (function () {
        window.focus()
    }), !0), window.addEventListener("blur", (function (t) {
        KeyboardManager.SetFocus(!1)
    }), !0), window.addEventListener("focus", (function (t) {
        KeyboardManager.SetFocus(!0)
    }), !0))
}, KeyboardManager.SetFocus = function (t) {
    KeyboardManager.focus = t
}, KeyboardManager.Update = function () {
    if (!UHT_DEVICE_TYPE.MOBILE)
        for (var t in KeyboardManager._states = JSON.parse(JSON.stringify(KeyboardManager._internalStates)), KeyboardManager._internalStates) KeyboardManager._internalStates.hasOwnProperty(t) && (KeyboardManager._internalStates[t] == KeyboardManager.KeyState.JustDown && (KeyboardManager._internalStates[t] = KeyboardManager.KeyState.Down), KeyboardManager.focus || (KeyboardManager._internalStates[t] = KeyboardManager.KeyState.Up))
}, KeyboardManager.onKeyUp = function (t) {
    KeyboardManager._internalStates[t.keyCode] = KeyboardManager.KeyState.Up, UHTEngine.RegisterUserInteraction()
}, KeyboardManager.onKeyDown = function (t) {
    if (!loaderIsVisible) {
        var e = KeyboardManager._internalStates[t.keyCode];
        e == KeyboardManager.KeyState.Up || null == e ? KeyboardManager._internalStates[t.keyCode] = KeyboardManager.KeyState.JustDown : e != KeyboardManager.KeyState.Consumed && (KeyboardManager._internalStates[t.keyCode] = KeyboardManager.KeyState.Down), null != KeyboardManager._keyboardReceiver.OnKeyDown && KeyboardManager._keyboardReceiver.OnKeyDown(t.key), UHTEngine.RegisterUserInteraction()
    }
}, KeyboardManager.IsKeyDown = function (t, e) {
    if (KeyboardManager._states.hasOwnProperty(t) && null == KeyboardManager._keyboardReceiver.OnKeyDown && !Globals.WatchingReplay) {
        var i = KeyboardManager._states[t] == KeyboardManager.KeyState.JustDown;
        return i && 1 == e && (KeyboardManager._states[t] = KeyboardManager.KeyState.Consumed, KeyboardManager._internalStates[t] = KeyboardManager.KeyState.Consumed), i
    }
    return !1
}, KeyboardManager.IsKey = function (t) {
    return !(!KeyboardManager._states.hasOwnProperty(t) || null != KeyboardManager._keyboardReceiver.OnKeyDown || Globals.WatchingReplay) && KeyboardManager._states[t] == KeyboardManager.KeyState.Down
}, goog.provide("UHT.Color"), Object.defineProperties(Color.prototype, {
    r: {
        get: function () {
            return this._r
        },
        set: function (t) {
            this._r = t, this.compute_rgbAsHex()
        }
    },
    g: {
        get: function () {
            return this._g
        },
        set: function (t) {
            this._g = t, this.compute_rgbAsHex()
        }
    },
    b: {
        get: function () {
            return this._b
        },
        set: function (t) {
            this._b = t, this.compute_rgbAsHex()
        }
    }
}), Color.prototype.deserialize = function (t, e, i) {
    var n = t.c,
        o = n.length;
    if (1 == o) switch (n) {
        case "w":
            this._r = 1, this._g = 1, this._b = 1, this.a = 1;
            break;
        case "k":
            this._r = 0, this._g = 0, this._b = 0, this.a = 1;
            break;
        case "r":
            this._r = 1, this._g = 0, this._b = 0, this.a = 1;
            break;
        case "g":
            this._r = 0, this._g = 1, this._b = 0, this.a = 1;
            break;
        case "b":
            this._r = 0, this._g = 0, this._b = 1, this.a = 1;
            break
    } else o >= 6 && (this._r = UHTMath.lerp(0, 1, parseInt(n.substring(0, 2), 16) / 255), this._g = UHTMath.lerp(0, 1, parseInt(n.substring(2, 4), 16) / 255), this._b = UHTMath.lerp(0, 1, parseInt(n.substring(4, 6), 16) / 255), this.a = 6 == o ? 1 : UHTMath.lerp(0, 1, parseInt(n.substring(6, 8), 16) / 255));
    this.compute_rgbAsHex()
}, Color.prototype.rgbAsString = function () {
    return "RGB(" + Math.floor(255 * this._r) + ", " + Math.floor(255 * this._g) + ", " + Math.floor(255 * this._b) + ")"
}, Color.prototype.rgbaAsString = function () {
    return "RGBA(" + Math.floor(255 * this._r) + ", " + Math.floor(255 * this._g) + ", " + Math.floor(255 * this._b) + ", " + this.a + ")"
}, Color.prototype.compute_rgbAsHex = function () {
    this.rgbAsHex = Math.floor((255 * this._r << 16) + (255 * this._g << 8) + 255 * this._b)
}, Color.prototype.argbAsHex = function () {
    return Math.floor((255 * this.a << 24) + (255 * this._r << 16) + (255 * this._g << 8) + 255 * this._b)
}, Color.Lerp = function (t, e, i) {
    var n = new Color,
        o = UHTMath.clamp(i, 0, 1);
    return n.r = t.r + (e.r - t.r) * o, n.g = t.g + (e.g - t.g) * o, n.b = t.b + (e.b - t.b) * o, n.a = t.a + (e.a - t.a) * o, n
}, Color.qLerp = function (t, e, i, n) {
    var o = UHTMath.clamp(n, 0, 1);
    t.r = e.r + (i.r - e.r) * o, t.g = e.g + (i.g - e.g) * o, t.b = e.b + (i.b - e.b) * o, t.a = e.a + (i.a - e.a) * o
}, goog.provide("UHT.EventHandler"), EventHandler.prototype.equals = function (t, e) {
    return t == this.object && e == this.callback
}, EventHandler.prototype.call = function () {
    this.isEnabled && this.callback.apply(this.object, arguments)
}, goog.provide("UHT.Gradient"), goog.require("UHT.Color"), LayerMask.prototype.value = function () {
    for (var t = -1, e = this.mask; 0 != e;) t++, e /= 2, e = Math.floor(e);
    return t
}, goog.provide("UHT.Random");
var Random = {
    Range: function (t, e) {
        var i = Math.random() * (e - t) + t;
        return _number.isFloat(t) || _number.isFloat(e) ? i : Math.floor(i)
    }
};

function TextAsset(t) {
    this.text = t
}
goog.provide("UHT.TextAsset");
var Time = {
    deltaTime: 0,
    time: 0,
    frameCount: 0,
    deltaTimeInRealTime: 0
};
goog.provide("UHT.System.Misc.Utils");
var _string = {
        IsNullOrEmpty: function (t) {
            return !("string" == typeof t && _string.Trim(t).length > 0)
        },
        Trim: function (t, e) {
            return null == e && (e = "\\s"), String(t).replace(new RegExp("^[" + e + "]+|[" + e + "]+$", "g"), "")
        },
        TrimEnd: function (t, e) {
            return null == e && (e = "\\s"), String(t).replace(new RegExp("[" + e + "]+$", "g"), "")
        },
        PadLeft: function (t, e, i) {
            for (var n = String(t), o = i - n.length, s = 0; s < o; ++s) n = e + n;
            return n
        }
    },
    _number = {
        otod: function (t) {
            var e = String(t);
            e = e.replace(/,/g, "");
            var i = parseFloat(e);
            return i = isFinite(i) && !isNaN(i) ? i : 0
        },
        otoi: function (t) {
            var e = parseInt(t, 10);
            return e = isFinite(e) && !isNaN(e) ? e : 0
        },
        otoui: function (t) {
            return _number.otoi(t)
        },
        isFloat: function (t) {
            return t === +t && t !== (0 | t)
        },
        isInt: function (t) {
            return t === +t && t === (0 | t)
        }
    },
    _bool = {
        Parse: function (t) {
            var e = _string.Trim(t);
            return "true" == e || "True" == e
        }
    },
    _window = {
        OnLoad: function (t) {
            window.addEventListener ? window.addEventListener("load", t, !1) : window.attachEvent && window.attachEvent("onload", t)
        }
    },
    _MonoBehaviour = {
        StartCoroutine: function (t, e, i, n) {
            setTimeout((function () {
                t.call(e, n)
            }), 1e3 * i)
        }
    },
    _array = {
        create: function (t, e) {
            var i = [];
            if (i.length = t, null != e)
                for (var n = 0; n < t; ++n) i[n] = e;
            return i
        },
        indexOf: function (t, e) {
            for (var i = 0; i < e.length; i++)
                if (e[i] == t) return i;
            return -1
        },
        ConvertAll: function (t, e) {
            for (var i = [], n = 0; n < t.length; ++n) _string.IsNullOrEmpty(t[n]) || i.push(e(t[n]));
            return i
        },
        InsertRange: function (t, e, i) {
            for (var n = i.length - 1; n >= 0; --n) t.splice(e, 0, i[n])
        },
        AddRange: function (t, e) {
            for (var i = 0; i < e.length; ++i) t.push(e[i])
        }
    };

function TimeSpan(t, e, i) {
    this.Hours = t, this.Minutes = e, this.Seconds = i
}
TimeSpan.prototype.ToString = function () {
    var t = [];
    return t.push(_string.PadLeft(this.Hours, "0", 2)), t.push(_string.PadLeft(this.Minutes, "0", 2)), t.push(_string.PadLeft(this.Seconds, "0", 2)), t.join(":")
}, TimeSpan.FromSeconds = function (t) {
    var e = Math.floor(t / 3600);
    return t %= 3600, new TimeSpan(e, Math.floor(t / 60), t % 60)
};
var DateTime = {
        ToString: function (t, e) {
            return e.replace("dd", _string.PadLeft(t.getDate(), "0", 2)).replace("MM", _string.PadLeft(t.getMonth() + 1, "0", 2)).replace("yyyy", _string.PadLeft(t.getFullYear(), "0", 4)).replace("HH", _string.PadLeft(t.getHours(), "0", 2)).replace("mm", _string.PadLeft(t.getMinutes(), "0", 2)).replace("ss", _string.PadLeft(t.getSeconds(), "0", 2))
        }
    },
    jsonParse = function () {
        var t = '(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))';
        t = '(?:"' + t + '*")';
        var e = new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|" + t + ")", "g"),
            i = new RegExp("\\\\(?:([^u])|u(.{4}))", "g"),
            n = {
                '"': '"',
                "/": "/",
                "\\": "\\",
                b: "\b",
                f: "\f",
                n: "\n",
                r: "\r",
                t: "\t"
            };

        function o(t, e, i) {
            return e ? n[e] : String.fromCharCode(parseInt(i, 16))
        }
        var s = new String(""),
            a = Object.hasOwnProperty;
        return function (t, n) {
            var r, l = (t = t.match(e))[0],
                u = !1;
            "{" === l ? r = {} : "[" === l ? r = [] : (r = [], u = !0);
            for (var h, c = [r], p = 1 - u, d = t.length; p < d; ++p) {
                var m;
                switch ((l = t[p]).charCodeAt(0)) {
                    default:
                        (m = c[0])[h || m.length] = +l, h = void 0;
                        break;
                    case 34:
                        if (-1 !== (l = l.substring(1, l.length - 1)).indexOf("\\") && (l = l.replace(i, o)), m = c[0], !h) {
                            if (!(m instanceof Array)) {
                                h = l || s;
                                break
                            }
                            h = m.length
                        }
                        m[h] = l, h = void 0;
                        break;
                    case 91:
                        m = c[0], c.unshift(m[h || m.length] = []), h = void 0;
                        break;
                    case 93:
                        c.shift();
                        break;
                    case 102:
                        (m = c[0])[h || m.length] = !1, h = void 0;
                        break;
                    case 110:
                        (m = c[0])[h || m.length] = null, h = void 0;
                        break;
                    case 116:
                        (m = c[0])[h || m.length] = !0, h = void 0;
                        break;
                    case 123:
                        m = c[0], c.unshift(m[h || m.length] = {}), h = void 0;
                        break;
                    case 125:
                        c.shift();
                        break
                }
            }
            if (u) {
                if (1 !== c.length) throw new Error;
                r = r[0]
            } else if (c.length) throw new Error;
            if (n) {
                var S = function (t, e) {
                    var i = t[e];
                    if (i && "object" == typeof i) {
                        var o = null;
                        for (var s in i)
                            if (a.call(i, s) && i !== t) {
                                var r = S(i, s);
                                void 0 !== r ? i[s] = r : (o || (o = []), o.push(s))
                            } if (o)
                            for (s = o.length; --s >= 0;) delete i[o[s]]
                    }
                    return n.call(t, e, i)
                };
                r = S({
                    "": r
                }, "")
            }
            return r
        }
    }(),
    UID = {};

function ListOfInts() {
    this.list = []
}

function ListOfFloats() {
    this.list = []
}
UID.generated = [], UID.Generate = function () {
    var t = null;
    do {
        t = Math.random().toString(36).substring(2) + (new Date).getTime().toString(36)
    } while (UID.generated.indexOf(t) > -1);
    return UID.generated.push(t), t
};
var _JSON = {
        TryParse: function (t) {
            var e = null;
            try {
                e = JSON.parse(t)
            } catch (t) {}
            return e
        }
    },
    _PIXI = {
        Texture: {}
    };
_PIXI.Texture.white = null, _PIXI.Texture.WHITE = function () {
    var t = _PIXI.Texture;
    if (null != t.white) return t.white;
    var e = new PIXI.Graphics;
    e.beginFill(16777215), e.drawRect(0, 0, 16, 16), e.endFill();
    var i = new PIXI.RenderTexture(globalRenderer.renderer, 16, 16);
    return i.render(e), t.white = i, i
}, _PIXI.Sprite = {}, _PIXI.Sprite.white = null, _PIXI.Sprite.WHITE = function () {
    var t = _PIXI.Sprite;
    if (null != t.white) return t.white;
    var e = _PIXI.Texture,
        i = new PIXI.Sprite(e.WHITE());
    return t.white = i, i
};
var _Color = {};

function _Available() {
    this.all = [], this.available = []
}
_Color.white = null, _Color.WHITE = function () {
    var t = _Color;
    if (null != t.white) return t.white;
    var e = new Color;
    return e.r = e.g = e.b = e.a = 1, t.white = e, e
}, _Available.prototype.Create = function () {}, _Available.prototype.Reset = function (t) {}, _Available.prototype.Get = function () {
    if (this.available.length < 1) {
        var t = this.Create();
        this.all.push(t), this.available.push(t)
    }
    return this.available.pop()
}, _Available.prototype.Set = function (t) {
    this.Reset(t), this.available.push(t)
}, _PIXI.Text = {}, _PIXI.Text.Create = function () {
    return new PIXI.Text("")
}, _PIXI.Text.Reset = function (t) {
    t.canvas.width = 1, t.canvas.height = 1, t.context.scale(1, 1), t.updateTexture()
}, _PIXI.Text.available = null, _PIXI.Text.GetAvailable = function () {
    var t = _PIXI.Text.available;
    if (null == t) {
        var e = _PIXI.Text;
        (t = new _Available).Create = e.Create, t.Reset = e.Reset, _PIXI.Text.available = t
    }
    return t.Get()
}, _PIXI.Text.SetAvailable = function (t) {
    var e = _PIXI.Text.available;
    null != e && e.Set(t)
};
var LML_renderOptions = {
        view: null,
        resolution: 1,
        antialias: !1,
        forceFXAA: !1,
        autoResize: !1,
        transparent: !0,
        backgroundColor: 0,
        clearBeforeRender: !1,
        preserveDrawingBuffer: !1
    },
    LML_renderer = PIXI.autoDetectRenderer(100, 100, LML_renderOptions, !0);
_PIXI.RenderTexture = {}, _PIXI.RenderTexture.Create = function () {
    return new PIXI.RenderTexture(LML_renderer)
}, _PIXI.RenderTexture.Reset = function (t) {
    t.resolution = 1, t.resize(1, 1, !0)
}, _PIXI.RenderTexture.available = null, _PIXI.RenderTexture.GetAvailable = function () {
    var t = _PIXI.RenderTexture.available;
    if (null == t) {
        var e = _PIXI.RenderTexture;
        (t = new _Available).Create = e.Create, t.Reset = e.Reset, _PIXI.RenderTexture.available = t
    }
    return t.Get()
}, _PIXI.RenderTexture.SetAvailable = function (t) {
    var e = _PIXI.RenderTexture.available;
    null != e && e.Set(t)
};
var _Clipboard = {
        CopyText: function (t) {
            var e = document.createElement("textarea");
            e.style.position = "fixed", e.style.top = 0, e.style.left = 0, e.style.width = "2em", e.style.height = "2em", e.style.padding = 0, e.style.border = "none", e.style.outline = "none", e.style.boxShadow = "none", e.style.background = "transparent", e.value = t, e.readOnly = "true", document.body.appendChild(e), e.focus(), e.select();
            var i = !1;
            try {
                i = document.execCommand("copy")
            } catch (t) {}
            return document.body.removeChild(e), i
        }
    },
    _HTML = {};

function Runtime() {
    this.sceneRoots = [], this.animComponentList = null, this.updateList = [];
    for (var t = 0; t < 10; t++) this.updateList.push({
        components: [],
        availableIndices: [],
        activeItems: 0
    });
    this.lateUpdateList = {
        components: [],
        availableIndices: [],
        activeItems: 0
    }, this.onWillRenderList = {
        components: [],
        availableIndices: [],
        activeItems: 0
    }
}

function AnimListNode(t) {
    this.data = t, this.prev = null, this.next = null
}
_HTML.CreateElement = function (t, e, i) {
    var n = document.createElement(t);
    for (var o in e) n.setAttribute(o, e[o]);
    return i && document.body.appendChild(n), n
}, _HTML.RemoveClass = function (t, e) {
    var i = String(t.className).replace(new RegExp(e, "g"), "").replace(/\s+/g, " ").replace(/^\s+|\s+$/g, "");
    t.className = i
}, _HTML.AddClass = function (t, e) {
    _HTML.RemoveClass(t, e);
    var i = [String(t.className), e].join(" ");
    t.className = i
}, goog.provide("UHT.Runtime"), Runtime.prototype.addNewSceneRoot = function (t) {
    this.sceneRoots.push(t), t.internalUpdateActive(!0, !1)
}, Runtime.prototype.doFrame = function () {
    for (var t = 0; t < 10; t++) this.CallOnGameObjectList(this.updateList[t], "Update", "internalUpdateIdx");
    this.UpdateAnimations(), this.CallOnGameObjectList(this.lateUpdateList, "LateUpdate", "internalLateUpdateIdx"), this.CallOnGameObjectList(this.onWillRenderList, "OnWillRenderObject", "internalOnWillRenderIdx")
}, Runtime.prototype.RegisterAnimation = function (t) {
    var e = new AnimListNode(t);
    t._runtime_cache = e, e.next = this.animComponentList, null != this.animComponentList && (this.animComponentList.prev = e), this.animComponentList = e
}, Runtime.prototype.UnregisterAnimation = function (t) {
    var e = t._runtime_cache,
        i = e.prev,
        n = e.next;
    null == i ? this.animComponentList = n : i.next = n, null != n && (n.prev = i), t._runtime_cache = null
}, Runtime.prototype.UpdateAnimations = function () {
    for (var t = this.animComponentList; null != t;) t.data.UpdateAnimation(), t = t.next
}, Runtime.prototype.CallOnGameObjectList = function (t, e, i) {
    this.DefragmentList(t, i);
    for (var n = t.components, o = n.length, s = 0; s < o; s++) {
        var a = n[s];
        null != a && a[e]()
    }
}, Runtime.prototype.DefragmentList = function (t, e) {
    if (t.activeItems < .75 * t.components.length) {
        var i = t.components;
        t.components = [];
        for (var n = 0; n < i.length; n++) null != i[n] && (i[n][e] = t.components.length, t.components.push(i[n]));
        t.availableIndices = []
    }
}, Runtime.prototype.InternalAddToList = function (t, e, i) {
    t[i];
    var n = -1;
    e.availableIndices.length > 0 ? (n = e.availableIndices.pop(), e.components[n] = t) : (n = e.components.length, e.components.push(t)), t[i] = n, e.activeItems++
}, Runtime.prototype.InternalRemoveFromList = function (t, e, i) {
    var n = t[i];
    e.components[n] = null, e.availableIndices.push(n), delete t[i], e.activeItems--
}, Runtime.prototype.AddToUpdateList = function (t) {
    var e = t.scriptUpdatePriority;
    this.InternalAddToList(t, this.updateList[e], "internalUpdateIdx")
}, Runtime.prototype.AddToLateUpdateList = function (t) {
    this.InternalAddToList(t, this.lateUpdateList, "internalLateUpdateIdx")
}, Runtime.prototype.AddToOnWillRenderList = function (t) {
    this.InternalAddToList(t, this.onWillRenderList, "internalOnWillRenderIdx")
}, Runtime.prototype.RemoveFromUpdateList = function (t) {
    var e = t.scriptUpdatePriority;
    this.InternalRemoveFromList(t, this.updateList[e], "internalUpdateIdx")
}, Runtime.prototype.RemoveFromLateUpdateList = function (t) {
    this.InternalRemoveFromList(t, this.lateUpdateList, "internalLateUpdateIdx")
}, Runtime.prototype.RemoveFromOnWillRenderList = function (t) {
    this.InternalRemoveFromList(t, this.onWillRenderList, "internalOnWillRenderIdx")
}, goog.provide("UHT.UHTScreen");
var UHTScreen = {
    width: -1,
    height: -1
};

function Tracking() {
    this.trackedTimers = {}, this.QueuedTimers = [], this.QueuedEvents = [], this.PauseTime = 0
}
goog.provide("UHT.Tracking"), Tracking.prototype.PauseTimers = function () {
    this.PauseTime = (new Date).getTime()
}, Tracking.prototype.ResumeTimers = function () {
    if (0 != this.PauseTime) {
        var t = (new Date).getTime() - this.PauseTime;
        for (var e in this.trackedTimers) this.trackedTimers[e] += t
    }
}, Tracking.prototype._internalUseStartTime = function (t, e, i, n) {
    this.trackedTimers[n + "____" + t + "____" + e] = i
}, Tracking.prototype.StartTimer = function (t, e, i) {
    this.trackedTimers[i + "____" + t + "____" + e] = (new Date).getTime()
}, Tracking.prototype.StopTimerAndSend = function (t, e, i) {
    var n = this.GetTimerValue(t, e, i);
    if (n > 0 && n < 36e5) {
        var o = {
            category: t,
            variable: e,
            time: n,
            type: i
        };
        globalTracking.QueuedTimers.push(o)
    }
}, Tracking.prototype.GetTimerValue = function (t, e, i) {
    return void 0 === this.trackedTimers[i + "____" + t + "____" + e] ? 0 : (new Date).getTime() - this.trackedTimers[i + "____" + t + "____" + e]
}, Tracking.prototype.SendEvent = function (t, e, i, n) {
    var o = {
        category: t,
        action: e,
        value: i,
        type: n
    };
    globalTracking.QueuedEvents.push(o)
}, Tracking.prototype.SendTimer = function (t, e, i, n) {
    var o = {
        category: t,
        variable: e,
        time: i,
        type: n
    };
    globalTracking.QueuedTimers.push(o)
};
var globalTracking = new Tracking,
    SendTrackingIfQueued = function () {
        if (globalTracking.QueuedTimers.length > 0) {
            var t = globalTracking.QueuedTimers[0];
            globalTracking.QueuedTimers.splice(0, 1), ga(t.type + ".send", "timing", t.category, t.variable, t.time, ServerOptions.gameSymbol), window.gaMapping[t.type] && window.gtag("timing_complete", {
                send_to: window.gaMapping[t.type],
                name: t.variable,
                event_category: t.category,
                event_label: ServerOptions.gameSymbol,
                value: t.time
            }), UHT_LOCAL
        }
        if (globalTracking.QueuedEvents.length > 0) {
            var e = globalTracking.QueuedEvents[0];
            globalTracking.QueuedEvents.splice(0, 1), ga(e.type + ".send", "event", e.category, e.action, ServerOptions.gameSymbol, e.value), window.gaMapping[e.type] && window.gtag("event", e.action, {
                send_to: window.gaMapping[e.type],
                event_category: e.category,
                event_label: ServerOptions.gameSymbol,
                value: e.value
            }), UHT_LOCAL
        }
        setTimeout(SendTrackingIfQueued, 1250)
    };
SendTrackingIfQueued(), goog.provide("UHT.UHTEngine");
var UHTEngine = {
        StartDownloadingMainGame: function (t, e, i) {
            downloadMainGame(t, e, i)
        },
        HideLoader: function () {
            loaderController[loaderCallbackHide]()
        },
        SignalLoaderIsHidden: function () {
            loaderIsVisible = !1
        },
        LoadAssetBundle: function (t, e) {
            if (globalImporter.state == Importer.State.Idle) {
                globalImporter.StartImport(0, [t]);
                var i = globalImporter.Advance([t], e);
                return globalImporter.clear(), i.objects[0]
            }
            return null
        },
        StartLoadingSounds: function () {
            SoundLoader.LoadSounds()
        },
        SoundsAreLoaded: function () {
            return SoundLoader.soundsAreLoaded
        },
        SoundsAreLoading: function () {
            return !SoundLoader.soundsAreLoaded && SoundLoader.soundsAreBeingLoaded
        },
        WaitingForSounds: function () {
            return !1
        },
        IsFullscreen: function () {
            return IsFullscreen()
        },
        RequestFullscreen: function () {
            return RequestFullscreen()
        },
        ExitFullscreen: function () {
            return ExitFullscreen()
        },
        CheckUserAgent: function (t, e, i) {
            var n = window.SystemMessageManager || null;
            null != n ? n.CheckUserAgent(t, e, i) : setTimeout((function () {
                UHTEngine.CheckUserAgent(t, e, i)
            }), 200)
        },
        HideFirstLoader: function () {
            window.UHT_CUSTOM_LOADER && (document.getElementById("wheelofpatience").style.display = "none"), EventManager.AddHandler("EVT_UHT_BEFOREUPDATE", UHTInterfaceBOSS.OnUHTUpdate, UHTInterfaceBOSS)
        },
        RegisterUserInteraction: function () {
            null != (window.SystemMessageManager || null) && window.SystemMessageManager.UserInteraction(), UHTInterfaceBOSS.UserInteraction()
        },
        SetBatterySaverState: function (t) {
            batterySaverIsOff = !t
        },
        SignalCanStartPrefetchingUnusedAtlasses: function () {
            timerToStartPrefetching = 5
        }
    },
    UHTInterfaceBOSS = {};
UHTInterfaceBOSS.enabled = UHT_GAME_CONFIG.extend_events, UHTInterfaceBOSS.currentRoundID = "0", UHTInterfaceBOSS.listener = window[UHT_GAME_CONFIG_SRC.extend_events_listener] || null, UHTInterfaceBOSS.inGameRound = !1, UHTInterfaceBOSS.gameSoundIsOn = null, UHTInterfaceBOSS.pauseCommands = [], UHTInterfaceBOSS.soundCommands = [], UHTInterfaceBOSS.setMaxBetCommands = [], UHTInterfaceBOSS.setMinBetCommands = [], UHTInterfaceBOSS.setBetCommands = [], UHTInterfaceBOSS.commands = [], UHTInterfaceBOSS.isXTInit = !1, UHTInterfaceBOSS.isPaytableOpen = !1, UHTInterfaceBOSS.paytableIsOpenedFromPaytable = !1, UHTInterfaceBOSS.lastMinBet = -1, UHTInterfaceBOSS.lastMaxBet = 9007199254740991, UHTInterfaceBOSS.PostMessage = function (t) {
    if ("gameRoundEnded" == t && (GameConnection.I.requestState == RequestState.Collect || null != GameConnection.I.srvResponse.NextGameActions && GameConnection.I.srvResponse.NextGameActions.indexOf(NextGameAction.Collect) > -1)) GameConnection.I.mustPostGameRoundEndedOnCollect = !0;
    else if ("resultShown" != t || (UHTInterfaceBOSS.OnVisualBalanceUpdate(), !UHTInterfaceBOSS.inGameRound)) {
        var e = {};
        if (UHTInterfaceBOSS.enabled) {
            if (e.sender = URLGameSymbol, e.lang = UHT_GAME_CONFIG.LANGUAGE.toUpperCase(), e.success = !0, !/gameLoading/.test(t) && "post_updateBalance" != t) {
                var i = XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived);
                e.winAmount = XT.GetDouble(Vars.SpinCycleWinReceived) + XT.GetDouble(TournamentVars.Promotion_WinReceived), e.balanceAfter = i, e.betAmount = CoinManager.GetNextTotalBet(), e.balanceBefore = i, e.amount = i
            }
            "gameRoundStarted" == t && (e.name = "gameRoundStart", UHTInterfaceBOSS.PostMessageRec(window.parent, e), UHTInterfaceBOSS.inGameRound = !0), "spinEnded" == t && (e.roundTripMs = GLOBAL_TIME_RESPONSE_RECEIVED), e.name = t, UHTInterfaceBOSS.PostMessageRec(window.parent, e), "gameRoundEnded" == t && (UHTInterfaceBOSS.inGameRound = !1, 0 == XT.GetDouble(Vars.SpinCycleWinReceived) && (e.name = "resultShown", UHTInterfaceBOSS.PostMessageRec(window.parent, e), UHTInterfaceBOSS.OnVisualBalanceUpdate()), e.name = "balanceChanged", UHTInterfaceBOSS.PostMessageRec(window.parent, e), UHTInterfaceBOSS.pauseCommands.length > 0 && UHTInterfaceBOSS.Pause(UHTInterfaceBOSS.pauseCommands.shift())), "gameLoadingStarted" == t && (e.event = "loaded", UHTInterfaceBOSS.PostMessageRec(window.parent, e)), "gameLoadingEnded" == t && (XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StartAutoplay, UHTInterfaceBOSS.OnStartAutoplay, UHTInterfaceBOSS), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StopAutoplay, UHTInterfaceBOSS.OnStopAutoplay, UHTInterfaceBOSS), XT.RegisterCallbackEvent("Evt_SetSmartBetFinished", UHTInterfaceBOSS.OnBetChanged, UHTInterfaceBOSS), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_DecreaseBet, UHTInterfaceBOSS.OnBetChanged, UHTInterfaceBOSS), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_IncreaseBet, UHTInterfaceBOSS.OnBetChanged, UHTInterfaceBOSS), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_IncreaseCoinValue, UHTInterfaceBOSS.OnBetChanged, UHTInterfaceBOSS), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_DecreaseCoinValue, UHTInterfaceBOSS.OnBetChanged, UHTInterfaceBOSS), XT.RegisterCallbackEvent(Vars.Evt_Internal_SoundStateChanged, UHTInterfaceBOSS.OnXTSoundStateChanged, UHTInterfaceBOSS), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen, UHTInterfaceBOSS.OnXTPaytableOpen, UHTInterfaceBOSS), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytableClosed, UHTInterfaceBOSS.OnXTPaytableClose, UHTInterfaceBOSS)), "gameRoundEnded" != t && "post_updateBalance" != t || (e.event = "updateBalance", e.params = {
                total: {
                    currency: ServerOptions.currency,
                    amount: Math.floor(100 * (XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived)) + .5)
                }
            }, UHTInterfaceBOSS.PostMessageRec(window.parent, e))
        }
    }
}, UHTInterfaceBOSS.PostMessageRec = function (t, e) {
    null == UHTInterfaceBOSS.listener ? (t.postMessage(e, "*"), t != window.top && UHTInterfaceBOSS.PostMessageRec(t.parent, e)) : UHTInterfaceBOSS.listener.postMessage(e, "*")
}, UHTInterfaceBOSS.ReceiveMessage = function (t) {
    UHTInterfaceBOSS.enabled && ("updateBalance" == t.data && EventManager.Trigger(BalanceEvents.evtUpdateBalanceForced, null), "refreshBalance" == t.data.event && EventManager.Trigger(BalanceEvents.evtUpdateBalanceForced, null), "setVolume" == t.data.event && null != t.data.params && (1 == t.data.params.muted ? (XT.GetObject(Vars.SoundState).gameSoundIsOn && UHTInterfaceBOSS.soundCommands.push(!1), SoundManager.forcedMute = !0) : (SoundManager.forcedMute = !1, XT.GetObject(Vars.SoundState).gameSoundIsOn || UHTInterfaceBOSS.soundCommands.push(!0))), "game.resize" == t.data.action && (window.innerWidth = parseInt(t.data.actionData.width, 10), window.innerHeight = parseInt(t.data.actionData.height, 10)), "stopAutoplay" == t.data && (window.globalMustStopAutoplay = !0), "pause" == t.data && (Globals.GamePaused = !0, Globals.InputBlocked = !0), "resume" == t.data && (Globals.GamePaused = !1, Globals.InputBlocked = !1), "requestPause" == t.data && (UHTInterfaceBOSS.pauseCommands.push(!0), UHTInterfaceBOSS.inGameRound || UHTInterfaceBOSS.Pause(UHTInterfaceBOSS.pauseCommands.shift())), "requestResume" == t.data && (UHTInterfaceBOSS.pauseCommands.push(!1), UHTInterfaceBOSS.inGameRound || UHTInterfaceBOSS.Pause(UHTInterfaceBOSS.pauseCommands.shift())), "setMaxBet" == t.data.name && null != t.data.params && null != t.data.params.maxBetPerLine && UHTInterfaceBOSS.setMaxBetCommands.push(t.data.params.maxBetPerLine), "setMinBet" == t.data.name && null != t.data.params && null != t.data.params.minBetPerLine && UHTInterfaceBOSS.setMinBetCommands.push(t.data.params.minBetPerLine), "setBet" == t.data.name && null != t.data.params && null != t.data.params.betPerLine && UHTInterfaceBOSS.setBetCommands.push(t.data.params.betPerLine), "closeSession" == t.data.name && UHTInterfaceBOSS.RequestLogout(), "togglePaytable" == t.data.name && UHTInterfaceBOSS.commands.push("toggle"), "toggleHelp" == t.data.name && UHTInterfaceBOSS.commands.push("help"), "paytableNextPage" == t.data.name && UHTInterfaceBOSS.commands.push("next"), "paytablePreviousPage" == t.data.name && UHTInterfaceBOSS.commands.push("previous"), "hidePaytableControls" == t.data.name && UHTInterfaceBOSS.commands.push("hidePaytableControls"), "hideSoundButton" == t.data.name && UHTInterfaceBOSS.commands.push("hideSoundButton"), "hideMenuButton" == t.data.name && UHTInterfaceBOSS.commands.push("hideMenuButton"), "hidePaytableButton" == t.data.name && UHTInterfaceBOSS.commands.push("hidePaytableButton"), "enableFastPlay" == t.data.name && UHTInterfaceBOSS.commands.push("enableFastPlay"), "disableFastPlay" == t.data.name && UHTInterfaceBOSS.commands.push("disableFastPlay"), "openMenu" == t.data.name && UHTInterfaceBOSS.commands.push("openMenu"), "closeMenu" == t.data.name && UHTInterfaceBOSS.commands.push("closeMenu"), "toggleMenu" == t.data.name && UHTInterfaceBOSS.commands.push("toggleMenu"))
}, UHTInterfaceBOSS.HandleGameHistory = function () {
    return !1
}, UHTInterfaceBOSS.UserInteraction = function () {}, UHTInterfaceBOSS.Init = function () {
    window.addEventListener("message", UHTInterfaceBOSS.ReceiveMessage, !1)
}, UHTInterfaceBOSS.Init(), UHTInterfaceBOSS.Pause = function (t) {
    Globals.GamePaused = t, Globals.InputBlocked = t;
    var e = {
        event: t ? "confirmPause" : "confirmResume"
    };
    UHTInterfaceBOSS.PostMessageRec(window.parent, e)
}, UHTInterfaceBOSS.OnLoadingPercentChanged = function (t) {
    if (UHTInterfaceBOSS.enabled) {
        var e = {
            event: "loadingProgress",
            params: {
                percentage: Math.round(100 * t)
            }
        };
        UHTInterfaceBOSS.PostMessageRec(window.parent, e)
    }
}, UHTInterfaceBOSS.OnStartAutoplay = function () {
    var t = {
        event: "autoplayStarted",
        params: {
            autospins: XT.GetInt(Vars.AutoplaySpinsRequested)
        }
    };
    UHTInterfaceBOSS.PostMessageRec(window.parent, t)
}, UHTInterfaceBOSS.OnStopAutoplay = function () {
    UHTInterfaceBOSS.PostMessageRec(window.parent, {
        event: "autoplayEnded"
    })
}, UHTInterfaceBOSS.OnBetChanged = function () {
    var t = {
        event: "betChanged",
        params: {
            bet: CoinManager.GetNextTotalBet()
        }
    };
    UHTInterfaceBOSS.PostMessageRec(window.parent, t)
}, UHTInterfaceBOSS.OnVisualBalanceUpdate = function () {
    var t = {
        event: "visualBalanceUpdate",
        params: {
            currency: ServerOptions.currency,
            newAmount: XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived),
            win: XT.GetDouble(Vars.SpinCycleWinReceived) + XT.GetDouble(TournamentVars.Promotion_WinReceived)
        }
    };
    UHTInterfaceBOSS.PostMessageRec(window.parent, t)
}, UHTInterfaceBOSS.OnXTSoundStateChanged = function () {
    var t = XT.GetObject(Vars.SoundState);
    if (t.gameSoundIsOn != UHTInterfaceBOSS.gameSoundIsOn) {
        UHTInterfaceBOSS.gameSoundIsOn = t.gameSoundIsOn;
        var e = {
            event: t.gameSoundIsOn ? "soundOn" : "soundOff"
        };
        UHTInterfaceBOSS.PostMessageRec(window.parent, e)
    }
}, UHTInterfaceBOSS.OnUHTUpdate = function () {
    if (UHTInterfaceBOSS.isXTInit || XT.RegisterAndInitDone && (UHTInterfaceBOSS.isXTInit = !0, XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, UHTInterfaceBOSS.SendBetInfo, UHTInterfaceBOSS), XT.RegisterCallbackInt(Vars.BetToTotalBetMultiplier, UHTInterfaceBOSS.OnBetToTotalBetMultiplier, UHTInterfaceBOSS)), UHTInterfaceBOSS.soundCommands.length > 0 && (UHTInterfaceBOSS.soundCommands.shift(), XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn)), UHTInterfaceBOSS.setMaxBetCommands.length > 0 && !UHTInterfaceBOSS.inGameRound && UHTInterfaceBOSS.SetMaxBet(UHTInterfaceBOSS.setMaxBetCommands.shift()), UHTInterfaceBOSS.setMinBetCommands.length > 0 && !UHTInterfaceBOSS.inGameRound && UHTInterfaceBOSS.SetMinBet(UHTInterfaceBOSS.setMinBetCommands.shift()), UHTInterfaceBOSS.setBetCommands.length > 0 && !UHTInterfaceBOSS.inGameRound && UHTInterfaceBOSS.SetBet(UHTInterfaceBOSS.setBetCommands.shift()), UHTInterfaceBOSS.commands.length > 0) {
        var t = UHTInterfaceBOSS.commands.shift();
        "toggle" == t ? UHTInterfaceBOSS.TogglePaytable() : "help" == t ? (XT.TriggerEvent(Vars.Evt_Internal_PaytableOpenHelp), UHTInterfaceBOSS.paytableIsOpenedFromPaytable = !1) : "next" == t ? XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_PaytableNext) : "previous" == t ? XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_PaytablePrevious) : "hidePaytableControls" == t ? UHTInterfaceBOSS.HideMenuButtons(["UI Root/XTRoot/Root/Paytable/Buttons"], []) : "hideSoundButton" == t ? UHTInterfaceBOSS.HideMenuButtons(["UI Root/XTRoot/Root/GUI/Interface/BottomBar/Elements/LeftContent/SoundButtons", "UI Root/XTRoot/Root/GUI/Interface/Windows/MenuWindow/Content/Audio"], ["UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/Windows/MenuWindow/Content/SoundButtons", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/MenuWindow/Content/GeneralSettings/SoundButtons"]) : "hideMenuButton" == t ? UHTInterfaceBOSS.HideMenuButtons(["UI Root/XTRoot/Root/GUI/Interface/BottomBar/Elements/LeftContent/Settings"], ["UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/BottomBar/AnchoredLeft/MenuButton", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/BottomBar/AnchoredLeft/MenuButton"]) : "hidePaytableButton" == t ? UHTInterfaceBOSS.HideMenuButtons(["UI Root/XTRoot/Root/GUI/Interface/TopBar/Paytable"], ["UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/BottomBar/AnchoredRight/PaytableButton", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/BottomBar/AnchoredRight/PaytableButton"]) : "enableFastPlay" == t ? XT.SetBool(Vars.FastPlay, !0) : "disableFastPlay" == t ? XT.SetBool(Vars.FastPlay, !1) : "openMenu" == t ? UHTInterfaceBOSS.OpenMenu() : "closeMenu" == t ? UHTInterfaceBOSS.CloseMenu() : "toggleMenu" == t && UHTInterfaceBOSS.ToggleMenu()
    }
}, UHTInterfaceBOSS.SetMaxBet = function (t) {
    if (null != CoinManager.initialBetsFromServer) {
        for (var e = [], i = 0; i < CoinManager.initialBetsFromServer.length; i++) CoinManager.initialBetsFromServer[i] >= UHTInterfaceBOSS.lastMinBet && CoinManager.initialBetsFromServer[i] <= t && e.push(CoinManager.initialBetsFromServer[i]);
        if (e.length > 0) {
            t = e[e.length - 1];
            var n = CoinManager.GetNextBet();
            n > t && (n = t), CoinManager.defaultBet = n, CoinManager.ComputeCoinValuesAndCurrentBet(e, n, CoinManager.defaultBet), CoinManager.SetStrictBetMode(!CoinManager.isStrictMode), CoinManager.SetStrictBetMode(!CoinManager.isStrictMode), UHTInterfaceBOSS.lastMaxBet = t
        }
    }
}, UHTInterfaceBOSS.SetMinBet = function (t) {
    if (null != CoinManager.initialBetsFromServer) {
        for (var e = [], i = 0; i < CoinManager.initialBetsFromServer.length; i++) CoinManager.initialBetsFromServer[i] >= t && CoinManager.initialBetsFromServer[i] <= UHTInterfaceBOSS.lastMaxBet && e.push(CoinManager.initialBetsFromServer[i]);
        if (e.length > 0) {
            t = e[0];
            var n = CoinManager.GetNextBet();
            n < t && (n = t), CoinManager.defaultBet = n, CoinManager.ComputeCoinValuesAndCurrentBet(e, n, CoinManager.defaultBet), CoinManager.SetStrictBetMode(!CoinManager.isStrictMode), CoinManager.SetStrictBetMode(!CoinManager.isStrictMode), UHTInterfaceBOSS.lastMinBet = t
        }
    }
}, UHTInterfaceBOSS.SetBet = function (t) {
    var e = XT.GetObject(Vars.Bets);
    if (null != e) {
        var i = e.indexOf(t); - 1 != i && (CoinManager.SetBetIndex(i), CoinManager.SetStrictBetMode(!CoinManager.isStrictMode), CoinManager.SetStrictBetMode(!CoinManager.isStrictMode))
    }
}, UHTInterfaceBOSS.SendBetInfo = function () {
    var t = {
        event: "betInfo",
        params: {
            betsPerLine: CoinManager.initialBetsFromServer
        }
    };
    UHTInterfaceBOSS.PostMessageRec(window.parent, t)
}, UHTInterfaceBOSS.OnBetToTotalBetMultiplier = function (t) {
    var e = {
        event: "betMultiplier",
        params: {
            betMultiplier: t
        }
    };
    UHTInterfaceBOSS.PostMessageRec(window.parent, e)
}, UHTInterfaceBOSS.RequestLogout = function () {
    var t = new XMLHttpRequest;
    t.open("POST", UHT_GAME_CONFIG.LOGOUT, !0), t.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), t.onreadystatechange = function () {
        4 == t.readyState && ("OK" == t.responseText ? UHTInterfaceBOSS.OnSessionClosed() : setTimeout((function () {
            UHTInterfaceBOSS.RequestLogout()
        }), 2e3))
    }, t.send()
}, UHTInterfaceBOSS.OnSessionClosed = function () {
    UHTInterfaceBOSS.PostMessageRec(window.parent, {
        event: "sessionClosed"
    })
}, UHTInterfaceBOSS.OnSystemMessage = function (t) {
    var e = {
        event: "systemMessageShown",
        params: {
            type: t,
            msg_code: window.SystemMessageManager.lastMsgCode,
            ext_code: window.SystemMessageManager.lastExtCode,
            frozen: window.SystemMessageManager.lastFrozen
        }
    };
    UHTInterfaceBOSS.PostMessageRec(window.parent, e)
}, UHTInterfaceBOSS.HideMenuButtons = function (t, e) {
    if (Globals.isMobile)
        for (i = 0; i < e.length; i++) {
            null != (n = globalRuntime.sceneRoots[1].transform.Find(e[i])) && n.gameObject.SetActive(!1)
        } else
            for (var i = 0; i < t.length; i++) {
                var n;
                null != (n = globalRuntime.sceneRoots[1].transform.Find(t[i])) && n.gameObject.SetActive(!1)
            }
}, UHTInterfaceBOSS.TogglePaytable = function () {
    if (UHTInterfaceBOSS.isPaytableOpen) XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_PaytableClosed), UHTInterfaceBOSS.paytableIsOpenedFromPaytable || UHTInterfaceBOSS.TogglePaytable();
    else if (UHTInterfaceBOSS.paytableIsOpenedFromPaytable = !0, Globals.isMobile) {
        var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1),
            e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2);
        t.length > 0 && t[0].Pressed_Paytable_Open(), e.length > 0 && e[0].Pressed_Paytable_Open()
    } else {
        var i = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceController);
        i.length > 0 && i[0].Pressed_Paytable_Open()
    }
}, UHTInterfaceBOSS.OnXTPaytableOpen = function () {
    UHTInterfaceBOSS.isPaytableOpen = !0
}, UHTInterfaceBOSS.OnXTPaytableClose = function () {
    UHTInterfaceBOSS.isPaytableOpen = !1
}, UHTInterfaceBOSS.OpenMenu = function () {
    if (Globals.isMobile) {
        var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1),
            e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2);
        t.length > 0 && t[0].Pressed_Menu_Open(), e.length > 0 && e[0].Pressed_Menu_Open()
    } else {
        var i = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceController);
        i.length > 0 && i[0].Pressed_Settings_Open()
    }
}, UHTInterfaceBOSS.CloseMenu = function () {
    if (Globals.isMobile) {
        var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1),
            e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2);
        t.length > 0 && t[0].Pressed_Menu_Close(), e.length > 0 && e[0].Pressed_Menu_Close()
    } else {
        var i = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceController);
        i.length > 0 && i[0].Pressed_Settings_Close()
    }
}, UHTInterfaceBOSS.ToggleMenu = function () {
    if (Globals.isMobile) {
        var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1),
            e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2);
        t.length > 0 && (t[0].currentOpenedWindow != window.InterfaceControllerMobile_1.WindowTypes.Menu ? t[0].Pressed_Menu_Open() : t[0].Pressed_Menu_Close()), e.length > 0 && (e[0].currentOpenedWindow != window.InterfaceControllerMobile_2.WindowTypes.Menu ? e[0].Pressed_Menu_Open() : e[0].Pressed_Menu_Close())
    } else {
        var i = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceController);
        i.length > 0 && (i[0].currentOpenedWindow != window.InterfaceController.WindowTypes.Settings ? i[0].Pressed_Settings_Open() : i[0].Pressed_Settings_Close())
    }
}, goog.provide("UHTMath");
var UHTMath = {
    PI: 3.1415926,
    numberError: 1e-6,
    angularError: 1
};

function Particle() {
    this.parent = null, this._angularVelocity = null, this._angularVelocityBySpeed = null, this.startColor = new GradientColor, this._color = null, this._colorBySpeed = null, this._lifetime = -1, this.position = new UHTMath.Vector3, this.randomSeed = 0, this.startSize = 1, this._size = null, this._sizeBySpeed = null, this.startLifetime = -1, this.rotation = 0, this.startSpeed = 0, this.speed = new UHTMath.Vector3, this._velocity = new UHTMath.Vector3, this._velocityX = null, this._velocityY = null, this._velocityZ = null, this._forceX = null, this._forceY = null, this._forceZ = null, this.velocityDirection = new UHTMath.Vector3(0, 1, 0), this.isOld = !1, this.clampVelocity = null, this.sprite
}

function ParticleSystemExtraData() {
    Component.call(this), this.SubEmitterBirth0 = null, this.SubEmitterBirth1 = null, this.SubEmitterCollision0 = null, this.SubEmitterCollision1 = null, this.SubEmitterDeath0 = null, this.SubEmitterDeath1 = null
}
UHTMath.toDeg = function (t) {
    return 180 * t / UHTMath.PI
}, UHTMath.toRad = function (t) {
    return t / 180 * UHTMath.PI
}, UHTMath.clamp = function (t, e, i) {
    return Math.min(Math.max(t, e), i)
}, UHTMath.lerp = function (t, e, i) {
    return t + (e - t) * UHTMath.clamp(i, 0, 1)
}, UHTMath.inverseLerp = function (t, e, i) {
    if (t === e) return 0;
    UHTMath.clamp(i, t, e);
    return (i - t) / (e - t)
}, UHTMath.lerpUnclamped = function (t, e, i) {
    return t + (e - t) * i
}, goog.provide("UHTMath.Vector3"), UHTMath.Vector3 = function (t, e, i) {
    this.set(t, e, i)
}, UHTMath.Vector3.prototype = {
    constructor: UHTMath.Vector3,
    set: function (t, e, i) {
        if (void 0 === t) t = 0, e = 0, i = 0;
        else if (void 0 === e) {
            if (void 0 === t.x) return;
            e = t.y, i = t.z, t = t.x
        }
        this.x = t, this.y = e, this.z = i
    },
    equals: function (t, e, i) {
        var n = new UHTMath.Vector3(t, e, i);
        return Math.abs(this.x - n.x) < UHTMath.numberError && Math.abs(this.y - n.y) < UHTMath.numberError && Math.abs(this.z - n.z) < UHTMath.numberError
    },
    magnitude: function () {
        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
    },
    sqrMagnitude: function () {
        return this.x * this.x + this.y * this.y + this.z * this.z
    },
    normalize: function () {
        var t = this.magnitude();
        t < UHTMath.numberError ? this.set(0, 0, 0) : (t = 1 / t, this.set(this.x * t, this.y * t, this.z * t))
    },
    normalized: function () {
        var t = this.magnitude(),
            e = new UHTMath.Vector3;
        return 0 !== t && (t = 1 / t, e.x = this.x * t, e.y = this.y * t, e.z = this.z * t), e
    },
    add: function (t) {
        return this.x += t.x, this.y += t.y, this.z += t.z, this
    },
    toString: function () {
        return JSON.stringify(this)
    }
}, UHTMath.Vector3.dot = function (t, e) {
    return void 0 === e || void 0 === t ? 0 : t.x * e.x + t.y * e.y + t.z * e.z
}, UHTMath.Vector3.angle = function (t, e) {
    var i = UHTMath.Vector3.dot(t.normalized(), e.normalized());
    return i = UHTMath.clamp(i, -1, 1), UHTMath.toDeg(Math.acos(i))
}, UHTMath.Vector3.cross = function (t, e) {
    return new UHTMath.Vector3(t.y * e.z - t.z * e.y, t.z * e.x - t.x * e.z, t.x * e.y - t.y * e.x)
}, UHTMath.Vector3.distance = function (t, e) {
    return new UHTMath.Vector3(t.x - e.x, t.y - e.y, t.z - e.z).magnitude()
}, UHTMath.Vector3.lerp = function (t, e, i) {
    var n = UHTMath.clamp(i, 0, 1);
    return new UHTMath.Vector3(t.x + (e.x - t.x) * n, t.y + (e.y - t.y) * n, t.z + (e.z - t.z) * n)
}, UHTMath.Vector3.nlerp = function (t, e, i) {
    var n = UHTMath.clamp(i, 0, 1),
        o = UHTMath.Vector3.lerp(t, e, n);
    return o.normalize(), o
}, UHTMath.Vector3.slerp = function (t, e, i) {
    var n = t.magnitude(),
        o = e.magnitude(),
        s = Math.abs(n) > 0 ? UHTMath.Vector3.scale(t, 1 / n) : UHTMath.Vector3.up,
        a = Math.abs(o) > 0 ? UHTMath.Vector3.scale(e, 1 / o) : UHTMath.Vector3.up,
        r = UHTMath.clamp(i, 0, 1),
        l = UHTMath.Quaternion.fromToRotation(s, a),
        u = UHTMath.Quaternion.slerp(UHTMath.Quaternion.identity, l, r),
        h = UHTMath.Quaternion.multiplyVec(u, s),
        c = UHTMath.lerp(n, o, r);
    return UHTMath.Vector3.scale(h, c)
}, UHTMath.Vector3.min = function (t, e) {
    return new UHTMath.Vector3(Math.min(t.x, e.x), Math.min(t.y, e.y), Math.min(t.z, e.z))
}, UHTMath.Vector3.max = function (t, e) {
    return new UHTMath.Vector3(Math.max(t.x, e.x), Math.max(t.y, e.y), Math.max(t.z, e.z))
}, UHTMath.Vector3.moveTowards = function (t, e, i) {
    var n = new UHTMath.Vector3(e.x - t.x, e.y - t.y, e.z - t.z).magnitude();
    if (n < UHTMath.numberError) return e;
    var o = Math.min(i, n) / n;
    return UHTMath.Vector3.lerp(t, e, o)
}, UHTMath.Vector3.orthoNormalize = function (t, e, i) {
    t.normalize(), i.set(UHTMath.Vector3.cross(t, e)), i.normalize(), e.set(UHTMath.Vector3.cross(i, t)), e.normalize()
}, UHTMath.Vector3.scale = function (t, e) {
    var i, n, o;
    return void 0 === e.x ? (i = e, n = e, o = e) : (i = e.x, n = e.y, o = e.z), new UHTMath.Vector3(t.x * i, t.y * n, t.z * o)
}, UHTMath.Vector3.add = function (t, e) {
    return new UHTMath.Vector3(t.x + e.x, t.y + e.y, t.z + e.z)
}, UHTMath.Vector3.sub = function (t, e) {
    return new UHTMath.Vector3(t.x - e.x, t.y - e.y, t.z - e.z)
}, UHTMath.Vector3.equal = function (t, e) {
    return null == t ? null == e : null == e ? null == t : Math.abs(t.x - e.x) < UHTMath.numberError && Math.abs(t.y - e.y) < UHTMath.numberError && Math.abs(t.z - e.z) < UHTMath.numberError
}, UHTMath.Vector3.back = new UHTMath.Vector3(0, 0, -1), UHTMath.Vector3.down = new UHTMath.Vector3(0, -1, 0), UHTMath.Vector3.forward = new UHTMath.Vector3(0, 0, 1), UHTMath.Vector3.left = new UHTMath.Vector3(-1, 0, 0), UHTMath.Vector3.one = new UHTMath.Vector3(1, 1, 1), UHTMath.Vector3.right = new UHTMath.Vector3(1, 0, 0), UHTMath.Vector3.up = new UHTMath.Vector3(0, 1, 0), UHTMath.Vector3.zero = new UHTMath.Vector3(0, 0, 0), goog.require("UHTMath.Vector3"), goog.require("UHT.Component"), goog.require("UHT.ParticleSystemEvaluator"), goog.require("UHT.ParticleSystemEvaluatorBySpeed"), goog.require("UHT.ParticleSystemEvaluatorColor"), goog.require("UHT.ClampVelocityModule"), Particle.prototype.velocityX = 0, Particle.prototype.velocityY = 0, Particle.prototype.velocityZ = 0, Particle.prototype.forceX = 0, Particle.prototype.forceY = 0, Particle.prototype.forceZ = 0, Particle.prototype.angularVelocity = 0, Particle.prototype.angularVelocityBySpeed = 0, Particle.prototype.sizeBySpeed = 0, Object.defineProperties(Particle.prototype, {
    lifetime: {
        set: function (t) {
            var e = !1;
            t <= 0 && this._lifetime > 0 && (e = !0), this._lifetime = t, e && (this.parent.particleCount--, this.parent.killParticle(this))
        },
        get: function () {
            return this._lifetime
        }
    },
    color: {
        set: function (t) {
            null === this._color && (this._color = new ParticleSystemEvaluatorColor), this._color.deserialize(t)
        },
        get: function () {
            if (null === this._color) return new GradientColor;
            var t = this.lifetime / this.startLifetime,
                e = this._color.Evaluate(1 - t);
            return e.r /= 255, e.g /= 255, e.b /= 255, e.a /= 255, e
        }
    },
    colorBySpeed: {
        set: function (t) {
            null === this._colorBySpeed && (this._colorBySpeed = new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluatorColor)), this._colorBySpeed.deserialize(t)
        },
        get: function (t) {
            if (null === this._colorBySpeed) return new GradientColor;
            var e = this._colorBySpeed.Evaluate(this.speed.magnitude());
            return e.r /= 255, e.g /= 255, e.b /= 255, e.a /= 255, e
        }
    },
    isDead: {
        set: function (t) {
            t ? this.lifetime = 0 : this.lifetime <= 0 && (this.lifetime = this.startLifetime)
        },
        get: function () {
            return this.lifetime <= 0
        }
    },
    velocityX: {
        set: function (t) {
            this._velocityX = t
        },
        get: function () {
            var t = this.lifetime / this.startLifetime;
            return this._velocityX.Evaluate(1 - t)
        }
    },
    velocityY: {
        set: function (t) {
            this._velocityY = t
        },
        get: function () {
            var t = this.lifetime / this.startLifetime;
            return this._velocityY.Evaluate(1 - t)
        }
    },
    velocityZ: {
        set: function (t) {
            this._velocityZ = t
        },
        get: function () {
            var t = this.lifetime / this.startLifetime;
            return this._velocityZ.Evaluate(1 - t)
        }
    },
    forceX: {
        set: function (t) {
            this._forceX = t
        },
        get: function () {
            var t = this.lifetime / this.startLifetime;
            return this._forceX.Evaluate(1 - t)
        }
    },
    forceY: {
        set: function (t) {
            this._forceY = t
        },
        get: function () {
            var t = this.lifetime / this.startLifetime;
            return this._forceY.Evaluate(1 - t)
        }
    },
    forceZ: {
        set: function (t) {
            this._forceZ = t
        },
        get: function () {
            var t = this.lifetime / this.startLifetime;
            return this._forceZ.Evaluate(1 - t)
        }
    },
    size: {
        set: function (t) {
            null === this._size && (this._size = new ParticleSystemEvaluator), t instanceof Number ? (this._size.minMaxState = 0, this._size.scalar = t) : this._size.deserialize(t)
        },
        get: function () {
            return this._size.Evaluate(1 - this.lifetime / this.startLifetime)
        }
    },
    sizeBySpeed: {
        set: function (t) {
            null === this._sizeBySpeed && (this._sizeBySpeed = new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluator)), t instanceof Number ? (this._sizeBySpeed.minMaxState = 0, this._sizeBySpeed.scalar = t) : this._sizeBySpeed.deserialize(t)
        },
        get: function () {
            return null === this._sizeBySpeed ? 1 : this._sizeBySpeed.Evaluate(this.speed.magnitude())
        }
    },
    angularVelocityBySpeed: {
        set: function (t) {
            null === this._angularVelocityBySpeed && (this._angularVelocityBySpeed = new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluator)), t instanceof Number ? (this._angularVelocityBySpeed.minMaxState = 0, this._angularVelocityBySpeed.scalar = t) : this._angularVelocityBySpeed.deserialize(t)
        },
        get: function (t) {
            return null === this._angularVelocityBySpeed ? 0 : this._angularVelocityBySpeed.Evaluate(this.speed.magnitude())
        }
    },
    angularVelocity: {
        set: function (t) {
            t instanceof ParticleSystemEvaluator ? this._angularVelocity = t : t instanceof Number ? (this._angularVelocity.minMaxState = 0, this._angularVelocity.scalar = t) : this._angularVelocity.deserialize(t)
        },
        get: function (t) {
            if (null === this._angularVelocity) return 0;
            var e = this.lifetime / this.startLifetime;
            return this._angularVelocity.Evaluate(1 - e)
        }
    }
}), Particle.prototype.Spawn = function () {
    this.lifetime = this.startLifetime, this.isDead = !1, this._velocity.set(0, 0, 0), this.speed.set(0, 0, 0)
}, Particle.prototype.Update = function (t) {
    var e = Particle.velocity,
        i = Particle.force,
        n = this.parent.ParticleSystemComponent,
        o = this.parent.gameObject.transform;
    if (this.lifetime -= t, !(this.lifetime < 0)) {
        var s = this.parent.gravityModifier;
        if (this._velocity.y -= s * t, null !== this._velocityX ? e.set(this.velocityX, this.velocityY, this.velocityZ) : e.set(0, 0, 0), "True" === n.VelocityModule.enabled && "True" !== n.VelocityModule.inWorldSpace && e.set(o.transformDirection(e)), null !== this._forceX ? i.set(this.forceX, this.forceY, this.forceZ) : i.set(0, 0, 0), "True" === n.ForceModule.enabled && "True" !== n.ForceModule.inWorldSpace && i.set(o.transformDirection(i)), this.speed.set(this._velocity.x + e.x + i.x, this._velocity.y + e.y + i.y, this._velocity.z + e.z + i.z), null != this.clampVelocity) {
            var a = 1 - this.lifetime / this.startLifetime,
                r = UHTMath.Vector3.scale(this.clampVelocity.Evaluate(a, this.speed), 1);
            this.speed.set(r)
        }
        var l = UHTMath.Vector3.scale(this.speed, t * this.parent.goodScale);
        this.position.add(l), this.rotation += (this.angularVelocityBySpeed + this.angularVelocity) * t
    }
}, Particle.prototype.setupSpritePosition = function (t) {
    var e = this.sprite,
        i = this.startColor,
        n = this.color,
        o = this.colorBySpeed,
        s = Particle.gradientColor;
    s.r = i.r * n.r * o.r, s.g = i.g * n.g * o.g, s.b = i.b * n.b * o.b, s.a = i.a * n.a * o.a, e.tint = s.toRGBHex(), e.alpha = s.a / 255, e.x = this.position.x, e.y = -this.position.y, e.width = this.size * this.sizeBySpeed * this.startSize * this.parent.goodScale, e.height = e.width, e.rotation = this.rotation
}, Particle.velocity = new UHTMath.Vector3, Particle.force = new UHTMath.Vector3, Particle.gradientColor = new GradientColor, goog.provide("UHT.ParticleSystemExtraData"), goog.require("UHT.Component"), goog.require("UHTMath.Vector3"), ParticleSystemExtraData.prototype = Object.create(Component.prototype), ParticleSystemExtraData.prototype.constructor = ParticleSystemExtraData, ParticleSystemExtraData.prototype.deserialize = function (t, e, i) {
    deserializeComponentRec(t, this, e, i)
}, ParticleSystemExtraData.prototype.Awake = function () {
    null != this.SubEmitterBirth0 && (this.SubEmitterBirth0.playOnAwake = !1, this.SubEmitterBirth0.emissionRate = 0), null != this.SubEmitterBirth1 && (this.SubEmitterBirth1.playOnAwake = !1, this.SubEmitterBirth1.emissionRate = 0), null != this.SubEmitterCollision0 && (this.SubEmitterCollision0.playOnAwake = !1, this.SubEmitterCollision0.emissionRate = 0), null != this.SubEmitterCollision1 && (this.SubEmitterCollision1.playOnAwake = !1, this.SubEmitterCollision1.emissionRate = 0), null != this.SubEmitterDeath0 && (this.SubEmitterDeath0.playOnAwake = !1, this.SubEmitterDeath0.emissionRate = 0), null != this.SubEmitterDeath1 && (this.SubEmitterDeath1.playOnAwake = !1, this.SubEmitterDeath1.emissionRate = 0)
}, goog.require("UHT.Component"), goog.require("UHT.ParticleSystemEvaluator"), goog.require("UHT.ParticleSystemEvaluatorBySpeed"), goog.require("UHT.ParticleSystemEvaluatorColor"), goog.require("UHT.ParticleSystemShape"), goog.require("UHT.ParticleSystemShapeBox"), goog.require("UHT.ParticleSystemShapeCone"), goog.require("UHT.ParticleSystemShapeSphere"), goog.require("UHT.ParticleSystemShapeType"), goog.require("UHT.ParticleSystemExtraData"), goog.require("UHT.ClampVelocityModule");
var ParticleSystemSimulationSpace = {
        Local: 0,
        World: 1
    },
    ParticleSystemState = {
        isStopped: 0,
        isPaused: 1,
        isPlaying: 2
    };

function ParticleSystem() {
    Component.call(this), this.depth = 1e4, this.goodScale = 1, this._emissionRate = new ParticleSystemEvaluator, this._enableEmission = !0, this._gravityModifier = 0, this._loop = !1, this._maxParticles = new ParticleSystemEvaluator, this._playbackSpeed = new ParticleSystemEvaluator, this._playOnAwake = new ParticleSystemEvaluator, this._randomSeed = new ParticleSystemEvaluator, this._simulationSpace = new ParticleSystemEvaluator, this._startColor = new ParticleSystemEvaluatorColor, this._startDelay = 0, this._startLifetime = new ParticleSystemEvaluator, this._startRotation = new ParticleSystemEvaluator, this._startSize = new ParticleSystemEvaluator, this._startSpeed = new ParticleSystemEvaluator, this.duration = 0, this._prewarm = !1, this._shape = null, this.bursts = [], this.particles = [], this.particleCount = 0, this._state = ParticleSystemState.isStopped, this.time = 0, this._deadParticles = [], this._lest = 0, this.texturica = null, this.subEmitors = null, this.textureContent, this.ParticleSystemComponent, this.fastContainer = !0, this.epm = []
}
ParticleSystem.prototype = Object.create(Component.prototype), ParticleSystem.prototype.constructor = ParticleSystem, ParticleSystem.prototype.startColor = null, Object.defineProperties(ParticleSystem.prototype, {
    emissionRate: {
        set: function (t) {
            "number" == typeof t ? (this._emissionRate.minMaxState = 0, this._emissionRate.scalar = t) : this._emissionRate = t
        },
        get: function () {
            return this._emissionRate.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    enableEmission: {
        set: function (t) {
            this._enableEmission = t
        },
        get: function () {
            return this._enableEmission
        }
    },
    gravityModifier: {
        set: function (t) {
            this._gravityModifier = t
        },
        get: function () {
            return this._gravityModifier
        }
    },
    state: {
        set: function (t) {
            this._state = t
        },
        get: function () {
            return this._state
        }
    },
    loop: {
        set: function (t) {
            this._loop = t
        },
        get: function () {
            return this._loop
        }
    },
    maxParticles: {
        set: function (t) {
            this._maxParticles = t
        },
        get: function () {
            return this._maxParticles.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    playbackSpeed: {
        set: function (t) {
            this._playbackSpeed = t
        },
        get: function () {
            return this._playbackSpeed.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    playOnAwake: {
        set: function (t) {
            "boolean" == typeof t ? (this._playOnAwake.scalar = t ? 1 : 0, this._playOnAwake.minMaxState = 0) : this._playOnAwake = t
        },
        get: function () {
            return this._playOnAwake.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    randomSeed: {
        set: function (t) {
            this._randomSeed = t
        },
        get: function () {
            return this._randomSeed.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    simulationSpace: {
        set: function (t) {
            this._simulationSpace = t
        },
        get: function () {
            return this._simulationSpace.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    startColor: {
        set: function (t) {
            this._startColor = t
        },
        get: function () {
            return this._startColor.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    startDelay: {
        set: function (t) {
            this._startDelay = t
        },
        get: function () {
            return this._startDelay
        }
    },
    startLifetime: {
        set: function (t) {
            this._startLifetime = t
        },
        get: function () {
            return this._startLifetime.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    startRotation: {
        set: function (t) {
            this._startRotation = t
        },
        get: function () {
            return this._startRotation.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    startSize: {
        set: function (t) {
            this._startSize = t
        },
        get: function () {
            return this._startSize.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    startSpeed: {
        set: function (t) {
            this._startSpeed = t
        },
        get: function () {
            return this._startSpeed.Evaluate((this.time - this.startDelay) / this.duration)
        }
    },
    prewarm: {
        set: function (t) {
            this._prewarm = t
        },
        get: function () {
            return this._prewarm
        }
    }
}), ParticleSystem.prototype.deserialize = function (t, e, i) {
    deserializeComponentRec(t, this, e, i), this.fromSource(t, e, i)
}, ParticleSystem.prototype.copyFromSource = function (t, e, i) {
    copyComponentHelper(t, this, e, i), this.fromSource(t, e, i)
}, ParticleSystem.prototype.fromSource = function (t, e, i) {
    null !== this.textureContent && (this.texturica = PIXI.Texture.fromImage(this.textureContent, void 0, void 0, this["textureContent_@GUID"]), this.textureContent = {
        src: ""
    }), this.blendMode = t.blendMode;
    var n = t.ParticleSystemComponent.EmissionModule;
    this._burstCnt = n.m_BurstCount;
    for (var o = this._burstCnt; o--;) {
        var s = "time" + o.toString(),
            a = "cnt" + o.toString();
        this.bursts.push({
            time: Number(n[s]),
            cnt: Number(n[a]),
            emited: !1
        })
    }
    this._startColor = new ParticleSystemEvaluatorColor, this._startColor.deserialize(t.ParticleSystemComponent.InitialModule.startColor), this._enableEmission = this.valueFromString(n.enabled), this.gravityModifier = 9.81 * this.valueFromString(t.ParticleSystemComponent.InitialModule.gravityModifier) || 0, this.prewarm = this.valueFromString(t.ParticleSystemComponent.prewarm) || !1, this.startDelay = this.valueFromString(t.ParticleSystemComponent.startDelay) || 0, this.duration = this.valueFromString(t.ParticleSystemComponent.lengthInSec) || 0, this.loop = this.valueFromString(t.ParticleSystemComponent.looping) || 0, this.emissionRate = this.CreateParticleSystemComponent(t.ParticleSystemComponent.EmissionModule.rate || 0), this.playOnAwake = this.CreateParticleSystemComponent(t.ParticleSystemComponent.playOnAwake || 0), this.startLifetime = this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.startLifetime || 0), this.startRotation = this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.startRotation || 0), this.startSize = this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.startSize || 0), this.startSpeed = this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.startSpeed || 0), this.maxParticles = this.CreateParticleSystemComponent(t.ParticleSystemComponent.InitialModule.maxNumParticles || 0), this.InitializeEmissionShape(t.ParticleSystemComponent.ShapeModule), void 0 !== this.ParticleSystemComponent.ColorModule.enabled && "False" !== this.ParticleSystemComponent.ColorModule.enabled || (this.fastContainer = !1), Renderer.IsWebGL || (this.fastContainer = !1)
}, ParticleSystem.prototype.InitializeEmissionShape = function (t) {
    var e;
    if (t !== e)
        if (t.enabled !== e && "False" !== t.enabled) switch (Number(t.type)) {
            case ParticleSystemShapeType.box:
                this._shape = new ParticleSystemShapeBox, this._shape.deserialize(t);
                break;
            case ParticleSystemShapeType.cone:
            case ParticleSystemShapeType.coneBaseShell:
                this._shape = new ParticleSystemShapeCone, this._shape.deserialize(t);
                break;
            case ParticleSystemShapeType.sphere:
            case ParticleSystemShapeType.sphereShell:
                this._shape = new ParticleSystemShapeSphere, this._shape.deserialize(t);
                break;
            default:
                this._shape = new ParticleSystemShape;
                break
        } else this._shape = new ParticleSystemShape;
        else this._shape = new ParticleSystemShape
}, ParticleSystem.prototype.valueFromString = function (t) {
    var e = Number(t);
    return 0 == isNaN(e) ? e : "True" === t
}, ParticleSystem.prototype.CreateParticleSystemComponent = function (t) {
    var e = new ParticleSystemEvaluator;
    return undefined !== t.minMaxState ? e.deserialize(t) : (e.minMaxState = 0, e.scalar = this.valueFromString(t)), e
}, ParticleSystem.prototype.OnEnable = function () {
    if (this.playOnAwake && (this.time = 0, this.Clear(!1), this.resetBursts()), this.subEmitors = this.gameObject.GetComponent("ParticleSystemExtraData"), this.playOnAwake && this.Play(), this.prewarm)
        for (var t = 1 / 15, e = 0; e < this.duration;) this.internalUpdate(t), e += t
}, ParticleSystem.prototype.Start = function () {}, ParticleSystem.prototype.Awake = function () {
    this.epm = this.gameObject.GetComponents(ExtraParticleModule);
    for (var t = 0; t < this.epm.length; t++) this.epm[t].SupportsFastParticleContainer() || (this.fastContainer = !1);
    this.fastContainer ? (this.pixiZOrderedContainer = new PIXI.ParticleContainer(500, {
        scale: !0,
        position: !0,
        rotation: !0,
        uvs: !1,
        alpha: !0
    }, 500), this.pixiZOrderedContainer.blendMode = this.blendMode) : this.pixiZOrderedContainer = new PIXI.Container
}, ParticleSystem.prototype.OnDisable = function () {}, ParticleSystem.prototype.Play = function (t) {
    this.state = ParticleSystemState.isPlaying, undefined !== t && !1 !== t && this.callOnChildren("Play")
}, ParticleSystem.prototype.callOnChildren = function (t) {
    for (var e = this.gameObject.GetComponentsInChildren(ParticleSystem, !0), i = e.length; i--;) e[i][t](!1)
}, ParticleSystem.prototype.Stop = function (t) {
    this.state = ParticleSystemState.isStopped, this.time = 0, undefined !== t && !1 !== t && this.callOnChildren("Stop")
}, ParticleSystem.prototype.Pause = function (t) {
    this.state = ParticleSystemState.isPaused, undefined !== t && !1 !== t && this.callOnChildren("Pause")
}, ParticleSystem.prototype.isPaused = function () {
    return this.state === ParticleSystemState.isPaused
}, ParticleSystem.prototype.isPlaying = function () {
    return this.state === ParticleSystemState.isPlaying
}, ParticleSystem.prototype.isStopped = function () {
    return this.state === ParticleSystemState.isStopped
}, ParticleSystem.prototype.spawnNewParticles = function (t) {
    var e = this.emissionRate * t + this._lest,
        i = Math.floor(e);
    this._lest = e - i;
    for (var n = this._burstCnt; n--;) {
        var o = this.bursts[n];
        if (!1 === o.emited && o.time >= this.time - this.startDelay - t && o.time <= this.time - this.startDelay + t) {
            o.emited = !0, i += o.cnt;
            break
        }
    }
    this.Emit(Math.min(i, Math.max(0, this.maxParticles - Math.max(0, this.particleCount))))
}, ParticleSystem.prototype.Update = function () {}, ParticleSystem.prototype.OnWillRenderObject = function () {
    if (null !== this.texturica) {
        var t = Time.deltaTime;
        this.state === ParticleSystemState.isPlaying && (this.time < this.startDelay && !this.prewarm || this.time - this.startDelay > this.duration && !this.loop || (this.time - this.startDelay > this.duration && (this.time -= this.duration + this.startDelay, this.resetBursts()), this.internalUpdate(t)))
    }
}, ParticleSystem.prototype.resetBursts = function () {
    for (var t = this._burstCnt; t--;) {
        this.bursts[t].emited = !1
    }
}, ParticleSystem.prototype.killParticle = function (t) {
    t instanceof Particle && (t.isDead = !0, this.pixiZOrderedContainer.removeChild(t.sprite), this._deadParticles.push(t), null != this.subEmitors && (null != this.subEmitors.SubEmitterDeath0 && (this.subEmitors.SubEmitterDeath0.Play(!1), this.subEmitors.SubEmitterDeath0.time = 0, this.subEmitors.SubEmitterDeath0.resetBursts()), null != this.subEmitors.SubEmitterDeath1 && (this.subEmitors.SubEmitterDeath1.Play(!1), this.subEmitors.SubEmitterDeath1.time = 0, this.subEmitors.SubEmitterDeath1.resetBursts())))
}, ParticleSystem.prototype.internalUpdate = function (t) {
    this.time += t, this.spawnNewParticles(t);
    var e = this.particles.length,
        i = Math.min(UHTScreen.width / UHTScreen.height, 1.44544);
    for (this.goodScale = i / 1.44544, this.pixiZOrderedContainer.scale.x = 1, this.pixiZOrderedContainer.scale.y = 1, "True" === this.ParticleSystemComponent.moveWithTransform && (this.pixiZOrderedContainer.position.x = this.gameObject.transform.position().x, this.pixiZOrderedContainer.position.y = -this.gameObject.transform.position().y), this.particleCount = 0; e--;) {
        var n = this.particles[e];
        if (!n.isDead) {
            if (this.particleCount++, n.Update(t), !n.isDead)
                for (var o = 0; o < this.epm.length; o++) this.epm[o].OnUpdateParticle(n);
            if (n.setupSpritePosition(this.gameObject), null != this.subEmitors)
                for (var s = ["SubEmitterBirth0", "SubEmitterBirth1", "SubEmitterCollision0", "SubEmitterCollision1", "SubEmitterDeath0", "SubEmitterDeath1"], a = s.length; a--;)
                    if (null != this.subEmitors[s[a]]) {
                        var r = this.subEmitors[s[a]];
                        r.gameObject.transform.position(n.position), r.Update(t)
                    }
        }
    }
}, ParticleSystem.prototype.GetParticles = function () {
    return this.particles
}, ParticleSystem.prototype.SetParticles = function (t, e) {
    this.particles = t.splice(1, e)
}, ParticleSystem.prototype.Clear = function (t) {
    for (var e = this.particles.length; e--;) this.particles[e].isDead || this.killParticle(this.particles[e]);
    undefined !== t && !0 === t && this.GetComponentsInChildren(ParticleSystem, !0).forEach((function (t) {
        t.Clear(!1)
    }))
}, ParticleSystem.prototype.setupParticleVelocity = function (t) {
    if ("False" == this.ParticleSystemComponent.ShapeModule.randomDirection) {
        var e;
        e = "True" === this.ParticleSystemComponent.moveWithTransform ? t.position : UHTMath.Vector3.sub(t.position, this.gameObject.transform.position()), t.velocityDirection.set(this.gameObject.transform.transformDirection(this._shape.getEmissionDirection(e)))
    } else {
        var i = new UHTMath.Vector3(2 * Math.random() - 1, 2 * Math.random() - 1, 2 * Math.random() - 1);
        i.normalize(), t.velocityDirection.set(i)
    }
    t.startSpeed = this.startSpeed, t._velocity.set(UHTMath.Vector3.scale(t.velocityDirection, this.startSpeed))
}, ParticleSystem.prototype.generateNewParticlePosition = function () {
    var t = this.gameObject.transform.transformVector(this._shape.generateNewPosition());
    return "True" === this.ParticleSystemComponent.moveWithTransform ? t : UHTMath.Vector3.add(this.gameObject.transform.position(), t)
}, ParticleSystem.prototype.generatePositionAndVelocityForParticle = function (t) {
    var e = this._shape.generateNewPosition(),
        i = this.gameObject.transform.transformVector(e);
    "True" !== this.ParticleSystemComponent.moveWithTransform && i.set(UHTMath.Vector3.add(this.gameObject.transform.position(), i)), t.position.set(i), "False" === this.ParticleSystemComponent.ShapeModule.randomDirection ? t.velocityDirection.set(this.gameObject.transform.transformDirection(this._shape.getEmissionDirection(e)).normalized()) : t.velocityDirection.set(this.gameObject.transform.transformDirection(this._shape.getEmissionDirection()).normalized()), t.startSpeed = this.startSpeed, t._velocity.set(UHTMath.Vector3.scale(t.velocityDirection, this.startSpeed))
}, ParticleSystem.prototype.Emit = function (t, e, i, n, o) {
    var s;
    if (!0 === this.enableEmission)
        if ("number" == typeof t && isFinite(t) && Math.floor(t) === t)
            for (var a = t; a--;) {
                var r = this.getNewParticle();
                this.Emit(r), r.lifetime = this.startLifetime, r.startLifetime = this.startLifetime, r.startSize = this.startSize, null === r._size && (r._size = new ParticleSystemEvaluator), this.ParticleSystemComponent.SizeModule.enabled !== s ? r._size.deserialize(this.ParticleSystemComponent.SizeModule.curve) : (r._size.scalar = 1, r._size.minMaxState = 0), this.ParticleSystemComponent.SizeBySpeedModule.enabled !== s && (null === r._sizeBySpeed && (r._sizeBySpeed = new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluator)), r.sizeBySpeed = this.ParticleSystemComponent.SizeBySpeedModule), this.ParticleSystemComponent.ColorBySpeedModule.enabled !== s && (null === r._colorBySpeed && (r._colorBySpeed = new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluatorColor)), r.colorBySpeed = this.ParticleSystemComponent.ColorBySpeedModule), this.ParticleSystemComponent.ClampVelocityModule.enabled !== s && (null == r.clampVelocity && (r.clampVelocity = new ClampVelocityModule(this)), r.clampVelocity.deserialize(this.ParticleSystemComponent.ClampVelocityModule)), "True" == this.ParticleSystemComponent.ForceModule.enabled && (null === r._forceX && (r._forceX = new ParticleSystemEvaluator), null === r._forceY && (r._forceY = new ParticleSystemEvaluator), null === r._forceZ && (r._forceZ = new ParticleSystemEvaluator), r._forceX.deserialize(this.ParticleSystemComponent.ForceModule.x), r._forceY.deserialize(this.ParticleSystemComponent.ForceModule.y), r._forceZ.deserialize(this.ParticleSystemComponent.ForceModule.z)), "True" == this.ParticleSystemComponent.VelocityModule.enabled && (null === r._velocityX && (r._velocityX = new ParticleSystemEvaluator), null === r._velocityY && (r._velocityY = new ParticleSystemEvaluator), null === r._velocityZ && (r._velocityZ = new ParticleSystemEvaluator), r._velocityX.deserialize(this.ParticleSystemComponent.VelocityModule.x), r._velocityY.deserialize(this.ParticleSystemComponent.VelocityModule.y), r._velocityZ.deserialize(this.ParticleSystemComponent.VelocityModule.z)), this._startRotation.ReRandomize(), this._startSize.ReRandomize(), r.rotation = this.startRotation, null != this.ParticleSystemComponent.RotationModule.enabled && (null === r._angularVelocity && (r._angularVelocity = new ParticleSystemEvaluator), r.angularVelocity = this.ParticleSystemComponent.RotationModule.curve), null != this.ParticleSystemComponent.RotationBySpeedModule.enabled && (null === this._angularVelocityBySpeed && (r._angularVelocityBySpeed = new ParticleSystemEvaluatorBySpeed(new ParticleSystemEvaluator)), r.angularVelocityBySpeed = this.ParticleSystemComponent.RotationBySpeedModule), r.startColor = this.startColor, null != this.ParticleSystemComponent.ColorModule.enabled && (r.color = this.ParticleSystemComponent.ColorModule.gradient), this.generatePositionAndVelocityForParticle(r)
            } else if (t instanceof Particle) {
                (r = t).isOld || (this.particles.push(r), r.isOld = !0), this.pixiZOrderedContainer.addChild(r.sprite), r.parent = this, r.Spawn(), null != this.subEmitors && (null != this.subEmitors.SubEmitterBirth0 && (this.subEmitors.SubEmitterBirth0.Play(!1), this.subEmitors.SubEmitterBirth0.time = 0, this.subEmitors.SubEmitterBirth0.resetBursts()), null != this.subEmitors.SubEmitterBirth1 && (this.subEmitors.SubEmitterBirth1.Play(!1), this.subEmitors.SubEmitterBirth1.time = 0, this.subEmitors.SubEmitterBirth1.resetBursts()))
            } else if (t instanceof UHTMath.Vector3) {
        r = this.getNewParticle();
        this.Emit(r), r.position.set(t), r._velocity.set(e), i !== s && (r.size = i), n !== s && (r.startLifetime = n), o !== s && (r.color = o)
    }
}, ParticleSystem.prototype.getNewParticle = function () {
    var t = this._deadParticles.pop();
    if (undefined === t) {
        (t = new Particle).sprite = null;
        for (var e = 0; e < this.epm.length; e++) this.epm[e].OnNewParticle(t);
        null == t.sprite && (t.sprite = new PIXI.Sprite(this.texturica)), this.fastContainer || (t.sprite.blendMode = this.blendMode), t.sprite.anchor.x = .5, t.sprite.anchor.y = .5
    }
    return t
}, ParticleSystem.prototype.removeDuplicateParticles = function () {
    this.uniqueArray(this.particles), this.uniqueArray(this._deadParticles)
}, ParticleSystem.prototype.uniqueArray = function (t) {
    var e = {};
    t.filter((function (t) {
        return !e.hasOwnProperty(t) && (e[t] = !0)
    }))
}, goog.provide("UHT.Input"), goog.require("UHTMath"), goog.require("UHTMath.Vector3");
var Input = {
    mousePosition: new UHTMath.Vector3(0, 0, 0),
    lastUsedInputDeviceIsTouch: !0,
    _mousePressed: !1,
    _mouseStateChangedThisFrame: !1,
    GetMouseButton: function (t) {
        return Input._mousePressed
    },
    GetMouseButtonDown: function (t) {
        return Input._mousePressed && Input._mouseStateChangedThisFrame
    },
    GetKeyDown: function (t, e) {
        return KeyboardManager.IsKeyDown(t, e)
    },
    GetKey: function (t) {
        return KeyboardManager.IsKey(t)
    }
};
goog.provide("UHT.ColliderInputManager"), goog.require("UHT.Input"), goog.require("UHTMath"), goog.require("UHTMath.Vector3");
var ColliderEvent = {
        ButtonDown: "ButtonDown",
        ButtonUp: "ButtonUp",
        MouseMove: "MouseMove"
    },
    MOUSE_EVENT_TYPE = {
        DOWN: 0,
        MOVE: 1,
        UP: 2
    };

function QueuedMouseEvent(t, e) {
    this.m_type = t, this.m_event = {
        type: e.type,
        data: {
            global: {
                x: e.data.global.x,
                y: e.data.global.y
            }
        }
    }
}

function ColliderInputManager() {
    this.pixiObject = null, this.mouseIsInScreen = !1, this.colliders = [], this.mousePosition = new UHTMath.Vector3(0, 0, 0), this._mousePressed = !1, this._mouseStateChanged = !1, this.handlers = {}, this.queuedEvents = []
}

function onCIMButtonDown(t) {
    globalColliderInputManager.queuedEvents.push(new QueuedMouseEvent(MOUSE_EVENT_TYPE.DOWN, t)), globalColliderInputManager.notifyListeners(ColliderEvent.ButtonDown, t), UHTEngine.RegisterUserInteraction()
}

function onCIMButtonUp(t) {
    globalColliderInputManager.queuedEvents.push(new QueuedMouseEvent(MOUSE_EVENT_TYPE.UP, t)), globalColliderInputManager.notifyListeners(ColliderEvent.ButtonUp, t), UHTEngine.RegisterUserInteraction()
}

function onCIMMouseMove(t) {
    globalColliderInputManager.queuedEvents.length > 0 && globalColliderInputManager.queuedEvents[globalColliderInputManager.queuedEvents.length - 1].m_type == MOUSE_EVENT_TYPE.MOVE && globalColliderInputManager.queuedEvents.splice(globalColliderInputManager.queuedEvents.length - 1, 1), globalColliderInputManager.queuedEvents.push(new QueuedMouseEvent(MOUSE_EVENT_TYPE.MOVE, t)), globalColliderInputManager.notifyListeners(ColliderEvent.MouseMove, t)
}

function Transform() {
    Component.call(this), this.parent = null, this.children = []
}

function createComponent(t, e) {
    var i = null;
    if (__component_ctor_just_called = !1, t instanceof Component) i = createComponent(t.__type_name_hack__, t.enabled);
    else {
        if (null == window[t]) return alert("Unknown component type: " + t + "!"), null;
        (i = new window[t])._model = globalImporter.getSerializedFields(t), i.enabled = e, Object.getPrototypeOf(i).__type_name_hack__ = t
    }
    return i
}

function createNestedObject(t) {
    var e = null;
    if ("string" == typeof t) {
        for (var i = t.split("."), n = window, o = 0; o < i.length; o++) {
            var s = n[i[o]];
            if (null == s) return null;
            o == i.length - 1 ? (e = new s, Object.getPrototypeOf(e).__type_name_hack__ = t) : n = s
        }
        return e
    }
    return t instanceof Array ? [] : e = createNestedObject(t.__type_name_hack__)
}

function instantiate(t) {
    return null == t ? null : (new ObjectInstantiator).doIt(t)
}

function ObjectInstantiator() {
    this.sourceGOArray = [], this.newGOArray = [], this.componentNewToOldMap = []
}

function copyComponentHelper(t, e, i, n) {
    if (t instanceof Array)
        for (var o = 0; o < t.length; o++) null == t[o] ? e.push(null) : isReference(t[o]) ? e.push(i[n](t[o])) : t[o] instanceof Object ? (e.push(createNestedObject(t[o])), copyComponentHelper(t[o], e[o], i, n)) : e.push(t[o]);
    else if (t instanceof Object) {
        var s = null;
        if (t instanceof Component) {
            if (null == t._model) return;
            s = Object.keys(t._model)
        } else s = Object.keys(t);
        for (var a = 0; a < s.length; a++) {
            var r = s[a];
            t[r];
            null == t[r] ? e[r] = null : isReference(t[r]) ? e[r] = i[n](t[r]) : t[r] instanceof Object ? null != t[r].__type_name_hack__ || t[r] instanceof Array ? (e[r] = createNestedObject(t[r]), copyComponentHelper(t[r], e[r], i, n)) : e[r] = JSON.parse(JSON.stringify(t[r])) : e[r] = t[r]
        }
    }
}

function computeActiveState(t) {
    var e = t.activeInHierarchy;
    if (null == t.transform.parent ? t.activeInHierarchy = t.activeSelf : t.activeInHierarchy = t.transform.parent.gameObject.activeInHierarchy && t.activeSelf, e != t.activeInHierarchy)
        for (var i = 0; i < t.transform.children.length; i++) {
            computeActiveState(t.transform.children[i].gameObject)
        }
}

function callComponentCallback(t, e, i) {
    if (0 != t.activeInHierarchy) {
        for (var n = 0; n < t.components.length; n++) {
            var o = t.components[n];
            0 == (o.flags & i) && (o.flags = o.flags | i, o[e]())
        }
        for (var s = 0; s < t.transform.children.length; s++) {
            callComponentCallback(t.transform.children[s].gameObject, e, i)
        }
    }
}

function callComponentOnEnable(t) {
    if (0 != t.activeInHierarchy) {
        for (var e = 0; e < t.components.length; e++) {
            var i = t.components[e];
            0 == (i.flags & ComponentStateFlags.onEnable_called) && callOnEnable(i)
        }
        for (var n = 0; n < t.transform.children.length; n++) {
            callComponentOnEnable(t.transform.children[n].gameObject)
        }
    }
}

function callComponentOnDisable(t) {
    if (!t.activeInHierarchy) {
        for (var e = 0; e < t.components.length; e++) {
            var i = t.components[e];
            0 == (i.flags & ComponentStateFlags.onDisable_called) && callOnDisable(i)
        }
        for (var n = 0; n < t.transform.children.length; n++) {
            callComponentOnDisable(t.transform.children[n].gameObject)
        }
    }
}

function callOnEnable(t) {
    t.OnEnable(), t.flags |= ComponentStateFlags.onEnable_called, t.flags &= ~ComponentStateFlags.onDisable_called, null != t.Update && globalRuntime.AddToUpdateList(t), null != t.LateUpdate && globalRuntime.AddToLateUpdateList(t), null != t.OnWillRenderObject && globalRuntime.AddToOnWillRenderList(t)
}

function callOnDisable(t) {
    t.OnDisable(), t.flags |= ComponentStateFlags.onDisable_called, t.flags &= ~ComponentStateFlags.onEnable_called, null != t.Update && globalRuntime.RemoveFromUpdateList(t), null != t.LateUpdate && globalRuntime.RemoveFromLateUpdateList(t), null != t.OnWillRenderObject && globalRuntime.RemoveFromOnWillRenderList(t)
}

function ResourceRequest(t) {
    this.url = t.url, this.postData = t.postData || null, this.method = this.postData ? "POST" : t.method || "GET", this.callbackArg = t.callbackArg || null, this.complete = t.complete || null, this.onprogress = t.onprogress || null, this.Done = !1, this.Data = "", this.statusCode = 0, this.progress = 0, this.progressLoaded = 0, this.error = null, this.forceNoCache = t.forceNoCache || !1, this.contentType = t.contentType || "application/x-www-form-urlencoded", this.overrideMimeType = t.overrideMimeType || null, t.delayed || this.SendRequest()
}

function SimpleWebRequest(t) {
    ResourceRequest.call(this, t)
}

function OfflineRequest(t) {
    SimpleWebRequest.call(this, t)
}

function UHTXDomainRequest() {
    this.id = "", this.method = "", this.url = "", this.postData = null, this.onreadystatechange = null, this.onprogress = null, this.readyState = 0, this.status = 0, this.responseText = ""
}
ColliderInputManager.prototype.initInput = function () {
    this.colliders = [], this.pixiObject = new PIXI.Sprite(null), this.pixiObject.x = 0, this.pixiObject.y = 0, this.pixiObject.width = UHTScreen.width, this.pixiObject.height = UHTScreen.height, this.pixiObject.alpha = 0, this.pixiObject.worldAlpha = 0, this.pixiObject.interactive = !0, this.pixiObject.on("mousedown", onCIMButtonDown), this.pixiObject.on("touchstart", onCIMButtonDown), this.pixiObject.on("mouseup", onCIMButtonUp), this.pixiObject.on("mouseupoutside", onCIMButtonUp), this.pixiObject.on("touchend", onCIMButtonUp), this.pixiObject.on("touchendoutside", onCIMButtonUp), this.pixiObject.on("mousemove", onCIMMouseMove), this.pixiObject.on("touchmove", onCIMMouseMove)
}, ColliderInputManager.prototype.HandleNextQueuedEvent = function () {
    if (0 != this.queuedEvents.length) {
        var t = this.queuedEvents[0];
        switch (this.queuedEvents.splice(0, 1), t.m_type) {
            case MOUSE_EVENT_TYPE.DOWN:
                0 == globalColliderInputManager._mousePressed && (globalColliderInputManager._mouseStateChanged = !0), globalColliderInputManager._mousePressed = !0, globalColliderInputManager.mousePosition = new UHTMath.Vector3(t.m_event.data.global.x, t.m_event.data.global.y, 0), Input.lastUsedInputDeviceIsTouch = -1 != t.m_event.type.search("touch") || -1 != t.m_event.type.search("tap");
                break;
            case MOUSE_EVENT_TYPE.MOVE:
                globalColliderInputManager.mousePosition = new UHTMath.Vector3(t.m_event.data.global.x, t.m_event.data.global.y, 0), Input.lastUsedInputDeviceIsTouch = -1 != t.m_event.type.search("touch") || -1 != t.m_event.type.search("tap");
                break;
            case MOUSE_EVENT_TYPE.UP:
                globalColliderInputManager._mousePressed = !1, globalColliderInputManager.mousePosition = new UHTMath.Vector3(t.m_event.data.global.x, t.m_event.data.global.y, 0), Input.lastUsedInputDeviceIsTouch = -1 != t.m_event.type.search("touch") || -1 != t.m_event.type.search("tap");
                break
        }
    }
}, ColliderInputManager.prototype.notifyListeners = function (t, e) {
    if (null != this.handlers[t])
        for (var i = 0; i < this.handlers[t].length; ++i) this.handlers[t][i].call(e)
}, ColliderInputManager.prototype.updateInput = function () {
    this.HandleNextQueuedEvent(), this.pixiObject.width = UHTScreen.width, this.pixiObject.height = UHTScreen.height, Input.mousePosition = this.mousePosition, Input._mousePressed = this._mousePressed, Input._mouseStateChangedThisFrame = this._mouseStateChanged, this._mouseStateChanged = !1
}, ColliderInputManager.prototype.registerCollider = function (t) {
    this.colliders.push(t)
}, ColliderInputManager.prototype.getHoveredCollider = function (t, e) {
    for (var i = Number.MAX_VALUE, n = null, o = 0; o < this.colliders.length; o++) {
        var s = this.colliders[o];
        if (0 != s.enabled && 0 != s.gameObject.activeInHierarchy)
            if (0 != (1 << s.gameObject.layer & e.mask)) {
                var a = s.GetTransformedCenterAndSize(),
                    r = a.center,
                    l = a.size;
                0 == s.isSphere && (l = UHTMath.Vector3.scale(l, .5));
                var u = Math.abs(l.x),
                    h = Math.abs(l.y),
                    c = Math.abs(l.z),
                    p = r.z,
                    d = !1;
                if (s.isSphere) r.z = t.z, d = UHTMath.Vector3.distance(t, r) <= u;
                else if (Math.abs(s.transform._internal_get_rotation()._internalEulerAngles.z) < .001) d = t.x <= r.x + u && t.x >= r.x - u && t.y <= r.y + h && t.y >= r.y - h;
                else {
                    var m = s.transform.inverseTransformPoint(t);
                    d = m.x <= s.center.x + .5 * s.size.x && m.x >= s.center.x - .5 * s.size.x && m.y <= s.center.y + .5 * s.size.y && m.y >= s.center.y - .5 * s.size.y
                }
                if (d) {
                    var S = p - c;
                    S < i && (i = S, n = s)
                }
            }
    }
    return n
}, ColliderInputManager.prototype.addEventHandler = function (t, e) {
    null == this.handlers[t] && (this.handlers[t] = []), this.handlers[t].push(e)
}, ColliderInputManager.prototype.removeEventHandler = function (t, e) {
    if (null != this.handlers[t]) {
        for (var i = -1, n = 0; n < this.handlers[t].length; ++n)
            if (this.handlers[t][n] == e) {
                i = n;
                break
            } i >= 0 && this.handlers[t].splice(i, 1)
    }
}, goog.provide("UHTMath.Quaternion"), goog.require("UHTMath"), goog.require("UHTMath.Vector3"), UHTMath.Quaternion = function (t, e, i, n) {
    this.set(t, e, i, n), this._internalEulerAngles = new UHTMath.Vector3
}, UHTMath.Quaternion.euler = function (t, e, i) {
    if (void 0 === e) {
        if (void 0 === t.x) return;
        e = t.y, i = t.z, t = t.x
    }
    var n = new UHTMath.Quaternion,
        o = UHTMath.toRad(t / 2),
        s = UHTMath.toRad(e / 2),
        a = UHTMath.toRad(i / 2),
        r = Math.cos(o),
        l = Math.cos(s),
        u = Math.cos(a),
        h = Math.sin(o),
        c = Math.sin(s),
        p = Math.sin(a);
    return n.x = h * l * u + r * c * p, n.y = r * c * u - h * l * p, n.z = r * l * p - h * c * u, n.w = r * l * u + h * c * p, n.eulerAnglesAreDirty = !0, n
}, UHTMath.Quaternion.angleAxis = function (t, e) {
    var i = UHTMath.toRad(t) / 2,
        n = Math.sin(i);
    return new UHTMath.Quaternion(e.x * n, e.y * n, e.z * n, Math.cos(i))
}, UHTMath.Quaternion.dot = function (t, e) {
    return t.x * e.x + t.y * e.y + t.z * e.z + t.w * e.w
}, UHTMath.Quaternion.fromToRotation = function (t, e) {
    var i = new UHTMath.Quaternion;
    return i.setFromToRotation(t, e), i
}, UHTMath.Quaternion.inverse = function (t) {
    return UHTMath.Quaternion.conjugate(t).normalize()
}, UHTMath.Quaternion.conjugate = function (t) {
    var e = new UHTMath.Quaternion;
    return e.set(-t.x, -t.y, -t.z, t.w), e
}, UHTMath.Quaternion.lerp = function (t, e, i) {
    var n = UHTMath.clamp(i, 0, 1),
        o = new UHTMath.Quaternion(t.x + (e.x - t.x) * n, t.y + (e.y - t.y) * n, t.z + (e.z - t.z) * n, t.w + (e.w - t.w) * n);
    return o.normalize(), o
}, UHTMath.Quaternion.slerp = function (t, e, i) {
    var n = new UHTMath.Quaternion;
    if (i <= 0) return n.set(t), n;
    if (i >= 1) return n.set(e), n;
    var o = t.x,
        s = t.y,
        a = t.z,
        r = t.w,
        l = UHTMath.Quaternion.dot(t, e),
        u = new UHTMath.Quaternion;
    if (l < 0 ? (u.set(-e.x, -e.y, -e.z, -e.w), l = -l) : u.set(e), l >= 1) return n.set(o, s, a, r), n;
    var h = Math.acos(l),
        c = Math.sqrt(1 - l * l);
    if (Math.abs(c) < .001) return n.set(.5 * (o + u.x), .5 * (s + u.y), .5 * (a + u.z), .5 * (r + u.w)), n;
    var p = Math.sin((1 - i) * h) / c,
        d = Math.sin(i * h) / c;
    return n.set(o * p + u.x * d, s * p + u.y * d, a * p + u.z * d, r * p + u.w * d), n
}, UHTMath.Quaternion.lookRotation = function (t, e) {
    var i = new UHTMath.Quaternion;
    return i.setLookRotation(t, e), i.normalize(), i
}, UHTMath.Quaternion.multiply = function (t, e) {
    return new UHTMath.Quaternion(t.w * e.x + t.x * e.w + t.y * e.z - t.z * e.y, t.w * e.y + t.y * e.w + t.z * e.x - t.x * e.z, t.w * e.z + t.z * e.w + t.x * e.y - t.y * e.x, t.w * e.w - t.x * e.x - t.y * e.y - t.z * e.z).normalize()
}, UHTMath.Quaternion.multiplyVec = function (t, e) {
    var i = e.x,
        n = e.y,
        o = e.z,
        s = t.x,
        a = t.y,
        r = t.z,
        l = t.w,
        u = l * i + a * o - r * n,
        h = l * n + r * i - s * o,
        c = l * o + s * n - a * i,
        p = -s * i - a * n - r * o;
    return new UHTMath.Vector3(u * l + p * -s + h * -r - c * -a, h * l + p * -a + c * -s - u * -r, c * l + p * -r + u * -a - h * -s)
}, UHTMath.Quaternion.prototype = {
    constructor: UHTMath.Quaternion,
    set: function (t, e, i, n) {
        void 0 === e && (void 0 === t ? (t = 0, e = 0, i = 0, n = 1) : (e = t.y || 0, i = t.z || 0, n = t.w || 0, t = t.x || 0)), this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = n || 0, this.eulerAnglesAreDirty = !0
    },
    equals: function (t, e, i, n) {
        var o = new UHTMath.Quaternion(t, e, i, n);
        return Math.abs(this.x - o.x) < UHTMath.numberError && Math.abs(this.y - o.y) < UHTMath.numberError && Math.abs(this.z - o.z) < UHTMath.numberError && Math.abs(this.w - o.w) < UHTMath.numberError
    },
    eulerAngles: function () {
        var t = 180 / UHTMath.PI;
        return UHTMath.Vector3.scale(this.eulerAnglesRad(), t)
    },
    eulerAnglesRad: function () {
        return this.eulerAnglesAreDirty && (this._internalEulerAngles.x = Math.atan2(2 * (this.w * this.x + this.y * this.z), 1 - 2 * (this.x * this.x + this.y * this.y)), this._internalEulerAngles.y = Math.asin(2 * (this.w * this.y - this.x * this.y)), this._internalEulerAngles.z = Math.atan2(2 * (this.w * this.z + this.x * this.y), 1 - 2 * (this.y * this.y + this.z * this.z)), this.eulerAnglesAreDirty = !1), new UHTMath.Vector3(this._internalEulerAngles)
    },
    length: function () {
        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
    },
    setFromToRotation: function (t, e) {
        var i = new UHTMath.Vector3,
            n = UHTMath.Vector3.dot(t, e) + 1;
        return n < UHTMath.numberError ? (n = 0, Math.abs(t.x) > Math.abs(t.z) ? i.set(-t.y, t.x, 0) : i.set(0, -t.z, t.y)) : i.set(UHTMath.Vector3.cross(t, e)), this.x = i.x, this.y = i.y, this.z = i.z, this.w = n, this.normalize(), this.eulerAnglesAreDirty = !0, this
    },
    setLookRotation: function (t, e) {
        var i = t.normalized();
        void 0 === e && (e = UHTMath.Vector3.up);
        var n = new UHTMath.Vector3;
        UHTMath.Vector3.orthoNormalize(e, i, n), this.w = .5 * Math.sqrt(1 + n.x + e.y + i.z);
        var o = .25 / this.w;
        return this.x = (i.y - e.z) * o, this.y = (n.z - i.x) * o, this.z = (e.x - n.y) * o, this.eulerAnglesAreDirty = !0, this
    },
    toAngleAxis: function (t, e) {
        var i = this.normalize();
        UHTMath.toDeg(2 * Math.acos(i.w));
        var n = 1 / Math.sqrt(1 - i.w * i.w);
        e.set(i.x * n, i.y * n, i.z * n)
    },
    normalize: function () {
        var t = this.length();
        return 0 === t ? (this.x = 0, this.y = 0, this.z = 0, this.w = 1) : (t = 1 / t, this.x *= t, this.y *= t, this.z *= t, this.w *= t), this.eulerAnglesAreDirty = !0, this
    },
    toString: function () {
        return JSON.stringify(this)
    }
}, UHTMath.Quaternion.identity = new UHTMath.Quaternion, goog.require("UHT.Component"), goog.provide("UHT.Transform"), goog.require("UHTMath"), goog.require("UHTMath.Vector3"), goog.require("UHTMath.Quaternion"), Transform.prototype = Object.create(Component.prototype), Transform.prototype.constructor = Transform, Transform.prototype.canReceiveMessage = !1, Transform._positionDirtyFlag = 2, Transform._rotationDirtyFlag = 4, Transform._scaleDirtyFlag = 8, Transform._PRSDirtyFlag = Transform._positionDirtyFlag | Transform._rotationDirtyFlag | Transform._scaleDirtyFlag, Transform._DirtyFlagSprite = 1, Transform._DirtyFlagLabel = 2, Transform._DirtyFlagCollider = 4, Transform._DirtyFlagCamera = 8, Transform._DirtyFlagPanel = 16, Transform._DirtyFlagPerspective = 32, Transform._DirtyFlagSpine = 64, Transform.prototype.SetParent = function (t, e) {
    if (this.parent !== t) {
        if (null != this.parent)
            for (var i = this.parent.children.length; i--;)
                if (this.parent.children[i] == this) {
                    this.parent.children.splice(i, 1);
                    break
                } var n, o, s;
        e && (n = this.position(), o = this.rotation(), s = this.scale()), this.parent = t, null != this.parent && (this.parent.children.push(this), this.gameObject.internalUpdateActive(!0, !0)), this.addDirtyFlag(Transform._PRSDirtyFlag), e && (this.scale(s), this.rotation(o), this.position(n))
    }
}, Transform.prototype.childCount = function () {
    return this.children.length
}, Transform.prototype.Find = function (t) {
    if ("" == t) return this;
    for (var e = t.split("/"), i = e.shift(), n = null, o = this.children.length; o--;)
        if (this.children[o].gameObject.name === i) {
            n = this.children[o];
            break
        } return null != n && e.length > 0 ? n.Find(e.join("/")) : n
}, Transform.prototype.IsDirtyUserFlag = function (t) {
    return null == this._dirtyUserFlags || 0 != (this._dirtyUserFlags & t)
}, Transform.prototype.ClearDirtyUserFlag = function (t) {
    null == this._dirtyUserFlags && (this._dirtyUserFlags = 65535), this._dirtyUserFlags &= ~t
}, Transform.prototype.SetAllDirtyUserFlags = function () {
    null != this._dirtyUserFlags && (this._dirtyUserFlags = 65535)
}, Transform.prototype.addDirtyFlag = function (t) {
    null != this._dirty && (this._dirty & t) != t && (this._dirty |= t, this.SetAllDirtyUserFlags(), this.markChildrenDirty(t | Transform._positionDirtyFlag))
}, Transform.prototype.removeDirtyFlag = function (t) {
    null == this._dirty && (this._dirty = Transform._PRSDirtyFlag), this._dirty &= ~t
}, Transform.prototype.hasDirtyFlag = function (t) {
    return null == this._dirty || 0 != (this._dirty & t)
}, Transform.prototype.markChildrenDirty = function (t) {
    for (var e = this.children.length; e--;) this.children[e].addDirtyFlag(t)
}, Transform.prototype.deserialize = function (t, e, i) {
    var n, o, s;
    if (this.parent = e[i](t.parent), this.children = e[i](t.children), null != t.psr) "d" == t.psr ? (n = UHTMath.Vector3.zero, o = UHTMath.Vector3.one, s = UHTMath.Quaternion.identity) : "s" == t.psr && (n = UHTMath.Vector3.zero, o = new UHTMath.Vector3(99.89999, 99.89999, 99.89999), s = UHTMath.Quaternion.identity);
    else {
        if (null != t.p) {
            var a = t.p.split(",");
            3 == a.length && (n = new UHTMath.Vector3("" != a[0] ? parseFloat(a[0]) : 0, "" != a[1] ? parseFloat(a[1]) : 0, "" != a[2] ? parseFloat(a[2]) : 0))
        } else n = UHTMath.Vector3.zero;
        if (null != t.s)
            if ("ssd" == t.s) o = new UHTMath.Vector3(99.89999, 99.89999, 99.89999);
            else {
                var r = t.s.split(",");
                if (1 == r.length) {
                    var l = parseFloat(r[0]);
                    o = new UHTMath.Vector3(l, l, l)
                } else 3 == r.length && (o = new UHTMath.Vector3("" != r[0] ? parseFloat(r[0]) : 1, "" != r[1] ? parseFloat(r[1]) : 1, "" != r[2] ? parseFloat(r[2]) : 1))
            }
        else o = UHTMath.Vector3.one;
        if (null != t.r) {
            var u = t.r.split(",");
            4 == u.length && (s = new UHTMath.Quaternion("" != u[0] ? parseFloat(u[0]) : 0, "" != u[1] ? parseFloat(u[1]) : 0, "" != u[2] ? parseFloat(u[2]) : 0, "" != u[3] ? parseFloat(u[3]) : 1))
        } else s = UHTMath.Quaternion.identity
    }
    this._LocalPosition = n, this._LocalScale = o, this._LocalRotation = s
}, Transform.prototype.copyFromSource = function (t, e, i) {
    this.parent = e[i](t.parent), this.children = e[i](t.children);
    var n = t._LocalPosition,
        o = t._LocalScale,
        s = t._LocalRotation;
    n == UHTMath.Vector3.zero ? this._LocalPosition = n : this._LocalPosition = new UHTMath.Vector3(n.x, n.y, n.z), o == UHTMath.Vector3.one ? this._LocalScale = o : this._LocalScale = new UHTMath.Vector3(o.x, o.y, o.z), s == UHTMath.Quaternion.identity ? this._LocalRotation = s : this._LocalRotation = new UHTMath.Quaternion(s.x, s.y, s.z, s.w)
}, Transform.prototype.hasChanged = function () {
    return 0 !== this._dirty
}, Transform.prototype._internal_localPosition = function (t, e, i) {
    if (void 0 !== t) {
        var n = new UHTMath.Vector3(t, e, i);
        this._LocalPosition.equals(n) || (this._LocalPosition === UHTMath.Vector3.zero && (this._LocalPosition = new UHTMath.Vector3), this._LocalPosition.set(n), this.addDirtyFlag(Transform._positionDirtyFlag))
    }
    return this._LocalPosition
}, Transform.prototype.localPosition = function (t, e, i) {
    return new UHTMath.Vector3(this._internal_localPosition(t, e, i))
}, Transform.prototype.fastSetLocalPosition = function (t, e, i) {
    Math.abs(this._LocalPosition.x - t) < UHTMath.numberError && Math.abs(this._LocalPosition.y - e) < UHTMath.numberError && Math.abs(this._LocalPosition.z - i) < UHTMath.numberError || (this._LocalPosition === UHTMath.Vector3.zero ? this.localPosition(t, e, i) : (this._LocalPosition.x = t, this._LocalPosition.y = e, this._LocalPosition.z = i), this.addDirtyFlag(Transform._positionDirtyFlag))
}, Transform.prototype.position = function (t, e, i) {
    return void 0 !== t && (null === this.parent || void 0 === this.parent ? this._internal_localPosition(t, e, i) : this._internal_localPosition(this.parent.inverseTransformPoint(t, e, i))), new UHTMath.Vector3(this._internal_get_position())
}, Transform.prototype._internal_get_position = function () {
    if (this.hasDirtyFlag(Transform._positionDirtyFlag)) {
        null == this._position && (this._position = new UHTMath.Vector3);
        var t = UHTMath.Quaternion.multiplyVec(this._getParentRotation(), UHTMath.Vector3.scale(this._LocalPosition, this._getParentScale()));
        this._position.set(UHTMath.Vector3.add(t, this._getParentPosition())), this.removeDirtyFlag(Transform._positionDirtyFlag)
    }
    return this._position
}, Transform.prototype._getParentPosition = function () {
    return this.parent && void 0 !== this.parent ? this.parent._internal_get_position() : new UHTMath.Vector3
}, Transform.prototype._internal_localScale = function (t, e, i) {
    if (void 0 !== t) {
        var n = new UHTMath.Vector3(t, e, i);
        this._LocalScale.equals(n) || (this._LocalScale === UHTMath.Vector3.one && (this._LocalScale = new UHTMath.Vector3), this._LocalScale.set(n), this.addDirtyFlag(Transform._scaleDirtyFlag))
    }
    return this._LocalScale
}, Transform.prototype.localScale = function (t, e, i) {
    return new UHTMath.Vector3(this._internal_localScale(t, e, i))
}, Transform.prototype.fastSetLocalScale = function (t, e, i) {
    Math.abs(this._LocalScale.x - t) < UHTMath.numberError && Math.abs(this._LocalScale.y - e) < UHTMath.numberError && Math.abs(this._LocalScale.z - i) < UHTMath.numberError || (this._LocalScale === UHTMath.Vector3.one ? this.localScale(t, e, i) : (this._LocalScale.x = t, this._LocalScale.y = e, this._LocalScale.z = i), this.addDirtyFlag(Transform._scaleDirtyFlag))
}, Transform.prototype.scale = function (t, e, i) {
    if (void 0 !== t) {
        if (null === this.parent || void 0 === this.parent) this._internal_localScale(t, e, i);
        else {
            new UHTMath.Vector3(t, e, i), this._getParentScale();
            this._internal_localScale(this.parent.inverseTransformVector(t, e, i))
        }
        return this.scale()
    }
    return new UHTMath.Vector3(this._internal_get_scale())
}, Transform.prototype._internal_get_scale = function () {
    return this.hasDirtyFlag(Transform._scaleDirtyFlag) && (null == this._scale && (this._scale = new UHTMath.Vector3(1, 1, 1)), this._scale.set(UHTMath.Vector3.scale(this._LocalScale, this._getParentScale())), this.removeDirtyFlag(Transform._scaleDirtyFlag)), this._scale
}, Transform.prototype._getParentScale = function () {
    return this.parent && void 0 !== this.parent ? this.parent._internal_get_scale() : new UHTMath.Vector3(1, 1, 1)
}, Transform.prototype._internal_localRotation = function (t, e, i, n) {
    if (void 0 !== t) {
        var o = new UHTMath.Quaternion(t, e, i, n);
        this._LocalRotation.equals(o) || (this._LocalRotation == UHTMath.Quaternion.identity && (this._LocalRotation = new UHTMath.Quaternion), this._LocalRotation.set(o), this.addDirtyFlag(Transform._rotationDirtyFlag))
    }
    return this._LocalRotation
}, Transform.prototype.localRotation = function (t, e, i, n) {
    return new UHTMath.Quaternion(this._internal_localRotation(t, e, i, n))
}, Transform.prototype.fastSetLocalRotation = function (t, e, i, n) {
    Math.abs(this._LocalRotation.x - t) < UHTMath.numberError && Math.abs(this._LocalRotation.y - e) < UHTMath.numberError && Math.abs(this._LocalRotation.z - i) < UHTMath.numberError && Math.abs(this._LocalRotation.w - n) < UHTMath.numberError || (this._LocalRotation === UHTMath.Quaternion.identity ? this.localRotation(t, e, i, n) : (this._LocalRotation.x = t, this._LocalRotation.y = e, this._LocalRotation.z = i, this._LocalRotation.w = n), this._LocalRotation.eulerAnglesAreDirty = !0, this.addDirtyFlag(Transform._rotationDirtyFlag))
}, Transform.prototype.rotation = function (t, e, i, n) {
    if (void 0 !== t)
        if (null === this.parent || void 0 === this.parent) this._internal_localRotation(t, e, i, n);
        else {
            var o = new UHTMath.Quaternion(t, e, i, n),
                s = UHTMath.Quaternion.inverse(this.parent._internal_get_rotation());
            this._internal_localRotation(UHTMath.Quaternion.multiply(s, o))
        } return new UHTMath.Quaternion(this._internal_get_rotation())
}, Transform.prototype._internal_get_rotation = function () {
    if (this.hasDirtyFlag(Transform._rotationDirtyFlag)) {
        null == this._rotation && (this._rotation = new UHTMath.Quaternion);
        var t = !1;
        null !== this.parent && void 0 !== this.parent && (t = this.parent.scale().x * this.parent.scale().y < 0), t ? this._rotation.set(UHTMath.Quaternion.multiply(this._getParentRotation(), UHTMath.Quaternion.inverse(this._LocalRotation))) : this._rotation.set(UHTMath.Quaternion.multiply(this._getParentRotation(), this._LocalRotation)), this.removeDirtyFlag(Transform._rotationDirtyFlag)
    }
    return this._rotation
}, Transform.prototype._getParentRotation = function () {
    return this.parent && void 0 !== this.parent ? this.parent._internal_get_rotation() : new UHTMath.Quaternion
}, Transform.prototype.eulerAngles = function () {
    return this._internal_get_rotation().eulerAngles()
}, Transform.prototype.transformDirection = function (t, e, i) {
    var n = new UHTMath.Vector3(t, e, i);
    return UHTMath.Quaternion.multiplyVec(this.rotation(), n)
}, Transform.prototype.inverseTransformDirection = function (t, e, i) {
    var n = new UHTMath.Vector3(t, e, i),
        o = UHTMath.Quaternion.inverse(this.rotation());
    return UHTMath.Quaternion.multiplyVec(o, n)
}, Transform.prototype.transformVector = function (t, e, i) {
    var n = new UHTMath.Vector3(t, e, i);
    return UHTMath.Quaternion.multiplyVec(this.rotation(), UHTMath.Vector3.scale(n, this._internal_get_scale()))
}, Transform.prototype.inverseTransformVector = function (t, e, i) {
    var n = new UHTMath.Vector3(t, e, i),
        o = this.inverseTransformDirection(n),
        s = this._internal_get_scale(),
        a = new UHTMath.Vector3(1 / s.x, 1 / s.y, 1 / s.z);
    return UHTMath.Vector3.scale(o, a)
}, Transform.prototype.transformPoint = function (t, e, i) {
    var n = new UHTMath.Vector3(t, e, i),
        o = UHTMath.Quaternion.multiplyVec(this.rotation(), UHTMath.Vector3.scale(n, this._internal_get_scale()));
    return UHTMath.Vector3.add(o, this.position())
}, Transform.prototype.inverseTransformPoint = function (t, e, i) {
    var n = new UHTMath.Vector3(t, e, i),
        o = UHTMath.Vector3.sub(n, this.position());
    return this.inverseTransformVector(o)
}, Transform.prototype.forward = function () {
    return this.transformDirection(UHTMath.Vector3.forward)
}, Transform.prototype.right = function () {
    return this.transformDirection(UHTMath.Vector3.right)
}, Transform.prototype.up = function () {
    return this.transformDirection(UHTMath.Vector3.up)
}, Transform.prototype.translate = function (t) {
    this._LocalPosition.add(t)
}, Transform.prototype.localEulerAngles = function () {
    return this._internal_localRotation().eulerAngles()
}, Transform.prototype.LookAt = function (t, e) {
    var i = this.position(),
        n = new UHTMath.Vector3(t instanceof UHTMath.Vector3 ? t : t.position());
    this.forward().normalize();
    var o = UHTMath.Vector3.sub(n, i);
    o.normalize(), this.rotation(UHTMath.Quaternion.lookRotation(o, e))
}, Transform.prototype._dangerous_get_position = function () {
    return this.hasDirtyFlag(Transform._positionDirtyFlag) ? this._internal_get_position() : this._position
}, Transform.prototype._dangerous_get_localPosition = function () {
    return this._LocalPosition
}, Transform.prototype._dangerous_get_rotation = function () {
    return this.hasDirtyFlag(Transform._rotationDirtyFlag) ? this._internal_get_rotation() : this._rotation
}, Transform.prototype._dangerous_get_localRotation = function () {
    return this._LocalRotation
}, Transform.prototype._dangerous_get_scale = function () {
    return this.hasDirtyFlag(Transform._scaleDirtyFlag) ? this._internal_get_scale() : this._scale
}, Transform.prototype._dangerous_get_localScale = function () {
    return this._LocalScale
}, goog.require("UHT.Transform"), ObjectInstantiator.prototype.doIt = function (t) {
    this.getAllGameObjectsAsArray(t);
    for (var e = 0; e < this.sourceGOArray.length; e++) {
        var i = this.sourceGOArray[e],
            n = new GameObject;
        n.internalCopyFromOther(i);
        for (var o = 0; o < i.components.length; o++) {
            var s = i.components[o],
                a = createComponent(s);
            a.gameObject = n, n.components.push(a), n.internalCacheComponent(a), this.componentNewToOldMap.push({
                newComp: a,
                oldComp: s
            })
        }
        for (var r = 0; r < n.components.length; r++) n.components[r].transform = n.transform;
        this.newGOArray.push(n)
    }
    for (var l = 0; l < this.componentNewToOldMap.length; l++) this.componentNewToOldMap[l].newComp.copyFromSource(this.componentNewToOldMap[l].oldComp, this, "resolveReference");
    return this.newGOArray[0].name = this.newGOArray[0].name + "(Clone)", this.newGOArray[0].transform.parent = null, this.newGOArray[0].internalUpdateActive(!0, !1), this.newGOArray[0]
}, ObjectInstantiator.prototype.resolveReference = function (t) {
    if (Array.isArray(t)) {
        for (var e = new Array(t.length), i = 0; i < t.length; i++) e[i] = this.resolveReference(t[i]);
        return e
    }
    if (t instanceof GameObject) {
        for (var n = 0; n < this.sourceGOArray.length; n++)
            if (t == this.sourceGOArray[n]) return this.newGOArray[n]
    } else if (t instanceof Component)
        for (var o = 0; o < this.componentNewToOldMap.length; o++)
            if (t == this.componentNewToOldMap[o].oldComp) return this.componentNewToOldMap[o].newComp;
    return t
}, ObjectInstantiator.prototype.getAllGameObjectsAsArray = function (t) {
    this.sourceGOArray.push(t);
    for (var e = 0; e < t.transform.children.length; e++) this.getAllGameObjectsAsArray(t.transform.children[e].gameObject)
}, goog.provide("UHT.ResourceRequest"), ResourceRequest.prototype.GetHttpRequest = function () {
    return new XMLHttpRequest
}, ResourceRequest.prototype.SendRequest = function () {
    var t = this.GetHttpRequest();
    t.open(this.method, this.url, !0), this.postData && t.setRequestHeader("Content-type", this.contentType), null != this.overrideMimeType && t.overrideMimeType(this.overrideMimeType), this.forceNoCache && t.setRequestHeader("Cache-Control", "no-cache");
    var e = this;
    t.onreadystatechange = function () {
        4 == t.readyState && (e.statusCode = t.status, e.Data = t.responseText, e.Done = !0, e.progress = 1, 200 != e.statusCode && (e.error = "ERROR_" + t.statusText, window.currentDatapathRetries >= window.retriesBeforeAlternativeDatapath ? (globalGamePath = globalGamePath.replace(UHT_CONFIG.GAME_URL, UHT_CONFIG.GAME_URL_ALTERNATIVE), globalClientPath = globalClientPath.replace(UHT_CONFIG.GAME_URL, UHT_CONFIG.GAME_URL_ALTERNATIVE), UHT_CONFIG.GAME_URL = UHT_CONFIG.GAME_URL_ALTERNATIVE) : window.currentDatapathRetries++), null != e.complete && e.complete.call(e, e.callbackArg))
    }, t.onprogress = function (t) {
        e.progress = t.loaded / t.total, e.progressLoaded = t.loaded, null != e.onprogress && e.onprogress.call(t, e, e.callbackArg)
    }, t.send(this.postData)
}, goog.provide("UHT.SimpleWebRequest"), goog.require("UHT.ResourceRequest"), SimpleWebRequest.prototype = Object.create(ResourceRequest.prototype), SimpleWebRequest.prototype.constructor = SimpleWebRequest, SimpleWebRequest.prototype.GetHttpRequest = function () {
    return UHT_LOCAL && UHT_ONLINE ? new UHTXDomainRequest : new XMLHttpRequest
}, goog.require("UHT.SimpleWebRequest"), goog.provide("UHT.OfflineRequest"), OfflineRequest.prototype = Object.create(SimpleWebRequest.prototype), OfflineRequest.prototype.constructor = OfflineRequest, OfflineRequest.prototype.SendRequest = function () {
    RequestProvider.Instance.OfflineRequest(this.url, this.postData, this)
}, OfflineRequest.prototype.OnRequestDone = function (t, e) {
    this.statusCode = e, this.Data = t, this.Done = !0, this.progress = 1, null != this.complete && this.complete.call(this, this.callbackArg)
}, UHTXDomainRequest.prototype.open = function (t, e, i) {
    this.method = t, this.url = e
}, UHTXDomainRequest.prototype.send = function (t) {
    this.postData = t, XDomainRequestProvider.Send(this)
}, UHTXDomainRequest.prototype.setRequestHeader = function (t, e) {};
var XDomainRequestProvider = {
    initialized: !1,
    windows: {},
    requests: {},
    GetOrigin: function (t) {
        if (/^http/.test(t)) {
            var e = t.split("/");
            return e[0] + "//" + e[2]
        }
        return location.host
    },
    Send: function (t) {
        var e = XDomainRequestProvider;
        e.initialized || e.Init();
        var i = e.GetOrigin(t.url),
            n = e.windows[i],
            o = !1;
        if (void 0 === n && (e.LoadWindow(i), o = !0), null === n && (o = !0), o) setTimeout((function () {
            e.Send(t)
        }), 200);
        else {
            var s = "r" + (new Date).getTime();
            t.id = s, e.requests[s] = t, /index\.jsp/.test(t.url) ? e.OnCookieRequest(t) : /login\.do/.test(t.url) ? e.OnLoginRequest(t) : n.postMessage(JSON.stringify(t), i)
        }
    },
    OnMessage: function (t) {
        var e = XDomainRequestProvider;
        if (null == e.windows[t.origin]) e.windows[t.origin] = t.source;
        else {
            var i = JSON.parse(t.data),
                n = e.requests[i.id];
            null != n && null != n.onreadystatechange && (n.readyState = Number(i.readyState), n.status = Number(i.status), n.responseText = i.responseText, n.onreadystatechange())
        }
    },
    OnCookieRequest: function (t) {
        t.readyState = 4, t.status = 200, t.responseText = "", null != t.onreadystatechange && t.onreadystatechange()
    },
    OnLoginRequest: function (t) {
        var e = document.createElement("a");
        e.setAttribute("style", "display:block;font-family:Tahoma,sans-serif;font-size:20px;color:#000;background:#fcea9c;position:absolute;z-index:500;top:0;left:0;right:0;padding:8px;"), e.innerHTML = "Open game in emulator. Then click to proceed.";
        e.addEventListener("click", (function () {
            t.readyState = 4, t.status = 200, t.responseText = "log=1", null != t.onreadystatechange && t.onreadystatechange(), document.body.removeChild(e)
        }), !1), document.body.appendChild(e)
    },
    LoadWindow: function (t) {
        var e = document.createElement("a");
        e.setAttribute("style", "display:block;font-family:Tahoma,sans-serif;font-size:20px;color:#000;background:#fcea9c;position:absolute;z-index:500;top:0;left:0;right:0;padding:8px;"), e.innerHTML = "Proceed to " + t;
        e.addEventListener("click", (function () {
            window.open(t + "/gs2c/x-domain/XDomainRequestProviderRemote.html", encodeURIComponent(t));
            document.body.removeChild(e)
        }), !1), document.body.appendChild(e), XDomainRequestProvider.windows[t] = null
    },
    Init: function () {
        var t = XDomainRequestProvider;
        window.addEventListener("load", t.OnLoad, !1), window.addEventListener("message", t.OnMessage, !1), t.initialized = !0
    }
};
goog.require("UHT.Component");
var LabelLayerOutlinePosition = {
        Outside: 0,
        Center: 1,
        Inside: 2
    },
    LabelLayerPatternRepeat = {
        No: 0,
        X: 1,
        Y: 2,
        XY: 3
    },
    LabelLayerPatternRepeatString = ["no-repeat", "repeat-x", "repeat-y", "repeat"];

function LabelLayer() {
    this.FillCenter = !0, this.FillColor = null, this.FillColorUseAlpha = !1, this.FillUseGradient = !1, this.FillGradient = null, this.FillGradientUseAlpha = !1, this.FillGradientAngle = 0, this.FillUsePattern = !1, this.FillPattern = null, this.FillPatternRepeat = LabelLayerPatternRepeat.No, this.Outline = !1, this.OutlineThickness = 0, this.OutlineColor = null, this.OutlineColorUseAlpha = !1, this.OutlineUseGradient = !1, this.OutlineGradient = null, this.OutlineGradientUseAlpha = !1, this.OutlineGradientAngle = 0, this.OutlinePosition = LabelLayerOutlinePosition.Outside, this.OutlineUsePattern = !1, this.OutlinePattern = null, this.OutlinePatternRepeat = LabelLayerPatternRepeat.No, this.BlurShadow = !1, this.BlurShadowSize = 0, this.BlurShadowOffset = null, this.BlurShadowColor = null, this.BlurShadowColorUseAlpha = !1, this.Offset = null, this.alphaUpdated = !1
}

function LabelMultipleLayers() {
    Component.call(this), this.backgroundColor = null, this.layers = null, this.label = null, this.styles = null, this.effectWidth = 0, this.effectHeight = 0, this.effectPlusLeft = 0, this.effectPlusRight = 0, this.effectPlusTop = 0, this.effectPlusBottom = 0, this.currentFontSize = -1, this.updateTextHandler = this.GetUpdateTextHandler(this), this.renderSprite = null, this.scale = -1, this.resize = -1
}

function SpringPosition() {
    Component.call(this), this.target = null, this.strength = 10, this.worldSpace = !1, this.eventReceiver = null, this.callWhenFinished = "", this.mTrans = null, this.mThreshold = 0
}
LabelLayer.prototype.Scale = function (t) {
    this.alphaUpdated || (this.alphaUpdated = !0, this.FillColorUseAlpha || (this.FillColor.a = 1), this.OutlineColorUseAlpha || (this.OutlineColor.a = 1), this.BlurShadowColorUseAlpha || (this.BlurShadowColor.a = 1), this.UpdateGradient(this.FillGradient, this.FillGradientUseAlpha), this.UpdateGradient(this.OutlineGradient, this.OutlineGradientUseAlpha));
    var e = new LabelLayer;
    return e.BlurShadow = this.BlurShadow, e.BlurShadowSize = this.BlurShadowSize * t, e.BlurShadowOffset = UHTMath.Vector3.scale(this.BlurShadowOffset, t), e.BlurShadowColor = this.BlurShadowColor, e.Outline = this.Outline, e.OutlineThickness = this.OutlineThickness * t, e.OutlineColor = this.OutlineColor, e.FillCenter = this.FillCenter, e.FillColor = this.FillColor, e.FillUseGradient = this.FillUseGradient, e.FillGradient = this.FillGradient, e.FillGradientAngle = this.FillGradientAngle, e.OutlineUseGradient = this.OutlineUseGradient, e.OutlineGradient = this.OutlineGradient, e.OutlineGradientAngle = this.OutlineGradientAngle, e.OutlinePosition = this.OutlinePosition, e.Offset = UHTMath.Vector3.scale(this.Offset, t), e
}, LabelLayer.prototype.UpdateGradient = function (t, e) {
    for (var i = [], n = [], o = t.colorKeys, s = t.alphaKeys, a = 0; a < o.length; ++a) {
        var r = o[a].time,
            l = o[a].color;
        l.a = this.GetAlpha(s, r, e), i.push(this.IntTime(r)), n.push(new GradientColorKey(l, r))
    }
    if (e)
        for (a = 0; a < s.length; ++a) {
            r = s[a].time;
            i.indexOf(this.IntTime(r)) > -1 || (i.push(this.IntTime(r)), n.push(new GradientColorKey(this.GetColor(o, r), r)))
        }
    t.colorKeys = n
}, LabelLayer.prototype.IntTime = function (t) {
    return Math.round(10 * t)
}, LabelLayer.prototype.TimesEqual = function (t, e) {
    return this.IntTime(t) == this.IntTime(e)
}, LabelLayer.prototype.GetAlpha = function (t, e, i) {
    if (!i) return 1;
    for (var n = null, o = null, s = 0; s < t.length; ++s) {
        if (this.TimesEqual(e, t[s].time)) return t[s].alpha;
        if (e > t[s].time) n = t[s];
        else if (e < t[s].time) {
            o = t[s];
            break
        }
    }
    return null != n && null != o ? UHTMath.lerp(n.alpha, o.alpha, UHTMath.inverseLerp(n.time, o.time, e)) : null != n ? n.alpha : null != o ? o.alpha : 1
}, LabelLayer.prototype.GetColor = function (t, e) {
    var i = new Color;
    i.r = i.g = i.b = i.a = 1;
    for (var n = null, o = null, s = 0; s < t.length; ++s) {
        if (this.TimesEqual(e, t[s].time)) return t[s].color;
        if (e > t[s].time) n = t[s];
        else if (e < t[s].time) {
            o = t[s];
            break
        }
    }
    return null != n && null != o ? Color.Lerp(n.color, o.color, UHTMath.inverseLerp(n.time, o.time, e)) : null != n ? n.color : null != o ? o.color : i
}, LabelMultipleLayers.prototype = Object.create(Component.prototype), LabelMultipleLayers.prototype.constructor = LabelMultipleLayers, LabelMultipleLayers.prototype.GetUpdateTextHandler = function (t) {
    return function () {
        t.UpdateTextV2()
    }
}, LabelMultipleLayers.prototype.SetupEffects = function (t) {
    this.label = t, this.label.pixiObjectContent.updateText = this.updateTextHandler
}, LabelMultipleLayers.prototype.ComputeStyles = function () {
    if (this.currentFontSize != this.label.currentFontSize) {
        this.currentFontSize = this.label.currentFontSize;
        var t = 0,
            e = 0,
            i = 0,
            n = 0,
            o = 0,
            s = 0,
            a = [];
        this.scale = this.currentFontSize / this.label.fontSize, this.resize = this.label.resize;
        for (var r = this.scale * this.resize, l = 0; l < this.layers.length; ++l) {
            var u = this.layers[l].Scale(r),
                h = {};
            h.blurShadow = u.BlurShadow, h.blurShadowX = u.BlurShadowOffset.x, h.blurShadowY = u.BlurShadowOffset.y, h.dropShadowColor = u.BlurShadowColor.rgbaAsString(), h.dropShadowDistance = u.BlurShadowSize, h.fillCenter = u.FillCenter, h.fill = u.FillColor, h.stroke = u.Outline ? u.OutlineColor.rgbaAsString() : null, h.strokeThickness = u.Outline ? u.OutlineThickness * (u.OutlinePosition == LabelLayerOutlinePosition.Center ? 1 : 2) : 0, h.mFillUseGradient = u.FillUseGradient, h.mFillGradient = u.FillGradient, h.mFillGradientAngle = Math.PI * u.FillGradientAngle / 180, h.mOutlineUseGradient = u.OutlineUseGradient, h.mOutlineGradient = u.OutlineGradient, h.mOutlineGradientAngle = Math.PI * u.OutlineGradientAngle / 180;
            var c = h.strokeThickness,
                p = h.strokeThickness;
            if (h.blurShadow && (c += Math.max(2 * h.dropShadowDistance + Math.abs(h.blurShadowX), 0), p += Math.max(2 * h.dropShadowDistance + Math.abs(h.blurShadowY), 0)), c > t && (t = c, u.Outline && (o = u.OutlineThickness, s = -u.OutlineThickness), u.BlurShadow)) {
                var d = Math.max(u.BlurShadowSize - u.BlurShadowOffset.x, 0);
                o += d, s -= Math.max(2 * u.BlurShadowSize + Math.abs(u.BlurShadowOffset.x), 0) - d
            }
            if (p > e && (e = p, u.Outline && (i = u.OutlineThickness, n = -u.OutlineThickness), u.BlurShadow)) {
                var m = Math.max(u.BlurShadowSize - u.BlurShadowOffset.y, 0);
                i += m, n -= Math.max(2 * u.BlurShadowSize + Math.abs(u.BlurShadowOffset.y), 0) - m
            }
            h.effectWidth = c, h.effectHeight = p, a.push(h)
        }
        for (l = 0; l < a.length; ++l) a[l].offsetX = this.layers[l].Offset.x * r + .5 * (t - a[l].effectWidth), a[l].offsetY = -this.layers[l].Offset.y * r + .5 * (e - a[l].effectHeight);
        this.styles = a, this.effectWidth = t, this.effectHeight = e, this.effectPlusLeft = o, this.effectPlusRight = s, this.effectPlusTop = i, this.effectPlusBottom = n, this.isInit = !0
    }
}, LabelMultipleLayers.prototype.UpdateText = function () {
    this.ComputeStyles();
    var t = this.label.pixiObjectContent,
        e = t._style;
    t.context.font = e.font;
    for (var i = (e.wordWrap ? t.wordWrap(t._text) : t._text).split(/(?:\r\n|\r|\n)/), n = new Array(i.length), o = 0, s = t.determineFontProperties(e.font), a = 0; a < i.length; a++) {
        var r = t.context.measureText(i[a]).width;
        n[a] = r, o = Math.max(o, r)
    }
    t.extraWidthDueToEffects = this.effectWidth + s.fontSize, t.extraHeightDueToEffects = this.effectHeight;
    var l = o + t.extraWidthDueToEffects;
    t.canvas.width = l * t.resolution;
    var u = t.style.lineHeight || s.fontSize,
        h = t.style.spacingY || 0,
        c = u * i.length + h * (i.length - 1) + s.extraSizeTop;
    if (c += t.extraHeightDueToEffects, t.canvas.height = (c + 2 * t._style.padding) * t.resolution, t.context.scale(t.resolution, t.resolution), (null != window.safari || document.documentElement.className.indexOf("iOS") >= 0 && document.documentElement.className.indexOf("MobileSafari") >= 0) && t.context.clearRect(0, 0, t.canvas.width, t.canvas.height), t.context.font = e.font, t.context.textBaseline = e.textBaseline, t.context.lineJoin = e.lineJoin, t.context.miterLimit = e.miterLimit, 1 != t._skipUpdateTexture)
        for (a = 0; a < this.styles.length; ++a) this.DrawLayer(this.layers[a], this.styles[a], t, s, n, u, h, i, o);
    t._hack_extraOffsetTop = s.extraSizeTop, t._hack_extraOffsetBottom = h, t.updateTexture()
}, LabelMultipleLayers.prototype.DrawLayer = function (t, e, i, n, o, s, a, r, l) {
    if (i.context.strokeStyle = e.stroke, i.context.lineWidth = e.strokeThickness, i.context.shadowColor = "RGBA(0, 0, 0, 0)", i.context.fillStyle = e.fill.rgbaAsString(), e.blurShadow) {
        var u = null != window.safari || document.documentElement.className.indexOf("iOS") >= 0 && document.documentElement.className.indexOf("MobileSafari") >= 0;
        i.context.shadowBlur = e.dropShadowDistance * (u ? .66 : 1), i.context.shadowOffsetX = e.blurShadowX, i.context.shadowOffsetY = e.blurShadowY
    }
    for (var h, c, p = 0; p < r.length; p++) {
        var d = .5 * e.strokeThickness;
        if (h = e.offsetX + d + .5 * n.fontSize, c = e.offsetY + (d + p * (s + a)) + n.ascent + n.extraSizeTop, e.blurShadow && (i.context.shadowColor = e.dropShadowColor, h += Math.max(e.dropShadowDistance - e.blurShadowX, 0), c += Math.max(e.dropShadowDistance - e.blurShadowY, 0)), e.mFillUseGradient || e.mOutlineUseGradient) {
            var m = .5 * s,
                S = h + .5 * o[p],
                g = e.offsetY + (d + p * (s + a)) + m + i._style.padding;
            e.blurShadow && (g += Math.max(e.dropShadowDistance - e.blurShadowY, 0));
            var y = .5 * Math.max(o[p], s),
                f = 0,
                b = 0,
                T = 0,
                C = 0;
            if (e.mFillUseGradient) {
                f = Math.cos(e.mFillGradientAngle + Math.PI) * y, T = (T = Math.sin(e.mFillGradientAngle + Math.PI) * y) >= 0 ? Math.min(T, m) : Math.max(T, -m), b = Math.cos(e.mFillGradientAngle) * y, C = (C = Math.sin(e.mFillGradientAngle) * y) >= 0 ? Math.min(C, m) : Math.max(C, -m);
                for (var A = i.context.createLinearGradient(S + f, g + T, S + b, g + C), v = 0; v < e.mFillGradient.colorKeys.length; v++) A.addColorStop(e.mFillGradient.colorKeys[v].time, e.mFillGradient.colorKeys[v].color.rgbaAsString());
                i.context.fillStyle = A
            }
            if (e.mOutlineUseGradient) {
                f = Math.cos(e.mOutlineGradientAngle + Math.PI) * y, T = (T = Math.sin(e.mOutlineGradientAngle + Math.PI) * y) >= 0 ? Math.min(T, m) : Math.max(T, -m), b = Math.cos(e.mOutlineGradientAngle) * y, C = (C = Math.sin(e.mOutlineGradientAngle) * y) >= 0 ? Math.min(C, m) : Math.max(C, -m);
                for (var M = i.context.createLinearGradient(S + f, g + T, S + b, g + C), L = 0; L < e.mOutlineGradient.colorKeys.length; L++) M.addColorStop(e.mOutlineGradient.colorKeys[L].time, e.mOutlineGradient.colorKeys[L].color.rgbaAsString());
                i.context.strokeStyle = M
            }
        }
        this.isArabMode && (h += o[p]), "right" === i._style.align ? h += l - o[p] : "center" === i._style.align && (h += (l - o[p]) / 2), e.stroke && e.strokeThickness && (!e.blurShadow && t.OutlinePosition != LabelLayerOutlinePosition.Center || 0 == e.fillCenter || i.context.fillText(r[p], h, c + i._style.padding), i.context.strokeText(r[p], h, c + i._style.padding), i.context.shadowColor = "RGBA(0, 0, 0, 0)"), e.fill && 0 != e.fillCenter && t.OutlinePosition != LabelLayerOutlinePosition.Center && i.context.fillText(r[p], h, c + i._style.padding)
    }
}, LabelMultipleLayers.prototype.UpdateTextV2 = function () {
    var t = this.label.pixiObjectContent;
    if (!this.LayersPatternsLoaded()) {
        var e = t._skipUpdateTexture;
        return t._skipUpdateTexture = !0, this.UpdateText(), t._skipUpdateTexture = e, void(this.label.textIsUnprocessed = !0)
    }
    if (1 != t._skipUpdateTexture) {
        this.ComputeStyles();
        var i = t._style;
        t.context.font = i.font;
        var n = i.wordWrap ? t.wordWrap(t._text) : t._text;
        this.isArabMode = PIXI.Text.IsArabString(n);
        for (var o = n.split(/(?:\r\n|\r|\n)/), s = new Array(o.length), a = 0, r = t.determineFontProperties(i.font), l = 0; l < o.length; l++) {
            var u = t.context.measureText(o[l]).width;
            s[l] = u, a = Math.max(a, u)
        }
        t.extraWidthDueToEffects = this.effectWidth + r.fontSize, t.extraHeightDueToEffects = this.effectHeight;
        var h = a + t.extraWidthDueToEffects;
        t.canvas.width = h * t.resolution;
        var c = t.style.lineHeight || r.fontSize,
            p = t.style.spacingY || 0,
            d = c * o.length + p * (o.length - 1) + r.extraSizeTop;
        d += t.extraHeightDueToEffects, t.canvas.height = (d + 2 * t._style.padding) * t.resolution, t.context.scale(t.resolution, t.resolution), t.context.font = i.font, t.context.textBaseline = i.textBaseline, t.context.lineJoin = i.lineJoin, t.context.miterLimit = i.miterLimit, this.isArabMode && (t.context.direction = "rtl"), null == this.renderSprite && (this.renderSprite = new PIXI.Sprite(t.texture));
        var m = _PIXI.RenderTexture.GetAvailable(),
            S = _PIXI.Text.GetAvailable(),
            g = this.renderSprite;
        this.ResetTextures(t, m, S);
        var y = t._style.padding;
        for (l = 0; l < this.styles.length; ++l) {
            var f = this.styles[l],
                b = this.layers[l],
                T = f.fill && !(0 == f.fillCenter),
                C = f.stroke && f.strokeThickness,
                A = b.OutlinePosition == LabelLayerOutlinePosition.Outside;
            t.context.shadowColor = "RGBA(0, 0, 0, 0)", C && (t.context.clearRect(0, 0, t.canvas.width, t.canvas.height), this.DrawStroke(b, f, t, r, s, c, p, o, a, S)), t.context.clearRect(0, 0, t.canvas.width, t.canvas.height), C && A && t.context.drawImage(S.canvas, 0, 0), T && this.DrawFill(this.layers[l], f, t, r, s, c, p, o, a), C && !A && t.context.drawImage(S.canvas, 0, 0), C && b.OutlinePosition == LabelLayerOutlinePosition.Inside && (S.context.clearRect(0, 0, t.canvas.width, t.canvas.height), S.context.globalCompositeOperation = "source-over", S.context.drawImage(t.canvas, 0, 0), t.context.clearRect(0, 0, t.canvas.width, t.canvas.height), this.DrawFillMask(this.layers[l], f, t, r, s, c, p, o, a), S.context.globalCompositeOperation = "destination-in", S.context.drawImage(t.canvas, 0, 0), t.context.clearRect(0, 0, t.canvas.width, t.canvas.height), t.context.drawImage(S.canvas, 0, 0)), f.blurShadow && (S.context.clearRect(0, 0, t.canvas.width, t.canvas.height), S.context.globalCompositeOperation = "source-over", S.context.drawImage(t.canvas, 0, 0), t.context.shadowColor = f.dropShadowColor, t.context.shadowBlur = f.dropShadowDistance, t.context.shadowOffsetX = f.blurShadowX, t.context.shadowOffsetY = f.blurShadowY, t.context.clearRect(0, 0, t.canvas.width, t.canvas.height), t.context.drawImage(S.canvas, 0, 0)), t._style.padding = 0, t.updateTexture(), t._style.padding = y, m.render(g)
        }
        t._hack_extraOffsetTop = r.extraSizeTop, t._hack_extraOffsetBottom = p, t.context.shadowColor = "RGBA(0, 0, 0, 0)", t.context.clearRect(0, 0, t.canvas.width, t.canvas.height), t.context.drawImage(m.getCanvas(), 0, 0), t.updateTexture(), _PIXI.Text.SetAvailable(S), _PIXI.RenderTexture.SetAvailable(m)
    } else this.UpdateText()
}, LabelMultipleLayers.prototype.DrawFill = function (t, e, i, n, o, s, a, r, l) {
    var u, h;
    i.context.fillStyle = e.fill.rgbaAsString();
    var c = null;
    t.FillUsePattern && (c = LabelMultipleLayers.CreatePattern(t.FillPattern, t.FillPatternRepeat, i, this.scale, this.resize));
    for (var p = 0; p < r.length; p++) {
        var d = .5 * e.strokeThickness;
        if (u = e.offsetX + d + .5 * n.fontSize, h = e.offsetY + (d + p * (s + a)) + n.ascent + n.extraSizeTop, e.blurShadow && (u += Math.max(e.dropShadowDistance - e.blurShadowX, 0), h += Math.max(e.dropShadowDistance - e.blurShadowY, 0)), e.mFillUseGradient) {
            var m = .5 * s,
                S = u + .5 * o[p],
                g = e.offsetY + (d + p * (s + a)) + m + i._style.padding;
            e.blurShadow && (g += Math.max(e.dropShadowDistance - e.blurShadowY, 0));
            var y, f, b = .5 * Math.max(o[p], s),
                T = 0,
                C = 0;
            y = Math.cos(e.mFillGradientAngle + Math.PI) * b, T = (T = Math.sin(e.mFillGradientAngle + Math.PI) * b) >= 0 ? Math.min(T, m) : Math.max(T, -m), f = Math.cos(e.mFillGradientAngle) * b, C = (C = Math.sin(e.mFillGradientAngle) * b) >= 0 ? Math.min(C, m) : Math.max(C, -m);
            for (var A = i.context.createLinearGradient(S + y, g + T, S + f, g + C), v = 0; v < e.mFillGradient.colorKeys.length; v++) A.addColorStop(e.mFillGradient.colorKeys[v].time, e.mFillGradient.colorKeys[v].color.rgbaAsString());
            i.context.fillStyle = A
        }
        null != c && (i.context.fillStyle = c), this.isArabMode && (u += o[p]), "right" === i._style.align ? u += l - o[p] : "center" === i._style.align && (u += .5 * (l - o[p])), i.context.fillText(r[p], u, h + i._style.padding)
    }
}, LabelMultipleLayers.prototype.DrawFillMask = function (t, e, i, n, o, s, a, r, l) {
    var u = e.fill,
        h = e.mFillUseGradient,
        c = t.FillUsePattern;
    e.fill = _Color.WHITE(), e.mFillUseGradient = !1, t.FillUsePattern = !1, this.DrawFill(t, e, i, n, o, s, a, r, l), e.fill = u, e.mFillUseGradient = h, t.FillUsePattern = c
}, LabelMultipleLayers.prototype.DrawStroke = function (t, e, i, n, o, s, a, r, l, u) {
    var h, c;
    i.context.strokeStyle = _Color.WHITE().rgbaAsString(), i.context.lineWidth = e.strokeThickness, u.context.fillStyle = e.stroke, this.isArabMode && (u.context.direction = "rtl");
    var p = null;
    t.OutlineUsePattern && (p = LabelMultipleLayers.CreatePattern(t.OutlinePattern, t.OutlinePatternRepeat, u, this.scale, this.resize));
    for (var d = 0; d < r.length; d++) {
        var m = .5 * e.strokeThickness;
        if (h = e.offsetX + m + .5 * n.fontSize, c = e.offsetY + (m + d * (s + a)) + n.ascent + n.extraSizeTop, e.blurShadow && (h += Math.max(e.dropShadowDistance - e.blurShadowX, 0), c += Math.max(e.dropShadowDistance - e.blurShadowY, 0)), e.mOutlineUseGradient) {
            var S = .5 * s,
                g = h + .5 * o[d],
                y = e.offsetY + (m + d * (s + a)) + S + i._style.padding;
            e.blurShadow && (y += Math.max(e.dropShadowDistance - e.blurShadowY, 0));
            var f, b, T = .5 * Math.max(o[d], s),
                C = 0,
                A = 0;
            f = Math.cos(e.mOutlineGradientAngle + Math.PI) * T, C = (C = Math.sin(e.mOutlineGradientAngle + Math.PI) * T) >= 0 ? Math.min(C, S) : Math.max(C, -S), b = Math.cos(e.mOutlineGradientAngle) * T, A = (A = Math.sin(e.mOutlineGradientAngle) * T) >= 0 ? Math.min(A, S) : Math.max(A, -S);
            for (var v = i.context.createLinearGradient(g + f, y + C, g + b, y + A), M = 0; M < e.mOutlineGradient.colorKeys.length; M++) v.addColorStop(e.mOutlineGradient.colorKeys[M].time, e.mOutlineGradient.colorKeys[M].color.rgbaAsString());
            u.context.fillStyle = v
        }
        null != p && (u.context.fillStyle = p), this.isArabMode && (h += o[d]), "right" === i._style.align ? h += l - o[d] : "center" === i._style.align && (h += (l - o[d]) / 2), i.context.strokeText(r[d], h, c + i._style.padding);
        var L = c - n.ascent - m,
            I = i.canvas.width,
            P = s + e.strokeThickness + 2 * i._style.padding;
        u.context.globalCompositeOperation = "source-over", u.context.fillRect(0, L, I, P), u.context.globalCompositeOperation = "destination-in", u.context.drawImage(i.canvas, 0, 0)
    }
}, LabelMultipleLayers.prototype.ResetTextures = function (t, e, i) {
    if (e.resolution = t.resolution, e.resize(t.canvas.width, t.canvas.height, !0), e.clear(), e.renderer.type === PIXI.RENDERER_TYPE.WEBGL) {
        var n = this.backgroundColor,
            o = e.renderer.gl;
        o.bindFramebuffer(o.FRAMEBUFFER, e.textureBuffer.frameBuffer), o.clearColor(n.r, n.g, n.b, 0), o.clear(o.COLOR_BUFFER_BIT)
    }
    i.canvas.width = t.canvas.width, i.canvas.height = t.canvas.height, i.context.scale(t.resolution, t.resolution), this.renderSprite.texture = t.texture
}, LabelMultipleLayers.PatternCache = function (t, e, i, n, o) {
    this.sprite = t, this.repeat = e, this.scale = i, this.resize = n, this.pattern = o
}, LabelMultipleLayers.patternCache = null, LabelMultipleLayers.PatternEquals = function (t, e, i, n, o) {
    return t.sprite == e && t.repeat == i && t.scale == n && t.resize == o
}, LabelMultipleLayers.CreatePattern = function (t, e, i, n, o) {
    if (null == t) return null;
    var s = LabelMultipleLayers.patternCache;
    null == s && (s = LabelMultipleLayers.patternCache = []);
    for (var a = 0; a < s.length; ++a)
        if (LabelMultipleLayers.PatternEquals(s[a], t, e, n, o)) return s[a].pattern;
    var r = t.pixiObject,
        l = t.pixiObjectContent;
    if (null == r || null == l) return null;
    r.scale.x = 1, r.scale.y = 1, r.dirtyWT = !0;
    var u = (n + .25 * (1 - n)) * o,
        h = l.width,
        c = l.height,
        p = Math.round(h * u),
        d = Math.round(c * u);
    l.width = p, l.height = d, l.anchor.x = 0, l.anchor.y = 0, l.position.x = -1, l.position.y = -1, l.dirtyWT = !0;
    var m = _PIXI.RenderTexture.GetAvailable();
    m.clear(), m.resolution = i.resolution, m.resize(l.width - 2, l.height - 2, !0), m.render(r), l.width = h, l.height = c;
    var S = i.context.createPattern(m.getCanvas(), LabelLayerPatternRepeatString[e]);
    _PIXI.RenderTexture.SetAvailable(m);
    var g = new LabelMultipleLayers.PatternCache(t, e, n, o, S);
    return s.push(g), S
}, LabelMultipleLayers.prototype.LayersPatternsLoaded = function () {
    for (var t = 0; t < this.layers.length; ++t)
        if (!this.LayerPatternsLoaded(this.layers[t])) return !1;
    return !0
}, LabelMultipleLayers.prototype.LayerPatternsLoaded = function (t) {
    return this.PatternLoaded(t.FillUsePattern, t.FillPattern) && this.PatternLoaded(t.OutlineUsePattern, t.OutlinePattern)
}, LabelMultipleLayers.prototype.PatternLoaded = function (t, e) {
    return !t || null == e || null == e.atlas || e.atlas.isLoaded()
}, SpringPosition.prototype = Object.create(Component.prototype), SpringPosition.prototype.constructor = SpringPosition, SpringPosition.prototype.deserialize = function (t, e, i) {
    deserializeComponentRec(t, this, e, i)
}, SpringPosition.prototype.Start = function () {
    this.mTrans = this.gameObject.transform
}, SpringPosition.prototype.Update = function () {
    if (this.enabled) {
        var t = Time.deltaTime;
        if (this.worldSpace) {
            0 == this.mThreshold && (this.mThreshold = .001 * UHTMath.Vector3.sub(this.target, this.mTrans.position()).sqrMagnitude());
            var e = SpringPosition.SpringLerp(this.mTrans.position(), this.target, this.strength, t);
            this.mTrans.position(e.x, e.y, e.z), this.mThreshold >= UHTMath.Vector3.sub(this.target, this.mTrans.position()).sqrMagnitude() && (this.mTrans.position(this.target.x, this.target.y, this.target.z), this.NotifyListeners(), this.enabled = !1)
        } else {
            0 == this.mThreshold && (this.mThreshold = 1e-5 * UHTMath.Vector3.sub(this.target, this.mTrans.localPosition()).sqrMagnitude());
            var i = SpringPosition.SpringLerp(this.mTrans.localPosition(), this.target, this.strength, t);
            this.mTrans.localPosition(i.x, i.y, i.z), this.mThreshold >= UHTMath.Vector3.sub(this.target, this.mTrans.localPosition()).sqrMagnitude() && (this.mTrans.localPosition(this.target.x, this.target.y, this.target.z), this.NotifyListeners(), this.enabled = !1)
        }
    }
}, SpringPosition.prototype.NotifyListeners = function () {
    SpringPosition.current = this, null != this.eventReceiver && null != this.callWhenFinished && "" != this.callWhenFinished && this.eventReceiver[this.callWhenFinished](), SpringPosition.current = null
}, SpringPosition.Begin = function (t, e, i) {
    var n = t.GetComponent(SpringPosition);
    return null == n && (n = t.AddComponent("SpringPosition")), n.target = e, n.strength = i, n.enabled || (n.mThreshold = 0, n.enabled = !0), n
}, SpringPosition.current = null, SpringPosition.SpringLerp = function (t, e, i, n) {
    n > 1 && (n = 1);
    var o = Math.round(1e3 * n);
    n = .001 * i;
    for (var s = 0, a = 0; a < o; ++a) s = UHTMath.lerp(s, 1, n);
    return UHTMath.Vector3.lerp(t, e, s)
}, goog.provide("UHT.UIAtlas"), goog.require("UHT.Component");
var AtlasUsageID = 0;

function UIAtlas() {
    Component.call(this), this.textureContent = null, this.spriteList = {}, this.resourcePriority = 0, this.isBlockingResource = !0, this.fallbackAtlas = null, this.fallbackSpriteName = "", this.hasLowEndResource = !1, this.lowEndAtlas = null, this.lowEndSpriteName = "", this.pixiTexture = null, this.isInit = !1, this.cachedSimpleSpriteInfo = {}, this.cachedSlicedSpriteInfo = {}, this.cachedFilledSpriteInfo = {}, this.cachedSpriteNames = {}, this.cachedSprites = {}, this.isDeferred = !1, this.usesLowEndResource = !1, this.spritesNeedingRefresh = [], this.PPLCAwidth = 0, this.PPLCAheight = 0, this.resize = 100, this.blendMode = 0, this.requested = !1, this.texPPLCA_Color = "", this.texPPLCA_Alpha = "", this.pixiTexPPLCA_Color = null, this.pixiTexPPLCA_Alpha = null, this.PPLCAStep = 0, this.usageID = "a" + AtlasUsageID, AtlasUsageID++
}
UIAtlas.prototype = Object.create(Component.prototype), UIAtlas.prototype.constructor = UIAtlas, UIAtlas.spriteListPrefix = "s_", UIAtlas.prototype.deserialize = function (t, e, i) {
    for (var n in t.spriteList) null == t.spriteList[n].index && (t.spriteList[n].index = -1), null == t.spriteList[n].rotate ? t.spriteList[n].rotate = !1 : t.spriteList[n].rotate = !0, null == t.spriteList[n].x && (t.spriteList[n].x = 0), null == t.spriteList[n].y && (t.spriteList[n].y = 0), null == t.spriteList[n].paddingLeft && (t.spriteList[n].paddingLeft = 0), null == t.spriteList[n].paddingTop && (t.spriteList[n].paddingTop = 0), null == t.spriteList[n].paddingRight && (t.spriteList[n].paddingRight = 0), null == t.spriteList[n].paddingBottom && (t.spriteList[n].paddingBottom = 0), null == t.spriteList[n].borderLeft && (t.spriteList[n].borderLeft = 0), null == t.spriteList[n].borderTop && (t.spriteList[n].borderTop = 0), null == t.spriteList[n].borderRight && (t.spriteList[n].borderRight = 0), null == t.spriteList[n].borderBottom && (t.spriteList[n].borderBottom = 0);
    for (var o in null == t.resourcePriority && (t.resourcePriority = 0), null == t.isBlockingResource ? t.isBlockingResource = !0 : t.isBlockingResource = !1, null == t.fallbackAtlas && (t.fallbackAtlas = null), null == t.fallbackSpriteName && (t.fallbackSpriteName = ""), null == t.hasLowEndResource ? t.hasLowEndResource = !1 : t.hasLowEndResource = !0, null == t.lowEndAtlas && (t.lowEndAtlas = null), null == t.lowEndSpriteName && (t.lowEndSpriteName = ""), null == t.resize && (t.resize = 100), null == t.blendMode && (t.blendMode = 0), deserializeComponentRec(t, this, e, i), this.usesLowEndResource = UHT_LOW_END_DEVICE && this.hasLowEndResource, this.resourcePriority > 0 && !this.usesLowEndResource ? registerAtlasForDeferredLoading(this) : (deserializedAtlases.push(this), -1 != LoaderProgress.Import_Textures_Total && LoaderProgress.Import_Textures_Current++), this.spriteList) this.cachedSpriteNames[o.replace("s_", "")] = o, this.cachedSprites[o.replace("s_", "")] = this.spriteList[o]
}, UIAtlas.prototype.loadAtlasTexture = function () {
    AtlasUsage[this.usageID] = {
        frame: 0,
        atlas: this,
        allocated: !1
    }, null == this.pixiTexture && ("data:image" != this.textureContent.slice(0, 10) && (this.textureContent += "?key=" + UHT_REVISION.uncommon), this.pixiTexture = PIXI.Texture.fromImage(this.textureContent, void 0, void 0, this["textureContent_@GUID"]), createjs.BrowserDetect.isIOS && Renderer.IsWebGL && this.pixiTexture.baseTexture.dispose(), this.textureContent = "")
};
var AtlasUsage = {};

function PPLCAFilter(t) {
    PIXI.AbstractFilter.call(this, null, "precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform sampler2D AlphaMap;void main(void){vec3 col = texture2D(uSampler, vTextureCoord).rgb;float alpha = texture2D(AlphaMap, vTextureCoord).r;gl_FragColor = vec4(col * alpha, alpha);} ", {
        AlphaMap: {
            type: "sampler2D",
            value: t
        }
    })
}

function UIButton() {
    Component.call(this), this.target = null, this.targetIsSprite = !1, this.normal = "", this.hover = "", this.pressed = "", this.disabled = "", this.color_normal = null, this.color_hover = null, this.color_pressed = null, this.color_disabled = null, this.onClick = [], this.curState = UIButton.State.None
}

function UIEventDelegate() {
    this.target = null, this.methodName = ""
}

function UIButtonScale() {
    Component.call(this), this.tweenTarget = null, this.hover = null, this.pressed = null, this.normalScale = null, this.mStarted = !1
}

function UIFont() {
    Component.call(this), this.fontData = "", this.hasFontLoaded = !1, this.texture = "", this.name = "", this.isLoading = !1, this.callback = [], this.object = [], this.chars = ""
}

function UIInput() {
    Component.call(this), this.label = null, this.value = "", this.activeTextColor = null, this.inactiveTextColor = null, this.caretColor = null, this.validation = UIInput.Validation.None, this.characterLimit = 0, this.caretGameObject = null, this.clearValueOnSelect = !1, this.linkedUIInput = null, this.localizedDefaultValueLabel = null, this.mobilePromptMessage = null, this.userCanceledInput = null, this.onChange = [], this.caretCachedPosition = new UHTMath.Vector3(0, 0, 0), this.keysPressed = [], this.isSelected = !1, this.TextExtraHandler = null
}
UIAtlas.prototype.UseNow = function () {
    var t = AtlasUsage[this.usageID];
    null != t && (t.allocated = !0, t.frame = Time.frameCount)
}, UIAtlas.CheckUsageAndClean = function () {
    if (createjs.BrowserDetect.isIOS && Renderer.IsWebGL)
        for (var t in AtlasUsage) {
            var e = AtlasUsage[t];
            e.allocated && e.frame < Time.frameCount - 200 && e.atlas.pixiTexture.baseTexture.dispose()
        }
}, UIAtlas.prototype.initAtlas = function () {
    if (!this.isInit) {
        if (this.isInit = !0, this.usesLowEndResource) return;
        this.resourcePriority > 0 && 0 == this.isLoaded() ? this.isBlockingResource ? (this.loadAtlasTexture(), signalNeedPauseForTexture(this)) : this.isDeferred = !0 : this.loadAtlasTexture()
    }
}, UIAtlas.prototype.isLoaded = function () {
    return null != this.pixiTexture && this.pixiTexture.valid
}, UIAtlas.prototype.internalTextureLoadedCallback = function () {
    if (this.isDeferred) {
        this.isDeferred = !1;
        for (var t = 0; t < this.spritesNeedingRefresh.length; t++) {
            var e = this.spritesNeedingRefresh[t];
            null != e && e.SetSpriteName(e.spriteName)
        }
        this.spritesNeedingRefresh = []
    }
}, UIAtlas.prototype.hasSprite = function (t) {
    return null != this.cachedSprites[t]
}, UIAtlas.prototype.getSpriteNames = function () {
    var t = [];
    for (var e in this.spriteList) {
        var i = e.slice(UIAtlas.spriteListPrefix.length, e.length);
        t.push(i)
    }
    return t
}, UIAtlas.prototype.getTextureInfoForSprite = function (t, e) {
    if (this.initAtlas(), this.usesLowEndResource) return null != this.lowEndAtlas ? this.lowEndAtlas.getTextureInfoForSprite(t, this.lowEndSpriteName) : new PIXI.Texture(new PIXI.BaseTexture);
    if (this.isDeferred) return this.spritesNeedingRefresh.push(t), null != this.fallbackAtlas ? this.fallbackAtlas.getTextureInfoForSprite(t, this.fallbackSpriteName) : new PIXI.Texture(new PIXI.BaseTexture);
    switch (t.spriteType) {
        case UISprite.Type.Simple:
            return this.getTextureForSimpleSprite(t, e);
            break;
        case UISprite.Type.Filled:
            return this.getTextureForFilledSprite(t, e);
            break;
        case UISprite.Type.Sliced:
            return this.getTexturesForSlicedSprite(t, e);
            break;
        default:
            break
    }
}, UIAtlas.prototype.getTextureForSimpleSprite = function (t, e) {
    if (null != this.cachedSimpleSpriteInfo[this.cachedSpriteNames[e]]) return this.cachedSimpleSpriteInfo[this.cachedSpriteNames[e]];
    var i = this.cachedSprites[e];
    if (null == i) return null;
    var n = new PIXI.Rectangle(i.x, i.y, i.width, i.height),
        o = new PIXI.Rectangle(i.x, i.y, i.width, i.height),
        s = new PIXI.Rectangle(i.paddingLeft, i.paddingTop, i.width + i.paddingLeft + i.paddingRight, i.height + i.paddingTop + i.paddingBottom),
        a = new PIXI.Texture(this.pixiTexture, n, o, s);
    return this.cachedSimpleSpriteInfo[this.cachedSpriteNames[e]] = a, a
}, UIAtlas.prototype.getTextureForFilledSprite = function (t, e) {
    var i = UIAtlas.spriteListPrefix + e + t.fillDirection + t.invert + t.fillAmount + t.fillAmountTop + t.fillAmountBottom + t.fillAmountLeft + t.fillAmountRight;
    if (null != this.cachedFilledSpriteInfo[i]) return this.cachedFilledSpriteInfo[i];
    var n = this.cachedSprites[e];
    if (null == n) return null;
    var o = n.paddingLeft,
        s = n.paddingRight,
        a = n.paddingTop,
        r = n.paddingBottom,
        l = n.x,
        u = n.y,
        h = n.width,
        c = n.height,
        p = c + a + r,
        d = h + o + s,
        m = t.fillAmount,
        S = 0,
        g = 0,
        y = 0,
        f = 0;
    switch (t.fillDirection) {
        case UISprite.FillDirection.Horizontal:
            m = (t.fillAmount * d - (t.invert ? s : o)) / h, t.invert ? (l += h * (1 - m), o += h * (1 - m)) : s += h * (1 - m), h *= m;
            break;
        case UISprite.FillDirection.Vertical:
            m = (t.fillAmount * p - (t.invert ? a : r)) / c, t.invert ? r += c * (1 - m) : (u += c * (1 - m), a += c * (1 - m)), c *= m;
            break;
        case UISprite.FillDirection.Custom:
            S = (t.fillAmountTop * p - r) / c, g = (t.fillAmountBottom * p - a) / c, y = (t.fillAmountLeft * d - s) / h, f = (t.fillAmountRight * d - o) / h, u += c * (1 - S), a += c * (1 - S), r += c * (1 - g), c *= S + g - 1, l += h * (1 - y), o += h * (1 - y), s += h * (1 - f), h *= y + f - 1;
            var b = 0,
                T = 0,
                C = 0,
                A = 0;
            l < n.x && (b = n.x - l, l = n.x, h -= b), u < n.y && (C = n.y - u, u = n.y, c -= C), h > n.width && (T = h - n.width, h = n.width), c > n.height && (A = c - n.height, c = n.height), o += b, r += A, s += T, a += C;
            break;
        default:
            break
    }
    var v = new PIXI.Rectangle(l, u, h, c),
        M = new PIXI.Rectangle(l, u, h, c),
        L = new PIXI.Rectangle(o, a, h + o + s, c + a + r),
        I = new PIXI.Texture(this.pixiTexture, v, M, L);
    return this.cachedFilledSpriteInfo[i] = I, I
}, UIAtlas.prototype.getTexturesForSlicedSprite = function (t, e) {
    if (null != this.cachedSlicedSpriteInfo[this.cachedSpriteNames[e]]) return this.cachedSlicedSpriteInfo[this.cachedSpriteNames[e]];
    var i = this.cachedSprites[e];
    if (null == i) return null;
    var n = new PIXI.Rectangle(i.x, i.y, i.width, i.height),
        o = (new PIXI.Rectangle(i.x, i.y, i.width, i.height), new PIXI.Rectangle(i.paddingLeft, i.paddingTop, i.width + i.paddingLeft + i.paddingRight, i.height + i.paddingTop + i.paddingBottom)),
        s = n.clone(),
        a = o.clone(),
        r = n.clone(),
        l = o.clone(),
        u = n.clone(),
        h = o.clone(),
        c = n.clone(),
        p = o.clone(),
        d = n.clone(),
        m = o.clone(),
        S = n.clone(),
        g = o.clone(),
        y = n.clone(),
        f = o.clone(),
        b = n.clone(),
        T = o.clone(),
        C = n.clone(),
        A = o.clone(),
        v = i.borderLeft,
        M = i.borderRight,
        L = i.borderTop,
        I = i.borderBottom,
        P = i.paddingLeft,
        R = i.paddingRight,
        _ = i.paddingBottom,
        E = i.paddingTop,
        D = i.width,
        O = i.height;
    s.width = v, s.height = L, a.width = v + P, a.height = L + E;
    var w = s.clone(),
        x = new PIXI.Texture(this.pixiTexture, s, w, a);
    r.x += v, r.width = D - v - M || 1, r.height = L, l.x = 0, l.width = D - v - M || 1, l.height = L + E;
    var B = r.clone(),
        k = new PIXI.Texture(this.pixiTexture, r, B, l);
    u.x += D - M, u.width = M, u.height = L, h.x = 0, h.width = M + R, h.height = L + E;
    var V = u.clone(),
        G = new PIXI.Texture(this.pixiTexture, u, V, h);
    c.y += L, c.width = v, c.height = O - L - I || 1, p.y = 0, p.width = v + P, p.height = O - L - I || 1;
    var F = c.clone(),
        j = new PIXI.Texture(this.pixiTexture, c, F, p);
    d.x += v, d.y += L, d.width = D - v - M || 1, d.height = O - L - I || 1, m.x = 0, m.y = 0, m.width = D - v - M || 1, m.height = O - L - I || 1;
    var U = d.clone(),
        N = new PIXI.Texture(this.pixiTexture, d, U, m);
    S.x += D - M, S.y += L, S.width = M, S.height = O - L - I || 1, g.x = 0, g.y = 0, g.width = M + R, g.height = O - L - I || 1;
    var X = S.clone(),
        W = new PIXI.Texture(this.pixiTexture, S, X, g);
    y.y += O - I, y.width = v, y.height = I, f.y = 0, f.width = v + P, f.height = I + _;
    var H = y.clone(),
        z = new PIXI.Texture(this.pixiTexture, y, H, f);
    b.x += v, b.y += O - I, b.width = D - v - M || 1, b.height = I, T.x = 0, T.y = 0, T.width = D - v - M || 1, T.height = I + _;
    var J = b.clone(),
        q = new PIXI.Texture(this.pixiTexture, b, J, T);
    C.x += D - M, C.y += O - I, C.width = M, C.height = I, A.x = 0, A.y = 0, A.width = M + R, A.height = I + _;
    var Y = C.clone(),
        Q = {
            texture00: x,
            texture01: k,
            texture02: G,
            texture10: j,
            texture11: N,
            texture12: W,
            texture20: z,
            texture21: q,
            texture22: new PIXI.Texture(this.pixiTexture, C, Y, A),
            borderLeft: i.borderLeft,
            borderRight: i.borderRight,
            borderBottom: i.borderBottom,
            borderTop: i.borderTop,
            paddingLeft: i.paddingLeft,
            paddingRight: i.paddingRight,
            paddingBottom: i.paddingBottom,
            paddingTop: i.paddingTop
        };
    return this.cachedSlicedSpriteInfo[this.cachedSpriteNames[e]] = Q, Q
}, PPLCAFilter.prototype = Object.create(PIXI.AbstractFilter.prototype), PPLCAFilter.prototype.constructor = PPLCAFilter, goog.provide("UHT.UIButton"), goog.require("UHT.Component"), UIButton.prototype = Object.create(Component.prototype), UIButton.prototype.constructor = UIButton, UIButton.State = {
    Normal: 0,
    Hover: 1,
    Pressed: 2,
    Disabled: 3,
    None: 4
}, UIButton.prototype.OnHover = function (t) {
    null != this.target && (null != this.gameObject.collider && this.gameObject.collider.enabled ? this.InternalChangeState(t ? UIButton.State.Hover : UIButton.State.Normal) : this.InternalChangeState(UIButton.State.Disabled))
}, UIButton.prototype.OnPress = function (t) {
    null != this.target && this.InternalChangeState(t ? UIButton.State.Pressed : UIButton.State.Normal)
}, UIButton.prototype.OnClick = function () {
    for (var t = 0; t < this.onClick.length; t++) {
        var e = this.onClick[t];
        null != e.target && e.target[e.methodName]()
    }
}, UIButton.prototype.SetEnabled = function (t) {
    null != this.gameObject.collider && (this.gameObject.collider.enabled = t, this.InternalChangeState(t ? UIButton.State.Normal : UIButton.State.Disabled))
}, UIButton.prototype.OnDisable = function () {
    var t = null != this.gameObject.collider && this.gameObject.collider.enabled;
    this.InternalChangeState(t ? UIButton.State.Normal : UIButton.State.Disabled)
}, UIButton.prototype.InternalChangeState = function (t) {
    if (null != this.target) {
        switch (t) {
            case UIButton.State.Normal:
                this.targetIsSprite ? (this.target.SetSpriteName(this.normal), this.target.color = this.color_normal) : this.target.SetColor(this.color_normal);
                break;
            case UIButton.State.Hover:
                this.targetIsSprite ? (this.target.SetSpriteName("" != this.hover ? this.hover : this.normal), this.target.color = this.color_hover) : this.target.SetColor(this.color_hover);
                break;
            case UIButton.State.Pressed:
                this.targetIsSprite ? (this.target.SetSpriteName("" != this.pressed ? this.pressed : this.normal), this.target.color = this.color_pressed) : this.target.SetColor(this.color_pressed);
                break;
            case UIButton.State.Disabled:
                this.targetIsSprite ? (this.target.SetSpriteName("" != this.disabled ? this.disabled : this.normal), this.target.color = this.color_disabled) : this.target.SetColor(this.color_disabled);
                break
        }
        this.curState = t
    }
}, goog.provide("UHT.UIButtonScale"), goog.require("UHT.Component"), UIButtonScale.prototype = Object.create(Component.prototype), UIButtonScale.prototype.constructor = UIButtonScale, UIButtonScale.State = {
    Normal: 0,
    Hover: 1,
    Pressed: 2
}, UIButtonScale.prototype.Start = function () {
    this.mStarted || (this.mStarted = !0, null == this.tweenTarget && (this.tweenTarget = this.gameObject.transform), this.normalScale = new UHTMath.Vector3(this.tweenTarget.localScale()), this.hover = new UHTMath.Vector3(this.hover.x * this.normalScale.x, this.hover.y * this.normalScale.y, this.hover.z * this.normalScale.z), this.pressed = new UHTMath.Vector3(this.pressed.x * this.normalScale.x, this.pressed.y * this.normalScale.y, this.pressed.z * this.normalScale.z))
}, UIButtonScale.prototype.OnEnable = function () {
    this.mStarted && this.InternalChangeState(UIButton.State.Normal)
}, UIButtonScale.prototype.OnDisable = function () {
    this.mStarted && null != this.tweenTarget && this.InternalChangeState(UIButton.State.Normal)
}, UIButtonScale.prototype.OnPress = function (t) {
    this.enabled && (this.mStarted || this.Start(), this.InternalChangeState(t ? UIButton.State.Pressed : UIButton.State.Normal))
}, UIButtonScale.prototype.OnHover = function (t) {
    this.enabled && (this.mStarted || this.Start(), this.InternalChangeState(t ? UIButton.State.Hover : UIButton.State.Normal))
}, UIButtonScale.prototype.InternalChangeState = function (t) {
    if (null != this.tweenTarget) switch (t) {
        case UIButtonScale.State.Normal:
            this.tweenTarget.localScale(this.normalScale);
            break;
        case UIButtonScale.State.Hover:
            this.tweenTarget.localScale(this.hover);
            break;
        case UIButtonScale.State.Pressed:
            this.tweenTarget.localScale(this.pressed);
            break;
        default:
            this.tweenTarget.localScale(this.normalScale)
    }
}, goog.provide("UHT.UIFont"), goog.require("UHT.Component"), UIFont.prototype = Object.create(Component.prototype), UIFont.prototype.constructor = UIFont, UIFont.prototype.deserialize = function (t, e, i) {
    deserializeComponentRec(t, this, e, i), this.SetBitmapFontName(), this.LoadFont()
}, UIFont.prototype.SetBitmapFontName = function () {
    var t = this.fontData.search("face=") + 6,
        e = this.fontData.search("size=") - 2;
    this.name = this.fontData.substring(t, e)
}, UIFont.prototype.AfterLoad = function () {
    if (this.callback.length > 0)
        for (var t = 0; t < this.callback.length; t++) this.callback[t].call(this.object[t]);
    this.hasFontLoaded = !0
}, UIFont.prototype.LoadFont = function () {
    this.isLoading = !0;
    var t = PIXI.Texture.fromImage(this.texture, void 0, void 0, this["texture_@GUID"]);
    this.texture = "";
    var e = (new DOMParser).parseFromString(this.fontData, "text/xml"),
        i = e.getElementsByTagName("char");
    this.chars = "";
    for (var n = 0; n < i.length; n++) this.chars += String.fromCharCode(i[n].id);
    PIXI.extras.BitmapText.parse(e, t), this.AfterLoad()
}, goog.provide("UHT.UIInput"), goog.require("UHT.Component"), UIInput.prototype = Object.create(Component.prototype), UIInput.prototype.constructor = UIInput, UIInput.Validation = {
    None: 0,
    Integer: 1,
    Float: 2,
    Alphanumeric: 3,
    Username: 4,
    Name: 5
}, UIInput.curSelectedUIInput = null, UIInput.prototype.Start = function () {
    this.SetValue(this.value), this.label.SetColor(this.activeTextColor), this.caretCachedPosition = this.caretGameObject.transform.localPosition()
}, UIInput.prototype.OnDisable = function () {
    this.Select(!1)
}, UIInput.prototype.OnClick = function () {
    if (this.Select(!0), Globals.isMobile && null != this.mobilePromptMessage) {
        var t = prompt(this.mobilePromptMessage.text);
        null == t ? this.userCanceledInput.Start() : (this.Insert(t), this.Select(!1))
    }
}, UIInput.prototype.Update = function () {
    if (this.isSelected && ((Input.GetKeyDown(KeyCode.Alpha0) || Input.GetKeyDown(KeyCode.Keypad0)) && this.Insert("0"), (Input.GetKeyDown(KeyCode.Alpha1) || Input.GetKeyDown(KeyCode.Keypad1)) && this.Insert("1"), (Input.GetKeyDown(KeyCode.Alpha2) || Input.GetKeyDown(KeyCode.Keypad2)) && this.Insert("2"), (Input.GetKeyDown(KeyCode.Alpha3) || Input.GetKeyDown(KeyCode.Keypad3)) && this.Insert("3"), (Input.GetKeyDown(KeyCode.Alpha4) || Input.GetKeyDown(KeyCode.Keypad4)) && this.Insert("4"), (Input.GetKeyDown(KeyCode.Alpha5) || Input.GetKeyDown(KeyCode.Keypad5)) && this.Insert("5"), (Input.GetKeyDown(KeyCode.Alpha6) || Input.GetKeyDown(KeyCode.Keypad6)) && this.Insert("6"), (Input.GetKeyDown(KeyCode.Alpha7) || Input.GetKeyDown(KeyCode.Keypad7)) && this.Insert("7"), (Input.GetKeyDown(KeyCode.Alpha8) || Input.GetKeyDown(KeyCode.Keypad8)) && this.Insert("8"), (Input.GetKeyDown(KeyCode.Alpha9) || Input.GetKeyDown(KeyCode.Keypad9)) && this.Insert("9"), (Input.GetKeyDown(KeyCode.Comma) || Input.GetKeyDown(KeyCode.DecimalPoint) || Input.GetKeyDown(KeyCode.Period)) && this.Insert("."), Input.GetKeyDown(KeyCode.Backspace) && this.DoBackspace(), this.OnKeyDownUpdate(), null != this.label.pixiObjectContent)) {
        var t = new UHTMath.Vector3(this.caretCachedPosition);
        t.x += 0 == this.label.text.length ? 0 : (this.label.pixiObjectContent.canvas.width - this.label.pixiObjectContent.extraWidthDueToEffects) / this.label.resize, this.caretGameObject.transform.localPosition(t)
    }
}, UIInput.prototype.Select = function (t) {
    this.isSelected != t && (KeyboardManager._keyboardReceiver = t ? this : {}, this.clearValueOnSelect && !this.isSelected && this.SetValue(""), this.isSelected = t, this.isSelected ? (null != UIInput.curSelectedUIInput && UIInput.curSelectedUIInput.Select(!1), UIInput.curSelectedUIInput = this) : UIInput.curSelectedUIInput = null, this.caretGameObject.SetActive(this.isSelected), this.InternalSetText())
}, UIInput.prototype.ValidateAndNotify = function (t) {
    var e = this.value;
    if (this.Validate(t), e != this.value) {
        null != this.linkedUIInput && this.linkedUIInput.SetValue(this.value);
        for (var i = 0; i < this.onChange.length; i++) {
            var n = this.onChange[i];
            null != n.target && n.target[n.methodName]()
        }
    }
}, UIInput.prototype.Validate = function (t) {
    if (this.value = t, this.characterLimit > 0 && this.value.length > this.characterLimit && (this.value = this.value.substring(0, this.characterLimit)), this.validation != UIInput.Validation.Integer) this.validation, UIInput.Validation.Float;
    else {
        for (; this.value.length > 0;) {
            var e = parseInt(this.value, 10);
            if (isFinite(e) && !isNaN(e)) return void(this.value = e.toString());
            this.value = this.value.substring(0, this.value.length - 1)
        }
        this.value = "0"
    }
}, UIInput.prototype.SetValue = function (t) {
    this.ValidateAndNotify(t), this.InternalSetText()
}, UIInput.prototype.Insert = function (t) {
    if ("." == t) {
        if (/\./.test(this.value)) return;
        _string.IsNullOrEmpty(this.value) && (this.value = "0")
    } else "0" == this.value && (this.value = "");
    this.ValidateAndNotify(this.value + t), this.InternalSetText()
}, UIInput.prototype.DoBackspace = function () {
    this.ValidateAndNotify(this.value.substring(0, this.value.length - 1)), this.InternalSetText()
}, UIInput.prototype.Clear = function () {
    this.ValidateAndNotify("0"), this.InternalSetText()
}, UIInput.prototype.InternalSetText = function () {
    this.label.text = null != this.TextExtraHandler ? this.TextExtraHandler(this.value) : this.value
}, UIInput.prototype.OnKeyDown = function (t) {
    this.isSelected && this.keysPressed.push(t)
}, UIInput.prototype.OnKeyDownUpdate = function () {
    for (; this.keysPressed.length > 0;) {
        var t = this.keysPressed.shift();
        1 == t.length ? this.Insert(t) : "backspace" == t.toLowerCase() ? this.DoBackspace() : "escape" == t.toLowerCase() && this.userCanceledInput.Start()
    }
}, UIInput.prototype.Reset = function () {
    this.Select(!1), this.localizedDefaultValueLabel && this.SetValue(this.localizedDefaultValueLabel.text)
}, goog.provide("UHT.UILabel"), goog.require("UHT.Component"), UILabel.prototype = Object.create(Component.prototype), UILabel.prototype.constructor = UILabel;
var LabelUsageID = 0;

function UILabel() {
    Component.call(this), this.wasInitCalled = !1, this.fontName = null, this.fontSize = 0, this.currentFontSize = 0, this._text = "", this.anchorX = 0, this.anchorY = 0, this.depth = 0, this.color = null, this.overflow = UILabel.Overflow.ShrinkContent, this.alignment = UILabel.Alignment.Automatic, this.effectStyle = UILabel.Effect.Outline, this.effectColor = null, this.effectWidth = 0, this.effectHeight = 0, this.dropShadowDistance = 1.5 * this.effectWidth, this.maxLines = 0, this.width = 2, this.height = 2, this.spacingY = 0, this.multipleLayers = null, this.pixiObject = null, this.pixiObjectContent = null, this.panel = null, this.mask = null, this._pixiPosDirty = !0, this.oldColor = -1, this.textIsUnprocessed = !1, this.mBlurShadow = !1, this.mBlurShadowSize = 1, this.mBlurShadowOffsetX = 1, this.mBlurShadowOffsetY = 1, this.mBlurShadowColor = null, this.mOutline = !1, this.mOutlineThickness = 1, this.mOutlineColor = null, this.mFillCenter = !0, this.mArcRadius = 0, this.rope = null, this.fontNameExpectedFromCallback = "", this.zeroScale = !1, this.isDOG = !1, this.DOGchars = null, this.DOGmonospaceDigits = !1, this.resize = 1, this.dontIgnoreLocalScale = !1, this.useColorForBitmapFont = !1, this.keepInMemory = !1, this.valueDisplayers = null, this.IOSresized = !1, this.usageID = "l" + LabelUsageID, LabelUsageID++
}
Object.defineProperties(UILabel.prototype, {
    text: {
        get: function () {
            return this._text
        },
        set: function (t) {
            this.InternalSetText(t, !1)
        }
    },
    mColor: {
        get: function () {
            return this.color
        }
    }
}), UILabel.Overflow = {
    ShrinkContent: 0,
    ClampContent: 1,
    ResizeFreely: 2,
    ResizeHeight: 3
}, UILabel.Alignment = {
    Automatic: 0,
    Left: 1,
    Center: 2,
    Right: 3,
    Justified: 4
}, UILabel.Effect = {
    None: 0,
    Shadow: 1,
    Outline: 2,
    Outline8: 3,
    Custom: 4,
    Layered: 5
};
var LabelUsage = {};
UILabel.prototype.UseNow = function () {
    var t = LabelUsage[this.usageID];
    null != t && (t.allocated = !0, t.frame = Time.frameCount)
}, UILabel.CheckUsageAndClean = function () {
    if (createjs.BrowserDetect.isIOS)
        for (var t in LabelUsage) {
            var e = LabelUsage[t];
            !e.allocated || e.label.isDOG || e.label.keepInMemory || e.frame < Time.frameCount - 3600 && (e.label.pixiObjectContent.destroy({
                texture: !0,
                baseTexture: !0
            }), e.label.pixiObject = null, e.label.pixiObjectContent = null, e.label.textIsUnprocessed = !0, e.allocated = !1)
        }
}, UILabel.prototype.InternalSetText = function (t, e) {
    var i = String(t);
    if (this._text != i || this.textIsUnprocessed)
        if (this._pixiPosDirty = !0, this._text = i, this.gameObject.activeInHierarchy || e) {
            if (this.textIsUnprocessed = !1, "" == i) return this.overflow == UILabel.Overflow.ResizeFreely && (this.width = 0), void(this.pixiObject = null);
            if (null == this.pixiObject) this.init(e);
            else if ("object" != typeof this.fontName && (this.gameObject.activeInHierarchy || e)) {
                if (this.isDOG) return void(this.textIsUnprocessed = !0);
                this.effectStyle == UILabel.Effect.Custom && this.init(e), this.pixiObjectContent.text = this._text, this.processPixiText()
            }
        } else this.textIsUnprocessed = !0
}, UILabel.prototype.Prepare = function () {
    if (Globals.isMobile && "object" != typeof this.fontName && !this.IOSresized) {
        if (this.fontSize > 30 && this.resize > .9) {
            var t = (this.fontSize - .75 * (this.fontSize - 30)) / this.fontSize;
            this.resize *= t, this.fontSize *= t, this.fontSize = 0 | Math.max(this.fontSize, 2), this.width *= t, this.width = 0 | Math.max(this.width, 2), this.height *= t, this.height = 0 | Math.max(this.height, 2), this.effectWidth *= t, this.effectHeight *= t, this.spacingY *= t, this.mBlurShadowSize *= t, this.mBlurShadowOffsetX *= t, this.mBlurShadowOffsetY *= t, this.mOutlineThickness *= t, this.mArcRadius *= t
        }
        this.IOSresized = !0
    }
    this.fontNameExpectedFromCallback = this.fontName, "object" == typeof this.fontName ? (this.fontName.callback.push(this.init), this.fontName.object.push(this)) : FontLoader.AddHandler(this.fontName, this.init, this)
}, UILabel.prototype.Start = function () {
    this.Prepare(), this.panel = FindPanel(this.gameObject.transform)
}, UILabel.prototype.OnWillRenderObject = function () {
    if (this.textIsUnprocessed && this.InternalSetText(this._text, !1), "object" == typeof this.fontName) {
        if (!this.fontName.hasFontLoaded) return;
        if (this.fontName.isLoading && !this.wasInitCalled && this.init(), null == this.pixiObject) return;
        if (this.pixiObject.mask = this.mask, "string" == typeof (e = this.pixiObjectContent).text && e.text == this._text || (e.text = this._text, e.updateText(), this.processPixiText(), this._pixiPosDirty = !0), this.pixiObject.visible = this.enabled, this.isDOG)
            for (var t = 0; t < e.children.length; t++)(o = e.children[t]).alpha = this.color.a * this.panel.alpha, o.worldAlpha = o.alpha;
        else
            for (t = 0; t < e.children.length; t++) o = e.children[t], this.useColorForBitmapFont ? (o.alpha = this.color.a * this.panel.alpha, o.tint = this.color.rgbAsHex) : o.alpha = 1 * this.panel.alpha, o.worldAlpha = o.alpha
    } else {
        if (this.isDOG) return void this.init();
        if (this.wasInitCalled || this.init(), null == this.pixiObject) return;
        this.pixiObject.mask = this.mask;
        var e = this.pixiObjectContent,
            i = this.color.a < .05;
        if (this.pixiObject.visible = this.enabled && !i, IS_UCBROWSER && this.mFillUseGradient) {
            var n = this.color.a,
                o = this.mFillGradient.colorKeys[0].color;
            this.color = Color.Lerp(o, o, 0), this.color.a = n
        }
        var s = this.color.rgbAsHex;
        this.oldColor != s && (this.oldColor = s, e.style.fill = this.color.rgbAsString(), e.dirty = !0), e.alpha = this.color.a * this.panel.alpha, e.worldAlpha = e.alpha, null != this.rope && (this.rope.alpha = e.alpha, this.rope.worldAlpha = e.alpha), e.text != this._text ? (e.text = this._text, this.processPixiText()) : e.text = this._text
    }
    var a = this.gameObject.transform;
    if (this.pixiObject.visible) {
        e.height;
        if (this.zeroScale ? this.pixiObject.visible = !1 : this.UseNow(), (this._pixiPosDirty || a.IsDirtyUserFlag(Transform._DirtyFlagLabel)) && (a._internal_get_position(), a._internal_get_rotation(), a._internal_get_scale(), a.ClearDirtyUserFlag(Transform._DirtyFlagLabel), this._pixiPosDirty = !1, null != this.pixiObject)) {
            this.pixiObject.dirtyWT = !0;
            var r = this.pixiObject,
                l = this.pixiObjectContent,
                u = a.parent.transform;
            r.x = u._dangerous_get_position().x, r.y = -u._dangerous_get_position().y;
            var h = this.ComputeOffsets(l);
            l.x = a._dangerous_get_localPosition().x * this.resize - h.X, l.y = -a._dangerous_get_localPosition().y * this.resize - h.Y, r.rotation = -u._dangerous_get_rotation().eulerAnglesRad().z, l.rotation = -a._dangerous_get_localRotation().eulerAnglesRad().z, r.scale.x = u._dangerous_get_scale().x / this.resize, r.scale.y = u._dangerous_get_scale().y / this.resize, this.dontIgnoreLocalScale && (l.scale.x = a._dangerous_get_localScale().x, l.scale.y = a._dangerous_get_localScale().y), null != this.rope && (this.rope.rotation = this.pixiObjectContent.rotation), this.zeroScale = Math.abs(r.scale.x * r.scale.y) < 1e-16
        }
    }
}, UILabel.prototype.ComputeOffsets = function (t) {
    var e = 0,
        i = 0,
        n = 0,
        o = 0,
        s = 0;
    switch (this.effectStyle) {
        case UILabel.Effect.Outline:
        case UILabel.Effect.Outline8:
            i = this.mOutlineThickness, n = -this.mOutlineThickness, o = this.mOutlineThickness, s = -this.mOutlineThickness;
            break;
        case UILabel.Effect.Shadow:
            n = -this.dropShadowDistance, s = -this.dropShadowDistance;
            break;
        case UILabel.Effect.Custom:
            if (this.mOutline && (i = this.mOutlineThickness, n = -this.mOutlineThickness, o = this.mOutlineThickness, s = -this.mOutlineThickness), this.mBlurShadow) {
                var a = Math.max(this.mBlurShadowSize - this.mBlurShadowOffsetY, 0);
                i += a, n -= Math.max(2 * this.mBlurShadowSize + Math.abs(this.mBlurShadowOffsetY), 0) - a;
                var r = Math.max(this.mBlurShadowSize - this.mBlurShadowOffsetX, 0);
                o += r, s -= Math.max(2 * this.mBlurShadowSize + Math.abs(this.mBlurShadowOffsetX), 0) - r
            }
            break;
        case UILabel.Effect.Layered:
            i = this.multipleLayers.effectPlusTop, n = this.multipleLayers.effectPlusBottom, o = this.multipleLayers.effectPlusLeft, s = this.multipleLayers.effectPlusRight;
            break;
        default:
            break
    }
    if ("object" == typeof this.fontName) {
        var l = 0,
            u = 0,
            h = {
                textHeight: 0,
                textWidth: 0
            };
        return h = this.pixiObjectContent, e = this.anchorY < .1 ? l + i : this.anchorY > .9 ? u + n + h.textHeight : (l + u + i + n) / 2 + h.textHeight / 2, {
            X: this.anchorX < .1 ? o : this.anchorX > .9 ? s + h.textWidth : (o + s) / 2 + h.textWidth / 2,
            Y: e
        }
    }
    l = t._hack_extraOffsetTop, u = t._hack_extraOffsetBottom;
    var c = .5 * t.determineFontProperties(t._style.font).fontSize;
    return e = this.anchorY < .1 ? l + i : this.anchorY > .9 ? u + n : (l + u + i + n) / 2, {
        X: this.anchorX < .1 ? c + o : this.anchorX > .9 ? -c + s : (o + s) / 2,
        Y: e
    }
};
var DOG_Cache = [];

function UIPanel() {
    Component.call(this), this.container = null, this.depth = 0, this.alpha = 0, this.mask = null, this.container = new PIXI.Container, this.container.worldAlpha = 1
}

function UIRoot() {
    Component.call(this), this.scalingStyle = 0, this.manualWidth = 0, this.manualHeight = 0, this.minimumHeight = 0, this.maximumHeight = 0, this.fitWidth = !0, this.fitHeight = !0, this.adjustByDPI = !1, this.shrinkPortraitUI = !1, this.oldscale = -1, this.portraitPLNLayoutActive = !1, this.landscapeLLNLayoutActive = !1, this.gameAnchorRatio_UpperLimit = 22.5, this.screenOffsetPortY = 785, this.noBlackBandsUntilPortPLN = !0, this.noBlackBandsUntilLandLLN = !0, this.SpinBetAutoplayBtns_AnchoredOnPortLayouts = !1
}

function UISprite() {
    Component.call(this), this.spriteName = "", this.spriteType = UISprite.Type.Simple, this.fillCenter = !0, this.depth = 0, this.atlas = null, this.width = 0, this.height = 0, this.anchorX = 0, this.anchorY = 0, this.color = null, this.autoResizeBoxCollider = !1, this.pixiObject = null, this.pixiObjectContent = null, this.panel = null, this.mask = null, this._pixiPosDirty = !0, this.oWidth = -1, this.oHeight = -1, this.fillDirection = UISprite.FillDirection.Horizontal, this.fillAmount = 1, this.fillAmountTop = 1, this.fillAmountBottom = 1, this.fillAmountLeft = 1, this.fillAmountRight = 1, this.invert = !1, this.isAtlasLoaded = !1, this.zeroScale = !1
}

function UIZoomSprite() {
    UISprite.call(this), this.zoomAmmount = .5, this.zoomPivot = new UHTMath.Vector3, this.rectFrameO = null, this.rectCropO = null, this.rectTrimO = null
}
UILabel.prototype.init = function (t) {
    if (this.gameObject.activeInHierarchy || !0 === t)
        if ("" != this._text) {
            if (this.fontNameExpectedFromCallback == this.fontName) {
                if (this._pixiPosDirty = !0, this.isDOG && "object" != typeof this.fontName) {
                    if (null == this.DOGchars || !FontLoader.IsLoaded(this.fontName)) return;
                    null != this.pixiObjectContent && this.pixiObjectContent.destroy({
                        texture: !0,
                        baseTexture: !0
                    }), this.pixiObjectContent = new PIXI.Text(""), (_ = this.pixiObjectContent)._hack_NoCutFix = !0, _.style.font = this.fontSize + "px " + this.fontName, _.style.lineHeight = this.fontSize, _.style.spacingY = this.spacingY, _.style.fill = this.color.rgbAsString(), _.alpha = 1, _.text = " ", _.updateText();
                    var e = _._width;
                    this.SetupEffects();
                    for (var i = JSON.stringify(_.style) + this.DOGchars, n = !1, o = 0; o < DOG_Cache.length; o++) DOG_Cache[o].key == i && (this.fontName = DOG_Cache[o].uif, this.fontNameExpectedFromCallback = DOG_Cache[o].uif, this.pixiObjectContent = null, DOG_Cache[o].count++, n = !0);
                    if (!n) {
                        var s, a;
                        this.effectStyle == UILabel.Effect.Layered ? (s = this.multipleLayers.effectWidth, a = this.multipleLayers.effectHeight) : (s = _.style.strokeThickness, a = _.style.strokeThickness, _.style.dropShadow && (s += _.style.dropShadowDistance, a += _.style.dropShadowDistance), _.style.blurShadow && (s += Math.max(2 * _.style.dropShadowDistance + Math.abs(_.style.blurShadowX), 0), a += Math.max(2 * _.style.dropShadowDistance + Math.abs(_.style.blurShadowY), 0)));
                        var r = " ";
                        if (s > 0)
                            for (var l = Math.ceil(s / e), u = 0; u < l; ++u) r += " ";
                        s *= this.anchorX, a *= this.anchorY, a += _._hack_extraOffsetTop, this.effectStyle == UILabel.Effect.Layered && (this.anchorY < .1 ? a -= this.multipleLayers.effectPlusTop : this.anchorY > .9 ? a -= this.multipleLayers.effectPlusBottom : a -= .5 * (this.multipleLayers.effectPlusTop + this.multipleLayers.effectPlusBottom), this.anchorX < .1 ? s -= this.multipleLayers.effectPlusLeft : this.anchorX > .9 ? s -= this.multipleLayers.effectPlusRight : s -= .5 * (this.multipleLayers.effectPlusLeft + this.multipleLayers.effectPlusRight));
                        var h = this.DOGchars,
                            c = h.indexOf(" ") > -1;
                        h.replace(" ", "");
                        var p = [];
                        for (u = 0; u < h.length; ++u) p.push(h[u]);
                        h = (c ? " " : "") + r + p.join(r) + r;
                        var d = "",
                            m = 0,
                            S = 0,
                            g = !1,
                            y = -1;
                        p = [];
                        var f = "",
                            b = '<?xml version="1.0"?><font>';
                        b += '<info face="{0}" size="{1}" bold="0" italic="0" charset="" unicode="1" stretchH="100" smooth="1" aa="1" padding="0,0,0,0" spacing="0,0" outline="0"/>', b += '<common lineHeight="{1}" base="{1}" scaleW="{2}" scaleH="{1}" pages="1" packed="0" alphaChnl="0" redChnl="4" greenChnl="4" blueChnl="4"/>', b += '<chars count="{3}">';
                        for (u = 0; u < h.length; ++u) {
                            if ((g = p.indexOf(h[u]) < 0) && (_.text = h[u], _.updateText(), S = _._width), d += h[u], _.text = d, _.updateText(), g) {
                                var T = _._width - m,
                                    C = m + (T - S),
                                    A = '<char id="{0}" x="{1}" y="0" width="{2}" height="{3}" xoffset="{6}" yoffset="{4}" xadvance="{5}" page="0" chnl="15" />';
                                A = (A = (A = (A = (A = (A = A.replace(/\{0\}/g, String(h[u].charCodeAt(0)))).replace(/\{1\}/g, String(C))).replace(/\{2\}/g, String(S))).replace(/\{3\}/g, String(_._height))).replace(/\{4\}/g, String(-a))).replace(/\{6\}/g, String(-s)), this.DOGmonospaceDigits && /\d/.test(h[u]) ? y < T && (y = T) : A = A.replace(/\{5\}/g, String(T)), b += A, p.push(h[u]), T > 0 && (f += h[u])
                            }
                            m = _._width
                        }
                        if (Renderer.IsWebGL) {
                            var v = globalRenderer.renderer.gl,
                                M = v.getParameter(v.MAX_TEXTURE_SIZE);
                            if (M < m) {
                                var L = M / (m + 1) * .95;
                                return this.fontSize *= L, this.resize *= L, void this.init()
                            }
                        }
                        b += "</chars></font>";
                        var I = UID.Generate();
                        b = (b = (b = (b = (b = b.replace(/\{0\}/g, I)).replace(/\{1\}/g, String(this.fontSize))).replace(/\{2\}/g, String(_._width))).replace(/\{3\}/g, String(h.length))).replace(/\{5\}/g, String(y));
                        var P = (new DOMParser).parseFromString(b, "text/xml");
                        PIXI.extras.BitmapText.parse(P, _._texture);
                        var R = new UIFont;
                        R.name = I, R.isLoading = !0, R.hasFontLoaded = !0, R.chars = f, this.fontName = R, this.fontNameExpectedFromCallback = R, this.pixiObjectContent = null, DOG_Cache.push({
                            key: i,
                            uif: R,
                            count: 0
                        })
                    }
                }
                if (this.pixiObject = new PIXI.Container(null), "object" == typeof this.fontName) {
                    if (!this.fontName.hasFontLoaded) return;
                    this.pixiObjectContent = new PIXI.extras.BitmapText(this._text, {
                        font: this.fontSize + "px " + this.fontName.name
                    }), this.pixiObject.addChild(this.pixiObjectContent);
                    var _ = this.pixiObjectContent;
                    this.currentFontSize = this.fontSize
                } else {
                    null != this.pixiObjectContent && this.pixiObjectContent.destroy({
                        texture: !0,
                        baseTexture: !0
                    }), this.pixiObjectContent = new PIXI.Text(this._text), this.pixiObjectContent.style.padding = .25 * this.fontSize, this.pixiObject.addChild(this.pixiObjectContent);
                    _ = this.pixiObjectContent;
                    if (this.currentFontSize = this.fontSize, _.style.font = this.fontSize + "px " + this.fontName, _.style.lineHeight = this.fontSize, _.style.spacingY = this.spacingY, _.anchor.x = this.anchorX, _.anchor.y = this.anchorY, IS_UCBROWSER && this.mFillUseGradient) {
                        var E = this.color.a,
                            D = this.mFillGradient.colorKeys[0].color;
                        this.color = Color.Lerp(D, D, 0), this.color.a = E
                    }
                    this.oldColor = this.color.rgbAsHex, _.style.fill = this.color.rgbAsString(), _.alpha = this.color.a, this.SetupAlignment(), this.SetupEffects(), this.overflow != UILabel.Overflow.ShrinkContent && this.overflow != UILabel.Overflow.ResizeHeight || (_.style.wordWrap = !0, _.style.wordWrapWidth = this.width)
                }
                this.processPixiText(), this.wasInitCalled = !0
            }
        } else this.overflow == UILabel.Overflow.ResizeFreely && (this.width = 0);
    else this.textIsUnprocessed = !0
}, UILabel.prototype.SetColor = function (t) {
    this.color = t
}, UILabel.prototype.GetColor = function () {
    return this.color
}, UILabel.prototype.SetupEffects = function () {
    switch (this.dropShadowDistance = 1.5 * this.effectWidth, this.effectStyle) {
        case UILabel.Effect.Shadow:
            this.pixiObjectContent.style.dropShadow = !0, this.pixiObjectContent.style.dropShadowAngle = Math.PI / 4, this.pixiObjectContent.style.dropShadowColor = this.effectColor.rgbAsString(), this.pixiObjectContent.style.dropShadowDistance = this.dropShadowDistance;
            break;
        case UILabel.Effect.Outline:
        case UILabel.Effect.Outline8:
            this.mOutlineThickness = this.effectWidth, this.pixiObjectContent.style.stroke = this.effectColor.rgbAsString(), this.pixiObjectContent.style.strokeThickness = 2 * this.mOutlineThickness;
            break;
        case UILabel.Effect.Custom:
            if (this.pixiObjectContent.style.blurShadow = this.mBlurShadow, this.pixiObjectContent.style.blurShadowX = this.mBlurShadowOffsetX, this.pixiObjectContent.style.blurShadowY = this.mBlurShadowOffsetY, this.pixiObjectContent.style.dropShadowColor = this.mBlurShadowColor.rgbAsString(), this.pixiObjectContent.style.dropShadowDistance = this.mBlurShadowSize, this.pixiObjectContent.style.fillCenter = this.mFillCenter, this.pixiObjectContent.style.stroke = this.mOutline ? this.mOutlineColor.rgbAsString() : null, this.mOutline && (this.pixiObjectContent.style.strokeThickness = 2 * this.mOutlineThickness), IS_UCBROWSER) {
                if (this.mFillUseGradient) {
                    var t = this.color.a,
                        e = this.mFillGradient.colorKeys[0].color;
                    this.color = Color.Lerp(e, e, 0), this.color.a = t
                }
                this.mOutlineUseGradient && (this.pixiObjectContent.style.stroke = this.mOutlineGradient.colorKeys[0].color.rgbAsString())
            } else this.pixiObjectContent.style.mFillUseGradient = this.mFillUseGradient, this.pixiObjectContent.style.mFillGradient = this.mFillGradient, this.pixiObjectContent.style.mFillGradientAngle = Math.PI * this.mFillGradientAngle / 180, this.pixiObjectContent.style.mOutlineUseGradient = this.mOutlineUseGradient, this.pixiObjectContent.style.mOutlineGradient = this.mOutlineGradient, this.pixiObjectContent.style.mOutlineGradientAngle = Math.PI * this.mOutlineGradientAngle / 180;
            break;
        case UILabel.Effect.Layered:
            null == this.multipleLayers && (this.multipleLayers = this.GetComponent(LabelMultipleLayers)), this.multipleLayers.SetupEffects(this);
            break;
        default:
            break
    }
}, UILabel.prototype.SetupAlignment = function () {
    if (this.alignment == UILabel.Alignment.Automatic) .5 == this.anchorX ? this.pixiObjectContent.style.align = "center" : 1 == this.anchorX && (this.pixiObjectContent.style.align = "right");
    else switch (this.alignment) {
        case UILabel.Alignment.Center:
            this.pixiObjectContent.style.align = "center";
            break;
        case UILabel.Alignment.Right:
            this.pixiObjectContent.style.align = "right";
            break;
        default:
            break
    }
}, UILabel.prototype.processPixiText = function () {
    var t = this.pixiObjectContent;
    t.dirty = !0;
    t.height;
    if (this.overflow == UILabel.Overflow.ShrinkContent)
        if ("object" == typeof this.fontName) {
            if (this.currentFontSize < this.fontSize)
                for (; t.textHeight < this.height;) t.dirty = !0, this.currentFontSize++, t = new PIXI.extras.BitmapText(this._text, {
                    font: this.currentFontSize + "px " + this.fontName.name
                });
            for (;
                (t.textHeight > this.height || t.textWidth > this.width) && this.currentFontSize > 1;) t.dirty = !0, this.currentFontSize--, t = new PIXI.extras.BitmapText(this._text, {
                font: this.currentFontSize + "px " + this.fontName.name
            });
            this.pixiObjectContent.font.size = this.currentFontSize, this.pixiObjectContent.updateText()
        } else {
            var e = t.style;
            if (t.style = {}, t.style.lineHeight = this.currentFontSize, t.style.spacingY = this.spacingY * this.currentFontSize / this.fontSize, t.style.font = this.currentFontSize + "px " + this.fontName, t.style.wordWrap = !0, t.style.wordWrapWidth = e.wordWrapWidth, t._skipUpdateTexture = !0, this.currentFontSize < this.fontSize && t.height < this.height)
                for (var i = !1, n = this.currentFontSize, o = this.fontSize; !i && this.currentFontSize != this.fontSize;) {
                    this.currentFontSize = 0 | Math.ceil((n + o) / 2), t.dirty = !0, t.style.lineHeight = this.currentFontSize, t.style.spacingY = this.spacingY * this.currentFontSize / this.fontSize, t.style.font = this.currentFontSize + "px " + this.fontName, i = !(h = t.height < this.height) && n >= o - 1, h ? n = this.currentFontSize : o = this.currentFontSize
                }
            if (this.maxLines > 0) {
                var s = this._text.split(/(?:\r\n|\r|\n)/);
                if (t.wordWrap(this._text).split(/(?:\r\n|\r|\n)/).length - (s.length - 1) > this.maxLines)
                    for (i = !1, n = 1, o = this.currentFontSize; !i;) {
                        this.currentFontSize = (n + o) / 2 | 0, t.dirty = !0, t.style.lineHeight = this.currentFontSize, t.style.spacingY = this.spacingY * this.currentFontSize / this.fontSize, t.style.font = this.currentFontSize + "px " + this.fontName, t.height, i = (h = t.wordWrap(this._text).split(/(?:\r\n|\r|\n)/).length - (s.length - 1) <= this.maxLines) && n >= o - 1, h ? n = this.currentFontSize : o = this.currentFontSize
                    }
            }
            if (t.height > this.height || t.width > this.width)
                for (i = !1, n = 1, o = this.currentFontSize; !i;) {
                    if (this.currentFontSize = (n + o) / 2 | 0, t.dirty = !0, t.style.lineHeight = this.currentFontSize, t.style.spacingY = this.spacingY * this.currentFontSize / this.fontSize, t.style.font = this.currentFontSize + "px " + this.fontName, this.maxLines > 0) {
                        s = this._text.split(/(?:\r\n|\r|\n)/);
                        if (t.wordWrap(this._text).split(/(?:\r\n|\r|\n)/).length - (s.length - 1) > this.maxLines)
                            for (var a = !1, r = 1, l = this.currentFontSize; !a;) {
                                this.currentFontSize = (r + l) / 2 | 0, t.dirty = !0, t.style.lineHeight = this.currentFontSize, t.style.spacingY = this.spacingY * this.currentFontSize / this.fontSize, t.style.font = this.currentFontSize + "px " + this.fontName, t.height;
                                var u = t.wordWrap(this._text).split(/(?:\r\n|\r|\n)/).length - (s.length - 1) <= this.maxLines;
                                a = u && r >= l - 1, u ? r = this.currentFontSize : l = this.currentFontSize
                            }
                    }
                    var h;
                    i = (h = !(t.height > this.height || t.width > this.width)) && n >= o - 1, h ? n = this.currentFontSize : o = this.currentFontSize
                }
            t._style = e, t.style.lineHeight = this.currentFontSize, t.style.spacingY = this.spacingY * this.currentFontSize / this.fontSize, t.style.font = this.currentFontSize + "px " + this.fontName, t.dirty = !0, t._skipUpdateTexture = !1, t.height
        } if (this.overflow == UILabel.Overflow.ResizeFreely && ("object" == typeof this.fontName ? this.width = t.textWidth : this.width = t.width), 0 != this.mArcRadius) {
        var c = this.mArcRadius,
            p = -1;
        c < 0 && (c = -c, p = 1);
        for (var d = this.pixiObjectContent.texture.baseTexture.width / (2 * Math.PI * c), m = 200 * d | 0, S = 2 * Math.PI * d / m, g = [], y = 2 * Math.PI * d / 2 + Math.PI / 2, f = 0; f <= m; f++) {
            var b = c * Math.cos(y - S * f),
                T = c * Math.sin(y - S * f);
            g.push(new PIXI.Point(b, T * p))
        }
        null != this.rope && this.pixiObject.removeChild(this.rope), this.rope = new PIXI.mesh.Rope(this.pixiObjectContent.texture, g), this.rope.drawMode = void 0, this.pixiObject.addChild(this.rope), this.rope.position = this.pixiObjectContent.position, this.rope.scale = this.pixiObjectContent.scale, this.rope.rotation = this.pixiObjectContent.rotation, this.pixiObjectContent.renderable = !1
    } else "object" != typeof this.fontName && (LabelUsage[this.usageID] = {
        frame: Time.frameCount,
        label: this,
        allocated: !0
    })
}, UILabel.prototype.GetWidth = function () {
    return this.InternalSetText(this._text, !1), this.width / this.resize
}, UILabel.prototype.SetWidth = function (t) {
    this.width = t * this.resize, this.textIsUnprocessed = !0, this.InternalSetText(this._text, !0)
}, UILabel.prototype.GetHeight = function () {
    return this.InternalSetText(this._text, !1), this.height / this.resize
}, UILabel.prototype.SetHeight = function (t) {
    this.height = t * this.resize, this.textIsUnprocessed = !0, this.InternalSetText(this._text, !0)
}, UILabel.prototype.deserialize = function (t, e, i) {
    if (t.dontIgnoreLocalScale = null != t.dontIgnoreLocalScale && t.dontIgnoreLocalScale, t.useColorForBitmapFont = null != t.useColorForBitmapFont && t.useColorForBitmapFont, t.keepInMemory = null != t.keepInMemory && t.keepInMemory, t.resize = null != t.resize ? t.resize : 1, t.depth = null != t.depth ? t.depth : 0, t.fontSize = null != t.fontSize ? t.fontSize : 0, t.anchorX = null != t.anchorX ? t.anchorX : .5, t.anchorY = null != t.anchorY ? t.anchorY : .5, t.maxLines = null != t.maxLines ? t.maxLines : 0, t.overflow = null != t.overflow ? t.overflow : UILabel.Overflow.ResizeFreely, t.alignment = null != t.alignment ? t.alignment : UILabel.Alignment.Automatic, null == t.color && (t.color = {}, t.color.nestedFieldType = "Color", t.color.serializableData = {}, t.color.serializableData.c = "w"), t.effectStyle = null != t.effectStyle ? t.effectStyle : UILabel.Effect.None, null == t.effectColor && (t.effectColor = {}, t.effectColor.nestedFieldType = "Color", t.effectColor.serializableData = {}, t.effectColor.serializableData.c = "k"), t.effectWidth = null != t.effectWidth ? t.effectWidth : 1, t.effectHeight = null != t.effectHeight ? t.effectHeight : 1, t.mBlurShadow = null != t.mBlurShadow && t.mBlurShadow, t.mBlurShadowSize = null != t.mBlurShadowSize ? t.mBlurShadowSize : 10, t.mBlurShadowOffsetX = null != t.mBlurShadowOffsetX ? t.mBlurShadowOffsetX : 4, t.mBlurShadowOffsetY = null != t.mBlurShadowOffsetY ? t.mBlurShadowOffsetY : 4, null == t.mBlurShadowColor && (t.mBlurShadowColor = {}, t.mBlurShadowColor.nestedFieldType = "Color", t.mBlurShadowColor.serializableData = {}, t.mBlurShadowColor.serializableData.c = "k"), t.mOutline = null != t.mOutline && t.mOutline, t.mOutlineThickness = null != t.mOutlineThickness ? t.mOutlineThickness : 4, null == t.mOutlineColor && (t.mOutlineColor = {}, t.mOutlineColor.nestedFieldType = "Color", t.mOutlineColor.serializableData = {}, t.mOutlineColor.serializableData.c = "k"), t.mFillCenter = null == t.mFillCenter || t.mFillCenter, t.mFillUseGradient = null != t.mFillUseGradient && t.mFillUseGradient, null == t.mFillGradient) {
        t.mFillGradient = {}, t.mFillGradient.nestedFieldType = "Gradient", t.mFillGradient.serializableData = {}, t.mFillGradient.serializableData.colorKeys = [];
        for (var n = 0; n < 2; n++) t.mFillGradient.serializableData.colorKeys[n] = {}, t.mFillGradient.serializableData.colorKeys[n].nestedFieldType = "GradientColorKey", t.mFillGradient.serializableData.colorKeys[n].serializableData = {}, t.mFillGradient.serializableData.colorKeys[n].serializableData.color = {}, t.mFillGradient.serializableData.colorKeys[n].serializableData.color.nestedFieldType = "Color", t.mFillGradient.serializableData.colorKeys[n].serializableData.color.serializableData = {}, t.mFillGradient.serializableData.colorKeys[n].serializableData.color.serializableData.c = "w", t.mFillGradient.serializableData.colorKeys[n].serializableData.time = n;
        t.mFillGradient.serializableData.alphaKeys = [];
        for (n = 0; n < 2; n++) t.mFillGradient.serializableData.alphaKeys[n] = {}, t.mFillGradient.serializableData.alphaKeys[n].nestedFieldType = "GradientAlphaKey", t.mFillGradient.serializableData.alphaKeys[n].serializableData = {}, t.mFillGradient.serializableData.alphaKeys[n].serializableData.alpha = 1, t.mFillGradient.serializableData.alphaKeys[n].serializableData.time = n
    }
    if (t.mFillGradientAngle = null != t.mFillGradientAngle ? t.mFillGradientAngle : 0, t.mOutlineUseGradient = null != t.mOutlineUseGradient && t.mOutlineUseGradient, null == t.mOutlineGradient) {
        t.mOutlineGradient = {}, t.mOutlineGradient.nestedFieldType = "Gradient", t.mOutlineGradient.serializableData = {}, t.mOutlineGradient.serializableData.colorKeys = [];
        for (n = 0; n < 2; n++) t.mOutlineGradient.serializableData.colorKeys[n] = {}, t.mOutlineGradient.serializableData.colorKeys[n].nestedFieldType = "GradientColorKey", t.mOutlineGradient.serializableData.colorKeys[n].serializableData = {}, t.mOutlineGradient.serializableData.colorKeys[n].serializableData.color = {}, t.mOutlineGradient.serializableData.colorKeys[n].serializableData.color.nestedFieldType = "Color", t.mOutlineGradient.serializableData.colorKeys[n].serializableData.color.serializableData = {}, t.mOutlineGradient.serializableData.colorKeys[n].serializableData.color.serializableData.c = "w", t.mOutlineGradient.serializableData.colorKeys[n].serializableData.time = n;
        t.mOutlineGradient.serializableData.alphaKeys = [];
        for (n = 0; n < 2; n++) t.mOutlineGradient.serializableData.alphaKeys[n] = {}, t.mOutlineGradient.serializableData.alphaKeys[n].nestedFieldType = "GradientAlphaKey", t.mOutlineGradient.serializableData.alphaKeys[n].serializableData = {}, t.mOutlineGradient.serializableData.alphaKeys[n].serializableData.alpha = 1, t.mOutlineGradient.serializableData.alphaKeys[n].serializableData.time = n
    }
    t.mOutlineGradientAngle = null != t.mOutlineGradientAngle ? t.mOutlineGradientAngle : 0, t.spacingY = null != t.spacingY ? t.spacingY : 0, t.mArcRadius = null != t.mArcRadius ? t.mArcRadius : 0, deserializeComponentRec(t, this, e, i)
}, goog.provide("UHT.UIPanel"), goog.require("UHT.Component"), UIPanel.prototype = Object.create(Component.prototype), UIPanel.prototype.constructor = UIPanel, Object.defineProperties(UIPanel.prototype, {
    mAlpha: {
        get: function () {
            return this.alpha
        },
        set: function (t) {
            this.alpha = t
        }
    }
}), UIPanel.prototype.OnWillRenderObject = function () {
    var t = this.container;
    t.children = [];
    var e = this.alpha < .05;
    t.visible = this.enabled && !e, t.mask = this.mask, this.gameObject.transform.IsDirtyUserFlag(Transform._DirtyFlagPanel) && (this.gameObject.transform.ClearDirtyUserFlag(Transform._DirtyFlagPanel), this.container.dirtyWT = !0)
}, UIPanel.prototype.SetPanelAlpha = function (t) {
    this.alpha = _number.otod(t)
}, goog.provide("UHT.UIRoot"), goog.require("UHT.Component"), UIRoot.prototype = Object.create(Component.prototype), UIRoot.prototype.constructor = UIRoot, UIRoot.prototype.Update = function () {
    var t = this.manualWidth / this.manualHeight,
        e = UHTScreen.width / UHTScreen.height,
        i = this.gameObject.transform.localScale();
    i.x = Math.min(t, e) / t * 2 / this.manualHeight, i.y = i.x, Math.abs(this.oldscale - i.x) > UHTMath.numberError && (this.oldscale = i.x, this.gameObject.transform.localScale(i))
}, goog.provide("UHT.UISprite"), goog.require("UHT.Component"), UISprite.prototype = Object.create(Component.prototype), UISprite.prototype.constructor = UISprite, Object.defineProperties(UISprite.prototype, {
    mColor: {
        get: function () {
            return this.color
        }
    }
}), UISprite.Type = {
    Simple: 0,
    Sliced: 1,
    Tiled: 2,
    Filled: 3,
    Advanced: 4
}, UISprite.FillDirection = {
    Horizontal: 0,
    Vertical: 1,
    Radial90: 2,
    Radial180: 3,
    Radial360: 4,
    Custom: 5
}, UISprite.prototype.Start = function () {
    this.SetSpriteName(this.spriteName), this.panel = FindPanel(this.gameObject.transform)
}, UISprite.prototype.OnWillRenderObject = function () {
    if (null != this.pixiObject) {
        this.spriteType == UISprite.Type.Sliced && (this.oWidth == this.width && this.oHeight == this.height || this.SetSpriteName(this.spriteName));
        var t = this.pixiObjectContent,
            e = this.color.a < .05 && 0 == this.atlas.blendMode;
        switch (this.pixiObject.visible = this.enabled && !e, this.spriteType) {
            case UISprite.Type.Simple:
            case UISprite.Type.Filled:
                t.tint = this.color.rgbAsHex, t.alpha = this.color.a * this.panel.alpha, t.worldAlpha = t.alpha;
                break;
            case UISprite.Type.Sliced:
                for (var i = 0; i < t.children.length; i++) {
                    var n = t.children[i];
                    n.tint = this.color.rgbAsHex, n.alpha = this.color.a * this.panel.alpha, n.worldAlpha = n.alpha
                }
                break;
            default:
                break
        }
        var o = this.gameObject.transform;
        if (this.atlas.isLoaded() && !this.isAtlasLoaded && (this.isAtlasLoaded = !0, this.pixiObject.dirtyWT = !0), this.pixiObject.visible && (this.zeroScale ? this.pixiObject.visible = !1 : null != this.atlas && this.atlas.UseNow(), this._pixiPosDirty || o.IsDirtyUserFlag(Transform._DirtyFlagSprite))) {
            this.pixiObject.dirtyWT = !0, o._internal_get_position(), o._internal_get_rotation(), o._internal_get_scale(), o.ClearDirtyUserFlag(Transform._DirtyFlagSprite), this._pixiPosDirty = !1;
            var s = this.pixiObject,
                a = o.parent.transform;
            switch (s.x = a._dangerous_get_position().x, s.y = -a._dangerous_get_position().y, t.x = o._dangerous_get_localPosition().x, t.y = -o._dangerous_get_localPosition().y, s.rotation = -a._dangerous_get_rotation().eulerAnglesRad().z, t.rotation = -o._dangerous_get_localRotation().eulerAnglesRad().z, this.spriteType) {
                case UISprite.Type.Simple:
                case UISprite.Type.Filled:
                    s.scale.x = a._dangerous_get_scale().x, s.scale.y = a._dangerous_get_scale().y, t.width = this.width * o._dangerous_get_localScale().x, t.height = this.height * o._dangerous_get_localScale().y;
                    break;
                case UISprite.Type.Sliced:
                    s.scale.x = a._dangerous_get_scale().x, s.scale.y = a._dangerous_get_scale().y, t.scale.x = o._dangerous_get_localScale().x, t.scale.y = o._dangerous_get_localScale().y;
                    break;
                default:
                    break
            }
            this.zeroScale = Math.abs(s.scale.x * s.scale.y) < 1e-16
        }
    }
}, UISprite.prototype.SetSpriteNameForAnimation = function (t) {
    if (this.spriteName = t, null != this.atlas && this.spriteType == UISprite.Type.Simple && null != this.pixiObject) {
        this.pixiObjectContent.texture = this.atlas.getTextureInfoForSprite(this, this.spriteName);
        var e = this.pixiObjectContent;
        return e.width = this.width, void(e.height = this.height)
    }
    this.SetSpriteName(t)
}, UISprite.prototype.SetSpriteName = function (t) {
    if (null == this.panel && (this.panel = FindPanel(this.gameObject.transform)), this.spriteName = t, this._pixiPosDirty = !0, null != this.atlas) switch (this.spriteType) {
        case UISprite.Type.Simple:
            var e = this.atlas.getTextureInfoForSprite(this, this.spriteName);
            this.pixiObject = new PIXI.Container(null), this.pixiObjectContent = new PIXI.Sprite(e), (i = this.pixiObjectContent).anchor.x = this.anchorX, i.anchor.y = this.anchorY, i.width = this.width, i.height = this.height, i.blendMode = this.atlas.blendMode, this.pixiObject.addChild(i);
            break;
        case UISprite.Type.Filled:
            e = this.atlas.getTextureInfoForSprite(this, this.spriteName);
            this.pixiObject = new PIXI.Container(null), this.pixiObjectContent = new PIXI.Sprite(e), (i = this.pixiObjectContent).anchor.x = this.anchorX, i.anchor.y = this.anchorY, i.width = this.width, i.height = this.height, i.blendMode = this.atlas.blendMode, this.pixiObject.addChild(i);
            break;
        case UISprite.Type.Sliced:
            this.pixiObject = new PIXI.Container(null), this.pixiObjectContent = new PIXI.Container(null);
            var i = this.pixiObjectContent,
                n = this.atlas.getTextureInfoForSprite(this, this.spriteName),
                o = (.5 - this.anchorX) * this.width,
                s = (.5 - this.anchorY) * this.height,
                a = Renderer.IsWebGL ? 0 : 1,
                r = n.borderLeft,
                l = n.borderRight,
                u = n.borderTop,
                h = n.borderBottom,
                c = n.paddingLeft,
                p = n.paddingRight,
                d = n.paddingBottom,
                m = n.paddingTop,
                S = 100 / this.atlas.resize;
            r *= S, l *= S, u *= S, h *= S, c *= S, p *= S, d *= S, m *= S;
            var g = this.width,
                y = this.height,
                f = g / 2,
                b = y / 2,
                T = g - r - c - l - p,
                C = y - u - m - h - d,
                A = T / 2,
                v = C / 2;
            if (u > 0 && r > 0) {
                var M = new PIXI.Sprite(n.texture00);
                M.anchor.x = 1, M.anchor.y = 1, M.x = o, M.y = s, M.x -= f - r - c, M.y -= b - u - m, M.width = r + c, M.height = u + m, M.blendMode = this.atlas.blendMode, i.addChild(M)
            }
            if (u > 0) {
                var L = new PIXI.Sprite(n.texture01);
                L.anchor.x = .5, L.anchor.y = 1, L.x = o, L.y = s, L.x += A + r + c - f, L.y -= b - u - m, L.width = T + a, L.height = u + m, L.blendMode = this.atlas.blendMode, i.addChild(L)
            }
            if (u > 0 && l > 0) {
                var I = new PIXI.Sprite(n.texture02);
                I.anchor.x = 0, I.anchor.y = 1, I.x = o, I.y = s, I.x += f - l - p, I.y -= b - u - m, I.width = l + p, I.height = u + m, I.blendMode = this.atlas.blendMode, i.addChild(I)
            }
            if (r > 0) {
                var P = new PIXI.Sprite(n.texture10);
                P.anchor.x = 1, P.anchor.y = .5, P.x = o, P.y = s, P.x -= f - r - c, P.y += v + u + m - b, P.width = r + c, P.height = C + a, P.blendMode = this.atlas.blendMode, i.addChild(P)
            }
            if (this.fillCenter) {
                var R = new PIXI.Sprite(n.texture11);
                R.anchor.x = .5, R.anchor.y = .5, R.x = o, R.y = s, R.x += A + r + c - f, R.y += v + u + m - b, R.width = T + a, R.height = C + a, R.blendMode = this.atlas.blendMode, i.addChild(R)
            }
            if (l > 0) {
                var _ = new PIXI.Sprite(n.texture12);
                _.anchor.x = 0, _.anchor.y = .5, _.x = o, _.y = s, _.x += f - l - p, _.y += v + u + m - b, _.width = l + p, _.height = C + a, _.blendMode = this.atlas.blendMode, i.addChild(_)
            }
            if (h > 0 && r > 0) {
                var E = new PIXI.Sprite(n.texture20);
                E.anchor.x = 1, E.anchor.y = 0, E.x = o, E.y = s, E.x -= f - r - c, E.y += b - h - d, E.width = r + c, E.height = h + d, E.blendMode = this.atlas.blendMode, i.addChild(E)
            }
            if (h > 0) {
                var D = new PIXI.Sprite(n.texture21);
                D.anchor.x = .5, D.anchor.y = 0, D.x = o, D.y = s, D.x += A + r + c - f, D.y += b - h - d, D.width = T + a, D.height = h + d, D.blendMode = this.atlas.blendMode, i.addChild(D)
            }
            if (h > 0 && l > 0) {
                var O = new PIXI.Sprite(n.texture22);
                O.anchor.x = 0, O.anchor.y = 0, O.x = o, O.y = s, O.x += f - l - p, O.y += b - h - d, O.width = l + p, O.height = h + d, O.blendMode = this.atlas.blendMode, i.addChild(O)
            }
            this.pixiObject.addChild(i), this.oWidth = this.width, this.oHeight = this.height;
            break;
        default:
            this.pixiObject = new PIXI.Container(null), this.pixiObjectContent = new PIXI.Sprite(null), this.pixiObject.addChild(this.pixiObjectContent);
            break
    }
    this.autoResizeBoxCollider && null != this.gameObject.collider && (this.gameObject.collider.size.x = this.width, this.gameObject.collider.size.y = this.height, this.anchorX < .4 ? this.gameObject.collider.center.x = this.width / 2 : this.anchorX > .6 ? this.gameObject.collider.center.x = -this.width / 2 : this.gameObject.collider.center.x = 0, this.anchorY < .4 ? this.gameObject.collider.center.y = -this.height / 2 : this.anchorY > .6 ? this.gameObject.collider.center.y = this.height / 2 : this.gameObject.collider.center.y = 0, this.gameObject.collider.UpdateCachedMembers())
}, UISprite.prototype.deserialize = function (t, e, i) {
    t.spriteType = null != t.spriteType ? t.spriteType : UISprite.Type.Simple, t.fillCenter = null == t.fillCenter || t.fillCenter, t.depth = null != t.depth ? t.depth : 0, t.anchorX = null != t.anchorX ? t.anchorX : .5, t.anchorY = null != t.anchorY ? t.anchorY : .5, t.fillDirection = null != t.fillDirection ? t.fillDirection : UISprite.FillDirection.Vertical, t.fillAmount = null != t.fillAmount ? t.fillAmount : 1, t.fillAmountTop = null != t.fillAmountTop ? t.fillAmountTop : 1, t.fillAmountBottom = null != t.fillAmountBottom ? t.fillAmountBottom : 1, t.fillAmountLeft = null != t.fillAmountLeft ? t.fillAmountLeft : 1, t.fillAmountRight = null != t.fillAmountRight ? t.fillAmountRight : 1, t.invert = null != t.invert && t.invert, t.autoResizeBoxCollider = null != t.autoResizeBoxCollider && t.autoResizeBoxCollider, null == t.color && (t.color = {}, t.color.nestedFieldType = "Color", t.color.serializableData = {}, t.color.serializableData.c = "w"), deserializeComponentRec(t, this, e, i)
}, goog.provide("UHT.UIZoomSprite"), goog.require("UHT.UISprite"), UIZoomSprite.prototype = Object.create(UISprite.prototype), UIZoomSprite.prototype.constructor = UIZoomSprite, UIZoomSprite.prototype.GetClampedPivot = function () {
    var t = {
            x: this.zoomPivot.x,
            y: this.zoomPivot.y
        },
        e = .5 - Math.abs((1 - this.zoomAmmount) / 2 - .5);
    return this.zoomPivot.x < e && (t.x = e), this.zoomPivot.x > 1 - e && (t.x = 1 - e), this.zoomPivot.y < e && (t.y = e), this.zoomPivot.y > 1 - e && (t.y = 1 - e), t
}, UIZoomSprite.prototype.ComputeTexture = function () {
    var t = Math.max(.001, 1 - this.zoomAmmount),
        e = this.rectFrameO.clone(),
        i = this.rectTrimO.clone();
    i.width, e.width, i.height, e.height;
    i.x *= t, i.y *= t, i.width *= t, i.height *= t, e.width *= t, e.height *= t;
    var n = this.GetClampedPivot(),
        o = n.x * this.rectFrameO.width - .5 * e.width,
        s = (1 - n.y) * this.rectFrameO.height - .5 * e.height;
    e.x += o, e.y += s;
    var a = e.clone(),
        r = this.pixiObjectContent;
    r.texture.trim = i, r.texture.crop = a, r.texture.frame = e
}, UIZoomSprite.prototype.OnWillRenderObject = function () {
    UISprite.prototype.OnWillRenderObject.call(this), this.ComputeTexture();
    var t = this.pixiObjectContent,
        e = this.gameObject.transform;
    t.width = this.width * e._dangerous_get_localScale().x, t.height = this.height * e._dangerous_get_localScale().y, this.pixiObject.dirtyWT = !0
}, UIZoomSprite.prototype.SetSpriteName = function (t) {
    UISprite.prototype.SetSpriteName.call(this, t);
    var e = this.pixiObjectContent;
    this.rectFrameO = e.texture.crop.clone(), this.rectCropO = e.texture.crop.clone(), this.rectTrimO = e.texture.trim.clone(), e.texture = new PIXI.Texture(e.texture, this.rectFrameO.clone(), this.rectCropO.clone(), this.rectTrimO.clone())
}, goog.provide("UHT.Renderer"), goog.require("UHT.UILabel"), goog.require("UHT.UISprite"), goog.require("UHT.UIZoomSprite"), goog.require("UHT.Camera"), goog.require("UHT.UHTScreen");
var renderCanvas, UHT_DEBUG_TEXT = null,
    PRESERVE_RB_LIST = [{
        vendor: "Huawei",
        model: "ALE-L21"
    }],
    FORCE_CANVAS_LIST = [],
    CachedFrameCount = -1;

function Renderer() {
    this.renderer = null, this.stage = null, this.orderedCameras = [], this.foundCameras = [], this.cachedCameraContainersPerLayer = {}, this.cachedMaskCameraContainersPerLayer = {}, this.foundPanels = [], this.foundZOrderedObjects = [], this.RTunder = null, this.rtUnderSprite = null, this.RTmask = null, this.RTclipped = null, this.rtCameraSprite = null, this.RTfinal = null, this.rtFinalSprite = null, this.hasMaskedCameras = !1, this.fpsCounter = null, this.debugText = null, this.clipMaskFilter = null, this.MaskResize = .5
}
Renderer.IsWebGL = !1;
var rememberedWindowWidth = -1,
    rememberedWindowHeight = -1,
    canvasSizeDirty = !1;
Renderer.prototype.checkWindowSize = function () {
    rememberedWindowWidth != window.innerWidth && (rememberedWindowWidth = window.innerWidth, canvasSizeDirty = !0), rememberedWindowHeight != window.innerHeight && (rememberedWindowHeight = window.innerHeight, canvasSizeDirty = !0)
}, Renderer.prototype.resizeUHTScreen = function () {
    var t = window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI;
    1 == UHT_DEVICE_TYPE.DESKTOP && t > 1.5 && (t = 1.5), t > 2 && (t = 2), UHTScreen.width = Math.floor(rememberedWindowWidth * t), UHTScreen.height = Math.floor(rememberedWindowHeight * t), createjs.BrowserDetect.isIOS && (document.body.style.width = rememberedWindowWidth + "px", "Chrome" == UHT_UA_INFO.browser.name && (renderCanvas.style.width = rememberedWindowWidth + "px", renderCanvas.style.height = rememberedWindowHeight + "px")), canvasSizeDirty = !1
}, Renderer.prototype.init = function () {
    (renderCanvas = document.createElement("canvas")).style.width = "100%", renderCanvas.style.height = "100%", this.checkWindowSize(), this.resizeUHTScreen();
    var t = !1,
        e = navigator.userAgent.indexOf("forceCanvas") > -1,
        i = (new UAParser2).getDevice();
    if (null != i.vendor && null != i.model) {
        var n = i.vendor,
            o = i.model;
        "Apple" != n && (t = !0);
        for (var s = 0; s < FORCE_CANVAS_LIST.length; s++) 0 == n.toUpperCase().indexOf(FORCE_CANVAS_LIST[s].vendor.toUpperCase()) && 0 == o.toUpperCase().indexOf(FORCE_CANVAS_LIST[s].model.toUpperCase()) && (e = !0)
    }
    var a = {
        view: renderCanvas,
        resolution: 1,
        antialias: !1,
        forceFXAA: !1,
        autoResize: !1,
        transparent: !0,
        backgroundColor: 0,
        clearBeforeRender: !1,
        preserveDrawingBuffer: t
    };
    IS_UCBROWSER && (PIXI.SPRITE_BATCH_SIZE = 200), this.renderer = PIXI.autoDetectRenderer(UHTScreen.width, UHTScreen.height, a, e), Renderer.IsWebGL = this.renderer instanceof PIXI.WebGLRenderer, document.body.appendChild(this.renderer.view);
    this.fpsCounter = new PIXI.Text("urs", {
        font: "30px Arial",
        fill: "#000000",
        stroke: "#FFFFFF",
        strokeThickness: 5
    });
    this.debugText = new PIXI.Text("dbg", {
        font: "100px Arial",
        fill: "#FFFFFF",
        stroke: "#000000",
        strokeThickness: 25
    })
}, Renderer.prototype.initMaskTextures = function () {
    this.RTunder = new PIXI.RenderTexture(this.renderer, this.renderer.width, this.renderer.height), this.RTmask = new PIXI.RenderTexture(this.renderer, this.renderer.width * this.MaskResize, this.renderer.height * this.MaskResize), this.RTclipped = new PIXI.RenderTexture(this.renderer, this.renderer.width, this.renderer.height), this.RTfinal = new PIXI.RenderTexture(this.renderer, this.renderer.width, this.renderer.height), this.clipMaskFilter = new CLIPMASKFilter(this.RTunder, this.RTmask), this.initMaskSprites()
}, Renderer.prototype.initMaskSprites = function () {
    this.rtUnderSprite = new PIXI.Sprite(this.RTunder), this.rtUnderSprite.worldAlpha = 1, this.rtCameraSprite = new PIXI.Sprite(this.RTclipped), this.rtCameraSprite.worldAlpha = 1, this.rtCameraSprite.filters = [this.clipMaskFilter], this.rtFinalSprite = new PIXI.Sprite(this.RTfinal), this.rtFinalSprite.worldAlpha = 1
}, Renderer.prototype.doFrame = function () {
    PIXI.SpriteRenderer.SRVBidx = 0, CachedFrameCount = Time.frameCount;
    var t = !1;
    this.renderer.view.width == UHTScreen.width && this.renderer.view.height == UHTScreen.height || (this.renderer.resize(UHTScreen.width, UHTScreen.height), this.hasMaskedCameras && (this.RTunder.resize(UHTScreen.width, UHTScreen.height, !0), this.RTfinal.resize(UHTScreen.width, UHTScreen.height, !0), this.RTmask.resize(UHTScreen.width * this.MaskResize, UHTScreen.height * this.MaskResize, !0), this.RTclipped.resize(UHTScreen.width, UHTScreen.height, !0), this.initMaskSprites()), t = !0), this.orderedCameras = [], this.foundCameras = [], this.foundPanels = [], this.foundZOrderedObjects = [], this.ParseRenderableComponents(), this.orderedCameras = this.foundCameras.sort((function (t, e) {
        return t.depth - e.depth
    }));
    for (var e = 0; e < this.foundPanels.length; e++) this.foundPanels[e].container.children.length > 0 && this.registerPanel(this.foundPanels[e]);
    for (var i = 0; i < this.orderedCameras.length; i++) SortPixiChildren(this.orderedCameras[i].container);
    this.addZOrderedObjects(), null == this.stage && (this.stage = new PIXI.Container), t && (this.stage.dirtyWT = !0), this.stage.children = [], this.stage.dirtyChildren = !0;
    for (var n = 0; n < this.orderedCameras.length; n++) {
        var o = this.orderedCameras[n];
        if (o.HasClippingMask()) {
            this.hasMaskedCameras || (this.hasMaskedCameras = !0, this.initMaskTextures()), this.RTunder.render(this.stage), this.stage.children = [], this.stage.dirtyChildren = !0, this.stage.addChild(this.rtUnderSprite), this.stage.addChild(o.container), this.RTclipped.render(this.stage), this.stage.children = [], this.stage.dirtyChildren = !0;
            var s = o.clipMaskContainer.scale.x,
                a = o.clipMaskContainer.scale.y,
                r = o.clipMaskContainer.position.x,
                l = o.clipMaskContainer.position.y;
            this.stage.addChild(o.clipMaskContainer), o.clipMaskContainer.scale.x *= this.MaskResize, o.clipMaskContainer.scale.y *= this.MaskResize, o.clipMaskContainer.position.x *= this.MaskResize, o.clipMaskContainer.position.y *= this.MaskResize, this.RTmask.clear(), this.RTmask.render(this.stage), o.clipMaskContainer.scale.x = s, o.clipMaskContainer.scale.y = a, o.clipMaskContainer.position.x = r, o.clipMaskContainer.position.y = l, this.stage.children = [], this.stage.dirtyChildren = !0, this.stage.addChild(this.rtCameraSprite), this.RTfinal.render(this.stage), this.stage.children = [], this.stage.dirtyChildren = !0, this.stage.addChild(this.rtFinalSprite)
        } else o.container.children.length > 0 && this.stage.addChild(o.container)
    }
    UHT_DEBUG && this.stage.addChild(this.fpsCounter), null != window.UHT_DEBUG_TEXT && (this.debugText.text = UHT_DEBUG_TEXT, this.stage.addChild(this.debugText)), globalColliderInputManager.pixiObject.dirtyWT = !0, this.stage.addChild(globalColliderInputManager.pixiObject), this.renderer.render(this.stage), Camera.allCameras = this.orderedCameras, UIAtlas.CheckUsageAndClean(), UILabel.CheckUsageAndClean()
}, Renderer.prototype.ParseRenderableComponents = function () {
    for (var t = globalRuntime.onWillRenderList.components, e = 0; e < t.length; e++) {
        var i = t[e];
        null != i && ((i instanceof UISprite || i instanceof UILabel || i instanceof MovieController || i instanceof SpineController) && null != i.pixiObject ? null != i.panel && RegisterPixiChild(i.panel.container, i.pixiObject, i.depth) : i instanceof UIPanel ? this.foundPanels.push(i) : i instanceof Camera ? (i.container.children = [], i.clipMaskContainer.children = [], this.foundCameras.push(i)) : null != i.pixiZOrderedContainer && this.foundZOrderedObjects.push(i), null != i.OnUpdateRenderTexture && i.OnUpdateRenderTexture())
    }
    for (var n = 0; n < this.foundPanels.length; n++) SortPixiChildren(this.foundPanels[n].container)
}, Renderer.prototype.registerPanel = function (t) {
    var e = t.gameObject.layer,
        i = this.cachedCameraContainersPerLayer[e];
    if (i) RegisterPixiChild(i, t.container, t.depth);
    else {
        var n = this.getCameraIndexForLayer(e);
        n >= 0 && (RegisterPixiChild(i = this.orderedCameras[n].container, t.container, t.depth), this.cachedCameraContainersPerLayer[e] = i)
    }
    if (i = this.cachedMaskCameraContainersPerLayer[e]) RegisterPixiChild(i, t.container, t.depth);
    else {
        var o = this.getCameraClipMaskIndexForLayer(e);
        o >= 0 && (RegisterPixiChild(i = this.orderedCameras[o].clipMaskContainer, t.container, t.depth), this.cachedMaskCameraContainersPerLayer[e] = i)
    }
}, Renderer.prototype.getCameraIndexForLayer = function (t) {
    for (var e = 0; e < this.orderedCameras.length; e++) {
        if (1 << t == this.orderedCameras[e].cullingMask) return e
    }
    return -1
}, Renderer.prototype.getCameraClipMaskIndexForLayer = function (t) {
    for (var e = 0; e < this.orderedCameras.length; e++) {
        if (1 << t == this.orderedCameras[e].clipMaskLayer) return e
    }
    return -1
}, Renderer.prototype.addZOrderedObjects = function () {
    if (0 != this.foundZOrderedObjects.length) {
        for (var t = new Array(this.orderedCameras.length), e = 0; e < this.foundZOrderedObjects.length; e++) {
            var i = this.foundZOrderedObjects[e],
                n = this.getCameraIndexForLayer(i.gameObject.layer);
            null == t[n] && (t[n] = []), t[n].push(i)
        }
        for (var o = 0; o < t.length; o++)
            if (null != t[o]) {
                var s = t[o];
                s.sort((function (t, e) {
                    return t.gameObject.transform._dangerous_get_position().z > e.gameObject.transform._dangerous_get_position().z
                }));
                for (var a = 0, r = this.orderedCameras[o].container.children, l = 0; l < r.length; l++) r[l][uhtDepth] < 0 && a++;
                for (var u = s.length - 1; u >= 0; u--) s[u].pixiZOrderedContainer.dirtyWT = !0, this.orderedCameras[o].container.addChildAt(s[u].pixiZOrderedContainer, a);
                this.orderedCameras[o].container.dirtyChildren = !0
            }
    }
}, Renderer.prototype.setFPSCount = function (t) {
    if (null != this.fpsCounter && UHT_DEBUG) {
        var e = [UHT_REVISION.common, UHT_REVISION.desktop, UHT_REVISION.mobile, UHT_BUILD_PATH].join(", ");
        e = [" (", e, ")"].join("");
        var i = [" (configs: ", ServerOptions.configs || "-", ")"].join(""),
            n = Renderer.IsWebGL ? "webgl" : "canvas",
            o = new UAParser2,
            s = o.getDevice(),
            a = o.getBrowser(),
            r = "";
        if (null != s.vendor && null != s.model && null != a.name) {
            var l = s.vendor,
                u = s.model;
            r = "[" + l + ":" + u + ":" + a.name + "] ";
            for (var h = 0; h < PRESERVE_RB_LIST.length; h++) 0 == l.toUpperCase().indexOf(PRESERVE_RB_LIST[h].vendor.toUpperCase()) && 0 == u.toUpperCase().indexOf(PRESERVE_RB_LIST[h].model.toUpperCase()) && (r = "[" + l + ":" + u + "(PRB)] ")
        }
        this.fpsCounter.text = Number(t).toFixed(1) + " fps (" + n + ") " + r + e + i
    }
};
var uhtDepth = "uht_depth",
    uhtFC = "uht_fc";

function SortPixiChildren(t) {
    t.children.sort(SortByUhtDepth)
}

function SortByUhtDepth(t, e) {
    return t[uhtDepth] - e[uhtDepth]
}

function RegisterPixiChild(t, e, i) {
    e.visible && (e[uhtFC] != CachedFrameCount - 1 && (e.dirtyWT = !0), e[uhtDepth] = i, e.parent = t, 0 == e.dirtyWT && 1 != e.dirtyChildren || (t.dirtyChildren = !0), e[uhtFC] = CachedFrameCount, t.children.push(e))
}

function CLIPMASKFilter(t, e) {
    PIXI.AbstractFilter.call(this, null, ["#ifdef GL_FRAGMENT_PRECISION_HIGH", "precision highp float;", "#else", "precision mediump float;", "#endif", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "uniform sampler2D UnderMap;", "uniform sampler2D MaskMap;", "void main(void)", "{", "vec3 col = texture2D(uSampler, vTextureCoord).rgb * vColor.rgb;", "vec3 under = texture2D(UnderMap, vTextureCoord).rgb;", "vec4 mask = texture2D(MaskMap, vTextureCoord);", "vec3 clipped = col * mask.rgb;", "gl_FragColor = vec4(mix(under, clipped, mask.a), 1);", "} "].join("\n"), {
        UnderMap: {
            type: "sampler2D",
            value: t
        },
        MaskMap: {
            type: "sampler2D",
            value: e
        }
    })
}

function FindPanel(t) {
    for (var e = t; null != e;) {
        var i = e.gameObject.GetComponent(UIPanel);
        if (null != i) return i;
        e = e.parent
    }
    return null
}
CLIPMASKFilter.prototype = Object.create(PIXI.AbstractFilter.prototype), CLIPMASKFilter.prototype.constructor = CLIPMASKFilter, goog.provide("UHT.UIUtils");
var AnnouncementAPI = {
    Keys: {
        error: "error",
        announcements: "announcements",
        typeId: "typeId",
        message: "message"
    },
    ErrorCode: {
        Undefined: -1,
        None: 0,
        InvalidParameter: 1,
        AuthenticationError: 2,
        ServiceError: 100
    },
    AnnouncementType: {
        Undefined: 0,
        CommunityJackpotWin: 1,
        TournamentCoinsWin: 2,
        TournamentGiftWin: 3,
        TournamentBetMultiplierWin: 4,
        TournamentFRNWin: 5,
        TournamentFRTWin: 6
    },
    AnnouncementTypeConverter: {}
};
AnnouncementAPI.AnnouncementTypeConverter.types = ["Undefined", "WCJP", "WTC", "WTG", "WTBM", "WTFR", "WTFRT"], AnnouncementAPI.AnnouncementTypeConverter.Convert = function (t) {
    var e = AnnouncementAPI.AnnouncementTypeConverter.types.indexOf(t);
    return e > -1 ? e : AnnouncementAPI.AnnouncementType.Undefined
}, AnnouncementAPI.Announcement = function () {
    this.type = AnnouncementAPI.AnnouncementType.Undefined, this.message = "", this.extraWin = 0
}, AnnouncementAPI.Response = function (t) {
    this.error = AnnouncementAPI.ErrorCode.Undefined, this.dictionary = null, null != t && (this.error = t.error)
}, AnnouncementAPI.UnreadResponse = function (t) {
    AnnouncementAPI.Response.call(this, t), this.announcements = null
}, AnnouncementAPI.UnreadResponse.prototype = Object.create(AnnouncementAPI.Response.prototype), AnnouncementAPI.UnreadResponse.prototype.constructor = AnnouncementAPI.UnreadResponse, AnnouncementAPI.Parser = {}, AnnouncementAPI.Parser.formatOptions = null, AnnouncementAPI.Parser.ParseResponse = function (t) {
    if (_string.IsNullOrEmpty(t)) return null;
    var e = AnnouncementAPI.Keys,
        i = AnnouncementAPI.ErrorCode,
        n = AnnouncementAPI.Response,
        o = _JSON.TryParse(t);
    if (null == o || null == o[e.error]) return null;
    var s = new n;
    s.dictionary = o;
    var a = Number(o[e.error]);
    for (var r in i)
        if (i.hasOwnProperty(r) && i[r] == a) {
            s.error = i[r];
            break
        } return s.error != i.None ? null : s
}, AnnouncementAPI.Parser.ParseUnreadResponse = function (t) {
    var e = AnnouncementAPI.Parser,
        i = AnnouncementAPI.Keys,
        n = AnnouncementAPI.UnreadResponse,
        o = e.ParseResponse(t);
    if (null == o) return null;
    var s = o.dictionary;
    if (null == s[i.announcements]) return null;
    var a = new n(o);
    return a.announcements = e.ParseAnnouncements(s[i.announcements]), a
}, AnnouncementAPI.Parser.ParseAnnouncements = function (t) {
    if (null == t) return null;
    for (var e = AnnouncementAPI.Keys, i = AnnouncementAPI.Announcement, n = AnnouncementAPI.AnnouncementTypeConverter, o = [], s = 0; s < t.length; ++s) {
        var a = t[s];
        if (null != a && null != a[e.typeId] && null != a[e.message]) {
            var r = new i;
            r.type = n.Convert(String(a[e.typeId])), r.message = AnnouncementAPI.Parser.ParseAnnouncementMessage(String(a[e.message]), r), o.push(r)
        }
    }
    return o
}, AnnouncementAPI.Parser.ParseAnnouncementMessage = function (t, e) {
    for (var i = new RegExp("(\\[(.*?)\\])"), n = t.match(i); null != n;) n.length > 2 && (e.extraWin = _number.otod(n[2]), t = t.replace(n[1], LocaleManager.FormatValue(e.extraWin, AnnouncementAPI.Parser.formatOptions))), n = t.match(i);
    return t.replace(new RegExp("<br/>", "g"), "\n")
};
var AnnouncementVars = {
    Announcement: "Announcement",
    Evt_Internal_ShowAnnouncement: "Evt_Internal_ShowAnnouncement",
    Evt_Internal_AnnouncementHandled: "Evt_Internal_AnnouncementHandled",
    Evt_DataToCode_AnnouncementShown: "Evt_DataToCode_AnnouncementShown",
    Evt_Internal_AnnouncementsShown: "Evt_Internal_AnnouncementsShown"
};

function AnnouncementConnection() {
    this.isInit = !1, this.unreadUrl = "/api/gs2c/announcements/unread/", this.unreadInterval = 120, this.unreadTimer = 120, this.isReloadindUnread = !1, this.unreadReloadedHandler = new EventHandler(this, this.OnUnreadReloaded), this.resultLoopStartsPriority = -999, this.resultQueue = null, this.announcements = []
}

function CATButton() {
    Component.call(this), this.catEventPress = null, this.catEventRelease = null, this.catEventClick = null, this.catEventHoverOn = null, this.catEventHoverOff = null, this.holdTimer = 1, this.catEventHold = null, this.holdTriggerDelay = 0, this.isHeld = !1, this.wasHoldEvent = !1, this.wasHover = !1
}

function CATLink() {
    this.id = 0, this.cat = null
}

function CAT_Infector() {
    Component.call(this), this.infections = []
}

function EventInfection() {
    this.hostCATPath = "", this.hostCATEventID = 0, this.infectedHost = null, this.parasiteLink = null
}

function CAT_Event() {
    this.id = 0, this.userFriendlyName = "", this.actions = [], this.playAutomatically = !1, this.timeScaleID = "", this.startTime = -1, this.curTime = -1, this.callback = [], this.isRunning = !1, this.parent = null, this.isEnabled = !0
}
AnnouncementConnection.prototype.Init = function () {
    this.isInit = !0;
    var t = _array.create(2);
    t[0] = GameProtocolDictionary.symbol + "=" + ServerOptions.gameSymbol, t[1] = GameProtocolDictionary.mgckey + "=" + ServerOptions.mgckey;
    var e = t.join("&");
    this.unreadUrl = ServerOptions.serverUrl + this.unreadUrl, this.unreadUrl += this.QueryPrefix(this.unreadUrl) + e, AnnouncementAPI.Parser.formatOptions = new FormatOptions, XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts, this.OnInjectResultLoopStarts, this, this.resultLoopStartsPriority), XT.RegisterCallbackEvent(AnnouncementVars.Evt_Internal_AnnouncementHandled, this.OnAnnouncementHandled, this), XT.RegisterCallbackEvent(AnnouncementVars.Evt_DataToCode_AnnouncementShown, this.NextAnnouncement, this)
}, AnnouncementConnection.prototype.OnInjectResultLoopStarts = function () {
    if (0 != this.announcements.length) {
        var t = XT.GetObject(Vars.RespinData);
        if (null == t || t.IsDone) {
            var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
            null != e && e.IsFreeSpin || (null == this.resultQueue && (this.resultQueue = XT.GetObject(Vars.RQManagerObject)), this.resultQueue.AddRoutineQueueItem(new RQITriggerCallback(this.OnResultLoopStarts, null, this)), this.resultQueue.AddRoutineQueueItem(new RQIWaitForXTEvent(AnnouncementVars.Evt_Internal_AnnouncementsShown)))
        }
    }
}, AnnouncementConnection.prototype.OnResultLoopStarts = function (t) {
    this.NextAnnouncement()
}, AnnouncementConnection.prototype.NextAnnouncement = function () {
    if (0 != this.announcements.length) {
        var t = this.announcements.length;
        XT.SetObject(AnnouncementVars.Announcement, this.announcements[0]), XT.TriggerEvent(AnnouncementVars.Evt_Internal_ShowAnnouncement), t == this.announcements.length && (this.OnAnnouncementHandled(), this.NextAnnouncement())
    } else XT.TriggerEvent(AnnouncementVars.Evt_Internal_AnnouncementsShown)
}, AnnouncementConnection.prototype.OnAnnouncementHandled = function () {
    this.announcements.splice(0, 1)
}, AnnouncementConnection.prototype.QueryPrefix = function (t) {
    return t.indexOf("?") > -1 ? "&" : "?"
}, AnnouncementConnection.prototype.ReloadUnread = function () {
    var t = new ServerRequest;
    t.Url = this.unreadUrl, t.Handler = this.unreadReloadedHandler, t.Method = "GET", RequestManager.AddRequest(t)
}, AnnouncementConnection.prototype.OnUnreadReloaded = function (t, e) {
    this.unreadTimer = 0, this.isReloadindUnread = !1;
    var i = AnnouncementAPI.Parser.ParseUnreadResponse(t);
    null != i && _array.AddRange(this.announcements, i.announcements)
}, AnnouncementConnection.prototype.Update = function () {
    this.isInit && (this.unreadTimer > this.unreadInterval && !this.isReloadindUnread && (this.isReloadindUnread = !0, this.ReloadUnread()), this.unreadTimer += Time.deltaTime)
}, goog.require("UHT.Component"), CATButton.prototype = Object.create(Component.prototype), CATButton.prototype.constructor = CATButton, CATButton.prototype.OnDisable = function () {
    this.OnPress(!1)
}, CATButton.prototype.OnClick = function () {
    if (!this.wasHoldEvent && null != this.catEventClick && null != this.catEventClick.cat) {
        if (this.catEventClick.cat.IsEventRunning(this.catEventClick.id)) return;
        var t = this.gameObject.GetComponent(ClickDelay);
        (null == t || t.CanClick()) && this.catEventClick.Start()
    }
}, CATButton.prototype.OnHover = function (t) {
    if (t) {
        if (null != this.catEventHoverOn && null != this.catEventHoverOn.cat) {
            if (this.catEventHoverOn.cat.IsEventRunning(this.catEventHoverOn.id)) return;
            this.catEventHoverOn.Start()
        }
        this.wasHover = !0
    } else {
        if (null != this.catEventHoverOff && null != this.catEventHoverOff.cat) {
            if (this.catEventHoverOff.cat.IsEventRunning(this.catEventHoverOff.id)) return;
            this.catEventHoverOff.Start()
        }
        this.wasHover = !1
    }
}, CATButton.prototype.OnPress = function (t) {
    t ? (null == this.catEventPress || null == this.catEventPress.cat || this.catEventPress.cat.IsEventRunning(this.catEventPress.id) || this.catEventPress.Start(), null == this.catEventHold || null == this.catEventHold.cat || this.catEventHold.cat.IsEventRunning(this.catEventHold.id) || (this.isHeld = !0, this.wasHoldEvent = !1, this.holdTriggerDelay = this.holdTimer)) : (this.isHeld = !1, null == this.catEventRelease || null == this.catEventRelease.cat || this.catEventRelease.cat.IsEventRunning(this.catEventRelease.id) || this.catEventRelease.Start(), this.wasHover && this.OnHover(!1))
}, CATButton.prototype.Update = function () {
    this.isHeld && (this.holdTriggerDelay > 0 ? this.holdTriggerDelay -= Time.deltaTime : (this.catEventHold.Start(), this.isHeld = !1, this.wasHoldEvent = !0))
}, CATLink.prototype.Start = function () {
    null != this.cat && this.cat.StartEvent(this.id)
}, CATLink.prototype.Stop = function () {
    null != this.cat && this.cat.StopEvent(this.id)
}, CATLink.prototype.IsRunning = function () {
    return null != this.cat && this.cat.IsEventRunning(this.id)
}, CATLink.prototype.RegisterCallback = function (t, e) {
    null != this.cat && this.cat.RegisterCallback(this.id, t, e)
}, CATLink.prototype.UnregisterCallback = function (t, e) {
    null != this.cat && this.cat.UnregisterCallback(this.id, t, e)
}, CATLink.prototype.GetMaxDelay = function () {
    return this.cat.GetEventMaxDelay(this.id)
}, goog.require("UHT.Component"), CAT_Infector.prototype = Object.create(Component.prototype), CAT_Infector.prototype.constructor = CAT_Infector, CAT_Infector.prototype.Awake = function () {
    this.SpreadInfectionInScene()
}, CAT_Infector.prototype.SpreadInfectionInScene = function () {
    for (var t = 0; t < this.infections.length; t++) {
        var e = this.infections[t],
            i = globalRuntime.sceneRoots[1].transform.Find(e.hostCATPath.slice((globalRuntime.sceneRoots[1].name + "/").length)),
            n = null;
        null != i && (n = i.GetComponent(CAT_Container)), null != n && this.Infect(e, n)
    }
}, CAT_Infector.prototype.Infect = function (t, e) {
    if (null != t.parasiteLink && null != t.parasiteLink.cat && null != t.parasiteLink.cat.GetEventByID(t.parasiteLink.id))
        for (var i = 0; i < e.events.length; i++)
            if (e.events[i].id == t.hostCATEventID) {
                e.events[i].actions.push(t.AsCatAction()), t.infectedHost = e;
                break
            }
}, EventInfection.prototype.AsCatAction = function () {
    var t = new CAT_Action_CATLink;
    return t.actionType = CAT_Action_CATLink.ActionType.StartEvent_NoWait, t.eventId = this.parasiteLink, t
}, goog.provide("UHT.CAT_Event"), CAT_Event.prototype.Start = function () {
    if (this.isEnabled && !this.isRunning) {
        var t = 0;
        for (var e in this.actions) {
            var i = this.actions[e];
            i.isEnabled ? i.delay <= .001 ? (i.ChangeState(CATState.Running), i.GetState() == CATState.Finished && t++) : i.ChangeState(CATState.Waiting) : (i.ChangeState(CATState.Finished), t++)
        }
        this.startTime = this.curTime = Time.time, this.isRunning = !0, this.parent.AddRunningEvent(this), this.InternalUpdateRunningState(t)
    }
}, CAT_Event.prototype.Stop = function () {
    var t = 0;
    for (var e in this.actions) {
        var i = this.actions[e];
        i.GetState() == CATState.Running ? (i.ChangeState(CATState.Stopping), i.GetState() == CATState.Finished && t++) : i.GetState() == CATState.Waiting ? (i.ChangeState(CATState.Finished), t++) : i.GetState() == CATState.Finished && t++
    }
    this.InternalUpdateRunningState(t)
}, CAT_Event.prototype.Update = function () {
    var t = 0;
    for (var e in this.curTime += TimeScaler.GetDeltaTime(this.timeScaleID), this.actions) {
        var i = this.actions[e];
        switch (i.GetState()) {
            case CATState.Waiting:
                this.curTime > i.delay + this.startTime && i.ChangeState(CATState.Running);
                break;
            case CATState.Running:
            case CATState.Stopping:
                i.CATUpdate();
                break;
            case CATState.Finished:
                t++;
                break;
            case CATState.Stopped:
            default:
                break
        }
    }
    this.InternalUpdateRunningState(t)
}, CAT_Event.prototype.InternalUpdateRunningState = function (t) {
    if (t == this.actions.length) {
        for (var e in this.actions) this.actions[e].ChangeState(CATState.Stopped);
        for (e = 0; e < this.callback.length; ++e) {
            var i = this.callback[e];
            i.callback.call(i.object, CAT_Event.CallbackType.EndOfEvent, this)
        }
        this.isRunning = !1, this.parent.RemoveRunningEvent(this)
    }
}, CAT_Event.prototype.RegisterCallback = function (t, e) {
    this.callback.push({
        object: e,
        callback: t
    })
}, CAT_Event.prototype.UnregisterCallback = function (t, e) {
    for (var i = 0; i < this.callback.length; ++i) {
        var n = this.callback[i];
        if (n.object == e && n.callback == t) return void this.callback.splice(i, 1)
    }
}, CAT_Event.CallbackType = {
    EndOfEvent: 0
}, CAT_Event.prototype.SetParent = function (t) {
    this.parent = t
}, CAT_Event.prototype.GetMaxDelay = function () {
    var t = 0;
    for (var e in this.actions) this.actions[e].delay > t && (t = this.actions[e].delay);
    return t
}, goog.require("UHT.CAT_Event"), goog.provide("UHT.CAT_Action");
var CATState = {
    Waiting: 0,
    Running: 1,
    Finished: 2,
    Stopping: 3,
    Stopped: 4
};

function CAT_Action() {
    this.delay = 0, this.isExpanded = !0, this.isEnabled = !0, this.debugBreak = !1, this.internalState = CATState.Stopped
}

function CAT_Action_CATLink() {
    CAT_Action.call(this), this.actionType = CAT_Action_CATLink.ActionType.StartEvent, this.eventId = null
}

function CAT_Action_MusicController() {
    CAT_Action.call(this), this.clipName = CAT_Action_MusicController.noClip, this.actionType = CAT_Action_MusicController.ActionType.PlayMusicClip, this.useFading = !1, this.fadeInDuration = .5, this.fadeOutDuration = .5, this.duckingStep = 0, this.autoUnduck = !1, this.delayToAutoUnduck = -1
}

function CAT_Action_ObjActivate() {
    CAT_Action.call(this), this.ToEnableList = [], this.ToDisableList = []
}

function CAT_Action_PlayAudioClip() {
    CAT_Action.call(this), this.audioClip = null
}

function CAT_Action_SetTransform() {
    CAT_Action.call(this), this.objects = [], this.setLocalPosition = !1, this.newLocalPosition = new UHTMath.Vector3(0, 0, 0), this.setLocalRotation = !1, this.newLocalRotation = new UHTMath.Vector3(0, 0, 0), this.setLocalScale = !1, this.newLocalScale = new UHTMath.Vector3(1, 1, 1)
}

function CAT_Action_SetXTBool() {
    CAT_Action.call(this), this.BoolToCode = null, this.val = !1
}

function CAT_Action_StopAudioClip() {
    CAT_Action.call(this), this.audioClip = null
}

function CAT_Action_TriggerXTEvent() {
    CAT_Action.call(this), this.EventToCode = null
}

function XTVar() {
    this.name = ""
}

function XT() {}

function CompareVariableHolderEventByPriority(t, e) {
    return t.priority - e.priority
}

function XTVariableHolderBase() {
    this.OnValueChanged = [], this.valueIsAssigned = !1, this.value = null
}

function XTVariableHolderEvent() {
    XTVariableHolderBase.call(this), this.priority = 0
}
CAT_Action.prototype.GetState = function () {
    return this.internalState
}, CAT_Action.prototype.ChangeState = function (t) {
    if (this.internalState != t) switch (this.internalState = t, t) {
        case CATState.Waiting:
            break;
        case CATState.Running:
            this.OnStateChanged_Running();
            break;
        case CATState.Finished:
            break;
        case CATState.Stopping:
            this.OnStateChanged_Stopping();
            break;
        case CATState.Stopped:
            break;
        default:
            break
    }
}, CAT_Action.prototype.OnStateChanged_Running = function () {
    this.ChangeState(CATState.Finished)
}, CAT_Action.prototype.OnStateChanged_Stopping = function () {
    this.ChangeState(CATState.Finished)
}, CAT_Action.prototype.CATUpdate = function () {}, goog.require("UHT.CAT_Action"), CAT_Action_CATLink.prototype = Object.create(CAT_Action.prototype), CAT_Action_CATLink.prototype.constructor = CAT_Action_CATLink, CAT_Action_CATLink.prototype.OnStateChanged_Running = function () {
    var t = this.eventId.cat;
    if (null != t) switch (this.actionType) {
        case CAT_Action_CATLink.ActionType.StartEvent:
            t.RegisterCallback(this.eventId.id, this.Callback_EventEnded, this), t.StartEvent(this.eventId.id);
            break;
        case CAT_Action_CATLink.ActionType.StopEvent:
            t.StopEvent(this.eventId.id), this.ChangeState(CATState.Finished);
            break;
        case CAT_Action_CATLink.ActionType.StopAll:
            t.StopAllRunningEvents(), this.ChangeState(CATState.Finished);
            break;
        case CAT_Action_CATLink.ActionType.StartEvent_NoWait:
            t.StartEvent(this.eventId.id), this.ChangeState(CATState.Finished);
            break
    } else this.ChangeState(CATState.Finished)
}, CAT_Action_CATLink.prototype.OnStateChanged_Stopping = function () {
    var t = this.eventId.cat;
    null != t && this.actionType == CAT_Action_CATLink.ActionType.StartEvent && (t.UnregisterCallback(this.eventId.id, this.Callback_EventEnded, this), t.StopEvent(this.eventId.id)), this.ChangeState(CATState.Finished)
}, CAT_Action_CATLink.prototype.Callback_EventEnded = function (t, e) {
    var i = this.eventId.cat;
    t == CAT_Event.CallbackType.EndOfEvent && this.actionType == CAT_Action_CATLink.ActionType.StartEvent && (i.UnregisterCallback(this.eventId.id, this.Callback_EventEnded, this), this.ChangeState(CATState.Finished))
}, CAT_Action_CATLink.ActionType = {
    StartEvent: 0,
    StopEvent: 1,
    StopAll: 2,
    StartEvent_NoWait: 3
}, goog.require("UHT.CAT_Action"), CAT_Action_MusicController.prototype = Object.create(CAT_Action.prototype), CAT_Action_MusicController.prototype.constructor = CAT_Action_MusicController, CAT_Action_MusicController.noClip = "*none*", CAT_Action_MusicController.ActionType = {
    PlayMusicClip: 0,
    StopMusicClip: 1,
    MuteMusicClip: 2,
    UnmuteMusicClip: 3,
    DuckMusicClip: 4,
    UnduckMusicClip: 5,
    MuteAllMusic: 6,
    UnmuteAllMusic: 7,
    MuteAllSoundFX: 8,
    UnmuteAllSoundFX: 9
}, CAT_Action_MusicController.prototype.OnStateChanged_Running = function () {
    var t = XT.GetObject(Vars.MusicLogicObject);
    if (null != t) {
        if (this.HasValidClip()) switch (this.actionType) {
            case CAT_Action_MusicController.ActionType.PlayMusicClip:
                t.PlayMusicClip(this.clipName, this.useFading ? this.fadeInDuration : -1);
                break;
            case CAT_Action_MusicController.ActionType.StopMusicClip:
                t.StopMusicClip(this.clipName, this.useFading ? this.fadeOutDuration : -1);
                break;
            case CAT_Action_MusicController.ActionType.MuteMusicClip:
                t.MuteMusicClip(this.clipName, this.useFading ? this.fadeOutDuration : -1);
                break;
            case CAT_Action_MusicController.ActionType.UnmuteMusicClip:
                t.UnmuteMusicClip(this.clipName, this.useFading ? this.fadeInDuration : -1);
                break;
            case CAT_Action_MusicController.ActionType.DuckMusicClip:
                var e = this.useFading ? this.fadeInDuration : -1,
                    i = this.useFading ? this.fadeOutDuration : -1;
                t.DuckMusicClip(this.clipName, this.duckingStep, this.autoUnduck ? this.delayToAutoUnduck : -1, e, i);
                break;
            case CAT_Action_MusicController.ActionType.UnduckMusicClip:
                t.UnduckMusicClip(this.clipName, this.duckingStep, this.useFading ? this.fadeOutDuration : -1);
                break
        }
        switch (this.actionType) {
            case CAT_Action_MusicController.ActionType.MuteAllMusic:
                t.MuteMusic(!0);
                break;
            case CAT_Action_MusicController.ActionType.UnmuteAllMusic:
                t.MuteMusic(!1);
                break;
            case CAT_Action_MusicController.ActionType.MuteAllSoundFX:
                t.MuteSoundFX(!0);
                break;
            case CAT_Action_MusicController.ActionType.UnmuteAllSoundFX:
                t.MuteSoundFX(!1);
                break
        }
    }
    this.ChangeState(CATState.Finished)
}, CAT_Action_MusicController.prototype.HasValidClip = function () {
    return !_string.IsNullOrEmpty(this.clipName) && this.clipName != CAT_Action_MusicController.noClip
}, goog.require("UHT.CAT_Action"), CAT_Action_ObjActivate.prototype = Object.create(CAT_Action.prototype), CAT_Action_ObjActivate.prototype.constructor = CAT_Action_ObjActivate, CAT_Action_ObjActivate.prototype.OnStateChanged_Running = function () {
    for (var t in this.ToEnableList) null != this.ToEnableList[t] && this.ToEnableList[t].SetActive(!0);
    for (var e in this.ToDisableList) null != this.ToDisableList[e] && this.ToDisableList[e].SetActive(!1);
    this.ChangeState(CATState.Finished)
}, goog.require("UHT.CAT_Action"), goog.require("UHT.AudioClip"), CAT_Action_PlayAudioClip.prototype = Object.create(CAT_Action.prototype), CAT_Action_PlayAudioClip.prototype.constructor = CAT_Action_PlayAudioClip, CAT_Action_PlayAudioClip.prototype.OnStateChanged_Running = function () {
    XT.GetObject(Vars.SoundManagerObject).PlaySimple(this.audioClip), this.ChangeState(CATState.Finished)
}, goog.require("UHT.CAT_Action"), CAT_Action_SetTransform.prototype = Object.create(CAT_Action.prototype), CAT_Action_SetTransform.prototype.constructor = CAT_Action_SetTransform, CAT_Action_SetTransform.prototype.OnStateChanged_Running = function () {
    for (var t = 0; t < this.objects.length; t++) this.setLocalPosition && this.objects[t].localPosition(this.newLocalPosition), this.setLocalRotation && this.objects[t].localRotation(UHTMath.Quaternion.euler(this.newLocalRotation)), this.setLocalScale && this.objects[t].localScale(this.newLocalScale);
    this.ChangeState(CATState.Finished)
}, goog.require("UHT.CAT_Action"), CAT_Action_SetXTBool.prototype = Object.create(CAT_Action.prototype), CAT_Action_SetXTBool.prototype.constructor = CAT_Action_SetXTBool, CAT_Action_SetXTBool.prototype.OnStateChanged_Running = function () {
    XT.SetBool(this.BoolToCode.name, this.val), this.ChangeState(CATState.Finished)
}, goog.require("UHT.CAT_Action"), goog.require("UHT.AudioClip"), CAT_Action_StopAudioClip.prototype = Object.create(CAT_Action.prototype), CAT_Action_StopAudioClip.prototype.constructor = CAT_Action_StopAudioClip, goog.require("UHT.CAT_Action"), CAT_Action_TriggerXTEvent.prototype = Object.create(CAT_Action.prototype), CAT_Action_TriggerXTEvent.prototype.constructor = CAT_Action_TriggerXTEvent, CAT_Action_TriggerXTEvent.prototype.OnStateChanged_Running = function () {
    XT.TriggerEvent(this.EventToCode.name), this.ChangeState(CATState.Finished)
}, XT.RegisterAndInitDone = !1, XT.variablesBool = {}, XT.variablesInt = {}, XT.variablesFloat = {}, XT.variablesDouble = {}, XT.variablesString = {}, XT.variablesObject = {}, XT.variablesEvent = {}, XT.RegisterAndInit = function (t) {
    XT.variablesBool = {}, XT.variablesInt = {}, XT.variablesFloat = {}, XT.variablesDouble = {}, XT.variablesString = {}, XT.variablesObject = {}, XT.variablesEvent = {};
    var e, i = t.GetComponentsInChildren(XTLink, !0);
    for (e = 0; e < i.length; ++e) i[e].XTRegisterCallbacksBase();
    for (EventManager.Trigger(GameEvents.evtXTRegisterCallbacks, null), e = 0; e < i.length; ++e) i[e].XTInitVariablesAndEvents();
    XT.RegisterAndInitDone = !0
}, XT.UnregisterCallbackBool = function (t, e, i) {
    var n = e[xtCache_Bool + t.xtCacheName];
    if (null != n) {
        var o = n[i];
        if (null != o) o.isEnabled = !1;
        else
            for (var s in n) n[s].isEnabled = !1
    }
}, XT.UnregisterCallbackInt = function (t, e, i) {
    var n = e[xtCache_Int + t.xtCacheName];
    if (null != n) {
        var o = n[i];
        if (null != o) o.isEnabled = !1;
        else
            for (var s in n) n[s].isEnabled = !1
    }
}, XT.UnregisterCallbackFloat = function (t, e, i) {
    var n = e[xtCache_Float + t.xtCacheName];
    if (null != n) {
        var o = n[i];
        if (null != o) o.isEnabled = !1;
        else
            for (var s in n) n[s].isEnabled = !1
    }
}, XT.UnregisterCallbackDouble = function (t, e, i) {
    var n = e[xtCache_Double + t.xtCacheName];
    if (null != n) {
        var o = n[i];
        if (null != o) o.isEnabled = !1;
        else
            for (var s in n) n[s].isEnabled = !1
    }
}, XT.UnregisterCallbackString = function (t, e, i) {
    var n = e[xtCache_String + t.xtCacheName];
    if (null != n) {
        var o = n[i];
        if (null != o) o.isEnabled = !1;
        else
            for (var s in n) n[s].isEnabled = !1
    }
}, XT.UnregisterCallbackObject = function (t, e, i) {
    var n = e[xtCache_Object + t.xtCacheName];
    if (null != n) {
        var o = n[i];
        if (null != o) o.isEnabled = !1;
        else
            for (var s in n) n[s].isEnabled = !1
    }
}, XT.UnregisterCallbackEvent = function (t, e, i) {
    var n = e[xtCache_Event + t.xtCacheName];
    if (null != n) {
        var o = n[i];
        if (null != o)
            for (var s in o) o[s].isEnabled = !1;
        else
            for (var s in n)
                for (var a in n[s]) n[s][a].isEnabled = !1
    }
}, XT.RegisterCallbackBool = function (t, e, i) {
    var n;
    null == XT.variablesBool[t] && (XT.variablesBool[t] = new XTVariableHolderBase);
    var o = i[xtCache_Bool + e.xtCacheName];
    null != o && (n = o[t]), null == n ? (n = new EventHandler(i, e), XT.variablesBool[t].OnValueChanged.push(n), CacheXTData(i, e, t, xtCache_Bool, n)) : (n.isEnabled, n.isEnabled = !0)
}, XT.RegisterCallbackInt = function (t, e, i) {
    var n;
    null == XT.variablesInt[t] && (XT.variablesInt[t] = new XTVariableHolderBase);
    var o = i[xtCache_Int + e.xtCacheName];
    null != o && (n = o[t]), null == n ? (n = new EventHandler(i, e), XT.variablesInt[t].OnValueChanged.push(n), CacheXTData(i, e, t, xtCache_Int, n)) : (n.isEnabled, n.isEnabled = !0)
}, XT.RegisterCallbackFloat = function (t, e, i) {
    var n;
    null == XT.variablesFloat[t] && (XT.variablesFloat[t] = new XTVariableHolderBase);
    var o = i[xtCache_Float + e.xtCacheName];
    null != o && (n = o[t]), null == n ? (n = new EventHandler(i, e), XT.variablesFloat[t].OnValueChanged.push(n), CacheXTData(i, e, t, xtCache_Float, n)) : (n.isEnabled, n.isEnabled = !0)
}, XT.RegisterCallbackDouble = function (t, e, i) {
    var n;
    null == XT.variablesDouble[t] && (XT.variablesDouble[t] = new XTVariableHolderBase);
    var o = i[xtCache_Double + e.xtCacheName];
    null != o && (n = o[t]), null == n ? (n = new EventHandler(i, e), XT.variablesDouble[t].OnValueChanged.push(n), CacheXTData(i, e, t, xtCache_Double, n)) : (n.isEnabled, n.isEnabled = !0)
}, XT.RegisterCallbackString = function (t, e, i) {
    var n;
    null == XT.variablesString[t] && (XT.variablesString[t] = new XTVariableHolderBase);
    var o = i[xtCache_String + e.xtCacheName];
    null != o && (n = o[t]), null == n ? (n = new EventHandler(i, e), XT.variablesString[t].OnValueChanged.push(n), CacheXTData(i, e, t, xtCache_String, n)) : (n.isEnabled, n.isEnabled = !0)
}, XT.RegisterCallbackObject = function (t, e, i) {
    var n;
    null == XT.variablesObject[t] && (XT.variablesObject[t] = new XTVariableHolderBase);
    var o = i[xtCache_Object + e.xtCacheName];
    null != o && (n = o[t]), null == n ? (n = new EventHandler(i, e), XT.variablesObject[t].OnValueChanged.push(n), CacheXTData(i, e, t, xtCache_Object, n)) : (n.isEnabled, n.isEnabled = !0)
}, XT.RegisterCallbackEvent = function (t, e, i, n) {
    null == n && (n = 0), null == XT.variablesEvent[t] && (XT.variablesEvent[t] = []);
    for (var o, s = null, a = 0; a < XT.variablesEvent[t].length; ++a) XT.variablesEvent[t][a].priority == n && (s = XT.variablesEvent[t][a]);
    null == s && ((s = new XTVariableHolderEvent).priority = n, XT.variablesEvent[t].push(s), XT.variablesEvent[t] = XT.variablesEvent[t].sort(CompareVariableHolderEventByPriority));
    var r = i[xtCache_Event + e.xtCacheName];
    null != r && null != r[t] && (o = r[t][n]), null == o ? (o = new EventHandler(i, e), s.OnValueChanged.push(o), CacheXTData(i, e, t, xtCache_Event, o, n)) : (o.isEnabled, o.isEnabled = !0)
}, XT.GetBool = function (t) {
    var e = !1;
    return null != XT.variablesBool[t] && (e = XT.variablesBool[t].value), e
}, XT.GetInt = function (t) {
    var e = -1;
    return null != XT.variablesInt[t] && (e = XT.variablesInt[t].value), e
}, XT.GetFloat = function (t) {
    var e = NaN;
    return null != XT.variablesFloat[t] && (e = XT.variablesFloat[t].value), e
}, XT.GetDouble = function (t) {
    var e = NaN;
    return null != XT.variablesDouble[t] && (e = XT.variablesDouble[t].value), e
}, XT.GetString = function (t) {
    var e = "RABAZZ";
    return null != XT.variablesString[t] && (e = XT.variablesString[t].value), e
}, XT.GetObject = function (t) {
    var e = null;
    return null != XT.variablesObject[t] && (e = XT.variablesObject[t].value), e
}, XT.SetBool = function (t, e) {
    null == XT.variablesBool[t] && (XT.variablesBool[t] = new XTVariableHolderBase);
    var i = XT.variablesBool[t];
    if (i.value != e || 0 == i.valueIsAssigned) {
        i.valueIsAssigned = !0, i.value = e;
        var n = i.OnValueChanged;
        null != n && XT.Invoke(n, i.value)
    }
}, XT.SetInt = function (t, e) {
    null == XT.variablesInt[t] && (XT.variablesInt[t] = new XTVariableHolderBase);
    var i = XT.variablesInt[t];
    if (i.value != e || 0 == i.valueIsAssigned) {
        i.valueIsAssigned = !0, i.value = e;
        var n = i.OnValueChanged;
        null != n && XT.Invoke(n, i.value)
    }
}, XT.SetFloat = function (t, e) {
    null == XT.variablesFloat[t] && (XT.variablesFloat[t] = new XTVariableHolderBase);
    var i = XT.variablesFloat[t];
    if (i.value != e || 0 == i.valueIsAssigned) {
        i.valueIsAssigned = !0, i.value = e;
        var n = i.OnValueChanged;
        null != n && XT.Invoke(n, i.value)
    }
}, XT.SetDouble = function (t, e) {
    null == XT.variablesDouble[t] && (XT.variablesDouble[t] = new XTVariableHolderBase);
    var i = XT.variablesDouble[t];
    if (i.value != e || 0 == i.valueIsAssigned) {
        i.valueIsAssigned = !0, i.value = e;
        var n = i.OnValueChanged;
        null != n && XT.Invoke(n, i.value)
    }
}, XT.SetString = function (t, e) {
    null == XT.variablesString[t] && (XT.variablesString[t] = new XTVariableHolderBase);
    var i = XT.variablesString[t];
    if (i.value != e || 0 == i.valueIsAssigned) {
        i.valueIsAssigned = !0, i.value = e;
        var n = i.OnValueChanged;
        null != n && XT.Invoke(n, i.value)
    }
}, XT.SetObject = function (t, e) {
    null == XT.variablesObject[t] && (XT.variablesObject[t] = new XTVariableHolderBase);
    var i = XT.variablesObject[t];
    if (i.value != e || 0 == i.valueIsAssigned) {
        i.valueIsAssigned = !0, i.value = e;
        var n = i.OnValueChanged;
        null != n && XT.Invoke(n, i.value)
    }
}, XT.TriggerEvent = function (t) {
    null == XT.variablesEvent[t] && (XT.variablesEvent[t] = []);
    for (var e = XT.variablesEvent[t], i = 0; i < e.length; ++i) {
        var n = e[i].OnValueChanged;
        null != n && XT.Invoke(n)
    }
}, XT.Invoke = function (t, e) {
    for (var i = 0; i < t.length; ++i) {
        var n = !0,
            o = t[i].object;
        o instanceof XTLink && (n = o.xtEnabled), n && t[i].call(e)
    }
}, goog.require("UHT.EventHandler"), XTVariableHolderEvent.prototype = Object.create(XTVariableHolderBase.prototype), XTVariableHolderEvent.prototype.constructor = XTVariableHolderEvent;
var xtCache_Bool = "xtCache_Bool",
    xtCache_Int = "xtCache_Int",
    xtCache_Float = "xtCache_Float",
    xtCache_Double = "xtCache_Double",
    xtCache_String = "xtCache_String",
    xtCache_Object = "xtCache_Object",
    xtCache_Event = "xtCache_Event",
    xtCallbackCounter = 0;

function CacheXTData(t, e, i, n, o, s) {
    null == e.xtCacheName && (e.xtCacheName = "_Callback" + xtCallbackCounter, xtCallbackCounter++);
    var a = n + e.xtCacheName,
        r = t[a];
    null == r && (r = {}, t[a] = r), null == s ? r[i] = o : (r[i] = {}, r[i][s] = o)
}

function CameraDepthController() {
    Component.call(this), this.targetCamera = null, this.initialDepth = -1
}

function ExtraCameraSettings() {
    Component.call(this), this._clipUp = -1, this._clipDown = -1, this._clipLeft = -1, this._clipRight = -1, this.dirtyFlag = !1, this.clipInput = !1, this.clipMaskLayer = 0, this.combineClips = !1
}

function ExtraCameraSettingsAnchorsHolder() {
    this.anchorUpLeft = null, this.anchorDownRight = null
}

function ExtraCameraSettingsAnchors() {
    Component.call(this), this.extraCameraSettings = null, this.anchorUpLeft = null, this.anchorDownRight = null, this.anchors = null, this.prevUL = null, this.prevDR = null, this.prevPos = null
}

function ExtraCameraSettingsAnchorsProxy() {
    Component.call(this), this.anchors = null, this.settings = null, this.anchorsIndex = 0
}
goog.require("UHT.Component"), CameraDepthController.prototype = Object.create(Component.prototype), CameraDepthController.prototype.constructor = CameraDepthController, CameraDepthController.prototype.Start = function () {
    this.initialDepth = this.targetCamera.depth
}, CameraDepthController.prototype.SetCameraDepth = function (t) {
    this.targetCamera.depth = _number.otod(t)
}, CameraDepthController.prototype.ResetCameraDepth = function () {
    this.targetCamera.depth = this.initialDepth
}, goog.require("UHT.Component"), ExtraCameraSettings.prototype = Object.create(Component.prototype), ExtraCameraSettings.prototype.constructor = ExtraCameraSettings, ExtraCameraSettings.prototype.clipUp = -1, ExtraCameraSettings.prototype.clipDown = -1, ExtraCameraSettings.prototype.clipLeft = -1, ExtraCameraSettings.prototype.clipRight = -1, Object.defineProperties(ExtraCameraSettings.prototype, {
    clipUp: {
        get: function () {
            return this._clipUp
        },
        set: function (t) {
            t != this._clipUp && (this._clipUp = t, this.dirtyFlag = !0)
        }
    },
    clipDown: {
        get: function () {
            return this._clipDown
        },
        set: function (t) {
            t != this._clipDown && (this._clipDown = t, this.dirtyFlag = !0)
        }
    },
    clipLeft: {
        get: function () {
            return this._clipLeft
        },
        set: function (t) {
            t != this._clipLeft && (this._clipLeft = t, this.dirtyFlag = !0)
        }
    },
    clipRight: {
        get: function () {
            return this._clipRight
        },
        set: function (t) {
            t != this._clipRight && (this._clipRight = t, this.dirtyFlag = !0)
        }
    }
}), goog.require("UHT.UHTEngine"), ExtraCameraSettingsAnchors.prototype = Object.create(Component.prototype), ExtraCameraSettingsAnchors.prototype.constructor = ExtraCameraSettingsAnchors, ExtraCameraSettingsAnchors.prototype.Update = function () {
    var t = this.anchorUpLeft.position(),
        e = this.anchorDownRight.position(),
        i = this.transform.position();
    if (null == this.prevUL || !this.prevUL.equals(t) || null == this.prevDR || !this.prevDR.equals(e) || null == this.prevPos || !this.prevPos.equals(i)) {
        var n = this.transform.inverseTransformPoint(t),
            o = this.transform.inverseTransformPoint(e);
        this.extraCameraSettings.clipUp = n.y, this.extraCameraSettings.clipDown = -o.y, this.extraCameraSettings.clipLeft = -n.x, this.extraCameraSettings.clipRight = o.x, this.prevUL = t, this.prevDR = e, this.prevPos = i
    }
}, ExtraCameraSettingsAnchors.prototype.SwitchToAnchors = function (t) {
    t = Number(t), this.anchorUpLeft = this.anchors[t].anchorUpLeft, this.anchorDownRight = this.anchors[t].anchorDownRight, this.Update()
}, goog.require("UHT.UHTEngine"), ExtraCameraSettingsAnchorsProxy.prototype = Object.create(Component.prototype), ExtraCameraSettingsAnchorsProxy.prototype.constructor = ExtraCameraSettingsAnchorsProxy, ExtraCameraSettingsAnchorsProxy.prototype.SwitchToAnchors = function (t) {
    if (null == this.settings) {
        var e = Globals.GetCameraForObject(this.gameObject);
        this.settings = e.GetComponent(ExtraCameraSettingsAnchors);
        var i = this.settings.anchors;
        this.anchorsIndex = i.length;
        for (var n = 0; n < this.anchors.length; ++n) i.push(this.anchors[n])
    }
    this.settings.SwitchToAnchors(this.anchorsIndex + t)
};
var LMVars = {
    Evt_Internal_SwitchToLandscapeLayout: "Evt_Internal_SwitchToLandscapeLayout",
    Evt_Internal_SwitchToLandscapeLayoutWide: "Evt_Internal_SwitchToLandscapeLayoutWide",
    Evt_Internal_SwitchToLandscapeLayoutWideFull: "Evt_Internal_SwitchToLandscapeLayoutWideFull",
    Evt_Internal_SwitchToLandscapeLayoutLLN: "Evt_Internal_SwitchToLandscapeLayoutLLN",
    Evt_Internal_SwitchToPortraitLayoutPLN: "Evt_Internal_SwitchToPortraitLayoutPLN",
    Evt_Internal_SwitchToPortraitLayout: "Evt_Internal_SwitchToPortraitLayout",
    Evt_Internal_SwitchToPortraitLayoutIPhone: "Evt_Internal_SwitchToPortraitLayoutIPhone",
    Evt_Internal_SwitchToPortraitLayoutIPad: "Evt_Internal_SwitchToPortraitLayoutIPad",
    Evt_Internal_ScreenRatioChanged: "Evt_Internal_ScreenRatioChanged"
};

function AtlasChange() {
    this.Target = null, this.NewAtlas = null, this.extraPayloads = null, this.oldPath = "", this.isSet = !1, this.currentPayload = -1
}

function TransformInfo() {
    this.Position = null, this.Scale = null, this.Rotation = 0, this.isNull = !1, this.currentPayload = -1
}

function TransformChange() {
    this.Target = null, this.path = "", this.TransformData = null, this.extraPayloads = null, this.isSet = !1, this.active = !0, this.currentPayload = -1
}

function LabelChange() {
    this.Target = null, this.path = "", this.newContent = null, this.extraPayloads = null, this.oldContent = "", this.hasDynamicContent = !1, this.isSet = !1, this.hasCustomEffects = !0
}

function ExtraLabelPayload(t, e) {
    this.label = t, this.cachedDefaultContent = e
}

function SpineChangePayload() {
    this.NewSkeletonData = null, this.Atlases = null
}

function SpineChange() {
    this.Target = null, this.NewSkeletonData = null, this.Atlases = null, this.extraPayloads = null, this.oldPath = "", this.isSet = !1, this.currentPayload = -1
}

function RoutineQueue() {
    Component.call(this), this.rqiList = [], this.isStarted = !1
}

function RoutineQueueItem() {}

function RQICatLinkStarter(t, e) {
    RoutineQueueItem.call(this), null == e && (e = !1), this.catLink = t, this.waitForCAT = e
}

function RQIMarker(t) {
    RoutineQueueItem.call(this), this.type = t
}

function RQITriggerCallback(t, e, i) {
    RoutineQueueItem.call(this), this.callback = t, this.param = e, this.object = i
}

function RQITriggerEvent(t) {
    RoutineQueueItem.call(this), this.eventName = t
}

function RQIWaitForLastWinCount() {
    RoutineQueueItem.call(this)
}

function RQIWaitForSeconds(t, e) {
    RoutineQueueItem.call(this), this.waitTime = t, this.curTime = 0, this.timeScaleID = null == e ? "" : e
}

function RQIWaitForXTEvent(t) {
    RoutineQueueItem.call(this), this.eventName = t, this.eventReceived = !1
}

function RQIWaitForXTEventWithCallback(t, e) {
    RoutineQueueItem.call(this), this.eventName = t, this.eventCallback = e, this.eventReceived = !1
}

function BalanceData(t, e, i) {
    var n, o, s;
    t instanceof BalanceData ? (n = t.Balance, o = t.BonusBalance, s = t.Time) : ("number" == typeof t && (n = t), "number" == typeof e && (o = e), "number" == typeof i && (s = i)), this.Balance = n || 0, this.BonusBalance = o || 0, this.Time = s || 0
}
goog.provide("UHT.ModificationsManager_XChange"), goog.require("UHTMath.Vector3"), TransformInfo.prototype.SetPosition = function (t) {
    this.Position = new UHTMath.Vector3(t.x, t.y, t.z)
}, TransformInfo.prototype.SetScale = function (t) {
    this.Scale = new UHTMath.Vector3(t.x, t.y, t.z)
}, TransformInfo.prototype.SetRotation = function (t) {
    this.Rotation = t
}, TransformChange.prototype.SetValuesToElement = function (t) {
    if (this.isSet) {
        var e = this.TransformData[0]; - 1 != this.currentPayload && null != this.extraPayloads && this.extraPayloads.length > this.currentPayload && null != this.extraPayloads[this.currentPayload] && (e = this.extraPayloads[this.currentPayload]), e.isNull || (this.Target.localPosition(new UHTMath.Vector3(e.Position.x, e.Position.y, e.Position.z)), this.Target.localScale(new UHTMath.Vector3(e.Scale.x, e.Scale.y, e.Scale.z)), this.Target.localRotation(UHTMath.Quaternion.euler(this.Target.localEulerAngles().x, this.Target.localEulerAngles().y, e.Rotation)), this.Target.gameObject.SetActive(this.active))
    }
}, LabelChange.prototype.SetValuesToLabel = function () {
    if (this.isSet && null != this.Target) {
        var t = this.Target.GetComponent(UILabel);
        null != t && this.SetValues(t)
    }
}, LabelChange.prototype.SetValues = function (t) {
    var e = this.newContent; - 1 != this.currentPayload && null != this.extraPayloads && this.extraPayloads.length > this.currentPayload && null != this.extraPayloads[this.currentPayload] && (e = this.extraPayloads[this.currentPayload].label), ModificationsManager.CopyFromLabelToLabel(e, t, !this.hasDynamicContent, this.hasCustomEffects)
}, LabelChange.prototype.ReadValues = function (t) {}, LabelChange.prototype.RevertValue = function () {
    this.newContent.text = "<<<<<<" + this.oldContent
}, goog.require("UHT.Component"), RoutineQueue.prototype = Object.create(Component.prototype), RoutineQueue.prototype.constructor = RoutineQueue, RoutineQueue.prototype.AddRoutineQueueItem = function (t) {
    this.rqiList.push(t)
}, RoutineQueue.prototype.Update = function () {
    if (this.isStarted && this.rqiList.length > 0)
        for (; !this.rqiList[0].RQIUpdate() && (this.rqiList[0].RQIStop(), this.rqiList.splice(0, 1), this.rqiList.length > 0);) this.rqiList[0].RQIStart()
}, RoutineQueue.prototype.StartRoutines = function () {
    this.rqiList.length > 0 && (this.rqiList[0].RQIStart(), this.isStarted = !0)
}, RoutineQueue.prototype.StopRoutines = function () {
    this.rqiList.length > 0 && this.rqiList[0].RQIStop(), this.rqiList = [], this.isStarted = !1
}, goog.provide("UHT.RoutineQueueItem"), RoutineQueueItem.prototype.RQIStart = function () {}, RoutineQueueItem.prototype.RQIUpdate = function () {
    return !1
}, RoutineQueueItem.prototype.RQIStop = function () {}, goog.require("UHT.RoutineQueueItem"), RQICatLinkStarter.prototype = Object.create(RoutineQueueItem.prototype), RQICatLinkStarter.prototype.constructor = RQICatLinkStarter, RQICatLinkStarter.prototype.RQIStart = function () {
    this.catLink.Start()
}, RQICatLinkStarter.prototype.RQIUpdate = function () {
    return this.waitForCAT && this.catLink.IsRunning()
}, RQICatLinkStarter.prototype.RQIStop = function () {}, goog.require("UHT.RoutineQueueItem"), RQIMarker.prototype = Object.create(RoutineQueueItem.prototype), RQIMarker.prototype.constructor = RQIMarker, RQIMarker.MarkerType = {
    StartLineByLine: 0,
    EndLineByLine: 1
}, RQIMarker.prototype.RQIStart = function () {}, RQIMarker.prototype.RQIUpdate = function () {
    return !1
}, RQIMarker.prototype.RQIStop = function () {}, goog.require("UHT.RoutineQueueItem"), RQITriggerCallback.prototype = Object.create(RoutineQueueItem.prototype), RQITriggerCallback.prototype.constructor = RQITriggerCallback, RQITriggerCallback.prototype.RQIStart = function () {
    this.callback.call(this.object, this.param)
}, RQITriggerCallback.prototype.RQIUpdate = function () {
    return !1
}, RQITriggerCallback.prototype.RQIStop = function () {}, goog.require("UHT.RoutineQueueItem"), RQITriggerEvent.prototype = Object.create(RoutineQueueItem.prototype), RQITriggerEvent.prototype.constructor = RQITriggerEvent, RQITriggerEvent.prototype.RQIStart = function () {
    XT.TriggerEvent(this.eventName)
}, RQITriggerEvent.prototype.RQIUpdate = function () {
    return !1
}, RQITriggerEvent.prototype.RQIStop = function () {}, goog.require("UHT.RoutineQueueItem"), RQIWaitForLastWinCount.prototype = Object.create(RoutineQueueItem.prototype), RQIWaitForLastWinCount.prototype.constructor = RQIWaitForLastWinCount, RQIWaitForLastWinCount.prototype.RQIStart = function () {}, RQIWaitForLastWinCount.prototype.RQIUpdate = function () {
    return XT.GetBool(Vars.LastWinIsCounting)
}, RQIWaitForLastWinCount.prototype.RQIStop = function () {}, goog.require("UHT.RoutineQueueItem"), RQIWaitForSeconds.prototype = Object.create(RoutineQueueItem.prototype), RQIWaitForSeconds.prototype.constructor = RQIWaitForSeconds, RQIWaitForSeconds.prototype.RQIStart = function () {
    this.curTime = 0
}, RQIWaitForSeconds.prototype.RQIUpdate = function () {
    var t = 0 == this.curTime;
    return this.curTime += TimeScaler.GetDeltaTime(this.timeScaleID), !(this.curTime > this.waitTime - .001 && !t)
}, RQIWaitForSeconds.prototype.RQIStop = function () {}, goog.require("UHT.RoutineQueueItem"), RQIWaitForXTEvent.prototype = Object.create(RoutineQueueItem.prototype), RQIWaitForXTEvent.prototype.constructor = RQIWaitForXTEvent, RQIWaitForXTEvent.prototype.RQIStart = function () {
    this.eventReceived = !1, XT.RegisterCallbackEvent(this.eventName, this.OnEventTriggered, this)
}, RQIWaitForXTEvent.prototype.RQIUpdate = function () {
    return 1 != this.eventReceived
}, RQIWaitForXTEvent.prototype.RQIStop = function () {
    XT.UnregisterCallbackEvent(this.OnEventTriggered, this)
}, RQIWaitForXTEvent.prototype.OnEventTriggered = function () {
    this.eventReceived = !0
}, goog.require("UHT.RoutineQueueItem"), RQIWaitForXTEventWithCallback.prototype = Object.create(RoutineQueueItem.prototype), RQIWaitForXTEventWithCallback.prototype.constructor = RQIWaitForXTEventWithCallback, RQIWaitForXTEventWithCallback.prototype.RQIStart = function () {
    this.eventReceived = !1, XT.RegisterCallbackEvent(this.eventName, this.OnEventTriggered, this), XT.TriggerEvent(this.eventCallback)
}, RQIWaitForXTEventWithCallback.prototype.RQIUpdate = function () {
    return 1 != this.eventReceived
}, RQIWaitForXTEventWithCallback.prototype.RQIStop = function () {
    XT.UnregisterCallbackEvent(this.OnEventTriggered, this)
}, RQIWaitForXTEventWithCallback.prototype.OnEventTriggered = function () {
    this.eventReceived = !0
}, goog.provide("UHT.BalanceData"), goog.provide("UHT.BaseDataStructures");
var Cloneable = function () {};

function CasinoSoundState() {
    this.state = 0
}

function GameSettings(t) {
    var e;
    switch (this.GameId = "", this.Error = !1, typeof t) {
        case "object":
            e = t;
            break;
        case "string":
            e = this.FromString(t);
            break
    }
    this.Settings = e || {}
}
Cloneable.prototype.Clone = function () {}, CasinoSoundState.GlobalSoundOff = -1, CasinoSoundState.SoundOff = 0, CasinoSoundState.SoundOn = 1, goog.require("UHT.BaseDataStructures"), GameSettings.prototype.FromString = function (t) {
    this.Settings = this.BuildDictionaryFromString(t, ";", "=")
}, GameSettings.prototype.ToString = function () {
    return this.DictionaryToString(this.Settings, ";", "=")
}, GameSettings.prototype.DictionaryToString = function (t, e, i) {
    var n = [];
    for (var o in t) n.push([o, t[o]].join(i));
    return n.join(e)
}, GameSettings.prototype.Clone = function () {
    var t = new GameSettings;
    for (var e in t.GameId = this.GameId, t.Error = this.Error, this.Settings) t.Settings[e] = this.Settings[e];
    return t
}, GameSettings.prototype.BuildDictionaryFromString = function (t, e, i) {
    var n = {};
    if (!_string.IsNullOrEmpty(t))
        for (var o = t.split(e), s = 0; s < o.length; ++s) {
            var a = o[s].split(i);
            2 == a.length && (n[a[0]] = a[1])
        }
    return n
};
var GambleV2Protocol = {};

function VsGamblingButtonState(t, e, i) {
    this.GamblingOnSpinAvailable = t, this.GamblingOnFreespinWinAvailable = e, this.GamblingOnBonusWinAvailable = i
}

function VsGamblingHistory(t) {
    this.History = [], this.WinAmount = "number" == typeof t ? t : 0
}

function VsGamblingRequest() {
    this.Choice = VsGamblingRequest.GamblingChoices.None
}
GambleV2Protocol.GambleResult = function () {
    this.level = -1, this.selectedIndex = -1, this.winIndex = -1, this.winAmount = 0, this.winMultiplier = 0, this.isWin = !1, this.isEnd = !1
}, GambleV2Protocol.GambleData = function () {
    this.riskAmount = 0, this.options = null, this.optionIndex = -1, this.result = null, this.totalWin = 0
}, GambleV2Protocol.Parser = {}, GambleV2Protocol.Parser.data = null, GambleV2Protocol.Parser.ParseGambleData = function (t) {
    var e = GambleV2Protocol.Parser.data,
        i = "g_ra";
    if (null == t[i]) return GambleV2Protocol.Parser.data = null, null;
    null == e && (e = GambleV2Protocol.Parser.data = new GambleV2Protocol.GambleData), e.riskAmount = _number.otod(t[i]), null != t[i = "tw"] && (e.totalWin = _number.otod(t[i]));
    var n = !0;
    if (null != t[i = "go_i"] && (n = !1, e.options = _array.ConvertAll(t[i].split(","), _number.otod)), null != t[i = "g_o"] && (n = !1, e.optionIndex = _number.otoi(t[i])), e.result = GambleV2Protocol.Parser.ParseResult(t), null != e.result) n = !1;
    else {
        null != t[i = "na"] && ["g", "go"].indexOf(t[i]) < 0 && (n = !0)
    }
    return n && (e.options = null, e.optionIndex = -1, e.result = null), e
}, GambleV2Protocol.Parser.ParseResult = function (t) {
    var e = "g_w";
    if (null == t[e]) return null;
    var i = new GambleV2Protocol.GambleResult;
    return i.winAmount = _number.otod(t[e]), i.winIndex = _number.otoi(t.g_wi), i.winMultiplier = _number.otod(t.g_mul), i.level = _number.otoi(t.g_l), i.isWin = "1" == t.g_r, i.isEnd = "1" == t.g_end, null != t[e = "g_si"] && (i.selectedIndex = _number.otoi(t[e])), i
}, goog.require("UHT.BaseDataStructures"), VsGamblingButtonState.prototype.ToString = function () {
    return ["[VsGamblingButtonState gamblingSpinWin=", this.GamblingOnSpinAvailable, ", gamblingFreeSpinWin=", this.GamblingOnFreespinWinAvailable, ", gamblingBonusWin=", this.GamblingOnBonusWinAvailable, "]"].join("")
}, VsGamblingButtonState.prototype.Clone = function () {
    return new VsGamblingButtonState(this.GamblingOnSpinAvailable, this.GamblingOnFreespinWinAvailable, this.GamblingOnBonusWinAvailable)
}, goog.require("UHT.BaseDataStructures"), VsGamblingHistory.prototype.AddHistoryItem = function (t) {
    this.History.push(t)
}, VsGamblingHistory.prototype.Clone = function () {
    var t = new VsGamblingHistory;
    t.WinAmount = this.WinAmount, t.History = [];
    for (var e = 0; e < this.History.length; ++e) t.History[e] = this.History[e].Clone();
    return t
}, VsGamblingRequest.prototype.GetTypeOfChoice = function () {
    switch (this.Choice) {
        case VsGamblingRequest.GamblingChoices.Red:
            return GamblingType.CardColor;
        case VsGamblingRequest.GamblingChoices.Black:
            return GamblingType.CardColor;
        case VsGamblingRequest.GamblingChoices.Clubs:
            return GamblingType.Suit;
        case VsGamblingRequest.GamblingChoices.Spades:
            return GamblingType.Suit;
        case VsGamblingRequest.GamblingChoices.Diamond:
            return GamblingType.Suit;
        case VsGamblingRequest.GamblingChoices.Heart:
            return GamblingType.Suit;
        case VsGamblingRequest.GamblingChoices.Dices:
            return GamblingType.Dices
    }
    return GamblingType.None
}, VsGamblingRequest.GamblingChoices = {
    Red: 0,
    Black: 1,
    Clubs: 2,
    Spades: 3,
    Diamond: 4,
    Heart: 5,
    Dices: 6,
    None: -1
}, goog.require("UHT.BaseDataStructures");
var GamblingType = {
        CardColor: 0,
        Suit: 1,
        Dices: 2,
        None: 3
    },
    GamblingState = {
        Lose: 0,
        Win: 1,
        WinLimit: 2
    };

function VsGamblingResponse() {
    this.GamblingType = GamblingType.None, this.Card = -1, this.Dice1 = 0, this.Dice2 = 0, this.Balance = 0, this.State = GamblingState.Lose, this.NoMoney = !1
}
VsGamblingResponse.prototype.GetGamblingType = function () {
    return this.GamblingType
}, VsGamblingResponse.prototype.SetGamblingType = function (t) {
    this.GamblingType = t
}, VsGamblingResponse.prototype.GetCard = function () {
    return this.Card
}, VsGamblingResponse.prototype.SetCard = function (t) {
    this.Card = t
}, VsGamblingResponse.prototype.GetDice1 = function () {
    return this.Dice1
}, VsGamblingResponse.prototype.SetDice1 = function (t) {
    this.Dice1 = t
}, VsGamblingResponse.prototype.GetDice2 = function () {
    return this.Dice2
}, VsGamblingResponse.prototype.SetDice2 = function (t) {
    this.Dice2 = t
}, VsGamblingResponse.prototype.GetBalance = function () {
    return this.Balance
}, VsGamblingResponse.prototype.SetBalance = function (t) {
    this.Balance = t
}, VsGamblingResponse.prototype.GetState = function () {
    return this.State
}, VsGamblingResponse.prototype.SetState = function (t) {
    this.State = t
}, VsGamblingResponse.prototype.IsNoMoney = function () {
    return this.NoMoney
}, VsGamblingResponse.prototype.SetNoMoney = function (t) {
    this.NoMoney = t
}, VsGamblingResponse.prototype.Clone = function () {
    var t = new VsGamblingResponse;
    return t.GamblingType = this.GamblingType, t.Card = this.Card, t.Dice1 = this.Dice1, t.Dice2 = this.Dice2, t.Balance = this.Balance, t.State = this.State, t.NoMoney = this.NoMoney, t
}, goog.require("UHT.BaseDataStructures");
var GamblingOccasions = {
    Spin: 0,
    FreeSpin: 1,
    Bonus: 2
};

function VsGamblingSettings() {
    this.occasionsMap = {}, this.GamblingSettings = {}, this.SkipGambleOnInit = !1, this.InitGamblingOccasion = GamblingOccasions.Spin
}

function VsBetLevel() {
    this.betLevelIndex = 0, this.betLevelScale = [], this.paytables = []
}

function VsBonusGameData() {
    this.Level = -1, this.Life = -1, this.WinPoints = 0, this.RealWin = 0, this.Coef = 0, this.GameOver = !1, this.IWins = null, this.BonusTable = new VsBonusGameDataTable, this.MultipliersTable = new VsBonusGameDataTable, this.MultiplierStep = !1, this.numberOfLevels = -1, this.lifeWins = null, this.currentBonusRespin = 0, this.maxBonusRespins = 0, this.respinSymbols = null, this.winSymbols = null, this.initialized = !1, this.PremultipliedWin = 0, this.RespinsTotalMultiplier = -1, this.ExtraRespinsWon = -1, this.ExtraRetriggersWon = -1, this.MultipliedSymbolPositions = null, this.id = -1, this.type = -1, this.wheelOfFortune = null, this.map = null
}

function VsBonusGameDataTable() {
    this.Status = null, this.Markers = null, this.Wins = null, this.WinsMask = null, this.BGItemValues = null, this.BGItemMasks = null
}

function VsBonusGamePlayerChoice(t) {
    this.Index = t, this.PickType = 0
}

function VsExpandingSymbolData() {
    this.ExpandingSymbolId = 0, this.SourcePositions = [], this.TargetPositions = []
}

function VsFreeRound() {
    this.RoundsLeft = 0, this.TotalWin = 0, this.Type = VsFreeRound.RoundType.Spins, this.BonusCode = ""
}

function VsFreeRoundEvent() {
    this.Type = VsFreeRoundEvent.EventType.Start, this.Bet = 0, this.Lines = 0, this.RoundsLeft = 0, this.TurboSpinMode = !1, this.PlayLaterAvailable = !1, this.EndDateTimestamp = -1, this.IsFreeRoundPending = !1, this.PromoLocalizedName = "", this.PromoType = ""
}

function VsFreeSpinBonusGame() {
    this.BonusItems = [], this.GameOver = !1, this.Level = 0, this.Lifes = -1, this.SpinsWin = 0, this.MultipliersWin = 0
}

function VsFreeSpin() {
    this._currentNumber = 0, this._maxNumber = 0, this._totalNumber = 0, this._currentWin = 0, this._totalWin = 0, this._totalMultipl = 0, this._currentWinMultiplied = 0, this._totalWinMultiplied = 0, this.PickedOptionIndex = -1, this.BonusGame = null, this._mysteryScatter = [], this._needGetMysteryScatter = !1, this.fstype = -1
}

function VsFreeSpinOption() {
    this.FreeSpinsCount = 0, this.FreeSpinsMultiplier = 0, this.FreeSpinsStartingMultiplier = 0, this.FreeSpinsStackedSymbol = 0, this.WildSymbolIndex = -1, this.SpecialFeatureName = "", this.ReelSymbolsToBeReplaced = [], this.RSTBSymbolId = -1, this.TriggerSymbolRandomMultiplier = -1, this.TSRandomMultipliers = [], this.WildWinMultipliers = []
}

function VsFreeSpinsChainData() {
    this.FSCSpins = [], this.FSCMultipliers = [], this.FSCSpinsTotal = [], this.FSCMultipliersTotal = [], this.FSCWinsTotal = [], this.FSCMultipliedWinsTotal = [], this.FSCSessionsWonThisSpin = 0, this.FSCSessionsWonSymbolsCount = []
}

function VsFSPurchaseData() {
    this.freeSpinsBought = 0
}

function VsFSPurchaseConfig() {
    this.purchaseOptions = [], this.optionIndex = -2
}

function VsGoldSymbol() {
    this.reels = null, this.symbols = null, this.awards = null
}

function VsInitData() {
    this.Bets = [], this._reelSymbols = [], this.ReelSets = null, this.NextReelSymbols = [], this.Bet = 0, this.DefaultBet = 0, this.ExplicitMaxTotalBet = -1, this.Line = 0, this.Scatters = null, this.Paytable = null, this.Wilds = null, this.WildScatters = null, this.Bonuses = null, this.GamblingSettings = null, this.GamblingHistory = null, this.WildRandomLineMpConfig = null, this.RandomAwardConfig = null, this.ProgressiveConfig = null, this.MoneySymbolConfig = null, this.BetLevelSettings = null, this.FreeSpinsPurchaseConfig = null, this.ReelSetIndex = -1, this.ReelSetIndexCurrent = -1, this.StackedSymbolIndex = -1, this.StackedSymbolIndexCurrent = -1, this.InitialMysterySymbolId = null, this.BGItemValues = [], this.BGItemMasks = [], this.naSymbolId = -1
}

function VsJackpotConfiguration() {
    this.LineCombinationToWin = [], this.MinBetToWin = 0, this.MinLineNumberToWin = 0
}

function VsJackpotData(t) {
    if (this.IsActive = !1, this.JackpotID = 0, this.JackpotOrder = 0, this.WinJackpotAmount = 0, this.jackpotType = VsJackpotData.Type.Undefined, this.jackpotStatus = VsJackpotData.Status.Undefined, this.jackpotShutdown = !1, this.jackpotMiniGameEnabled = !1, this.jackpotNotWon = !1, this.wonJackpotInstances = null, null != t) {
        this.IsActive = t.IsActive, this.JackpotID = t.JackpotID, this.JackpotOrder = t.JackpotOrder, this.WinJackpotAmount = t.WinJackpotAmount, this.jackpotType = t.jackpotType, this.jackpotStatus = t.jackpotStatus, this.jackpotShutdown = t.jackpotShutdown, this.jackpotMiniGameEnabled = t.jackpotMiniGameEnabled, this.jackpotNotWon = t.jackpotNotWon;
        var e = t.wonJackpotInstances;
        if (null != e) {
            this.wonJackpotInstances = [];
            for (var i = 0; i < e.length; ++i) this.wonJackpotInstances.push(new VsJackpotData.WonInstance(e[i]))
        }
    }
    Object.defineProperty(this, "IsWin", {
        get: function () {
            return this.WinJackpotAmount > 0
        }
    })
}

function VsJackpotVisualization() {
    this.jpvType = VsJackpotVisualization.JpType.badges, this.positions = null
}

function VsMergingSymbol() {
    this.mergingPosition = -1, this.mergedSymbolId = -1
}

function VsMoneySymbolConfig() {
    this.symbolID = -1, this.possibleValues = null, this.jackpotValues = null, this.jackpotMasks = null
}

function VsMoneySymbolData() {
    this.currentValues = null, this.currentSymbolsLook = null, this.totalWin = -1
}

function VsNudgedSymbolsData(t, e, i, n, o) {
    this.reelID = t, this.startingSymbolsIDs = e, this.nudgedSymbolsIDs = i, this.nudgedStopPosition = n, this.nudgeDirection = o
}

function VsOpeningSymbolsData() {
    this.Positions = [], this.OSFreeSpinsWon = 0, this.OSMultiplierWon = 0
}

function VsPossibleRandomSymbolMultipliers() {
    this.symbolId = -1, this.symbolMultipliers = []
}

function VSProgressiveFeatureConfig() {
    this.pickedSymbolPosition = -1, this.progressSymbolIDs = null
}

function VsProgressiveFeatureData() {
    this.needsReset = !1, this.level = 0, this.progress = 0, this.targetProgress = 0, this.currentAttempt = 0, this.attempts = 0, this.accumulatedWin = 0, this.prizeWin = 0, this.prizeMultiplier = 0, this.winMultiplier = 0
}

function VsRandomAwardConfig() {
    this.awardReelsCount = 0, this.awardReels = null, this.awardSymbolsNormal = null, this.awardSymbolsFreeSpins = null, this.possibleAwards = null
}

function VsRandomAward() {
    this.Type = VsRandomAward.AwardType.None, this.Value = 0, this.FeatureID = -1
}

function VsRandomSymbolMultiplier() {
    this.symbolId = -1, this.symbolPositions = [], this.multiplierValue = -1
}

function VsRandomWildsData() {
    this.RandomSymbolID = 0, this.TargetPositions = null
}

function VsRequest() {
    this.Bet = 0, this.Line = 0, this.Symbol = "", this.BonusGameChoice = "", this.TryMeOnce = !1, this.ProgressPick = -1
}

function VsRespinLine() {
    this.id = 0, this.respinsCount = 0, this.positions = null
}

function VsRespin() {
    this.RespinType = "", this.Indices = [], this.CurrentRespin = -1, this.MaxRespins = -1, this.TotalRespins = -1, this.IsDone = !1, this.RespinsPlayed = -1, this.RespinsAdded = -1, this.Lines = null
}
VsGamblingSettings.prototype.GetGamblingSettings = function (t) {
    return this.GamblingSettings[t] ? this.GamblingSettings[t] : null
}, VsGamblingSettings.prototype.SetGamblingSettings = function (t, e) {
    this.GamblingSettings[t] = e
}, VsGamblingSettings.prototype.SetOccasionStatus = function (t, e) {
    this.occasionsMap[t] = e
}, VsGamblingSettings.prototype.IsOccasionEnable = function (t) {
    return !!this.occasionsMap[t] && this.occasionsMap[t]
}, VsGamblingSettings.prototype.Clone = function () {
    var t = new VsGamblingSettings;
    for (var e in t.SkipGambleOnInit = this.SkipGambleOnInit, t.InitGamblingOccasion = this.InitGamblingOccasion, t.occasionsMap = {}, this.occasionsMap) t.occasionsMap[e] = this.occasionsMap[e];
    for (var i in t.GamblingSettings = {}, this.GamblingSettings) t.GamblingSettings[i] = this.GamblingSettings[i];
    return t
}, goog.require("UHT.BaseDataStructures"), VsBetLevel.prototype.Clone = function () {
    var t = new VsBetLevel;
    return t.betLevelIndex = this.betLevelIndex, t.betLevelScale = this.betLevelScale.slice(), t.paytables = this.paytables.slice(), t
}, goog.require("UHT.BaseDataStructures"), VsBonusGameData.prototype.Clone = function () {
    var t = new VsBonusGameData;
    if (t.Level = this.Level, t.Life = this.Life, t.WinPoints = this.WinPoints, t.RealWin = this.RealWin, t.Coef = this.Coef, t.GameOver = this.GameOver, t.MultiplierStep = this.MultiplierStep, t.currentBonusRespin = this.currentBonusRespin, t.maxBonusRespins = this.maxBonusRespins, t.PremultipliedWin = this.PremultipliedWin, t.RespinsTotalMultiplier = this.RespinsTotalMultiplier, t.ExtraRespinsWon = this.ExtraRespinsWon, t.ExtraRetriggersWon = this.ExtraRetriggersWon, null != this.MultipliedSymbolPositions) {
        t.MultipliedSymbolPositions = [];
        for (var e = 0; e < this.MultipliedSymbolPositions.length; e++) t.MultipliedSymbolPositions.push(this.MultipliedSymbolPositions[e])
    }
    if (null != this.BonusTable && (t.BonusTable = this.BonusTable.Clone()), null != this.MultipliersTable && (t.MultipliersTable = this.MultipliersTable.Clone()), null != this.IWins && (t.IWins = this.IWins.slice()), null != this.lifeWins && (t.lifeWins = this.lifeWins.slice()), null != this.respinSymbols && (t.respinSymbols = this.respinSymbols.slice()), null != this.winSymbols) {
        t.winSymbols = [];
        for (e = 0; e < this.winSymbols.length; ++e) t.winSymbols.push(this.winSymbols[e].slice())
    }
    return t
}, VsBonusGameData.WheelOfFortune = function () {
    this.items = null, this.itemsStatus = null, this.stopPosition = -1, this.spinsLeft = -1, this.multiplier = -1, this.initialWin = -1
}, VsBonusGameData.WheelOfFortune.Item = function () {
    this.amount = 0, this.spinsNumber = 0, this.status = -1, this.selectedAtLevel = -1
}, VsBonusGameData.Map = function () {
    this.WOF_MultiplierIndex = -1, this.WOF_StopPosition = -1, this.WOF_Values = null, this.WOF_Mask = null, this.WOF_Map = null
}, goog.require("UHT.BaseDataStructures"), VsBonusGameDataTable.prototype.Clone = function () {
    var t = new VsBonusGameDataTable;
    return t.Status = [], t.Markers = null, t.Wins = [], t.WinsMask = null, null != this.Status && (t.Status = this.Status.slice()), null != this.Wins && (t.Wins = this.Wins.slice()), null != this.Markers && (t.Markers = this.Markers.slice()), null != this.WinsMask && (t.WinsMask = this.WinsMask.slice()), null != this.BGItemValues && (t.BGItemValues = this.BGItemValues.slice()), null != this.BGItemMasks && (t.BGItemMasks = this.BGItemMasks.slice()), t
}, VsExpandingSymbolData.prototype.Clone = function () {
    var t = new VsExpandingSymbolData;
    return t.ExpandingSymbolId = this.ExpandingSymbolId, t.SourcePositions = this.SourcePositions.slice(), t.TargetPositions = this.TargetPositions.slice(), t
}, VsExpandingSymbolData.prototype.CloneHelper = function () {
    return this.Clone()
}, VsFreeRound.RoundType = {
    Spins: 0,
    Timed: 1,
    BonusBoost: 2
}, VsFreeRound.prototype.ToString = function () {
    return "{RoundType:" + this.Type + ", RoundsLeft:" + this.RoundsLeft + ", TotalWin:" + this.TotalWin + "}"
}, VsFreeRound.prototype.Clone = function () {
    var t = new VsFreeRound;
    return t.RoundsLeft = this.RoundsLeft, t.TotalWin = this.TotalWin, t.Type = this.Type, t.BonusCode = this.BonusCode, t
}, VsFreeRound.prototype.CloneHelper = function () {
    return this.Clone()
}, VsFreeRoundEvent.EventType = {
    Start: 0,
    Finish: 1,
    Error: 2
}, VsFreeRoundEvent.prototype.ToString = function () {
    return "{Type:" + this.Type + ", Bet:" + this.Bet + ", Lines:" + this.Lines + ", RoundsLeft:" + this.RoundsLeft + ", TurboSpinMode:" + this.TurboSpinMode + ", PlayLaterAvailable:" + this.PlayLaterAvailable + ", EndDateTimestamp:" + this.EndDateTimestamp + ", IsFreeRoundPending:" + this.IsFreeRoundPending + ", PromoLocalizedName:" + this.PromoLocalizedName + ", PromoType:" + this.PromoType + "}"
}, VsFreeRoundEvent.prototype.Clone = function () {
    var t = new VsFreeRoundEvent;
    return t.Type = this.Type, t.Bet = this.Bet, t.Lines = this.Lines, t.RoundsLeft = this.RoundsLeft, t.TurboSpinMode = this.TurboSpinMode, t.PlayLaterAvailable = this.PlayLaterAvailable, t.EndDateTimestamp = this.EndDateTimestamp, t.IsFreeRoundPending = this.IsFreeRoundPending, t.PromoLocalizedName = this.PromoLocalizedName, t.PromoType = this.PromoType, t
}, VsFreeRoundEvent.prototype.CloneHelper = function () {
    return this.Clone()
}, goog.provide("UHT.VsFreeSpinBonusGame"), goog.require("UHT.BaseDataStructures"), VsFreeSpinBonusGame.prototype.Clone = function () {
    var t = new VsFreeSpinBonusGame;
    return t.GameOver = this.GameOver, t.Level = this.Level, t.Lifes = this.Lifes, t.SpinsWin = this.SpinsWin, t.MultipliersWin = this.MultipliersWin, null != this.BonusItems && (t.BonusItems = this.BonusItems.slice()), t
}, VsFreeSpinBonusGame.BonusItem = function (t, e, i) {
    this.Value = t, this.Status = e, this.Type = i
}, VsFreeSpinBonusGame.BonusItem.BonusItemStatus = {
    Available: 0,
    Selected: 1
}, VsFreeSpinBonusGame.BonusItem.BonusItemType = {
    Spin: 0,
    Multiplier: 1
}, VsFreeSpinBonusGame.BonusItem.prototype.ToString = function () {
    return "BonusItem {Status=" + this.Status + ", Type=" + this.Type + ", Value=" + this.Value + "}"
}, goog.require("UHT.VsFreeSpinBonusGame"), goog.require("UHT.BaseDataStructures"), VsFreeSpin.prototype.SetCurrentNumber = function (t) {
    this._currentNumber = t
}, VsFreeSpin.prototype.GetCurrentNumber = function () {
    return this._currentNumber
}, VsFreeSpin.prototype.SetMaxNumber = function (t) {
    this._maxNumber = t
}, VsFreeSpin.prototype.GetMaxNumber = function () {
    return this._maxNumber
}, VsFreeSpin.prototype.SetTotalNumber = function (t) {
    this._totalNumber = t
}, VsFreeSpin.prototype.GetTotalNumber = function () {
    return this._totalNumber
}, VsFreeSpin.prototype.SetTotalWin = function (t) {
    this._totalWin = t
}, VsFreeSpin.prototype.GetTotalWin = function () {
    return this._totalWin
}, VsFreeSpin.prototype.SetTotalMultipl = function (t) {
    this._totalMultipl = t
}, VsFreeSpin.prototype.GetTotalMultipl = function () {
    return this._totalMultipl
}, VsFreeSpin.prototype.IsLastFreeSpin = function () {
    return this._totalNumber > 0
}, VsFreeSpin.prototype.IsFirstFreeSpin = function () {
    return 1 == this._currentNumber
}, VsFreeSpin.prototype.GetCurrentWin = function () {
    return this._currentWin
}, VsFreeSpin.prototype.SetCurrentWin = function (t) {
    this._currentWin = t
}, VsFreeSpin.prototype.GetCurrentWinMultiplied = function () {
    return this._currentWinMultiplied
}, VsFreeSpin.prototype.SetCurrentWinMultiplied = function (t) {
    this._currentWinMultiplied = t
}, VsFreeSpin.prototype.SetTotalWinMultiplied = function (t) {
    this._totalWinMultiplied = t
}, VsFreeSpin.prototype.GetTotalWinMultiplied = function () {
    return this._totalWinMultiplied
}, VsFreeSpin.prototype.GetMysteryScatter = function () {
    return this._mysteryScatter
}, VsFreeSpin.prototype.SetMysteryScatter = function (t) {
    this._mysteryScatter = t
}, VsFreeSpin.prototype.IsNeedGetMysteryScatter = function () {
    return this._needGetMysteryScatter
}, VsFreeSpin.prototype.SetNeedGetMysteryScatter = function (t) {
    this._needGetMysteryScatter = t
}, VsFreeSpin.prototype.Clone = function () {
    var t = new VsFreeSpin;
    return t._currentNumber = this._currentNumber, t._maxNumber = this._maxNumber, t._totalNumber = this._totalNumber, t._currentWin = this._currentWin, t._totalWin = this._totalWin, t._totalMultipl = this._totalMultipl, t._currentWinMultiplied = this._currentWinMultiplied, t._totalWinMultiplied = this._totalWinMultiplied, t.PickedOptionIndex = this.PickedOptionIndex, t._mysteryScatter = this._mysteryScatter.slice(), t._needGetMysteryScatter = this._needGetMysteryScatter, null != this.BonusGame && (t.BonusGame = this.BonusGame.Clone()), t
}, VsFreeSpinOption.prototype.Clone = function () {
    var t = new VsFreeSpinOption;
    t.FreeSpinsCount = this.FreeSpinsCount, t.FreeSpinsMultiplier = this.FreeSpinsMultiplier, t.FreeSpinsStartingMultiplier = this.FreeSpinsStartingMultiplier, t.FreeSpinsStackedSymbol = this.FreeSpinsStackedSymbol, t.WildSymbolIndex = this.WildSymbolIndex, t.SpecialFeatureName = this.SpecialFeatureName, t.WildWinMultipliers = [];
    for (var e = 0; e < this.WildWinMultipliers.length; ++e) t.WildWinMultipliers.push(this.WildWinMultipliers[e]);
    t.ReelSymbolsToBeReplaced = [];
    for (e = 0; e < this.ReelSymbolsToBeReplaced.length; ++e) t.ReelSymbolsToBeReplaced.push(this.ReelSymbolsToBeReplaced[e]);
    t.RSTBSymbolId = this.RSTBSymbolId, t.TriggerSymbolRandomMultiplier = this.TriggerSymbolRandomMultiplier, t.TSRandomMultipliers = [];
    for (e = 0; e < this.TSRandomMultipliers.length; ++e) t.TSRandomMultipliers.push(this.TSRandomMultipliers[e]);
    return t
}, VsFreeSpinOption.prototype.CloneHelper = function () {
    return this.Clone()
}, VsFreeSpinsChainData.prototype.HasChainInformation = function () {
    return this.HasNextChainInformation() || this.HasPreviousChainInformation()
}, VsFreeSpinsChainData.prototype.HasNextChainInformation = function () {
    return null != this.FSCSpins || null != this.FSCMultipliers || null != this.FSCSessionsWonSymbolsCount || this.FSCSessionsWonThisSpin > 0
}, VsFreeSpinsChainData.prototype.HasPreviousChainInformation = function () {
    return null != this.FSCSpinsTotal && null != this.FSCMultipliersTotal && null != this.FSCWinsTotal && null != this.FSCMultipliedWinsTotal
}, VsFreeSpinsChainData.prototype.Clone = function () {
    var t = new VsFreeSpinsChainData;
    return null != this.FSCSpins && (t.FSCSpins = this.FSCSpins.slice()), null != this.FSCMultipliers && (t.FSCMultipliers = this.FSCMultipliers.slice()), null != this.FSCSpinsTotal && (t.FSCSpinsTotal = this.FSCSpinsTotal.slice()), null != this.FSCMultipliersTotal && (t.FSCMultipliersTotal = this.FSCMultipliersTotal.slice()), null != this.FSCWinsTotal && (t.FSCWinsTotal = this.FSCWinsTotal.slice()), null != this.FSCMultipliedWinsTotal && (t.FSCMultipliedWinsTotal = this.FSCMultipliedWinsTotal.slice()), t.FSCSessionsWonThisSpin = this.FSCSessionsWonThisSpin, null != this.FSCSessionsWonSymbolsCount && (t.FSCSessionsWonSymbolsCount = this.FSCSessionsWonSymbolsCount.slice()), t
}, VsFreeSpinsChainData.prototype.CloneHelper = function () {
    return this.Clone()
}, goog.require("UHT.BaseDataStructures"), VsFSPurchaseData.prototype.Clone = function () {
    var t = new VsFSPurchaseData;
    return t.freeSpinsBought = this.freeSpinsBought, t
}, VsFSPurchaseConfig.PurchaseOption = function () {
    this.bet = 0, this.fsCount = 0, this.betLevel = 0
}, VsFSPurchaseConfig.prototype.Clone = function () {
    var t = new VsFSPurchaseConfig;
    t.optionIndex = this.optionIndex, t.purchaseOptions = [];
    for (var e = 0; e < this.purchaseOptions.length; e++) t.purchaseOptions.push(new VsFSPurchaseConfig.PurchaseOption), t.purchaseOptions[e].bet = this.purchaseOptions[e].bet, t.purchaseOptions[e].fsCount = this.purchaseOptions[e].fsCount, t.purchaseOptions[e].betLevel = this.purchaseOptions[e].betLevel;
    return t
}, VsGoldSymbol.prototype.Clone = function () {
    var t = new VsGoldSymbol;
    return null != this.reels && (t.reels = this.reels.slice()), null != this.symbols && (t.symbols = this.symbols.slice()), null != this.awards && (t.awards = this.awards.slice()), t
}, goog.require("UHT.BaseDataStructures"), Object.defineProperties(VsInitData.prototype, {
    ReelSymbols: {
        set: function (t) {
            this._reelSymbols = t
        },
        get: function () {
            return null != this.ReelSets ? this.ReelSetIndexCurrent >= 0 ? this.ReelSets[this.ReelSetIndexCurrent] : this.ReelSets[this.ReelSetIndex] : this._reelSymbols
        }
    }
}), VsInitData.prototype.CombinePaytable = function () {
    if (null != this.Paytable) {
        var t;
        if (null != this.Scatters && null != this.Scatters[0].Pays)
            for (this.Paytable[1] = [], t = 0; t < this.Scatters[0].Pays.length; t++) this.Paytable[1].push(this.Scatters[0].Pays[t]);
        if (null != this.Wilds)
            if (XT.GetBool(Vars.CombineWildsInPaytableById)) {
                for (t = 0; t < this.Wilds.length; t++)
                    if (null != this.Wilds[t].Pays) {
                        this.Paytable[this.Wilds[t].Symbol] = [];
                        for (var e = 0; e < this.Wilds[t].Pays.length; e++) this.Paytable[this.Wilds[t].Symbol].push(this.Wilds[t].Pays[e])
                    }
            } else if (null != this.Wilds[0].Pays)
            for (this.Paytable[2] = [], t = 0; t < this.Wilds[0].Pays.length; t++) this.Paytable[2].push(this.Wilds[0].Pays[t])
    }
}, VsInitData.prototype.Clone = function () {
    var t, e = new VsInitData;
    if (e.Bet = this.Bet, e.DefaultBet = this.DefaultBet, e.ExplicitMaxTotalBet = this.ExplicitMaxTotalBet, e.Line = this.Line, e.ReelSetIndex = this.ReelSetIndex, e.ReelSetIndexCurrent = this.ReelSetIndexCurrent, e.StackedSymbolIndex = this.StackedSymbolIndex, e.StackedSymbolIndexCurrent = this.StackedSymbolIndexCurrent, null != this.InitialMysterySymbolId && (e.InitialMysterySymbolId = this.InitialMysterySymbolId.slice()), null != this.Bets && (e.Bets = this.Bets.slice()), null != this._reelSymbols)
        for (e._reelSymbols = [], t = 0; t < this._reelSymbols.length; ++t) e._reelSymbols[t] = this._reelSymbols[t].slice();
    if (null != this.ReelSets)
        for (e.ReelSets = [], t = 0; t < this.ReelSets.length; t++) {
            e.ReelSets[t] = [];
            for (var i = 0; i < this.ReelSets[t].length; i++) e.ReelSets[t][i] = this.ReelSets[t][i].slice()
        }
    if (null != this.NextReelSymbols)
        for (e.NextReelSymbols = [], t = 0; t < this.NextReelSymbols.length; ++t) e.NextReelSymbols[t] = this.NextReelSymbols[t].slice();
    if (null != this.Scatters)
        for (e.Scatters = [], t = 0; t < this.Scatters.length; ++t) e.Scatters[t] = this.Scatters[t].Clone();
    if (null != this.Paytable)
        for (e.Paytable = [], t = 0; t < this.Paytable.length; ++t) e.Paytable[t] = this.Paytable[t].slice();
    if (null != this.Wilds)
        for (e.Wilds = [], t = 0; t < this.Wilds.length; ++t) e.Wilds[t] = this.Wilds[t].Clone();
    if (null != this.WildScatters)
        for (e.WildScatters = [], t = 0; t < this.WildScatters.length; ++t) e.WildScatters[t] = this.WildScatters[t].Clone();
    return null != this.Bonuses && (e.Bonuses = this.Bonuses.slice()), null != this.GamblingSettings && (e.GamblingSettings = this.GamblingSettings.Clone()), null != this.GamblingHistory && (e.GamblingHistory = this.GamblingHistory.Clone()), null != this.RandomAwardConfig && (e.RandomAwardConfig = this.RandomAwardConfig.Clone()), null != this.ProgressiveConfig && (e.ProgressiveConfig = this.ProgressiveConfig.CloneHelper()), null != this.MoneySymbolConfig && (e.MoneySymbolConfig = this.MoneySymbolConfig.Clone()), null != this.BetLevelSettings && (e.BetLevelSettings = this.BetLevelSettings.Clone()), null != this.FreeSpinsPurchaseConfig && (e.FreeSpinsPurchaseConfig = this.FreeSpinsPurchaseConfig.Clone()), e
}, goog.require("UHT.BaseDataStructures"), VsJackpotConfiguration.prototype.Clone = function () {
    var t = new VsJackpotConfiguration;
    return t.MinBetToWin = this.MinBetToWin, t.MinLineNumberToWin = this.MinLineNumberToWin, null != this.LineCombinationToWin && (t.LineCombinationToWin = this.LineCombinationToWin.slice()), t
}, goog.require("UHT.BaseDataStructures"), VsJackpotData.Type = {
    Undefined: 0,
    Random: 1,
    TwoSteps: 2
}, VsJackpotData.Status = {
    Undefined: 0,
    Obtained: 1,
    Used: 2
}, VsJackpotData.WonInstance = function (t) {
    this.type = VsJackpotData.WonInstance.Type.Undefined, this.jackpotId = 0, this.jackpotInstance = 0, this.amount = 0, this.multiplier = 1, this.autoDrawing = !1, null != t && (this.type = t.type, this.jackpotId = t.jackpotId, this.jackpotInstance = t.jackpotInstance, this.amount = t.amount, this.multiplier = t.multiplier, this.autoDrawing = t.autoDrawing)
}, VsJackpotData.WonInstance.Type = {
    Undefined: 0,
    Progressive: 1,
    NonProgressive: 2
}, VsJackpotData.prototype.IsWin = !1, VsJackpotData.prototype.Clone = function () {
    return new VsJackpotData(this)
}, VsJackpotVisualization.JpType = {
    badges: 0
}, VsJackpotVisualization.prototype.Clone = function () {
    var t = new VsJackpotVisualization;
    return t.jpvType = this.jpvType, null != this.positions && (t.positions = this.positions.slice()), t
}, VsMergingSymbol.prototype.Clone = function () {
    var t = new VsMergingSymbol;
    return t.mergingPosition = this.mergingPosition, t.mergedSymbolId = this.mergedSymbolId, t
}, VsMergingSymbol.prototype.CloneHelper = function () {
    return this.Clone()
}, VsMoneySymbolConfig.prototype.Clone = function () {
    var t = new VsMoneySymbolConfig;
    return t.symbolID = this.symbolID, null != this.possibleValues && (t.possibleValues = this.possibleValues.slice()), null != this.jackpotValues && (t.jackpotValues = this.jackpotValues.slice()), null != this.jackpotMasks && (t.jackpotMasks = this.jackpotMasks.slice()), t
}, VsMoneySymbolData.prototype.Clone = function () {
    var t = new VsMoneySymbolData;
    return null != this.currentValues && (t.currentValues = this.currentValues.slice()), null != this.currentSymbolsLook && (t.currentSymbolsLook = this.currentSymbolsLook.slice()), t.totalWin = this.totalWin, t
}, goog.require("UHT.BaseDataStructures"), VsNudgedSymbolsData.prototype.Clone = function () {
    var t = new VsNudgedSymbolsData(this.reelID, this.startingSymbolsIDs, this.nudgedSymbolsIDs, this.nudgedStopPosition, this.nudgeDirection);
    return null != this.startingSymbolsIDs && (t.startingSymbolsIDs = this.startingSymbolsIDs.slice()), null != this.nudgedSymbolsIDs && (t.nudgedSymbolsIDs = this.nudgedSymbolsIDs.slice()), t
}, VsOpeningSymbolsData.prototype.Clone = function () {
    var t = new VsOpeningSymbolsData;
    return null != this.Positions && (t.Positions = this.Positions.slice()), t.OSFreeSpinsWon = this.OSFreeSpinsWon, t.OSMultiplierWon = this.OSMultiplierWon, t
}, VsOpeningSymbolsData.prototype.CloneHelper = function () {
    return this.Clone()
}, VsPossibleRandomSymbolMultipliers.prototype.Clone = function () {
    var t = new VsPossibleRandomSymbolMultipliers;
    t.symbolId = this.symbolId;
    for (var e = 0; e < this.symbolMultipliers.length; e++) t.symbolMultipliers.push(this.symbolMultipliers[e]);
    return t
}, VsPossibleRandomSymbolMultipliers.prototype.CloneHelper = function () {
    return this.Clone()
}, VSProgressiveFeatureConfig.prototype.CloneHelper = function () {
    return this.Clone()
}, VSProgressiveFeatureConfig.prototype.Clone = function () {
    var t = new VSProgressiveFeatureConfig;
    return t.pickedSymbolPosition = this.pickedSymbolPosition, null != this.progressSymbolIDs && (t.progressSymbolIDs = this.progressSymbolIDs.slice()), t
}, VsProgressiveFeatureData.prototype.Clone = function () {
    var t = new VsProgressiveFeatureData;
    return t.needsReset = this.needsReset, t.level = this.level, t.progress = this.progress, t.targetProgress = this.targetProgress, t.currentAttempt = this.currentAttempt, t.attempts = this.attempts, t.accumulatedWin = this.accumulatedWin, t.prizeWin = this.prizeWin, t.prizeMultiplier = this.prizeMultiplier, t.winMultiplier = this.winMultiplier, t
}, VsProgressiveFeatureData.prototype.CloneHelper = function () {
    return this.Clone()
}, VsRandomAwardConfig.prototype.GetAwardIndex = function (t) {
    for (var e = 0; e < this.possibleAwards.length; e++)
        if (t.Type == this.possibleAwards[e].Type && t.Value == this.possibleAwards[e].Value) return e;
    return -1
}, VsRandomAwardConfig.prototype.GetAwardAtIndex = function (t) {
    return this.possibleAwards[t]
}, VsRandomAwardConfig.prototype.GetSmallestAwardOnReel = function (t) {
    for (var e = this.GetAwardIndex(this.awardReels[t][0]), i = 0; i < this.awardReels[t].length; i++) e > this.GetAwardIndex(this.awardReels[t][i]) && (e = this.GetAwardIndex(this.awardReels[t][i]));
    return e
}, VsRandomAwardConfig.prototype.ProcessPossibleAwards = function () {
    var t, e, i;
    for (this.possibleAwards = [], t = 0; t < this.awardReelsCount; t++)
        for (e = 0; e < this.awardReels[t].length; e++) this.ListContains(this.possibleAwards, this.awardReels[t][e]) || this.possibleAwards.push(this.awardReels[t][e]);
    for (t = 0; t < this.possibleAwards.length; t++)
        for (e = 0; e < this.possibleAwards.length - 1; e++) this.possibleAwards[e].Type == VsRandomAward.AwardType.Multiplier && this.possibleAwards[e + 1].Type == VsRandomAward.AwardType.Multiplier ? this.possibleAwards[e + 1].Value < this.possibleAwards[e].Value && (i = this.possibleAwards[e], this.possibleAwards[e] = this.possibleAwards[e + 1], this.possibleAwards[e + 1] = i) : this.possibleAwards[e].Type == VsRandomAward.AwardType.Trigger && this.possibleAwards[e + 1].Type == VsRandomAward.AwardType.Multiplier && (i = this.possibleAwards[e], this.possibleAwards[e] = this.possibleAwards[e + 1], this.possibleAwards[e + 1] = i)
}, VsRandomAwardConfig.prototype.ListContains = function (t, e) {
    for (var i = 0; i < t.length; i++)
        if (t[i].Type == e.Type && t[i].Value == e.Value) return !0;
    return !1
}, VsRandomAwardConfig.prototype.Clone = function () {
    var t = new VsRandomAwardConfig;
    if (t.awardReelsCount = this.awardReelsCount, null != this.awardReels) {
        t.awardReels = [];
        for (var e = 0; e < this.awardReels.length; e++) t.awardReels.push(this.awardReels[e].slice())
    }
    return null != this.awardSymbolsNormal && (t.awardSymbolsNormal = this.awardSymbolsNormal.slice()), null != this.awardSymbolsFreeSpins && (t.awardSymbolsFreeSpins = this.awardSymbolsFreeSpins.slice()), null != this.possibleAwards && (t.possibleAwards = this.possibleAwards.slice()), t
}, VsRandomAward.AwardType = {
    None: 0,
    Trigger: 1,
    Multiplier: 2,
    FeatureTrigger: 3
}, VsRandomSymbolMultiplier.prototype.Clone = function () {
    var t = new VsRandomSymbolMultiplier;
    t.symbolId = this.symbolId;
    for (var e = 0; e < this.symbolPositions.length; e++) t.symbolPositions.push(this.symbolPositions[e]);
    return t.multiplierValue = this.multiplierValue, t
}, VsRandomSymbolMultiplier.prototype.CloneHelper = function () {
    return this.Clone()
}, VsRandomWildsData.prototype.Clone = function () {
    var t = new VsRandomWildsData;
    if (t.RandomSymbolID = this.RandomSymbolID, t.TargetPositions = null, null != this.TargetPositions) {
        t.TargetPositions = [];
        for (var e = 0; e < this.TargetPositions.length; e++) t.TargetPositions.push(this.TargetPositions[e])
    }
    return t
}, VsRandomWildsData.prototype.CloneHelper = function () {
    return this.Clone()
}, goog.require("UHT.BaseDataStructures"), VsRequest.prototype.Clone = function () {
    var t = new VsRequest;
    return t.Bet = this.Bet, t.Line = this.Line, t.Symbol = this.Symbol, t.BonusGameChoice = this.BonusGameChoice, t.TryMeOnce = this.TryMeOnce, t.ProgressPick = this.ProgressPick, t
}, VsRespin.prototype.Clone = function () {
    var t = new VsRespin;
    if (t.RespinType = this.RespinType, null != this.Indices) {
        t.Indices = [];
        for (var e = 0; e < this.Indices.length; ++e) t.Indices[e] = this.Indices[e].slice()
    }
    return t.CurrentRespin = this.CurrentRespin, t.MaxRespins = this.MaxRespins, t.TotalRespins = this.TotalRespins, t.IsDone = this.IsDone, t.RespinsPlayed = this.RespinsPlayed, t.RespinsAdded = this.RespinsAdded, t.Lines = this.Lines, t
}, VsRespin.prototype.CloneHelper = function () {
    return this.Clone()
}, goog.require("UHT.BaseDataStructures");
var NextGameAction = {
    None: 0,
    Spin: 1,
    Collect: 2,
    Gamble: 3,
    Bonus: 4,
    CollectBonus: 5,
    FSOption: 6,
    MysteryScatter: 7,
    FSBonus: 8,
    GambleCollect: 9,
    JackpotCollect: 10,
    GambleOption: 11,
    PlayJackpot: 12
};

function VsResponse() {
    this.SlotHeight = 3, this.SlotLines = 0, this.Balance = 0, this.BonusBalance = 0, this.Win = 0, this.ExtraAwardWin = 0, this.RespinCycleWin = 0, this.RandomWildsData = null, this.UpSymbols = null, this.ExpandingSymbolsData = null, this.SymbolsBeforeExpanding = [], this.WinScreenSymbols = [], this.ReelPositions = [], this.VsWinLines = [], this.VsBonusGame = null, this.FreeSpinsOptions = null, this.WildRandomMultipliers = null, this.VsFreeSpin = null, this.FreeRound = null, this.FreeRoundEvents = null, this.VsInitData = null, this.JackpotVisualisation = null, this.GoldSymbol = null, this.SymbolReplacementData = null, this.WRLMResponse = null, this.WRLMCurrentSets = null, this.VsGamblingButtonState = new VsGamblingButtonState(!1, !1, !1), this.VsJackpotData = null, this.Respin = null, this.ProgressiveData = null, this.MoneySymbolData = null, this.StickySymbols = null, this.MergingSymbols = null, this.RandomAwardResponse = null, this.RandomSymbolMultipliers = null, this.PossibleRandomSymbolMultipliers = null, this.FreeSpinsChainData = null, this.TruncatedVsFreeSpin = null, this.OpeningSymbolsData = null, this.SpinOneReelData = null, this.TumblingData = null, this.FreeSpinsPurchaseData = null, this.RandomMysterySymbolId = null, this.PatternedMysterySymbols = null, this.SymbolsAbove = null, this.SymbolsBelow = null, this.NextReelsSymbolsList = null, this.NextGameActions = null, this.SpinCycleWin = 0, this.ReturnToPlayer = -1, this.ReturnToPlayerMin = -1, this.TumblingWin = 0, this.ReelSetIndex = -1, this.ReelSetIndexCurrent = -1, this.StackedSymbolIndex = -1, this.StackedSymbolIndexCurrent = -1, this.gambleV2Data = null, this.NudgedSymbolsData = null
}

function VsScatterData(t, e, i, n) {
    this.Symbol = t, this.Pays = e, this.Freespins = i, this.Multipliers = n
}

function VSSpinOneReelSymbolsData(t, e, i) {
    this.reelID = t, this.reelsToBeSpun = e, this.reelCoefs = i
}

function VsStickySymbol() {
    this.currentPosition = -1, this.endPosition = -1
}

function VsSymbolReplacement() {
    this.FromSymbolId = -1, this.ToSymbolId = -1, this.ReplacementPositions = []
}

function VsTumblingData() {
    this.tumblingSymbols = []
}

function VsWildData(t, e, i) {
    this.Symbol = t, this.Pays = e, this.Multipliers = i
}

function MultiplierSet() {
    this.setIndex = 0, this.multipliers = null
}

function VsWildRandomLineMultiplier() {}

function VsWildRandomMultiplier() {
    this.SymbolIndex = 0, this.Position = 0, this.Multiplier = 1
}

function VsWinLine() {
    this.LineNumber = 0, this.WinAmount = 0, this.WinPositions = [], this.Combination = -1, this.Multiplier = 1, this.isWinWaysGroup = !1, this.symbolId = -1, this.waysCount = -1, this.waysLength = -1, this.payingDirection = ""
}
VsResponse.prototype.GetVsFreeSpin = function () {
    return this.VsFreeSpin
}, VsResponse.prototype.SetVsFreeSpin = function (t) {
    this.VsFreeSpin = t
}, VsResponse.prototype.SetVsJackpotData = function (t) {
    this.VsJackpotData = t
}, VsResponse.prototype.SetVsBonusGameData = function (t) {
    this.VsBonusGame = t
}, VsResponse.prototype.GetVsBonusGameData = function () {
    return this.VsBonusGame
}, VsResponse.prototype.HasExpandingSymbols = function () {
    return null != this.ExpandingSymbolsData && this.ExpandingSymbolsData.length > 0
}, VsResponse.prototype.IsWin = function () {
    return this.Win > 0
}, VsResponse.prototype.IsBonus = function () {
    return null != this.VsBonusGame
}, VsResponse.prototype.IsBonusGameOver = function () {
    return null != this.VsBonusGame && 1 == this.VsBonusGame.GameOver
}, VsResponse.prototype.IsBonusRespin = function () {
    return null != this.VsBonusGame && this.VsBonusGame.maxBonusRespins > 0
}, VsResponse.prototype.BonusDoesNotNeedInit = function () {
    return null != this.VsBonusGame && XT.GetObject(Vars.NoInitBonusGameTypes).indexOf(this.VsBonusGame.type) >= 0
}, VsResponse.prototype.BonusIdDoesNotNeedInit = function () {
    return null != this.VsBonusGame && XT.GetObject(Vars.NoInitBonusGameIds).indexOf(this.VsBonusGame.id) >= 0
}, VsResponse.prototype.IsBonusFSPick = function () {
    return null != this.VsBonusGame && null != this.VsBonusGame.MultipliedSymbolPositions
}, VsResponse.prototype.IsBonusOptions = function () {
    return null != this.VsBonusGame && null != this.VsBonusGame.BonusTable && null != this.VsBonusGame.BonusTable.WinsMask
}, VsResponse.prototype.IsOpeningSymbols = function () {
    return null != XT.GetObject(Vars.OpeningSymbolsData)
}, VsResponse.prototype.HasFreeSpinOptions = function () {
    return null != this.FreeSpinsOptions
}, VsResponse.prototype.IsFreeSpins = function () {
    return null != this.VsFreeSpin
}, VsResponse.prototype.IsFreeSpinBonusGame = function () {
    return null != this.VsFreeSpin && null != this.VsFreeSpin.BonusGame
}, VsResponse.prototype.IsInit = function () {
    return null != this.VsInitData
}, VsResponse.prototype.WasDoBonus = function () {
    return !!this.IsBonus() && this.VsBonusGame.initialized
}, VsResponse.prototype.WasDoFSBonus = function () {
    return !!this.IsFreeSpinBonusGame() && this.VsFreeSpin.BonusGame.Level > 0
}, VsResponse.prototype.IsJackpotWin = function () {
    return null != this.VsJackpotData && this.VsJackpotData.IsWin
}, VsResponse.prototype.IsJackpotEnable = function () {
    return null != this.VsJackpotData && this.VsJackpotData.IsActive
}, VsResponse.prototype.IsRespin = function () {
    return null != this.Respin
}, VsResponse.prototype.Clone = function () {
    var t, e = new VsResponse;
    if (e.SlotHeight = this.SlotHeight, e.SlotLines = this.SlotLines, e.Balance = this.Balance, e.BonusBalance = this.BonusBalance, e.Win = this.Win, e.TumblingWin = this.TumblingWin, e.ReelSetIndex = this.ReelSetIndex, e.ReelSetIndexCurrent = this.ReelSetIndexCurrent, e.StackedSymbolIndex = this.StackedSymbolIndex, e.StackedSymbolIndexCurrent = this.StackedSymbolIndexCurrent, e.RandomWildsData = null, null != this.RandomWildsData)
        for (e.RandomWildsData = [], t = 0; t < this.RandomWildsData.length; t++) e.RandomWildsData.push(this.RandomWildsData[t].CloneHelper());
    if (e.UpSymbols = null, null != this.UpSymbols)
        for (e.UpSymbols = [], t = 0; t < this.UpSymbols.length; t++) e.UpSymbols.push(this.UpSymbols[t]);
    if (e.ExpandingSymbolsData = null, null != this.ExpandingSymbolsData)
        for (e.ExpandingSymbolsData = [], t = 0; t < this.ExpandingSymbolsData.length; t++) e.ExpandingSymbolsData.push(this.ExpandingSymbolsData[t].CloneHelper());
    for (e.SymbolsBeforeExpanding = [], t = 0; t < this.SymbolsBeforeExpanding.length; ++t) e.SymbolsBeforeExpanding[t] = this.SymbolsBeforeExpanding[t].slice();
    for (e.WinScreenSymbols = [], t = 0; t < this.WinScreenSymbols.length; ++t) e.WinScreenSymbols[t] = this.WinScreenSymbols[t].slice();
    for (e.ReelPositions = null == this.ReelPositions ? [] : this.ReelPositions.slice(), e.VsWinLines = [], t = 0; t < this.VsWinLines.length; ++t) e.VsWinLines[t] = this.VsWinLines[t].Clone();
    if (null != this.VsBonusGame && (e.VsBonusGame = this.VsBonusGame.Clone()), null != this.VsFreeSpin && (e.VsFreeSpin = this.VsFreeSpin.Clone()), null != this.TruncatedVsFreeSpin && (e.TruncatedVsFreeSpin = this.TruncatedVsFreeSpin.Clone()), null != this.VsInitData && (e.VsInitData = this.VsInitData.Clone()), null != this.VsJackpotData && (e.VsJackpotData = this.VsJackpotData.Clone()), e.VsGamblingButtonState = this.VsGamblingButtonState.Clone(), e.FreeSpinsOptions = null, null != this.FreeSpinsOptions)
        for (e.FreeSpinsOptions = [], t = 0; t < this.FreeSpinsOptions.length; t++) e.FreeSpinsOptions.push(this.FreeSpinsOptions[t].CloneHelper());
    if (e.FreeRound = null, null != this.FreeRound && (e.FreeRound = this.FreeRound.CloneHelper()), e.FreeRoundEvents = null, null != this.FreeRoundEvents) {
        e.FreeRoundEvents = [];
        for (var i = 0; i < this.FreeRoundEvents.length; i++) e.FreeRoundEvents.push(this.FreeRoundEvents[i].CloneHelper())
    }
    if (null != this.RandomAwardResponse && (e.RandomAwardResponse = this.RandomAwardResponse.Clone()), null != this.RandomSymbolMultipliers && (e.RandomSymbolMultipliers = this.RandomSymbolMultipliers.slice()), null != this.PossibleRandomSymbolMultipliers)
        for (e.PossibleRandomSymbolMultipliers = [], t = 0; t < this.PossibleRandomSymbolMultipliers.length; t++) e.PossibleRandomSymbolMultipliers.push(this.PossibleRandomSymbolMultipliers[t].Clone());
    if (null != this.FreeSpinsChainData && (e.FreeSpinsChainData = this.FreeSpinsChainData.Clone()), null != this.OpeningSymbolsData && (e.OpeningSymbolsData = this.OpeningSymbolsData.Clone()), null != this.SpinOneReelData && (e.SpinOneReelData = this.SpinOneReelData.Clone()), null != this.TumblingData && (e.TumblingData = this.TumblingData.Clone()), null != this.FreeSpinsPurchaseData && (e.FreeSpinsPurchaseData = this.FreeSpinsPurchaseData.Clone()), null != this.RandomMysterySymbolId && (e.RandomMysterySymbolId = this.RandomMysterySymbolId.slice()), e.PatternedMysterySymbols = null, null != this.PatternedMysterySymbols)
        for (e.PatternedMysterySymbols = [], t = 0; t < this.PatternedMysterySymbols.length; t++) e.PatternedMysterySymbols.push(this.PatternedMysterySymbols[t]);
    if (null != this.SymbolsAbove && (e.SymbolsAbove = this.SymbolsAbove.slice()), null != this.SymbolsBelow && (e.SymbolsBelow = this.SymbolsBelow.slice()), null != this.NextReelsSymbolsList && (e.NextReelsSymbolsList = this.NextReelsSymbolsList.slice()), null != this.MoneySymbolData && (e.MoneySymbolData = this.MoneySymbolData.Clone()), null != this.NudgedSymbolsData)
        for (e.NudgedSymbolsData = [], t = 0; t < this.NudgedSymbolsData.length; t++) e.NudgedSymbolsData.push(this.NudgedSymbolsData[t].Clone());
    return e
}, VsResponse.prototype.ToString = function () {
    return "VsResponse { SlotHeight = " + this.SlotHeight + ", IsWin = " + this.IsWin() + ", IsBonus = " + this.IsBonus() + ", IsBonusRespin = " + this.IsBonusRespin() + ", IsFreeSpins = " + this.IsFreeSpins() + (this.IsFreeSpins() ? ", IsLastFreeSpin = " + this.VsFreeSpin.IsLastFreeSpin() : "") + ", IsFreeSpinBonusGame = " + this.IsFreeSpinBonusGame() + "}"
}, VsResponse.prototype.HasFreeRoundEvents = function () {
    return null != this.FreeRoundEvents
}, VsResponse.prototype.IsFreeRounds = function () {
    return null != this.FreeRound
}, VsResponse.prototype.isGambleV2 = function () {
    return null != this.gambleV2Data && this.gambleV2Data.optionIndex > -1
}, goog.require("UHT.BaseDataStructures"), VsScatterData.prototype.Clone = function () {
    var t = new VsScatterData(this.Symbol, this.Pays, this.Freespins, this.Multipliers);
    return null != this.Pays && (t.Pays = this.Pays.slice()), null != this.Freespins && (t.Freespins = this.Freespins.slice()), null != this.Multipliers && (t.Multipliers = this.Multipliers.slice()), t
}, goog.require("UHT.BaseDataStructures"), VSSpinOneReelSymbolsData.prototype.Clone = function () {
    var t = new VSSpinOneReelSymbolsData(this.reelID, this.reelsToBeSpun, this.reelCoefs);
    return null != this.reelsToBeSpun && (t.reelsToBeSpun = this.reelsToBeSpun.slice()), null != this.reelCoefs && (t.reelCoefs = this.reelCoefs.slice()), t
}, VsStickySymbol.prototype.Clone = function () {
    var t = new VsStickySymbol;
    return t.currentPosition = this.currentPosition, t.endPosition = this.endPosition, t
}, VsStickySymbol.prototype.CloneHelper = function () {
    return this.Clone()
}, VsStickySymbol.prototype.IsMoving = function () {
    return this.currentPosition != this.endPosition && this.endPosition >= 0
}, VsStickySymbol.prototype.IsSticky = function () {
    return this.currentPosition == this.endPosition
}, VsStickySymbol.prototype.WillDisappear = function () {
    return this.endPosition < 0
}, VsSymbolReplacement.prototype.Clone = function () {
    var t = new VsSymbolReplacement;
    return t.FromSymbolId = this.FromSymbolId, t.ToSymbolId = this.ToSymbolId, null != this.ReplacementPositions && (t.ReplacementPositions = this.ReplacementPositions.slice()), t
}, VsTumblingData.TumblingSymbol = function () {
    this.id = 0, this.position = 0
}, VsTumblingData.prototype.Clone = function () {
    var t = new VsTumblingData;
    t.tumblingSymbols = [];
    for (var e = 0; e < this.tumblingSymbols.length; e++) t.tumblingSymbols.push(new VsTumblingData.TumblingSymbol), t.tumblingSymbols[e].id = this.tumblingSymbols[e].id, t.tumblingSymbols[e].position = this.tumblingSymbols[e].position;
    return t
}, VsTumblingData.prototype.CloneHelper = function () {
    return this.Clone()
}, goog.require("UHT.BaseDataStructures"), VsWildData.prototype.Clone = function () {
    var t = new VsWildData(this.Symbol, this.Pays, this.Multipliers);
    return null != this.Pays && (t.Pays = this.Pays.slice()), null != this.Multipliers && (t.Multipliers = this.Multipliers.slice()), t
}, MultiplierSet.prototype.Clone = function () {
    var t = new MultiplierSet;
    return t.setIndex = this.setIndex, null != this.multipliers && (t.multipliers = this.multipliers.slice()), t
}, VsWildRandomLineMultiplier.Configuration = function () {
    this.wildSymbolId = 0, this.multiplierSets = null
}, VsWildRandomLineMultiplier.Configuration.prototype.GetCurrentSet = function (t) {
    for (var e = 0; e < this.multiplierSets.length; e++)
        if (this.multiplierSets[e].setIndex == t) return this.multiplierSets[e].multipliers;
    return null
}, VsWildRandomLineMultiplier.Configuration.prototype.Clone = function () {
    var t = new VsWildRandomLineMultiplier.Configuration;
    if (t.wildSymbolId = this.wildSymbolId, null != this.multiplierSets) {
        t.multiplierSets = [];
        for (var e = 0; e < this.multiplierSets.length; e++) t.multiplierSets.push(this.multiplierSets[e].Clone())
    }
    return t
}, VsWildRandomLineMultiplier.SpinResponse = function () {
    this.wildSymbolId = 0, this.multiplier = 0, this.positions = null
}, VsWildRandomLineMultiplier.SpinResponse.prototype.Clone = function () {
    var t = new VsWildRandomLineMultiplier.SpinResponse;
    return t.wildSymbolId = this.wildSymbolId, t.multiplier = this.multiplier, null != this.positions && (t.positions = this.positions.slice()), t
}, VsWildRandomLineMultiplier.CurrentSet = function () {
    this.wildSymbolId = 0, this.currentSetIndex = 0
}, VsWildRandomLineMultiplier.CurrentSet.prototype.Clone = function () {
    var t = new VsWildRandomLineMultiplier.CurrentSet;
    return t.wildSymbolId = this.wildSymbolId, t.currentSetIndex = this.currentSetIndex, t
}, VsWildRandomMultiplier.prototype.Clone = function () {
    var t = new VsWildRandomMultiplier;
    return t.SymbolIndex = this.SymbolIndex, t.Position = this.Position, t.Multiplier = this.Multiplier, t
}, VsFreeSpinOption.prototype.CloneHelper = function () {
    return this.Clone()
}, goog.require("UHT.BaseDataStructures"), VsWinLine.prototype.Clone = function () {
    var t = new VsWinLine;
    return t.LineNumber = this.LineNumber, t.WinAmount = this.WinAmount, t.WinPositions = this.WinPositions.slice(), t.Combination = this.Combination, t.Multiplier = this.Multiplier, t.isWinWaysGroup = this.isWinWaysGroup, t.symbolId = this.symbolId, t.waysCount = this.waysCount, t.waysLength = this.waysLength, t.payingDirection = this.payingDirection, t
};
var AdapterEvents = {
        evtCloseGame: "EVT_CLOSE_GAME",
        evtCloseGameCancel: "EVT_CLOSE_GAME_CANCEL",
        evtGameStatus: "EVT_GAME_STATUS",
        evtSound: "EVT_SOUND",
        evtGameLoadComplited: "EVT_GAME_LOAD_COMPLITED",
        evtServerRequest: "EVT_SERVER_REQUEST",
        evtUpdateBalance: "EVT_UPDATE_BALANCE",
        evtUpdateConnectionQuality: "EVT_UPDATE_CONNECTION_QUALITY",
        evtOpenCashier: "EVT_OPEN_CASHIER",
        evtSetTickerPromo: "EVT_SET_TICKER_PROMO",
        evtGetConfiguration: "EVT_GET_CONFIGURATION",
        evtUpdateLoadingProgress: "EVT_UPDATE_LOADING_PROGRESS",
        evtPlayForReal: "EVT_PLAY_FOR_REAL",
        evtChatMessage: "EVT_CHAT_MESSAGE",
        evtChatInit: "EVT_CHAT_INIT",
        evtChatState: "EVT_CHAT_STATE",
        evtGetGameMenu: "EVT_GET_GAME_MENU",
        evtSetGameMenu: "EVT_SET_GAME_MENU",
        evtGameMenuItemSelected: "EVT_GAME_MENU_ITEM_SELECTED",
        evtLogoff: "EVT_LOGOFF",
        evtLogoffOk: "EVT_LOGOFF_OK",
        evtReload: "EVT_RELOAD",
        evtMaximumTabsReached: "EVT_MAXIMUM_TABS_REACHED",
        evtAutoLogout: "EVT_AUTO_LOGOUT",
        evtAutoLogoutUserResponse: "EVT_AUTO_LOGOUT_USER_RESPONSE",
        evtDownloadCasinoClient: "EVT_DOWNLOAD_CLIENT",
        evtClientScreenMode: "EVT_CLIENT_SCREEN_MODE",
        evtUpdateJackpot: "EVT_UPDATE_JACKPOT",
        evtCloseExternalGame: "EVT_CLOSE_EXTERNAL_GAME",
        evtJackpotAmountToFlash: "EVT_NEW_JACKPOT_AMOUNT",
        evtRealityCheck: "EVT_REALITY_CHECK_MESSAGE",
        evtRealityLogoff: "EVT_REALITY_LOGOFF",
        evtRealityClose: "EVT_REALITY_CLOSE",
        evtGameReady: "EVT_UNITY_GAME_READY",
        evtServerResponse: "EVT_HTTP_RESPONSE",
        evtMessageOpened: "EVT_MESSAGE_OPENED",
        evtMessageClosed: "EVT_MESSAGE_CLOSED",
        evtFullscreenOverlayShown: "EVT_FULLSCREEN_OVERLAY_SHOWN",
        evtFullscreenOverlayHidden: "EVT_FULLSCREEN_OVERLAY_HIDDEN",
        evtShowMessage: "EVT_SHOW_MESSAGE"
    },
    AdapterParameters = {
        Notify: "common",
        Arguments: "args",
        GameSymbol: "symbol",
        GameActive: "active",
        MethodType: "type",
        Balance: "balance",
        BalanceUpdateTime: "stime",
        ConnectionQuality: "level",
        TickerMessage: "message",
        TickerStyle: "style",
        TabName: "tabName",
        Config: "config",
        Progress: "progress",
        SoundState: "sound",
        ChatMessages: "history",
        ChatInit: "init",
        ChatState: "state",
        ReloadLink: "link",
        MaxTabsCount: "maxcount",
        AutoLogout: "autologout",
        ClientScreenMode: "clientScreenMode",
        JackpotTotalAmount: "totaljackpot",
        Jackpots: "jackpots",
        JackpotAmountToFlash: "newJackpotAmount",
        RealityTime: "time",
        RealitySumm: "summ",
        RealityBalance: "balance",
        ResponseData: "data",
        ResponseStatusCode: "httpCode",
        messageType: "message",
        type: "type",
        unity: "unity",
        sendToAdapterMethod: "sendToAdapter",
        gameActionParameter: "action",
        sendToWrapperEvent: "unityToWrapperMsg"
    },
    AdapterMessages = {
        settingsNotSaved: "ALERT_CANT_SAVE_SETTINGS",
        connectionLost: "ALERT_CONNECTION_LOST"
    },
    FrameworkConfiguration = {
        resourceUri: "RESOURCES",
        menuUri: "MENU",
        wakeupUri: "WAKEUP",
        getSessionUri: "RETRIEVESESSION",
        settingsUri: "SETTINGS",
        gameServiceUri: "GAMESERVICE",
        clientLogUri: "CLIENTLOG",
        clientLogLevel: "CLIENTLOGLEVEL",
        loginUri: "LOGIN",
        logoutUri: "LOGOUT",
        sessionTimeout: "sessionTimeout",
        facebookUri: "FACEBOOK",
        external: "EXTERNAL",
        casinoName: "CASINONAME",
        externalChat: "EXTERNALCHAT",
        mobileAuthorize: "MOBILE_AUTHORIZE",
        externalAuthorize: "EXTERNAL_AUTHORIZE",
        chatServerPort: "CHAT_PORT",
        isSecure: "SECURE",
        stylename: "STYLENAME",
        currency: "CURRENCY",
        demoMode: "demoMode",
        isDefaultBrand: "DEFAULTC",
        shortcutName: "SHORTCUT_NAME",
        shortcutLink: "SHORTCUT_LINK",
        shortcutIconName: "SHORTCUT_ICON_NAME",
        shortcutUrlToCasinoRes: "SHORTCUT_URL_TO_RES",
        cacheAutorizeName: "CACHE_NAME",
        bundleDomain: "BUNDLE_DOMAIN",
        cacheAutorizeSize: "CACHE_SIZE",
        cacheAutorizeExpiration: "CACHE_EXPIRATION",
        cacheAutorizeSignature: "CACHE_SIGNATURE",
        reloadBalanceUri: "RELOAD_BALANCE",
        reloadJackpotUri: "RELOAD_JACKPOT",
        appVersion: "VERSION",
        applicationStoreUrl: "STORE_URL",
        locale: "LANGUAGE",
        gameSymbol: "GAME_SYMBOL",
        versionInfo: "VERSION_INFO",
        updateAndroidApp: "UPDATE_ANDROID_APP",
        updateAndroidProp: "UPDATE_ANDROID_PROP",
        webLobbyUrl: "WEB_LOBBY",
        extWebLobbyUrl: "EXT_WEB_LOBBY",
        displayClockInFullScreen: "DISPLAY_CLOCK_FULL_MODE",
        gameUrl: "GAME_URL",
        mgckey: "MAGIC_KEY",
        noRating: "NO_RATING",
        gameHistory: "HISTORY",
        gameVerificationUrl: "VERIFY",
        jurisdiction: "jurisdiction",
        jurisdictionRequirements: "jurisdictionRequirements",
        brandRequirements: "brandRequirements",
        promotionurl: "promotionurl",
        rcSettings: "rcSettings",
        amountType: "amountType"
    },
    DefaultValues = {
        LanguageSettings: {
            defaultLanguage: "en"
        },
        CurrencySettings: {
            defaultCurrency: "USD"
        },
        DefaultParameters: {
            defaultStylename: "premiumgames",
            defaultGameSymbol: "LobbyComponent"
        },
        ServerProtocol: {
            Login: {
                loginResult: "log",
                loginResultSuccess: "1",
                loginResultFail: "0",
                responseURL: "Url",
                accountType: "acctype",
                memberID: "memberID",
                errorMsg: "msg",
                accountTypeFun: "F",
                accountTypeReal: "R",
                aid: "aid",
                authStatusOk: "OK",
                authStatusUnlogged: "UNLOGGED"
            },
            InitSession: {
                language: "lang",
                type: "type",
                unityType: "UnityClient",
                sessionID: "sessionid"
            },
            SessionManagement: {
                unloggedResponse: "unlogged",
                newSessionResponse: "new session"
            }
        },
        GameParams: {
            gameRequestTimeout: 15,
            gamePnowRequestDelay: 3,
            gameRequestDelay: 2,
            gameConnectionTimeout: 120,
            resourceBrandPath: "brands/",
            resourceGamePath: "games/"
        },
        RetryParams: {
            disableRetry: 0,
            unlimitedRetryCount: -1,
            retryTimeout: 15,
            resRetryTimeout: 3
        },
        NoNetwork: {
            retryCountToShowText: 2,
            wakeUpFailInRow: 2
        },
        ResourceManagerCfg: {
            resourceInfoFileNameSuffix: ".ResInfo.xml",
            componentInfoFileName: "component.info",
            componentStringList: "string.list",
            componentFolder: "components/",
            sharedComponentName: "shared",
            packageExtention: ".zip"
        },
        PackageInfoCfg: {
            packageTypeCommon: "common",
            packageTypeLocalized: "localized",
            sharedComponent: "shared"
        },
        ComponentInfoFormat: {
            componentName: "name",
            componentLocalization: "localization",
            componentDefaultLanguage: "default",
            componentLanguageList: "languages",
            componentPackagesList: "packages",
            componentPackageName: "name",
            componentPackageType: "type"
        },
        Resources: {
            bundlesInfoHead: "languages",
            bundlesLanuageTitle: "language",
            bundlesHead: "bundles",
            bundleName: "name",
            bundleVersion: "version",
            bundlesCommon: "common",
            defaultLanguage: "",
            locolizationFileName: "localization.info",
            resourceInfoFileName: "packages.info",
            versionsInfoFileName: "versions.info",
            versionsInfoHead: "versions"
        },
        StringListFormat: {
            languageID: "language",
            keys: "keys"
        },
        AuthServicesPath: {
            facebook: "/facebook.do"
        },
        AuthServicesDefines: {
            language: "lang",
            action: "method",
            login: "login",
            id: "id",
            token: "token",
            guestId: "gid",
            Facebook: {
                tokenParam: "token",
                successResult: "ok",
                failedResult: "failed"
            }
        },
        UnityGameObjects: {
            casinoSDK: "Casino SDK",
            FBBridgeObject: "FBBridgeObject"
        },
        FBPluginConstants: {
            androidFBPluginClassName: "com.igs.fbplugin.FBPlugin",
            androidFBPluginFunction: "FacebookConnect"
        },
        Settings: {
            settingsPath: "/saveSettings.do",
            action: "method",
            load: "load",
            idParam: "id",
            settingsParam: "settings",
            symbolKey: "symbol",
            settingsKey: "settings"
        },
        ApplicationSettings: {
            settingSeparator: "\n",
            settingIDSeparator: "\t",
            gameSettingsFilename: "game.settings",
            clientSettingsFilename: "client.settings"
        },
        UnityVars: {
            language: "lang",
            gameSymbol: "gs",
            session: "sp",
            styleName: "sn",
            configurationUri: "conf",
            currency: "currency",
            accountType: "accountType",
            gameServerDomain: "gsd",
            bundleVersion: "ver"
        },
        FrameworkConfigurationXml: {
            items: "items",
            authStatus: "/root/auth_status",
            aid: "/root/member/aid",
            type: "/root/member/type",
            item: "item",
            key: "key",
            value: "value"
        },
        LogTransferSetting: {
            defaultTimerDelaySeconds: 5
        },
        Chat: {
            maxMessageLength: 250,
            pingDelay: 5,
            malDelay: 3,
            ImmidiatlyAfterLoginRetryLogic: {
                timeToLostConnect: 10,
                timeToLostConnectShow: 10
            },
            ChatInProcessRetryLogic: {
                timeToLimitedFunctionality: 10
            }
        },
        GameMenu: {
            ItemId: {
                reports: "reports",
                withdraw: "withdraw",
                language: "language"
            }
        },
        Socket: {
            endOfCommand: "\0",
            bufferLength: 256,
            readTimeout: 500
        },
        ScreenMode: {
            fullScreenMode: "fullScreenMode",
            windowMode: "windowMode"
        },
        TokenInfo: {
            tokenKey: "token",
            domainKey: "domain",
            gameIdKey: "gameId",
            expiresKey: "expires",
            externalLinkKey: "extLink",
            externalKey: "ext",
            tokenFile: "info.dat",
            tokenCookieName: "AUTHTOKEN",
            tokenExpDateCookieName: "AUTHTOKEN_STORE_PERIOD"
        },
        ExternalDataProtocol: {
            tokenKey: "token",
            domainKey: "domain",
            ticketKey: "PathAndQuery",
            protocolKey: "protocol",
            gameIdKey: "symbol",
            protocol: "fungame",
            deviceId: "id",
            uriDelimeter: "?",
            paramSeparator: ":",
            pairSeparator: "&",
            backToLobby: "btl",
            mobileLobbyCategory: "mlc",
            defaultMobileLobbyCategory: "1"
        },
        JackpotXml: {
            jackpot_list: "/jackpot_list",
            list_total_amount: "total_amount",
            jackpot_item: "jackpot",
            jackpotId: "id",
            jackpotAmount: "amount",
            jackpotStyle: "style",
            jackpotGames: "gsymbols"
        },
        JackpotGamesListXml: {
            jackpot_list: "/casino",
            jackpotItem: "jackpot",
            jackpotId: "jackpotid",
            jackpotName: "name",
            gameItem: "game",
            newgame: "newgame",
            premiumgame: "premiumgame",
            gamename: "name",
            gamepic: "pic",
            gamelink: "link"
        },
        BalanceXml: {
            cash: "/CASH",
            balance: "BALANCE"
        },
        JackpotGamesRequest: {
            action: "method",
            actionType: "jackpotList",
            actionParam: "categorySymbol",
            actionParamValue: "jp"
        },
        Timing: {
            wakeupRequestDelayInSeconds: 15,
            wakeupRequestDelayInMiliseconds: 15e3,
            wakeupServiceTotalWorkInMinutes: 10
        },
        ShortcutRes: {
            path: "",
            iconName: ""
        },
        ClientSettingNames: {
            shortcutSettings: "shortcutSettings"
        },
        PossibleOpenGames: {
            maxOpenedCount: 2
        },
        PlayOnRealMoney: {
            paramName: "msg_code",
            allow: "1",
            denied: "0"
        },
        UpdateVersion: {
            updateFolder: "updates/",
            appVersionKey: "version",
            updateImportanceKey: "importance",
            configAppVersionKey: "apk",
            updateFileKey: "file",
            updateInfoFileName: "UpdateInfo.dat"
        },
        GuestId: {
            guestIdFile: "gid.info",
            guestIdKey: "guestId",
            guestIdCookieKey: "GID"
        },
        InbuildDomain: {
            notUse: "default"
        },
        LogTransfer: {
            tmpSwapFile: "tmpLog.log",
            cashFile: "unsent.log",
            sendDataLimit: 1e4
        }
    };
DefaultValues.Resources.defaultLanguage = DefaultValues.LanguageSettings.defaultLanguage, goog.require("UHT.EventHandler"), goog.provide("UHT.EventManager");
var GameEvents = {
        evtConnectionReady: "evtConnectionReady",
        evtInitResponse: "evtInitResponse",
        evtSpinResponse: "evtSpinResponse",
        evtNoMoneySpinResponse: "evtNoMoneySpinResponse",
        evtConfigSwitchedResponse: "evtConfigSwitchedResponse",
        evtInitRequest: "evtInitRequest",
        evtSpinRequest: "evtSpinRequest",
        evtFreespinsFinished: "evtFreespinsFinished",
        evtGambleRequest: "evtGambleRequest",
        evtGambleClose: "evtGambleClose",
        evtGambleResponse: "evtGambleResponse",
        evtMustPlayJackpot: "evtMustPlayJackpot",
        evtPlayJackpotRequest: "evtPlayJackpotRequest",
        evtPlayJackpotResponse: "evtPlayJackpotResponse",
        evtBonusInitResponse: "evtBonusInitResponse",
        evtBonusPickRequest: "evtBonusPickRequest",
        evtBonusPickResponse: "evtBonusPickResponse",
        evtBonusRespinRequest: "evtBonusRespinRequest",
        evtBonusRespinResponse: "evtBonusRespinResponse",
        evtBonusFinishRequest: "evtBonusFinishRequest",
        evtSoundState: "evtSoundState",
        evtGetSettingsRequest: "evtGetSettingsRequest",
        evtUpdateSettingsRequest: "evtUpdateSettingsRequest",
        evtSettingsUpdated: "evtSettingsUpdated",
        evtSettingsNotSaved: "evtSettingsNotSaved",
        evtGameStatus: "evtGameStatus",
        evtFSBGInitRequest: "evtFSBGInitRequest",
        evtFSBGInitResponse: "evtFSBGInitResponse",
        evtFSBGPickRequest: "evtFSBGPickRequest",
        evtFSBGPickResponse: "evtFSBGPickResponse",
        evtMysteryScatterRequest: "evtMysteryScatterRequest",
        evtMysteryScatterResponse: "evtMysteryScatterResponse",
        evtCreateConnectionRequest: "evtCreateConnectionRequest",
        evtFreeRoundsUpdate: "evtFreeRoundsUpdate",
        evtFSOptionsUpdate: "evtFSOptionsUpdate",
        evtFSOptionPickRequest: "evtFSOptionPickRequest",
        evtServerTimeUpdate: "evtServerTimeUpdate",
        evtXTRegisterCallbacks: "evtXTRegisterCallbacks"
    },
    ApplicationEvents = {
        evtRequestInitApplication: "evtRequestInitApplication",
        evtRequestAppConfiguration: "evtRequestAppConfiguration",
        evtAppConfigurationReceived: "evtAppConfigurationReceived",
        evtServerOptionsParsed: "evtServerOptionsParsed",
        evtFlashRPCRequest: "evtFlashRPCRequest",
        evtGameLoadingFinished: "evtGameLoadingFinished",
        evtFlashWrapperRPCRequest: "evtFlashWrapperRPCRequest",
        evtServerResponse: "evtServerResponse"
    },
    EventManager = {
        handlers: {},
        queuedEvts: [],
        queuedArgs: [],
        Init: function () {},
        AddHandler: function (t, e, i) {
            null == EventManager.handlers[t] && (EventManager.handlers[t] = []), EventManager.handlers[t].push(new EventHandler(i, e))
        },
        ClearCallback: function (t, e) {
            for (var i in EventManager.handlers)
                if (EventManager.handlers.hasOwnProperty(i))
                    for (var n = 0; n < EventManager.handlers[i].length; ++n) EventManager.handlers[i][n].equals(e, t) && EventManager.handlers[i].splice(n, 1)
        },
        optionalEvents: ["EVT_UHT_UPDATE", "EVT_UHT_BEFOREUPDATE"],
        Trigger: function (t, e) {
            if (EventManager.optionalEvents.indexOf(t), null != EventManager.handlers[t])
                for (var i = 0; i < EventManager.handlers[t].length; ++i) EventManager.handlers[t][i].call(e)
        },
        Queue: function (t, e) {
            EventManager.queuedEvts.push(t), EventManager.queuedArgs.push(e)
        },
        TriggerQueued: function () {
            for (var t = 0; t < EventManager.queuedEvts.length; ++t) EventManager.Trigger(EventManager.queuedEvts[t], EventManager.queuedArgs[t]);
            EventManager.queuedEvts.splice(0), EventManager.queuedArgs.splice(0)
        }
    };
goog.provide("UHT.JackpotHelpers");
var JackpotEvents = {
        evtJackpotStateChanged: "evtJackpotStateChanged",
        evtJackpotsUpdated: "evtJackpotsUpdated"
    },
    JackpotDictionary = {
        jackpotAmount: "amount",
        jackpotAmountUSD: "amountUSD",
        jackpotName: "name",
        jackpotId: "jackpotID",
        jackpotOrder: "order",
        jackpotGroupType: "groupKind",
        jackpotStatus: "status",
        jackpotMinBet: "minBet",
        jackpotMinBetUSD: "minBetUSD",
        jackpotRTP: "rtp",
        jackpotInstance: "jackpotInstance",
        jackpotMultipliers: "multipliers",
        communityFeatureDetails: "communityFeatureDetails",
        multipliersRTP: "multipliersRTP",
        prevWonAmount: "prevWonAmount",
        prevWonAmountUSD: "prevWonAmountUSD",
        nextSeedAmount: "nextSeedAmount",
        nextSeedAmountUSD: "nextSeedAmountUSD",
        contributePercent: "contributePercent",
        babyContributeInitialPercent: "babyContributeInitialPercent",
        babyContributePercent: "babyContributePercent",
        babyAmount: "jackpotBabyAmount",
        babyAmountUSD: "jackpotBabyAmountUSD",
        startNextFromSeed: "startNextFromSeed",
        winInfo: "winInfo",
        CommunityDetails: {
            winnerAmount: "winnerAmount",
            winnerAmountUSD: "winnerAmountUSD",
            shareAmount: "shareAmount",
            shareAmountUSD: "shareAmountUSD",
            sharedPercentage: "sharedPercentage",
            minWinLimit: "minWinLimit",
            minWinLimitUSD: "minWinLimitUSD",
            detectingPeriodInSec: "detectingPeriodInSec",
            distributionType: "distributionType",
            maxPrizesNumber: "maxPrizesNumber",
            minBet: "minBet",
            minBetUSD: "minBetUSD",
            minTotalBet: "minTotalBet",
            minTotalBetUSD: "minTotalBetUSD"
        },
        WinInfo: {
            biggestWinAmount: "biggestWinAmount",
            biggestWinDate: "biggestWinDate",
            biggestWinnerID: "biggestWinnerID",
            latestWinAmount: "latestWinAmount",
            latestWinDate: "latestWinDate",
            latestWinnerID: "latestWinnerID",
            totalWinCount: "totalWinCount"
        }
    };

function JackpotsManager() {
    this.jackpots = null, this.prevJackpots = null, this.reloadJpResponse = "", this.reloadJpResponseParam = "jackpotReload", this.reloadJpInterval = 10, this.reloadJpTimer = 0, this.hasActiveJp = !1, this.hasOpenJp = !0, this.requestInProgress = !1, this.percentFormat = "{0}%", this.gameJpInfoUpdatedFrame = -1, this.statuses = null, this.statusIDs = null, this.statusRequests = null, this.statusRequestIDs = null, this.statusRequestURI = "/gs2c/jackpot/status?mgckey={0}&jackpotID={1}&jackpotInstance={2}", this.statusResponseHandler = new EventHandler(this, this.OnJackpotStatusResponse), this.shouldUpdateDuringFeatures = !1
}
goog.require("UHT.JackpotHelpers"), goog.provide("UHT.JackpotsManager"), JackpotsManager.I = null, JackpotsManager.prototype.Init = function () {
    JackpotsManager.I = this, EventManager.AddHandler(JackpotEvents.evtJackpotStateChanged, this.OnJackpotStateChanged, this), XT.RegisterAndInitDone ? this.OnXTRegisterCallbacks(null) : EventManager.AddHandler(GameEvents.evtXTRegisterCallbacks, this.OnXTRegisterCallbacks, this)
}, JackpotsManager.prototype.OnXTRegisterCallbacks = function (t) {
    XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestSpin, this.OnRequestSpin, this, -1), XT.RegisterCallbackEvent(GameInfoVars.Evt_Internal_GameInfoChanged, this.OnGameInfoChanged, this), ServerOptions.isReplay && (XT.RegisterCallbackEvent(ReplaySessionVars.ReplayDirector_Start, this.ReplayReloadJackpot, this), XT.RegisterCallbackEvent(ReplaySessionVars.PrepareScenario, this.ReplayReloadJackpot, this))
}, JackpotsManager.prototype.OnRequestSpin = function () {
    _string.IsNullOrEmpty(this.reloadJpResponse) || GameConnection.I.AddRequestExtraParameter(this.reloadJpResponseParam, this.reloadJpResponse)
}, JackpotsManager.prototype.ReplayReloadJackpot = function () {
    var t = RequestProvider.Instance.GetNextReplayRequestParams();
    null != t[this.reloadJpResponseParam] && this.JackpotReloadCallback(t[this.reloadJpResponseParam], 200)
}, JackpotsManager.prototype.OnJackpotStateChanged = function (t) {
    if (null == t) return this.hasActiveJp = !1, void(this.hasOpenJp = !1);
    var e = t.IsActive;
    if (this.shouldUpdateDuringFeatures) {
        var i = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
        (XT.GetBool(Vars.IsDifferentSpinType) || i.IsFreeSpin) && (e = !0)
    }!this.hasActiveJp && e && (this.reloadJpTimer = this.reloadJpInterval), this.hasActiveJp = e, this.hasActiveJp || (this.prevJackpots = this.jackpots, this.jackpots = null, this.ReloadStatuses(), this.QueueJackpotsUpdated())
}, JackpotsManager.prototype.Update = function () {
    this.hasActiveJp && !ServerOptions.isReplay && (this.reloadJpTimer += Time.deltaTime, this.requestInProgress || this.reloadJpTimer > this.reloadJpInterval && (this.requestInProgress = !0, ServerHelpers.ReloadJackpot(ServerOptions.gameSymbol, new EventHandler(this, this.JackpotReloadCallback))))
}, JackpotsManager.prototype.JackpotReloadCallback = function (t, e) {
    this.prevJackpots = this.jackpots, this.jackpots = this.ParseJackpots(t), null == this.jackpots ? this.hasActiveJp = !1 : this.reloadJpResponse = t, this.reloadJpTimer = 0, this.requestInProgress = !1, this.ReloadStatuses(), this.QueueJackpotsUpdated(), this.UpdateGameJackpotsInfo()
}, JackpotsManager.prototype.ParseJackpots = function (t) {
    if (_string.IsNullOrEmpty(t)) return null;
    var e = null;
    try {
        e = JSON.parse(t)
    } catch (t) {}
    if (null == e) return null;
    for (var i = [], n = 0; n < e.length; ++n) {
        var o = e[n];
        if (null != o[JackpotDictionary.jackpotId] && (null != o[JackpotDictionary.jackpotAmount] && null != o[JackpotDictionary.jackpotName] && null != o[JackpotDictionary.jackpotStatus])) {
            var s = new JackpotInformation;
            if (s.JackpotID = Number(o[JackpotDictionary.jackpotId]), s.JackpotOrder = Number(o[JackpotDictionary.jackpotOrder]), s.JackpotAmount = Number(o[JackpotDictionary.jackpotAmount]), s.JackpotName = String(o[JackpotDictionary.jackpotName]), s.JackpotStatus = String(o[JackpotDictionary.jackpotStatus]), null != o[JackpotDictionary.jackpotGroupType] && (s.JackpotGroupType = String(o[JackpotDictionary.jackpotGroupType])), null != o[JackpotDictionary.jackpotMinBet] && (s.JackpotMinBet = Number(o[JackpotDictionary.jackpotMinBet])), null != o[JackpotDictionary.jackpotMinBetUSD] && (s.JackpotMinBetUSD = Number(o[JackpotDictionary.jackpotMinBetUSD])), null != o[JackpotDictionary.jackpotRTP] && (s.JackpotRTP = Number(o[JackpotDictionary.jackpotRTP])), null != o[JackpotDictionary.jackpotAmountUSD] && (s.JackpotAmountUSD = Number(o[JackpotDictionary.jackpotAmountUSD])), null != o[JackpotDictionary.jackpotInstance] && (s.JackpotInstance = Number(o[JackpotDictionary.jackpotInstance])), null != o[JackpotDictionary.multipliersRTP] && (s.multipliersRTP = _number.otod(o[JackpotDictionary.multipliersRTP])), null != o[JackpotDictionary.prevWonAmount] && (s.prevWonAmount = _number.otod(o[JackpotDictionary.prevWonAmount])), null != o[JackpotDictionary.prevWonAmountUSD] && (s.prevWonAmountUSD = _number.otod(o[JackpotDictionary.prevWonAmountUSD])), null != o[JackpotDictionary.nextSeedAmount] && (s.nextSeedAmount = _number.otod(o[JackpotDictionary.nextSeedAmount])), null != o[JackpotDictionary.nextSeedAmountUSD] && (s.nextSeedAmountUSD = _number.otod(o[JackpotDictionary.nextSeedAmountUSD])), null != o[JackpotDictionary.contributePercent] && (s.contributePercent = _number.otod(o[JackpotDictionary.contributePercent])), null != o[JackpotDictionary.babyContributeInitialPercent] && (s.babyContributeInitialPercent = _number.otod(o[JackpotDictionary.babyContributeInitialPercent])), null != o[JackpotDictionary.babyContributePercent] && (s.babyContributePercent = _number.otod(o[JackpotDictionary.babyContributePercent])), null != o[JackpotDictionary.babyAmount] && (s.babyAmount = _number.otod(o[JackpotDictionary.babyAmount])), null != o[JackpotDictionary.babyAmountUSD] && (s.babyAmountUSD = _number.otod(o[JackpotDictionary.babyAmountUSD])), null != o[JackpotDictionary.startNextFromSeed] && (s.startNextFromSeed = _bool.Parse(o[JackpotDictionary.startNextFromSeed])), null != o[JackpotDictionary.jackpotMultipliers]) {
                var a = o[JackpotDictionary.jackpotMultipliers];
                if (null != a && a.length > 0) {
                    s.JackpotMultipliers = [];
                    for (var r = 0; r < a.length; ++r) s.JackpotMultipliers.push(Number(a[r]))
                }
            }
            if (null != o[JackpotDictionary.communityFeatureDetails]) {
                var l = o[JackpotDictionary.communityFeatureDetails],
                    u = s.JackpotCommunityDetails = new JackpotInformation.CommunityDetails;
                null != l[JackpotDictionary.CommunityDetails.shareAmount] && (u.shareAmount = _number.otod(l[JackpotDictionary.CommunityDetails.shareAmount])), null != l[JackpotDictionary.CommunityDetails.shareAmountUSD] && (u.shareAmountUSD = _number.otod(l[JackpotDictionary.CommunityDetails.shareAmountUSD])), null != l[JackpotDictionary.CommunityDetails.sharedPercentage] && (u.sharedPercentage = _number.otod(l[JackpotDictionary.CommunityDetails.sharedPercentage])), null != l[JackpotDictionary.CommunityDetails.winnerAmount] && (u.winnerAmount = _number.otod(l[JackpotDictionary.CommunityDetails.winnerAmount])), null != l[JackpotDictionary.CommunityDetails.winnerAmountUSD] && (u.winnerAmountUSD = _number.otod(l[JackpotDictionary.CommunityDetails.winnerAmountUSD])), null != l[JackpotDictionary.CommunityDetails.minWinLimit] && (u.minWinLimit = _number.otod(l[JackpotDictionary.CommunityDetails.minWinLimit])), null != l[JackpotDictionary.CommunityDetails.minWinLimitUSD] && (u.minWinLimitUSD = _number.otod(l[JackpotDictionary.CommunityDetails.minWinLimitUSD])), null != l[JackpotDictionary.CommunityDetails.detectingPeriodInSec] && (u.detectingPeriodInSec = _number.otoi(l[JackpotDictionary.CommunityDetails.detectingPeriodInSec])), null != l[JackpotDictionary.CommunityDetails.distributionType] && (u.distributionType = String(l[JackpotDictionary.CommunityDetails.distributionType])), null != l[JackpotDictionary.CommunityDetails.minBet] && (u.minBet = _number.otod(l[JackpotDictionary.CommunityDetails.minBet])), null != l[JackpotDictionary.CommunityDetails.minBetUSD] && (u.minBetUSD = _number.otod(l[JackpotDictionary.CommunityDetails.minBetUSD])), null != l[JackpotDictionary.CommunityDetails.minTotalBet] && (u.minTotalBet = _number.otod(l[JackpotDictionary.CommunityDetails.minTotalBet])), null != l[JackpotDictionary.CommunityDetails.minTotalBetUSD] && (u.minTotalBetUSD = _number.otod(l[JackpotDictionary.CommunityDetails.minTotalBetUSD]))
            }
            if (null != o[JackpotDictionary.winInfo] && null != o[JackpotDictionary.winInfo]) {
                l = o[JackpotDictionary.winInfo];
                var h = s.JackpotWinInfo = new JackpotInformation.WinInfo;
                null != l[JackpotDictionary.WinInfo.biggestWinAmount] && (h.biggestWinAmount = _number.otod(l[JackpotDictionary.WinInfo.biggestWinAmount])), null != l[JackpotDictionary.WinInfo.biggestWinDate] && (h.biggestWinDate = l[JackpotDictionary.WinInfo.biggestWinDate]), null != l[JackpotDictionary.WinInfo.biggestWinnerID] && (h.biggestWinnerID = l[JackpotDictionary.WinInfo.biggestWinnerID]), null != l[JackpotDictionary.WinInfo.latestWinAmount] && (h.latestWinAmount = _number.otod(l[JackpotDictionary.WinInfo.latestWinAmount])), null != l[JackpotDictionary.WinInfo.latestWinDate] && (h.latestWinDate = l[JackpotDictionary.WinInfo.latestWinDate]), null != l[JackpotDictionary.WinInfo.latestWinnerID] && (h.latestWinnerID = l[JackpotDictionary.WinInfo.latestWinnerID]), null != l[JackpotDictionary.WinInfo.totalWinCount] && (h.totalWinCount = _number.otoi(l[JackpotDictionary.WinInfo.totalWinCount]))
            }
            i.push(s)
        }
    }
    return i
}, JackpotsManager.prototype.QueueJackpotsUpdated = function () {
    null != this.statusRequests && 0 != this.statusRequests.length || EventManager.Queue(JackpotEvents.evtJackpotsUpdated, this.jackpots)
}, JackpotsManager.prototype.ReloadStatuses = function () {
    if (null != this.prevJackpots && !ServerOptions.isReplay)
        for (var t = 0; t < this.prevJackpots.length; ++t) {
            var e = this.prevJackpots[t],
                i = this.GetJackpotInfo(e.JackpotID),
                n = e.JackpotID,
                o = null != i ? i.JackpotInstance : e.JackpotInstance;
            (null == i || i.JackpotAmount < e.JackpotAmount) && this.ReloadStatus(n, o)
        }
}, JackpotsManager.prototype.ReloadStatus = function (t, e) {
    null == this.statuses && (this.statuses = [], this.statusIDs = [], this.statusRequests = [], this.statusRequestIDs = []);
    var i = new ServerRequest;
    i.responseHandler = this.statusResponseHandler, i.Url = ServerOptions.serverUrl + this.statusRequestURI.replace("{0}", ServerOptions.mgckey).replace("{1}", t.toString()).replace("{2}", e.toString()), this.statusRequestIDs.push(t), this.statusRequests.push(i), RequestManager.AddRequest(i)
}, JackpotsManager.prototype.OnJackpotStatusResponse = function (t, e, i) {
    var n = this.statusRequests.indexOf(i);
    if (!(n < 0)) {
        var o = this.statusRequestIDs[n],
            s = this.ParseJackpotStatus(t),
            a = this.statusIDs.indexOf(o);
        a < 0 ? (this.statusIDs.push(o), this.statuses.push(s)) : this.statuses[a] = s, this.statusRequests.splice(n, 1), this.statusRequestIDs.splice(n, 1), this.QueueJackpotsUpdated()
    }
}, JackpotsManager.prototype.ParseJackpotStatus = function (t) {
    if (_string.IsNullOrEmpty(t)) return null;
    var e = _JSON.TryParse(t);
    if (null == e) return null;
    var i = new JackpotStatus,
        n = "status";
    return null != e[n] && (i.status = e[n]), null != e[n = "amount"] && (i.amount = _number.otod(e[n])), null != e[n = "prevWonAmount"] && (i.prevWonAmount = _number.otod(e[n])), null != e[n = "nextSeedAmount"] && (i.nextSeedAmount = _number.otod(e[n])), null != e[n = "jackpotBabyAmount"] && (i.jackpotBabyAmount = _number.otod(e[n])), i
}, JackpotsManager.prototype.GetJackpotInfo = function (t) {
    if (null != this.jackpots)
        for (var e = 0; e < this.jackpots.length; ++e)
            if (this.jackpots[e].JackpotID == t) return this.jackpots[e];
    return null
}, JackpotsManager.prototype.GetJackpotStatus = function (t) {
    var e = null == this.statusIDs ? -1 : this.statusIDs.indexOf(t);
    return e < 0 ? null : this.statuses[e]
}, JackpotsManager.prototype.OnGameInfoChanged = function () {
    this.gameJpInfoUpdatedFrame < Time.frameCount && this.UpdateGameJackpotsInfo()
}, JackpotsManager.prototype.UpdateGameJackpotsInfo = function () {
    if (null != this.jackpots && null != JackpotVisualManager.I) {
        var t = XT.GetObject(GameInfoVars.GameInfo);
        null == t && (t = {}), this.hasOpenJp = !1;
        for (var e = 0; e < this.jackpots.length; ++e) this.UpdateGameJackpotInfo(t, this.jackpots[e]), null != this.jackpots[e] && "A" == this.jackpots[e].JackpotStatus && (this.hasOpenJp = !0);
        this.gameJpInfoUpdatedFrame = Time.frameCount, XT.SetObject(GameInfoVars.GameInfo, t), XT.TriggerEvent(GameInfoVars.Evt_Internal_GameInfoChanged)
    }
}, JackpotsManager.prototype.UpdateGameJackpotInfo = function (t, e) {
    var i = "jpInfo" + e.JackpotOrder;
    null == t[i] && (t[i] = {});
    var n = XT.GetDouble(Vars.MinTotalBetFromServer),
        o = ServerOptions.currency,
        s = t[i];
    s.contributePercent = this.FormatPercent(e.contributePercent), s.nextSeedAmount = LocaleManager.FormatValueWithCustomCurrency(e.nextSeedAmount, o), s.babyContributeInitialPercent = this.FormatPercent(e.babyContributeInitialPercent), s.babyContributePercent = this.FormatPercent(e.babyContributePercent), s.minTotalBet = LocaleManager.FormatValueWithCustomCurrency(e.JackpotMinBet > 0 ? e.JackpotMinBet : n, o);
    var a = e.JackpotCommunityDetails;
    null != a && (s.minWinLimit = LocaleManager.FormatValueWithCustomCurrency(a.minWinLimit, o), s.sharedPercentage = this.FormatPercent(a.sharedPercentage), s.shareAmount = LocaleManager.FormatValueWithCustomCurrency(a.shareAmount, o), s.detectingPeriodInSeconds = JackpotVisualManager.I.FormatSeconds(a.detectingPeriodInSec), s.communityMinTotalBet = LocaleManager.FormatValueWithCustomCurrency(a.minTotalBet > 0 ? a.minTotalBet : n, o))
}, JackpotsManager.prototype.FormatPercent = function (t) {
    return this.percentFormat.replace("{0}", t.toString())
};
var GameProtocolBonusGameParser = {
        ParseBonusGame: function (t) {
            if (null == t[GameProtocolDictionary.BonusGame.bonusGameExists] && null == t[GameProtocolDictionary.BonusGame.level] && null == t[GameProtocolDictionary.BonusGame.currentBonusRespin] && null == t[GameProtocolDictionary.BonusGame.status] && null == t.wof_status) return null;
            var e = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.BonusGame.level),
                i = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.BonusGame.bonusGameType),
                n = new VsBonusGameData;
            n.BonusTable.Status = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.BonusGame.status), n.BonusTable.Wins = GameProtocolCommonParser.ParseDoubleList(t, GameProtocolDictionary.BonusGame.wins), n.BonusTable.WinsMask = GameProtocolBonusGameParser.ParseWinsMask(t, GameProtocolDictionary.BonusGame.winsMask), n.BonusTable.BGItemValues = GameProtocolCommonParser.ParseDoubleList(t, GameProtocolDictionary.BonusGame.BGItemValues), n.BonusTable.BGItemMask = GameProtocolCommonParser.ParseStringList(t, GameProtocolDictionary.BonusGame.BGItemMasks), n.Level = null == e ? -1 : e, n.Life = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.BonusGame.life), n.WinPoints = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.BonusGame.winPoints), n.RealWin = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.BonusGame.realWin), n.Coef = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.BonusGame.coef), n.GameOver = 1 == GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.BonusGame.gameOver), n.BonusTable.Markers = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.BonusGame.markers), n.lifeWins = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.BonusGame.lWins), n.currentBonusRespin = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.BonusGame.currentBonusRespin), n.maxBonusRespins = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.BonusGame.maxBonusRespins), n.respinSymbols = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.BonusGame.respinSymbols);
            var o = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.slotHeight);
            0 == o && (o = GameConnection.prototype.SlotHeight), n.winSymbols = VSProtocolParser.ParseWinScreenSymbols(t, o, GameProtocolDictionary.BonusGame.respinWinSymbols), n.PremultipliedWin = GameProtocolBonusGameParser.ParsePremultipliedWin(t, GameProtocolDictionary.BonusGame.premultipliedWinData), n.MultipliedSymbolPositions = GameProtocolBonusGameParser.ParseMultiplierSymbolPositions(t, GameProtocolDictionary.BonusGame.premultipliedWinData);
            var s = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.BonusGame.respinsTotalMultiplier);
            n.RespinsTotalMultiplier = null == s ? -1 : s;
            var a = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.BonusGame.extraRespinsWon);
            n.ExtraRespinsWon = null == a ? -1 : a;
            var r = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.BonusGame.extraRetriggersWon);
            n.ExtraRetriggersWon = null == r ? -1 : r;
            var l = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.BonusGame.iWins);
            if (null != l && l.length > 0)
                if (null == n.BonusTable.Markers || n.BonusTable.Markers.length <= 0) l = GameProtocolCommonParser.SortIntList(l);
                else {
                    var u = GameProtocolCommonParser.FindElementPositionsIgnoreSign(1, n.BonusTable.Markers).length;
                    n.numberOfLevels = l.length / u;
                    for (var h = 0; h < n.numberOfLevels; h++) l = GameProtocolCommonParser.SortIntList(l, h * u, u)
                } n.IWins = l, 6 == i && (n.Level = Math.floor(e / 2), n.MultiplierStep = e % 2 == 0, n.MultipliersTable.Status = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.BonusGame.Multipliers.status), n.MultipliersTable.Markers = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.BonusGame.Multipliers.markers), n.MultipliersTable.Wins = GameProtocolCommonParser.ParseDoubleList(t, GameProtocolDictionary.BonusGame.Multipliers.wins));
            var c = "bgid";
            return null != t[c] && (n.id = _number.otoi(t[c])), null != t[c = "bgt"] && (n.type = _number.otoi(t[c])), n.wheelOfFortune = GameProtocolBonusGameParser.ParseWheelOfFortune(t), n.initialized = null != t[GameProtocolDictionary.BonusGame.realWin], n.map = GameProtocolBonusGameParser.ParseMap(t), n
        },
        ParsePremultipliedWin: function (t, e) {
            var i = 0,
                n = t[e];
            if (null != n) {
                var o = n.split("~");
                o.length > 0 && !_string.IsNullOrEmpty(o[0]) && (i = _number.otod(o[0]))
            }
            return i
        },
        ParseMultiplierSymbolPositions: function (t, e) {
            var i = null,
                n = t[e];
            if (null != n) {
                var o = n.split("~");
                if (o.length > 1 && !_string.IsNullOrEmpty(o[1])) {
                    i = [];
                    for (var s = o[1].split(","), a = 0; a < s.length; a++) i.push(_number.otoi(s[a]))
                }
            }
            return i
        },
        ParseWinsMask: function (t, e) {
            if (null == t[e]) return null;
            for (var i = t[e].split(","), n = [], o = 0; o < i.length; o++) _string.IsNullOrEmpty(i[o]) || (i[o] = i[o].replace("_fn", ""), n.push(GameProtocolBonusGameParser.ParseWinMask(i[o])));
            return n
        },
        ParseWinMask: function (t) {
            var e = [];
            return e[0] = "w", e[1] = "swf", e[2] = "rwf", e[3] = "l", e[4] = "nff", e[5] = "sff", e[6] = "pf", e[7] = "m", e[8] = "ms", e[9] = "prf", e[10] = "psf", e[11] = "rs", e[12] = "wof", e[13] = "rrf", e[14] = "msf", e[15] = "nlf", e[16] = "oswr", e[17] = "cmp", e[18] = "srww", e[19] = "gsf", e[20] = "psm", e[21] = "mbf", e[22] = "pbf", e[23] = "stp", e[24] = "fss", e[25] = "aph", e[26] = "rsb", e[27] = "prfm", e[28] = "rwf_s1", e[29] = "rwf_s1_mul", e[30] = "rwf_s0", e[31] = "rwf_s0_es", e.indexOf(t)
        },
        ParseWheelOfFortune: function (t) {
            var e = new VsBonusGameData.WheelOfFortune,
                i = "wof_set";
            if (null == t[i]) return null;
            var n = t[i].split(",");
            if (null == t[i = "wof_mask"]) return null;
            var o = t[i].split(",");
            e.items = [];
            var s = 0;
            for (s = 0; s < n.length; ++s) {
                var a = n[s].split("~"),
                    r = new VsBonusGameData.WheelOfFortune.Item;
                switch (o[s]) {
                    case "w":
                        r.amount = _number.otod(a[0]);
                        break;
                    case "wrs":
                        r.amount = _number.otod(a[0]), r.spinsNumber = _number.otoi(a[1]);
                        break;
                    case "m":
                        r.status = 1;
                        break;
                    case "go":
                        r.status = 0;
                        break
                }
                e.items.push(r)
            }
            if (null != t[i = "wof_status"]) {
                var l = t[i].split(","),
                    u = [];
                for (s = 0; s < e.items.length; ++s) u.push(_number.otoi(l[s]));
                e.itemsStatus = u
            }
            return null != t[i = "wof_wi"] && (e.stopPosition = _number.otoi(t[i])), null != t[i = "lifes"] && (e.spinsLeft = _number.otoi(t[i])), null != t[i = "iw"] && (e.initialWin = GameProtocolCommonParser.ParseDouble(t, i)), null != t[i = "wm"] && (e.multiplier = _number.otoi(t[i])), e
        },
        ParseMap: function (t) {
            var e = new VsBonusGameData.Map,
                i = GameProtocolCommonParser.ParseIfExist(t, "wof_set"),
                n = GameProtocolCommonParser.ParseIfExist(t, "wof_mask"),
                o = GameProtocolCommonParser.ParseIfExist(t, "wof_mi"),
                s = GameProtocolCommonParser.ParseIfExist(t, "wof_p"),
                a = GameProtocolCommonParser.ParseIfExist(t, "wof_map");
            if (e.WOF_Values = [], e.WOF_Mask = [], e.WOF_Map = [], _string.IsNullOrEmpty(o) || o.length > 0 && (e.WOF_MultiplierIndex = _number.otoi(o)), _string.IsNullOrEmpty(s) || s.length > 0 && (e.WOF_StopPosition = _number.otoi(s)), !_string.IsNullOrEmpty(i) && (i = _string.Trim(i)).length > 0)
                for (var r = i.split(","), l = 0; l < r.length; l++) e.WOF_Values.push(r[l]);
            if (!_string.IsNullOrEmpty(n) && (n = _string.Trim(n)).length > 0)
                for (r = n.split(","), l = 0; l < r.length; l++) e.WOF_Mask.push(r[l]);
            if (!_string.IsNullOrEmpty(a) && (a = _string.Trim(a)).length > 0)
                for (r = a.split(","), l = 0; l < r.length; l++) e.WOF_Map.push(_number.otoi(r[l]));
            return e
        }
    },
    GameProtocolCommonParser = {
        SplitResponseContent: function (t) {
            for (var e = {}, i = 0; i < t.length; ++i) {
                var n = t[i].split("=", 2);
                2 == n.length && null == e[n[0]] && (e[n[0]] = n[1])
            }
            return e
        },
        ParseDouble: function (t, e) {
            return _number.otod(t[e])
        },
        ParseDoubleIfExists: function (t, e) {
            return null == t[e] ? -1 : _number.otod(t[e])
        },
        ParseNulableDouble: function (t, e) {
            var i = null,
                n = t[e];
            return null != n && _string.Trim(n).length > 0 && "null" != n && (i = _number.otod(n)), i
        },
        ParseInt: function (t, e) {
            return _number.otoi(t[e])
        },
        ParseUInt: function (t, e) {
            return _number.otoui(t[e])
        },
        ParseLong: function (t, e) {
            return GameProtocolCommonParser.ParseInt(t, e)
        },
        ParseNulableFloat: function (t, e) {
            return GameProtocolCommonParser.ParseNulableDouble(t, e)
        },
        ParseNulableInt: function (t, e) {
            var i = null,
                n = parseInt(t[e], 10);
            return isFinite(n) && !isNaN(n) && (i = n), i
        },
        ParseIntList: function (t, e, i) {
            var n = t[e];
            if (null == n) return null;
            null == i && (i = ",");
            for (var o = n.split(i), s = [], a = 0; a < o.length; ++a) {
                var r = parseInt(o[a], 10);
                isFinite(r) && !isNaN(r) && s.push(r)
            }
            return s
        },
        ParseDoubleList: function (t, e, i) {
            var n = t[e];
            if (null == n) return null;
            null == i && (i = ",");
            for (var o = n.split(i), s = [], a = 0; a < o.length; ++a) {
                var r = parseFloat(o[a]);
                isFinite(r) && !isNaN(r) && s.push(r)
            }
            return s
        },
        ParseStringList: function (t, e) {
            var i = t[e];
            return null == i ? null : i.split(",")
        },
        ParseText: function (t, e) {
            var i = null;
            if (_string.IsNullOrEmpty(t)) return i;
            for (var n = {}, o = t.split("&"), s = 0; s < o.length; ++s) {
                var a = o[s].split("=");
                2 == a.length && null == n[a[0]] && (n[a[0]] = a[1])
            }
            return null != n[e] && (i = n[e]), i
        },
        ParseIfExist: function (t, e) {
            return null != t[e] ? t[e] : null
        },
        ParseBalance: function (t) {
            var e = null;
            return null != t[GameProtocolDictionary.balance] && (e = new BalanceData, null != t[GameProtocolDictionary.bonusBalance] && XT.GetBool(Vars.Jurisdiction_SplitBalance) ? (e.Balance = _number.otod(t[GameProtocolDictionary.cashBalance]), e.BonusBalance = _number.otod(t[GameProtocolDictionary.bonusBalance])) : e.Balance = _number.otod(t[GameProtocolDictionary.balance]), null != t[GameProtocolDictionary.time] ? e.Time = _number.otod(t[GameProtocolDictionary.time]) : null != BalanceManager.I && null != BalanceManager.I.data && (e.Time = BalanceManager.I.data.Time + 1)), e
        },
        BuildBalanceData: function (t, e, i) {
            var n = new BalanceData;
            return n.Balance = t, n.BonusBalance = e, n.Time = i, n
        },
        SortAscCompare: function (t, e) {
            return t - e
        },
        SortIntList: function (t, e, i) {
            if (null != e && null != i) {
                var n = t.slice(e, e + i);
                n.sort(GameProtocolCommonParser.SortAscCompare);
                for (var o = 0; o < i; ++o) t[e + o] = n[o];
                return t
            }
            return t.sort(GameProtocolCommonParser.SortAscCompare), t
        },
        FindElementPositionsIgnoreSign: function (t, e) {
            for (var i = [], n = 0; n < e.length; ++n) Math.abs(e[n]) == t && i.push(n);
            return i
        },
        StringToIntList: function (t, e) {
            null == e && (e = ",");
            for (var i = t.split(e), n = [], o = 0; o < i.length; o++) _string.IsNullOrEmpty(i[o]) || n.push(_number.otoi(i[o]));
            return n
        }
    },
    GameProtocolDictionary = {
        line: "l",
        winWayGroups: "wlc_v",
        coin: "c",
        defaultBet: "defc",
        coinID: "cid",
        tryMeOnceCoin: "tmc",
        tryMeOnceLine: "tml",
        winAmountShort: "w",
        extraAwardWin: "e_aw",
        randomWildsData: "rwd",
        upSymbols: "ups",
        expandingSymbolsData: "ep",
        symbolsBeforeExpanding: "is",
        winSymbols: "s",
        balance: "balance",
        cashBalance: "balance_cash",
        bonusBalance: "balance_bonus",
        time: "stime",
        reelsPosition: "pos",
        index: "index",
        counter: "counter",
        repeat: "repeat",
        respin: "rs",
        respinCycleWin: "rs_win",
        currentRespin: "rs_c",
        maxRespins: "rs_m",
        totalRespins: "rs_t",
        progressiveFeature: "progressive",
        stickySymbols: "sty",
        mergingSymbols: "mrg",
        freeSpinsOptions: "fs_opt",
        freeSpinsOptionsMask: "fs_opt_mask",
        randomWildWinSymbolId: "rws",
        freeSpinsPickedOptionIndex: "fsopt_i",
        freeSpinCurrentNumber: "fs",
        freeSpinMaxNumber: "fsmax",
        freeSpinTotalNumber: "fs_total",
        freeSpinCurrentWin: "fswin",
        freeSpinTotalWin: "fswin_total",
        freeSpinCurrentMultiplier: "fsmul",
        freeSpinTotalMultipl: "fsmul_total",
        bets: "sc",
        paytable: "paytable",
        scatters: "scatters",
        wilds: "wilds",
        bonuses: "bonuses",
        symbol: "symbol",
        clientVersion: "cver",
        freeSpinCurrentWinMultiplied: "fsres",
        freeSpinTotalWinMultiplied: "fsres_total",
        mgckey: "mgckey",
        noRating: "noRating",
        stackedSymbolIndex: "n_rss",
        stackedSymbolIndexCurrent: "rss",
        reelSetIndex: "n_reel_set",
        reelSetIndexCurrent: "reel_set",
        numberOfReelSets: "reel_set_size",
        wildRandomMultipliers: "wdrm_v",
        wildRandomMultiplierMask: "wdrm_m",
        randomSymbolMultiplier: "rmul",
        randomMysterySymbol: "msr",
        initialMysterySymbol: "msi",
        patternedMysterySymbols: "msi_p",
        possibleRandomSymbolMultipliers: "prm",
        naSymbolId: "nas",
        nudgedSymbols: "sn",
        symbolReplacementData: "srf",
        ReelsAllowedToRotateSeparately: "sor_ra",
        ReelsCoeficients: "sor_coefs",
        ReelToBeSpun: "sor_ri",
        TumblingWin: "tmb_win",
        Tumbling: "tmb",
        NextReelsSymbolsList: "n_rsl",
        FeaturePurchaseParam: "pur",
        mysteryExpandingSymbols: "mes",
        mysteryExpandingPositions: "me",
        FreeSpinsPurchase: {
            purchaseOptions: "fspps",
            purchaseOptionsMask: "fspps_mask",
            optionIndex: "fsp",
            fsBought: "fs_bought"
        },
        BetLevel: {
            betLevelScale: "bls",
            betLevelIndex: "bl",
            betLevelPaytable: "bl_paytable"
        },
        OpeningSymbols: {
            positions: "i_pos",
            freeSpinsWon: "win_fs",
            multiplierWon: "win_mul"
        },
        TopBottomSymbols: {
            symbolsAbove: "sa",
            symbolsBelow: "sb"
        },
        FreeSpinsChain: {
            spins: "fscs",
            multipliers: "fscm",
            spinsTotal: "fsc_total",
            multipliersTotal: "fsc_mul_total",
            winsTotal: "fsc_win_total",
            multipliedWinTotal: "fsc_res_total",
            sessionsWonThisSpin: "fsc_sw",
            sessionsWonSymbolsCount: "fsc_sessions"
        },
        winLines: function (t) {
            return "l" + t
        },
        reel: function (t) {
            return "reel" + t
        },
        n_reel: function (t) {
            return "n_reel" + t
        },
        reelSet: function (t) {
            return "reel_set" + t
        },
        frozen: "frozen",
        techbreak: "techbreak",
        noMoney: "nomoney",
        reload: "reload",
        link: "link",
        pnow: "pnow=1",
        winAmountLong: "win",
        mysteryScatterGame: "mb",
        mysteryScatterSymbol: "ms",
        mysteryScatterSymbolGameHistory: "msgh",
        wildScatters: "msc",
        slotHeight: "sh",
        undefined: "undefined",
        unlogged: "unlogged",
        configs: "cfgs",
        spinCycleWin: "tw",
        returnToPlayer: "rtp",
        WildRandomLineMultiplier: {
            configuration: "wrlm_sets",
            response: "wrlm_res",
            currentSet: "wrlm_cs"
        },
        RandomAward: {
            Configuration: {
                normal: "base_aw",
                freeSpins: "fs_aw",
                reelConfigCount: "aw_reel_count",
                reelConfig: "aw_reel",
                nextReelConfig: "n_aw_reel"
            },
            Type: {
                trigger: "t",
                multiplier: "m",
                featureTrigger: "tt"
            },
            index: "aw",
            awardPosition: "aw_p"
        },
        ProgressiveFeature: {
            progressivePick: "prg_i",
            Status: {
                stateValues: "prg",
                stateMasks: "prg_m"
            },
            Config: {
                configValues: "prg_cfg",
                configMasks: "prg_cfg_m"
            }
        },
        MoneySymbol: {
            symbolID: "mo_s",
            possibleValues: "mo_v",
            symbolsValues: "mo",
            symbolsTypes: "mo_t",
            totalWin: "mo_tw",
            jackpotValues: "mo_jp",
            jackpotMasks: "mo_jp_mask",
            MOSymbolTypes: {
                regular: "r",
                instantValue: "v",
                multiplierValue: "m",
                retriggerSymbol: "rt",
                jp1: "jp1",
                jp2: "jp2",
                jp3: "jp3",
                jp4: "jp4",
                jpb: "jpb",
                mo1: "mo1",
                mo2: "mo2",
                extraCredit: "ea",
                collectMultiply: "ma"
            }
        },
        BonusGame: {
            status: "status",
            wins: "wins",
            winsMask: "wins_mask",
            level: "level",
            life: "lifes",
            winPoints: "wp",
            realWin: "rw",
            coef: "coef",
            bonusGameExists: "bw",
            bonusGameType: "bt",
            gameOver: "end",
            bonusGameChoice: "ind",
            iWins: "i_wins",
            markers: "markers",
            lWins: "lWins",
            lInd: "lInd",
            currentBonusRespin: "rsb_c",
            maxBonusRespins: "rsb_m",
            respinSymbols: "rsb_s",
            respinWinSymbols: "rs_s",
            premultipliedWinData: "rwm",
            extraRespinsWon: "rsb_more",
            extraRetriggersWon: "rsb_rt",
            respinsTotalMultiplier: "rsb_mu",
            BGItemValues: "bg_i",
            BGItemMasks: "bg_i_mask",
            Multipliers: {
                status: "mstatus",
                markers: "mmarkers",
                wins: "mwins"
            }
        },
        FreeSpinBonusGame: {
            gameExsist: "fsb_bw",
            status: "fsb_status",
            wins: "fsb_wins",
            multiplierMarkers: "fsb_mm",
            level: "fsb_level",
            life: "fsb_lives",
            gameOver: "fsb_end",
            totalSpinsWins: "fsb_s",
            totalMultiplilersWins: "fsb_m"
        },
        Gambling: {
            gambling: "gmb",
            history: "gmbhist",
            result: "gmbr",
            state: "gmbs",
            win: "gmbw",
            skipGamble: "gmbskip",
            currentGambleOccasion: "gmbp",
            option: "opt"
        },
        Actions: {
            action: "action",
            doInit: "doInit",
            doSpin: "doSpin",
            doCollect: "doCollect",
            doBonus: "doBonus",
            doFSOption: "doFSOption",
            doFSBonus: "doFSBonus",
            doMysteryScatter: "doMysteryScatter",
            doCollectBonus: "doCollectBonus",
            doGamble: "doGamble",
            doGambleCollect: "doGambleCollect",
            doJackpotCollect: "doJackpotCollect",
            doPlayJackpot: "doPlayJackpot"
        },
        NextActions: {
            nextAction: "na",
            Spin: "s",
            Collect: "c",
            Gamble: "g",
            Bonus: "b",
            CollectBonus: "cb",
            FSOption: "fso",
            MysteryScatter: "m",
            FSBonus: "fsb",
            GambleCollect: "gc",
            JackpotCollect: "cj",
            PlayJackpot: "pj"
        },
        Jakpot: {
            jackpotActive: "jp",
            jackpotWinID: "jwid",
            jackpotWinOrder: "jwo",
            jackpotWinAmount: "jw",
            jackpotType: "jpt",
            jackpotStatus: "jptss",
            jackpotShutdown: "jpshd",
            jackpotMiniGameEnabled: "jpmg",
            jackpotNotWon: "jpnw",
            jackpotWonInstances: "jptsi",
            Type: {
                random: "r",
                twoSteps: "ts"
            },
            Status: {
                obtained: "o",
                used: "u"
            },
            WonInstance: {
                type: "jpit",
                jackpotId: "jpid",
                jackpotInstance: "jpiid",
                amount: "jpw",
                multiplier: "jpm",
                autoDrawing: "jpad",
                Type: {
                    progressive: "p",
                    nonProgressive: "np"
                }
            }
        },
        FreeRound: {
            Events: "ev",
            RoundsLeft: "frn",
            TotalWin: "fra",
            RoundType: "frt",
            TurboSpinMode: "tsm",
            BonusCode: "frbc",
            BonusCodeParam: "bonus_code",
            Event: {
                Start: "FR0",
                Finish: "FR1",
                Error: "FR2"
            }
        },
        JackpotVisualization: {
            JPVMask: "jpv_m",
            JPVValues: "jpv_v",
            JPVType: "t",
            JPVPositions: "p",
            Type: {
                badges: "b"
            }
        },
        GoldSymbol: {
            goldSymbolReels: "gsf_r",
            goldSymbols: "gsf",
            goldSymbolAwards: "gsf_a"
        },
        ClassicPaytable: {
            combinations: "com"
        }
    },
    GameProtocolFreeSpinBonusGameParser = {
        ParseFreeSpinBonusGame: function (t) {
            if (null == t[GameProtocolDictionary.FreeSpinBonusGame.gameExsist] && null == t[GameProtocolDictionary.FreeSpinBonusGame.wins]) return null;
            var e = new VsFreeSpinBonusGame;
            e.GameOver = 1 == GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.FreeSpinBonusGame.gameOver), e.Level = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.FreeSpinBonusGame.level), e.Lifes = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.FreeSpinBonusGame.life), e.SpinsWin = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.FreeSpinBonusGame.totalSpinsWins), e.MultipliersWin = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.FreeSpinBonusGame.totalMultiplilersWins);
            var i = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.FreeSpinBonusGame.multiplierMarkers),
                n = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.FreeSpinBonusGame.status),
                o = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.FreeSpinBonusGame.wins);
            if (null != i && null != n && null != o && i.length > 0 && i.length == n.length && n.length == o.length) {
                for (var s = [], a = 0; a < o.length; a++) {
                    var r = 0 != n[a];
                    s.push(new VsFreeSpinBonusGame.BonusItem(r || e.GameOver ? o[a] : 0, r ? VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Selected : VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Available, 0 == i[a] ? VsFreeSpinBonusGame.BonusItem.BonusItemType.Spin : VsFreeSpinBonusGame.BonusItem.BonusItemType.Multiplier))
                }
                e.BonusItems = s
            }
            return e
        }
    },
    GameProtocolGamblingParser = {};

function ServerGameResponse() {
    this.Index = 0, this.Counter = 0, this.Repeat = 0, this.DoSpin = !1, this.DoCollect = !1, this.ValuesMap = null, this.NextGameActions = null, this.ServerTime = -1
}
GameProtocolGamblingParser.ParseVsGamblingResponse = function (t) {
    var e = new VsGamblingResponse;
    return null != t[GameProtocolDictionary.noMoney] ? (e.NoMoney = !0, e) : (e.Balance = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.Gambling.win), e.State = GameProtocolGamblingParser.ParseState(GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.Gambling.state)), GameProtocolGamblingParser.Populate(e, t[GameProtocolDictionary.Gambling.result]), e)
}, GameProtocolGamblingParser.ParseGamblingSettings = function (t) {
    var e = new VsGamblingSettings;
    e.SkipGambleOnInit = 1 == GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.Gambling.skipGamble), e.InitGamblingOccasion = GameProtocolGamblingParser.ParseCurrentGamblingOccasion(GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Gambling.currentGambleOccasion));
    var i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Gambling.gambling);
    if (null == i) return e;
    var n = i.split("~"),
        o = n[0].split(",");
    e.SetOccasionStatus(GamblingOccasions.Spin, "1" == o[0]), e.SetOccasionStatus(GamblingOccasions.Bonus, "1" == o[1]), e.SetOccasionStatus(GamblingOccasions.FreeSpin, "1" == o[2]);
    for (var s = 1; s < n.length; s++) {
        var a = n[s].split(",");
        2 == a.length && e.SetGamblingSettings(GameProtocolGamblingParser.ParseType(_number.otoi(a[0])), _number.otod(a[1]))
    }
    return e
}, GameProtocolGamblingParser.ParseGamblingHistory = function (t, e) {
    var i = null;
    if (null != t) {
        i = new VsGamblingHistory(e);
        for (var n = t.split("~"), o = 0; o < n.length; o++) {
            var s = new VsGamblingResponse;
            GameProtocolGamblingParser.Populate(s, n[o]), i.AddHistoryItem(s)
        }
    }
    return i
}, GameProtocolGamblingParser.ParseState = function (t) {
    switch (t) {
        case 2:
            return GamblingState.WinLimit;
        case 1:
            return GamblingState.Win;
        default:
            return GamblingState.Lose
    }
}, GameProtocolGamblingParser.ParseType = function (t) {
    switch (t) {
        case 2:
            return GamblingType.Dices;
        case 1:
            return GamblingType.Suit;
        default:
            return GamblingType.CardColor
    }
}, GameProtocolGamblingParser.ParseCurrentGamblingOccasion = function (t) {
    switch (t) {
        case "b":
            return GamblingOccasions.Bonus;
        case "f":
            return GamblingOccasions.FreeSpin;
        default:
            return GamblingOccasions.Spin
    }
}, GameProtocolGamblingParser.ParseResult = function (t) {
    var e = [],
        i = t.split(";");
    if (2 != i.length) return null;
    if (e.push(_number.otoi(i[0])), GamblingType.Dices == GameProtocolGamblingParser.ParseType(e[0])) {
        var n = i[1].split(",");
        if (2 != n.length) return null;
        e.push(_number.otoi(n[0])), e.push(_number.otoi(n[1]))
    } else e.push(_number.otoi(i[1]));
    return e
}, GameProtocolGamblingParser.Populate = function (t, e) {
    var i = GameProtocolGamblingParser.ParseResult(e);
    if (null != i) {
        var n = GameProtocolGamblingParser.ParseType(i[0]);
        t.GamblingType = n, n == GamblingType.Dices ? (t.Dice1 = i[1], t.Dice2 = i[2]) : t.Card = i[1]
    }
};
var GameProtocolParser = {
        lastCounter: -1,
        ParseResponse: function (t) {
            var e = new ServerGameResponse;
            if (0 == t.length) return e;
            var i = GameProtocolCommonParser.SplitResponseContent(t);
            e.Index = GameProtocolCommonParser.ParseInt(i, GameProtocolDictionary.index), e.Counter = GameProtocolCommonParser.ParseInt(i, GameProtocolDictionary.counter), 0 == e.Counter && (e.Counter = GameProtocolParser.lastCounter + 2), GameProtocolParser.lastCounter = e.Counter;
            var n = "";
            return null != i.action && (n = i.action), e.DoSpin = "doSpin" == n, e.DoCollect = "doCollect" == n, e.ValuesMap = i, e.NextGameActions = GameProtocolParser.ParseNextGameActions(i), null != i[GameProtocolDictionary.time] && (e.ServerTime = _number.otoi(i[GameProtocolDictionary.time])), e
        },
        ParseNextGameActions: function (t) {
            if (null != t[GameProtocolDictionary.NextActions.nextAction]) {
                for (var e = [], i = t[GameProtocolDictionary.NextActions.nextAction].split(","), n = 0; n < i.length; ++n) i[n] == GameProtocolDictionary.NextActions.Bonus ? e.push(NextGameAction.Bonus) : i[n] == GameProtocolDictionary.NextActions.Collect ? e.push(NextGameAction.Collect) : i[n] == GameProtocolDictionary.NextActions.CollectBonus ? e.push(NextGameAction.CollectBonus) : i[n] == GameProtocolDictionary.NextActions.FSOption ? e.push(NextGameAction.FSOption) : i[n] == GameProtocolDictionary.NextActions.Gamble ? e.push(NextGameAction.Gamble) : "go" == i[n] ? e.push(NextGameAction.GambleOption) : i[n] == GameProtocolDictionary.NextActions.Spin ? e.push(NextGameAction.Spin) : i[n] == GameProtocolDictionary.NextActions.MysteryScatter ? e.push(NextGameAction.MysteryScatter) : i[n] == GameProtocolDictionary.NextActions.FSBonus ? e.push(NextGameAction.FSBonus) : i[n] == GameProtocolDictionary.NextActions.GambleCollect ? e.push(NextGameAction.GambleCollect) : i[n] == GameProtocolDictionary.NextActions.JackpotCollect ? e.push(NextGameAction.JackpotCollect) : i[n] == GameProtocolDictionary.NextActions.PlayJackpot ? e.push(NextGameAction.PlayJackpot) : e.push(NextGameAction.None);
                return e
            }
            return null
        }
    },
    VSProtocolParser = {
        ParseResponse: function (t) {
            var e = new ServerGameResponse;
            if (_string.IsNullOrEmpty(t)) return e;
            for (var i = !1, n = !1, o = {}, s = t.split("&"), a = 0; a < s.length; ++a) {
                var r = s[a].split("=");
                2 == r.length && ("action" == r[0] && ("doCollect" == r[1] ? n = !0 : "doSpin" == r[1] && (i = !0)), null == o[r[0]] && (o[r[0]] = r[1]))
            }
            return e.Index = GameProtocolCommonParser.ParseInt(o, GameProtocolDictionary.index), e.Counter = GameProtocolCommonParser.ParseInt(o, GameProtocolDictionary.counter), e.DoSpin = i, e.DoCollect = n, e
        },
        ParseVsGamblingResponse: function (t) {
            var e = new VsGamblingResponse;
            if (_string.IsNullOrEmpty(t)) return e;
            for (var i = {}, n = t.split("&"), o = 0; o < n.length; ++o) {
                var s = n[o].split("=");
                2 == s.length && null == i[s[0]] && (i[s[0]] = s[1])
            }
            return GameProtocolGamblingParser.ParseVsGamblingResponse(i)
        },
        ParseVsInitData: function (t) {
            var e = new VsInitData;
            e.Bets = GameProtocolCommonParser.ParseDoubleList(t, GameProtocolDictionary.bets), e.Bet = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.coin), e.ExplicitMaxTotalBet = GameProtocolCommonParser.ParseDoubleIfExists(t, "total_bet_max"), e.DefaultBet = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.defaultBet), e.Line = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.line), e.ReelSymbols = VSProtocolParser.ParseReelsSymbols(t), e.ReelSets = VSProtocolParser.ParseReelSets(t), e.NextReelSymbols = VSProtocolParser.ParseNextReelsSymbols(t), e.Paytable = VSProtocolParser.ParsePaytable(t, GameProtocolDictionary.paytable), e.Scatters = VSProtocolParser.ParseScatters(t), e.Bonuses = VSProtocolParser.ParseBonuses(t), e.Wilds = VSProtocolParser.ParseWilds(t, GameProtocolDictionary.wilds), e.WildScatters = VSProtocolParser.ParseWilds(t, GameProtocolDictionary.wildScatters), e.InitialMysterySymbolId = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.initialMysterySymbol, "~"), e.BGItemValues = GameProtocolCommonParser.ParseDoubleList(t, GameProtocolDictionary.BonusGame.BGItemValues), e.BGItemMasks = GameProtocolCommonParser.ParseStringList(t, GameProtocolDictionary.BonusGame.BGItemMasks), e.CombinePaytable();
            var i = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.tryMeOnceLine),
                n = GameProtocolCommonParser.ParseNulableDouble(t, GameProtocolDictionary.tryMeOnceCoin),
                o = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.reelSetIndex);
            e.ReelSetIndex = null != o ? o : -1;
            var s = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.stackedSymbolIndex);
            e.StackedSymbolIndex = null != s ? s : -1;
            var a = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.reelSetIndexCurrent);
            e.ReelSetIndexCurrent = null != a ? a : -1;
            var r = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.stackedSymbolIndexCurrent);
            e.StackedSymbolIndexCurrent = null != r ? r : -1;
            var l = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.naSymbolId);
            return e.naSymbolId = null != l ? l : -1, null != i && null != n && i > 0 && n > 0 && (e.Bet = n, e.Line = i), e.GamblingSettings = GameProtocolGamblingParser.ParseGamblingSettings(t), e.GamblingHistory = GameProtocolGamblingParser.ParseGamblingHistory(GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Gambling.history), GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.Gambling.win)), e.WildRandomLineMpConfig = VSProtocolParser.ParseVsWildRandomLineMultiplier(t), e.RandomAwardConfig = VSProtocolParser.ParseVsRandomAwardsConfig(t), e.ProgressiveConfig = VSProtocolParser.ParseProgressiveFeatureConfig(t), e.MoneySymbolConfig = VSProtocolParser.ParseMoneySymbolConfig(t), e.FreeSpinsPurchaseConfig = VSProtocolParser.ParseFSPurchaseConfig(t), e.BetLevelSettings = VSProtocolParser.ParseBetLevelSettings(t), e
        },
        ParseVsResponse: function (t) {
            var e = new VsResponse;
            e.SlotHeight = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.slotHeight), 0 == e.SlotHeight && (e.SlotHeight = GameConnection.prototype.SlotHeight), null != t[GameProtocolDictionary.bonusBalance] && XT.GetBool(Vars.Jurisdiction_SplitBalance) ? (e.Balance = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.cashBalance), e.BonusBalance = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.bonusBalance)) : (e.Balance = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.balance), e.BonusBalance = 0), e.Win = VSProtocolParser.ParseWinAmountShort(t), e.ExtraAwardWin = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.extraAwardWin), e.RespinCycleWin = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.respinCycleWin), e.ReelPositions = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.reelsPosition), e.ExpandingSymbolsData = VSProtocolParser.ParseExpandingSymbolsData(t), e.SymbolsBeforeExpanding = VSProtocolParser.ParseWinScreenSymbols(t, e.SlotHeight, GameProtocolDictionary.symbolsBeforeExpanding), e.RandomWildsData = VSProtocolParser.ParseRandomWildsData(t, e.SlotHeight), e.UpSymbols = VSProtocolParser.ParseUpSymbols(t), e.WinScreenSymbols = VSProtocolParser.ParseWinScreenSymbols(t, e.SlotHeight, GameProtocolDictionary.winSymbols), e.SymbolsAbove = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.TopBottomSymbols.symbolsAbove), e.SymbolsBelow = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.TopBottomSymbols.symbolsBelow), e.NextReelsSymbolsList = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.NextReelsSymbolsList), e.VsWinLines = VSProtocolParser.ParseWinLines(t), e.SetVsBonusGameData(GameProtocolBonusGameParser.ParseBonusGame(t)), e.FreeSpinsOptions = VSProtocolParser.ParseFreeSpinsOptions(t), e.WildRandomMultipliers = VSProtocolParser.ParseWildRandomMultipliers(t), e.Respin = VSProtocolParser.ParseRespin(t), XT.GetBool(Vars.TruncateFSResponseDuringRespin) && null != e.Respin && null == e.Respin.TotalRespins ? e.TruncatedVsFreeSpin = VSProtocolParser.ParseVsFreeSpin(t) : e.SetVsFreeSpin(VSProtocolParser.ParseVsFreeSpin(t)), e.VsInitData = VSProtocolParser.ParseVsInitData(t), e.VsJackpotData = VSProtocolParser.ParseVsJackpotData(t), e.JackpotVisualisation = VSProtocolParser.ParseJPVisualization(t), e.GoldSymbol = VSProtocolParser.ParseGoldSymbol(t), e.SymbolReplacementData = VSProtocolParser.ParseSymbolReplacementData(t), e.SpinOneReelData = VSProtocolParser.ParseSpinOneReelData(t), e.TumblingWin = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.TumblingWin), e.TumblingData = VSProtocolParser.ParseTumblingData(t), e.NudgedSymbolsData = VSProtocolParser.ParseNudgedSymbolsData(t), e.FreeRoundEvents = VSProtocolParser.ParseVsFreeRoundEvents(t), e.FreeRound = VSProtocolParser.ParseVsFreeRound(t), e.ProgressiveData = VSProtocolParser.ParseProgressiveFeatureData(t), e.MoneySymbolData = VSProtocolParser.ParseMoneySymbolData(t), e.StickySymbols = VSProtocolParser.ParseStickySymbols(t), e.MergingSymbols = VSProtocolParser.ParseMergingSymbols(t), e.WRLMResponse = VSProtocolParser.ParseWRLMResponse(t), e.WRLMCurrentSets = VSProtocolParser.ParseWRLMCurrentSets(t), e.RandomAwardResponse = VSProtocolParser.ParseRandomAwardsResponse(t), e.RandomSymbolMultipliers = VSProtocolParser.ParseRandomSymbolMultipliers(t), e.PossibleRandomSymbolMultipliers = VSProtocolParser.ParsePossibleRandomSymbolMultipliers(t), e.FreeSpinsChainData = VSProtocolParser.ParseFreeSpinsChainedData(t), e.OpeningSymbolsData = VSProtocolParser.ParseOpeningSymbolsData(t), e.FreeSpinsPurchaseData = VSProtocolParser.ParseFSPurchaseData(t), e.RandomMysterySymbolId = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.randomMysterySymbol, "~"), e.PatternedMysterySymbols = VSProtocolParser.ParsePatternedMysterySymbols(t), e.SpinCycleWin = GameProtocolCommonParser.ParseDoubleIfExists(t, GameProtocolDictionary.spinCycleWin);
            var i = GameProtocolCommonParser.ParseDoubleList(t, GameProtocolDictionary.returnToPlayer);
            null != i && (i.length > 1 ? (i.sort(), e.ReturnToPlayerMin = i[0], e.ReturnToPlayer = i[i.length - 1]) : e.ReturnToPlayer = i[0]);
            var n = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.reelSetIndex);
            e.ReelSetIndex = null != n ? n : -1;
            var o = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.stackedSymbolIndex);
            e.StackedSymbolIndex = null != o ? o : -1;
            var s = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.reelSetIndexCurrent);
            e.ReelSetIndexCurrent = null != s ? s : -1;
            var a = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.stackedSymbolIndexCurrent);
            return e.StackedSymbolIndexCurrent = null != a ? a : -1, e.gambleV2Data = GambleV2Protocol.Parser.ParseGambleData(t), XT.SetBool(Vars.OpenFSBGForMysteryScatter, null != t[GameProtocolDictionary.mysteryScatterGame] && XT.GetBool(Vars.SendSeparateMysteryScatter)), e
        },
        ParseWinAmountShort: function (t) {
            return null != t[GameProtocolDictionary.winAmountShort] ? GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.winAmountShort) : -1
        },
        ParseVsFreeSpin: function (t) {
            if (null == t[GameProtocolDictionary.freeSpinCurrentNumber] && null == t[GameProtocolDictionary.freeSpinTotalNumber] && null == t[GameProtocolDictionary.FreeSpinBonusGame.gameExsist] && null == t[GameProtocolDictionary.FreeSpinBonusGame.wins] && null == t[GameProtocolDictionary.mysteryScatterSymbol] && null == t[GameProtocolDictionary.mysteryScatterSymbolGameHistory]) return null;
            var e = new VsFreeSpin;
            e.SetCurrentNumber(GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.freeSpinCurrentNumber)), e.SetMaxNumber(GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.freeSpinMaxNumber)), e.SetTotalNumber(GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.freeSpinTotalNumber)), e.SetTotalWin(GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.freeSpinTotalWin)), e.SetTotalWinMultiplied(GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.freeSpinTotalWinMultiplied));
            var i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.freeSpinsPickedOptionIndex);
            if (_string.IsNullOrEmpty(i) ? e.PickedOptionIndex = -1 : e.PickedOptionIndex = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.freeSpinsPickedOptionIndex), null != t[GameProtocolDictionary.freeSpinCurrentMultiplier] ? e.SetTotalMultipl(GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.freeSpinCurrentMultiplier)) : e.SetTotalMultipl(GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.freeSpinTotalMultipl)), null != t[GameProtocolDictionary.freeSpinCurrentWin]) {
                var n = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.freeSpinCurrentWin);
                n = Math.round(100 * n) / 100, e.SetCurrentWin(n)
            } else e.SetCurrentWin(e.GetTotalWin());
            e.SetCurrentWinMultiplied(null != t[GameProtocolDictionary.freeSpinCurrentWinMultiplied] ? GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.freeSpinCurrentWinMultiplied) : e.GetTotalWinMultiplied()), e.BonusGame = GameProtocolFreeSpinBonusGameParser.ParseFreeSpinBonusGame(t);
            var o = null,
                s = null;
            null != t[GameProtocolDictionary.mysteryScatterSymbol] && (o = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.mysteryScatterSymbol)), null != t[GameProtocolDictionary.mysteryScatterSymbolGameHistory] && (s = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.mysteryScatterSymbolGameHistory)), null == o && (o = [], null != s && -1 != s && o.push(s)), e.SetMysteryScatter(o), e.SetNeedGetMysteryScatter(null != t[GameProtocolDictionary.mysteryScatterGame] && 0 == e.GetMysteryScatter().length);
            var a = "fstype";
            return null != t[a] && (e.fstype = GameProtocolBonusGameParser.ParseWinMask(t[a])), e
        },
        ParseRespin: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.respin),
                n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.currentRespin),
                o = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.totalRespins);
            if (!("t" == i || "uw" == i || "mc" == i || _string.IsNullOrEmpty(i)) && (i = _string.Trim(i)).length > 0) {
                var s = i.split("~");
                if ((e = new VsRespin).RespinType = s[0], e.Indices = [], "l" == e.RespinType) {
                    for (var a = [], r = 1; r < s.length; ++r) {
                        var l = s[r].split(";");
                        if (l.length > 2) {
                            var u = new VsRespinLine;
                            u.respinsCount = _number.otoi(l[0]), u.id = _number.otoi(l[1]), u.positions = _array.ConvertAll(l[2].split(","), _number.otoi), a.push(u)
                        }
                    }
                    e.Lines = a.length > 0 ? a : null
                } else if (s.length > 1) {
                    var h = s[1].split(";");
                    for (r = 0; r < h.length; r++) {
                        e.Indices[r] = [];
                        for (var c = h[r].split(","), p = 0; p < c.length; p++) e.Indices[r].push(_number.otoi(c[p]))
                    }
                }
            }
            return _string.IsNullOrEmpty(n) && _string.IsNullOrEmpty(o) || (null == e && (e = new VsRespin), e.CurrentRespin = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.currentRespin), e.MaxRespins = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.maxRespins), e.TotalRespins = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.totalRespins)), null != t.rs_p && (e.RespinsPlayed = _number.otoi(t.rs_p)), null != t.rs_more && (e.RespinsAdded = _number.otoi(t.rs_more)), e
        },
        ParseProgressiveFeatureConfig: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.ProgressiveFeature.Config.configMasks);
            if (!_string.IsNullOrEmpty(i)) {
                e = new VSProgressiveFeatureConfig;
                var n = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.ProgressiveFeature.progressivePick);
                e.pickedSymbolPosition = null === n ? -1 : n;
                var o = i.split(","),
                    s = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.ProgressiveFeature.Config.configValues);
                e.progressSymbolIDs = [];
                for (var a = 0; a < o.length; a++) "s" == o[a] && e.progressSymbolIDs.push(s[a])
            }
            return e
        },
        ParseProgressiveFeatureData: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.progressiveFeature);
            if (_string.IsNullOrEmpty(i)) {
                var n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.ProgressiveFeature.Status.stateMasks);
                if (!_string.IsNullOrEmpty(n)) {
                    e = new VsProgressiveFeatureData;
                    for (var o = n.split(","), s = String(t[GameProtocolDictionary.ProgressiveFeature.Status.stateValues]).split(","), a = 0; a < o.length; a++) "ca" == o[a] ? e.currentAttempt = _number.otoi(s[a]) : "ta" == o[a] ? e.attempts = _number.otoi(s[a]) : "cp" == o[a] ? e.progress = _number.otoi(s[a]) : "tp" == o[a] ? e.targetProgress = _number.otoi(s[a]) : "lvl" == o[a] ? e.level = _number.otoi(s[a]) : "r" == o[a] ? e.needsReset = 1 == _number.otoi(s[a]) : "acw" == o[a] ? e.accumulatedWin = _number.otod(s[a]) : "pp" == o[a] ? e.prizeWin = _number.otod(s[a]) : "pm" == o[a] ? e.prizeMultiplier = _number.otoi(s[a]) : "wm" == o[a] && (e.winMultiplier = _number.otoi(s[a]))
                }
            } else {
                var r = i.split(","),
                    l = r[0].split(":")[1],
                    u = r[1].split(":")[1],
                    h = r[2].split(":")[1];
                if (_string.IsNullOrEmpty(l) || _string.IsNullOrEmpty(u) || _string.IsNullOrEmpty(h)) return null;
                (e = new VsProgressiveFeatureData).level = _number.otoi(l), e.progress = _number.otoi(u), e.attempts = _number.otoi(h)
            }
            return e
        },
        ParseMoneySymbolConfig: function (t) {
            var e = null;
            if (null != t[GameProtocolDictionary.MoneySymbol.symbolID]) {
                (e = new VsMoneySymbolConfig).symbolID = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.MoneySymbol.symbolID), e.possibleValues = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.MoneySymbol.possibleValues);
                var i, n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.MoneySymbol.jackpotValues);
                if (!_string.IsNullOrEmpty(n)) {
                    var o = n.split(";");
                    for (e.jackpotValues = [], i = 0; i < o.length; i++) e.jackpotValues.push(_number.otoi(o[i]))
                }
                n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.MoneySymbol.jackpotMasks), _string.IsNullOrEmpty(n) || (e.jackpotMasks = n.split(";"))
            }
            return e
        },
        ParseMoneySymbolData: function (t) {
            var e = null;
            return null != t[GameProtocolDictionary.MoneySymbol.symbolsValues] && ((e = new VsMoneySymbolData).currentValues = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.MoneySymbol.symbolsValues), e.currentSymbolsLook = GameProtocolCommonParser.ParseStringList(t, GameProtocolDictionary.MoneySymbol.symbolsTypes), e.totalWin = GameProtocolCommonParser.ParseDoubleIfExists(t, GameProtocolDictionary.MoneySymbol.totalWin)), e
        },
        ParseFSPurchaseConfig: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.FreeSpinsPurchase.purchaseOptionsMask),
                n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.FreeSpinsPurchase.purchaseOptions);
            if (!_string.IsNullOrEmpty(i) && !_string.IsNullOrEmpty(n)) {
                e = new VsFSPurchaseConfig;
                for (var o = i.split(";"), s = n.split(";"), a = 0; a < o.length; a++) {
                    e.purchaseOptions.push(new VsFSPurchaseConfig.PurchaseOption);
                    for (var r = o[a].split("~"), l = s[a].split("~"), u = 0; u < r.length; u++) switch (r[u]) {
                        case "bet":
                            e.purchaseOptions[a].bet = _number.otoi(l[u]);
                            break;
                        case "fs_count":
                            e.purchaseOptions[a].fsCount = _number.otoi(l[u]);
                            break;
                        case "bet_level":
                            e.purchaseOptions[a].betLevel = _number.otoi(l[u]);
                            break;
                        default:
                            break
                    }
                }
            }
            return e
        },
        ParseBetLevelSettings: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.BetLevel.betLevelScale);
            if (null != i) {
                (e = new VsBetLevel).betLevelIndex = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.BetLevel.betLevelIndex), e.betLevelScale = i;
                for (var n = 0; n < e.betLevelScale.length; n++) {
                    var o = VSProtocolParser.ParsePaytable(t, GameProtocolDictionary.BetLevel.betLevelPaytable + n.toString());
                    null != o && e.paytables.push(o)
                }
            }
            return e
        },
        ParseStickySymbols: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.stickySymbols);
            if (!_string.IsNullOrEmpty(i) && (i = _string.Trim(i)).length > 0) {
                e = [];
                for (var n = i.split("~"), o = 0; o < n.length; o++) {
                    var s = n[o].split(","),
                        a = new VsStickySymbol;
                    a.currentPosition = _number.otoi(s[0]), a.endPosition = _number.otoi(s[1]), e.push(a)
                }
            }
            return e
        },
        ParseMergingSymbols: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.mergingSymbols);
            if (!_string.IsNullOrEmpty(i) && (i = _string.Trim(i)).length > 0) {
                e = [];
                for (var n = i.split(","), o = 0; o < n.length; o++) {
                    var s = n[o].split("~"),
                        a = new VsMergingSymbol;
                    a.mergingPosition = _number.otoi(s[0]), a.mergedSymbolId = _number.otoi(s[1]), e.push(a)
                }
            }
            return e
        },
        GetFreeSpinsOptions: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.freeSpinsOptions);
            return _string.IsNullOrEmpty(i) || (e = _string.Trim(i).split("~")), e
        },
        GetFreeSpinsOptionsMasks: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.freeSpinsOptionsMask);
            if (!_string.IsNullOrEmpty(i)) {
                var n = _string.Trim(i).split(";");
                e = [];
                for (var o = 0; o < n.length; o++) e.push(n[o].split(","))
            }
            return e
        },
        ParseFreeSpinsOptions: function (t) {
            var e = null,
                i = VSProtocolParser.GetFreeSpinsOptions(t);
            if (null != i) {
                e = [];
                for (var n = VSProtocolParser.GetFreeSpinsOptionsMasks(t), o = 0; o < i.length; o++) {
                    var s = i[o].split(","),
                        a = new VsFreeSpinOption;
                    if (null == n) a.FreeSpinsCount = _number.otoi(s[0]), a.FreeSpinsMultiplier = _number.otoi(s[1]);
                    else {
                        var r = o;
                        o >= n.length && (r = 0);
                        for (var l = 0; l < n[r].length; l++) switch (n[r][l]) {
                            case "fs":
                                a.FreeSpinsCount = _number.otoi(s[l]);
                                break;
                            case "m":
                                a.FreeSpinsMultiplier = _number.otoi(s[l]);
                                break;
                            case "ss":
                                a.FreeSpinsStackedSymbol = _number.otoi(s[l]);
                                break;
                            case "ws":
                                a.WildSymbolIndex = _number.otoi(s[l]);
                                break;
                            case "wm":
                                a.WildWinMultipliers.push(_number.otoi(s[l]));
                                break;
                            case "ftr":
                                a.SpecialFeatureName = s[l];
                                break;
                            case "ts":
                                a.TriggerSymbolRandomMultiplier = _number.otoi(s[l]);
                                break;
                            case "rm":
                                for (var u = s[l].split(";"), h = 0; h < u.length; h++) a.TSRandomMultipliers.push(_number.otoi(u[h]));
                                break;
                            case "ptm":
                                a.FreeSpinsStartingMultiplier = _number.otoi(s[l]);
                                break;
                            default:
                                break
                        }
                    }
                    e.push(a)
                }
            }
            return e
        },
        GetExpandingSymbolsData: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.expandingSymbolsData);
            return _string.IsNullOrEmpty(i) || (e = _string.Trim(i).split(";")), e
        },
        GetSymbolsBeforeExpanding: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.symbolsBeforeExpanding);
            return _string.IsNullOrEmpty(i) || (e = _string.Trim(i).split(",")), e
        },
        GetWinSymbols: function (t, e) {
            var i = null,
                n = GameProtocolCommonParser.ParseIfExist(t, e);
            return _string.IsNullOrEmpty(n) || (i = _string.Trim(n).split(",")), i
        },
        GetReelSet: function (t, e) {
            var i = null,
                n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.reelSet(e));
            return _string.IsNullOrEmpty(n) || (i = _string.Trim(n).split("~")), i
        },
        ParseRandomWildsData: function (t, e) {
            var i = null,
                n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.randomWildsData);
            if (_string.IsNullOrEmpty(n)) return i;
            i = [];
            for (var o = n.split(";"), s = 0; s < o.length; s++)
                for (var a = o[s].split("~"), r = _number.otoi(a[0]), l = a[1].split(","), u = 0; u < l.length; u++) {
                    if (u % e == 0) {
                        var h = new VsRandomWildsData;
                        h.RandomSymbolID = r, h.TargetPositions = [], i.push(h)
                    }
                    i[i.length - 1].TargetPositions.push(_number.otoi(l[u]))
                }
            return i
        },
        ParseUpSymbols: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.upSymbols);
            if (_string.IsNullOrEmpty(i)) return e;
            e = [];
            for (var n = i.split(","), o = 0; o < n.length; o++) e.push(_number.otoi(n[o]));
            return e
        },
        ParseExpandingSymbolsData: function (t) {
            var e = null,
                i = VSProtocolParser.GetExpandingSymbolsData(t);
            if (null != i) {
                var n;
                e = [];
                for (var o = 0; o < i.length; o++) {
                    var s = i[o].split("~"),
                        a = new VsExpandingSymbolData;
                    a.ExpandingSymbolId = _number.otoi(s[0]), a.SourcePositions = [];
                    var r = s[1].split(",");
                    for (n = 0; n < r.length; n++) a.SourcePositions.push(_number.otoi(r[n]));
                    a.TargetPositions = [];
                    var l = s[2].split(",");
                    for (n = 0; n < l.length; n++) a.TargetPositions.push(_number.otoi(l[n]));
                    e.push(a)
                }
            }
            return e
        },
        ParseWinScreenSymbols: function (t, e, i) {
            var n = [];
            if (e > 0) {
                var o = VSProtocolParser.GetWinSymbols(t, i);
                if (null != o && o.length % e == 0)
                    for (var s = o.length / e, a = 0; a < s; ++a) {
                        for (var r = [], l = 0; l < e; ++l) r.unshift(_number.otoi(o[s * l + a]));
                        n.push(r)
                    }
            }
            return n
        },
        ParseWinLines: function (t) {
            if (null != t[GameProtocolDictionary.winWayGroups]) return VSProtocolParser.ParseWinGroups(t);
            var e = [],
                i = [],
                n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.ClassicPaytable.combinations);
            if (!_string.IsNullOrEmpty(n))
                for (var o = n.split(","), s = 0; s < o.length; s++) i.push(_number.otoi(o[s]));
            for (var a = 0; null != t[GameProtocolDictionary.winLines(a)]; a++) {
                var r = t[GameProtocolDictionary.winLines(a)];
                if (!_string.IsNullOrEmpty(r)) {
                    var l = r.split("~"),
                        u = new VsWinLine,
                        h = [];
                    l.length >= 2 && (u.LineNumber = _number.otoi(l.shift()), u.WinAmount = _number.otod(l.shift()));
                    for (var c = 0; c < l.length; ++c) h[c] = _number.otoi(l[c]);
                    u.WinPositions = h, i.length > 0 && a <= i.length - 1 && (u.Combination = i[a]), e[a] = u
                }
            }
            return e
        },
        ParseWinGroups: function (t) {
            var e = [],
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.winWayGroups);
            if (!_string.IsNullOrEmpty(i))
                for (var n = i.split(";"), o = 0; o < n.length; o++) {
                    var s = n[o].split("~"),
                        a = new VsWinLine;
                    a.isWinWaysGroup = !0, a.symbolId = _number.otoi(s[0]), a.WinAmount = _number.otod(s[1]), a.waysCount = _number.otoi(s[2]), a.waysLength = _number.otoi(s[3]), a.payingDirection = s[5];
                    for (var r = s[4].split(","), l = [], u = 0; u < r.length; u++) l.push(_number.otoi(r[u]));
                    a.WinPositions = l, e.push(a)
                }
            return e
        },
        ParsePaytable: function (t, e) {
            var i = t[e];
            if (null == i) return null;
            for (var n = [], o = i.split(";"), s = 0; s < o.length; ++s) {
                for (var a = [], r = o[s].split(","), l = r.length - 1; l >= 0; --l) a.push(_number.otoi(r[l]));
                n[s] = a
            }
            return VSProtocolParser.ParseClassicPaytable(t, n), n
        },
        ParseClassicPaytable: function (t, e) {
            var i = "c_paytable";
            if (null != t[i])
                for (var n = t[i].split(";"), o = 0; o < n.length; ++o) {
                    var s = n[o].split("~");
                    if (s.length > 3) {
                        var a = _number.otoi(s[0]),
                            r = _array.ConvertAll(s[3].split(","), _number.otoi);
                        for (r.reverse(); e.length <= a;) e.push([]);
                        e[a] = r
                    }
                }
        },
        ParseScatters: function (t) {
            var e = t[GameProtocolDictionary.scatters];
            if (null == e) return null;
            for (var i = [], n = e.split(";"), o = 0; o < n.length; ++o) {
                var s = n[o].split("~");
                if (4 != s.length) return null;
                var a, r = _number.otoi(s[0]),
                    l = s[1].split(","),
                    u = [];
                for (a = l.length - 1; a >= 0; --a) u.push(_number.otoi(l[a]));
                var h = [];
                for (a = (l = s[2].split(",")).length - 1; a >= 0; --a) h.push(_number.otoi(l[a]));
                var c = [];
                for (a = (l = s[3].split(",")).length - 1; a >= 0; --a) c.push(_number.otoi(l[a]));
                i[o] = new VsScatterData(r, u, h, c)
            }
            return i
        },
        ParseWilds: function (t, e) {
            var i = t[e];
            if (null == i) return null;
            for (var n = [], o = i.split(";"), s = 0; s < o.length; s++) {
                var a = o[s].split("~");
                if (a.length < 2) return null;
                var r, l = _number.otoi(a[0]),
                    u = null,
                    h = null,
                    c = a[1].split(",");
                if (3 == a.length) {
                    for (u = [], r = c.length - 1; r >= 0; r--) {
                        var p = _number.otoi(c[r]);
                        u.push(p)
                    }
                    c = a[2].split(",")
                }
                for (h = [], r = c.length - 1; r >= 0; r--) {
                    var d = _number.otoi(c[r]);
                    h.push(d)
                }
                var m = new VsWildData(l, u, h);
                n.push(m)
            }
            return 0 == n.length ? null : n
        },
        ParseBonuses: function (t) {
            var e = [],
                i = t[GameProtocolDictionary.bonuses];
            if (null == i) return null;
            for (var n = i.split(";"), o = 0; o < n.length; ++o) e[o] = _number.otoi(n[o]);
            return e
        },
        ParseReelsSymbols: function (t) {
            if (null == t[GameProtocolDictionary.reel(0)]) return null;
            for (var e = [], i = 0;; i++) {
                var n = t[GameProtocolDictionary.reel(i)];
                if (null == n) break;
                for (var o = n.split(","), s = [], a = 0; a < o.length; ++a) s[a] = _number.otoi(o[a]);
                e[i] = s
            }
            return e
        },
        ParseNextReelsSymbols: function (t) {
            if (null == t[GameProtocolDictionary.n_reel(0)]) return null;
            for (var e = [], i = 0;; i++) {
                var n = t[GameProtocolDictionary.n_reel(i)];
                if (null == n) break;
                for (var o = (n = n.split("~")[1]).split(","), s = [], a = 0; a < o.length; ++a) s[a] = _number.otoi(o[a]);
                e[i] = s
            }
            return e
        },
        ParseReelSets: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.numberOfReelSets);
            if (i > 0) {
                e = [];
                for (var n = 0; n < i; n++)
                    for (n = 0; n < i; n++) {
                        e.push([]);
                        for (var o = VSProtocolParser.GetReelSet(t, n), s = 0; s < o.length; s++) {
                            e[n].push([]);
                            for (var a = o[s].split(","), r = 0; r < a.length; r++) e[n][s].push(_number.otoi(a[r]))
                        }
                    }
            }
            return e
        },
        ParseVsJackpotData: function (t) {
            var e = new VsJackpotData;
            e.IsActive = "1" == GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Jakpot.jackpotActive), e.JackpotID = GameProtocolCommonParser.ParseUInt(t, GameProtocolDictionary.Jakpot.jackpotWinID), e.JackpotOrder = GameProtocolCommonParser.ParseUInt(t, GameProtocolDictionary.Jakpot.jackpotWinOrder), e.WinJackpotAmount = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.Jakpot.jackpotWinAmount);
            var i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Jakpot.jackpotType);
            if (GameProtocolDictionary.Jakpot.Type.random == i ? e.jackpotType = VsJackpotData.Type.Random : GameProtocolDictionary.Jakpot.Type.twoSteps == i && (e.jackpotType = VsJackpotData.Type.TwoSteps), i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Jakpot.jackpotStatus), GameProtocolDictionary.Jakpot.Status.obtained == i ? (e.jackpotStatus = VsJackpotData.Status.Obtained, GameProtocolParser.ParseNextGameActions(t).indexOf(NextGameAction.PlayJackpot) > -1 && (e.IsActive = !0)) : GameProtocolDictionary.Jakpot.Status.used == i && (e.jackpotStatus = VsJackpotData.Status.Used), i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Jakpot.jackpotShutdown), e.jackpotShutdown = "1" == i, i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Jakpot.jackpotMiniGameEnabled), e.jackpotMiniGameEnabled = "1" == i, i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Jakpot.jackpotNotWon), e.jackpotNotWon = "1" == i, null != t[GameProtocolDictionary.Jakpot.jackpotWonInstances]) {
                var n = JSON5.parse(t[GameProtocolDictionary.Jakpot.jackpotWonInstances]);
                if (null != n && n.length > 0) {
                    e.wonJackpotInstances = [];
                    for (var o = 0; o < n.length; ++o) e.wonJackpotInstances.push(VSProtocolParser.ParseVsJackpotWonInstance(n[o]))
                }
            }
            return e
        },
        ParseVsJackpotWonInstance: function (t) {
            var e = new VsJackpotData.WonInstance;
            if (null != t[GameProtocolDictionary.Jakpot.WonInstance.type]) {
                var i = t[GameProtocolDictionary.Jakpot.WonInstance.type];
                GameProtocolDictionary.Jakpot.WonInstance.Type.progressive == i ? e.type = VsJackpotData.WonInstance.Type.Progressive : GameProtocolDictionary.Jakpot.WonInstance.Type.nonProgressive == i && (e.type = VsJackpotData.WonInstance.Type.NonProgressive)
            }
            return null != t[GameProtocolDictionary.Jakpot.WonInstance.jackpotId] && (e.jackpotId = t[GameProtocolDictionary.Jakpot.WonInstance.jackpotId]), null != t[GameProtocolDictionary.Jakpot.WonInstance.jackpotInstance] && (e.jackpotInstance = t[GameProtocolDictionary.Jakpot.WonInstance.jackpotInstance]), null != t[GameProtocolDictionary.Jakpot.WonInstance.amount] && (e.amount = _number.otod(t[GameProtocolDictionary.Jakpot.WonInstance.amount])), null != t[GameProtocolDictionary.Jakpot.WonInstance.multiplier] && (e.multiplier = t[GameProtocolDictionary.Jakpot.WonInstance.multiplier]), null != t[GameProtocolDictionary.Jakpot.WonInstance.autoDrawing] && (e.autoDrawing = "1" == t[GameProtocolDictionary.Jakpot.WonInstance.autoDrawing]), e
        },
        firstFRBparse: !0,
        ParseVsFreeRoundEvents: function (t) {
            var e = VSProtocolParser.firstFRBparse;
            if (null == t[GameProtocolDictionary.FreeRound.Events]) return null;
            for (var i = [], n = t[GameProtocolDictionary.FreeRound.Events].split(";"), o = 0; o < n.length; ++o) {
                var s = n[o].split("~");
                if (s.length > 1) {
                    var a = s[0],
                        r = s[1].split(",");
                    if (XT.GetBool(Vars.DontShowFRBEndWindowOnInit) && e && a == GameProtocolDictionary.FreeRound.Event.Finish) continue;
                    if (a == GameProtocolDictionary.FreeRound.Event.Start || a == GameProtocolDictionary.FreeRound.Event.Finish || a == GameProtocolDictionary.FreeRound.Event.Error) {
                        var l = new VsFreeRoundEvent;
                        switch (l.Bet = _number.otod(r[0]), l.Lines = _number.otoi(r[1]), a) {
                            case GameProtocolDictionary.FreeRound.Event.Start:
                                l.Type = VsFreeRoundEvent.EventType.Start, l.RoundsLeft = _number.otoi(r[2]), l.TurboSpinMode = 1 == _number.otoi(r[3]), l.PlayLaterAvailable = r.length > 4 && 1 == _number.otoi(r[4]), l.EndDateTimestamp = r.length > 5 ? _number.otod(r[5]) : -1, l.IsFreeRoundPending = !(r.length > 6 && 0 == _number.otoi(r[6])), l.PromoLocalizedName = r.length > 7 && r[7].length > 0 ? decodeURIComponent(atob(r[7]).split("").map((function (t) {
                                    return "%" + ("00" + t.charCodeAt(0).toString(16)).slice(-2)
                                })).join("")) : "", l.PromoType = r.length > 8 && r[8].length > 0 ? r[8] : "";
                                break;
                            case GameProtocolDictionary.FreeRound.Event.Finish:
                                l.Type = VsFreeRoundEvent.EventType.Finish;
                                break;
                            case GameProtocolDictionary.FreeRound.Event.Error:
                                l.Type = VsFreeRoundEvent.EventType.Error;
                                break
                        }
                        i.push(l)
                    }
                }
            }
            return i.length > 0 ? i : null
        },
        ParseVsFreeRound: function (t) {
            var e = VSProtocolParser.firstFRBparse;
            VSProtocolParser.firstFRBparse = !1;
            var i = !1;
            if (XT.GetBool(Vars.DontShowFRBEndWindowOnInit)) {
                var n = VSProtocolParser.ParseVsFreeRoundEvents(t);
                if (null != n && n.length > 0) n[0].Type == VsFreeRoundEvent.EventType.Finish && 1 == n.length && (i = !0)
            }
            if (null != t[GameProtocolDictionary.FreeRound.RoundsLeft] && null != t[GameProtocolDictionary.FreeRound.TotalWin] && !i) {
                var o = new VsFreeRound;
                if (o.RoundsLeft = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.FreeRound.RoundsLeft), o.TotalWin = GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.FreeRound.TotalWin), e && XT.GetBool(Vars.DontShowFRBEndWindowOnInit) && (o.TotalWin = 0), null != t[GameProtocolDictionary.FreeRound.RoundType]) switch (t[GameProtocolDictionary.FreeRound.RoundType]) {
                    case "N":
                        o.Type = VsFreeRound.RoundType.Spins;
                        break;
                    case "T":
                        o.Type = VsFreeRound.RoundType.Timed;
                        break;
                    case "F":
                        o.Type = VsFreeRound.RoundType.BonusBoost;
                        break;
                    default:
                        break
                }
                return o.BonusCode = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.FreeRound.BonusCode), o
            }
            return null
        },
        ParseVsWildRandomLineMultiplier: function (t) {
            var e = GameProtocolDictionary.WildRandomLineMultiplier.configuration,
                i = null;
            if (null != t[e]) {
                i = [];
                for (var n = t[e].split(";"), o = 0; o < n.length; o++) {
                    var s = new VsWildRandomLineMultiplier.Configuration,
                        a = n[o].split("~");
                    s.wildSymbolId = _number.otoi(a[0]), s.multiplierSets = [];
                    for (var r = 1; r < a.length; r += 2) {
                        var l = new MultiplierSet;
                        l.setIndex = _number.otoi(a[r]), l.multipliers = [];
                        for (var u = a[r + 1].split(","), h = 0; h < u.length; h++) l.multipliers.push(_number.otoi(u[h]));
                        s.multiplierSets.push(l)
                    }
                    i.push(s)
                }
            }
            return i
        },
        ParseWRLMResponse: function (t) {
            var e = GameProtocolDictionary.WildRandomLineMultiplier.response,
                i = null;
            if (null != t[e]) {
                i = [];
                for (var n = t[e].split(";"), o = 0; o < n.length; o++) {
                    var s = n[o].split("~"),
                        a = new VsWildRandomLineMultiplier.SpinResponse;
                    if (a.wildSymbolId = _number.otoi(s[0]), a.multiplier = _number.otoi(s[1]), s.length > 2) {
                        a.positions = [];
                        for (var r = s[2].split(","), l = 0; l < r.length; l++) a.positions.push(_number.otoi(r[l]))
                    }
                    i.push(a)
                }
            }
            return i
        },
        ParseWRLMCurrentSets: function (t) {
            var e = GameProtocolDictionary.WildRandomLineMultiplier.currentSet,
                i = null;
            if (null != t[e]) {
                i = [];
                for (var n = t[e].split(";"), o = 0; o < n.length; o++) {
                    var s = new VsWildRandomLineMultiplier.CurrentSet,
                        a = n[o].split("~");
                    s.wildSymbolId = _number.otoi(a[0]), s.currentSetIndex = _number.otoi(a[1]), i.push(s)
                }
            }
            return i
        },
        ParseVsRandomAwardsSymbols: function (t, e) {
            if (null == t[e]) return null;
            for (var i = t[e].split(";"), n = [], o = 0; o < i.length; ++o) {
                var s = i[o].split("~"),
                    a = new VsRandomAward;
                switch (s[0]) {
                    case GameProtocolDictionary.RandomAward.Type.multiplier:
                        a.Type = VsRandomAward.AwardType.Multiplier, s.length > 1 && (a.Value = _number.otod(s[1]));
                        break;
                    case GameProtocolDictionary.RandomAward.Type.trigger:
                        a.Type = VsRandomAward.AwardType.Trigger;
                        break;
                    case GameProtocolDictionary.RandomAward.Type.featureTrigger:
                        a.Type = VsRandomAward.AwardType.FeatureTrigger, s.length > 1 && (a.FeatureID = GameProtocolBonusGameParser.ParseWinMask(s[1]));
                        break
                }
                n.push(a)
            }
            return n
        },
        ParseVsRandomAwardsConfig: function (t) {
            var e = null,
                i = VSProtocolParser.ParseVsRandomAwardsSymbols(t, GameProtocolDictionary.RandomAward.Configuration.normal),
                n = VSProtocolParser.ParseVsRandomAwardsSymbols(t, GameProtocolDictionary.RandomAward.Configuration.freeSpins);
            if (null == i && null == n || ((e = new VsRandomAwardConfig).awardSymbolsNormal = i, e.awardSymbolsFreeSpins = n), null == e) {
                var o = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.RandomAward.Configuration.reelConfigCount);
                if (o > 0) {
                    (e = new VsRandomAwardConfig).awardReels = [], e.awardReelsCount = o;
                    for (var s = 0; s < o; s++) {
                        var a = VSProtocolParser.ParseVsRandomAwardsSymbols(t, GameProtocolDictionary.RandomAward.Configuration.reelConfig + s.toString());
                        e.awardReels.push(a)
                    }
                    e.ProcessPossibleAwards()
                }
            }
            return e
        },
        ParseRandomAwardsResponse: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.RandomAward.index);
            null == i && (i = -1);
            var n = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.RandomAward.awardPosition);
            null == n && (n = -1);
            var o = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.RandomAward.Configuration.reelConfig);
            null == o && (o = -1);
            var s = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.RandomAward.Configuration.nextReelConfig);
            return null == s && (s = -1), -1 == i && -1 == n || ((e = new RandomAwardsResponse).awardIndex = i, e.awardPositionInReel = n, e.currentReelIndex = o, e.nextReelIndex = s), e
        },
        ParseFSPurchaseData: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.FreeSpinsPurchase.fsBought);
            return i > 0 && ((e = new VsFSPurchaseData).freeSpinsBought = i), e
        },
        ParseRandomSymbolMultipliers: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.randomSymbolMultiplier);
            if (!_string.IsNullOrEmpty(i)) {
                e = [];
                for (var n = i.split(";"), o = 0; o < n.length; o++) {
                    var s = new VsRandomSymbolMultiplier,
                        a = n[o].split("~");
                    s.symbolId = _number.otoi(a[0]), s.multiplierValue = _number.otoi(a[2]);
                    for (var r = a[1].split(","), l = 0; l < r.length; l++) s.symbolPositions.push(_number.otoi(r[l]));
                    e.push(s)
                }
            }
            return e
        },
        ParsePossibleRandomSymbolMultipliers: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.possibleRandomSymbolMultipliers);
            if (!_string.IsNullOrEmpty(i)) {
                e = [];
                for (var n = i.split(";"), o = 0; o < n.length; o++) {
                    var s = new VsPossibleRandomSymbolMultipliers,
                        a = n[o].split("~");
                    s.symbolId = _number.otoi(a[0]);
                    for (var r = a[1].split(","), l = 0; l < r.length; l++) s.symbolMultipliers.push(_number.otoi(r[l]));
                    e.push(s)
                }
            }
            return e
        },
        ParseFreeSpinsChainedData: function (t) {
            var e = new VsFreeSpinsChainData;
            return e.FSCSpins = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.FreeSpinsChain.spins), e.FSCMultipliers = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.FreeSpinsChain.multipliers), e.FSCSpinsTotal = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.FreeSpinsChain.spinsTotal), e.FSCMultipliersTotal = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.FreeSpinsChain.multipliersTotal), e.FSCWinsTotal = GameProtocolCommonParser.ParseDoubleList(t, GameProtocolDictionary.FreeSpinsChain.winsTotal), e.FSCMultipliedWinsTotal = GameProtocolCommonParser.ParseDoubleList(t, GameProtocolDictionary.FreeSpinsChain.multipliedWinTotal), e.FSCSessionsWonThisSpin = GameProtocolCommonParser.ParseInt(t, GameProtocolDictionary.FreeSpinsChain.sessionsWonThisSpin), e.FSCSessionsWonSymbolsCount = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.FreeSpinsChain.sessionsWonSymbolsCount), e.HasChainInformation() ? e : null
        },
        ParseOpeningSymbolsData: function (t) {
            var e = new VsOpeningSymbolsData;
            return e.Positions = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.OpeningSymbols.positions), e.OSFreeSpinsWon = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.OpeningSymbols.freeSpinsWon), e.OSMultiplierWon = GameProtocolCommonParser.ParseNulableInt(t, GameProtocolDictionary.OpeningSymbols.multiplierWon), null != e.Positions || null != e.OSFreeSpinsWon || null != e.OSMultiplierWon ? e : null
        },
        GetWildRandomMultipliers: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.wildRandomMultipliers);
            return _string.IsNullOrEmpty(i) || (e = _string.Trim(i).split(";")), e
        },
        GetWildRandomMultipliersMasks: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.wildRandomMultiplierMask);
            return _string.IsNullOrEmpty(i) || (e = _string.Trim(i).split("~")), e
        },
        ParseWildRandomMultipliers: function (t) {
            var e = null,
                i = VSProtocolParser.GetWildRandomMultipliers(t);
            if (null != i) {
                e = [];
                for (var n = 0; n < i.length; n++) {
                    for (var o = i[n].split("~"), s = VSProtocolParser.GetWildRandomMultipliersMasks(t), a = new VsWildRandomMultiplier, r = 0; r < s.length; r++) switch (s[r]) {
                        case "s":
                            a.SymbolIndex = _number.otoi(o[r]);
                            break;
                        case "p":
                            a.Position = _number.otoi(o[r]);
                            break;
                        case "m":
                            a.Multiplier = _number.otoi(o[r]);
                            break;
                        default:
                            break
                    }
                    e.push(a)
                }
            }
            return e
        },
        ParsePatternedMysterySymbols: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.patternedMysterySymbols);
            if (!_string.IsNullOrEmpty(i)) {
                var n = i.split(",");
                if (n.length > 0) {
                    e = new Array;
                    for (var o = 0; o < n.length; o++) e.push(_number.otoi(n[o]))
                }
            }
            return e
        },
        ParseJPVisualization: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.JackpotVisualization.JPVMask),
                n = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.JackpotVisualization.JPVValues);
            if (!_string.IsNullOrEmpty(i)) {
                var o = i.split("~"),
                    s = n.split("~");
                if (o.length > 0) {
                    e = new VsJackpotVisualization;
                    for (var a = 0; a < o.length; a++)
                        if (o[a] == GameProtocolDictionary.JackpotVisualization.JPVType) s[a] == GameProtocolDictionary.JackpotVisualization.Type.badges && (e.jpvType = VsJackpotVisualization.JpType.badges);
                        else if (o[a] == GameProtocolDictionary.JackpotVisualization.JPVPositions) {
                        var r = s[a].split(",");
                        if (r.length > 0) {
                            e.positions = [];
                            for (var l = 0; l < r.length; l++) e.positions.push(_number.otoi(r[l]))
                        }
                    }
                }
            }
            return e
        },
        ParseGoldSymbol: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.GoldSymbol.goldSymbols),
                n = GameProtocolCommonParser.ParseIntList(t, GameProtocolDictionary.GoldSymbol.goldSymbolReels),
                o = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.GoldSymbol.goldSymbolAwards);
            if (null == n && _string.IsNullOrEmpty(i) || ((e = new VsGoldSymbol).reels = n), !_string.IsNullOrEmpty(i)) {
                var s = i.split(";");
                if (s.length > 0) {
                    e.symbols = [];
                    for (var a = 0; a < s.length; a++) {
                        var r = s[a].split("~");
                        e.symbols.push([]), e.symbols[a].push(_number.otoi(r[0])), e.symbols[a].push(_number.otoi(r[1]))
                    }
                }
            }
            if (!_string.IsNullOrEmpty(o)) {
                var l = o.split(";");
                if (l.length > 0) {
                    e.awards = [];
                    for (a = 0; a < l.length; a++) {
                        var u = l[a].split("~");
                        e.awards.push([]), e.awards[a].push(_number.otoi(u[0])), e.awards[a].push(_number.otoi(u[1]))
                    }
                }
            }
            return e
        },
        ParseSymbolReplacementData: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.symbolReplacementData);
            if (!_string.IsNullOrEmpty(i)) {
                e = [];
                for (var n = i.split(";"), o = 0; o < n.length; o++) {
                    var s = new VsSymbolReplacement,
                        a = n[o].split("~");
                    if (s.FromSymbolId = _number.otoi(a[0]), s.ToSymbolId = _number.otoi(a[1]), s.ReplacementPositions = [], a.length > 2)
                        for (var r = a[2].split(","), l = 0; l < r.length; l++) s.ReplacementPositions.push(_number.otoi(r[l]));
                    e.push(s)
                }
            }
            return e
        },
        ParseNudgedSymbolsData: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.nudgedSymbols);
            if (!_string.IsNullOrEmpty(i)) {
                var n = (i = _string.Trim(i)).split(";");
                if (n.length > 0) {
                    e = [];
                    var o = 0;
                    for (o = 0; o < n.length; o++) {
                        var s = n[o],
                            a = 0,
                            r = _number.otoi(s.split("~")[0]),
                            l = [],
                            u = s.split("~")[1].split(",");
                        for (a = 0; a < u.length; a++) l.push(_number.otoi(u[a]));
                        var h = [],
                            c = s.split("~")[2].split(",");
                        for (a = 0; a < c.length; a++) h.push(_number.otoi(c[a]));
                        var p = new VsNudgedSymbolsData(r, l, h, _number.otoi(s.split("~")[3]), _number.otoi(s.split("~")[4]));
                        e.push(p)
                    }
                }
            }
            return e
        },
        ParseSpinOneReelData: function (t) {
            var e = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.ReelsAllowedToRotateSeparately),
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.ReelsCoeficients),
                n = [],
                o = [];
            if (!_string.IsNullOrEmpty(e) && (e = _string.Trim(e)).length > 0)
                for (var s = e.split(","), a = 0; a < s.length; a++) n.push(_number.otod(s[a]));
            if (!_string.IsNullOrEmpty(i) && (i = _string.Trim(i)).length > 0)
                for (s = i.split(","), a = 0; a < s.length; a++) o.push(_number.otod(s[a]));
            return new VSSpinOneReelSymbolsData(0, n, o)
        },
        ParseTumblingData: function (t) {
            var e = null,
                i = GameProtocolCommonParser.ParseIfExist(t, GameProtocolDictionary.Tumbling);
            if (!_string.IsNullOrEmpty(i)) {
                e = new VsTumblingData;
                for (var n = i.split("~"), o = 0; o < n.length; o++) {
                    var s = n[o].split(","),
                        a = new VsTumblingData.TumblingSymbol;
                    a.position = _number.otoi(s[0]), a.id = _number.otoi(s[1]), e.tumblingSymbols.push(a)
                }
            }
            return e
        }
    };
goog.provide("UHT.ResourceHelpers");
var ResourceEvents = {
    evtRequestResources: "evtRequestResources",
    evtResourcesCompleted: "evtResourcesCompleted"
};

function AssetBundle() {
    this.mainAsset = null
}

function ResourceRequestInfo() {
    this.symbol = "", this.brand = "", this.locale = "", this.files = []
}

function BundlePack() {
    this.assetBundles = []
}

function RequestPack() {
    this.isDone = !1, this.downloaders = [], this.progress = 0, this.componentName = ""
}
RequestPack.prototype.Update = function () {
    this.isDone = !0, this.progress = 0;
    for (var t = 0; t < this.downloaders.length; ++t) this.downloaders[t].Done || (this.isDone = !1, this.progress += this.downloaders[t].progress)
}, RequestPack.prototype.GetData = function () {
    for (var t = new BundlePack, e = 0; e < this.downloaders.length; ++e)
        if (_string.IsNullOrEmpty(this.downloaders[e].error)) {
            var i = new AssetBundle;
            i.mainAsset = jsonParse(this.downloaders[e].Data), t.assetBundles.push(i)
        } return this.downloaders = [], t
}, goog.provide("UHT.ServerOptions");
var LogLevel = {
        None_Info: 0,
        Warn: 1,
        Debug: 2,
        Error: 3
    },
    ServerOptions = {
        serverUrl: "https://gpg.emaraplay.com",
        resourcesUrl: "https://studio.game-service.biz",
        configUri: "/gs2c/configuration.do",
        loginUri: "/gs2c/login.do",
        logoutUri: "/gs2c/logout.do",
        sessionTimeout: "-1",
        menuUri: "/gs2c/menu.do",
        versionUri: "/gs2c/res/versions.info",
        resourceseUri: "/gs2c/res",
        gameServiceUri: "/gs2c/gameService",
        settingsUri: "/gs2c/saveSettings.do",
        reloadBalanceUri: "/gs2c/reloadBalance.do",
        reloadJackpotUri: "/gs2c/jackpot/reload.do",
        accountType: "R",
        language: "en",
        currency: "USD",
        realCurrency: "USD",
        resourceVersion: "200",
        styleName: "style",
        casinoName: "casino",
        isExternal: !0,
        isDemoMode: !1,
        logLevel: LogLevel.None_Info,
        gameSymbol: URLGameSymbol,
        userAgent: "Mozilla/5.0 (Windows NT 6.1, WOW64, rv:34.0) Gecko/20100101 Firefox/34.0",
        isOnline: !1,
        isReplay: !1,
        isSecure: !0,
        packagesUri: "packages/",
        gameUrl: "",
        configs: null,
        mgckey: "",
        gameHistory: null,
        gameVerificationUrl: null,
        jurisdiction: null,
        jurisdictionRequirements: null,
        brandRequirements: null,
        promotionurl: null,
        rcSettings: null,
        amountType: null,
        TournamentURLs: {
            tournaments: "/gs2c/promo/active/",
            details: "/gs2c/promo/tournament/details/",
            leaderboards: "/gs2c/promo/tournament/v3/leaderboard/",
            raceDetails: "/gs2c/promo/race/details/",
            racePrizes: "/gs2c/promo/race/prizes/",
            raceOptIn: "/gs2c/promo/race/player/choice/OPTIN/",
            raceOptOut: "/gs2c/promo/race/player/choice/OPTOUT/",
            tournamentOptIn: "/gs2c/promo/tournament/player/choice/OPTIN/",
            tournamentOptOut: "/gs2c/promo/tournament/player/choice/OPTOUT/",
            tournamentScores: "/gs2c/promo/tournament/scores/"
        },
        SwedishRegulation: {
            notificationUrl: ""
        }
    };
goog.provide("UHT.GameConnection"), goog.require("UHT.EventManager"), goog.require("UHT.ServerOptions"), goog.require("UHT.Tracking");
var RequestState = {
    Idle: 0,
    Init: 1,
    Spin: 2,
    Collect: 3,
    InitBonus: 4,
    BonusRespin: 5,
    PickBonus: 6,
    CollectBonus: 7,
    Gamble: 8,
    GambleCollect: 9,
    JackpotCollect: 10,
    PickFSOption: 11,
    InitFSBG: 12,
    PickFSBG: 13,
    GetMysteryScatter: 14,
    Block: 15,
    PlayJackpot: 16
};

function GameConnection() {
    this.index = 0, this.counter = 0, this.repeat = 0, this.repeatLimit = 3, this.symbol = "vs20cm", this.responseReceived = !1, this.response = "", this.srvResponse = null, this.retryDelay = 15, this.retryTimer = 0, this.retryRequest = !1, this.storedRequest = null, this.queuedRequest = null, this.queuedState = RequestState.Block, this.initData = null, this.requestState = RequestState.Idle, this.isRegulatoryError = !1, this.mustStopSpin = !1, this.mustPostGameRoundEndedOnCollect = !1, this.reqExtraParams = null, GameConnection.I = this
}
GameConnection.I = null, GameConnection.prototype.SlotHeight = -1, GameConnection.noMoneyStopsSpin = !1, GameConnection.prototype.Init = function (t) {
    this.index = 1, this.counter = 1, this.repeat = 0, this.symbol = t, this.responseReceived = !1, EventManager.AddHandler(GameEvents.evtInitRequest + this.symbol, this.SendInitRequest, this), EventManager.AddHandler(GameEvents.evtSpinRequest + this.symbol, this.SendSpinRequest, this), EventManager.AddHandler(GameEvents.evtFreespinsFinished + this.symbol, this.SendFSCollectRequest, this), EventManager.AddHandler(GameEvents.evtGambleRequest + this.symbol, this.SendGambleV2Request, this), EventManager.AddHandler(GameEvents.evtGambleClose + this.symbol, this.SendGambleCollectRequest, this), EventManager.AddHandler(GameEvents.evtBonusPickRequest + this.symbol, this.SendBonusRequest, this), EventManager.AddHandler(GameEvents.evtBonusRespinRequest + this.symbol, this.SendBonusRespinRequest, this), EventManager.AddHandler(GameEvents.evtBonusFinishRequest + this.symbol, this.SendBonusCollectRequest, this), EventManager.AddHandler(GameEvents.evtFSOptionPickRequest + this.symbol, this.SendFSOptionRequest, this), EventManager.AddHandler(GameEvents.evtFSBGPickRequest + this.symbol, this.SendFSBGRequest, this), EventManager.AddHandler(GameEvents.evtMysteryScatterRequest + this.symbol, this.SendMysteryScatterRequest, this), EventManager.AddHandler(GameEvents.evtPlayJackpotRequest + this.symbol, this.SendPlayJackpotRequest, this), EventManager.AddHandler(GameEvents.evtUpdateSettingsRequest + this.symbol, this.SaveSettingsRequest, this), EventManager.AddHandler(FOXVars.Evt_FOX_TriggerAfterEvent, this.TriggerFOXAfterEvent, this), EventManager.AddHandler(StageTransitionVars.Evt_StageTransition_SetWaitInTransition, this.SetWaitInTransition, this), XT.RegisterAndInitDone ? this.OnXTRegisterCallbacks(null) : EventManager.AddHandler(GameEvents.evtXTRegisterCallbacks, this.OnXTRegisterCallbacks, this)
}, GameConnection.prototype.OnXTRegisterCallbacks = function (t) {
    XT.RegisterCallbackObject(Vars.ToServer_RequestExtraParams, this.OnRequestExtraParams, this)
}, GameConnection.prototype.OnRequestExtraParams = function (t) {
    var e = t;
    if (null != e && null != e.dict) {
        var i = e.dict;
        for (var n in i) this.AddRequestExtraParameter(n, i[n])
    }
}, GameConnection.prototype.AddRequestExtraParameter = function (t, e) {
    null == this.reqExtraParams && (this.reqExtraParams = {}), this.reqExtraParams[t], this.reqExtraParams[t] = e
}, GameConnection.prototype.AddRequestExtraParams = function (t) {
    if (null != this.reqExtraParams) {
        for (var e in this.reqExtraParams) t.Fields[e] = this.reqExtraParams[e];
        this.reqExtraParams = null
    }
}, GameConnection.prototype.Update = function () {
    EventManager.TriggerQueued(), null != this.queuedRequest && this.requestState == RequestState.Idle && (this.CanRequest(this.queuedState) && (this.requestState = this.queuedState, this.queuedState = RequestState.Block, this.SendRequest(this.queuedRequest)), this.queuedRequest = null), this.responseReceived && (this.responseReceived = !1, this.HandleResponse(this.response)), this.retryRequest && (this.repeat < this.repeatLimit ? this.retryTimer > this.retryDelay ? (this.retryRequest = !1, ++this.index, ++this.repeat, this.storedRequest.Fields[GameProtocolDictionary.counter] = String(this.counter), this.storedRequest.Fields[GameProtocolDictionary.repeat] = String(this.repeat), EventManager.Trigger(AdapterEvents.evtServerRequest, this.storedRequest), RequestManager.AddRequest(this.storedRequest)) : this.retryTimer += Time.deltaTime : (this.retryRequest = !1, EventManager.Trigger(AdapterEvents.evtShowMessage, AdapterMessages.connectionLost)))
}, GameConnection.prototype.StoreResponse = function (t, e) {
    200 == e ? (this.response = _string.Trim(t), this.responseReceived = !0) : (this.retryTimer = 0, this.retryRequest = !0)
}, GameConnection.prototype.HandleResponse = function (t) {
    if (this.isRegulatoryError = !1, this.mustStopSpin = !1, _string.IsNullOrEmpty(t)) this.requestState = RequestState.Block;
    else {
        if (-1 != t.indexOf("error_type=i")) this.mustStopSpin = !0;
        else if (-1 != t.indexOf("ext_code=RegulatoryError") || -1 != t.indexOf("ext_code=TemporaryUnavailableError")) this.isRegulatoryError = !0, window.globalMustStopAutoplay = !0;
        else {
            if (-1 != t.indexOf(GameProtocolDictionary.frozen) || -1 != t.indexOf("error_type=e")) return void(this.requestState = RequestState.Block);
            if (-1 != t.indexOf(GameProtocolDictionary.techbreak));
            else {
                if (-1 != t.indexOf(GameProtocolDictionary.reload)) return void(this.requestState = RequestState.Block);
                if (-1 != t.indexOf(GameProtocolDictionary.pnow)) return this.retryTimer = 0, void(this.retryRequest = !0);
                if (-1 != t.indexOf(GameProtocolDictionary.noMoney));
                else {
                    if (-1 != t.indexOf(GameProtocolDictionary.undefined)) return void(this.requestState = RequestState.Block);
                    if (-1 != t.indexOf(GameProtocolDictionary.unlogged)) return void(this.requestState = RequestState.Block)
                }
            }
        }
        var e = t.split("&");
        switch (this.srvResponse = GameProtocolParser.ParseResponse(e), ++this.index, this.counter = this.srvResponse.Counter + 1, this.repeat = this.srvResponse.Repeat, this.srvResponse.ServerTime > 0 && EventManager.Trigger(GameEvents.evtServerTimeUpdate, this.srvResponse.ServerTime), XT.SetObject(FOXVars.FOX_Response, this.srvResponse.ValuesMap), this.requestState) {
            case RequestState.Init:
                XT.TriggerEvent(FOXVars.Evt_FOX_InitReceived), this.HandleInitResponse(e, this.srvResponse), ServerOptions.isReplay ? EventManager.Queue(GameEvents.evtSettingsUpdated + this.symbol, new GameSettings("")) : this.LoadSettingsRequest(null);
                break;
            case RequestState.Spin:
                XT.TriggerEvent(FOXVars.Evt_FOX_SpinReceived), this.HandleSpinResponse(e, this.srvResponse);
                break;
            case RequestState.Collect:
                XT.TriggerEvent(FOXVars.Evt_FOX_CollectReceived), this.HandleCollectResponse(e, this.srvResponse);
                break;
            case RequestState.InitBonus:
                XT.TriggerEvent(FOXVars.Evt_FOX_InitBonusReceived), this.HandleInitBonusResponse(e, this.srvResponse);
                break;
            case RequestState.PickBonus:
                XT.TriggerEvent(FOXVars.Evt_FOX_PickBonusReceived), this.HandlePickBonusResponse(e, this.srvResponse);
                break;
            case RequestState.BonusRespin:
                XT.TriggerEvent(FOXVars.Evt_FOX_BonusRespinReceived), this.HandleBonusRespinResponse(e, this.srvResponse);
                break;
            case RequestState.CollectBonus:
                XT.TriggerEvent(FOXVars.Evt_FOX_CollectBonusReceived), this.HandleCollectBonusResponse(e, this.srvResponse);
                break;
            case RequestState.Gamble:
                XT.TriggerEvent(FOXVars.Evt_FOX_GambleReceived), this.HandleGambleV2Response(e, this.srvResponse);
                break;
            case RequestState.GambleCollect:
                XT.TriggerEvent(FOXVars.Evt_FOX_GambleCollectReceived), this.HandleGambleCollectResponse(e, this.srvResponse);
                break;
            case RequestState.JackpotCollect:
                XT.TriggerEvent(FOXVars.Evt_FOX_JackpotCollectReceived), this.HandleJackpotCollectResponse(e, this.srvResponse);
                break;
            case RequestState.PlayJackpot:
                XT.TriggerEvent(FOXVars.Evt_FOX_PlayJackpotReceived), this.HandlePlayJackpotResponse(e, this.srvResponse);
                break;
            case RequestState.PickFSOption:
                XT.TriggerEvent(FOXVars.Evt_FOX_PickFSOptionReceived), this.HandlePickFSOptionResponse(e, this.srvResponse);
                break;
            case RequestState.InitFSBG:
                XT.TriggerEvent(FOXVars.Evt_FOX_InitFSBGReceived), this.HandleInitFSBGResponse(e, this.srvResponse);
                break;
            case RequestState.PickFSBG:
                XT.TriggerEvent(FOXVars.Evt_FOX_PickFSBGReceived), this.HandlePickFSBGResponse(e, this.srvResponse);
                break;
            case RequestState.GetMysteryScatter:
                XT.TriggerEvent(FOXVars.Evt_FOX_GetMysteryScatterReceived), this.HandleMysteryScatterResponse(e, this.srvResponse);
                break;
            default:
                break
        }
    }
};
var ActionSentAferLoadingWheel = !1;

function RequestExtraParams() {
    this.dict = {}
}

function ResourceManager() {
    Component.call(this), this.downloadQueue = null, this.waitingQueue = null, this.packagesInfo = null, ResourceManager.instance = this
}
GameConnection.prototype.SendRequest = function (t) {
    !ActionSentAferLoadingWheel && LoadingWheelSentOnce && (globalTracking.SendEvent("uht_behaviour", "Loading_wheel_once_and_user_active", 1, "BehaviourTracker"), ActionSentAferLoadingWheel = !0);
    var e = new ServerRequest;
    for (var i in e.Url = t.Url, e.Handler = new EventHandler(this, this.StoreResponse), e.Method = t.RequestMethod, e.KeepAlive = !0, e.AllowRedirect = !0, t.Fields) e.Fields[i] = t.Fields[i];
    e.Fields[GameProtocolDictionary.index] = String(this.index), e.Fields[GameProtocolDictionary.counter] = String(this.counter), e.Fields[GameProtocolDictionary.repeat] = String(this.repeat), this.storedRequest = e, EventManager.Trigger(AdapterEvents.evtServerRequest, e), RequestManager.AddRequest(e)
}, GameConnection.prototype.SendCollectRequest = function () {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect) < 0)) {
        var t = new RequestData;
        t.Fields = {}, t.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, t.Fields[GameProtocolDictionary.symbol] = this.symbol, t.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doCollect, this.requestState != RequestState.Idle ? (this.queuedState = RequestState.Collect, this.queuedRequest = t) : (this.requestState = RequestState.Collect, this.SendRequest(t))
    }
}, GameConnection.prototype.SendFSCollectRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect) < 0 || this.srvResponse.DoCollect)) {
        var e = new RequestData;
        e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.symbol] = this.symbol, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doCollect, this.requestState != RequestState.Idle ? (this.queuedState = RequestState.Collect, this.queuedRequest = e) : (this.requestState = RequestState.Collect, this.SendRequest(e))
    }
}, GameConnection.prototype.SendInitRequest = function (t) {
    globalTracking.StartTimer("uht_loading", "_X_first_connection_duration", "LoadingTracker"), this.requestState, RequestState.Block;
    var e = new RequestData;
    e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doInit, e.Fields[GameProtocolDictionary.symbol] = this.symbol, _string.IsNullOrEmpty(UHT_REVISION.common) || (e.Fields[GameProtocolDictionary.clientVersion] = UHT_REVISION.common), this.requestState != RequestState.Idle ? (this.queuedState = RequestState.Init, this.queuedRequest = e) : (this.requestState = RequestState.Init, this.SendRequest(e))
}, GameConnection.prototype.SendSpinRequest = function (t) {
    if (this.requestState, RequestState.Block, null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.Spin) < 0) {
        var e = this;
        setTimeout((function () {
            e.SendSpinRequest(t)
        }), 250)
    } else {
        var i = t,
            n = new RequestData;
        n.Fields = {}, n.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, n.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doSpin, n.Fields[GameProtocolDictionary.symbol] = this.symbol, n.Fields[GameProtocolDictionary.coin] = Number(i.Bet).toString(), n.Fields[GameProtocolDictionary.line] = Number(i.Line).toString(), this.AddRequestExtraParams(n);
        var o = XT.GetInt(Vars.ReelToBeSpun); - 1 != o && (n.Fields[GameProtocolDictionary.ReelToBeSpun] = o), -1 != i.ProgressPick && (n.Fields[GameProtocolDictionary.ProgressiveFeature.progressivePick] = i.ProgressPick.toString());
        var s = XT.GetObject(Vars.BetLevelSettings);
        null != s && (n.Fields[GameProtocolDictionary.BetLevel.betLevelIndex] = s.betLevelIndex.toString());
        var a = XT.GetObject(Vars.FreeSpinsPurchaseConfig);
        null != a && a.optionIndex > -1 && (n.Fields[GameProtocolDictionary.FreeSpinsPurchase.optionIndex] = a.optionIndex.toString(), a.optionIndex = -2);
        var r = XT.GetObject(Vars.FeaturePurchase);
        null != r && r.purchaseIndex > -1 && (n.Fields[GameProtocolDictionary.FeaturePurchaseParam] = r.purchaseIndex.toString(), r.purchaseIndex = -2);
        var l = XT.GetObject(Vars.BonusRoundsData);
        null != l && l.Type == VsFreeRound.RoundType.Timed && XT.GetBool(Vars.TimedBonusRoundIsOngoing) && (n.Fields[GameProtocolDictionary.FreeRound.BonusCodeParam] = l.BonusCode), XT.GetBool(Vars.UserChoseToPlayLater) && (XT.GetBool("UserChoseToPlayLaterInstantFRB") || (n.Fields.fr_play_later = "1"), XT.SetBool("UserChoseToPlayLaterInstantFRB", !1), XT.SetBool(Vars.UserChoseToPlayLater, !1)), XT.GetString(Vars.InitBonusCode).length > 0 && (n.Fields.init_bonus_code = XT.GetString(Vars.InitBonusCode), XT.SetString(Vars.InitBonusCode, "")), this.requestState != RequestState.Idle ? (this.queuedState = RequestState.Spin, this.queuedRequest = n) : (this.requestState = RequestState.Spin, this.SendRequest(n))
    }
}, GameConnection.prototype.SendGambleRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.Gamble) < 0)) {
        var e = t,
            i = new RequestData;
        i.Fields = {}, i.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, i.Fields[GameProtocolDictionary.symbol] = this.symbol, i.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doGamble, i.Fields[GameProtocolDictionary.Gambling.option] = Number(e.Choice).toString(), this.requestState != RequestState.Idle ? (this.queuedState = RequestState.Gamble, this.queuedRequest = i) : (this.requestState = RequestState.Gamble, this.SendRequest(i))
    }
}, GameConnection.prototype.SendFSOptionRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.FSOption) < 0)) {
        var e = new RequestData;
        if (e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doFSOption, e.Fields[GameProtocolDictionary.symbol] = this.symbol, null != t && (e.Fields[GameProtocolDictionary.BonusGame.bonusGameChoice] = Number(t.Index).toString()), this.requestState != RequestState.Idle) {
            if (this.requestState == RequestState.PickFSOption) return;
            this.queuedState = RequestState.PickFSOption, this.queuedRequest = e
        } else this.requestState = RequestState.PickFSOption, this.SendRequest(e)
    }
}, GameConnection.prototype.SendFSBGRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.FSBonus) < 0)) {
        var e = new RequestData;
        if (e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doFSBonus, e.Fields[GameProtocolDictionary.symbol] = this.symbol, null != t && (e.Fields[GameProtocolDictionary.BonusGame.bonusGameChoice] = Number(t.Index).toString()), this.requestState != RequestState.Idle) {
            if (this.requestState == RequestState.PickFSBG) return;
            this.queuedState = null != t ? RequestState.PickFSBG : RequestState.InitFSBG, this.queuedRequest = e
        } else this.requestState = null != t ? RequestState.PickFSBG : RequestState.InitFSBG, this.SendRequest(e)
    }
}, GameConnection.prototype.SendMysteryScatterRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.MysteryScatter) < 0)) {
        var e = new RequestData;
        if (e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doMysteryScatter, e.Fields[GameProtocolDictionary.symbol] = this.symbol, this.AddRequestExtraParams(e), this.requestState != RequestState.Idle) {
            if (this.requestState == RequestState.GetMysteryScatter) return;
            this.queuedState = RequestState.GetMysteryScatter, this.queuedRequest = e
        } else this.requestState = RequestState.GetMysteryScatter, this.SendRequest(e)
    }
}, GameConnection.prototype.SendGambleCollectRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.GambleCollect) < 0)) {
        var e = new RequestData;
        e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.symbol] = this.symbol, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doGambleCollect, this.requestState != RequestState.Idle ? (this.queuedState = RequestState.GambleCollect, this.queuedRequest = e) : (this.requestState = RequestState.GambleCollect, this.SendRequest(e))
    }
}, GameConnection.prototype.SendJackpotCollectRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.JackpotCollect) < 0)) {
        var e = new RequestData;
        e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.symbol] = this.symbol, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doJackpotCollect, this.requestState != RequestState.Idle ? (this.queuedState = RequestState.JackpotCollect, this.queuedRequest = e) : (this.requestState = RequestState.JackpotCollect, this.SendRequest(e))
    }
}, GameConnection.prototype.SendPlayJackpotRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.PlayJackpot) < 0)) {
        var e = new RequestData;
        e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.symbol] = this.symbol, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doPlayJackpot, this.requestState != RequestState.Idle ? (this.queuedState = RequestState.PlayJackpot, this.queuedRequest = e) : (this.requestState = RequestState.PlayJackpot, this.SendRequest(e))
    }
}, GameConnection.prototype.SendBonusRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.Bonus) < 0)) {
        var e = new RequestData;
        if (e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doBonus, e.Fields[GameProtocolDictionary.symbol] = this.symbol, null != t ? 0 == t.PickType ? e.Fields[GameProtocolDictionary.BonusGame.bonusGameChoice] = Number(t.Index).toString() : (e.Fields[GameProtocolDictionary.BonusGame.lInd] = Number(t.Index).toString(), e.Fields[GameProtocolDictionary.BonusGame.bonusGameChoice] = Number(t.PickType).toString()) : this.WaitInTransition(!0), this.requestState != RequestState.Idle) {
            if (this.requestState == RequestState.PickBonus) return;
            this.queuedState = null != t ? RequestState.PickBonus : RequestState.InitBonus, this.queuedRequest = e
        } else this.requestState = null != t ? RequestState.PickBonus : RequestState.InitBonus, this.SendRequest(e)
    }
}, GameConnection.prototype.SendBonusRespinRequest = function (t) {
    if (this.requestState, RequestState.Block, !(null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(NextGameAction.Bonus) < 0)) {
        var e = new RequestData;
        e.Fields = {}, e.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, e.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doBonus, e.Fields[GameProtocolDictionary.symbol] = this.symbol, this.requestState != RequestState.Idle ? (this.queuedState = RequestState.BonusRespin, this.queuedRequest = e) : (this.requestState = RequestState.BonusRespin, this.SendRequest(e))
    }
}, GameConnection.prototype.SendBonusCollectRequest = function (t) {
    this.requestState, RequestState.Block;
    var e = GameProtocolDictionary.Actions.doCollectBonus;
    if (null != this.srvResponse.NextGameActions) {
        if (this.srvResponse.NextGameActions.indexOf(NextGameAction.Bonus) > -1) return void this.SendBonusRequest(null);
        var i = this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect) > -1,
            n = this.srvResponse.NextGameActions.indexOf(NextGameAction.CollectBonus) > -1;
        if (!i && !n) return;
        i && (e = GameProtocolDictionary.Actions.doCollect)
    }
    var o = new RequestData;
    o.Fields = {}, o.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, o.Fields[GameProtocolDictionary.Actions.action] = e, o.Fields[GameProtocolDictionary.symbol] = this.symbol, this.requestState != RequestState.Idle ? (this.queuedState = RequestState.CollectBonus, this.queuedRequest = o) : (this.requestState = RequestState.CollectBonus, this.SendRequest(o))
}, GameConnection.prototype.LoadSettingsRequest = function (t) {
    var e = new ServerRequest,
        i = "";
    i += ServerOptions.serverUrl, i += ServerOptions.settingsUri, e.Url = i, e.Handler = new EventHandler(this, this.HandleSettingsLoaded), e.Method = "POST", e.Fields[DefaultValues.Settings.action] = DefaultValues.Settings.load, e.Fields[DefaultValues.Settings.idParam] = this.symbol, RequestManager.AddRequest(e)
}, GameConnection.prototype.SaveSettingsRequest = function (t) {
    var e = t,
        i = new ServerRequest,
        n = "";
    n += ServerOptions.serverUrl, n += ServerOptions.settingsUri, i.Url = n, i.Handler = new EventHandler(this, this.HandleSettingSaved), i.Method = "POST", i.Fields[DefaultValues.Settings.idParam] = this.symbol, i.Fields[DefaultValues.Settings.settingsParam] = e.ToString(), RequestManager.AddRequest(i)
}, GameConnection.prototype.HandleInitResponse = function (t, e) {
    LoaderProgress.InitConnection_Current = 1, globalTracking.StopTimerAndSend("uht_loading", "_X_first_connection_duration", "LoadingTracker");
    var i = e.ValuesMap,
        n = VSProtocolParser.ParseVsResponse(i);
    GameConnection.prototype.SlotHeight = n.SlotHeight, n.NextGameActions = e.NextGameActions, this.initData = n.VsInitData.Clone();
    var o = GameProtocolCommonParser.ParseIntList(i, GameProtocolDictionary.configs);
    if (null != o && (ServerOptions.configs = o), this.AddGambleButtonState(n, !0), EventManager.Trigger(GameEvents.evtInitResponse + this.symbol, n), this.requestState = RequestState.Idle, null != this.srvResponse.NextGameActions) this.IsNextAction(NextGameAction.Collect) && this.SendCollectRequest(), this.IsNextAction(NextGameAction.CollectBonus) && this.SendBonusCollectRequest(null), this.IsNextAction(NextGameAction.JackpotCollect) && this.SendJackpotCollectRequest(null), this.IsNextAction(NextGameAction.PlayJackpot) && EventManager.Trigger(GameEvents.evtMustPlayJackpot + this.symbol, null);
    else {
        var s = !e.DoCollect && n.IsWin() && e.DoSpin;
        s && n.IsFreeSpins() && !n.VsFreeSpin.IsFirstFreeSpin() && !n.IsFreeSpinBonusGame() && (s = !1), s && (n.IsBonusRespin() ? this.SendBonusCollectRequest(null) : this.SendCollectRequest())
    }
    EventManager.Trigger(JackpotEvents.evtJackpotStateChanged, n.VsJackpotData), n.IsJackpotWin() && this.SendJackpotCollectRequest(null), n.IsBonus() && (n.WasDoBonus() || n.IsBonusRespin() || n.IsBonusFSPick() || n.IsOpeningSymbols() || n.BonusDoesNotNeedInit() || n.BonusIdDoesNotNeedInit() ? EventManager.Trigger(GameEvents.evtBonusInitResponse + this.symbol, n) : this.SendBonusRequest(null)), n.IsFreeSpinBonusGame() && !n.VsFreeSpin.BonusGame.GameOver && (n.WasDoFSBonus() ? EventManager.Trigger(GameEvents.evtFSBGInitResponse + this.symbol, n) : this.SendFSBGRequest(null))
}, GameConnection.prototype.HandleSpinResponse = function (t, e) {
    var i = e.ValuesMap;
    if (this.mustStopSpin) return EventManager.Queue(GameEvents.evtNoMoneySpinResponse, i), void(this.requestState = RequestState.Idle);
    if (this.NoMoney(i) || this.isRegulatoryError) GameConnection.noMoneyStopsSpin && (EventManager.Queue(GameEvents.evtNoMoneySpinResponse, i), this.requestState = RequestState.Idle);
    else {
        var n = e.ValuesMap,
            o = GameProtocolCommonParser.ParseBalance(n);
        null != o && EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest, o);
        var s = VSProtocolParser.ParseVsResponse(i);
        s.NextGameActions = e.NextGameActions;
        var a = s.VsInitData,
            r = null != a.ReelSymbols && a.ReelSymbols.length > 0;
        r && (this.initData.GamblingSettings = a.GamblingSettings.Clone()), this.AddGambleButtonState(s, !1), r && EventManager.Queue(GameEvents.evtConfigSwitchedResponse + this.symbol, s), EventManager.Queue(GameEvents.evtSpinResponse + this.symbol, s);
        var l = !0;
        null == this.srvResponse.NextGameActions && (l = e.DoCollect || s.IsWin()), l && s.IsFreeSpins() && !s.VsFreeSpin.IsFirstFreeSpin() && !s.IsFreeSpinBonusGame() && (l = !1), this.requestState = RequestState.Idle, l && this.SendCollectRequest(), s.IsJackpotWin() && this.SendJackpotCollectRequest(null), EventManager.Queue(JackpotEvents.evtJackpotStateChanged, s.VsJackpotData), !s.IsBonus() || s.IsBonusRespin() || s.IsBonusFSPick() || s.IsBonusOptions() || s.IsBonusGameOver() || s.BonusIdDoesNotNeedInit() ? EventManager.Queue(GameEvents.evtBonusInitResponse + this.symbol, s) : null != s.GetVsBonusGameData().wheelOfFortune ? -1 != s.GetVsBonusGameData().wheelOfFortune.stopPosition ? this.SendBonusRequest(null) : EventManager.Queue(GameEvents.evtBonusInitResponse + this.symbol, s) : this.SendBonusRequest(null), s.IsFreeSpinBonusGame() && !s.VsFreeSpin.BonusGame.GameOver && (s.WasDoFSBonus() ? EventManager.Queue(GameEvents.evtFSBGInitResponse + this.symbol, s) : this.SendFSBGRequest(null)), null != this.srvResponse.NextGameActions && this.IsNextAction(NextGameAction.PlayJackpot) && EventManager.Trigger(GameEvents.evtMustPlayJackpot + this.symbol, null)
    }
}, GameConnection.prototype.AddGambleButtonState = function (t, e) {
    var i = !1;
    this.initData.GamblingSettings.IsOccasionEnable(GamblingOccasions.Spin) && t.IsWin() && !t.IsBonus() && !t.IsFreeSpins() && (i = !e || !this.initData.GamblingSettings.SkipGambleOnInit);
    var n = !1;
    this.initData.GamblingSettings.IsOccasionEnable(GamblingOccasions.FreeSpin) && t.IsWin() && t.IsFreeSpins() && t.VsFreeSpin.IsLastFreeSpin() && (n = !e || !this.initData.GamblingSettings.SkipGambleOnInit);
    var o = !1;
    this.initData.GamblingSettings.IsOccasionEnable(GamblingOccasions.Bonus) && t.IsBonus() && (o = !e || !this.initData.GamblingSettings.SkipGambleOnInit), t.VsGamblingButtonState = new VsGamblingButtonState(i, n, o)
}, GameConnection.prototype.HandleCollectResponse = function (t, e) {
    var i = e.ValuesMap,
        n = GameProtocolCommonParser.ParseBalance(i);
    null != n && EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest, n), this.HandleFreeRoundsUpdateOnCollect(i), EventManager.Queue(FOXVars.Evt_FOX_TriggerAfterEvent, FOXVars.Evt_FOX_AfterCollectReceived), this.requestState = RequestState.Idle, this.mustPostGameRoundEndedOnCollect && (UHTInterfaceBOSS.PostMessage("gameRoundEnded"), this.mustPostGameRoundEndedOnCollect = !1)
}, GameConnection.prototype.HandleInitBonusResponse = function (t, e) {
    var i = e.ValuesMap,
        n = VSProtocolParser.ParseVsResponse(i);
    n.NextGameActions = e.NextGameActions, n.IsBonus() && (EventManager.Queue(GameEvents.evtBonusInitResponse + this.symbol, n), EventManager.Queue(StageTransitionVars.Evt_StageTransition_SetWaitInTransition, !1)), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandlePickBonusResponse = function (t, e) {
    var i = e.ValuesMap,
        n = VSProtocolParser.ParseVsResponse(i);
    n.NextGameActions = e.NextGameActions, EventManager.Queue(GameEvents.evtBonusPickResponse + this.symbol, n), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandleBonusRespinResponse = function (t, e) {
    var i = e.ValuesMap; - 1 != e.NextGameActions.indexOf(NextGameAction.MysteryScatter) && null == i[GameProtocolDictionary.mysteryScatterGame] && (i[GameProtocolDictionary.mysteryScatterGame] = "1");
    var n = VSProtocolParser.ParseVsResponse(i);
    n.NextGameActions = e.NextGameActions, EventManager.Queue(GameEvents.evtBonusRespinResponse + this.symbol, n), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandleCollectBonusResponse = function (t, e) {
    var i = e.ValuesMap,
        n = GameProtocolCommonParser.ParseBalance(i);
    null != n && EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest, n), XT.TriggerEvent("PS_AnnounceResultShown"), this.HandleFreeRoundsUpdateOnCollect(i), EventManager.Queue(FOXVars.Evt_FOX_TriggerAfterEvent, FOXVars.Evt_FOX_AfterCollectBonusReceived), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandlePickFSOptionResponse = function (t, e) {
    var i = e.ValuesMap,
        n = VSProtocolParser.ParseVsResponse(i);
    n.NextGameActions = e.NextGameActions, EventManager.Queue(GameEvents.evtFSOptionsUpdate + this.symbol, n), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandleInitFSBGResponse = function (t, e) {
    var i = e.ValuesMap,
        n = VSProtocolParser.ParseVsResponse(i);
    n.NextGameActions = e.NextGameActions, EventManager.Queue(GameEvents.evtFSBGInitResponse + this.symbol, n), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandlePickFSBGResponse = function (t, e) {
    var i = e.ValuesMap,
        n = VSProtocolParser.ParseVsResponse(i);
    n.NextGameActions = e.NextGameActions, EventManager.Queue(GameEvents.evtFSBGPickResponse + this.symbol, n), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandleMysteryScatterResponse = function (t, e) {
    var i = e.ValuesMap,
        n = VSProtocolParser.ParseVsResponse(i);
    n.NextGameActions = e.NextGameActions, EventManager.Queue(GameEvents.evtMysteryScatterResponse + this.symbol, n), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandleGambleResponse = function (t, e) {
    var i = e.ValuesMap;
    if (!this.NoMoney(i)) {
        var n = GameProtocolGamblingParser.ParseVsGamblingResponse(i);
        EventManager.Queue(GameEvents.evtGambleResponse + this.symbol, n), this.requestState = RequestState.Idle
    }
}, GameConnection.prototype.HandleGambleCollectResponse = function (t, e) {
    var i = e.ValuesMap,
        n = GameProtocolCommonParser.ParseBalance(i);
    null != n && EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest, n), this.HandleFreeRoundsUpdateOnCollect(i), EventManager.Queue(FOXVars.Evt_FOX_TriggerAfterEvent, FOXVars.Evt_FOX_AfterGambleCollectReceived), this.requestState = RequestState.Idle
}, GameConnection.prototype.HandleJackpotCollectResponse = function (t, e) {
    var i = e.ValuesMap,
        n = GameProtocolCommonParser.ParseBalance(i);
    null != n && EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest, n), this.HandleFreeRoundsUpdateOnCollect(i), EventManager.Queue(FOXVars.Evt_FOX_TriggerAfterEvent, FOXVars.Evt_FOX_AfterJackpotCollectReceived), this.requestState = RequestState.Idle, null != this.srvResponse.NextGameActions && -1 != this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect) && this.SendCollectRequest()
}, GameConnection.prototype.HandlePlayJackpotResponse = function (t, e) {
    var i = e.ValuesMap,
        n = GameProtocolCommonParser.ParseBalance(i);
    null != n && EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest, n), EventManager.Queue(GameEvents.evtPlayJackpotResponse + this.symbol, VSProtocolParser.ParseVsJackpotData(i)), this.requestState = RequestState.Idle, null != this.srvResponse.NextGameActions && -1 != this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect) && this.SendCollectRequest()
}, GameConnection.prototype.HandleSettingsLoaded = function (t, e) {
    var i = new GameSettings;
    i.FromString(t), EventManager.Queue(GameEvents.evtSettingsUpdated + this.symbol, i)
}, GameConnection.prototype.HandleSettingSaved = function (t, e) {
    var i = new GameSettings;
    i.FromString(t), null == i.Settings.SoundState && (EventManager.Trigger(AdapterEvents.evtShowMessage, AdapterMessages.settingsNotSaved), EventManager.Queue(GameEvents.evtSettingsNotSaved, null))
}, GameConnection.prototype.NoMoney = function (t) {
    return null != t[GameProtocolDictionary.noMoney]
}, GameConnection.prototype.HandleFreeRoundsUpdateOnCollect = function (t) {
    var e = new VsResponse;
    e.FreeRound = VSProtocolParser.ParseVsFreeRound(t), e.FreeRoundEvents = VSProtocolParser.ParseVsFreeRoundEvents(t), EventManager.Queue(GameEvents.evtFreeRoundsUpdate, e)
}, GameConnection.prototype.HandleGambleV2Response = function (t, e) {
    var i = e.ValuesMap;
    EventManager.Queue(GameEvents.evtGambleResponse + this.symbol, GambleV2Protocol.Parser.ParseGambleData(i)), this.requestState = RequestState.Idle, null != this.srvResponse.NextGameActions && (this.srvResponse.NextGameActions.indexOf(NextGameAction.Collect) > -1 && this.SendCollectRequest(), this.srvResponse.NextGameActions.indexOf(NextGameAction.CollectBonus) > -1 && this.SendBonusCollectRequest(null))
}, GameConnection.prototype.SendGambleV2Request = function (t) {
    if (this.requestState, RequestState.Block, null != this.srvResponse.NextGameActions) {
        var e = this.srvResponse.NextGameActions.indexOf(NextGameAction.Gamble) > -1,
            i = this.srvResponse.NextGameActions.indexOf(NextGameAction.GambleOption) > -1;
        if (e || i) {
            var n = new RequestData;
            n.Fields = {}, n.Url = ServerOptions.serverUrl + ServerOptions.gameServiceUri, n.Fields[GameProtocolDictionary.symbol] = this.symbol, n.Fields.g_a = t < 0 ? "stand" : "gamble", e ? (n.Fields[GameProtocolDictionary.Actions.action] = GameProtocolDictionary.Actions.doGamble, n.Fields.g_ind = String(t)) : (n.Fields[GameProtocolDictionary.Actions.action] = "doGambleOption", n.Fields.g_o_ind = String(t)), this.requestState != RequestState.Idle ? (this.queuedState = RequestState.Gamble, this.queuedRequest = n) : (this.requestState = RequestState.Gamble, this.SendRequest(n))
        }
    }
}, GameConnection.prototype.CanRequest = function (t) {
    var e = !0;
    if (null != this.srvResponse && null != this.srvResponse.NextGameActions) switch (t) {
        case RequestState.Collect:
            e = this.IsNextAction(NextGameAction.Collect);
            break;
        case RequestState.Spin:
            e = this.IsNextAction(NextGameAction.Spin);
            break;
        case RequestState.Gamble:
            e = this.IsNextAction(NextGameAction.Gamble) || this.IsNextAction(NextGameAction.GambleOption);
            break;
        case RequestState.PickFSOption:
            e = this.IsNextAction(NextGameAction.FSOption);
            break;
        case RequestState.InitFSBG:
        case RequestState.PickFSBG:
            e = this.IsNextAction(NextGameAction.FSBonus);
            break;
        case RequestState.GetMysteryScatter:
            e = this.IsNextAction(NextGameAction.MysteryScatter);
            break;
        case RequestState.GambleCollect:
            e = this.IsNextAction(NextGameAction.GambleCollect);
            break;
        case RequestState.JackpotCollect:
            e = this.IsNextAction(NextGameAction.JackpotCollect);
            break;
        case RequestState.InitBonus:
        case RequestState.PickBonus:
        case RequestState.BonusRespin:
            e = this.IsNextAction(NextGameAction.Bonus);
            break;
        case RequestState.CollectBonus:
            e = this.IsNextAction(NextGameAction.Collect) || this.IsNextAction(NextGameAction.CollectBonus);
            break
    }
    return e
}, GameConnection.prototype.IsNextAction = function (t) {
    return null != this.srvResponse && null != this.srvResponse.NextGameActions && this.srvResponse.NextGameActions.indexOf(t) > -1
}, GameConnection.prototype.TriggerFOXAfterEvent = function (t) {
    XT.TriggerEvent(t)
}, GameConnection.prototype.WaitInTransition = function (t) {
    XT.SetBool(StageTransitionVars.StageTransition_WaitInTransition, t)
}, GameConnection.prototype.SetWaitInTransition = function (t) {
    this.WaitInTransition(t)
}, goog.require("UHT.ServerOptions"), goog.require("UHT.Component"), goog.require("UHT.ResourceRequest"), ResourceManager.prototype = Object.create(Component.prototype), ResourceManager.prototype.constructor = ResourceManager, ResourceManager.prototype.Start = function () {
    this.downloadQueue = [], this.waitingQueue = [], EventManager.AddHandler(ResourceEvents.evtRequestResources, this.OnResourcesRequest, this)
}, ResourceManager.prototype.Update = function () {
    var t;
    if (this.waitingQueue.length > 0) {
        for (t = 0; t < this.waitingQueue.length; ++t) this.downloadQueue.push(this.waitingQueue[t]);
        this.waitingQueue = []
    }
    if (this.downloadQueue.length > 0)
        for (t = 0; t < this.downloadQueue.length; ++t) this.downloadQueue[t].Update(), this.downloadQueue[t].isDone && (EventManager.Queue(ResourceEvents.evtResourcesCompleted + this.downloadQueue[t].componentName, this.downloadQueue[t].GetData()), this.downloadQueue.splice(t, 1))
}, ResourceManager.prototype.OnResourcesRequest = function (t) {
    if (null != UHT_RESOURCES) {
        globalTracking.StartTimer("uht_loading", "_X_apply_localization_packages", "LoadingTracker"), this.packagesInfo = UHT_PACKAGES_INFO_OBJ;
        var e = new BundlePack,
            i = new AssetBundle;
        i.mainAsset = jsonParse(UHT_RESOURCES.CURRENCY_PATCH), e.assetBundles.push(i);
        for (var n = 0; n < UHT_RESOURCES.LOCALIZATIONS.length; ++n) {
            var o = new AssetBundle;
            try {
                o.mainAsset = jsonParse(UHT_RESOURCES.LOCALIZATIONS[n])
            } catch (t) {
                o.mainAsset = JSON.parse(UHT_RESOURCES.LOCALIZATIONS[n])
            }
            e.assetBundles.push(o)
        }
        EventManager.Queue(ResourceEvents.evtResourcesCompleted + t, e), globalTracking.StopTimerAndSend("uht_loading", "_X_apply_localization_packages", "LoadingTracker"), UHT_RESOURCES = null
    } else if (null == this.packagesInfo) {
        var s = this;
        setTimeout((function () {
            s.OnResourcesRequest(t)
        }), 200)
    }
}, ResourceManager.prototype.RequestResources = function (t) {
    var e = new RequestPack;
    e.componentName = t.symbol;
    for (var i = 0; i < t.files.length; ++i) e.downloaders.push(new ResourceRequest({
        url: t.files[i]
    }));
    this.waitingQueue.push(e)
}, ResourceManager.prototype.InstLoadLanguage = function (t) {
    var e = this.packagesInfo;
    if (null != e.languages) {
        var i = new ResourceRequestInfo;
        i.symbol = t;
        for (var n = e.languages, o = ServerOptions.gameUrl + ServerOptions.packagesUri, s = (UHT_DEVICE_TYPE.MOBILE ? "_mobile" : "_desktop") + ".json", a = 0; a < n.length; ++a)
            if (n[a].language == t)
                for (var r = n[a].bundles, l = 0; l < r.length; ++l) i.files.push(o + r[l].name + s);
        this.RequestResources(i)
    }
}, ResourceManager.instance = null, ResourceManager.LoadLanguage = function (t) {
    var e = ResourceManager,
        i = ResourceManager.instance;
    null != i && null != i.packagesInfo ? (EventManager.AddHandler(ResourceEvents.evtResourcesCompleted + t, e.OnLanguageLoaded, e), i.InstLoadLanguage(t)) : setTimeout((function () {
        ResourceManager.LoadLanguage(t)
    }), 50)
}, ResourceManager.OnLanguageLoaded = function (t) {
    for (var e = 0; e < t.assetBundles.length; ++e) {
        var i = UHTEngine.LoadAssetBundle(t.assetBundles[e].mainAsset, ServerOptions.gameUrl + "packages/").GetComponent(ModificationsManager);
        null != i && i.Init()
    }
    t.assetBundles = []
}, goog.require("UHT.ServerOptions"), goog.provide("UHT.ServerHelpers");
var ServerHelpers = {
    CookiesRequest: function (t) {
        var e = new ServerRequest;
        e.Url = ServerOptions.serverUrl + "/gs2c/richcasino/index.jsp?lang=en", e.Handler = t, e.Method = "HEAD", RequestManager.AddRequest(e)
    },
    RequestApplicationConfiguration: function (t) {
        var e = new ServerRequest;
        e.Url = ServerOptions.serverUrl + ServerOptions.configUri, e.Handler = t, e.Method = "POST", e.KeepAlive = !0, e.AllowRedirect = !0, RequestManager.AddRequest(e)
    },
    LoginRequest: function (t, e, i) {
        var n = new ServerRequest,
            o = "?method=login&nic=" + t + "&pwd=" + e + "&acctype=R";
        n.Url = ServerOptions.serverUrl + ServerOptions.loginUri + o, n.Handler = i, n.Method = "POST", n.KeepAlive = !0, n.AllowRedirect = !0, RequestManager.AddRequest(n)
    },
    RequestGameConfiguration: function (t, e) {
        var i = new ServerRequest;
        i.Url = ServerOptions.serverUrl + ServerOptions.menuUri, i.Handler = e, i.Method = "POST", i.KeepAlive = !0, i.AllowRedirect = !0, i.Fields.method = "gameInfo", i.Fields[GameProtocolDictionary.symbol] = t, RequestManager.AddRequest(i)
    },
    RequestAcceptedVersions: function (t) {
        var e = new ServerRequest,
            i = "";
        i += ServerOptions.serverUrl, i += ServerOptions.versionUri, i += ServerHelpers.BuildGetParam(DefaultValues.UnityVars.bundleVersion, ServerOptions.resourceVersion), e.Url = i, e.Handler = t, e.Method = "GET", RequestManager.AddRequest(e)
    },
    ReloadBalance: function (t, e) {
        var i = new ServerRequest,
            n = "";
        n += ServerOptions.serverUrl, n += ServerOptions.reloadBalanceUri, i.Url = n, i.Handler = t, i.Method = "GET", e && (i.Fields.force = "true"), RequestManager.AddRequest(i)
    },
    ReloadJackpot: function (t, e) {
        var i = new ServerRequest,
            n = "";
        n += ServerOptions.serverUrl, n += ServerOptions.reloadJackpotUri, i.Url = n, i.Handler = e, i.Method = "POST", i.Fields[GameProtocolDictionary.symbol] = t, RequestManager.AddRequest(i)
    },
    RequestRegulationNotification: function (t) {
        var e = new ServerRequest,
            i = "";
        i += ServerOptions.SwedishRegulation.notificationUrl + "?mgckey=" + ServerOptions.mgckey, e.Url = i, e.Handler = t, e.Method = "GET", RequestManager.AddRequest(e)
    },
    BuildGetParam: function (t, e) {
        return "?" + t + "=" + e
    },
    BuildGetParams: function (t) {
        var e = [];
        for (var i in t) e.push([i, t[i]].join("="));
        return "?" + e.join("&")
    }
};
goog.provide("UHT.BalanceManager"), goog.require("UHT.ServerHelpers"), goog.require("UHT.EventManager"), goog.require("UHT.BalanceData");
var BalanceEvents = {
    evtBalanceUpdated: "evtBalanceUpdated",
    evtBalanceUpdateRequest: "evtBalanceUpdateRequest",
    evtBalanceUpdateFromAdapter: "evtBalanceUpdateFromAdapter",
    evtBalanceUpdateToAdapter: "evtBalanceUpdateToAdapter",
    evtUpdateBalance: "evtUpdateBalance",
    evtUpdateBalanceForced: "evtUpdateBalanceForced"
};

function BalanceManager() {
    this.data = null, this.maxBalanceDelay = 30, this.balanceRequestTimer = 0, this.requestInProgress = !1
}

function RequestData() {
    this.RequestMethod = "POST", this.Url = "", this.Fields = {}
}

function ResponseData(t, e) {
    this.StatusCode = t, this.Response = e
}

function ServerRequest() {
    this.Handler = null, this.responseHandler = null, this.Fields = {}, this.Url = "", this.Method = "GET", this.AllowRedirect = !1, this.KeepAlive = !1, this.PostData = "", this.ContentType = "application/x-www-form-urlencoded", this.request = null
}

function SwedishRegulationManager() {
    this.regulationRequestInterval = -1, this.regulationRequestTimer = 0, this.requestInProgress = !1, this.regulationTimerIsActive = !1, this.elapsedTime = 0, this.elapsedTimeContainerLandscape = null, this.elapsedTimeContainerPortrait = null, this.initialTime = 0, this.initialElapsedTime = 0
}

function TournamentConnection() {
    this.xtLayer = null, this.reloadEndedLeaderboardsInterval = 120, this.reloadLeaderboardsInterval = 30, this.leaderboardsTimer = 30, this.isReloadindLeaderboards = !1, this.leaderboardsDiscardedTime = 0, this.leaderboardsReloadedTime = 0, this.reloadTournamentsInterval = 300, this.tournamentsTimer = 300, this.isReloadindTournaments = !1, this.reloadRacePrizesInterval = 30, this.racePrizesTimer = 30, this.isReloadindRacePrizes = !1, this.reloadRaceWinnersInterval = 30, this.raceWinnersTimer = 30, this.isReloadindRaceWinners = !1, this.raceWinnersReloadedTime = 0, this.reloadTournamentScoresInterval = 30, this.tournamentScoresTimer = 30, this.isReloadingTournamentScores = !1, this.tournamentScoresDiscardedTime = 0, this.tournamentScoresReloadedTime = 0, this.tournamentIds = [], this.raceIds = [], this.tournamentsURL, this.detailsURL, this.leaderboardsURL, this.raceDetailsURL, this.racePrizesURL, this.raceWinnersURL, this.raceOptInURL, this.raceOptOutURL, this.tournamentOptInURL, this.tournamentOptOutURL, this.tournamentScoresURL, this.optRequests = {}, this.promoHolders = [], this.activeTournaments = !1, this.activeRaces = !1, this.isReloaded = !1, this.isRaceDetailsReloaded = !0, this.isRacePrizesReloaded = !0, this.isTournamentDetailsReloaded = !0, this.retryInterval = 2, this.reloadRaceDetails = !1, this.reloadRaceDetailsDelay = 0, this.reloadTournamentDetails = !1, this.reloadTournamentDetailsDelay = 0, this.hasUpdates = !1, this.canUpdate = !1, this.timesNumberOfPrizesAKAMaxLeaderboardPosition = 2;
    var t = new Array(2);
    t[0] = GameProtocolDictionary.symbol + "=" + ServerOptions.gameSymbol, t[1] = GameProtocolDictionary.mgckey + "=" + ServerOptions.mgckey;
    var e = t.join("&");
    this.tournamentsURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.tournaments, this.tournamentsURL += this.QueryPrefix(this.tournamentsURL) + e, this.detailsURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.details, this.detailsURL += this.QueryPrefix(this.detailsURL) + e, this.leaderboardsURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.leaderboards, this.leaderboardsURL += this.QueryPrefix(this.leaderboardsURL) + e, this.raceDetailsURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.raceDetails, this.raceDetailsURL += this.QueryPrefix(this.raceDetailsURL) + e, this.racePrizesURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.racePrizes, this.racePrizesURL += this.QueryPrefix(this.racePrizesURL) + e, this.raceWinnersURL = ServerOptions.serverUrl + "/gs2c/promo/race/v2/winners/", this.raceWinnersURL += this.QueryPrefix(this.raceWinnersURL) + e, this.raceOptInURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.raceOptIn, this.raceOptInURL += this.QueryPrefix(this.raceOptInURL) + e, this.raceOptOutURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.raceOptOut, this.raceOptOutURL += this.QueryPrefix(this.raceOptOutURL) + e, this.tournamentOptInURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.tournamentOptIn, this.tournamentOptInURL += this.QueryPrefix(this.tournamentOptInURL) + e, this.tournamentOptOutURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.tournamentOptOut, this.tournamentOptOutURL += this.QueryPrefix(this.tournamentOptOutURL) + e, this.tournamentScoresURL = ServerOptions.serverUrl + ServerOptions.TournamentURLs.tournamentScores, this.tournamentScoresURL += this.QueryPrefix(this.tournamentScoresURL) + e, this.tournamentsReloadedHandler = new EventHandler(this, this.OnTournamentsReloaded), this.leaderboardReloadedHandler = new EventHandler(this, this.OnLeaderboardReloaded), this.tournamentScoresReloadedHandler = new EventHandler(this, this.OnTournamentScoresReloaded), this.racePrizesReloadedHandler = new EventHandler(this, this.OnRacePrizesReloaded), this.detailsReloadedHandler = new EventHandler(this, this.OnDetailsReloaded), this.raceDetailsReloadedHandler = new EventHandler(this, this.OnRaceDetailsReloaded), this.raceWinnersReloadedHandler = new EventHandler(this, this.OnRaceWinnersReloaded), this.ldbItemTitle_0 = null, this.ldbItemTitle_1 = null, this.updateWinnerPrizesWhenDetailsReloaded = !1, this.convertLeaderboardWhenDetailsReloaded = !1, this.promotionsOpen = !1, this.leaderboardOpen = !1, this.selectedPromoHolder = null, TournamentConnection.instance = this
}
BalanceManager.I = null, BalanceManager.prototype.Init = function () {
    BalanceManager.I = this, this.requestInProgress = !1, EventManager.AddHandler(BalanceEvents.evtBalanceUpdateRequest, this.OnUpdateRequest, this), EventManager.AddHandler(BalanceEvents.evtBalanceUpdateFromAdapter, this.OnBalanceUpdateFromAdapter, this), EventManager.AddHandler(BalanceEvents.evtUpdateBalance, this.OnUpdateBalance, this), EventManager.AddHandler(BalanceEvents.evtUpdateBalanceForced, this.OnUpdateBalanceForced, this)
}, BalanceManager.prototype.OnUpdateRequest = function (t) {
    var e = t;
    (null == this.data || e.Time > this.data.Time) && (this.balanceRequestTimer = 0, this.data = e, EventManager.Queue(BalanceEvents.evtBalanceUpdated, this.data), EventManager.Queue(BalanceEvents.evtBalanceUpdateToAdapter, this.data))
}, BalanceManager.prototype.OnBalanceUpdateFromAdapter = function (t) {
    var e = t;
    (null == this.data || e.Time > this.data.Time) && (this.balanceRequestTimer = 0, this.data = e, EventManager.Queue(BalanceEvents.evtBalanceUpdated, this.data))
}, BalanceManager.prototype.Update = function () {
    this.balanceRequestTimer += Time.deltaTime, this.requestInProgress || this.balanceRequestTimer > this.maxBalanceDelay && (this.requestInProgress = !0, ServerHelpers.ReloadBalance(new EventHandler(this, this.BalanceReloadCallback), !1))
}, BalanceManager.prototype.BalanceReloadCallback = function (t, e) {
    var i = String(t).split("&"),
        n = GameProtocolCommonParser.SplitResponseContent(i),
        o = GameProtocolCommonParser.ParseBalance(n);
    null != o && (this.requestInProgress = !1, this.OnUpdateRequest(o))
}, BalanceManager.prototype.OnUpdateBalance = function () {
    ServerHelpers.ReloadBalance(new EventHandler(this, this.BalanceReloadCallback), !1)
}, BalanceManager.prototype.OnUpdateBalanceForced = function () {
    ServerHelpers.ReloadBalance(new EventHandler(this, this.BalanceReloadCallback), !0)
}, goog.require("UHT.SimpleWebRequest"), ServerRequest.prototype.IsDone = function () {
    return null != this.request && this.request.Done
}, ServerRequest.prototype.Start = function () {
    if (_string.IsNullOrEmpty(this.PostData)) {
        var t = [];
        for (var e in this.Fields) t.push(e + "=" + this.Fields[e]);
        this.PostData = t.join("&")
    }
    this.request = RequestProvider.Instance.NewRequest({
        url: this.Url,
        method: this.Method,
        postData: this.PostData,
        contentType: this.ContentType
    })
}, ServerRequest.prototype.Finish = function () {
    null != this.Handler && this.Handler.call(this.request.Data, this.request.statusCode), null != this.responseHandler && this.responseHandler.call(this.request.Data, this.request.statusCode, this), -1 != String(this.request.Data).indexOf(GameProtocolDictionary.unlogged) && (RequestManager.blockRequests = !0), EventManager.Trigger(ApplicationEvents.evtServerResponse, new ResponseData(this.request.statusCode, this.request.Data))
}, goog.provide("UHT.SwedishRegulationManager"), goog.require("UHT.ServerHelpers"), goog.require("UHT.EventManager"), SwedishRegulationManager.instance = null, SwedishRegulationManager.prototype.Init = function () {
    SwedishRegulationManager.instance = this, this.requestInProgress = !1, null != UHT_GAME_CONFIG.REGULATION_NOTIFICATION_INTERVAL && (isNaN(parseInt(UHT_GAME_CONFIG.REGULATION_NOTIFICATION_INTERVAL, 10)) || (this.regulationRequestInterval = parseInt(UHT_GAME_CONFIG.REGULATION_NOTIFICATION_INTERVAL, 10)));
    var t = !1;
    UHT_GAME_CONFIG.selftestUrl && UHT_GAME_CONFIG.pauseplayUrl && UHT_GAME_CONFIG.playlimitUrl && (t = !0), UHT_GAME_CONFIG.elapsedTime && (this.initialElapsedTime = parseInt(UHT_GAME_CONFIG.elapsedTime, 10), this.regulationTimerIsActive = !0), (t || this.regulationTimerIsActive) && (this.InjectRegulationContainers(t), EventManager.AddHandler("EVT_UHT_RESIZE", this.OnUHTResize, this), this.OnUHTResize(null)), this.elapsedTime = this.initialElapsedTime, this.initialTime = (new Date).getTime()
}, SwedishRegulationManager.prototype.Update = function () {
    this.regulationRequestInterval > 0 && (this.regulationRequestTimer += Time.deltaTime, this.requestInProgress || this.regulationRequestTimer > this.regulationRequestInterval && (this.requestInProgress = !0, ServerHelpers.RequestRegulationNotification(new EventHandler(this, this.RegulationRequestCallback), !1))), this.regulationTimerIsActive && this.UpdateTimer()
}, SwedishRegulationManager.prototype.RegulationRequestCallback = function (t, e) {
    null != t && (this.requestInProgress = !1, this.regulationRequestTimer = 0)
}, SwedishRegulationManager.prototype.InjectRegulationContainers = function (t) {
    var e = "";
    e = "Mobile" == document.documentElement.id ? '<div class="RGSContainerActive" style="display: block;" data-height="25"><div id="RGSPortrait" style="margin-left: auto; margin-right: auto; width: 100%; display:block; white-space: nowrap;"> <a href="#" class="PausePlay" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Spelpaus" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTg0LjkgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTg0LjkgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6I0UyMEQxODt9PC9zdHlsZT48Zz48cmVjdCB4PSIwLjUiIHk9IjAuNSIgY2xhc3M9InN0MCIgd2lkdGg9IjE4My45IiBoZWlnaHQ9IjUyLjQiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTgzLjksMXY1MS40SDFWMUgxODMuOSBNMTg0LjksMEgwdjUzLjRoMTg0LjlWMEwxODQuOSwweiIvPjwvZz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTMuMywyNi44QzUzLjMsMzguNSw0My44LDQ4LDMyLDQ4Yy0xMS43LDAtMjEuMy05LjUtMjEuMy0yMS4zQzEwLjgsMTUsMjAuMyw1LjUsMzIsNS41QzQzLjgsNS41LDUzLjMsMTUsNTMuMywyNi44eiIvPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03Ny4xLDMwLjVjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuMywxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTNoMC4yYzAuOSwwLjcsMS45LDEuMywzLjEsMS43czIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNHMtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN2MtMC44LTAuOC0xLjEtMS45LTEuMS0zLjFjMC0xLjUsMC42LTIuNywxLjktMy42YzEuMy0wLjksMi44LTEuNCw0LjgtMS40YzEuMiwwLDIuNCwwLjEsMy40LDAuNGMxLDAuMiwyLDAuNSwyLjgsMC45djIuOGgtMC4yYy0wLjctMC42LTEuNi0xLTIuNy0xLjRjLTEuMS0wLjQtMi4yLTAuNi0zLjQtMC42Yy0xLjMsMC0yLjMsMC4zLTMsMC44Yy0wLjgsMC41LTEuMSwxLjItMS4xLDJjMCwwLjcsMC4yLDEuMywwLjYsMS43YzAuNCwwLjQsMS4xLDAuNywyLDFjMC41LDAuMSwxLjIsMC4yLDIuMiwwLjRjMC45LDAuMiwxLjcsMC4zLDIuNCwwLjVjMS4zLDAuMywyLjMsMC45LDMsMS42Qzc2LjcsMjguMiw3Ny4xLDI5LjIsNzcuMSwzMC41eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Mi42LDI4LjhjMCwxLjEtMC4yLDIuMS0wLjUsM2MtMC4zLDAuOS0wLjcsMS42LTEuMywyLjNjLTAuNSwwLjYtMS4xLDEtMS45LDEuNHMtMS41LDAuNS0yLjMsMC41Yy0wLjcsMC0xLjMtMC4xLTEuOS0wLjJjLTAuNi0wLjItMS4xLTAuNC0xLjctMC43djUuNmgtMi4yVjIyLjNoMi4ydjEuNGMwLjYtMC41LDEuMy0wLjksMi0xLjNjMC43LTAuMywxLjUtMC41LDIuNC0wLjVjMS42LDAsMi44LDAuNiwzLjcsMS44QzkyLjIsMjQuOSw5Mi42LDI2LjYsOTIuNiwyOC44eiBNOTAuMywyOC44YzAtMS42LTAuMy0yLjgtMC44LTMuNkM4OC45LDI0LjQsODguMSwyNCw4NywyNGMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M4OS45LDMxLjcsOTAuMywzMC41LDkwLjMsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA3LjUsMjkuMWgtOS44YzAsMC44LDAuMSwxLjUsMC40LDIuMWMwLjIsMC42LDAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOGMtMC44LDAuMi0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOHMtMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZjMSwxLDEuNSwyLjUsMS41LDQuNVYyOS4xeiBNMTA1LjMsMjcuNGMwLTEuMi0wLjMtMi4xLTAuOS0yLjdjLTAuNi0wLjYtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTA1LjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTExMy4zLDM1LjZoLTIuMlYxN2gyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTI5LjcsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjksMS40cy0xLjUsMC41LTIuMywwLjVjLTAuNywwLTEuMy0wLjEtMS45LTAuMmMtMC42LTAuMi0xLjEtMC40LTEuNy0wLjd2NS42SDExOFYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEMxMjkuMywyNC45LDEyOS43LDI2LjYsMTI5LjcsMjguOHogTTEyNy40LDI4LjhjMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0MxMjcuMSwzMS43LDEyNy40LDMwLjUsMTI3LjQsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTQzLjgsMzUuNmgtMi4ydi0xLjRjLTAuMiwwLjEtMC41LDAuMy0wLjgsMC42Yy0wLjMsMC4yLTAuNywwLjQtMSwwLjZjLTAuNCwwLjItMC44LDAuMy0xLjMsMC41Yy0wLjUsMC4xLTEuMSwwLjItMS43LDAuMmMtMS4yLDAtMi4yLTAuNC0zLTEuMnMtMS4yLTEuOC0xLjItM2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM2MtMC4yLTAuMy0wLjQtMC42LTAuOC0wLjhjLTAuMy0wLjItMC43LTAuMy0xLjEtMC40cy0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJzLTEuNSwwLjQtMi4yLDAuN2gtMC4xdi0yLjNjMC40LTAuMSwxLjEtMC4zLDEuOS0wLjRjMC44LTAuMSwxLjYtMC4yLDIuNC0wLjJjMC45LDAsMS44LDAuMSwyLjQsMC4yYzAuNywwLjIsMS4zLDAuNCwxLjgsMC44YzAuNSwwLjQsMC45LDAuOCwxLjEsMS40czAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTQxLjUsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNDAuNCwzMy4xLDE0MSwzMi43LDE0MS41LDMyLjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1OS4zLDM1LjZoLTIuMnYtMS41Yy0wLjgsMC42LTEuNSwxLjEtMi4yLDEuNHMtMS41LDAuNS0yLjMsMC41Yy0xLjQsMC0yLjUtMC40LTMuMy0xLjNzLTEuMi0yLjEtMS4yLTMuOHYtOC42aDIuMnY3LjZjMCwwLjcsMCwxLjMsMC4xLDEuN2MwLjEsMC41LDAuMiwwLjksMC40LDEuMmMwLjIsMC4zLDAuNSwwLjYsMC44LDAuOGMwLjMsMC4yLDAuOCwwLjIsMS41LDAuMmMwLjYsMCwxLjItMC4yLDEuOS0wLjVjMC43LTAuMywxLjMtMC43LDEuOS0xLjJ2LTkuOWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTczLjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM2MwLjksMC4zLDEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zczAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTczLjIsMzAsMTczLjUsMzAuOCwxNzMuNSwzMS43eiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjcsMzcuNWgtNi4yYy0wLjUsMC0wLjktMC40LTAuOS0wLjlWMTYuOWMwLTAuNSwwLjQtMC45LDAuOS0wLjloNi4yYzAuNSwwLDAuOSwwLjQsMC45LDAuOXYxOS43QzI5LjYsMzcuMSwyOS4yLDM3LjUsMjguNywzNy41eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MS41LDM3LjZoLTYuMmMtMC41LDAtMC45LTAuNC0wLjktMC45VjE2LjljMC0wLjUsMC40LTAuOSwwLjktMC45aDYuMmMwLjUsMCwwLjksMC40LDAuOSwwLjl2MTkuN0M0Mi40LDM3LjIsNDIsMzcuNiw0MS41LDM3LjZ6Ii8+PC9zdmc+"/> </a> <a href="#" class="SelfTest" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Självtest" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTgwLjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTgwLjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6bm9uZTtzdHJva2U6dXJsKCNTVkdJRF8xXyk7c3Ryb2tlLXdpZHRoOjYuNzc0MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LnN0M3tmaWxsOiMxRTFFMUM7fTwvc3R5bGU+PGc+PHJlY3QgeD0iMC41IiB5PSIwLjUiIGNsYXNzPSJzdDAiIHdpZHRoPSIxNzkuNSIgaGVpZ2h0PSI1Mi40Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3OS41LDF2NTEuNEgxVjFIMTc5LjUgTTE4MC42LDBIMHY1My40aDE4MC42VjBMMTgwLjYsMHoiLz48L2c+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTMxLjksNDcuOGMtNS41LTAuMS0xMC43LTIuMy0xNC42LTYuMmMtMy45LTQtNi05LjItNS45LTE0LjhjMC4xLTExLjMsOS40LTIwLjYsMjAuOC0yMC42bDAuMiwwYzUuNSwwLjEsMTAuNywyLjMsMTQuNiw2LjJjMy45LDQsNiw5LjIsNS45LDE0LjhjLTAuMSwxMS4zLTkuNCwyMC42LTIwLjgsMjAuNkwzMS45LDQ3Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTMyLjEsNS43djFsMC4yLDBjNS40LDAuMSwxMC41LDIuMiwxNC4zLDYuMWMzLjgsMy45LDUuOCw5LDUuOCwxNC40Yy0wLjEsMTEuMS05LjIsMjAuMS0yMC4zLDIwLjFsLTAuMiwwYy01LjQtMC4xLTEwLjUtMi4yLTE0LjMtNi4xYy0zLjgtMy45LTUuOC05LTUuOC0xNC40YzAuMS0xMS4xLDkuMi0yMC4xLDIwLjMtMjAuMUwzMi4xLDUuNyBNMzIuMSw1LjdjLTExLjYsMC0yMS4xLDkuNC0yMS4zLDIxYy0wLjEsMTEuNyw5LjMsMjEuNCwyMSwyMS41YzAuMSwwLDAuMSwwLDAuMiwwYzExLjYsMCwyMS4xLTkuNCwyMS4zLTIxYzAuMS0xMS43LTkuMy0yMS40LTIxLTIxLjVDMzIuMyw1LjcsMzIuMiw1LjcsMzIuMSw1LjdMMzIuMSw1Ljd6Ii8+PC9nPjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTMuMzkwNCIgeTE9Ii0zMDMuMjA3NyIgeDI9IjUwLjYwNDMiIHkyPSItMzAzLjIwNzciIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIC0xIDY0LjAwMDUgLTI4My41MzY1KSI+PHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0U0MTkxMyIvPjxzdG9wICBvZmZzZXQ9IjkuNzQ0MDIwZS0wMiIgc3R5bGU9InN0b3AtY29sb3I6I0VBNjUxNiIvPjxzdG9wICBvZmZzZXQ9IjAuMjE0OCIgc3R5bGU9InN0b3AtY29sb3I6I0YzQTUxOCIvPjxzdG9wICBvZmZzZXQ9IjAuMzEyMSIgc3R5bGU9InN0b3AtY29sb3I6I0Y5Q0QxQSIvPjxzdG9wICBvZmZzZXQ9IjAuMzg0IiBzdHlsZT0ic3RvcC1jb2xvcjojRkRFMzFBIi8+PHN0b3AgIG9mZnNldD0iMC40MjI4IiBzdHlsZT0ic3RvcC1jb2xvcjojRkVFQjFBIi8+PHN0b3AgIG9mZnNldD0iMC42MjMxIiBzdHlsZT0ic3RvcC1jb2xvcjojREZERTIwIi8+PHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwOTI0NSIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggY2xhc3M9InN0MiIgZD0iTTQ3LjIsMjYuN2MtMi4yLTE4LjYtMjcuOC0xOS0zMC40LDAiLz48Zz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjcuNywyNy4zbDguOC0xNS44bC0xLjgsMThjLTAuNiwxLjktMi43LDMtNC42LDIuNFMyNy4xLDI5LjIsMjcuNywyNy4zeiIvPjwvZz48Zz48Zz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNzYuNSwzMC41YzAsMC43LTAuMiwxLjQtMC41LDJzLTAuOCwxLjItMS40LDEuN2MtMC42LDAuNS0xLjQsMC45LTIuMiwxLjJjLTAuOCwwLjMtMS45LDAuNC0zLjEsMC40Yy0xLjMsMC0yLjQtMC4xLTMuNC0wLjRjLTEtMC4yLTIuMS0wLjYtMy4xLTEuMXYtM0g2M2MwLjksMC43LDEuOSwxLjMsMy4xLDEuN2MxLjIsMC40LDIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNGMtMC43LTAuMS0xLjQtMC4yLTIuMi0wLjRjLTEuNi0wLjMtMi43LTAuOS0zLjUtMS43Yy0wLjgtMC44LTEuMS0xLjktMS4xLTMuMWMwLTEuNSwwLjYtMi43LDEuOS0zLjZjMS4zLTAuOSwyLjgtMS40LDQuOC0xLjRjMS4yLDAsMi40LDAuMSwzLjQsMC40YzEsMC4yLDIsMC41LDIuOCwwLjl2Mi44aC0wLjJjLTAuNy0wLjYtMS42LTEtMi43LTEuNGMtMS4xLTAuNC0yLjItMC42LTMuNC0wLjZjLTEuMywwLTIuMywwLjMtMywwLjhjLTAuOCwwLjUtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzYuMSwyOC4zLDc2LjUsMjkuMyw3Ni41LDMwLjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTg0LjMsMzUuOWMwLDEuNi0wLjQsMi43LTEuMiwzLjVzLTEuOSwxLjItMy4yLDEuMmMtMC4zLDAtMC43LDAtMS4zLTAuMWMtMC41LTAuMS0xLTAuMS0xLjMtMC4ydi0yLjFoMC4xYzAuMiwwLjEsMC41LDAuMiwwLjksMC4zYzAuNCwwLjEsMC43LDAuMiwxLjEsMC4yYzAuNiwwLDEtMC4xLDEuNC0wLjJjMC4zLTAuMiwwLjYtMC40LDAuOC0wLjdjMC4yLTAuMywwLjMtMC43LDAuMy0xLjFjMC4xLTAuNCwwLjEtMSwwLjEtMS42VjI0LjJoLTIuOHYtMS45aDVWMzUuOXogTTg0LjUsMjAuMWgtMi41di0yLjNoMi41VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTk5LjMsMzUuNkg5N3YtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yQzg4LjQsMzQsODgsMzMsODgsMzEuN2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM3MtMC40LTAuNi0wLjgtMC44Yy0wLjMtMC4yLTAuNy0wLjMtMS4xLTAuNGMtMC40LTAuMS0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJjLTAuNywwLjItMS41LDAuNC0yLjIsMC43aC0wLjF2LTIuM2MwLjQtMC4xLDEuMS0wLjMsMS45LTAuNGMwLjgtMC4xLDEuNi0wLjIsMi40LTAuMmMwLjksMCwxLjgsMC4xLDIuNCwwLjJjMC43LDAuMiwxLjMsMC40LDEuOCwwLjhjMC41LDAuNCwwLjksMC44LDEuMSwxLjRzMC40LDEuMywwLjQsMi4yVjM1LjZ6IE05NywzMi4zdi0zLjdjLTAuNywwLTEuNSwwLjEtMi40LDAuMlM5MywyOSw5Mi40LDI5LjFjLTAuNiwwLjItMS4yLDAuNS0xLjYsMC45Yy0wLjQsMC40LTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdjMC41LDAuNCwxLjIsMC42LDIuMSwwLjZjMC44LDAsMS41LTAuMiwyLjItMC41Qzk1LjksMzMuMSw5Ni41LDMyLjcsOTcsMzIuM3ogTTkyLjgsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6IE05Ny44LDIwLjFoLTIuNHYtMi4zaDIuNFYyMC4xeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMDYuMSwzNS42aC0yLjJWMTcuMWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTIyLjIsMjIuM2wtNS40LDEzLjNoLTIuMmwtNS4zLTEzLjNoMi40bDQuMSwxMC42bDQuMS0xMC42SDEyMi4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMzIuMywzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE0Ni40LDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45YzAuNiwwLjIsMS4yLDAuMywxLjksMC4zYzAuOSwwLDEuOC0wLjIsMi43LTAuNWMwLjktMC40LDEuNi0wLjcsMi0xLjFoMC4xdjIuNGMtMC44LDAuMy0xLjUsMC42LTIuMywwLjhzLTEuNiwwLjMtMi41LDAuM2MtMi4yLDAtMy45LTAuNi01LjItMS44Yy0xLjItMS4yLTEuOS0yLjktMS45LTUuMWMwLTIuMiwwLjYtMy45LDEuOC01LjJjMS4yLTEuMywyLjctMS45LDQuNy0xLjljMS44LDAsMy4yLDAuNSw0LjEsMS42YzEsMSwxLjUsMi41LDEuNSw0LjVWMjkuMnogTTE0NC4yLDI3LjVjMC0xLjItMC4zLTIuMS0wLjktMi43cy0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxNDQuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU5LjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM3MxLjcsMC41LDIuNSwwLjVjMSwwLDEuOC0wLjIsMi4zLTAuNWMwLjYtMC4zLDAuOC0wLjgsMC44LTEuNWMwLTAuNS0wLjItMC45LTAuNS0xLjJzLTAuOS0wLjUtMS43LTAuN2MtMC4zLTAuMS0wLjctMC4yLTEuMi0wLjNjLTAuNS0wLjEtMS0wLjItMS40LTAuM2MtMS4yLTAuMy0yLTAuOC0yLjUtMS40Yy0wLjUtMC42LTAuNy0xLjMtMC43LTIuMmMwLTAuNSwwLjEtMS4xLDAuMy0xLjVjMC4yLTAuNSwwLjYtMC45LDEtMS4zYzAuNC0wLjQsMS0wLjcsMS43LTAuOWMwLjctMC4yLDEuNS0wLjMsMi4zLTAuM2MwLjgsMCwxLjYsMC4xLDIuNCwwLjNjMC44LDAuMiwxLjUsMC40LDIsMC43djIuNGgtMC4xYy0wLjYtMC40LTEuMy0wLjgtMi4xLTEuMWMtMC44LTAuMy0xLjYtMC40LTIuNC0wLjRjLTAuOCwwLTEuNSwwLjItMi4xLDAuNWMtMC42LDAuMy0wLjgsMC44LTAuOCwxLjRjMCwwLjUsMC4yLDEsMC41LDEuMmMwLjMsMC4zLDAuOSwwLjUsMS42LDAuN2MwLjQsMC4xLDAuOSwwLjIsMS40LDAuM2MwLjUsMC4xLDAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTU5LjIsMzAsMTU5LjUsMzAuOCwxNTkuNSwzMS43eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNjkuOSwzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PC9nPjwvZz48L3N2Zz4="/> </a> <a href="#" class="PlayLimit" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Spelgränser" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjE5LjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjE5LjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6IzAwOTczOTt9LnN0M3tmaWxsOiNGRkZGRkY7c3Ryb2tlOiMwMDk3Mzk7c3Ryb2tlLXdpZHRoOjMuODcxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uc3Q0e2ZpbGw6bm9uZTtzdHJva2U6IzAwOTczOTtzdHJva2Utd2lkdGg6MS45MzU1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO308L3N0eWxlPjxnPjxyZWN0IHg9IjAuNSIgeT0iMC41IiBjbGFzcz0ic3QwIiB3aWR0aD0iMjE4LjUiIGhlaWdodD0iNTIuNCIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMTguNSwxdjUxLjRIMVYxSDIxOC41IE0yMTkuNiwwSDB2NTMuNGgyMTkuNlYwTDIxOS42LDB6Ii8+PC9nPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03OC4yLDMwLjZjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuNCwxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTIuOWgwLjJjMC45LDAuNywxLjksMS4zLDMuMSwxLjdjMS4yLDAuNCwyLjMsMC42LDMuMywwLjZjMS41LDAsMi42LTAuMywzLjQtMC44YzAuOC0wLjUsMS4yLTEuMywxLjItMi4yYzAtMC44LTAuMi0xLjQtMC42LTEuN3MtMS0wLjctMS44LTAuOWMtMC42LTAuMi0xLjItMC4zLTEuOS0wLjRjLTAuNy0wLjEtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN3MtMS4xLTEuOS0xLjEtMy4xYzAtMS41LDAuNi0yLjcsMS45LTMuNmMxLjMtMC45LDIuOC0xLjQsNC44LTEuNGMxLjIsMCwyLjQsMC4xLDMuNCwwLjRjMSwwLjIsMiwwLjUsMi44LDAuOXYyLjhoLTAuMmMtMC43LTAuNi0xLjYtMS0yLjctMS40Yy0xLjEtMC40LTIuMi0wLjYtMy40LTAuNmMtMS4zLDAtMi4zLDAuMy0zLDAuOHMtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzcuOSwyOC4zLDc4LjIsMjkuMyw3OC4yLDMwLjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTkzLjYsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjgsMS40Yy0wLjcsMC4zLTEuNSwwLjUtMi4zLDAuNWMtMC43LDAtMS4zLTAuMS0xLjktMC4yYy0wLjYtMC4yLTEuMS0wLjQtMS43LTAuN3Y1LjZoLTIuMlYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEM5My4yLDI1LDkzLjYsMjYuNyw5My42LDI4Ljh6IE05MS4zLDI4LjljMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M5MSwzMS44LDkxLjMsMzAuNSw5MS4zLDI4Ljl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwOC4zLDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45czEuMiwwLjMsMS45LDAuM2MwLjksMCwxLjgtMC4yLDIuNy0wLjVjMC45LTAuNCwxLjYtMC43LDItMS4xaDAuMXYyLjRjLTAuOCwwLjMtMS41LDAuNi0yLjMsMC44cy0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOGMtMS4yLTEuMi0xLjktMi45LTEuOS01LjFjMC0yLjIsMC42LTMuOSwxLjgtNS4yYzEuMi0xLjMsMi43LTEuOSw0LjctMS45YzEuOCwwLDMuMiwwLjUsNC4xLDEuNmMxLDEsMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xMDYuMiwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN2MtMC42LTAuNi0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxMDYuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTE0LjEsMzUuNmgtMi4yVjE3LjFoMi4yVjM1LjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEyOS40LDM0LjFjMCwyLjMtMC41LDMuOS0xLjUsNWMtMSwxLjEtMi42LDEuNi00LjcsMS42Yy0wLjcsMC0xLjQsMC0yLjEtMC4xYy0wLjctMC4xLTEuMy0wLjItMi0wLjR2LTIuM2gwLjFjMC40LDAuMSwwLjksMC4zLDEuNywwLjVzMS42LDAuMywyLjQsMC4zYzAuOCwwLDEuNC0wLjEsMS45LTAuM2MwLjUtMC4yLDAuOS0wLjQsMS4yLTAuOGMwLjMtMC4zLDAuNS0wLjcsMC42LTEuMWMwLjEtMC40LDAuMi0wLjksMC4yLTEuNXYtMS4yYy0wLjcsMC41LTEuMywwLjktMS45LDEuMnMtMS40LDAuNC0yLjMsMC40Yy0xLjYsMC0yLjgtMC42LTMuOC0xLjdjLTAuOS0xLjEtMS40LTIuOC0xLjQtNC44YzAtMS4xLDAuMi0yLjEsMC41LTNjMC4zLTAuOCwwLjgtMS41LDEuMy0yLjFjMC41LTAuNiwxLjEtMSwxLjktMS4zYzAuNy0wLjMsMS41LTAuNSwyLjItMC41YzAuOCwwLDEuNCwwLjEsMS45LDAuMnMxLjEsMC40LDEuNiwwLjdsMC4xLTAuNmgyLjFWMzQuMXogTTEyNy4yLDMydi03LjJjLTAuNi0wLjMtMS4xLTAuNS0xLjctMC42Yy0wLjUtMC4xLTEtMC4yLTEuNS0wLjJjLTEuMiwwLTIuMiwwLjQtMi45LDEuMnMtMS4xLDItMS4xLDMuNmMwLDEuNSwwLjMsMi42LDAuOCwzLjRjMC41LDAuOCwxLjQsMS4yLDIuNiwxLjJjMC43LDAsMS4zLTAuMSwyLTAuNFMxMjYuNiwzMi40LDEyNy4yLDMyeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNDIuMiwyNC44aC0wLjFjLTAuMy0wLjEtMC43LTAuMS0xLTAuMmMtMC4zLDAtMC43LTAuMS0xLjEtMC4xYy0wLjcsMC0xLjQsMC4yLTIsMC41Yy0wLjYsMC4zLTEuMywwLjctMS45LDEuMnY5LjRIMTM0VjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1NC44LDM1LjZoLTIuMnYtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yYy0wLjgtMC44LTEuMi0xLjgtMS4yLTNjMC0xLDAuMi0xLjgsMC42LTIuNGMwLjQtMC42LDEtMS4xLDEuOC0xLjVjMC44LTAuNCwxLjgtMC42LDIuOS0wLjdzMi40LTAuMiwzLjctMC4zdi0wLjNjMC0wLjUtMC4xLTAuOS0wLjMtMS4zYy0wLjItMC4zLTAuNC0wLjYtMC44LTAuOGMtMC4zLTAuMi0wLjctMC4zLTEuMS0wLjRDMTUwLDI0LDE0OS41LDI0LDE0OSwyNGMtMC42LDAtMS4yLDAuMS0yLDAuMmMtMC43LDAuMi0xLjUsMC40LTIuMiwwLjdoLTAuMXYtMi4zYzAuNC0wLjEsMS4xLTAuMiwxLjktMC40YzAuOC0wLjEsMS42LTAuMiwyLjQtMC4yYzAuOSwwLDEuOCwwLjEsMi40LDAuMmMwLjcsMC4yLDEuMywwLjQsMS44LDAuOGMwLjUsMC40LDAuOSwwLjgsMS4xLDEuNGMwLjMsMC42LDAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTUyLjYsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNTEuNCwzMy4xLDE1MiwzMi44LDE1Mi42LDMyLjN6IE0xNDguNCwyMC4xSDE0NnYtMi4zaDIuNFYyMC4xeiBNMTUzLjMsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3MC4zLDM1LjZoLTIuMnYtNy42YzAtMC42LDAtMS4yLTAuMS0xLjdzLTAuMi0xLTAuNC0xLjNjLTAuMi0wLjMtMC41LTAuNi0wLjktMC43Yy0wLjQtMC4yLTAuOS0wLjItMS41LTAuMmMtMC42LDAtMS4yLDAuMi0xLjksMC41Yy0wLjcsMC4zLTEuMywwLjctMS45LDEuMnY5LjloLTIuMlYyMi4zaDIuMnYxLjVjMC43LTAuNiwxLjQtMSwyLjItMS40YzAuNy0wLjMsMS41LTAuNSwyLjMtMC41YzEuNCwwLDIuNSwwLjQsMy4zLDEuM2MwLjgsMC45LDEuMSwyLjEsMS4xLDMuN1YzNS42eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xODQuMywzMS44YzAsMS4yLTAuNSwyLjItMS41LDNjLTEsMC44LTIuNCwxLjItNC4xLDEuMmMtMSwwLTEuOS0wLjEtMi43LTAuNGMtMC44LTAuMi0xLjUtMC41LTIuMS0wLjh2LTIuNWgwLjFjMC43LDAuNSwxLjUsMSwyLjQsMS4zczEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zYzAuNSwwLjEsMC45LDAuMiwxLjMsMC4zYzEsMC4yLDEuOCwwLjYsMi40LDEuMkMxODQsMzAsMTg0LjMsMzAuOCwxODQuMywzMS44eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOTguNywyOS4yaC05LjhjMCwwLjgsMC4xLDEuNSwwLjQsMi4xczAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOHMtMS42LDAuMy0yLjUsMC4zYy0yLjIsMC0zLjktMC42LTUuMi0xLjhjLTEuMi0xLjItMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZzMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xOTYuNSwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN3MtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTk2LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTIxMC41LDI0LjhoLTAuMWMtMC4zLTAuMS0wLjctMC4xLTEtMC4yYy0wLjMsMC0wLjctMC4xLTEuMS0wLjFjLTAuNywwLTEuNCwwLjItMiwwLjVjLTAuNiwwLjMtMS4zLDAuNy0xLjksMS4ydjkuNGgtMi4yVjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PC9nPjwvZz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIuNSw0Ny4zYy0xMS4yLDAtMjAuMy05LjEtMjAuMy0yMC4zUzIxLjMsNi43LDMyLjUsNi43YzExLjIsMCwyMC4zLDkuMSwyMC4zLDIwLjNTNDMuNyw0Ny4zLDMyLjUsNDcuM3oiLz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzIuNSw3LjdjMTAuNywwLDE5LjMsOC43LDE5LjMsMTkuM2MwLDEwLjctOC43LDE5LjMtMTkuMywxOS4zYy0xMC43LDAtMTkuMy04LjctMTkuMy0xOS4zQzEzLjIsMTYuMywyMS44LDcuNywzMi41LDcuNyBNMzIuNSw1LjdjLTExLjcsMC0yMS4zLDkuNS0yMS4zLDIxLjNjMCwxMS43LDkuNSwyMS4zLDIxLjMsMjEuM2MxMS43LDAsMjEuMy05LjUsMjEuMy0yMS4zQzUzLjcsMTUuMiw0NC4yLDUuNywzMi41LDUuN0wzMi41LDUuN3oiLz48L2c+PGxpbmUgY2xhc3M9InN0MyIgeDE9IjI2LjciIHkxPSIxNC4zIiB4Mj0iMzQuNCIgeTI9IjI2LjUiLz48bGluZSBjbGFzcz0ic3QzIiB4MT0iMjUuMyIgeTE9IjMzLjMiIHgyPSIzNC41IiB5Mj0iMjYuOSIvPjxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjQ4LjYiIGN5PSIzNi4yIiByPSIxMi45Ii8+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQxLjMsMjkuOEg0NHY1LjRoMGw0LjItNS40aDMuNGwtNC44LDYuMWw1LDYuN2gtMy4zbC00LjUtNmgwdjZoLTIuN1YyOS44eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01NS4xLDM0LjJ2MS4yaDBjMC4yLTAuNCwwLjUtMC43LDAuOS0xYzAuMy0wLjIsMC42LTAuNCwwLjktMC40YzAuMiwwLDAuMywwLDAuNSwwdjIuN2MtMC4yLDAtMC40LTAuMS0wLjYtMC4xYy0wLjUsMC0wLjksMC4yLTEuMiwwLjVjLTAuMywwLjQtMC40LDAuOS0wLjQsMS41djMuN2gtMi41di04LjNINTUuMXoiLz48L2c+PGxpbmUgY2xhc3M9InN0NCIgeDE9IjE2IiB5MT0iMjciIHgyPSIxOC40IiB5Mj0iMjciLz48bGluZSBjbGFzcz0ic3Q0IiB4MT0iMzIuNyIgeTE9IjEyLjciIHgyPSIzMi43IiB5Mj0iMTAuMyIvPjxsaW5lIGNsYXNzPSJzdDQiIHgxPSIzMi41IiB5MT0iNDQuMiIgeDI9IjMyLjUiIHkyPSI0MS44Ii8+PC9zdmc+"/> </a><div id="InloggadPortrait" style="color:#fff; display:inline-block; float: right; font-size: 12px; padding-top: 4px;"></div></div><div id="RGSLandscape" style="margin-left: auto; margin-right: auto; width: 100%; display:none; white-space: nowrap;"> <a href="#" class="PausePlay" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Spelpaus" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTg0LjkgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTg0LjkgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6I0UyMEQxODt9PC9zdHlsZT48Zz48cmVjdCB4PSIwLjUiIHk9IjAuNSIgY2xhc3M9InN0MCIgd2lkdGg9IjE4My45IiBoZWlnaHQ9IjUyLjQiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTgzLjksMXY1MS40SDFWMUgxODMuOSBNMTg0LjksMEgwdjUzLjRoMTg0LjlWMEwxODQuOSwweiIvPjwvZz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTMuMywyNi44QzUzLjMsMzguNSw0My44LDQ4LDMyLDQ4Yy0xMS43LDAtMjEuMy05LjUtMjEuMy0yMS4zQzEwLjgsMTUsMjAuMyw1LjUsMzIsNS41QzQzLjgsNS41LDUzLjMsMTUsNTMuMywyNi44eiIvPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03Ny4xLDMwLjVjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuMywxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTNoMC4yYzAuOSwwLjcsMS45LDEuMywzLjEsMS43czIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNHMtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN2MtMC44LTAuOC0xLjEtMS45LTEuMS0zLjFjMC0xLjUsMC42LTIuNywxLjktMy42YzEuMy0wLjksMi44LTEuNCw0LjgtMS40YzEuMiwwLDIuNCwwLjEsMy40LDAuNGMxLDAuMiwyLDAuNSwyLjgsMC45djIuOGgtMC4yYy0wLjctMC42LTEuNi0xLTIuNy0xLjRjLTEuMS0wLjQtMi4yLTAuNi0zLjQtMC42Yy0xLjMsMC0yLjMsMC4zLTMsMC44Yy0wLjgsMC41LTEuMSwxLjItMS4xLDJjMCwwLjcsMC4yLDEuMywwLjYsMS43YzAuNCwwLjQsMS4xLDAuNywyLDFjMC41LDAuMSwxLjIsMC4yLDIuMiwwLjRjMC45LDAuMiwxLjcsMC4zLDIuNCwwLjVjMS4zLDAuMywyLjMsMC45LDMsMS42Qzc2LjcsMjguMiw3Ny4xLDI5LjIsNzcuMSwzMC41eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Mi42LDI4LjhjMCwxLjEtMC4yLDIuMS0wLjUsM2MtMC4zLDAuOS0wLjcsMS42LTEuMywyLjNjLTAuNSwwLjYtMS4xLDEtMS45LDEuNHMtMS41LDAuNS0yLjMsMC41Yy0wLjcsMC0xLjMtMC4xLTEuOS0wLjJjLTAuNi0wLjItMS4xLTAuNC0xLjctMC43djUuNmgtMi4yVjIyLjNoMi4ydjEuNGMwLjYtMC41LDEuMy0wLjksMi0xLjNjMC43LTAuMywxLjUtMC41LDIuNC0wLjVjMS42LDAsMi44LDAuNiwzLjcsMS44QzkyLjIsMjQuOSw5Mi42LDI2LjYsOTIuNiwyOC44eiBNOTAuMywyOC44YzAtMS42LTAuMy0yLjgtMC44LTMuNkM4OC45LDI0LjQsODguMSwyNCw4NywyNGMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M4OS45LDMxLjcsOTAuMywzMC41LDkwLjMsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA3LjUsMjkuMWgtOS44YzAsMC44LDAuMSwxLjUsMC40LDIuMWMwLjIsMC42LDAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOGMtMC44LDAuMi0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOHMtMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZjMSwxLDEuNSwyLjUsMS41LDQuNVYyOS4xeiBNMTA1LjMsMjcuNGMwLTEuMi0wLjMtMi4xLTAuOS0yLjdjLTAuNi0wLjYtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTA1LjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTExMy4zLDM1LjZoLTIuMlYxN2gyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTI5LjcsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjksMS40cy0xLjUsMC41LTIuMywwLjVjLTAuNywwLTEuMy0wLjEtMS45LTAuMmMtMC42LTAuMi0xLjEtMC40LTEuNy0wLjd2NS42SDExOFYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEMxMjkuMywyNC45LDEyOS43LDI2LjYsMTI5LjcsMjguOHogTTEyNy40LDI4LjhjMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0MxMjcuMSwzMS43LDEyNy40LDMwLjUsMTI3LjQsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTQzLjgsMzUuNmgtMi4ydi0xLjRjLTAuMiwwLjEtMC41LDAuMy0wLjgsMC42Yy0wLjMsMC4yLTAuNywwLjQtMSwwLjZjLTAuNCwwLjItMC44LDAuMy0xLjMsMC41Yy0wLjUsMC4xLTEuMSwwLjItMS43LDAuMmMtMS4yLDAtMi4yLTAuNC0zLTEuMnMtMS4yLTEuOC0xLjItM2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM2MtMC4yLTAuMy0wLjQtMC42LTAuOC0wLjhjLTAuMy0wLjItMC43LTAuMy0xLjEtMC40cy0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJzLTEuNSwwLjQtMi4yLDAuN2gtMC4xdi0yLjNjMC40LTAuMSwxLjEtMC4zLDEuOS0wLjRjMC44LTAuMSwxLjYtMC4yLDIuNC0wLjJjMC45LDAsMS44LDAuMSwyLjQsMC4yYzAuNywwLjIsMS4zLDAuNCwxLjgsMC44YzAuNSwwLjQsMC45LDAuOCwxLjEsMS40czAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTQxLjUsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNDAuNCwzMy4xLDE0MSwzMi43LDE0MS41LDMyLjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1OS4zLDM1LjZoLTIuMnYtMS41Yy0wLjgsMC42LTEuNSwxLjEtMi4yLDEuNHMtMS41LDAuNS0yLjMsMC41Yy0xLjQsMC0yLjUtMC40LTMuMy0xLjNzLTEuMi0yLjEtMS4yLTMuOHYtOC42aDIuMnY3LjZjMCwwLjcsMCwxLjMsMC4xLDEuN2MwLjEsMC41LDAuMiwwLjksMC40LDEuMmMwLjIsMC4zLDAuNSwwLjYsMC44LDAuOGMwLjMsMC4yLDAuOCwwLjIsMS41LDAuMmMwLjYsMCwxLjItMC4yLDEuOS0wLjVjMC43LTAuMywxLjMtMC43LDEuOS0xLjJ2LTkuOWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTczLjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM2MwLjksMC4zLDEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zczAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTczLjIsMzAsMTczLjUsMzAuOCwxNzMuNSwzMS43eiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjcsMzcuNWgtNi4yYy0wLjUsMC0wLjktMC40LTAuOS0wLjlWMTYuOWMwLTAuNSwwLjQtMC45LDAuOS0wLjloNi4yYzAuNSwwLDAuOSwwLjQsMC45LDAuOXYxOS43QzI5LjYsMzcuMSwyOS4yLDM3LjUsMjguNywzNy41eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MS41LDM3LjZoLTYuMmMtMC41LDAtMC45LTAuNC0wLjktMC45VjE2LjljMC0wLjUsMC40LTAuOSwwLjktMC45aDYuMmMwLjUsMCwwLjksMC40LDAuOSwwLjl2MTkuN0M0Mi40LDM3LjIsNDIsMzcuNiw0MS41LDM3LjZ6Ii8+PC9zdmc+"/> </a> <a href="#" class="SelfTest" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Självtest" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTgwLjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTgwLjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6bm9uZTtzdHJva2U6dXJsKCNTVkdJRF8xXyk7c3Ryb2tlLXdpZHRoOjYuNzc0MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LnN0M3tmaWxsOiMxRTFFMUM7fTwvc3R5bGU+PGc+PHJlY3QgeD0iMC41IiB5PSIwLjUiIGNsYXNzPSJzdDAiIHdpZHRoPSIxNzkuNSIgaGVpZ2h0PSI1Mi40Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3OS41LDF2NTEuNEgxVjFIMTc5LjUgTTE4MC42LDBIMHY1My40aDE4MC42VjBMMTgwLjYsMHoiLz48L2c+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTMxLjksNDcuOGMtNS41LTAuMS0xMC43LTIuMy0xNC42LTYuMmMtMy45LTQtNi05LjItNS45LTE0LjhjMC4xLTExLjMsOS40LTIwLjYsMjAuOC0yMC42bDAuMiwwYzUuNSwwLjEsMTAuNywyLjMsMTQuNiw2LjJjMy45LDQsNiw5LjIsNS45LDE0LjhjLTAuMSwxMS4zLTkuNCwyMC42LTIwLjgsMjAuNkwzMS45LDQ3Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTMyLjEsNS43djFsMC4yLDBjNS40LDAuMSwxMC41LDIuMiwxNC4zLDYuMWMzLjgsMy45LDUuOCw5LDUuOCwxNC40Yy0wLjEsMTEuMS05LjIsMjAuMS0yMC4zLDIwLjFsLTAuMiwwYy01LjQtMC4xLTEwLjUtMi4yLTE0LjMtNi4xYy0zLjgtMy45LTUuOC05LTUuOC0xNC40YzAuMS0xMS4xLDkuMi0yMC4xLDIwLjMtMjAuMUwzMi4xLDUuNyBNMzIuMSw1LjdjLTExLjYsMC0yMS4xLDkuNC0yMS4zLDIxYy0wLjEsMTEuNyw5LjMsMjEuNCwyMSwyMS41YzAuMSwwLDAuMSwwLDAuMiwwYzExLjYsMCwyMS4xLTkuNCwyMS4zLTIxYzAuMS0xMS43LTkuMy0yMS40LTIxLTIxLjVDMzIuMyw1LjcsMzIuMiw1LjcsMzIuMSw1LjdMMzIuMSw1Ljd6Ii8+PC9nPjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTMuMzkwNCIgeTE9Ii0zMDMuMjA3NyIgeDI9IjUwLjYwNDMiIHkyPSItMzAzLjIwNzciIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIC0xIDY0LjAwMDUgLTI4My41MzY1KSI+PHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0U0MTkxMyIvPjxzdG9wICBvZmZzZXQ9IjkuNzQ0MDIwZS0wMiIgc3R5bGU9InN0b3AtY29sb3I6I0VBNjUxNiIvPjxzdG9wICBvZmZzZXQ9IjAuMjE0OCIgc3R5bGU9InN0b3AtY29sb3I6I0YzQTUxOCIvPjxzdG9wICBvZmZzZXQ9IjAuMzEyMSIgc3R5bGU9InN0b3AtY29sb3I6I0Y5Q0QxQSIvPjxzdG9wICBvZmZzZXQ9IjAuMzg0IiBzdHlsZT0ic3RvcC1jb2xvcjojRkRFMzFBIi8+PHN0b3AgIG9mZnNldD0iMC40MjI4IiBzdHlsZT0ic3RvcC1jb2xvcjojRkVFQjFBIi8+PHN0b3AgIG9mZnNldD0iMC42MjMxIiBzdHlsZT0ic3RvcC1jb2xvcjojREZERTIwIi8+PHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwOTI0NSIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggY2xhc3M9InN0MiIgZD0iTTQ3LjIsMjYuN2MtMi4yLTE4LjYtMjcuOC0xOS0zMC40LDAiLz48Zz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjcuNywyNy4zbDguOC0xNS44bC0xLjgsMThjLTAuNiwxLjktMi43LDMtNC42LDIuNFMyNy4xLDI5LjIsMjcuNywyNy4zeiIvPjwvZz48Zz48Zz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNzYuNSwzMC41YzAsMC43LTAuMiwxLjQtMC41LDJzLTAuOCwxLjItMS40LDEuN2MtMC42LDAuNS0xLjQsMC45LTIuMiwxLjJjLTAuOCwwLjMtMS45LDAuNC0zLjEsMC40Yy0xLjMsMC0yLjQtMC4xLTMuNC0wLjRjLTEtMC4yLTIuMS0wLjYtMy4xLTEuMXYtM0g2M2MwLjksMC43LDEuOSwxLjMsMy4xLDEuN2MxLjIsMC40LDIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNGMtMC43LTAuMS0xLjQtMC4yLTIuMi0wLjRjLTEuNi0wLjMtMi43LTAuOS0zLjUtMS43Yy0wLjgtMC44LTEuMS0xLjktMS4xLTMuMWMwLTEuNSwwLjYtMi43LDEuOS0zLjZjMS4zLTAuOSwyLjgtMS40LDQuOC0xLjRjMS4yLDAsMi40LDAuMSwzLjQsMC40YzEsMC4yLDIsMC41LDIuOCwwLjl2Mi44aC0wLjJjLTAuNy0wLjYtMS42LTEtMi43LTEuNGMtMS4xLTAuNC0yLjItMC42LTMuNC0wLjZjLTEuMywwLTIuMywwLjMtMywwLjhjLTAuOCwwLjUtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzYuMSwyOC4zLDc2LjUsMjkuMyw3Ni41LDMwLjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTg0LjMsMzUuOWMwLDEuNi0wLjQsMi43LTEuMiwzLjVzLTEuOSwxLjItMy4yLDEuMmMtMC4zLDAtMC43LDAtMS4zLTAuMWMtMC41LTAuMS0xLTAuMS0xLjMtMC4ydi0yLjFoMC4xYzAuMiwwLjEsMC41LDAuMiwwLjksMC4zYzAuNCwwLjEsMC43LDAuMiwxLjEsMC4yYzAuNiwwLDEtMC4xLDEuNC0wLjJjMC4zLTAuMiwwLjYtMC40LDAuOC0wLjdjMC4yLTAuMywwLjMtMC43LDAuMy0xLjFjMC4xLTAuNCwwLjEtMSwwLjEtMS42VjI0LjJoLTIuOHYtMS45aDVWMzUuOXogTTg0LjUsMjAuMWgtMi41di0yLjNoMi41VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTk5LjMsMzUuNkg5N3YtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yQzg4LjQsMzQsODgsMzMsODgsMzEuN2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM3MtMC40LTAuNi0wLjgtMC44Yy0wLjMtMC4yLTAuNy0wLjMtMS4xLTAuNGMtMC40LTAuMS0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJjLTAuNywwLjItMS41LDAuNC0yLjIsMC43aC0wLjF2LTIuM2MwLjQtMC4xLDEuMS0wLjMsMS45LTAuNGMwLjgtMC4xLDEuNi0wLjIsMi40LTAuMmMwLjksMCwxLjgsMC4xLDIuNCwwLjJjMC43LDAuMiwxLjMsMC40LDEuOCwwLjhjMC41LDAuNCwwLjksMC44LDEuMSwxLjRzMC40LDEuMywwLjQsMi4yVjM1LjZ6IE05NywzMi4zdi0zLjdjLTAuNywwLTEuNSwwLjEtMi40LDAuMlM5MywyOSw5Mi40LDI5LjFjLTAuNiwwLjItMS4yLDAuNS0xLjYsMC45Yy0wLjQsMC40LTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdjMC41LDAuNCwxLjIsMC42LDIuMSwwLjZjMC44LDAsMS41LTAuMiwyLjItMC41Qzk1LjksMzMuMSw5Ni41LDMyLjcsOTcsMzIuM3ogTTkyLjgsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6IE05Ny44LDIwLjFoLTIuNHYtMi4zaDIuNFYyMC4xeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMDYuMSwzNS42aC0yLjJWMTcuMWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTIyLjIsMjIuM2wtNS40LDEzLjNoLTIuMmwtNS4zLTEzLjNoMi40bDQuMSwxMC42bDQuMS0xMC42SDEyMi4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMzIuMywzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE0Ni40LDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45YzAuNiwwLjIsMS4yLDAuMywxLjksMC4zYzAuOSwwLDEuOC0wLjIsMi43LTAuNWMwLjktMC40LDEuNi0wLjcsMi0xLjFoMC4xdjIuNGMtMC44LDAuMy0xLjUsMC42LTIuMywwLjhzLTEuNiwwLjMtMi41LDAuM2MtMi4yLDAtMy45LTAuNi01LjItMS44Yy0xLjItMS4yLTEuOS0yLjktMS45LTUuMWMwLTIuMiwwLjYtMy45LDEuOC01LjJjMS4yLTEuMywyLjctMS45LDQuNy0xLjljMS44LDAsMy4yLDAuNSw0LjEsMS42YzEsMSwxLjUsMi41LDEuNSw0LjVWMjkuMnogTTE0NC4yLDI3LjVjMC0xLjItMC4zLTIuMS0wLjktMi43cy0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxNDQuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU5LjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM3MxLjcsMC41LDIuNSwwLjVjMSwwLDEuOC0wLjIsMi4zLTAuNWMwLjYtMC4zLDAuOC0wLjgsMC44LTEuNWMwLTAuNS0wLjItMC45LTAuNS0xLjJzLTAuOS0wLjUtMS43LTAuN2MtMC4zLTAuMS0wLjctMC4yLTEuMi0wLjNjLTAuNS0wLjEtMS0wLjItMS40LTAuM2MtMS4yLTAuMy0yLTAuOC0yLjUtMS40Yy0wLjUtMC42LTAuNy0xLjMtMC43LTIuMmMwLTAuNSwwLjEtMS4xLDAuMy0xLjVjMC4yLTAuNSwwLjYtMC45LDEtMS4zYzAuNC0wLjQsMS0wLjcsMS43LTAuOWMwLjctMC4yLDEuNS0wLjMsMi4zLTAuM2MwLjgsMCwxLjYsMC4xLDIuNCwwLjNjMC44LDAuMiwxLjUsMC40LDIsMC43djIuNGgtMC4xYy0wLjYtMC40LTEuMy0wLjgtMi4xLTEuMWMtMC44LTAuMy0xLjYtMC40LTIuNC0wLjRjLTAuOCwwLTEuNSwwLjItMi4xLDAuNWMtMC42LDAuMy0wLjgsMC44LTAuOCwxLjRjMCwwLjUsMC4yLDEsMC41LDEuMmMwLjMsMC4zLDAuOSwwLjUsMS42LDAuN2MwLjQsMC4xLDAuOSwwLjIsMS40LDAuM2MwLjUsMC4xLDAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTU5LjIsMzAsMTU5LjUsMzAuOCwxNTkuNSwzMS43eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNjkuOSwzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PC9nPjwvZz48L3N2Zz4="/> </a> <a href="#" class="PlayLimit" target="_blank" style="text-decoration: none;"> <img style="height:20px;" alt="Spelgränser" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjE5LjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjE5LjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6IzAwOTczOTt9LnN0M3tmaWxsOiNGRkZGRkY7c3Ryb2tlOiMwMDk3Mzk7c3Ryb2tlLXdpZHRoOjMuODcxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uc3Q0e2ZpbGw6bm9uZTtzdHJva2U6IzAwOTczOTtzdHJva2Utd2lkdGg6MS45MzU1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO308L3N0eWxlPjxnPjxyZWN0IHg9IjAuNSIgeT0iMC41IiBjbGFzcz0ic3QwIiB3aWR0aD0iMjE4LjUiIGhlaWdodD0iNTIuNCIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMTguNSwxdjUxLjRIMVYxSDIxOC41IE0yMTkuNiwwSDB2NTMuNGgyMTkuNlYwTDIxOS42LDB6Ii8+PC9nPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03OC4yLDMwLjZjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuNCwxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTIuOWgwLjJjMC45LDAuNywxLjksMS4zLDMuMSwxLjdjMS4yLDAuNCwyLjMsMC42LDMuMywwLjZjMS41LDAsMi42LTAuMywzLjQtMC44YzAuOC0wLjUsMS4yLTEuMywxLjItMi4yYzAtMC44LTAuMi0xLjQtMC42LTEuN3MtMS0wLjctMS44LTAuOWMtMC42LTAuMi0xLjItMC4zLTEuOS0wLjRjLTAuNy0wLjEtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN3MtMS4xLTEuOS0xLjEtMy4xYzAtMS41LDAuNi0yLjcsMS45LTMuNmMxLjMtMC45LDIuOC0xLjQsNC44LTEuNGMxLjIsMCwyLjQsMC4xLDMuNCwwLjRjMSwwLjIsMiwwLjUsMi44LDAuOXYyLjhoLTAuMmMtMC43LTAuNi0xLjYtMS0yLjctMS40Yy0xLjEtMC40LTIuMi0wLjYtMy40LTAuNmMtMS4zLDAtMi4zLDAuMy0zLDAuOHMtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzcuOSwyOC4zLDc4LjIsMjkuMyw3OC4yLDMwLjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTkzLjYsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjgsMS40Yy0wLjcsMC4zLTEuNSwwLjUtMi4zLDAuNWMtMC43LDAtMS4zLTAuMS0xLjktMC4yYy0wLjYtMC4yLTEuMS0wLjQtMS43LTAuN3Y1LjZoLTIuMlYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEM5My4yLDI1LDkzLjYsMjYuNyw5My42LDI4Ljh6IE05MS4zLDI4LjljMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M5MSwzMS44LDkxLjMsMzAuNSw5MS4zLDI4Ljl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwOC4zLDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45czEuMiwwLjMsMS45LDAuM2MwLjksMCwxLjgtMC4yLDIuNy0wLjVjMC45LTAuNCwxLjYtMC43LDItMS4xaDAuMXYyLjRjLTAuOCwwLjMtMS41LDAuNi0yLjMsMC44cy0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOGMtMS4yLTEuMi0xLjktMi45LTEuOS01LjFjMC0yLjIsMC42LTMuOSwxLjgtNS4yYzEuMi0xLjMsMi43LTEuOSw0LjctMS45YzEuOCwwLDMuMiwwLjUsNC4xLDEuNmMxLDEsMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xMDYuMiwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN2MtMC42LTAuNi0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxMDYuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTE0LjEsMzUuNmgtMi4yVjE3LjFoMi4yVjM1LjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEyOS40LDM0LjFjMCwyLjMtMC41LDMuOS0xLjUsNWMtMSwxLjEtMi42LDEuNi00LjcsMS42Yy0wLjcsMC0xLjQsMC0yLjEtMC4xYy0wLjctMC4xLTEuMy0wLjItMi0wLjR2LTIuM2gwLjFjMC40LDAuMSwwLjksMC4zLDEuNywwLjVzMS42LDAuMywyLjQsMC4zYzAuOCwwLDEuNC0wLjEsMS45LTAuM2MwLjUtMC4yLDAuOS0wLjQsMS4yLTAuOGMwLjMtMC4zLDAuNS0wLjcsMC42LTEuMWMwLjEtMC40LDAuMi0wLjksMC4yLTEuNXYtMS4yYy0wLjcsMC41LTEuMywwLjktMS45LDEuMnMtMS40LDAuNC0yLjMsMC40Yy0xLjYsMC0yLjgtMC42LTMuOC0xLjdjLTAuOS0xLjEtMS40LTIuOC0xLjQtNC44YzAtMS4xLDAuMi0yLjEsMC41LTNjMC4zLTAuOCwwLjgtMS41LDEuMy0yLjFjMC41LTAuNiwxLjEtMSwxLjktMS4zYzAuNy0wLjMsMS41LTAuNSwyLjItMC41YzAuOCwwLDEuNCwwLjEsMS45LDAuMnMxLjEsMC40LDEuNiwwLjdsMC4xLTAuNmgyLjFWMzQuMXogTTEyNy4yLDMydi03LjJjLTAuNi0wLjMtMS4xLTAuNS0xLjctMC42Yy0wLjUtMC4xLTEtMC4yLTEuNS0wLjJjLTEuMiwwLTIuMiwwLjQtMi45LDEuMnMtMS4xLDItMS4xLDMuNmMwLDEuNSwwLjMsMi42LDAuOCwzLjRjMC41LDAuOCwxLjQsMS4yLDIuNiwxLjJjMC43LDAsMS4zLTAuMSwyLTAuNFMxMjYuNiwzMi40LDEyNy4yLDMyeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNDIuMiwyNC44aC0wLjFjLTAuMy0wLjEtMC43LTAuMS0xLTAuMmMtMC4zLDAtMC43LTAuMS0xLjEtMC4xYy0wLjcsMC0xLjQsMC4yLTIsMC41Yy0wLjYsMC4zLTEuMywwLjctMS45LDEuMnY5LjRIMTM0VjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1NC44LDM1LjZoLTIuMnYtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yYy0wLjgtMC44LTEuMi0xLjgtMS4yLTNjMC0xLDAuMi0xLjgsMC42LTIuNGMwLjQtMC42LDEtMS4xLDEuOC0xLjVjMC44LTAuNCwxLjgtMC42LDIuOS0wLjdzMi40LTAuMiwzLjctMC4zdi0wLjNjMC0wLjUtMC4xLTAuOS0wLjMtMS4zYy0wLjItMC4zLTAuNC0wLjYtMC44LTAuOGMtMC4zLTAuMi0wLjctMC4zLTEuMS0wLjRDMTUwLDI0LDE0OS41LDI0LDE0OSwyNGMtMC42LDAtMS4yLDAuMS0yLDAuMmMtMC43LDAuMi0xLjUsMC40LTIuMiwwLjdoLTAuMXYtMi4zYzAuNC0wLjEsMS4xLTAuMiwxLjktMC40YzAuOC0wLjEsMS42LTAuMiwyLjQtMC4yYzAuOSwwLDEuOCwwLjEsMi40LDAuMmMwLjcsMC4yLDEuMywwLjQsMS44LDAuOGMwLjUsMC40LDAuOSwwLjgsMS4xLDEuNGMwLjMsMC42LDAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTUyLjYsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNTEuNCwzMy4xLDE1MiwzMi44LDE1Mi42LDMyLjN6IE0xNDguNCwyMC4xSDE0NnYtMi4zaDIuNFYyMC4xeiBNMTUzLjMsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3MC4zLDM1LjZoLTIuMnYtNy42YzAtMC42LDAtMS4yLTAuMS0xLjdzLTAuMi0xLTAuNC0xLjNjLTAuMi0wLjMtMC41LTAuNi0wLjktMC43Yy0wLjQtMC4yLTAuOS0wLjItMS41LTAuMmMtMC42LDAtMS4yLDAuMi0xLjksMC41Yy0wLjcsMC4zLTEuMywwLjctMS45LDEuMnY5LjloLTIuMlYyMi4zaDIuMnYxLjVjMC43LTAuNiwxLjQtMSwyLjItMS40YzAuNy0wLjMsMS41LTAuNSwyLjMtMC41YzEuNCwwLDIuNSwwLjQsMy4zLDEuM2MwLjgsMC45LDEuMSwyLjEsMS4xLDMuN1YzNS42eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xODQuMywzMS44YzAsMS4yLTAuNSwyLjItMS41LDNjLTEsMC44LTIuNCwxLjItNC4xLDEuMmMtMSwwLTEuOS0wLjEtMi43LTAuNGMtMC44LTAuMi0xLjUtMC41LTIuMS0wLjh2LTIuNWgwLjFjMC43LDAuNSwxLjUsMSwyLjQsMS4zczEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zYzAuNSwwLjEsMC45LDAuMiwxLjMsMC4zYzEsMC4yLDEuOCwwLjYsMi40LDEuMkMxODQsMzAsMTg0LjMsMzAuOCwxODQuMywzMS44eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOTguNywyOS4yaC05LjhjMCwwLjgsMC4xLDEuNSwwLjQsMi4xczAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOHMtMS42LDAuMy0yLjUsMC4zYy0yLjIsMC0zLjktMC42LTUuMi0xLjhjLTEuMi0xLjItMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZzMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xOTYuNSwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN3MtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTk2LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTIxMC41LDI0LjhoLTAuMWMtMC4zLTAuMS0wLjctMC4xLTEtMC4yYy0wLjMsMC0wLjctMC4xLTEuMS0wLjFjLTAuNywwLTEuNCwwLjItMiwwLjVjLTAuNiwwLjMtMS4zLDAuNy0xLjksMS4ydjkuNGgtMi4yVjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PC9nPjwvZz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIuNSw0Ny4zYy0xMS4yLDAtMjAuMy05LjEtMjAuMy0yMC4zUzIxLjMsNi43LDMyLjUsNi43YzExLjIsMCwyMC4zLDkuMSwyMC4zLDIwLjNTNDMuNyw0Ny4zLDMyLjUsNDcuM3oiLz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzIuNSw3LjdjMTAuNywwLDE5LjMsOC43LDE5LjMsMTkuM2MwLDEwLjctOC43LDE5LjMtMTkuMywxOS4zYy0xMC43LDAtMTkuMy04LjctMTkuMy0xOS4zQzEzLjIsMTYuMywyMS44LDcuNywzMi41LDcuNyBNMzIuNSw1LjdjLTExLjcsMC0yMS4zLDkuNS0yMS4zLDIxLjNjMCwxMS43LDkuNSwyMS4zLDIxLjMsMjEuM2MxMS43LDAsMjEuMy05LjUsMjEuMy0yMS4zQzUzLjcsMTUuMiw0NC4yLDUuNywzMi41LDUuN0wzMi41LDUuN3oiLz48L2c+PGxpbmUgY2xhc3M9InN0MyIgeDE9IjI2LjciIHkxPSIxNC4zIiB4Mj0iMzQuNCIgeTI9IjI2LjUiLz48bGluZSBjbGFzcz0ic3QzIiB4MT0iMjUuMyIgeTE9IjMzLjMiIHgyPSIzNC41IiB5Mj0iMjYuOSIvPjxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjQ4LjYiIGN5PSIzNi4yIiByPSIxMi45Ii8+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQxLjMsMjkuOEg0NHY1LjRoMGw0LjItNS40aDMuNGwtNC44LDYuMWw1LDYuN2gtMy4zbC00LjUtNmgwdjZoLTIuN1YyOS44eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01NS4xLDM0LjJ2MS4yaDBjMC4yLTAuNCwwLjUtMC43LDAuOS0xYzAuMy0wLjIsMC42LTAuNCwwLjktMC40YzAuMiwwLDAuMywwLDAuNSwwdjIuN2MtMC4yLDAtMC40LTAuMS0wLjYtMC4xYy0wLjUsMC0wLjksMC4yLTEuMiwwLjVjLTAuMywwLjQtMC40LDAuOS0wLjQsMS41djMuN2gtMi41di04LjNINTUuMXoiLz48L2c+PGxpbmUgY2xhc3M9InN0NCIgeDE9IjE2IiB5MT0iMjciIHgyPSIxOC40IiB5Mj0iMjciLz48bGluZSBjbGFzcz0ic3Q0IiB4MT0iMzIuNyIgeTE9IjEyLjciIHgyPSIzMi43IiB5Mj0iMTAuMyIvPjxsaW5lIGNsYXNzPSJzdDQiIHgxPSIzMi41IiB5MT0iNDQuMiIgeDI9IjMyLjUiIHkyPSI0MS44Ii8+PC9zdmc+"/> </a><div id="InloggadLandscape" style="color:#fff; display:inline-block; float: right; font-size: 13px; padding-top: 4px;"></div></div></div>' : '<div class="RGSContainerActive" style="display: block;" data-height="29"><div id="RGSDesktop" style="margin-left: auto; margin-right: auto; width: 100%; display:block; white-space: nowrap;"> <a href="#" class="PausePlay" target="_blank" style="text-decoration: none;"> <img style="height:25px;" alt="Spelpaus" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTg0LjkgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTg0LjkgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6I0UyMEQxODt9PC9zdHlsZT48Zz48cmVjdCB4PSIwLjUiIHk9IjAuNSIgY2xhc3M9InN0MCIgd2lkdGg9IjE4My45IiBoZWlnaHQ9IjUyLjQiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTgzLjksMXY1MS40SDFWMUgxODMuOSBNMTg0LjksMEgwdjUzLjRoMTg0LjlWMEwxODQuOSwweiIvPjwvZz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTMuMywyNi44QzUzLjMsMzguNSw0My44LDQ4LDMyLDQ4Yy0xMS43LDAtMjEuMy05LjUtMjEuMy0yMS4zQzEwLjgsMTUsMjAuMyw1LjUsMzIsNS41QzQzLjgsNS41LDUzLjMsMTUsNTMuMywyNi44eiIvPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03Ny4xLDMwLjVjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuMywxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTNoMC4yYzAuOSwwLjcsMS45LDEuMywzLjEsMS43czIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNHMtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN2MtMC44LTAuOC0xLjEtMS45LTEuMS0zLjFjMC0xLjUsMC42LTIuNywxLjktMy42YzEuMy0wLjksMi44LTEuNCw0LjgtMS40YzEuMiwwLDIuNCwwLjEsMy40LDAuNGMxLDAuMiwyLDAuNSwyLjgsMC45djIuOGgtMC4yYy0wLjctMC42LTEuNi0xLTIuNy0xLjRjLTEuMS0wLjQtMi4yLTAuNi0zLjQtMC42Yy0xLjMsMC0yLjMsMC4zLTMsMC44Yy0wLjgsMC41LTEuMSwxLjItMS4xLDJjMCwwLjcsMC4yLDEuMywwLjYsMS43YzAuNCwwLjQsMS4xLDAuNywyLDFjMC41LDAuMSwxLjIsMC4yLDIuMiwwLjRjMC45LDAuMiwxLjcsMC4zLDIuNCwwLjVjMS4zLDAuMywyLjMsMC45LDMsMS42Qzc2LjcsMjguMiw3Ny4xLDI5LjIsNzcuMSwzMC41eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Mi42LDI4LjhjMCwxLjEtMC4yLDIuMS0wLjUsM2MtMC4zLDAuOS0wLjcsMS42LTEuMywyLjNjLTAuNSwwLjYtMS4xLDEtMS45LDEuNHMtMS41LDAuNS0yLjMsMC41Yy0wLjcsMC0xLjMtMC4xLTEuOS0wLjJjLTAuNi0wLjItMS4xLTAuNC0xLjctMC43djUuNmgtMi4yVjIyLjNoMi4ydjEuNGMwLjYtMC41LDEuMy0wLjksMi0xLjNjMC43LTAuMywxLjUtMC41LDIuNC0wLjVjMS42LDAsMi44LDAuNiwzLjcsMS44QzkyLjIsMjQuOSw5Mi42LDI2LjYsOTIuNiwyOC44eiBNOTAuMywyOC44YzAtMS42LTAuMy0yLjgtMC44LTMuNkM4OC45LDI0LjQsODguMSwyNCw4NywyNGMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M4OS45LDMxLjcsOTAuMywzMC41LDkwLjMsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA3LjUsMjkuMWgtOS44YzAsMC44LDAuMSwxLjUsMC40LDIuMWMwLjIsMC42LDAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOGMtMC44LDAuMi0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOHMtMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZjMSwxLDEuNSwyLjUsMS41LDQuNVYyOS4xeiBNMTA1LjMsMjcuNGMwLTEuMi0wLjMtMi4xLTAuOS0yLjdjLTAuNi0wLjYtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTA1LjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTExMy4zLDM1LjZoLTIuMlYxN2gyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTI5LjcsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjksMS40cy0xLjUsMC41LTIuMywwLjVjLTAuNywwLTEuMy0wLjEtMS45LTAuMmMtMC42LTAuMi0xLjEtMC40LTEuNy0wLjd2NS42SDExOFYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEMxMjkuMywyNC45LDEyOS43LDI2LjYsMTI5LjcsMjguOHogTTEyNy40LDI4LjhjMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0MxMjcuMSwzMS43LDEyNy40LDMwLjUsMTI3LjQsMjguOHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTQzLjgsMzUuNmgtMi4ydi0xLjRjLTAuMiwwLjEtMC41LDAuMy0wLjgsMC42Yy0wLjMsMC4yLTAuNywwLjQtMSwwLjZjLTAuNCwwLjItMC44LDAuMy0xLjMsMC41Yy0wLjUsMC4xLTEuMSwwLjItMS43LDAuMmMtMS4yLDAtMi4yLTAuNC0zLTEuMnMtMS4yLTEuOC0xLjItM2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM2MtMC4yLTAuMy0wLjQtMC42LTAuOC0wLjhjLTAuMy0wLjItMC43LTAuMy0xLjEtMC40cy0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJzLTEuNSwwLjQtMi4yLDAuN2gtMC4xdi0yLjNjMC40LTAuMSwxLjEtMC4zLDEuOS0wLjRjMC44LTAuMSwxLjYtMC4yLDIuNC0wLjJjMC45LDAsMS44LDAuMSwyLjQsMC4yYzAuNywwLjIsMS4zLDAuNCwxLjgsMC44YzAuNSwwLjQsMC45LDAuOCwxLjEsMS40czAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTQxLjUsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNDAuNCwzMy4xLDE0MSwzMi43LDE0MS41LDMyLjN6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1OS4zLDM1LjZoLTIuMnYtMS41Yy0wLjgsMC42LTEuNSwxLjEtMi4yLDEuNHMtMS41LDAuNS0yLjMsMC41Yy0xLjQsMC0yLjUtMC40LTMuMy0xLjNzLTEuMi0yLjEtMS4yLTMuOHYtOC42aDIuMnY3LjZjMCwwLjcsMCwxLjMsMC4xLDEuN2MwLjEsMC41LDAuMiwwLjksMC40LDEuMmMwLjIsMC4zLDAuNSwwLjYsMC44LDAuOGMwLjMsMC4yLDAuOCwwLjIsMS41LDAuMmMwLjYsMCwxLjItMC4yLDEuOS0wLjVjMC43LTAuMywxLjMtMC43LDEuOS0xLjJ2LTkuOWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTczLjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM2MwLjksMC4zLDEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zczAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTczLjIsMzAsMTczLjUsMzAuOCwxNzMuNSwzMS43eiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjcsMzcuNWgtNi4yYy0wLjUsMC0wLjktMC40LTAuOS0wLjlWMTYuOWMwLTAuNSwwLjQtMC45LDAuOS0wLjloNi4yYzAuNSwwLDAuOSwwLjQsMC45LDAuOXYxOS43QzI5LjYsMzcuMSwyOS4yLDM3LjUsMjguNywzNy41eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MS41LDM3LjZoLTYuMmMtMC41LDAtMC45LTAuNC0wLjktMC45VjE2LjljMC0wLjUsMC40LTAuOSwwLjktMC45aDYuMmMwLjUsMCwwLjksMC40LDAuOSwwLjl2MTkuN0M0Mi40LDM3LjIsNDIsMzcuNiw0MS41LDM3LjZ6Ii8+PC9zdmc+"/> </a> <a href="#" class="SelfTest" target="_blank" style="text-decoration: none;"> <img style="height:25px;" alt="Självtest" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTgwLjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTgwLjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6bm9uZTtzdHJva2U6dXJsKCNTVkdJRF8xXyk7c3Ryb2tlLXdpZHRoOjYuNzc0MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LnN0M3tmaWxsOiMxRTFFMUM7fTwvc3R5bGU+PGc+PHJlY3QgeD0iMC41IiB5PSIwLjUiIGNsYXNzPSJzdDAiIHdpZHRoPSIxNzkuNSIgaGVpZ2h0PSI1Mi40Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3OS41LDF2NTEuNEgxVjFIMTc5LjUgTTE4MC42LDBIMHY1My40aDE4MC42VjBMMTgwLjYsMHoiLz48L2c+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTMxLjksNDcuOGMtNS41LTAuMS0xMC43LTIuMy0xNC42LTYuMmMtMy45LTQtNi05LjItNS45LTE0LjhjMC4xLTExLjMsOS40LTIwLjYsMjAuOC0yMC42bDAuMiwwYzUuNSwwLjEsMTAuNywyLjMsMTQuNiw2LjJjMy45LDQsNiw5LjIsNS45LDE0LjhjLTAuMSwxMS4zLTkuNCwyMC42LTIwLjgsMjAuNkwzMS45LDQ3Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTMyLjEsNS43djFsMC4yLDBjNS40LDAuMSwxMC41LDIuMiwxNC4zLDYuMWMzLjgsMy45LDUuOCw5LDUuOCwxNC40Yy0wLjEsMTEuMS05LjIsMjAuMS0yMC4zLDIwLjFsLTAuMiwwYy01LjQtMC4xLTEwLjUtMi4yLTE0LjMtNi4xYy0zLjgtMy45LTUuOC05LTUuOC0xNC40YzAuMS0xMS4xLDkuMi0yMC4xLDIwLjMtMjAuMUwzMi4xLDUuNyBNMzIuMSw1LjdjLTExLjYsMC0yMS4xLDkuNC0yMS4zLDIxYy0wLjEsMTEuNyw5LjMsMjEuNCwyMSwyMS41YzAuMSwwLDAuMSwwLDAuMiwwYzExLjYsMCwyMS4xLTkuNCwyMS4zLTIxYzAuMS0xMS43LTkuMy0yMS40LTIxLTIxLjVDMzIuMyw1LjcsMzIuMiw1LjcsMzIuMSw1LjdMMzIuMSw1Ljd6Ii8+PC9nPjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTMuMzkwNCIgeTE9Ii0zMDMuMjA3NyIgeDI9IjUwLjYwNDMiIHkyPSItMzAzLjIwNzciIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIC0xIDY0LjAwMDUgLTI4My41MzY1KSI+PHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0U0MTkxMyIvPjxzdG9wICBvZmZzZXQ9IjkuNzQ0MDIwZS0wMiIgc3R5bGU9InN0b3AtY29sb3I6I0VBNjUxNiIvPjxzdG9wICBvZmZzZXQ9IjAuMjE0OCIgc3R5bGU9InN0b3AtY29sb3I6I0YzQTUxOCIvPjxzdG9wICBvZmZzZXQ9IjAuMzEyMSIgc3R5bGU9InN0b3AtY29sb3I6I0Y5Q0QxQSIvPjxzdG9wICBvZmZzZXQ9IjAuMzg0IiBzdHlsZT0ic3RvcC1jb2xvcjojRkRFMzFBIi8+PHN0b3AgIG9mZnNldD0iMC40MjI4IiBzdHlsZT0ic3RvcC1jb2xvcjojRkVFQjFBIi8+PHN0b3AgIG9mZnNldD0iMC42MjMxIiBzdHlsZT0ic3RvcC1jb2xvcjojREZERTIwIi8+PHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwOTI0NSIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggY2xhc3M9InN0MiIgZD0iTTQ3LjIsMjYuN2MtMi4yLTE4LjYtMjcuOC0xOS0zMC40LDAiLz48Zz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjcuNywyNy4zbDguOC0xNS44bC0xLjgsMThjLTAuNiwxLjktMi43LDMtNC42LDIuNFMyNy4xLDI5LjIsMjcuNywyNy4zeiIvPjwvZz48Zz48Zz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNzYuNSwzMC41YzAsMC43LTAuMiwxLjQtMC41LDJzLTAuOCwxLjItMS40LDEuN2MtMC42LDAuNS0xLjQsMC45LTIuMiwxLjJjLTAuOCwwLjMtMS45LDAuNC0zLjEsMC40Yy0xLjMsMC0yLjQtMC4xLTMuNC0wLjRjLTEtMC4yLTIuMS0wLjYtMy4xLTEuMXYtM0g2M2MwLjksMC43LDEuOSwxLjMsMy4xLDEuN2MxLjIsMC40LDIuMywwLjYsMy4zLDAuNmMxLjUsMCwyLjYtMC4zLDMuNC0wLjhjMC44LTAuNSwxLjItMS4zLDEuMi0yLjJjMC0wLjgtMC4yLTEuNC0wLjYtMS43cy0xLTAuNy0xLjgtMC45Yy0wLjYtMC4yLTEuMi0wLjMtMS45LTAuNGMtMC43LTAuMS0xLjQtMC4yLTIuMi0wLjRjLTEuNi0wLjMtMi43LTAuOS0zLjUtMS43Yy0wLjgtMC44LTEuMS0xLjktMS4xLTMuMWMwLTEuNSwwLjYtMi43LDEuOS0zLjZjMS4zLTAuOSwyLjgtMS40LDQuOC0xLjRjMS4yLDAsMi40LDAuMSwzLjQsMC40YzEsMC4yLDIsMC41LDIuOCwwLjl2Mi44aC0wLjJjLTAuNy0wLjYtMS42LTEtMi43LTEuNGMtMS4xLTAuNC0yLjItMC42LTMuNC0wLjZjLTEuMywwLTIuMywwLjMtMywwLjhjLTAuOCwwLjUtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzYuMSwyOC4zLDc2LjUsMjkuMyw3Ni41LDMwLjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTg0LjMsMzUuOWMwLDEuNi0wLjQsMi43LTEuMiwzLjVzLTEuOSwxLjItMy4yLDEuMmMtMC4zLDAtMC43LDAtMS4zLTAuMWMtMC41LTAuMS0xLTAuMS0xLjMtMC4ydi0yLjFoMC4xYzAuMiwwLjEsMC41LDAuMiwwLjksMC4zYzAuNCwwLjEsMC43LDAuMiwxLjEsMC4yYzAuNiwwLDEtMC4xLDEuNC0wLjJjMC4zLTAuMiwwLjYtMC40LDAuOC0wLjdjMC4yLTAuMywwLjMtMC43LDAuMy0xLjFjMC4xLTAuNCwwLjEtMSwwLjEtMS42VjI0LjJoLTIuOHYtMS45aDVWMzUuOXogTTg0LjUsMjAuMWgtMi41di0yLjNoMi41VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTk5LjMsMzUuNkg5N3YtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yQzg4LjQsMzQsODgsMzMsODgsMzEuN2MwLTEsMC4yLTEuOCwwLjYtMi40YzAuNC0wLjYsMS0xLjEsMS44LTEuNWMwLjgtMC40LDEuOC0wLjYsMi45LTAuN2MxLjEtMC4xLDIuNC0wLjIsMy43LTAuM3YtMC4zYzAtMC41LTAuMS0wLjktMC4zLTEuM3MtMC40LTAuNi0wLjgtMC44Yy0wLjMtMC4yLTAuNy0wLjMtMS4xLTAuNGMtMC40LTAuMS0wLjktMC4xLTEuNC0wLjFjLTAuNiwwLTEuMiwwLjEtMiwwLjJjLTAuNywwLjItMS41LDAuNC0yLjIsMC43aC0wLjF2LTIuM2MwLjQtMC4xLDEuMS0wLjMsMS45LTAuNGMwLjgtMC4xLDEuNi0wLjIsMi40LTAuMmMwLjksMCwxLjgsMC4xLDIuNCwwLjJjMC43LDAuMiwxLjMsMC40LDEuOCwwLjhjMC41LDAuNCwwLjksMC44LDEuMSwxLjRzMC40LDEuMywwLjQsMi4yVjM1LjZ6IE05NywzMi4zdi0zLjdjLTAuNywwLTEuNSwwLjEtMi40LDAuMlM5MywyOSw5Mi40LDI5LjFjLTAuNiwwLjItMS4yLDAuNS0xLjYsMC45Yy0wLjQsMC40LTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdjMC41LDAuNCwxLjIsMC42LDIuMSwwLjZjMC44LDAsMS41LTAuMiwyLjItMC41Qzk1LjksMzMuMSw5Ni41LDMyLjcsOTcsMzIuM3ogTTkyLjgsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6IE05Ny44LDIwLjFoLTIuNHYtMi4zaDIuNFYyMC4xeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMDYuMSwzNS42aC0yLjJWMTcuMWgyLjJWMzUuNnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTIyLjIsMjIuM2wtNS40LDEzLjNoLTIuMmwtNS4zLTEzLjNoMi40bDQuMSwxMC42bDQuMS0xMC42SDEyMi4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMzIuMywzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE0Ni40LDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45YzAuNiwwLjIsMS4yLDAuMywxLjksMC4zYzAuOSwwLDEuOC0wLjIsMi43LTAuNWMwLjktMC40LDEuNi0wLjcsMi0xLjFoMC4xdjIuNGMtMC44LDAuMy0xLjUsMC42LTIuMywwLjhzLTEuNiwwLjMtMi41LDAuM2MtMi4yLDAtMy45LTAuNi01LjItMS44Yy0xLjItMS4yLTEuOS0yLjktMS45LTUuMWMwLTIuMiwwLjYtMy45LDEuOC01LjJjMS4yLTEuMywyLjctMS45LDQuNy0xLjljMS44LDAsMy4yLDAuNSw0LjEsMS42YzEsMSwxLjUsMi41LDEuNSw0LjVWMjkuMnogTTE0NC4yLDI3LjVjMC0xLjItMC4zLTIuMS0wLjktMi43cy0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxNDQuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU5LjUsMzEuN2MwLDEuMi0wLjUsMi4yLTEuNSwzcy0yLjQsMS4yLTQuMSwxLjJjLTEsMC0xLjktMC4xLTIuNy0wLjRjLTAuOC0wLjItMS41LTAuNS0yLjEtMC44di0yLjVoMC4xYzAuNywwLjUsMS41LDEsMi40LDEuM3MxLjcsMC41LDIuNSwwLjVjMSwwLDEuOC0wLjIsMi4zLTAuNWMwLjYtMC4zLDAuOC0wLjgsMC44LTEuNWMwLTAuNS0wLjItMC45LTAuNS0xLjJzLTAuOS0wLjUtMS43LTAuN2MtMC4zLTAuMS0wLjctMC4yLTEuMi0wLjNjLTAuNS0wLjEtMS0wLjItMS40LTAuM2MtMS4yLTAuMy0yLTAuOC0yLjUtMS40Yy0wLjUtMC42LTAuNy0xLjMtMC43LTIuMmMwLTAuNSwwLjEtMS4xLDAuMy0xLjVjMC4yLTAuNSwwLjYtMC45LDEtMS4zYzAuNC0wLjQsMS0wLjcsMS43LTAuOWMwLjctMC4yLDEuNS0wLjMsMi4zLTAuM2MwLjgsMCwxLjYsMC4xLDIuNCwwLjNjMC44LDAuMiwxLjUsMC40LDIsMC43djIuNGgtMC4xYy0wLjYtMC40LTEuMy0wLjgtMi4xLTEuMWMtMC44LTAuMy0xLjYtMC40LTIuNC0wLjRjLTAuOCwwLTEuNSwwLjItMi4xLDAuNWMtMC42LDAuMy0wLjgsMC44LTAuOCwxLjRjMCwwLjUsMC4yLDEsMC41LDEuMmMwLjMsMC4zLDAuOSwwLjUsMS42LDAuN2MwLjQsMC4xLDAuOSwwLjIsMS40LDAuM2MwLjUsMC4xLDAuOSwwLjIsMS4zLDAuM2MxLDAuMiwxLjgsMC42LDIuNCwxLjJDMTU5LjIsMzAsMTU5LjUsMzAuOCwxNTkuNSwzMS43eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNjkuOSwzNS41Yy0wLjQsMC4xLTAuOSwwLjItMS40LDAuM2MtMC41LDAuMS0wLjksMC4xLTEuMywwLjFjLTEuNCwwLTIuNC0wLjQtMy4xLTEuMWMtMC43LTAuNy0xLjEtMS45LTEuMS0zLjV2LTcuMWgtMS41di0xLjloMS41di0zLjhoMi4ydjMuOGg0LjZ2MS45aC00LjZ2Ni4xYzAsMC43LDAsMS4yLDAsMS42YzAsMC40LDAuMSwwLjgsMC4zLDEuMWMwLjIsMC4zLDAuNCwwLjUsMC43LDAuN2MwLjMsMC4xLDAuOCwwLjIsMS40LDAuMmMwLjQsMCwwLjctMC4xLDEuMS0wLjJjMC40LTAuMSwwLjctMC4yLDAuOS0wLjNoMC4xVjM1LjV6Ii8+PC9nPjwvZz48L3N2Zz4="/> </a> <a href="#" class="PlayLimit" target="_blank" style="text-decoration: none;"> <img style="height:25px;" alt="Spelgränser" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxhZ2VyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjE5LjYgNTMuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjE5LjYgNTMuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsOiNGRkZGRkY7fS5zdDF7ZmlsbDojMDIwMjAzO30uc3Qye2ZpbGw6IzAwOTczOTt9LnN0M3tmaWxsOiNGRkZGRkY7c3Ryb2tlOiMwMDk3Mzk7c3Ryb2tlLXdpZHRoOjMuODcxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uc3Q0e2ZpbGw6bm9uZTtzdHJva2U6IzAwOTczOTtzdHJva2Utd2lkdGg6MS45MzU1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO308L3N0eWxlPjxnPjxyZWN0IHg9IjAuNSIgeT0iMC41IiBjbGFzcz0ic3QwIiB3aWR0aD0iMjE4LjUiIGhlaWdodD0iNTIuNCIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMTguNSwxdjUxLjRIMVYxSDIxOC41IE0yMTkuNiwwSDB2NTMuNGgyMTkuNlYwTDIxOS42LDB6Ii8+PC9nPjxnPjxnPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03OC4yLDMwLjZjMCwwLjctMC4yLDEuNC0wLjUsMmMtMC4zLDAuNy0wLjgsMS4yLTEuNCwxLjdjLTAuNiwwLjUtMS40LDAuOS0yLjIsMS4yYy0wLjgsMC4zLTEuOSwwLjQtMy4xLDAuNGMtMS4zLDAtMi40LTAuMS0zLjQtMC40Yy0xLTAuMi0yLjEtMC42LTMuMS0xLjF2LTIuOWgwLjJjMC45LDAuNywxLjksMS4zLDMuMSwxLjdjMS4yLDAuNCwyLjMsMC42LDMuMywwLjZjMS41LDAsMi42LTAuMywzLjQtMC44YzAuOC0wLjUsMS4yLTEuMywxLjItMi4yYzAtMC44LTAuMi0xLjQtMC42LTEuN3MtMS0wLjctMS44LTAuOWMtMC42LTAuMi0xLjItMC4zLTEuOS0wLjRjLTAuNy0wLjEtMS40LTAuMi0yLjItMC40Yy0xLjYtMC4zLTIuNy0wLjktMy41LTEuN3MtMS4xLTEuOS0xLjEtMy4xYzAtMS41LDAuNi0yLjcsMS45LTMuNmMxLjMtMC45LDIuOC0xLjQsNC44LTEuNGMxLjIsMCwyLjQsMC4xLDMuNCwwLjRjMSwwLjIsMiwwLjUsMi44LDAuOXYyLjhoLTAuMmMtMC43LTAuNi0xLjYtMS0yLjctMS40Yy0xLjEtMC40LTIuMi0wLjYtMy40LTAuNmMtMS4zLDAtMi4zLDAuMy0zLDAuOHMtMS4xLDEuMi0xLjEsMmMwLDAuNywwLjIsMS4zLDAuNiwxLjdjMC40LDAuNCwxLjEsMC43LDIsMWMwLjUsMC4xLDEuMiwwLjIsMi4yLDAuNGMwLjksMC4yLDEuNywwLjMsMi40LDAuNWMxLjMsMC4zLDIuMywwLjksMywxLjZDNzcuOSwyOC4zLDc4LjIsMjkuMyw3OC4yLDMwLjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTkzLjYsMjguOGMwLDEuMS0wLjIsMi4xLTAuNSwzYy0wLjMsMC45LTAuNywxLjYtMS4zLDIuM2MtMC41LDAuNi0xLjEsMS0xLjgsMS40Yy0wLjcsMC4zLTEuNSwwLjUtMi4zLDAuNWMtMC43LDAtMS4zLTAuMS0xLjktMC4yYy0wLjYtMC4yLTEuMS0wLjQtMS43LTAuN3Y1LjZoLTIuMlYyMi4zaDIuMnYxLjRjMC42LTAuNSwxLjMtMC45LDItMS4zYzAuNy0wLjMsMS41LTAuNSwyLjQtMC41YzEuNiwwLDIuOCwwLjYsMy43LDEuOEM5My4yLDI1LDkzLjYsMjYuNyw5My42LDI4Ljh6IE05MS4zLDI4LjljMC0xLjYtMC4zLTIuOC0wLjgtMy42Yy0wLjUtMC44LTEuNC0xLjItMi41LTEuMmMtMC42LDAtMS4zLDAuMS0xLjksMC40Yy0wLjcsMC4zLTEuMywwLjYtMS45LDEuMXY3LjVjMC42LDAuMywxLjIsMC41LDEuNiwwLjZjMC41LDAuMSwxLDAuMiwxLjYsMC4yYzEuMiwwLDIuMi0wLjQsMi45LTEuM0M5MSwzMS44LDkxLjMsMzAuNSw5MS4zLDI4Ljl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwOC4zLDI5LjJoLTkuOGMwLDAuOCwwLjEsMS41LDAuNCwyLjFjMC4yLDAuNiwwLjYsMS4xLDEsMS41YzAuNCwwLjQsMC45LDAuNywxLjUsMC45czEuMiwwLjMsMS45LDAuM2MwLjksMCwxLjgtMC4yLDIuNy0wLjVjMC45LTAuNCwxLjYtMC43LDItMS4xaDAuMXYyLjRjLTAuOCwwLjMtMS41LDAuNi0yLjMsMC44cy0xLjYsMC4zLTIuNSwwLjNjLTIuMiwwLTMuOS0wLjYtNS4yLTEuOGMtMS4yLTEuMi0xLjktMi45LTEuOS01LjFjMC0yLjIsMC42LTMuOSwxLjgtNS4yYzEuMi0xLjMsMi43LTEuOSw0LjctMS45YzEuOCwwLDMuMiwwLjUsNC4xLDEuNmMxLDEsMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xMDYuMiwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN2MtMC42LTAuNi0xLjUtMS0yLjctMWMtMS4yLDAtMi4yLDAuNC0yLjksMS4xYy0wLjcsMC43LTEuMSwxLjYtMS4yLDIuNkgxMDYuMnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTE0LjEsMzUuNmgtMi4yVjE3LjFoMi4yVjM1LjZ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEyOS40LDM0LjFjMCwyLjMtMC41LDMuOS0xLjUsNWMtMSwxLjEtMi42LDEuNi00LjcsMS42Yy0wLjcsMC0xLjQsMC0yLjEtMC4xYy0wLjctMC4xLTEuMy0wLjItMi0wLjR2LTIuM2gwLjFjMC40LDAuMSwwLjksMC4zLDEuNywwLjVzMS42LDAuMywyLjQsMC4zYzAuOCwwLDEuNC0wLjEsMS45LTAuM2MwLjUtMC4yLDAuOS0wLjQsMS4yLTAuOGMwLjMtMC4zLDAuNS0wLjcsMC42LTEuMWMwLjEtMC40LDAuMi0wLjksMC4yLTEuNXYtMS4yYy0wLjcsMC41LTEuMywwLjktMS45LDEuMnMtMS40LDAuNC0yLjMsMC40Yy0xLjYsMC0yLjgtMC42LTMuOC0xLjdjLTAuOS0xLjEtMS40LTIuOC0xLjQtNC44YzAtMS4xLDAuMi0yLjEsMC41LTNjMC4zLTAuOCwwLjgtMS41LDEuMy0yLjFjMC41LTAuNiwxLjEtMSwxLjktMS4zYzAuNy0wLjMsMS41LTAuNSwyLjItMC41YzAuOCwwLDEuNCwwLjEsMS45LDAuMnMxLjEsMC40LDEuNiwwLjdsMC4xLTAuNmgyLjFWMzQuMXogTTEyNy4yLDMydi03LjJjLTAuNi0wLjMtMS4xLTAuNS0xLjctMC42Yy0wLjUtMC4xLTEtMC4yLTEuNS0wLjJjLTEuMiwwLTIuMiwwLjQtMi45LDEuMnMtMS4xLDItMS4xLDMuNmMwLDEuNSwwLjMsMi42LDAuOCwzLjRjMC41LDAuOCwxLjQsMS4yLDIuNiwxLjJjMC43LDAsMS4zLTAuMSwyLTAuNFMxMjYuNiwzMi40LDEyNy4yLDMyeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNDIuMiwyNC44aC0wLjFjLTAuMy0wLjEtMC43LTAuMS0xLTAuMmMtMC4zLDAtMC43LTAuMS0xLjEtMC4xYy0wLjcsMC0xLjQsMC4yLTIsMC41Yy0wLjYsMC4zLTEuMywwLjctMS45LDEuMnY5LjRIMTM0VjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE1NC44LDM1LjZoLTIuMnYtMS40Yy0wLjIsMC4xLTAuNSwwLjMtMC44LDAuNnMtMC43LDAuNC0xLDAuNmMtMC40LDAuMi0wLjgsMC4zLTEuMywwLjVjLTAuNSwwLjEtMS4xLDAuMi0xLjcsMC4yYy0xLjIsMC0yLjItMC40LTMtMS4yYy0wLjgtMC44LTEuMi0xLjgtMS4yLTNjMC0xLDAuMi0xLjgsMC42LTIuNGMwLjQtMC42LDEtMS4xLDEuOC0xLjVjMC44LTAuNCwxLjgtMC42LDIuOS0wLjdzMi40LTAuMiwzLjctMC4zdi0wLjNjMC0wLjUtMC4xLTAuOS0wLjMtMS4zYy0wLjItMC4zLTAuNC0wLjYtMC44LTAuOGMtMC4zLTAuMi0wLjctMC4zLTEuMS0wLjRDMTUwLDI0LDE0OS41LDI0LDE0OSwyNGMtMC42LDAtMS4yLDAuMS0yLDAuMmMtMC43LDAuMi0xLjUsMC40LTIuMiwwLjdoLTAuMXYtMi4zYzAuNC0wLjEsMS4xLTAuMiwxLjktMC40YzAuOC0wLjEsMS42LTAuMiwyLjQtMC4yYzAuOSwwLDEuOCwwLjEsMi40LDAuMmMwLjcsMC4yLDEuMywwLjQsMS44LDAuOGMwLjUsMC40LDAuOSwwLjgsMS4xLDEuNGMwLjMsMC42LDAuNCwxLjMsMC40LDIuMlYzNS42eiBNMTUyLjYsMzIuM3YtMy43Yy0wLjcsMC0xLjUsMC4xLTIuNCwwLjJzLTEuNywwLjItMi4yLDAuM2MtMC42LDAuMi0xLjIsMC41LTEuNiwwLjlzLTAuNiwwLjktMC42LDEuNmMwLDAuOCwwLjIsMS4zLDAuNywxLjdzMS4yLDAuNiwyLjEsMC42YzAuOCwwLDEuNS0wLjIsMi4yLTAuNUMxNTEuNCwzMy4xLDE1MiwzMi44LDE1Mi42LDMyLjN6IE0xNDguNCwyMC4xSDE0NnYtMi4zaDIuNFYyMC4xeiBNMTUzLjMsMjAuMWgtMi40di0yLjNoMi40VjIwLjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE3MC4zLDM1LjZoLTIuMnYtNy42YzAtMC42LDAtMS4yLTAuMS0xLjdzLTAuMi0xLTAuNC0xLjNjLTAuMi0wLjMtMC41LTAuNi0wLjktMC43Yy0wLjQtMC4yLTAuOS0wLjItMS41LTAuMmMtMC42LDAtMS4yLDAuMi0xLjksMC41Yy0wLjcsMC4zLTEuMywwLjctMS45LDEuMnY5LjloLTIuMlYyMi4zaDIuMnYxLjVjMC43LTAuNiwxLjQtMSwyLjItMS40YzAuNy0wLjMsMS41LTAuNSwyLjMtMC41YzEuNCwwLDIuNSwwLjQsMy4zLDEuM2MwLjgsMC45LDEuMSwyLjEsMS4xLDMuN1YzNS42eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xODQuMywzMS44YzAsMS4yLTAuNSwyLjItMS41LDNjLTEsMC44LTIuNCwxLjItNC4xLDEuMmMtMSwwLTEuOS0wLjEtMi43LTAuNGMtMC44LTAuMi0xLjUtMC41LTIuMS0wLjh2LTIuNWgwLjFjMC43LDAuNSwxLjUsMSwyLjQsMS4zczEuNywwLjUsMi41LDAuNWMxLDAsMS44LTAuMiwyLjMtMC41YzAuNi0wLjMsMC44LTAuOCwwLjgtMS41YzAtMC41LTAuMi0wLjktMC41LTEuMnMtMC45LTAuNS0xLjctMC43Yy0wLjMtMC4xLTAuNy0wLjItMS4yLTAuM2MtMC41LTAuMS0xLTAuMi0xLjQtMC4zYy0xLjItMC4zLTItMC44LTIuNS0xLjRjLTAuNS0wLjYtMC43LTEuMy0wLjctMi4yYzAtMC41LDAuMS0xLjEsMC4zLTEuNWMwLjItMC41LDAuNi0wLjksMS0xLjNjMC40LTAuNCwxLTAuNywxLjctMC45YzAuNy0wLjIsMS41LTAuMywyLjMtMC4zYzAuOCwwLDEuNiwwLjEsMi40LDAuM2MwLjgsMC4yLDEuNSwwLjQsMiwwLjd2Mi40aC0wLjFjLTAuNi0wLjQtMS4zLTAuOC0yLjEtMS4xYy0wLjgtMC4zLTEuNi0wLjQtMi40LTAuNGMtMC44LDAtMS41LDAuMi0yLjEsMC41Yy0wLjYsMC4zLTAuOCwwLjgtMC44LDEuNGMwLDAuNSwwLjIsMSwwLjUsMS4yYzAuMywwLjMsMC45LDAuNSwxLjYsMC43YzAuNCwwLjEsMC45LDAuMiwxLjQsMC4zYzAuNSwwLjEsMC45LDAuMiwxLjMsMC4zYzEsMC4yLDEuOCwwLjYsMi40LDEuMkMxODQsMzAsMTg0LjMsMzAuOCwxODQuMywzMS44eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOTguNywyOS4yaC05LjhjMCwwLjgsMC4xLDEuNSwwLjQsMi4xczAuNiwxLjEsMSwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwwLjljMC42LDAuMiwxLjIsMC4zLDEuOSwwLjNjMC45LDAsMS44LTAuMiwyLjctMC41YzAuOS0wLjQsMS42LTAuNywyLTEuMWgwLjF2Mi40Yy0wLjgsMC4zLTEuNSwwLjYtMi4zLDAuOHMtMS42LDAuMy0yLjUsMC4zYy0yLjIsMC0zLjktMC42LTUuMi0xLjhjLTEuMi0xLjItMS45LTIuOS0xLjktNS4xYzAtMi4yLDAuNi0zLjksMS44LTUuMmMxLjItMS4zLDIuNy0xLjksNC43LTEuOWMxLjgsMCwzLjIsMC41LDQuMSwxLjZzMS41LDIuNSwxLjUsNC41VjI5LjJ6IE0xOTYuNSwyNy41YzAtMS4yLTAuMy0yLjEtMC45LTIuN3MtMS41LTEtMi43LTFjLTEuMiwwLTIuMiwwLjQtMi45LDEuMWMtMC43LDAuNy0xLjEsMS42LTEuMiwyLjZIMTk2LjV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTIxMC41LDI0LjhoLTAuMWMtMC4zLTAuMS0wLjctMC4xLTEtMC4yYy0wLjMsMC0wLjctMC4xLTEuMS0wLjFjLTAuNywwLTEuNCwwLjItMiwwLjVjLTAuNiwwLjMtMS4zLDAuNy0xLjksMS4ydjkuNGgtMi4yVjIyLjNoMi4ydjJjMC45LTAuNywxLjctMS4yLDIuMy0xLjVjMC43LTAuMywxLjQtMC40LDIuMS0wLjRjMC40LDAsMC43LDAsMC44LDBjMC4yLDAsMC40LDAuMSwwLjgsMC4xVjI0Ljh6Ii8+PC9nPjwvZz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIuNSw0Ny4zYy0xMS4yLDAtMjAuMy05LjEtMjAuMy0yMC4zUzIxLjMsNi43LDMyLjUsNi43YzExLjIsMCwyMC4zLDkuMSwyMC4zLDIwLjNTNDMuNyw0Ny4zLDMyLjUsNDcuM3oiLz48cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzIuNSw3LjdjMTAuNywwLDE5LjMsOC43LDE5LjMsMTkuM2MwLDEwLjctOC43LDE5LjMtMTkuMywxOS4zYy0xMC43LDAtMTkuMy04LjctMTkuMy0xOS4zQzEzLjIsMTYuMywyMS44LDcuNywzMi41LDcuNyBNMzIuNSw1LjdjLTExLjcsMC0yMS4zLDkuNS0yMS4zLDIxLjNjMCwxMS43LDkuNSwyMS4zLDIxLjMsMjEuM2MxMS43LDAsMjEuMy05LjUsMjEuMy0yMS4zQzUzLjcsMTUuMiw0NC4yLDUuNywzMi41LDUuN0wzMi41LDUuN3oiLz48L2c+PGxpbmUgY2xhc3M9InN0MyIgeDE9IjI2LjciIHkxPSIxNC4zIiB4Mj0iMzQuNCIgeTI9IjI2LjUiLz48bGluZSBjbGFzcz0ic3QzIiB4MT0iMjUuMyIgeTE9IjMzLjMiIHgyPSIzNC41IiB5Mj0iMjYuOSIvPjxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjQ4LjYiIGN5PSIzNi4yIiByPSIxMi45Ii8+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQxLjMsMjkuOEg0NHY1LjRoMGw0LjItNS40aDMuNGwtNC44LDYuMWw1LDYuN2gtMy4zbC00LjUtNmgwdjZoLTIuN1YyOS44eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01NS4xLDM0LjJ2MS4yaDBjMC4yLTAuNCwwLjUtMC43LDAuOS0xYzAuMy0wLjIsMC42LTAuNCwwLjktMC40YzAuMiwwLDAuMywwLDAuNSwwdjIuN2MtMC4yLDAtMC40LTAuMS0wLjYtMC4xYy0wLjUsMC0wLjksMC4yLTEuMiwwLjVjLTAuMywwLjQtMC40LDAuOS0wLjQsMS41djMuN2gtMi41di04LjNINTUuMXoiLz48L2c+PGxpbmUgY2xhc3M9InN0NCIgeDE9IjE2IiB5MT0iMjciIHgyPSIxOC40IiB5Mj0iMjciLz48bGluZSBjbGFzcz0ic3Q0IiB4MT0iMzIuNyIgeTE9IjEyLjciIHgyPSIzMi43IiB5Mj0iMTAuMyIvPjxsaW5lIGNsYXNzPSJzdDQiIHgxPSIzMi41IiB5MT0iNDQuMiIgeDI9IjMyLjUiIHkyPSI0MS44Ii8+PC9zdmc+"/> </a><div id="InloggadLandscape" style="color:#fff; display:inline-block; float: right; font-size: 18px; padding-top: 3px;"></div></div></div>', t || (e = e.replace(/<a\b[^>]*>(.*?)<\/a>/g, ""));
    var i = (new DOMParser).parseFromString(e, "text/html");
    if (document.body.insertBefore(i.firstChild, document.getElementsByTagName("canvas")[0]), t)
        for (var n = document.getElementsByClassName("PausePlay"), o = document.getElementsByClassName("SelfTest"), s = document.getElementsByClassName("PlayLimit"), a = 0; a < n.length; a++) n[a].href = UHT_GAME_CONFIG.pauseplayUrl, o[a].href = UHT_GAME_CONFIG.selftestUrl, s[a].href = UHT_GAME_CONFIG.playlimitUrl;
    this.elapsedTimeContainerLandscape = document.getElementById("InloggadLandscape"), this.elapsedTimeContainerPortrait = document.getElementById("InloggadPortrait"), document.getElementsByTagName("canvas")[0].classList.add("SwedishCanvas")
}, SwedishRegulationManager.prototype.UpdateTimer = function () {
    var t = (new Date).getTime();
    this.elapsedTime = Math.floor((t - this.initialTime) / 1e3) + this.initialElapsedTime;
    var e = (parseInt(this.elapsedTime, 10) % 60).toString(),
        i = parseInt(parseInt(this.elapsedTime, 10) / 60 % 60, 10).toString(),
        n = parseInt(parseInt(this.elapsedTime, 10) / 3600, 10).toString();
    e.length < 2 && (e = "0" + e), i.length < 2 && (i = "0" + i), n.length < 2 && (n = "0" + n), this.elapsedTimeContainerLandscape.innerHTML = "Inloggad: " + n + ":" + i + ":" + e, null != this.elapsedTimeContainerPortrait && (this.elapsedTimeContainerPortrait.innerHTML = "Inloggad: " + n + ":" + i + ":" + e)
}, SwedishRegulationManager.prototype.OnUHTResize = function (t) {
    var e = document.getElementsByTagName("canvas")[0],
        i = document.getElementsByClassName("RGSContainerActive")[0].dataset,
        n = UHTScreen.height / window.innerHeight,
        o = 1 - i.height * n / UHTScreen.height,
        s = (document.documentElement.className.indexOf("iPhone") >= 0 && "Mobile" == document.documentElement.id && 90 == window.orientation ? 1 : -1) * (i.height * n / (UHTScreen.height - i.height * n) / 2) * 100;
    e.style.transform = "scale(" + o + ") translateY(" + s + "%)"
}, goog.provide("UHT.TournamentConnection"), TournamentConnection.instance = null, TournamentConnection.PromoHolder = function (t, e) {
    this.id = t, this.type = e, this.uid = TournamentConnection.PromoHolder.GetUID(t, e), this.promotion = null, this.details = null, this.leaderboard = null, this.score = null, this.isNew = !0, this.prizesType = TournamentProtocol.PrizePoolType.Invalid, this.generatedLeaderboard = null, this.expandedLeaderboard = null, this.cumulatedLeaderboard = null, this.maxLeaderboardPosition = -1, this.isMerged = !1
}, TournamentConnection.PromoHolder.GetUID = function (t, e) {
    return e + "#" + t
}, TournamentConnection.PromoHolder.Compare = function (t, e) {
    var i = 0;
    return 0 == (i = (null != t.promotion ? -1 : 1) - (null != e.promotion ? -1 : 1)) && null == t.promotion || (0 == i && (i = t.promotion.status - e.promotion.status), 0 == i && (i = t.type - e.type), 0 == i && (t.type == TournamentProtocol.PromoType.Race && 0 == (i = (null != t.details ? -1 : 1) - (null != e.details ? -1 : 1)) && null != t.details && 0 == (i = (null != t.details.prizePool ? -1 : 1) - (null != e.details.prizePool ? -1 : 1)) && null != t.details.prizePool && (i = e.details.prizePool.totalCount - t.details.prizePool.totalCount), t.type == TournamentProtocol.PromoType.Tournament && (TournamentConnection.instance.CanUseLeaderboards() ? 0 == (i = (null != t.leaderboard ? -1 : 1) - (null != e.leaderboard ? -1 : 1)) && null != t.leaderboard && (i = t.leaderboard.playerPosition - e.leaderboard.playerPosition) : 0 == (i = (null != t.score ? -1 : 1) - (null != e.score ? -1 : 1)) && null != t.score && (i = t.score.position - e.score.position))), 0 == i && (t.promotion.status == TournamentProtocol.StatusCode.Open && (i = t.promotion.endDate - e.promotion.endDate), t.promotion.status == TournamentProtocol.StatusCode.StartsSoon && (i = t.promotion.startDate - e.promotion.startDate), t.promotion.status == TournamentProtocol.StatusCode.Closed && (i = e.promotion.endDate - t.promotion.endDate))), i
}, TournamentConnection.prototype.Update = function () {
    (this.isRacePrizesReloaded = !0, !this.isReloadindTournaments && this.tournamentsTimer >= this.reloadTournamentsInterval && (this.isReloadindTournaments = !0, this.Reload(this.tournamentsURL, this.tournamentsReloadedHandler)), !this.isReloadindLeaderboards && this.leaderboardsTimer >= this.reloadLeaderboardsInterval && this.activeTournaments && this.promotionsOpen) && ((!this.CanUseLeaderboards() || this.leaderboardOpen && null != this.selectedPromoHolder && this.selectedPromoHolder.type == TournamentProtocol.PromoType.Tournament) && (this.isReloadindLeaderboards = this.ReloadLeaderboards(this.leaderboardsURL, this.leaderboardReloadedHandler, !1)), this.isReloadindLeaderboards || (this.leaderboardsTimer = 0));
    (!this.isReloadingTournamentScores && this.tournamentScoresTimer >= this.reloadTournamentScoresInterval && this.activeTournaments && !this.promotionsOpen && (this.isReloadingTournamentScores = this.ReloadLeaderboards(this.tournamentScoresURL, this.tournamentScoresReloadedHandler, !0), this.isReloadingTournamentScores || (this.tournamentScoresTimer = 0)), !this.isReloadindRacePrizes && this.racePrizesTimer >= this.reloadRacePrizesInterval && this.activeRaces && (this.isReloadindRacePrizes = !0, this.Reload(this.racePrizesURL, this.racePrizesReloadedHandler)), !this.isReloadindRaceWinners && this.raceWinnersTimer >= this.reloadRaceWinnersInterval && this.activeRaces && this.promotionsOpen) && (!this.CanUseRaceWinners() || this.leaderboardOpen && null != this.selectedPromoHolder && this.selectedPromoHolder.type == TournamentProtocol.PromoType.Race ? (this.isReloadindRaceWinners = !0, this.ReloadRaceWinners()) : this.raceWinnersTimer = 0);
    this.tournamentsTimer += Time.deltaTime, this.leaderboardsTimer += Time.deltaTime, this.tournamentScoresTimer += Time.deltaTime, this.racePrizesTimer += Time.deltaTime, this.raceWinnersTimer += Time.deltaTime, this.reloadRaceDetails && (this.reloadRaceDetailsDelay -= Time.deltaTime, this.reloadRaceDetailsDelay <= 0 && (this.reloadRaceDetails = !1, this.Reload(this.raceDetailsURL, this.raceDetailsReloadedHandler))), this.reloadTournamentDetails && (this.reloadTournamentDetailsDelay -= Time.deltaTime, this.reloadTournamentDetailsDelay <= 0 && (this.reloadTournamentDetails = !1, this.Reload(this.detailsURL, this.detailsReloadedHandler))), this.isReloaded && (!this.hasUpdates || this.canUpdate && this.isRaceDetailsReloaded && this.isRacePrizesReloaded && this.isTournamentDetailsReloaded) && (this.ProcessPromotions(), this.xtLayer.SetDetails(this.GetDetails()), this.xtLayer.SetLeaderboards(this.GetLeaderboards()), this.xtLayer.SetTournaments(this.GetPromotions(!0)), this.hasUpdates && this.xtLayer.AnnouncePromotions(), this.canUpdate = !1, this.hasUpdates = !1, this.isReloaded = !1), this.CheckOptResponses()
}, TournamentConnection.prototype.Reload = function (t, e) {
    var i = new ServerRequest;
    i.Url = t, i.Handler = e, i.Method = "GET", RequestManager.AddRequest(i)
}, TournamentConnection.prototype.OnTournamentsReloaded = function (t, e) {
    this.tournamentsTimer = 0, this.isReloadindTournaments = !1, TournamentProtocol.TournamentParser.errorMessage = "PromoAPI Parsing Error (promo/active)";
    var i = TournamentProtocol.TournamentParser.ParseTournamentsResponse(t);
    if (null != i) {
        var n = [];
        this.ReloadIfNeeded(i.tournaments, this.tournamentIds, this.detailsURL, this.detailsReloadedHandler, n), this.ReloadIfNeeded(i.races, this.raceIds, this.raceDetailsURL, this.raceDetailsReloadedHandler, n), this.promoHolders = n, this.activeTournaments = !1, this.activeRaces = !1;
        for (var o = 0; o < this.promoHolders.length; o++) this.promoHolders[o].type == TournamentProtocol.PromoType.Tournament && (this.activeTournaments = !0), this.promoHolders[o].type == TournamentProtocol.PromoType.Race && (this.activeRaces = !0);
        this.xtLayer.SetServerTime(i.serverTime), this.isReloaded = !0
    } else this.xtLayer.SetTournaments(null)
}, TournamentConnection.prototype.OnDetailsReloaded = function (t, e) {
    TournamentProtocol.TournamentParser.errorMessage = "PromoAPI Parsing Error (promo/tournament/details)";
    var i = TournamentProtocol.TournamentParser.ParseDetailsResponse(t);
    if (null == i || null == i.details) return this.reloadTournamentDetails = !0, void(this.reloadTournamentDetailsDelay = this.retryInterval);
    for (var n = 0; n < i.details.length; ++n) {
        var o = this.FindPromoHolderInternal(i.details[n].id, TournamentProtocol.PromoType.Tournament);
        o.details = i.details[n], this.ConvertDetailsToPlayerCurrency(o), PromotionsHelper.ConvertDynamicFields(o.details), this.convertLeaderboardWhenDetailsReloaded && this.ConvertLeaderboardToPlayerCurrency(o)
    }
    this.isReloaded = !0, this.isTournamentDetailsReloaded = !0, this.convertLeaderboardWhenDetailsReloaded = !1
}, TournamentConnection.prototype.OnLeaderboardReloaded = function (t, e) {
    this.leaderboardsTimer = 0, this.isReloadindLeaderboards = !1, TournamentProtocol.TournamentParser.errorMessage = "PromoAPI Parsing Error (promo/tournament/leaderboard)";
    var i = TournamentProtocol.TournamentParser.ParseLeaderboardResponse(t);
    if (null != i) {
        if (null != i.leaderboards)
            for (var n = 0; n < i.leaderboards.length; ++n) {
                var o = this.FindPromoHolderInternal(i.leaderboards[n].tournamentID, TournamentProtocol.PromoType.Tournament);
                o.leaderboard = i.leaderboards[n], this.ConvertLeaderboardToPlayerCurrency(o)
            }
        this.isReloaded = !0, this.leaderboardsReloadedTime = this.tournamentScoresDiscardedTime = Time.time, XT.TriggerEvent(TournamentVars.Evt_Internal_LeaderboardsReloaded)
    }
}, TournamentConnection.prototype.OnRaceDetailsReloaded = function (t, e) {
    TournamentProtocol.TournamentParser.errorMessage = "PromoAPI Parsing Error (promo/race/details)";
    var i = TournamentProtocol.TournamentParser.ParseDetailsResponse(t);
    if (null == i || null == i.details) return this.reloadRaceDetails = !0, void(this.reloadRaceDetailsDelay = this.retryInterval);
    for (var n = 0; n < i.details.length; ++n) {
        var o = this.FindPromoHolderInternal(i.details[n].id, TournamentProtocol.PromoType.Race);
        if (null == o.details) o.details = i.details[n], this.isRacePrizesReloaded = !1;
        else {
            var s = o.details.prizePool.prizesList;
            o.details.prizePool = i.details[n].prizePool, o.details.prizePool.prizesList = s
        }
        o.details.htmlRules = i.details[n].htmlRules, o.details.shortHtmlRules = i.details[n].shortHtmlRules, o.details.prizePoolTotal = new TournamentProtocol.PrizePool(i.details[n].prizePool), o.details.currencyRateMap = i.details[n].currencyRateMap, this.ConvertDetailsToPlayerCurrency(o), PromotionsHelper.ConvertDynamicFields(o.details), this.updateWinnerPrizesWhenDetailsReloaded && this.UpdateWinnerPrizes(o)
    }
    this.isReloaded = !0, this.isRaceDetailsReloaded = !0, this.updateWinnerPrizesWhenDetailsReloaded = !1
}, TournamentConnection.prototype.OnRacePrizesReloaded = function (t, e) {
    this.racePrizesTimer = 0, this.isReloadindRacePrizes = !1, TournamentProtocol.TournamentParser.errorMessage = "PromoAPI Parsing Error (promo/race/prizes)";
    var i = TournamentProtocol.TournamentParser.ParseDetailsResponse(t);
    if (null != i && null != i.details) {
        for (var n = 0; n < i.details.length; ++n) {
            var o = this.FindPromoHolderInternal(i.details[n].id, TournamentProtocol.PromoType.Race);
            null == o.details && (o.details = i.details[n]), o.details.prizePool.prizesList = i.details[n].prizePool.prizesList, o.details.prizePool.totalCount = i.details[n].prizePool.totalCount, this.ConvertDetailsToPlayerCurrency(o), PromotionsHelper.ConvertDynamicFields(o.details)
        }
        this.isReloaded = !0, this.isRacePrizesReloaded = !0
    }
}, TournamentConnection.prototype.ReloadRaceWinners = function () {
    for (var t = [], e = 0; e < this.promoHolders.length; ++e)
        if (this.promoHolders[e].type == TournamentProtocol.PromoType.Race) {
            var i = '"' + this.promoHolders[e].id + '":';
            null == this.promoHolders[e].leaderboard || _string.IsNullOrEmpty(this.promoHolders[e].leaderboard.lastIdentity) ? i += "null" : i += '"' + this.promoHolders[e].leaderboard.lastIdentity + '"', t.push(i)
        } if (0 == t.length) return this.raceWinnersTimer = 0, void(this.isReloadindRaceWinners = !1);
    var n = new ServerRequest;
    n.Url = this.raceWinnersURL, n.Handler = this.raceWinnersReloadedHandler, n.PostData = '{"latestIdentity":{' + t.join(",") + "}}", n.ContentType = "application/json", RequestManager.AddRequest(n)
}, TournamentConnection.prototype.OnRaceWinnersReloaded = function (t, e) {
    this.raceWinnersTimer = 0, this.isReloadindRaceWinners = !1, TournamentProtocol.TournamentParser.errorMessage = "PromoAPI Parsing Error (promo/race/winners)";
    var i = TournamentProtocol.TournamentParser.ParseLeaderboardResponse(String(t));
    if (null != i) {
        if (null != i.leaderboards)
            for (var n = 0; n < i.leaderboards.length; ++n) {
                var o = this.FindPromoHolderInternal(i.leaderboards[n].tournamentID, TournamentProtocol.PromoType.Race),
                    s = o.cumulatedLeaderboard,
                    a = i.leaderboards[n];
                if (null != a && null != a.items) {
                    null != s && null != s.items && a.winnersAction == TournamentProtocol.WinnersActionType.Add && (a.items = a.items.concat(s.items), a.playerWinsCount += s.playerWinsCount, a.scoreHasDecimals = s.scoreHasDecimals || a.scoreHasDecimals), null == (s = o.leaderboard) && ((s = new TournamentProtocol.Leaderboard).uid = o.uid, s.tournamentID = o.id, s.items = []), _string.IsNullOrEmpty(a.lastIdentity) || (s.lastIdentity = a.lastIdentity), s.scoreHasDecimals = a.scoreHasDecimals, s.items.splice(0);
                    var r = this.GetPrizes(o),
                        l = a.hasCountryID ? TournamentLeaderboardItem.defaultCountryID : "",
                        u = null;
                    null != o.details && (u = o.details.currencyRateMap);
                    for (var h = 0; h < a.items.length; ++h) {
                        var c = a.items[h];
                        _string.IsNullOrEmpty(c.countryID) && (c.countryID = l), this.UpdateWinnerPrize(c, r, u)
                    }
                    if (this.SortPrizeDropWinners(a.items), a.playerWinsCount > 0) {
                        null == this.ldbItemTitle_0 && (this.ldbItemTitle_0 = new TournamentProtocol.LeaderboardItem, this.ldbItemTitle_0.winnerContent = TournamentProtocol.WinnerContentType.Title_0, this.ldbItemTitle_0.isPlayer = !0), s.items.push(this.ldbItemTitle_0);
                        for (h = 0; h < a.items.length; ++h) a.items[h].isPlayer && (a.items[h].valueIndexExtra = 1, s.items.push(a.items[h]))
                    }
                    if (a.playerWinsCount < a.items.length) {
                        null == this.ldbItemTitle_1 && (this.ldbItemTitle_1 = new TournamentProtocol.LeaderboardItem, this.ldbItemTitle_1.winnerContent = TournamentProtocol.WinnerContentType.Title_1), s.items.push(this.ldbItemTitle_1);
                        var p = s.items.length % 2;
                        for (h = 0; h < a.items.length; ++h) a.items[h].isPlayer || (a.items[h].valueIndexExtra = p, s.items.push(a.items[h]))
                    }
                    o.leaderboard = s, o.cumulatedLeaderboard = a
                }
            }
        this.isReloaded = !0, this.raceWinnersReloadedTime = Time.time
    }
}, TournamentConnection.prototype.UpdateWinnerPrizes = function (t) {
    var e = t.cumulatedLeaderboard;
    if (null != e) {
        var i = this.GetPrizes(t),
            n = null;
        null != t.details && (n = t.details.currencyRateMap);
        for (var o = 0; o < e.items.length; ++o) this.UpdateWinnerPrize(e.items[o], i, n)
    }
}, TournamentConnection.prototype.UpdateWinnerPrize = function (t, e, i) {
    var n = this.FindPrizeByID(e, t.prizeID);
    null != n ? (t.type = n.type, t.currency = n.currency, t.amount = n.amount, t.gift = n.gift, t.betMultiplier = n.betMultiplier, t.freeRoundAmount = n.freeRoundAmount, t.freeRoundLimitType = n.freeRoundLimitType, null != i && n.currency != t.memberCurrency && (t.scoreBet = PromotionsHelper.ConvertToPlayerCurrency(i, t.scoreBet, t.memberCurrency), t.effectiveBetForBetMultiplier = PromotionsHelper.ConvertToPlayerCurrency(i, t.effectiveBetForBetMultiplier, t.memberCurrency), t.memberCurrency = ServerOptions.currency), t.prize = t.effectiveBetForBetMultiplier * t.betMultiplier) : this.updateWinnerPrizesWhenDetailsReloaded = !0
}, TournamentConnection.prototype.GetPrizes = function (t) {
    return null == t || null == t.details || null == t.details.prizePoolTotal ? null : t.details.prizePoolTotal.prizesList
}, TournamentConnection.prototype.FindPrizeByID = function (t, e) {
    if (null == t) return null;
    for (var i = 0; i < t.length; ++i)
        if (e == t[i].prizeID) return t[i];
    return null
}, TournamentConnection.prototype.ConvertDetailsToPlayerCurrency = function (t) {
    var e = t.details;
    if (null != e && null != e.currencyRateMap) {
        var i = e.prizePool.prizesList;
        if (null != i)
            for (var n = 0; n < i.length; n++) {
                var o = PromotionsHelper.ConvertToPlayerCurrency(e.currencyRateMap, i[n].amount, e.prizePool.realCurrency);
                o > -.5 && (i[n].amount = o, i[n].currency = ServerOptions.currency, e.prizePool.currency = ServerOptions.currency)
            }
    }
}, TournamentConnection.prototype.ConvertLeaderboardToPlayerCurrency = function (t) {
    var e = t.details;
    if (null != e) {
        if (null != e && null != e.currencyRateMap && null != t.leaderboard)
            for (var i = t.leaderboard.items, n = 0; n < i.length; n++) {
                var o = PromotionsHelper.ConvertToPlayerCurrency(e.currencyRateMap, i[n].amount, i[n].memberCurrency);
                o > -.5 && (i[n].amount = o, i[n].scoreBet = PromotionsHelper.ConvertToPlayerCurrency(e.currencyRateMap, i[n].scoreBet, i[n].memberCurrency), i[n].effectiveBetForBetMultiplier = PromotionsHelper.ConvertToPlayerCurrency(e.currencyRateMap, i[n].effectiveBetForBetMultiplier, i[n].memberCurrency), i[n].memberCurrency = ServerOptions.currency)
            }
    } else this.convertLeaderboardWhenDetailsReloaded = !0
}, TournamentConnection.prototype.QueryPrefix = function (t) {
    return /\?/.test(t) ? "&" : "?"
}, TournamentConnection.prototype.ReloadIfNeeded = function (t, e, i, n, o) {
    if (null != t) {
        for (var s = !1, a = [], r = 0; r < t.length; ++r) {
            a.push(t[r].id);
            var l = this.FindPromoHolderInternal(t[r].id, t[r].type);
            l.isNew || null == l.promotion || !l.promotion.isOpted || t[r].isOpted || (l.isNew = !0, this.hasUpdates = !0), l.promotion = t[r], o.push(l), e.indexOf(t[r].id) < 0 && (s = !0, l.type == TournamentProtocol.PromoType.Race ? this.isRaceDetailsReloaded = !1 : l.type == TournamentProtocol.PromoType.Tournament && (this.isTournamentDetailsReloaded = !1))
        }
        e.splice(0);
        for (r = 0; r < a.length; ++r) e.push(a[r]);
        s && (this.hasUpdates = !0, this.Reload(i, n))
    }
}, TournamentConnection.prototype.FindPromoHolderInternal = function (t, e) {
    var i = this.FindPromoHolder(TournamentConnection.PromoHolder.GetUID(t, e));
    return null == i && (i = new TournamentConnection.PromoHolder(t, e), this.promoHolders.push(i), i.type == TournamentProtocol.PromoType.Tournament && (this.activeTournaments = !0), i.type == TournamentProtocol.PromoType.Race && (this.activeRaces = !0)), i
}, TournamentConnection.prototype.FindPromoHolder = function (t) {
    for (var e = 0; e < this.promoHolders.length; ++e)
        if (this.promoHolders[e].uid == t) return this.promoHolders[e];
    return null
}, TournamentConnection.prototype.FindNewPromoHolders = function () {
    for (var t = [], e = !1, i = [], n = [], o = 0; o < this.promoHolders.length; ++o)
        if (null != this.promoHolders[o].promotion && this.promoHolders[o].promotion.displayStyle == TournamentProtocol.DisplayStyle.DropsAndWins && this.promoHolders[o].isNew && null != this.promoHolders[o].details && null != this.promoHolders[o].promotion && !this.promoHolders[o].promotion.isOpted && "" != this.promoHolders[o].promotion.promotionId) {
            var s = n.indexOf(this.promoHolders[o].promotion.promotionId); - 1 == s && (n.push(this.promoHolders[o].promotion.promotionId), i.push([]), s = n.length - 1), i[s].push(this.promoHolders[o])
        } for (o = 0; o < i.length; o++) 2 == i[o].length && (i[o].sort((function (t, e) {
        return e.promotion.type - t.promotion.type
    })), i[o][0].isMerged = !0, i[o][0].details.htmlRulesForOptIn = i[o][0].promotion.name + "\n\n" + i[o][0].details.htmlRules + "\n\n" + i[o][1].promotion.name + "\n\n" + i[o][1].details.htmlRules, t.push(i[o][0]), t.push(i[o][1]), e = !0);
    for (o = 0; o < this.promoHolders.length; ++o) null != this.promoHolders[o].promotion && this.promoHolders[o].promotion.displayStyle == TournamentProtocol.DisplayStyle.DropsAndWins && this.promoHolders[o].isNew && null != this.promoHolders[o].details && null != this.promoHolders[o].promotion && !this.promoHolders[o].promotion.isOpted && "" != this.promoHolders[o].promotion.promotionId && e || this.promoHolders[o].isNew && null != this.promoHolders[o].details && null != this.promoHolders[o].promotion && (this.promoHolders[o].isNew = !1, this.promoHolders[o].promotion.isOpted || (this.promoHolders[o].details.htmlRulesForOptIn = this.promoHolders[o].details.htmlRules, t.push(this.promoHolders[o])));
    return t
}, TournamentConnection.prototype.GetPromotions = function (t) {
    var e = [];
    t && this.promoHolders.sort(TournamentConnection.PromoHolder.Compare);
    for (var i = 0; i < this.promoHolders.length; ++i)
        if (null != this.promoHolders[i].promotion && this.promoHolders[i].promotion.clientMode == TournamentProtocol.ClientMode.Visible) {
            if (this.promoHolders[i].promotion.isActiveInOtherGames && this.promoHolders[i].promotion.status == TournamentProtocol.StatusCode.Closed) continue;
            _string.IsNullOrEmpty(this.promoHolders[i].promotion.uid) && (this.promoHolders[i].promotion.uid = this.promoHolders[i].uid), e.push(this.promoHolders[i].promotion)
        } return e.length > 0 ? e : null
}, TournamentConnection.prototype.GetPromotionForRankInfo = function () {
    for (var t = [], e = !1, i = !1, n = 0; n < this.promoHolders.length; ++n) {
        var o = this.promoHolders[n];
        null != o.promotion && o.promotion.clientMode == TournamentProtocol.ClientMode.Visible && o.type != TournamentProtocol.PromoType.Invalid && (_string.IsNullOrEmpty(o.promotion.uid) && (o.promotion.uid = o.uid), o.type == TournamentProtocol.PromoType.Tournament && (o.promotion.status != TournamentProtocol.StatusCode.Open && e || t.push(o.promotion), e = !0), o.type == TournamentProtocol.PromoType.Race && (o.promotion.status != TournamentProtocol.StatusCode.Open && i || t.push(o.promotion), i = !0))
    }
    return t.length > 0 ? t : null
}, TournamentConnection.prototype.GetDetails = function () {
    for (var t = [], e = 0; e < this.promoHolders.length; ++e) null != this.promoHolders[e].details && (_string.IsNullOrEmpty(this.promoHolders[e].details.uid) && (this.promoHolders[e].details.uid = this.promoHolders[e].uid), this.promoHolders[e].type == TournamentProtocol.PromoType.Race && null != this.promoHolders[e].promotion && this.promoHolders[e].promotion.status == TournamentProtocol.StatusCode.Closed && null != this.promoHolders[e].details.prizePool && null != this.promoHolders[e].details.prizePool.prizesList && (this.promoHolders[e].details.prizePool.prizesList = null), t.push(this.promoHolders[e].details));
    return t.length > 0 ? t : null
}, TournamentConnection.prototype.GetLeaderboards = function () {
    for (var t = [], e = 0; e < this.promoHolders.length; ++e) null != this.promoHolders[e].leaderboard && (_string.IsNullOrEmpty(this.promoHolders[e].leaderboard.uid) && (this.promoHolders[e].leaderboard.uid = this.promoHolders[e].uid), t.push(this.promoHolders[e].leaderboard));
    return t.length > 0 ? t : null
}, TournamentConnection.prototype.SendOptRequest = function (t, e) {
    var i = this.FindPromoHolder(t);
    null != i && (i.promotion.type == TournamentProtocol.PromoType.Tournament ? this.InternalSendOptRequest(e ? this.tournamentOptInURL : this.tournamentOptOutURL, t, i.id) : i.promotion.type == TournamentProtocol.PromoType.Race && this.InternalSendOptRequest(e ? this.raceOptInURL : this.raceOptOutURL, t, i.id))
}, TournamentConnection.prototype.InternalSendOptRequest = function (t, e, i) {
    var n = new ServerRequest;
    n.Url = t, n.PostData = '{"promoID":' + String(i) + "}", n.ContentType = "application/json", RequestManager.AddRequest(n), this.optRequests[e] = n
}, TournamentConnection.prototype.CheckOptResponses = function () {
    if (0 != Object.keys(Object(this.optRequests)).length) {
        var t = [],
            e = this.optRequests;
        for (var i in this.optRequests = {}, e) {
            var n = e[i];
            if (n.IsDone()) {
                TournamentProtocol.TournamentParser.errorMessage = "PromoAPI Parsing Error (player/choice)";
                var o = TournamentProtocol.TournamentParser.ParseBaseResponse(n.request.Data),
                    s = this.FindPromoHolder(i);
                null == o || o.error != TournamentProtocol.ErrorCode.None ? this.InternalSendOptRequest(n.Url, i, s.id) : (s.promotion.isOpted = !0, n.Url.indexOf("OPTOUT") > -1 && t.push(i))
            } else this.optRequests[i] = n
        }
        if (0 != t.length) {
            var a = this.promoHolders;
            this.promoHolders = [], this.activeTournaments = !1, this.activeRaces = !1;
            for (var r = 0; r < a.length; ++r) t.indexOf(a[r].uid) < 0 && (this.promoHolders.push(a[r]), a[r].type == TournamentProtocol.PromoType.Tournament && (this.activeTournaments = !0), a[r].type == TournamentProtocol.PromoType.Race && (this.activeRaces = !0));
            t.indexOf(XT.GetString(TournamentVars.SelectedTournamentID)) > -1 && XT.SetString(TournamentVars.SelectedTournamentID, ""), this.xtLayer.SetTournaments(this.GetPromotions(!1))
        }
    }
}, TournamentConnection.prototype.ProcessPromotions = function () {
    for (var t = 0; t < this.promoHolders.length; ++t) {
        var e = this.promoHolders[t];
        if (null != e.promotion) {
            var i = this.GetPrizePoolType(e);
            if (e.prizesType = e.promotion.prizesType = i, null != e.details && null != e.details.prizePool && e.promotion.type == TournamentProtocol.PromoType.Tournament) {
                var n = e.details.prizePool.totalCount * this.timesNumberOfPrizesAKAMaxLeaderboardPosition;
                e.maxLeaderboardPosition = n > 0 ? n : -1
            }
            i != TournamentProtocol.PrizePoolType.Invalid && this.OmitLeaderboardItemsAfterMaxPosition(e), i != TournamentProtocol.PrizePoolType.Invalid && i != TournamentProtocol.PrizePoolType.AG && (e.promotion.type == TournamentProtocol.PromoType.Tournament ? (null == e.generatedLeaderboard && this.GenerateExpandedLeaderboard(e), this.PopulateExpandedLeaderboard(e)) : e.promotion.type == TournamentProtocol.PromoType.Race && this.PopulatePrizesTotalCount(e))
        }
    }
}, TournamentConnection.prototype.GetPrizePoolType = function (t) {
    if (null == t.details || null == t.details.prizePool || null == t.details.prizePool.prizesList) return t.prizesType;
    for (var e = t.details.prizePool.prizesList, i = 0, n = 0; n < e.length; ++n) e[n].type == TournamentProtocol.PrizeType.BetMultiplier && i++;
    return i > 0 ? i == e.length ? TournamentProtocol.PrizePoolType.BM : TournamentProtocol.PrizePoolType.AGBM : TournamentProtocol.PrizePoolType.AG
}, TournamentConnection.prototype.GenerateExpandedLeaderboard = function (t) {
    for (var e = [], i = t.details.prizePool.prizesList, n = 0; n < i.length; ++n)
        for (var o = i[n], s = o.placeTo - o.placeFrom + 1, a = 0; a < s; ++a) {
            var r = new TournamentProtocol.LeaderboardItem;
            r.position = o.placeFrom + a, r.type = o.type, r.currency = o.currency, r.amount = o.amount, r.gift = o.gift, r.betMultiplier = o.betMultiplier, r.freeRoundAmount = o.freeRoundAmount, r.freeRoundLimitType = o.freeRoundLimitType, e.push(r)
        }
    t.generatedLeaderboard = new TournamentProtocol.Leaderboard, t.generatedLeaderboard.items = e
}, TournamentConnection.prototype.PopulateExpandedLeaderboard = function (t) {
    var e = t.leaderboard;
    null == e && (e = new TournamentProtocol.Leaderboard);
    var i = e.items;
    null == i && (i = []);
    for (var n = t.generatedLeaderboard.items.slice(), o = 0; o < n.length; ++o) {
        if (null != (a = this.FindLeaderboardItem(i, n[o].position))) {
            var s = n[o];
            a.type = s.type, a.currency = s.currency, a.amount = s.amount, a.gift = s.gift, a.betMultiplier = s.betMultiplier, a.prize = a.effectiveBetForBetMultiplier * a.betMultiplier, a.freeRoundAmount = s.freeRoundAmount, a.freeRoundLimitType = s.freeRoundLimitType, n[o] = a
        }
    }
    for (o = 0; o < i.length; ++o) {
        var a;
        null == (a = this.FindLeaderboardItem(n, i[o].position)) && n.push(i[o])
    }
    if (null == t.expandedLeaderboard) {
        var r = new TournamentProtocol.Leaderboard;
        r.uid = t.promotion.uid, r.tournamentID = t.promotion.id, t.expandedLeaderboard = r
    }
    t.expandedLeaderboard.items = n
}, TournamentConnection.prototype.FindLeaderboardItem = function (t, e) {
    for (var i = 0; i < t.length; ++i)
        if (t[i].position == e) return t[i];
    return null
}, TournamentConnection.prototype.PopulatePrizesTotalCount = function (t) {
    if (null != t.details && null != t.details.prizePool && null != t.details.prizePool.prizesList && null != t.details.prizePoolTotal && null != t.details.prizePoolTotal.prizesList)
        for (var e = t.details.prizePool.prizesList, i = t.details.prizePoolTotal.prizesList, n = 0; n < e.length; ++n) {
            var o = e[n],
                s = this.FindPrizeByID(i, o.prizeID);
            null != s && (o.totalCount = s.count)
        }
}, TournamentConnection.prototype.OmitLeaderboardItemsAfterMaxPosition = function (t) {
    if (!(null == t.leaderboard || null == t.leaderboard.items || t.leaderboard.items.length < 2)) {
        for (var e = t.leaderboard.items, i = -1, n = 1; n < e.length; ++n)
            if (t.maxLeaderboardPosition > -1 && e[n].position > t.maxLeaderboardPosition) {
                i = n;
                break
            } if (!(i < 0)) {
            var o = [];
            for (n = i; n < e.length; ++n) o.push(e[n]), e[n].isPlayer && (t.leaderboard.playerIndex = -1, t.leaderboard.playerIndexOmitted = o.length - 1);
            t.leaderboard.itemsOmitted = o, e.splice(i, e.length - i)
        }
    }
}, TournamentConnection.prototype.ReloadLeaderboards = function (t, e, i) {
    for (var n = [], o = 0; o < this.promoHolders.length; ++o) {
        var s = this.promoHolders[o],
            a = s.promotion;
        if (null != a && a.type == TournamentProtocol.PromoType.Tournament && a.status != TournamentProtocol.StatusCode.StartsSoon && !a.isActiveInOtherGames && (!i || a.status == TournamentProtocol.StatusCode.Open)) {
            if (i ? null != s.score : null != s.leaderboard)
                if (XT.GetInt(TournamentVars.ServerTime) - a.endDate > this.reloadEndedLeaderboardsInterval) continue;
            n.push(a.id)
        }
    }
    if (n.length > 0) {
        var r = "tournamentIDs=" + n.join(",");
        return this.Reload(t + this.QueryPrefix(t) + r, e), !0
    }
    return !1
}, TournamentConnection.prototype.OnTournamentScoresReloaded = function (t, e) {
    this.tournamentScoresTimer = 0, this.isReloadingTournamentScores = !1, TournamentProtocol.TournamentParser.errorMessage = "PromoAPI Parsing Error (promo/tournament/scores)";
    var i = TournamentProtocol.TournamentParser.ParseTournamentScoresResponse(t);
    if (null != i) {
        if (null != i.scores)
            for (var n = 0; n < i.scores.length; ++n) {
                this.FindPromoHolderInternal(i.scores[n].tournamentID, TournamentProtocol.PromoType.Tournament).score = i.scores[n]
            }
        this.isReloaded = !0, this.tournamentScoresReloadedTime = this.leaderboardsDiscardedTime = Time.time
    }
}, TournamentConnection.prototype.PromotionsOpen = function () {
    this.promotionsOpen = !0;
    Time.time;
    this.CanUseLeaderboards() || this.isReloadindLeaderboards || (this.leaderboardsTimer = this.reloadLeaderboardsInterval), this.CanUseRaceWinners() || this.isReloadindRaceWinners || (this.raceWinnersTimer = this.reloadRaceWinnersInterval)
}, TournamentConnection.prototype.PromotionsClosed = function () {
    this.promotionsOpen = !1
}, TournamentConnection.prototype.LeaderboardOpen = function () {
    this.leaderboardOpen = !0
}, TournamentConnection.prototype.LeaderboardClosed = function () {
    this.leaderboardOpen = !1
}, TournamentConnection.prototype.CanUseLeaderboards = function () {
    return this.promotionsOpen ? this.leaderboardsReloadedTime > this.leaderboardsDiscardedTime : this.tournamentScoresReloadedTime < this.tournamentScoresDiscardedTime
}, TournamentConnection.prototype.CanUseRaceWinners = function () {
    return this.raceWinnersReloadedTime > 1e-4
}, TournamentConnection.prototype.SelectedTournamentIDChanged = function (t) {
    this.selectedPromoHolder = this.FindPromoHolder(t)
}, TournamentConnection.prototype.SortPrizeDropWinners = function (t) {
    if (null != t) {
        for (var e = 0; e < t.length; ++e)
            if (t[e].type != TournamentProtocol.PrizeType.Amount && t[e].type != TournamentProtocol.PrizeType.BetMultiplier) return;
        t.sort(TournamentConnection.SortPrizeDropWinnersByAmount)
    }
}, TournamentConnection.SortPrizeDropWinnersByAmount = function (t, e) {
    var i = t.type == TournamentProtocol.PrizeType.BetMultiplier ? t.prize : t.amount;
    return (e.type == TournamentProtocol.PrizeType.BetMultiplier ? e.prize : e.amount) - i
};
var PromotionsHelper = {
    lastPromotionShownIndex: 0,
    currentPromotionsUUID: "",
    Formats: {
        beyondMaxRank: "{0}+",
        scoreOptions: null
    },
    RankInfo: function () {
        this.uid = "", this.realUID = "", this.value = -1, this.type = TournamentProtocol.PromoType.Invalid, this.style = TournamentProtocol.ClientStyle.Invalid
    },
    AnnouncementInfo: function () {
        this.uid = "", this.type = TournamentProtocol.PromoType.Invalid, this.currency = "", this.prizesCount = 0, this.prizesAmount = 0, this.description = ""
    },
    FindPromotion: function (t) {
        if (_string.IsNullOrEmpty(t)) return null;
        var e = TournamentConnection.instance.FindPromoHolder(t);
        return null == e ? null : e.promotion
    },
    FindDetails: function (t) {
        if (_string.IsNullOrEmpty(t)) return null;
        var e = TournamentConnection.instance.FindPromoHolder(t);
        return null == e ? null : e.details
    },
    FindLeaderboard: function (t, e) {
        if (e = null != e && e, _string.IsNullOrEmpty(t)) return null;
        var i = TournamentConnection.instance.FindPromoHolder(t);
        return null == i ? null : e ? i.expandedLeaderboard : i.leaderboard
    },
    GetRankInfo: function () {
        var t = new PromotionsHelper.RankInfo,
            e = TournamentConnection.instance;
        if (null == e) return t;
        var i = e.GetPromotionForRankInfo();
        if (null == i) return t;
        PromotionsHelper.lastPromotionShownIndex %= i.length;
        var n = PromotionsHelper.lastPromotionShownIndex;
        if (XT.GetBool(TournamentVars.DisplayingPromotionsInOtherGames)) {
            var o = XT.GetString(TournamentVars.RankPromotionID);
            if ("" == o) return t;
            for (var s = 0; s < i.length; s++) i[s].uid == o && (n = s)
        }
        var a = e.FindPromoHolder(i[n].uid);
        return null == a ? t : (t.type = a.type, t.style = i[n].clientStyle, t.realUID = a.uid, i[n].status != TournamentProtocol.StatusCode.Open || (t.uid = a.uid, a.type == TournamentProtocol.PromoType.Tournament ? e.CanUseLeaderboards() ? null != a.leaderboard && (t.value = a.leaderboard.playerIndex > -1 || a.leaderboard.playerIndexOmitted > -1 ? a.leaderboard.playerPosition : -1) : null != a.score && (t.value = a.score.position) : a.type == TournamentProtocol.PromoType.Race && null != a.details && null != a.details.prizePool && (t.value = a.details.prizePool.totalCount > 0 ? a.details.prizePool.totalCount : -1), PromotionsHelper.currentPromotionsUUID = t.uid, XT.TriggerEvent(TournamentVars.Evt_Internal_UpdatePromotionWarning)), t)
    },
    GetPromotionType: function (t) {
        if (_string.IsNullOrEmpty(t)) return TournamentProtocol.PromoType.Invalid;
        var e = TournamentConnection.instance.FindPromoHolder(t);
        return null == e ? TournamentProtocol.PromoType.Invalid : e.type
    },
    GetAnnouncements: function () {
        for (var t = [], e = TournamentConnection.instance.FindNewPromoHolders(), i = 0; i < e.length; ++i)
            if (!e[i].promotion.isActiveInOtherGames) {
                var n = new PromotionsHelper.AnnouncementInfo;
                n.uid = e[i].uid, n.type = e[i].type, n.prizesCount = e[i].details.prizePool.totalCount, n.prizesAmount = e[i].details.prizePool.totalAmount, n.description = e[i].details.shortHtmlRules, t.push(n)
            } return t
    },
    GetUID: function (t, e) {
        return TournamentConnection.PromoHolder.GetUID(t, e)
    },
    GetCurrency: function (t) {
        if (_string.IsNullOrEmpty(t)) return ServerOptions.realCurrency;
        var e = TournamentConnection.instance.FindPromoHolder(t);
        return null == e || null == e.details || null == e.details.prizePool ? ServerOptions.realCurrency : e.details.prizePool.currency
    },
    OptIn: function (t) {
        TournamentConnection.instance.SendOptRequest(t, !0)
    },
    OptOut: function (t) {
        TournamentConnection.instance.SendOptRequest(t, !1)
    },
    PromotionAvailable: function (t) {
        var e = PromotionsHelper.FindPromotion(t);
        return null != e && !(e.status == TournamentProtocol.StatusCode.Open && e.endDate - XT.GetInt(TournamentVars.ServerTime) <= 0)
    },
    FindPlayerInLeaderboard: function (t) {
        var e = PromotionsHelper.FindLeaderboard(t);
        if (null != e) {
            if (e.playerIndex > -1) return e.items[e.playerIndex];
            if (e.playerIndexOmitted > -1) return e.itemsOmitted[e.playerIndexOmitted]
        }
        return null
    },
    FindPlayerLeaderboardPosition: function (t) {
        var e = PromotionsHelper.FindPlayerInLeaderboard(t);
        return null != e ? e.position : -1
    },
    FormatRank: function (t, e) {
        var i = TournamentConnection.instance.FindPromoHolder(t);
        return null != i && i.maxLeaderboardPosition > -1 && e > i.maxLeaderboardPosition ? PromotionsHelper.Formats.beyondMaxRank.replace("{0}", String(i.maxLeaderboardPosition)) : String(e)
    },
    FormatScore: function (t, e) {
        var i = PromotionsHelper.Formats,
            n = i.scoreOptions;
        return null == n && ((n = i.scoreOptions = new FormatOptions).hasCurrency = !1), n.hasDecimals = null != e && e.scoreHasDecimals, LocaleManager.FormatValue(t, n)
    },
    ConvertToPlayerCurrency: function (t, e, i) {
        return null != t && t[ServerOptions.realCurrency] && t[i] ? t[i] * e / t[ServerOptions.realCurrency] : -1
    },
    ConvertDynamicFields: function (t) {
        if (null != t) {
            var e = "";
            null != t.prizePool.prizesList && t.prizePool.prizesList.length > 0 && t.prizePool.prizesList[0].type == TournamentProtocol.PrizeType.Amount && (e = LocaleManager.FormatValueWithCustomCurrency(t.prizePool.prizesList[0].amount, t.prizePool.currency)), t.htmlRules = t.htmlRules.replace(/~highestPrize/g, e), t.shortHtmlRules = t.shortHtmlRules.replace(/~highestPrize/g, e);
            var i = "";
            t.prizePool.minBetLimit > 0 && (i = LocaleManager.FormatValueWithCustomCurrency(t.prizePool.minBetLimit, ServerOptions.currency)), t.htmlRules = t.htmlRules.replace(/~minBet/g, i), t.shortHtmlRules = t.shortHtmlRules.replace(/~minBet/g, i);
            var n = "";
            t.prizePool.maxBetLimitByMultiplier > 0 && (n = LocaleManager.FormatValueWithCustomCurrency(t.prizePool.maxBetLimitByMultiplier, ServerOptions.currency)), t.htmlRules = t.htmlRules.replace(/~maxBet/g, n), t.shortHtmlRules = t.shortHtmlRules.replace(/~maxBet/g, n);
            var o = "";
            for (var s in t.prizePool.totalPrizeAmount > 0 && (o = LocaleManager.FormatValueWithCustomCurrency(t.prizePool.totalPrizeAmount, ServerOptions.currency)), t.htmlRules = t.htmlRules.replace(/~totalPrizeAmount/g, o), t.shortHtmlRules = t.shortHtmlRules.replace(/~totalPrizeAmount/g, o), t.dynamicFieldMap) {
                var a = t.dynamicFieldMap[s],
                    r = a.defaultValue;
                if (null != a.valueMap[ServerOptions.realCurrency]) {
                    var l = _number.otod(a.valueMap[ServerOptions.realCurrency]);
                    r = LocaleManager.FormatValueWithCustomCurrency(l, ServerOptions.currency)
                }
                t.htmlRules = t.htmlRules.replace(new RegExp("~" + s, "g"), r), t.shortHtmlRules = t.shortHtmlRules.replace(new RegExp("~" + s, "g"), r)
            }
            for (var u = t.prizePool.prizesList.length - 1; u >= 0; u--) {
                var h = t.prizePool.prizesList[u].amount,
                    c = LocaleManager.FormatValueWithCustomCurrency(h, ServerOptions.currency);
                t.htmlRules = t.htmlRules.replace(new RegExp("~prize." + (u + 1), "g"), c), t.shortHtmlRules = t.shortHtmlRules.replace(new RegExp("~prize." + (u + 1), "g"), c)
            }
        }
    },
    PromotionCheckTournamentOptOut: function (t) {
        var e = PromotionsHelper.FindPromotion(t);
        null != e && (e.optJurisdiction.indexOf(ServerOptions.jurisdiction) > -1 ? XT.SetBool(TournamentVars.TournamentEnforced_Jurisdiction_TournamentOptOut, !0) : XT.SetBool(TournamentVars.TournamentEnforced_Jurisdiction_TournamentOptOut, !1))
    },
    CanUseLeaderboard: function (t) {
        var e = PromotionsHelper.GetPromotionType(t);
        return e == TournamentProtocol.PromoType.Race ? TournamentConnection.instance.CanUseRaceWinners() : e != TournamentProtocol.PromoType.Tournament || TournamentConnection.instance.CanUseLeaderboards()
    }
};
goog.provide("UHT.TournamentProtocol");
var TournamentProtocol = {
    Dictionary: {
        StatusCode: {
            StartsSoon: "S",
            Open: "O",
            Closed: "C"
        },
        RoundsLimitType: {
            Daily: "D",
            Total: "T"
        },
        ClientMode: {
            Visible: "V",
            Hidden: "H"
        },
        ClientStyle: {
            Europe: "EU",
            Asia: "AS"
        },
        Tournament: {
            id: "id",
            status: "status",
            name: "name",
            startDate: "startDate",
            endDate: "endDate",
            clientMode: "clientMode",
            clientStyle: "clientStyle",
            optIn: "optin",
            type: "type",
            campaignEndDate: "campaignEndDate"
        },
        Details: {
            id: "id",
            htmlRules: "htmlRules",
            prizePool: "prizePool",
            prizes: "prizes",
            shortHtmlRules: "shortHtmlRules",
            currencyRateMap: "currencyRateMap",
            dynamicFieldMap: "dynamicFieldMap",
            freeRoundSettings: "freeRoundSettings"
        },
        PrizePool: {
            currency: "currency",
            realCurrency: "currencyOriginal",
            prizesList: "prizesList",
            prizeRemains: "prizeRemains"
        },
        Prize: {
            placeFrom: "placeFrom",
            placeTo: "placeTo",
            amount: "amount",
            gift: "gift",
            count: "count"
        },
        Leaderboard: {
            tournamentID: "tournamentID",
            playerIndex: "index",
            items: "items"
        },
        LeaderboardItem: {
            position: "position",
            playerID: "playerID",
            score: "score",
            roundsOverLimit: "roundsOverLimit",
            roundsLimitType: "roundsLimitType"
        },
        Response: {
            error: "error",
            description: "description"
        },
        TournamentsResponse: {
            tournaments: "tournaments",
            serverTime: "serverTime",
            races: "races",
            otherGamesTournaments: "otherGamesTournaments",
            otherGamesRaces: "otherGamesRaces"
        },
        DetailsResponse: {
            details: "details"
        },
        LeaderboardResponse: {
            leaderboards: "leaderboards"
        }
    }
};
goog.require("UHT.TournamentProtocol"), TournamentProtocol.TournamentParser = {}, TournamentProtocol.TournamentParser.errorMessage = "", TournamentProtocol.TournamentParser.ParseTournamentsResponse = function (t) {
    if (_string.IsNullOrEmpty(t)) return null;
    var e = _JSON.TryParse(t),
        i = TournamentProtocol.TournamentParser.ParseResponse(e);
    return null == i || null == e[TournamentProtocol.Dictionary.TournamentsResponse.serverTime] ? null : TournamentProtocol.TournamentParser.ParseOnlyTournamentsResponse(i, e)
}, TournamentProtocol.TournamentParser.ParseOnlyTournamentsResponse = function (t, e) {
    var i = TournamentProtocol.Dictionary,
        n = TournamentProtocol.TournamentParser,
        o = TournamentProtocol.PromoType,
        s = new TournamentProtocol.TournamentsResponse(t);
    return null != e[i.TournamentsResponse.serverTime] && (s.serverTime = _number.otoi(e[i.TournamentsResponse.serverTime])), null != e[i.TournamentsResponse.tournaments] && (s.tournaments = n.ParseTournaments(e[i.TournamentsResponse.tournaments], o.Tournament, !1)), null != e[i.TournamentsResponse.races] && (s.races = n.ParseTournaments(e[i.TournamentsResponse.races], o.Race, !1)), null != e[i.TournamentsResponse.otherGamesTournaments] && (s.otherGamesTournaments = n.ParseTournaments(e[i.TournamentsResponse.otherGamesTournaments], o.Tournament, !0), 0 != s.otherGamesTournaments.length && (null == s.tournaments && (s.tournaments = []), _array.AddRange(s.tournaments, s.otherGamesTournaments)), XT.SetBool(TournamentVars.PromotionsInOtherGamesArePresent, !0)), null != e[i.TournamentsResponse.otherGamesRaces] && (s.otherGamesRaces = n.ParseTournaments(e[i.TournamentsResponse.otherGamesRaces], o.Race, !0), 0 != s.otherGamesRaces.length && (null == s.races && (s.races = []), _array.AddRange(s.races, s.otherGamesRaces)), XT.SetBool(TournamentVars.PromotionsInOtherGamesArePresent, !0)), s
}, TournamentProtocol.TournamentParser.ParseDetailsResponse = function (t) {
    if (_string.IsNullOrEmpty(t)) return null;
    var e = _JSON.TryParse(t),
        i = TournamentProtocol.TournamentParser.ParseResponse(e);
    if (null == i) return null;
    var n = new TournamentProtocol.DetailsResponse(i);
    return null != e[TournamentProtocol.Dictionary.DetailsResponse.details] && (n.details = TournamentProtocol.TournamentParser.ParseTournamentDetails(e[TournamentProtocol.Dictionary.DetailsResponse.details])), null != e[TournamentProtocol.Dictionary.Details.prizes] && (n.details = TournamentProtocol.TournamentParser.ParseTournamentDetails(e[TournamentProtocol.Dictionary.Details.prizes])), n
}, TournamentProtocol.TournamentParser.ParseLeaderboardResponse = function (t) {
    if (_string.IsNullOrEmpty(t)) return null;
    var e = _JSON.TryParse(t),
        i = TournamentProtocol.TournamentParser.ParseResponse(e);
    if (null == i) return null;
    var n = new TournamentProtocol.LeaderboardResponse(i);
    null != e[TournamentProtocol.Dictionary.LeaderboardResponse.leaderboards] && (n.leaderboards = TournamentProtocol.TournamentParser.ParseLeaderboards(e[TournamentProtocol.Dictionary.LeaderboardResponse.leaderboards], !0));
    var o = "winners";
    return null != e[o] && (n.leaderboards = TournamentProtocol.TournamentParser.ParseLeaderboards(e[o], !1)), n
}, TournamentProtocol.TournamentParser.ParseResponse = function (t) {
    if (null == t || null == t[TournamentProtocol.Dictionary.Response.error] || null == t[TournamentProtocol.Dictionary.Response.description]) return null;
    var e = new TournamentProtocol.Response;
    switch (e.description = String(t[TournamentProtocol.Dictionary.Response.description]), _number.otoi(t[TournamentProtocol.Dictionary.Response.error])) {
        case TournamentProtocol.ErrorCode.None:
            e.error = TournamentProtocol.ErrorCode.None;
            break;
        case TournamentProtocol.ErrorCode.InvalidParameter:
            e.error = TournamentProtocol.ErrorCode.InvalidParameter;
            break;
        case TournamentProtocol.ErrorCode.TournamentNotFound:
            e.error = TournamentProtocol.ErrorCode.TournamentNotFound;
            break;
        case TournamentProtocol.ErrorCode.ServiceError:
            e.error = TournamentProtocol.ErrorCode.ServiceError;
            break
    }
    return e
}, TournamentProtocol.TournamentParser.ParseTournaments = function (t, e, i) {
    var n = t;
    if (null == n) return null;
    for (var o = [], s = 0; s < n.length; ++s) {
        var a = n[s];
        if (null != a && null != a[TournamentProtocol.Dictionary.Tournament.id] && null != a[TournamentProtocol.Dictionary.Tournament.name]) {
            var r = new TournamentProtocol.Tournament;
            r.id = _number.otoi(a[TournamentProtocol.Dictionary.Tournament.id]), r.name = String(a[TournamentProtocol.Dictionary.Tournament.name]), r.type = e, r.isActiveInOtherGames = i, null != a[TournamentProtocol.Dictionary.Tournament.startDate] && (r.startDate = _number.otoi(a[TournamentProtocol.Dictionary.Tournament.startDate])), null != a[TournamentProtocol.Dictionary.Tournament.endDate] && (r.endDate = _number.otoi(a[TournamentProtocol.Dictionary.Tournament.endDate])), null != a[TournamentProtocol.Dictionary.Tournament.campaignEndDate] && (r.campaignEndDate = _number.otoi(a[TournamentProtocol.Dictionary.Tournament.campaignEndDate]));
            var l = "#DDW#";
            r.name.indexOf(l) > -1 && (r.name = r.name.replace(new RegExp(l, "g"), ""), r.displayStyle = TournamentProtocol.DisplayStyle.DropsAndWins), l = "#IDNSM#", r.name.indexOf(l) > -1 && (r.name = r.name.replace(new RegExp(l, "g"), ""), r.displayStyle = TournamentProtocol.DisplayStyle.IDNSM), l = "#IDNCSM#", r.name.indexOf(l) > -1 && (r.name = r.name.replace(new RegExp(l, "g"), ""), r.displayStyle = TournamentProtocol.DisplayStyle.IDNCSM), l = "#IDNEX#", r.name.indexOf(l) > -1 && (r.name = r.name.replace(new RegExp(l, "g"), ""), r.displayStyle = TournamentProtocol.DisplayStyle.IDNEX), l = "#IDNVIP#", r.name.indexOf(l) > -1 && (r.name = r.name.replace(new RegExp(l, "g"), ""), r.displayStyle = TournamentProtocol.DisplayStyle.IDNVIP), l = "#KPLY#", r.name.indexOf(l) > -1 && (r.name = r.name.replace(new RegExp(l, "g"), ""), r.displayStyle = TournamentProtocol.DisplayStyle.KPLY), l = "#IDNSME#", r.name.indexOf(l) > -1 && (r.name = r.name.replace(new RegExp(l, "g"), ""), r.displayStyle = TournamentProtocol.DisplayStyle.IDNSME), l = "#IDNSSM#", r.name.indexOf(l) > -1 && (r.name = r.name.replace(new RegExp(l, "g"), ""), r.displayStyle = TournamentProtocol.DisplayStyle.IDNSSM);
            var u = r.name.match(/#.+#/);
            if (null != u && u.length > 0 && (r.name = r.name.replace(u[0], ""), r.promotionId = u[0].replace(/#/g, "")), null != a[TournamentProtocol.Dictionary.Tournament.status]) switch (String(a[TournamentProtocol.Dictionary.Tournament.status])) {
                case TournamentProtocol.Dictionary.StatusCode.StartsSoon:
                    r.status = TournamentProtocol.StatusCode.StartsSoon;
                    break;
                case TournamentProtocol.Dictionary.StatusCode.Open:
                    r.status = TournamentProtocol.StatusCode.Open;
                    break;
                case TournamentProtocol.Dictionary.StatusCode.Closed:
                    r.status = TournamentProtocol.StatusCode.Closed;
                    break
            }
            if (null != a[TournamentProtocol.Dictionary.Tournament.clientMode]) switch (String(a[TournamentProtocol.Dictionary.Tournament.clientMode])) {
                case TournamentProtocol.Dictionary.ClientMode.Visible:
                    r.clientMode = TournamentProtocol.ClientMode.Visible;
                    break;
                case TournamentProtocol.Dictionary.ClientMode.Hidden:
                    r.clientMode = TournamentProtocol.ClientMode.Hidden;
                    break
            } else e == TournamentProtocol.PromoType.Race && (r.clientMode = TournamentProtocol.ClientMode.Visible);
            if (null != a[TournamentProtocol.Dictionary.Tournament.optIn] && (r.isOpted = _bool.Parse(a[TournamentProtocol.Dictionary.Tournament.optIn])), null != a[TournamentProtocol.Dictionary.Tournament.clientStyle]) switch (String(a[TournamentProtocol.Dictionary.Tournament.clientStyle])) {
                case TournamentProtocol.Dictionary.ClientStyle.Asia:
                    r.clientStyle = TournamentProtocol.ClientStyle.Asia;
                    break;
                case TournamentProtocol.Dictionary.ClientStyle.Europe:
                    r.clientStyle = TournamentProtocol.ClientStyle.Europe;
                    break
            }
            var h = "showWinnersList";
            null != a[h] && (r.showWinnersList = _bool.Parse(a[h])), null != a[h = "optJurisdiction"] && (r.optJurisdiction = a[h]), null != a[h = "games"] && (r.games = a[h]), o.push(r)
        }
    }
    return o
}, TournamentProtocol.TournamentParser.ParseTournamentDetails = function (t) {
    var e = t;
    if (null == e) return null;
    for (var i = [], n = 0; n < e.length; ++n) {
        var o = e[n];
        if (null != o && null != o[TournamentProtocol.Dictionary.Details.id]) {
            var s = new TournamentProtocol.TournamentDetails;
            if (s.id = _number.otoi(o[TournamentProtocol.Dictionary.Details.id]), null != o[TournamentProtocol.Dictionary.Details.prizePool] && (s.prizePool = TournamentProtocol.TournamentParser.ParsePrizePool(o[TournamentProtocol.Dictionary.Details.prizePool])), null != o[TournamentProtocol.Dictionary.PrizePool.prizeRemains] && (s.prizePool = TournamentProtocol.TournamentParser.ParsePrizePool(o)), null != o[TournamentProtocol.Dictionary.Details.htmlRules] && (s.htmlRules = _string.Trim(String(o[TournamentProtocol.Dictionary.Details.htmlRules]).replace("\r", ""), "\n")), s.htmlRules += "\n \n \n", null != o[TournamentProtocol.Dictionary.Details.shortHtmlRules] && (s.shortHtmlRules = _string.Trim(String(o[TournamentProtocol.Dictionary.Details.shortHtmlRules]).replace("\r", ""), "\n")), null != o[TournamentProtocol.Dictionary.Details.currencyRateMap] && (s.currencyRateMap = o[TournamentProtocol.Dictionary.Details.currencyRateMap]), null != o[TournamentProtocol.Dictionary.Details.dynamicFieldMap] && (s.dynamicFieldMap = o[TournamentProtocol.Dictionary.Details.dynamicFieldMap]), null != o[TournamentProtocol.Dictionary.Details.freeRoundSettings] && (s.freeRoundSettings = o[TournamentProtocol.Dictionary.Details.freeRoundSettings], null != s.freeRoundSettings.availableGameNames && s.freeRoundSettings.availableGameNames.length > 0))
                for (var a = 0; a < s.freeRoundSettings.availableGameNames.length; a++) s.freeRoundSettings.availableGameNames[a] = s.freeRoundSettings.availableGameNames[a].replace(/ /g, " ");
            i.push(s)
        }
    }
    return i
}, TournamentProtocol.TournamentParser.ParsePrizePool = function (t) {
    var e = t;
    if (null == e) return null;
    var i = new TournamentProtocol.PrizePool;
    null != e[TournamentProtocol.Dictionary.PrizePool.currency] ? i.currency = String(e[TournamentProtocol.Dictionary.PrizePool.currency]) : i.currency = ServerOptions.realCurrency, null != e[TournamentProtocol.Dictionary.PrizePool.realCurrency] ? i.realCurrency = String(e[TournamentProtocol.Dictionary.PrizePool.realCurrency]) : i.realCurrency = i.currency, null != e[TournamentProtocol.Dictionary.PrizePool.prizesList] && (i.prizesList = TournamentProtocol.TournamentParser.ParsePrizes(e[TournamentProtocol.Dictionary.PrizePool.prizesList], i)), null != e[TournamentProtocol.Dictionary.PrizePool.prizeRemains] && (i.prizesList = TournamentProtocol.TournamentParser.ParsePrizes(e[TournamentProtocol.Dictionary.PrizePool.prizeRemains], i));
    var n = "maxBetLimitByMultiplier";
    return null != e[n] && (i.maxBetLimitByMultiplier = _number.otod(e[n]) / 100), null != e[n = "minBetLimit"] && (i.minBetLimit = _number.otoi(e[n]) / 100), null != e[n = "totalPrizeAmount"] && (i.totalPrizeAmount = _number.otoi(e[n])), i
}, TournamentProtocol.TournamentParser.ParsePrizes = function (t, e) {
    var i = t;
    if (null == i) return null;
    for (var n = 0, o = 0, s = [], a = 0; a < i.length; ++a) {
        var r = i[a];
        if (null != r) {
            var l = new TournamentProtocol.Prize;
            null != r[TournamentProtocol.Dictionary.Prize.placeFrom] && (l.placeFrom = _number.otoi(r[TournamentProtocol.Dictionary.Prize.placeFrom])), null != r[TournamentProtocol.Dictionary.Prize.placeTo] && (l.placeTo = _number.otoi(r[TournamentProtocol.Dictionary.Prize.placeTo])), null != r[TournamentProtocol.Dictionary.Prize.amount] && (l.amount = _number.otod(r[TournamentProtocol.Dictionary.Prize.amount])), null != r[TournamentProtocol.Dictionary.Prize.gift] && (l.gift = String(r[TournamentProtocol.Dictionary.Prize.gift])), null != r[TournamentProtocol.Dictionary.Prize.count] ? (l.count = _number.otod(r[TournamentProtocol.Dictionary.Prize.count]), n += l.count, o += l.amount * l.count) : l.placeFrom > 0 && l.placeTo > 0 && (n += l.placeTo - l.placeFrom + 1), l.currency = e.currency;
            var u = "type";
            if (null != r[u] && (l.type = TournamentProtocol.PrizeTypeConverter.Convert(r[u])), null != r[u = "betMultiplier"] && (l.betMultiplier = _number.otoi(r[u])), null != r[u = "prizeID"] && (l.prizeID = _number.otoi(r[u])), l.type == TournamentProtocol.PrizeType.FreeRounds && null != r[u = "freeRounds"]) {
                var h = r[u];
                null != h.freeRoundLimitType && (l.freeRoundLimitType = h.freeRoundLimitType), null != h.amount && (l.freeRoundAmount = _number.otoi(h.amount))
            }
            s.push(l)
        }
    }
    return e.totalCount = n, e.totalAmount = o, s
}, TournamentProtocol.TournamentParser.ParseLeaderboards = function (t, e) {
    var i = t;
    if (null == i) return null;
    for (var n = [], o = 0; o < i.length; ++o) {
        var s = i[o];
        if (null != s && null != s[TournamentProtocol.Dictionary.Leaderboard.items]) {
            var a = new TournamentProtocol.Leaderboard;
            a.items = e ? TournamentProtocol.TournamentParser.ParseLeaderboardItems(s[TournamentProtocol.Dictionary.Leaderboard.items], a) : TournamentProtocol.TournamentParser.ParseLeaderboardWinners(s[TournamentProtocol.Dictionary.Leaderboard.items], a), null != s[TournamentProtocol.Dictionary.Leaderboard.tournamentID] && (a.tournamentID = _number.otoi(s[TournamentProtocol.Dictionary.Leaderboard.tournamentID])), null != s[TournamentProtocol.Dictionary.Leaderboard.playerIndex] ? a.playerIndex = _number.otoi(s[TournamentProtocol.Dictionary.Leaderboard.playerIndex]) : a.playerIndex = -1, null != a.items && a.playerIndex > -1 && (a.items[a.playerIndex].isPlayer = !0, a.playerPosition = a.items[a.playerIndex].position);
            var r = "raceID";
            null != s[r] && (a.tournamentID = _number.otoi(s[r])), null != s[r = "lastIdentity"] && (a.lastIdentity = String(s[r])), null != s[r = "action"] && (a.winnersAction = TournamentProtocol.WinnersActionConverter.Convert(String(s[r]))), n.push(a)
        }
    }
    return n
}, TournamentProtocol.TournamentParser.ParseLeaderboardWinners = function (t, e) {
    var i = t;
    if (null == i) return null;
    for (var n = [], o = 0; o < i.length; ++o) {
        var s = new TournamentProtocol.LeaderboardItem;
        s.isRanked = !0, s.leaderboard = e;
        for (var a = i[o].split("|"), r = 0; r < a.length; ++r) {
            var l = a[r];
            if (!_string.IsNullOrEmpty(l))
                if (0 == r) s.prizeID = _number.otoi(l);
                else if (1 == r) {
                var u = String(l).replace(/\*/g, "");
                u = _string.PadLeft(u, "*", u.length + 4), s.playerID = u
            } else 2 == r ? s.scoreBet = _number.otod(l) : 3 == r ? s.effectiveBetForBetMultiplier = _number.otoi(100 * _number.otod(l)) / 100 : 5 == r ? s.memberCurrency = l : 6 == r ? (s.countryID = String(l).toLowerCase(), e.hasCountryID = !0) : 7 == r && (s.isPlayer = "1" == l, s.isPlayer && e.playerWinsCount++)
        }
        n.push(s)
    }
    return n
}, TournamentProtocol.TournamentParser.ParseLeaderboardItems = function (t, e) {
    var i = t;
    if (null == i) return null;
    for (var n = [], o = 0; o < i.length; ++o) {
        var s = new TournamentProtocol.LeaderboardItem;
        s.isRanked = !0, s.leaderboard = e;
        for (var a = i[o].split("|"), r = 0; r < a.length; ++r) {
            var l = a[r];
            if (!_string.IsNullOrEmpty(l))
                if (0 == r) s.position = _number.otoi(l);
                else if (1 == r) {
                var u = String(l).replace(/\*/g, "");
                u = _string.PadLeft(u, "*", u.length + 4), s.playerID = u
            } else 2 == r ? (s.score = _number.otod(l), _number.isInt(s.score) || (e.scoreHasDecimals = !0)) : 3 == r ? s.scoreBet = _number.otod(l) : 4 == r ? s.effectiveBetForBetMultiplier = _number.otoi(100 * _number.otod(l)) / 100 : 6 == r ? s.memberCurrency = l : 7 == r && (s.countryID = String(l).toLowerCase(), e.hasCountryID = !0)
        }
        n.push(s)
    }
    return n
}, TournamentProtocol.TournamentParser.ParseBaseResponse = function (t) {
    if (_string.IsNullOrEmpty(t)) return null;
    var e = _JSON.TryParse(t),
        i = TournamentProtocol.TournamentParser.ParseResponse(e);
    return i
}, TournamentProtocol.TournamentParser.ParsePromoKeys = function (t) {
    var e = TournamentProtocol.TournamentParser;
    if (null == t) return null;
    for (var i = TournamentProtocol.Dictionary, n = [], o = 0; o < t.length; ++o) {
        var s = t[o];
        if (null != s && null != s[i.Tournament.id] && null != s[i.Tournament.type]) {
            var a = new TournamentProtocol.PromoKey;
            a.id = _number.otoi(s[i.Tournament.id]), a.type = e.ParsePromoType(s[i.Tournament.type]), n.push(a)
        }
    }
    return n
}, TournamentProtocol.TournamentParser.ParsePromoType = function (t) {
    var e = TournamentProtocol.PromoType;
    return "MR" == t ? e.Race : "TM" == t ? e.Tournament : e.Invalid
}, TournamentProtocol.TournamentParser.ParseTournamentScoresResponse = function (t) {
    var e = TournamentProtocol,
        i = e.TournamentParser;
    if (_string.IsNullOrEmpty(t)) return null;
    var n = _JSON.TryParse(t),
        o = i.ParseResponse(n);
    if (null == o) return null;
    var s = new e.TournamentScoresResponse(o),
        a = "scores";
    return null != n[a] && (s.scores = i.ParseTournamentScores(n[a])), s
}, TournamentProtocol.TournamentParser.ParseTournamentScores = function (t) {
    var e = TournamentProtocol;
    e.TournamentParser;
    if (null == t) return null;
    for (var i = [], n = 0; n < t.length; ++n) {
        var o = t[n];
        if (null != o) {
            var s = new e.TournamentScore;
            if (null != o[e.Dictionary.Leaderboard.tournamentID] && (s.tournamentID = _number.otoi(o[e.Dictionary.Leaderboard.tournamentID])), null != o[e.Dictionary.LeaderboardItem.position] && (s.position = _number.otoi(o[e.Dictionary.LeaderboardItem.position])), null != o[e.Dictionary.LeaderboardItem.score] && (s.score = _number.otod(o[e.Dictionary.LeaderboardItem.score])), null != o[e.Dictionary.LeaderboardItem.roundsOverLimit] && (s.roundsOverLimit = o[e.Dictionary.LeaderboardItem.roundsOverLimit]), null != o[e.Dictionary.LeaderboardItem.roundsLimitType]) switch (o[e.Dictionary.LeaderboardItem.roundsLimitType]) {
                case e.Dictionary.RoundsLimitType.Daily:
                    s.roundsLimitType = e.RoundsLimitType.Daily;
                    break;
                case e.Dictionary.RoundsLimitType.Total:
                    s.roundsLimitType = e.RoundsLimitType.Total;
                    break
            }
            i.push(s)
        }
    }
    return i
}, goog.require("UHT.TournamentProtocol"), TournamentProtocol.ErrorCode = {
    Invalid: 500,
    None: 0,
    InvalidParameter: 1,
    TournamentNotFound: 2,
    ServiceError: 100
}, TournamentProtocol.StatusCode = {
    Open: 0,
    StartsSoon: 1,
    Closed: 2,
    Invalid: 3
}, TournamentProtocol.RoundsLimitType = {
    Daily: 0,
    Total: 1
}, TournamentProtocol.ClientMode = {
    Visible: 0,
    Hidden: 1,
    Invalid: 2
}, TournamentProtocol.ClientStyle = {
    Europe: 0,
    Asia: 1,
    Invalid: 2
}, TournamentProtocol.PromoType = {
    Race: 0,
    Tournament: 1,
    Invalid: 2
}, TournamentProtocol.PrizePoolType = {
    AG: 0,
    BM: 1,
    AGBM: 2,
    Invalid: 3
}, TournamentProtocol.DisplayStyle = {
    Default: 0,
    DropsAndWins: 1,
    IDNSM: 2,
    IDNCSM: 3,
    IDNEX: 4,
    IDNVIP: 5,
    KPLY: 6,
    IDNSME: 7,
    IDNSSM: 8
}, TournamentProtocol.Tournament = function () {
    this.id = 0, this.status = TournamentProtocol.StatusCode.Invalid, this.name = "", this.startDate = 0, this.endDate = 0, this.clientMode = TournamentProtocol.ClientMode.Invalid, this.clientStyle = TournamentProtocol.ClientStyle.Invalid, this.type = TournamentProtocol.PromoType.Invalid, this.uid = "", this.isOpted = !0, this.prizesType = TournamentProtocol.PrizePoolType.Invalid, this.displayStyle = TournamentProtocol.DisplayStyle.Default, this.showWinnersList = !1, this.optJurisdiction = [], this.games = null, this.promotionId = "", this.isActiveInOtherGames = !1, this.campaignEndDate = 0
}, TournamentProtocol.DynamicFieldInfo = function () {
    this.defaultValue = "", this.valueMap = {}
}, TournamentProtocol.TournamentDetails = function () {
    this.id = 0, this.htmlRules = "", this.htmlRulesForOptIn = "", this.prizePool = null, this.prizePoolTotal = null, this.uid = "", this.shortHtmlRules = "", this.currencyRateMap = null, this.dynamicFieldMap = {}, this.freeRoundSettings = {}
}, TournamentProtocol.PrizePool = function (t) {
    this.currency = "", this.realCurrency = "", this.prizesList = null, this.totalCount = 0, this.totalAmount = 0, this.maxBetLimitByMultiplier = 0, this.minBetLimit = 0, this.totalPrizeAmount = 0, null != t && (this.currency = t.currency, this.realCurrency = t.realCurrency, this.totalCount = t.totalCount, this.totalAmount = t.totalAmount, this.maxBetLimitByMultiplier = t.maxBetLimitByMultiplier, this.minBetLimit = t.minBetLimit, this.totalPrizeAmount = t.totalPrizeAmount, null != t.prizesList && (this.prizesList = t.prizesList.slice()))
}, TournamentProtocol.PrizeType = {
    Invalid: 0,
    Amount: 1,
    Gift: 2,
    BetMultiplier: 3,
    FreeRounds: 4
}, TournamentProtocol.PrizeTypeConverter = {
    prizeTypes: ["Invalid", "A", "G", "BM", "FR"],
    Convert: function (t) {
        var e = TournamentProtocol.PrizeTypeConverter.prizeTypes.indexOf(t);
        return e > -1 ? e : TournamentProtocol.PrizeType.Invalid
    }
}, TournamentProtocol.Prize = function () {
    this.placeFrom = 0, this.placeTo = 0, this.amount = 0, this.gift = "", this.count = 0, this.totalCount = 0, this.betMultiplier = 0, this.type = TournamentProtocol.PrizeType.Invalid, this.currency = "", this.prizeID = 0, this.freeRoundLimitType = "", this.freeRoundAmount = 0
}, TournamentProtocol.WinnersActionType = {
    Invalid: 0,
    Add: 1,
    Replace: 2
}, TournamentProtocol.WinnersActionConverter = {
    actionTypes: ["Invalid", "A", "R"],
    Convert: function (t) {
        var e = TournamentProtocol.WinnersActionConverter.actionTypes.indexOf(t);
        return e > -1 ? e : TournamentProtocol.WinnersActionType.Invalid
    }
}, TournamentProtocol.Leaderboard = function () {
    this.tournamentID = 0, this.playerIndex = -1, this.playerIndexOmitted = -1, this.playerPosition = 0, this.items = null, this.itemsOmitted = null, this.uid = "", this.lastIdentity = "", this.hasCountryID = !1, this.playerWinsCount = 0, this.winnersAction = TournamentProtocol.WinnersActionType.Invalid, this.scoreHasDecimals = !1
}, TournamentProtocol.WinnerContentType = {
    Default: 0,
    Title_0: 1,
    Title_1: 2
}, TournamentProtocol.LeaderboardItem = function () {
    this.position = 0, this.playerID = "", this.score = 0, this.scoreBet = 0, this.betMultiplier = 0, this.effectiveBetForBetMultiplier = 0, this.prize = 0, this.memberCurrency = "", this.isPlayer = !1, this.isRanked = !1, this.type = TournamentProtocol.PrizeType.Invalid, this.currency = "", this.amount = 0, this.gift = "", this.countryID = "", this.prizeID = 0, this.winDate = 0, this.winnerContent = TournamentProtocol.WinnerContentType.Default, this.valueIndexExtra = 0, this.leaderboard = null, this.freeRoundLimitType = "", this.freeRoundAmount = 0
}, TournamentProtocol.Request = function () {
    this.symbol = "", this.mgckey = ""
}, TournamentProtocol.Response = function (t) {
    this.error = TournamentProtocol.ErrorCode.Invalid, this.description, null != t && (this.error = t.error, this.description = t.description)
}, TournamentProtocol.TournamentsResponse = function (t) {
    TournamentProtocol.Response.call(this, t), this.tournaments = null, this.races = null, this.otherGamesTournaments = null, this.otherGamesRaces = null, this.serverTime = 0
}, TournamentProtocol.TournamentsResponse.prototype = Object.create(TournamentProtocol.Response.prototype), TournamentProtocol.TournamentsResponse.prototype.constructor = TournamentProtocol.TournamentsResponse, TournamentProtocol.DetailsResponse = function (t) {
    TournamentProtocol.Response.call(this, t), this.details = null
}, TournamentProtocol.DetailsResponse.prototype = Object.create(TournamentProtocol.Response.prototype), TournamentProtocol.DetailsResponse.prototype.constructor = TournamentProtocol.DetailsResponse, TournamentProtocol.LeaderboardResponse = function (t) {
    TournamentProtocol.Response.call(this, t), this.leaderboards = null
}, TournamentProtocol.LeaderboardResponse.prototype = Object.create(TournamentProtocol.Response.prototype), TournamentProtocol.LeaderboardResponse.prototype.constructor = TournamentProtocol.LeaderboardResponse, TournamentProtocol.PromoKey = function () {
    this.id = 0, this.type = TournamentProtocol.PromoType.Invalid
}, TournamentProtocol.TournamentScore = function () {
    this.tournamentID = 0, this.uid = "", this.score = 0, this.position = -1, this.roundsOverLimit = !1, this.roundsLimitType = TournamentProtocol.RoundsLimitType.Daily
}, TournamentProtocol.TournamentScoresResponse = function (t) {
    TournamentProtocol.Response.call(this, t), this.scores = null
}, TournamentProtocol.TournamentScoresResponse.prototype = Object.create(TournamentProtocol.Response.prototype), TournamentProtocol.TournamentScoresResponse.prototype.constructor = TournamentProtocol.TournamentScoresResponse;
var TournamentVars = {
    Tournaments: "Tournaments",
    Evt_Internal_TournamentsUpdated: "Evt_Internal_TournamentsUpdated",
    TournamentDetails: "TournamentDetails",
    TournamentLeaderboards: "TournamentLeaderboards",
    ServerTime: "ServerTime",
    SelectedTournamentID: "SelectedTournamentID",
    Evt_Internal_PromotionsAnnouncer_Prepare: "Evt_Internal_PromotionsAnnouncer_Prepare",
    Evt_Internal_PromotionsAnnouncer_Announce: "Evt_Internal_PromotionsAnnouncer_Announce",
    Evt_Internal_PromotionsAnnouncer_AllAnnouncementsShown: "Evt_Internal_PromotionsAnnouncer_AllAnnouncementsShown",
    Evt_Internal_PromotionsAnnouncer_PrepareForWin: "Evt_Internal_PromotionsAnnouncer_PrepareForWin",
    Evt_Internal_PromotionsAnnouncer_ShowWin: "Evt_Internal_PromotionsAnnouncer_ShowWin",
    Evt_Internal_PromotionsAnnouncer_WinShown: "Evt_Internal_PromotionsAnnouncer_WinShown",
    Promotion_WinID: "Promotion_WinID",
    Promotion_WinReceived: "Promotion_WinReceived",
    Promotion_WinDisplayed: "Promotion_WinDisplayed",
    Promotion_GiftReceived: "Promotion_GiftReceived",
    PrizeDropWin_PrizeType: "PrizeDropWin_PrizeType",
    PrizeDropWin_Bet: "PrizeDropWin_Bet",
    PrizeDropWin_BetMultiplier: "PrizeDropWin_BetMultiplier",
    PrizeDropWin_FreeRoundsType: "PrizeDropWin_FreeRoundsType",
    PrizeDropWin_FreeRoundsAmount: "PrizeDropWin_FreeRoundsAmount",
    PrizeDropManuallyCredited: "PrizeDropManuallyCredited",
    PrizeDropWin_FreeRoundGames: "PrizeDropWin_FreeRoundGames",
    PromotionRuleUnitsPooler: "PromotionRuleUnitsPooler",
    PromotionRuleLinkID: "PromotionRuleLinkID",
    Evt_Internal_PromotionRuleLink_Visited: "Evt_Internal_PromotionRuleLink_Visited",
    Evt_Internal_PromotionRuleLink_HoveredOn: "Evt_Internal_PromotionRuleLink_HoveredOn",
    Evt_Internal_PromotionRuleLink_HoveredOff: "Evt_Internal_PromotionRuleLink_HoveredOff",
    Evt_Internal_PromotionRuleLink_Pressed: "Evt_Internal_PromotionRuleLink_Pressed",
    Evt_Internal_PromotionRuleLink_Released: "Evt_Internal_PromotionRuleLink_Released",
    ClosedByTimePromotionUID: "ClosedByTimePromotionUID",
    Evt_Internal_PromotionClosedByTime: "Evt_Internal_PromotionClosedByTime",
    RankPromotionID: "RankPromotionID",
    MenuPromotionType: "MenuPromotionType",
    CurrentPromotionDisplayStyle: "CurrentPromotionDisplayStyle",
    CurrentPromotionName: "CurrentPromotionName",
    PromotionsInOtherGamesArePresent: "PromotionsInOtherGamesArePresent",
    DisplayingPromotionsInOtherGames: "DisplayingPromotionsInOtherGames",
    TournamentEnforced_Jurisdiction_TournamentOptOut: "TournamentEnforced_Jurisdiction_TournamentOptOut",
    Evt_Internal_UpdatePromotionWarning: "Evt_Internal_UpdatePromotionWarning",
    Evt_Internal_PromotionsOpen: "Evt_Internal_PromotionsOpen",
    Evt_Internal_PromotionsClosed: "Evt_Internal_PromotionsClosed",
    Evt_DataToCode_LeaderboardOpen: "Evt_DataToCode_LeaderboardOpen",
    Evt_DataToCode_LeaderboardClosed: "Evt_DataToCode_LeaderboardClosed",
    Evt_Internal_LeaderboardsReloaded: "Evt_Internal_LeaderboardsReloaded",
    Evt_CodeToData_ShowWheelOfPatience: "Evt_CodeToData_ShowWheelOfPatience",
    Evt_CodeToData_HideWheelOfPatience: "Evt_CodeToData_HideWheelOfPatience"
};

function TournamentRule() {
    this.rules = "", this.sampleLabel = null, this.maxLabelWidth = 0, this.maxNumberOfLines = 0, this.isSplit = !1, this.splitRules = [], this.paragraphs = [], this.isStopped = !1, this.isArab = !1
}

function PromotionRule() {
    TournamentRule.call(this), this.uid = "", this.rulesText = "", this.links = [], this.lines = []
}

function ButtonAutoClicker() {
    Component.call(this), this.delay = 0, this.delayInAutoplay = 0, this.timeLeft = 0, this.started = !1, this.isUsingShortDelay = !1
}

function MessageSender() {
    Component.call(this), this.animationEvents = [], this.onClickEvents = [], this.onEnabledEvents = []
}

function MessageData(t, e, i, n, o) {
    null == o && (o = MessageSender.MessageDataParamType.String), this.eventReceiver = t, this.useParam = i, this.paramType = o, this.paramString = n, this.methodToCall = e
}

function CAT_Action_SendMessage() {
    CAT_Action.call(this), this.data = null
}

function CAT_Action_SendMessageMultipleReceivers() {
    CAT_Action.call(this), this.eventReceivers = [], this.methodToCall = "", this.useParam = !1, this.paramString = ""
}

function SendMessageToChildren() {
    Component.call(this), this.broadcastToFirstChildOnly = !0
}

function CurveTwoValuesAnimator() {
    Component.call(this), this.animatedMemberTarget = null, this.curve_1 = null, this.curve_2 = null, this.Loop_1 = !0, this.Loop_2 = !0, this.isStarted_1 = !1, this.startTime_1 = 0, this.lastKeyTime_1 = 0, this.isStarted_2 = !1, this.startTime_2 = 0, this.lastKeyTime_2 = 0
}

function TwoFloatsAnimatedMonoBehaviour() {
    Component.call(this)
}

function Globals() {}

function TimeChannel(t) {
    this.id = t, this.members = [], this.currentTime = 0
}
goog.provide("UHT.TournamentRule"), TournamentRule.prototype.UpdateRules = function (t) {
    this.rules != t ? (this.rules = t, this.splitRules.splice(0), this.isSplit = _string.IsNullOrEmpty(this.rules), this.isArab = !this.isSplit && PIXI.Text.IsArabString(this.rules), this.isSplit || this.SplitParagraphs()) : _string.IsNullOrEmpty(t) && (this.isSplit = !0)
}, TournamentRule.prototype.Split = function () {
    this.isSplit || (this.splitRules = this.splitRules.concat(this.SplitToLines()))
}, TournamentRule.prototype.GetSplitRules = function () {
    return this.isSplit || this.Split(), this.splitRules
}, TournamentRule.prototype.SplitParagraphs = function () {
    this.paragraphs.splice(0), this.paragraphs = this.paragraphs.concat(this.rules.split("\n"))
}, TournamentRule.prototype.SplitToLines = function () {
    this.isStopped = !1;
    for (var t = [], e = 0; e < this.paragraphs.length; ++e) {
        var i = this.paragraphs[e].split(" ");
        if (this.sampleLabel.text = "", i.length > 1) {
            if (this.SplitWords(t, i, e + 1), this.isStopped) return t
        } else if (this.SplitChars(t, "", this.paragraphs[e], e + 1, null, 0), this.isStopped) return t
    }
    return this.isSplit = !0, t
}, TournamentRule.prototype.SplitWords = function (t, e, i) {
    for (var n = "", o = "", s = 0; s < e.length; ++s)
        if (o = this.sampleLabel.text, this.sampleLabel.text = e[s], this.sampleLabel.GetWidth() <= this.maxLabelWidth)
            if (this.sampleLabel.text = o + e[s], this.sampleLabel.GetWidth() <= this.maxLabelWidth) n = this.sampleLabel.text, this.sampleLabel.text += " ";
            else {
                if (t.push(n), t.length >= this.maxNumberOfLines) return void this.StopAt(null, 0, e, s, i);
                this.sampleLabel.text = "", n = "", s--
            }
    else if (-1 != e[s].indexOf(" ")) {
        var a = e[s].replace(/\u00A0/g, " ").split(" ");
        e.splice(s, 1), _array.InsertRange(e, s, a), s--
    } else if (this.sampleLabel.text = o, n = "", this.SplitChars(t, n, e[s], i, e, s), this.isStopped) return;
    "" != n && (t.push(n), t.length >= this.maxNumberOfLines && this.StopAt(null, 0, null, 0, i))
}, TournamentRule.prototype.SplitChars = function (t, e, i, n, o, s) {
    if (0 == i.length) return t.push(""), void(t.length >= this.maxNumberOfLines && this.StopAt(null, 0, null, 0, n));
    for (var a = 0; a < i.length; ++a)
        if (this.sampleLabel.text += i[a], this.sampleLabel.GetWidth() <= this.maxLabelWidth) e = this.sampleLabel.text;
        else {
            if (t.push(e), t.length >= this.maxNumberOfLines) return void this.StopAt(i, a, o, s + 1, n);
            this.sampleLabel.text = "", e = "", a--
        }
    "" != e && (null == o || null != o && o.length - 1 == s) && (t.push(e), t.length >= this.maxNumberOfLines && this.StopAt(null, 0, null, 0, n))
}, TournamentRule.prototype.StopAt = function (t, e, i, n, o) {
    var s = [];
    if (null != t) {
        for (var a = "", r = e; r < t.length; ++r) a += t[r];
        _string.IsNullOrEmpty(a) || s.push(a)
    }
    if (null != i)
        for (r = n; r < i.length; ++r) s.push(i[r]);
    var l = [];
    s.length > 0 && l.push(s.join(" "));
    for (r = o; r < this.paragraphs.length; ++r) l.push(this.paragraphs[r]);
    this.paragraphs = l, this.isStopped = !0, this.isSplit = 0 == this.paragraphs.length
}, goog.provide("UHT.PromotionRule"), goog.require("UHT.TournamentRule"), PromotionRule.prototype = Object.create(TournamentRule.prototype), PromotionRule.prototype.constructor = PromotionRule, PromotionRule.Unit = function (t, e, i, n, o) {
    this.uid = "", this.text = "", this.url = "", this.startIdx = 0, this.endIdxExcl = 0, this.isLink = !1, this.isVisited = !1, 2 != arguments.length && 5 != arguments.length || (this.text = arguments[0], this.SetURL(arguments[1])), 3 == arguments.length && (this.text = arguments[0], this.startIdx = arguments[1], this.endIdxExcl = arguments[2]), 5 == arguments.length && (this.uid = arguments[2], this.startIdx = arguments[3], this.endIdxExcl = arguments[4])
}, PromotionRule.Unit.visitedURLs = [], PromotionRule.Unit.prototype.SetURL = function (t) {
    this.url = t, this.isLink = !_string.IsNullOrEmpty(t), this.isVisited = PromotionRule.Unit.visitedURLs.indexOf(t) > -1
}, PromotionRule.Unit.prototype.SetVisited = function () {
    this.isVisited = !0, PromotionRule.Unit.visitedURLs.push(this.url)
}, PromotionRule.Unit.prototype.CheckVisited = function () {
    this.isVisited || (this.isVisited = PromotionRule.Unit.visitedURLs.indexOf(this.url) > -1)
}, PromotionRule.Line = function () {
    this.isArab = !1, this.maxWidth = 0, this.endIdxExcl = 0, this.units = []
}, PromotionRule.prototype.Split = function () {
    if (!this.isSplit) {
        var t = this.splitRules.length;
        this.splitRules = this.splitRules.concat(this.SplitToLines()), 0 == t && this.lines.push(this.ProcessLine(0, this.splitRules[0]));
        for (var e = this.lines.length; e < this.splitRules.length; ++e) this.lines.push(this.ProcessLine(this.lines[e - 1].endIdxExcl, this.splitRules[e]));
        this.isSplit && (this.splitRules.splice(0), this.rulesText = "")
    }
}, PromotionRule.prototype.GetSplitLines = function () {
    return this.isSplit || this.Split(), this.lines
}, PromotionRule.prototype.SplitParagraphs = function () {
    this.ProcessLinks(), this.paragraphs.splice(0), this.paragraphs = this.paragraphs.concat(this.rulesText.split("\n"))
}, PromotionRule.prototype.ProcessLinks = function () {
    this.links.splice(0), this.lines.splice(0);
    var t = [],
        e = this.rules.match(/<a\s.*?>.*?<\/a\s*?>/gi);
    if (null != e)
        for (var i = 0; i < e.length; ++i) {
            var n = e[i],
                o = "",
                s = "",
                a = n.match(/>.*?</i);
            null != a && (o = a[0].replace(">", "").replace("<", ""));
            var r = n.match(/\bhref=".*?"/i);
            null == r && (r = n.match(/\bhref='.*?'/i)), null != r && (s = r[0].replace("href=", "").replace(/['"]/g, "")), t.push(n), this.links.push(new PromotionRule.Unit(o, s))
        }
    this.rulesText = this.rules;
    for (i = 0; i < this.links.length; ++i) this.links[i].uid = this.uid + "Link#" + i, this.links[i].startIdx = this.rulesText.indexOf(t[i]), this.links[i].endIdxExcl = this.links[i].startIdx + this.links[i].text.length, this.rulesText = this.rulesText.substr(0, this.links[i].startIdx) + this.links[i].text + this.rulesText.substr(this.links[i].startIdx + t[i].length)
}, PromotionRule.prototype.ProcessLine = function (t, e) {
    var i = new PromotionRule.Line,
        n = [];
    t += this.rulesText.substr(t).indexOf(e), i.isArab = this.isArab, i.maxWidth = this.maxLabelWidth, i.endIdxExcl = t + e.length, i.units = n;
    var o = new PromotionRule.Unit(e, t, i.endIdxExcl);
    n.push(o);
    for (var s = 0; s < this.links.length; ++s)
        if (!(this.links[s].endIdxExcl <= t)) {
            if (this.links[s].startIdx >= i.endIdxExcl) break;
            if (this.links[s].startIdx <= t) {
                var a = this.links[s].endIdxExcl > i.endIdxExcl ? i.endIdxExcl : this.links[s].endIdxExcl;
                o.uid = this.links[s].uid, o.text = this.rulesText.substr(t, a - t), o.SetURL(this.links[s].url), o.endIdxExcl = a
            } else if (this.links[s].startIdx > t) {
                o.endIdxExcl < this.links[s].startIdx ? (o = new PromotionRule.Unit(this.rulesText.substr(o.endIdxExcl, this.links[s].startIdx - o.endIdxExcl), o.endIdxExcl, this.links[s].startIdx), n.push(o)) : _string.IsNullOrEmpty(o.url) && (o.text = this.rulesText.substr(o.startIdx, this.links[s].startIdx - o.startIdx), o.endIdxExcl = this.links[s].startIdx);
                var r = null;
                r = this.links[s].endIdxExcl > i.endIdxExcl ? new PromotionRule.Unit(this.rulesText.substr(this.links[s].startIdx, i.endIdxExcl - this.links[s].startIdx), this.links[s].url, this.links[s].uid, this.links[s].startIdx, i.endIdxExcl) : this.links[s], n.push(r), o = r
            }
        } return o.endIdxExcl < i.endIdxExcl && n.push(new PromotionRule.Unit(this.rulesText.substr(o.endIdxExcl, i.endIdxExcl - o.endIdxExcl), o.endIdxExcl, i.endIdxExcl)), i
}, goog.require("UHT.Component"), ButtonAutoClicker.prototype = Object.create(Component.prototype), ButtonAutoClicker.prototype.constructor = ButtonAutoClicker, ButtonAutoClicker.prototype.OnEnable = function () {
    this.isUsingShortDelay = XT.GetBool(Vars.Autoplay_SkipScreens) && XT.GetInt(Vars.AutoplaySpinsLeft) >= 0 || XT.GetBool(Vars.ContinuousSpin), this.timeLeft = this.isUsingShortDelay ? this.delayInAutoplay : this.delay, !this.isUsingShortDelay && this.delay > 29 ? this.started = !1 : this.started = !0
}, ButtonAutoClicker.prototype.Update = function () {
    this.started && (XT.GetBool(Vars.LastWinIsCounting) || XT.GetBool(Vars.WaitInResultForBigWin) || (this.timeLeft -= Time.deltaTime, this.timeLeft < 0 && (this.gameObject.SendMessage("OnClick"), this.started = !1)))
}, goog.require("UHT.Component"), goog.provide("UHT.MessageSender"), MessageSender.prototype = Object.create(Component.prototype), MessageSender.prototype.constructor = MessageSender, MessageSender.MessageDataParamType = {
    None: 0,
    Bool: 1,
    Int: 2,
    Float: 3,
    Double: 4,
    String: 5
}, MessageSender.prototype.SendMessageFromAnimation = function (t) {
    t >= this.animationEvents.length || t < 0 || this.InternalSendMessage(this.animationEvents, t)
}, MessageSender.SendMessage = function (t) {
    if (null != t.eventReceiver && !_string.IsNullOrEmpty(t.methodToCall))
        if (t.useParam) switch (t.paramType) {
            case MessageSender.MessageDataParamType.Bool:
                t.eventReceiver.SendMessage(t.methodToCall, "true" == t.paramString.toLowerCase());
                break;
            case MessageSender.MessageDataParamType.Int:
                t.eventReceiver.SendMessage(t.methodToCall, _number.otoi(t.paramString));
                break;
            case MessageSender.MessageDataParamType.Float:
                t.eventReceiver.SendMessage(t.methodToCall, _number.otod(t.paramString));
                break;
            case MessageSender.MessageDataParamType.Double:
                t.eventReceiver.SendMessage(t.methodToCall, _number.otod(t.paramString));
                break;
            case MessageSender.MessageDataParamType.String:
                t.eventReceiver.SendMessage(t.methodToCall, t.paramString);
                break;
            default:
                t.eventReceiver.SendMessage(t.methodToCall);
                break
        } else t.eventReceiver.SendMessage(t.methodToCall)
}, MessageSender.prototype.OnClick = function () {
    null != this.gameObject.collider && this.gameObject.collider.enabled && (this.onClickEvents.length <= 0 || this.InternalSendMessageToAll(this.onClickEvents))
}, MessageSender.prototype.OnEnable = function () {
    null == this.onEnabledEvents || this.onEnabledEvents.length <= 0 || this.InternalSendMessageToAll(this.onEnabledEvents)
}, MessageSender.prototype.InternalSendMessageToAll = function (t) {
    for (var e in t) this.InternalSendMessage(t, e)
}, MessageSender.prototype.InternalSendMessage = function (t, e) {
    e >= t.length || e < 0 || MessageSender.SendMessage(t[e])
}, goog.require("UHT.CAT_Action"), goog.require("UHT.MessageSender"), CAT_Action_SendMessage.prototype = Object.create(CAT_Action.prototype), CAT_Action_SendMessage.prototype.constructor = CAT_Action_SendMessage, CAT_Action_SendMessage.prototype.OnStateChanged_Running = function () {
    MessageSender.SendMessage(this.data), this.ChangeState(CATState.Finished)
}, goog.require("UHT.CAT_Action"), goog.require("UHT.MessageSender"), CAT_Action_SendMessageMultipleReceivers.prototype = Object.create(CAT_Action.prototype), CAT_Action_SendMessageMultipleReceivers.prototype.constructor = CAT_Action_SendMessageMultipleReceivers, CAT_Action_SendMessageMultipleReceivers.prototype.OnStateChanged_Running = function () {
    for (var t in this.eventReceivers) MessageSender.SendMessage(new MessageData(this.eventReceivers[t], this.methodToCall, this.useParam, this.paramString));
    this.ChangeState(CATState.Finished)
}, goog.require("UHT.Component"), goog.require("UHT.MessageSender"), SendMessageToChildren.prototype = Object.create(Component.prototype), SendMessageToChildren.prototype.constructor = SendMessageToChildren, SendMessageToChildren.prototype.SendToChildren = function (t) {
    for (var e = t.indexOf("("), i = t.indexOf(")"), n = t.substring(0, e), o = t.substring(e + 1, i), s = 0; s < (this.broadcastToFirstChildOnly ? 1 : this.gameObject.transform.childCount); s++) {
        var a = new MessageData(this.gameObject.transform.children[s].gameObject, n, !_string.IsNullOrEmpty(o), o);
        MessageSender.SendMessage(a)
    }
}, goog.provide("UHT.TwoFloatsAnimatedMonoBehaviour"), goog.require("UHT.Component"), CurveTwoValuesAnimator.prototype = Object.create(Component.prototype), CurveTwoValuesAnimator.prototype.constructor = CurveTwoValuesAnimator, TwoFloatsAnimatedMonoBehaviour.prototype = Object.create(Component.prototype), TwoFloatsAnimatedMonoBehaviour.prototype.constructor = TwoFloatsAnimatedMonoBehaviour, TwoFloatsAnimatedMonoBehaviour.prototype.SetAnimatedF_1 = function (t) {}, TwoFloatsAnimatedMonoBehaviour.prototype.SetAnimatedF_2 = function (t) {}, TwoFloatsAnimatedMonoBehaviour.prototype.ResetF_1 = function () {}, TwoFloatsAnimatedMonoBehaviour.prototype.ResetF_2 = function () {}, CurveTwoValuesAnimator.prototype.Awake = function () {
    this.lastKeyTime_1 = this.curve_1.keys[this.curve_1.keys.length - 1].time, this.lastKeyTime_2 = this.curve_2.keys[this.curve_2.keys.length - 1].time
}, CurveTwoValuesAnimator.prototype.StartCurveAnimation_1 = function () {
    this.isStarted_1 = !0, this.startTime_1 = Time.time
}, CurveTwoValuesAnimator.prototype.StopCurveAnimation_1 = function () {
    this.isStarted_1 = !1, this.animatedMemberTarget.ResetF_1()
}, CurveTwoValuesAnimator.prototype.StartCurveAnimation_2 = function () {
    this.isStarted_2 = !0, this.startTime_2 = Time.time
}, CurveTwoValuesAnimator.prototype.StopCurveAnimation_2 = function () {
    this.isStarted_2 = !1, this.animatedMemberTarget.ResetF_2()
}, CurveTwoValuesAnimator.prototype.Update = function () {
    var t = Time.time;
    if (this.isStarted_1) {
        if (this.isStarted_1) {
            var e = this.curve_1.Evaluate(this.Loop_1 ? (t - this.startTime_1) % this.lastKeyTime_1 : UHTMath.clamp(t - this.startTime_1, 0, this.lastKeyTime_2));
            this.animatedMemberTarget.SetAnimatedF_1(e)
        }
        this.Loop_1 || t - this.startTime_1 > this.lastKeyTime_1 && (this.isStarted_1 = !1)
    }
    if (this.isStarted_2) {
        if (this.isStarted_2) {
            var i = this.curve_2.Evaluate(this.Loop_2 ? (t - this.startTime_2) % this.lastKeyTime_2 : UHTMath.clamp(t - this.startTime_2, 0, this.lastKeyTime_2));
            this.animatedMemberTarget.SetAnimatedF_2(i)
        }
        this.Loop_2 || t - this.startTime_2 > this.lastKeyTime_2 && (this.isStarted_2 = !1)
    }
}, goog.provide("UHT.Globals"), Globals.InputBlocked = !0, Globals.timeChannels = [], Globals.isMobile = !1, Globals.isMini = !1, Globals.GamePaused = !1, Globals.WatchingReplay = !1, Globals.SetLayerRecursively = function (t, e) {
    t.layer != e && t.transform.SetAllDirtyUserFlags(), t.layer = e;
    for (var i = 0; i < t.transform.children.length; i++) Globals.SetLayerRecursively(t.transform.children[i].gameObject, e)
}, Globals.RestoreCachedLayersRecursively = function (t) {
    t.layer != t.cachedLayer && t.transform.SetAllDirtyUserFlags(), t.layer = t.cachedLayer;
    for (var e = 0; e < t.transform.children.length; e++) Globals.RestoreCachedLayersRecursively(t.transform.children[e].gameObject)
}, Globals.CacheLayersRecursively = function (t) {
    t.cachedLayer = t.layer;
    for (var e = 0; e < t.transform.children.length; e++) Globals.CacheLayersRecursively(t.transform.children[e].gameObject)
}, Globals.GetCameraForObject = function (t) {
    for (var e = Camera.allCameras, i = 1 << t.layer, n = 0; n < e.length; n++)
        if (e[n].cullingMask == i) return e[n];
    return null
}, Globals.RegisterToTimeChannel = function (t, e) {
    for (var i = 0; i < Globals.timeChannels.length; i++)
        if (Globals.timeChannels[i].id == e) {
            for (var n = 0; n < Globals.timeChannels[i].members.length; n++)
                if (Globals.timeChannels[i].members[n] == t) return Globals.timeChannels[i];
            return Globals.timeChannels[i].members.push(t), Globals.timeChannels[i]
        } var o = new TimeChannel(e);
    return o.members.push(t), Globals.timeChannels.push(o), o
}, Globals.UnregisterFromTimeChannel = function (t, e) {
    for (var i = 0; i < Globals.timeChannels.length; i++)
        if (Globals.timeChannels[i].id == e) {
            var n = Globals.timeChannels[i].members.indexOf(t);
            return Globals.timeChannels[i].members.splice(n, 1), void(0 == Globals.timeChannels[i].members.length && Globals.timeChannels.splice(i, 1))
        }
}, TimeChannel.prototype.IsChannelMaster = function (t) {
    return this.members[0] == t
};
var TimeScaler = {};

function UHTSetviewarea(t, e, i, n) {
    Camera.OffSet.x = -t, Camera.OffSet.y = e, globalRuntime.sceneRoots[1].transform.scale(.1337, .1337, 1), globalRuntime.sceneRoots[1].transform.scale(i, n, 1)
}

function UICamera() {
    Component.call(this), this.eventReceiverMask = null, this.target = null, this.mousePosOnPress = null, this.mouseWasPressed = !1, this.mouseWasDragged = !1, this.mouseIsOverTarget = !1, this.cachedCamera = null, this.mustGoFullscreen = !1
}

function BoneFollower() {
    Component.call(this), this.spineController = null, this.boneName = "", this.followZPosition = !1, this.followBoneRotation = !1, this.followSkeletonFlip = !1, this.followLocalScale = !1, this.initializeOnAwake = !1, this.valid = !1, this.bone = null, this.skeletonTransform = null, this.skeletonTransformIsParent = !1
}

function CAT_Action_SpineAnimation() {
    CAT_Action.call(this), this.controller = null, this.action = SpineControllerCATAction.Play, this.animationName = "", this.animationTime = -1, this.normalizedTime = 0, this.animationMode = SpineControllerMode.Default, this.onEnable = SpineControllerAction.Reset, this.onComplete = null, this.overrideOnEnable = !1, this.overrideOnComplete = !1
}

function CAT_Action_SpineAnimation_NoWait() {
    CAT_Action_SpineAnimation.call(this)
}

function CAT_Action_StartAnim() {
    CAT_Action.call(this), this.target = null, this.animClipName = "", this.mode = WrapMode.Default, this.speed = 1
}

function CAT_Action_SwitchLayer() {
    CAT_Action.call(this), this.newLayer = null, this.root = null
}
TimeScaler.timeScales = {}, TimeScaler.GetDeltaTime = function (t) {
    var e = 1;
    return null != TimeScaler.timeScales[t] && (e = TimeScaler.timeScales[t]), Time.deltaTime * e
}, TimeScaler.SetTimeScale = function (t, e) {
    TimeScaler.timeScales[t] = e
}, TimeScaler.ClearTimeScale = function (t) {
    null != TimeScaler.timeScales[t] && delete TimeScaler.timeScales[t]
}, goog.provide("UHT.UICamera"), goog.require("UHT.Component"), goog.require("UHT.Collider"), goog.require("UHT.Globals"), UICamera.prototype = Object.create(Component.prototype), UICamera.prototype.constructor = UICamera, UICamera.messageHover = "OnHover", UICamera.messagePress = "OnPress", UICamera.messageClick = "OnClick", UICamera.allUICameras = [], UICamera.lastProcessedFrameCount = -1, UICamera.prototype.OnEnable = function () {
    this.cachedCamera = this.GetComponent(Camera);
    for (var t = 0, e = 0; e < UICamera.allUICameras.length && UICamera.allUICameras[e].cachedCamera.depth < this.cachedCamera.depth; e++) t++;
    UICamera.allUICameras.splice(t, 0, this)
}, UICamera.prototype.OnDisable = function () {
    for (var t = 0; t < UICamera.allUICameras.length; t++)
        if (UICamera.allUICameras[t] == this) {
            UICamera.allUICameras.splice(t, 1);
            break
        }
}, UICamera.prototype.Update = function () {
    if (ServerOptions.isReplay && Input.GetMouseButtonDown(0) && XT.TriggerEvent(ReplaySessionVars.Replay_UserClicked), Time.frameCount != UICamera.lastProcessedFrameCount) {
        UICamera.lastProcessedFrameCount = Time.frameCount;
        for (var t = UICamera.allUICameras.length - 1; t >= 0; t--) {
            if (!Globals.InputBlocked || UICamera.allUICameras[t].cachedCamera.ignoreInputBlocked || ServerOptions.isReplay)
                if (UICamera.allUICameras[t].UpdateCamera()) break
        }
    }
}, UICamera.prototype.UpdateCamera = function () {
    var t = null,
        e = !1;
    if (this.cachedCamera.IsClippingInput()) {
        var i = new UHTMath.Vector3(-this.cachedCamera.extraCameraSettings.clipLeft, this.cachedCamera.extraCameraSettings.clipUp, 0),
            n = new UHTMath.Vector3(this.cachedCamera.extraCameraSettings.clipRight, -this.cachedCamera.extraCameraSettings.clipDown, 0),
            o = this.gameObject.transform.transformPoint(i),
            s = this.gameObject.transform.transformPoint(n),
            a = this.cachedCamera.WorldToScreenPoint(o),
            r = this.cachedCamera.WorldToScreenPoint(s);
        (Input.mousePosition.x < a.x || Input.mousePosition.y < a.y || Input.mousePosition.x > r.x || Input.mousePosition.y > r.y) && (e = !0)
    }
    return e || (t = globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition), this.eventReceiverMask)), ServerOptions.isReplay && Globals.InputBlocked && null != t && 1 != t.usedForReplay && (t = null), Input.GetMouseButton(0) ? (this.mouseWasPressed = !0, Input.GetMouseButtonDown(0) && (this.target = t, null != this.target && this.target.gameObject.SendMessage(UICamera.messagePress, !0), this.mousePosOnPress = new UHTMath.Vector3(Input.mousePosition), this.mouseWasDragged = !1, this.mouseIsOverTarget = !0)) : 1 == this.mouseWasPressed ? (this.mouseWasPressed = !1, null != this.target && (this.target.gameObject.SendMessage(UICamera.messagePress, !1), t == this.target && (0 == Input.lastUsedInputDeviceIsTouch && this.target.gameObject.SendMessage(UICamera.messageHover, !0), 0 == this.mouseWasDragged && this.target.gameObject.SendMessage(UICamera.messageClick)))) : 0 == Input.lastUsedInputDeviceIsTouch && t != this.target && (null != this.target && this.target.gameObject.SendMessage(UICamera.messageHover, !1), this.target = t, null != this.target && this.target.gameObject.SendMessage(UICamera.messageHover, !0)), null != t
}, goog.provide("UHT.Engine"), goog.require("UHT.Tracking"), goog.require("UHT.Globals"), goog.require("UHT.System.Misc.Utils"), goog.require("UHT.Component"), goog.require("UHT.GameObject"), goog.require("UHT.AnimationUtils"), goog.require("UHT.TextAsset"), goog.require("UHT.Input"), goog.require("UHT.UHTScreen"), goog.require("UHT.Animation"), goog.require("UHT.UIUtils"), goog.require("UHT.UIAtlas"), goog.require("UHT.UILabel"), goog.require("UHT.UICamera"), goog.require("UHT.UIPanel"), goog.require("UHT.UISprite"), goog.require("UHT.UIZoomSprite"), goog.require("UHT.UIButton"), goog.require("UHT.UIRoot"), goog.require("UHT.UIFont"), goog.require("UHT.UIButtonScale"), goog.require("UHT.UIInput"), goog.require("UHT.Gradient"), goog.require("UHT.UHTEngine"), goog.require("UHT.Engine"), BoneFollower.prototype = Object.create(Component.prototype), BoneFollower.prototype.constructor = BoneFollower, BoneFollower.prototype.Awake = function () {
    this.initializeOnAwake && this.Initialize()
}, BoneFollower.prototype.Initialize = function () {
    this.bone = null, this.valid = null != this.spineController && null != this.spineController.spine, this.valid && (this.skeletonTransform = this.spineController.transform, this.skeletonTransformIsParent = this.skeletonTransform == this.transform.parent, _string.IsNullOrEmpty(this.boneName) || (this.bone = this.spineController.spine.skeleton.findBone(this.boneName)))
}, BoneFollower.prototype.LateUpdate = function () {
    if (this.valid) {
        if (null == this.bone) {
            if (_string.IsNullOrEmpty(this.boneName)) return;
            if (this.bone = this.spineController.spine.skeleton.findBone(this.boneName), null == this.bone) return
        }
        var t = this.transform,
            e = this.skeletonTransform.localScale(),
            i = this.bone.worldX / e.x,
            n = -this.bone.worldY / e.y,
            o = -this.bone.getWorldRotationX();
        if (this.skeletonTransformIsParent) t.localPosition(new UHTMath.Vector3(this.bone.worldX, this.bone.worldY, this.followZPosition ? 0 : t.localPosition().z)), this.followBoneRotation && t.localRotation(UHTMath.Quaternion.euler(new UHTMath.Vector3(0, 0, this.bone.rotation)));
        else {
            var s = this.skeletonTransform.transformPoint(new UHTMath.Vector3(i, n, 0));
            if (this.followZPosition || (s.z = t.position().z), t.position(s), this.followBoneRotation) {
                var a = this.skeletonTransform.eulerAngles();
                t.rotation(UHTMath.Quaternion.euler(a.x, a.y, a.z + o))
            }
        }
        var r = this.followLocalScale ? new UHTMath.Vector3(this.bone.scaleX, this.bone.scaleY, 1) : new UHTMath.Vector3(1, 1, 1);
        this.followSkeletonFlip && (r.y *= this.bone.skeleton.flipX ^ this.bone.skeleton.flipY ? -1 : 1), t.localScale(r)
    } else this.Initialize()
}, goog.provide("UHT.CAT_Action_SpineAnimation"), goog.require("UHT.Engine"), goog.require("UHT.CAT_Action"), CAT_Action_SpineAnimation.prototype = Object.create(CAT_Action.prototype), CAT_Action_SpineAnimation.prototype.constructor = CAT_Action_SpineAnimation, CAT_Action_SpineAnimation.prototype.OnStateChanged_Running = function () {
    if (null != this.controller && null != this.controller.spineData) {
        if (this.overrideOnEnable && (this.controller.onEnable = this.onEnable), this.overrideOnComplete && (this.controller.onComplete = this.onComplete), this.action == SpineControllerCATAction.Reset || this.action == SpineControllerCATAction.Play || this.action == SpineControllerCATAction.Sample) {
            if (_string.IsNullOrEmpty(this.animationName)) return void this.ChangeState(CATState.Finished);
            this.controller.animationName = this.animationName
        }
        this.action == SpineControllerCATAction.Play ? (this.controller.animationTime = this.animationTime, this.controller.animationMode = this.animationMode, this.controller.gameObject.activeInHierarchy, this.controller.Play()) : this.action == SpineControllerCATAction.Resume ? (this.controller.gameObject.activeInHierarchy, this.controller.Resume()) : this.action == SpineControllerCATAction.Sample ? this.controller.Sample(this.normalizedTime) : this.action == SpineControllerCATAction.Pause ? this.controller.Pause() : this.action == SpineControllerCATAction.Reset ? this.controller.Reset() : this.action == SpineControllerCATAction.Stop && this.controller.Stop(), this.action != SpineControllerCATAction.Reset && this.action != SpineControllerCATAction.Stop && this.action != SpineControllerCATAction.Pause && this.action != SpineControllerCATAction.Sample || this.ChangeState(CATState.Finished)
    } else this.ChangeState(CATState.Finished)
}, CAT_Action_SpineAnimation.prototype.OnStateChanged_Stopping = function () {
    null != this.controller && this.controller.Stop(), this.ChangeState(CATState.Finished)
}, CAT_Action_SpineAnimation.prototype.CATUpdate = function () {
    this.GetState() != CATState.Running || this.controller.IsPlaying() || this.ChangeState(CATState.Finished)
}, goog.require("UHT.CAT_Action_SpineAnimation"), CAT_Action_SpineAnimation_NoWait.prototype = Object.create(CAT_Action_SpineAnimation.prototype), CAT_Action_SpineAnimation_NoWait.prototype.constructor = CAT_Action_SpineAnimation_NoWait, CAT_Action_SpineAnimation_NoWait.prototype.OnStateChanged_Running = function () {
    CAT_Action_SpineAnimation.prototype.OnStateChanged_Running.call(this), this.internalState != CATState.Finished && this.ChangeState(CATState.Finished)
}, goog.require("UHT.Engine"), goog.require("UHT.CAT_Action"), goog.require("UHT.AnimationUtils"), CAT_Action_StartAnim.prototype = Object.create(CAT_Action.prototype), CAT_Action_StartAnim.prototype.constructor = CAT_Action_StartAnim, CAT_Action_StartAnim.prototype.OnStateChanged_Running = function () {
    if (null != this.target && "" != this.animClipName && null != this.target.animation) {
        this.target.activeInHierarchy;
        var t = this.target.animation;
        t.Stop(), t.GetAnimationState(this.animClipName).wrapMode = this.mode, t.GetAnimationState(this.animClipName).speed = this.speed, this.speed < 0 && (t.GetAnimationState(this.animClipName).time = t.GetAnimationState(this.animClipName).length), t.Play(this.animClipName)
    } else this.ChangeState(CATState.Finished)
}, CAT_Action_StartAnim.prototype.OnStateChanged_Stopping = function () {
    null != this.target && null != this.target.animation && this.target.animation.isPlaying && this.target.animation.Stop(), this.ChangeState(CATState.Finished)
}, CAT_Action_StartAnim.prototype.CATUpdate = function () {
    this.GetState() == CATState.Running && 0 == this.target.animation.isPlaying && this.ChangeState(CATState.Finished)
}, goog.require("UHT.Engine"), goog.require("UHT.CAT_Action"), CAT_Action_SwitchLayer.prototype = Object.create(CAT_Action.prototype), CAT_Action_SwitchLayer.prototype.constructor = CAT_Action_SwitchLayer, CAT_Action_SwitchLayer.prototype.OnStateChanged_Running = function () {
    Globals.SetLayerRecursively(this.root, this.newLayer.value()), this.ChangeState(CATState.Finished)
}, goog.require("UHT.Engine");
var BehaviourMessage2CATMessage = {
        None: 0,
        Awake: 1,
        Start: 2,
        Update: 3,
        LateUpdate: 4,
        Disable: 5,
        Enable: 6
    },
    BehaviourMessage2CATActionType = {
        None: 0,
        StartOnMessage: 1,
        StopOnMessage: 2
    };

function BehaviourMessage2CATLink() {
    this.cat = null, this.message = BehaviourMessage2CATMessage.None, this.actionType = BehaviourMessage2CATActionType.None
}

function BehaviourMessage2CAT() {
    Component.call(this), this.cats = null
}

function CatTestHelper() {
    Component.call(this), this.eventIdToTest = 0
}

function CAT_ContainerInterface() {
    Component.call(this)
}

function CAT_Container() {
    CAT_ContainerInterface.call(this), this.events = [], this.runningEvents = []
}

function CAT_Container_Proxy() {
    CAT_ContainerInterface.call(this), this.con = null
}
BehaviourMessage2CAT.prototype = Object.create(Component.prototype), BehaviourMessage2CAT.prototype.constructor = BehaviourMessage2CAT, BehaviourMessage2CAT.prototype.Awake = function () {
    this.DoIt(BehaviourMessage2CATMessage.Awake)
}, BehaviourMessage2CAT.prototype.Start = function () {
    this.DoIt(BehaviourMessage2CATMessage.Start)
}, BehaviourMessage2CAT.prototype.Update = function () {
    this.DoIt(BehaviourMessage2CATMessage.Update)
}, BehaviourMessage2CAT.prototype.LateUpdate = function () {
    this.DoIt(BehaviourMessage2CATMessage.LateUpdate)
}, BehaviourMessage2CAT.prototype.OnDisable = function () {
    this.DoIt(BehaviourMessage2CATMessage.Disable)
}, BehaviourMessage2CAT.prototype.OnEnable = function () {
    this.DoIt(BehaviourMessage2CATMessage.Enable)
}, BehaviourMessage2CAT.prototype.DoIt = function (t) {
    for (var e = 0; e < this.cats.length; ++e) this.cats[e].message == t && null != this.cats[e].cat && (this.cats[e].actionType == BehaviourMessage2CATActionType.StartOnMessage && this.cats[e].cat.Start(), this.cats[e].actionType == BehaviourMessage2CATActionType.StopOnMessage && this.cats[e].cat.Stop())
}, goog.require("UHT.Engine"), CatTestHelper.prototype = Object.create(Component.prototype), CatTestHelper.prototype.constructor = CatTestHelper, CatTestHelper.prototype.Awake = function () {
    var t = this.gameObject.GetComponent(CAT_Container);
    null != t && (this.eventIdToTest = new CATLink, this.eventIdToTest.cat = t)
}, CatTestHelper.prototype.Start = function () {}, goog.provide("UHT.CAT_ContainerInterface"), goog.require("UHT.Engine"), CAT_ContainerInterface.prototype = Object.create(Component.prototype), CAT_ContainerInterface.prototype.constructor = CAT_ContainerInterface, CAT_ContainerInterface.prototype.IsEventRunning = function (t) {}, CAT_ContainerInterface.prototype.StartEvent = function (t) {}, CAT_ContainerInterface.prototype.StopEvent = function (t) {}, CAT_ContainerInterface.prototype.StopAllRunningEvents = function () {}, CAT_ContainerInterface.prototype.RegisterCallback = function (t, e, i) {}, CAT_ContainerInterface.prototype.UnregisterCallback = function (t, e, i) {}, CAT_ContainerInterface.prototype.StartEventByMessage = function (t) {
    this.StartEvent(_number.otoi(t))
}, CAT_ContainerInterface.prototype.GetEventMaxDelay = function (t) {}, goog.require("UHT.CAT_ContainerInterface"), CAT_Container.prototype = Object.create(CAT_ContainerInterface.prototype), CAT_Container.prototype.constructor = CAT_Container, CAT_Container.prototype.scriptUpdatePriority = 9, CAT_Container.prototype.IsEventRunning = function (t) {
    return this.GetEventByID(t).isRunning
}, CAT_Container.prototype.StartEvent = function (t) {
    this.GetEventByID(t).Start()
}, CAT_Container.prototype.StopEvent = function (t) {
    this.GetEventByID(t).Stop()
}, CAT_Container.prototype.StopAllRunningEvents = function () {
    for (var t = 0; t < this.runningEvents.length; t++) this.runningEvents[t].Stop()
}, CAT_Container.prototype.Awake = function () {
    for (var t = 0; t < this.events.length; t++)
        for (var e = t + 1; e < this.events.length; e++) this.events[t].id, this.events[e].id
}, CAT_Container.prototype.OnEnable = function () {
    for (var t = 0; t < this.events.length; t++) this.events[t].playAutomatically && this.events[t].Start()
}, CAT_Container.prototype.OnDisable = function () {
    this.StopAllRunningEvents()
}, CAT_Container.prototype.Update = function () {
    for (var t = this.runningEvents.length; t--;) this.runningEvents[t].Update()
}, CAT_Container.prototype.RegisterCallback = function (t, e, i) {
    this.GetEventByID(t).RegisterCallback(e, i)
}, CAT_Container.prototype.UnregisterCallback = function (t, e, i) {
    this.GetEventByID(t).UnregisterCallback(e, i)
}, CAT_Container.prototype.GetEventByID = function (t) {
    for (var e = 0; e < this.events.length; e++)
        if (this.events[e].id == t) return this.events[e];
    return null
}, CAT_Container.prototype.AddRunningEvent = function (t) {
    this.runningEvents.push(t)
}, CAT_Container.prototype.RemoveRunningEvent = function (t) {
    -1 != this.runningEvents.indexOf(t) && this.runningEvents.splice(this.runningEvents.indexOf(t), 1)
}, CAT_Container.prototype.AfterDeserialize = function () {
    for (var t = 0; t < this.events.length; t++) this.events[t].SetParent(this)
}, CAT_Container.prototype.DisableEvent = function (t) {
    this.GetEventByID(Number(t)).isEnabled = !1
}, CAT_Container.prototype.EnableEvent = function (t) {
    this.GetEventByID(Number(t)).isEnabled = !0
}, CAT_Container.prototype.GetEventMaxDelay = function (t) {
    return this.GetEventByID(t).GetMaxDelay()
}, goog.require("UHT.CAT_ContainerInterface"), CAT_Container_Proxy.prototype = Object.create(CAT_ContainerInterface.prototype), CAT_Container_Proxy.prototype.constructor = CAT_Container_Proxy, CAT_Container_Proxy.prototype.IsEventRunning = function (t) {
    return this.con = this.GetComponentInChildren(CAT_Container), null != this.con && this.con.IsEventRunning(t)
}, CAT_Container_Proxy.prototype.StartEvent = function (t) {
    this.con = this.GetComponentInChildren(CAT_Container), null == this.con || this.con.StartEvent(t)
}, CAT_Container_Proxy.prototype.StopEvent = function (t) {
    this.con = this.GetComponentInChildren(CAT_Container), null == this.con || this.con.StopEvent(t)
}, CAT_Container_Proxy.prototype.StopAllRunningEvents = function () {
    this.con = this.GetComponentInChildren(CAT_Container), null == this.con || this.con.StopAllRunningEvents()
}, CAT_Container_Proxy.prototype.RegisterCallback = function (t, e, i) {
    this.con = this.GetComponentInChildren(CAT_Container), null == this.con || this.con.RegisterCallback(t, e, i)
}, CAT_Container_Proxy.prototype.UnregisterCallback = function (t, e, i) {
    this.con = this.GetComponentInChildren(CAT_Container), null == this.con || this.con.UnregisterCallback(t, e, i)
}, CAT_Container_Proxy.prototype.GetEventMaxDelay = function (t) {
    return this.con.GetEventMaxDelay(t)
}, goog.require("UHT.Engine"), XTButton.prototype = Object.create(Component.prototype), XTButton.prototype.constructor = XTButton;
var XTButtonAction = {
    OnClick: 0,
    OnPress: 1
};

function XTButton() {
    Component.call(this), this.action = XTButtonAction.OnClick, this.eventToCode = null, this.useParam = !1, this.param = null, this.paramValue = 0
}

function XTLink() {
    Component.call(this), this.isRegisteredAndInited = !1, this.xtEnabled = !0
}

function AnnouncementDisplayer() {
    XTLink.call(this), this.type = AnnouncementAPI.AnnouncementType.Undefined, this.show = null, this.message = null
}

function Respin2CAT() {
    XTLink.call(this), this.respin = null, this.notRespin = null, this.respinData = null
}

function StageTransition2CATDesc() {
    this.cat = null, this.fromStage = UHTStageName.No_Stage, this.toStage = UHTStageName.No_Stage
}

function StageTransition2CAT() {
    XTLink.call(this), this.transitions = null
}

function XT2CAT() {
    XTLink.call(this), this.actionType = XT2CAT.ActionType.StartOnEvent, this.xtEventName = null, this.catLink = null
}
XTButton.prototype.OnClick = function () {
    if (this.action == XTButtonAction.OnClick) {
        var t = this.gameObject.GetComponent(ClickDelay);
        (null == t || t.CanClick()) && this.DoIt()
    }
}, XTButton.prototype.OnPress = function (t) {
    t && this.action == XTButtonAction.OnPress && this.DoIt()
}, XTButton.prototype.DoIt = function () {
    this.useParam && XT.SetInt(this.param.name, this.paramValue), XT.TriggerEvent(this.eventToCode.name)
}, goog.provide("UHT.XTLink"), goog.require("UHT.Engine"), XTLink.prototype = Object.create(Component.prototype), XTLink.prototype.constructor = XTLink, XTLink.prototype.XTRegisterCallbacksBase = function () {
    this.isRegisteredAndInited = !0, this.XTRegisterCallbacks()
}, XTLink.prototype.XTRegisterCallbacks = function () {}, XTLink.prototype.XTInitVariablesAndEvents = function () {}, XTLink.prototype.OnDestroy = function () {}, XTLink.prototype.Awake = function () {
    XT.RegisterAndInitDone && !this.isRegisteredAndInited && (this.XTRegisterCallbacksBase(), this.XTInitVariablesAndEvents())
}, goog.require("UHT.XTLink"), goog.provide("UHT.AnnouncementDisplayer"), AnnouncementDisplayer.prototype = Object.create(XTLink.prototype), AnnouncementDisplayer.prototype.constructor = AnnouncementDisplayer, AnnouncementDisplayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(AnnouncementVars.Evt_Internal_ShowAnnouncement, this.OnShowAnnouncement, this)
}, AnnouncementDisplayer.prototype.OnShowAnnouncement = function () {
    var t = XT.GetObject(AnnouncementVars.Announcement);
    if (this.type == t.type) {
        XT.SetDouble(Vars.ExtraSessionWin, t.extraWin), XT.SetDouble(Vars.ExtraSessionWin, 0), XT.TriggerEvent(AnnouncementVars.Evt_Internal_AnnouncementHandled);
        for (var e = 0; e < this.message.length; ++e) this.message[e].text = t.message;
        this.show.Start()
    }
}, goog.require("UHT.XTLink"), Respin2CAT.prototype = Object.create(XTLink.prototype), Respin2CAT.prototype.constructor = Respin2CAT, Respin2CAT.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.RespinData, this.OnRespinData, this)
}, Respin2CAT.prototype.OnRespinData = function (t) {
    this.respinData = t
}, Respin2CAT.prototype.StartCATLink = function () {
    var t = null == this.respinData || this.respinData.IsDone ? this.notRespin : this.respin;
    null != t && null != t.cat && t.Start()
}, goog.require("UHT.XTLink"), StageTransition2CAT.prototype = Object.create(XTLink.prototype), StageTransition2CAT.prototype.constructor = StageTransition2CAT, StageTransition2CAT.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.ToStageName, this.OnToStageChanged, this)
}, StageTransition2CAT.prototype.OnToStageChanged = function (t) {
    for (var e = XT.GetObject(Vars.FromStageName), i = 0; i < this.transitions.length; ++i) this.transitions[i].fromStage == e && this.transitions[i].toStage == t && null != this.transitions[i].cat && this.transitions[i].cat.Start()
}, StageTransition2CAT.prototype.StartCATLink = function () {
    this.OnToStageChanged(XT.GetObject(Vars.ToStageName))
}, goog.require("UHT.XTLink"), XT2CAT.prototype = Object.create(XTLink.prototype), XT2CAT.prototype.constructor = XT2CAT, XT2CAT.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(this.xtEventName.name, this.OnEventTriggered, this)
}, XT2CAT.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnEventTriggered, this)
}, XT2CAT.prototype.OnEventTriggered = function () {
    this.gameObject.activeInHierarchy && (this.actionType == XT2CAT.ActionType.StartOnEvent ? this.catLink.Start() : this.actionType == XT2CAT.ActionType.StopOnEvent && this.catLink.Stop())
}, XT2CAT.ActionType = {
    None: 0,
    StartOnEvent: 1,
    StopOnEvent: 2
}, goog.require("UHT.XTLink");
var XTVariable2CATType = {
        XT_Double: 0,
        XT_Float: 1,
        XT_Int: 2,
        XT_Bool: 3,
        XT_Object: 4,
        XT_String: 5,
        None: 6
    },
    XTVariable2CATActionType = {
        None: 0,
        StartOnCondition: 1,
        StopOnCondition: 2
    };

function XTVariable2CAT() {
    XTLink.call(this), this.actionType = XTVariable2CATActionType.StartOnCondition, this.variableType = XTVariable2CATType.None, this.variableName = "", this.value = "", this.less = null, this.lessOrEquals = null, this.equals = null, this.notEquals = null, this.greaterOrEquals = null, this.greater = null, this.isNull = null, this.isNotNull = null, this.valueDouble = 0, this.valueFloat = 0, this.valueInt = 0, this.valueBool = !1
}

function CustomizationWidgetColorSettings() {
    this.name = "", this.color = null, this.widgets = null
}

function CustomizationButtonColorsSettings() {
    this.name = "", this.normal = null, this.hover = null, this.pressed = null, this.disabled = null, this.buttons = null
}

function CustomizationSettings() {
    this.name = "", this.styleNames = null, this.widgetsColors = null, this.buttonsColors = null, this.cat = null
}

function CustomizationsManager() {
    XTLink.call(this), this.customizations = null
}
XTVariable2CAT.prototype = Object.create(XTLink.prototype), XTVariable2CAT.prototype.constructor = XTVariable2CAT, XTVariable2CAT.prototype.XTRegisterCallbacks = function () {
    switch (this.variableType) {
        case XTVariable2CATType.XT_Bool:
            this.valueBool = _bool.Parse(this.value), XT.RegisterCallbackBool(this.variableName, this.CallbackBool, this);
            break;
        case XTVariable2CATType.XT_Double:
            this.valueDouble = _number.otod(this.value), XT.RegisterCallbackDouble(this.variableName, this.CallbackDouble, this);
            break;
        case XTVariable2CATType.XT_Float:
            this.valueFloat = _number.otod(this.value), XT.RegisterCallbackFloat(this.variableName, this.CallbackFloat, this);
            break;
        case XTVariable2CATType.XT_Int:
            this.valueInt = _number.otoi(this.value), XT.RegisterCallbackInt(this.variableName, this.CallbackInt, this);
            break;
        case XTVariable2CATType.XT_Object:
            XT.RegisterCallbackObject(this.variableName, this.CallbackObject, this);
            break;
        case XTVariable2CATType.XT_String:
            XT.RegisterCallbackString(this.variableName, this.CallbackString, this);
            break
    }
}, XTVariable2CAT.prototype.CallbackBool = function (t) {
    this.DoIt(this.equals, t == this.valueBool), this.DoIt(this.notEquals, t != this.valueBool)
}, XTVariable2CAT.prototype.CallbackObject = function (t) {
    this.DoIt(this.isNull, null == t), this.DoIt(this.isNotNull, null != t)
}, XTVariable2CAT.prototype.CallbackString = function (t) {
    this.DoIt(this.equals, t == this.value), this.DoIt(this.notEquals, t != this.value), this.DoIt(this.isNull, null == t), this.DoIt(this.isNotNull, null != t)
}, XTVariable2CAT.prototype.CallbackInt = function (t) {
    this.DoIt(this.less, t < this.valueInt), this.DoIt(this.lessOrEquals, t <= this.valueInt), this.DoIt(this.equals, t == this.valueInt), this.DoIt(this.notEquals, t != this.valueInt), this.DoIt(this.greaterOrEquals, t >= this.valueInt), this.DoIt(this.greater, t > this.valueInt)
}, XTVariable2CAT.prototype.CallbackFloat = function (t) {
    this.DoIt(this.less, t < this.valueFloat), this.DoIt(this.lessOrEquals, t <= this.valueFloat), this.DoIt(this.equals, t == this.valueFloat), this.DoIt(this.notEquals, t != this.valueFloat), this.DoIt(this.greaterOrEquals, t >= this.valueFloat), this.DoIt(this.greater, t > this.valueFloat)
}, XTVariable2CAT.prototype.CallbackDouble = function (t) {
    this.DoIt(this.less, t < this.valueDouble), this.DoIt(this.lessOrEquals, t <= this.valueDouble), this.DoIt(this.equals, t == this.valueDouble), this.DoIt(this.notEquals, t != this.valueDouble), this.DoIt(this.greaterOrEquals, t >= this.valueDouble), this.DoIt(this.greater, t > this.valueDouble)
}, XTVariable2CAT.prototype.DoIt = function (t, e) {
    if (null != t && e) switch (this.actionType) {
        case XTVariable2CATActionType.StartOnCondition:
            t.Start();
            break;
        case XTVariable2CATActionType.StopOnCondition:
            t.Stop();
            break
    }
}, XTVariable2CAT.prototype.JustDoIt = function () {
    this.variableType == XTVariable2CATType.XT_Bool ? this.CallbackBool(XT.GetBool(this.variableName)) : this.variableType == XTVariable2CATType.XT_Double ? this.CallbackDouble(XT.GetDouble(this.variableName)) : this.variableType == XTVariable2CATType.XT_Float ? this.CallbackFloat(XT.GetFloat(this.variableName)) : this.variableType == XTVariable2CATType.XT_Int ? this.CallbackInt(XT.GetInt(this.variableName)) : this.variableType == XTVariable2CATType.XT_Object ? this.CallbackObject(XT.GetObject(this.variableName)) : this.variableType == XTVariable2CATType.XT_String && this.CallbackString(XT.GetString(this.variableName))
}, goog.require("UHT.XTLink"), CustomizationWidgetColorSettings.prototype.Apply = function () {
    for (var t = 0; t < this.widgets.length; ++t) this.widgets[t].color = this.color
}, CustomizationButtonColorsSettings.prototype.Apply = function () {
    for (var t = 0; t < this.buttons.length; ++t) this.buttons[t].color_normal = this.normal, this.buttons[t].color_hover = this.hover, this.buttons[t].color_pressed = this.pressed, this.buttons[t].color_disabled = this.disabled
}, CustomizationSettings.prototype.Apply = function () {
    for (var t = 0; t < this.widgetsColors.length; ++t) this.widgetsColors[t].Apply();
    for (t = 0; t < this.buttonsColors.length; ++t) this.buttonsColors[t].Apply();
    null != this.cat && this.cat.Start()
}, CustomizationsManager.prototype = Object.create(XTLink.prototype), CustomizationsManager.prototype.constructor = CustomizationsManager, CustomizationsManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this, 1)
}, CustomizationsManager.prototype.OnGameInit = function () {
    var t = this.FindCustomization();
    null != t && t.Apply()
}, CustomizationsManager.prototype.FindCustomization = function () {
    for (var t = 0; t < this.customizations.length; ++t)
        if (this.customizations[t].styleNames.indexOf(ServerOptions.styleName) > -1) return this.customizations[t];
    return null
}, goog.require("UHT.XTLink"), VarDisplayer.prototype = Object.create(XTLink.prototype), VarDisplayer.prototype.constructor = VarDisplayer;
var VarType = {
    XT_Int: 0,
    XT_Float: 1,
    XT_Double: 2,
    XT_String: 3,
    XT_GameInfo: 4
};

function VarDisplayer() {
    XTLink.call(this), this.type = VarType.XT_Int, this.variable = null, this.label = null, this.replaceWhenZero = !1, this.replaceWhenZeroChar = ""
}
VarDisplayer.prototype.XTRegisterCallbacks = function () {
    switch (this.type) {
        case VarType.XT_Int:
            XT.RegisterCallbackInt(this.variable.name, this.OnTargetValueChangedInt, this);
            break;
        case VarType.XT_Float:
            XT.RegisterCallbackFloat(this.variable.name, this.OnTargetValueChangedFloat, this);
            break;
        case VarType.XT_Double:
            XT.RegisterCallbackDouble(this.variable.name, this.OnTargetValueChangedFloat, this);
            break;
        case VarType.XT_String:
            XT.RegisterCallbackString(this.variable.name, this.OnTargetValueChangedString, this);
            break;
        default:
            break
    }
}, VarDisplayer.prototype.OnDestroy = function () {
    switch (this.type) {
        case VarType.XT_Int:
            XT.UnregisterCallbackInt(this.OnTargetValueChangedInt, this);
            break;
        case VarType.XT_Float:
            XT.UnregisterCallbackFloat(this.OnTargetValueChangedFloat, this);
            break;
        case VarType.XT_Double:
            XT.UnregisterCallbackDouble(this.OnTargetValueChangedFloat, this);
            break;
        case VarType.XT_String:
            XT.UnregisterCallbackString(this.OnTargetValueChangedString, this);
            break;
        default:
            break
    }
}, VarDisplayer.prototype.OnTargetValueChangedInt = function (t) {
    this.label.text = this.replaceWhenZero && 0 == t ? this.replaceWhenZeroChar : t.toString()
}, VarDisplayer.prototype.OnTargetValueChangedFloat = function (t) {
    this.label.text = this.replaceWhenZero && 0 == t ? this.replaceWhenZeroChar : t.toString()
}, VarDisplayer.prototype.OnTargetValueChangedString = function (t) {
    this.label.text = t
}, goog.require("UHT.Engine");
var XTLinkActivatorAction = {
    None: 0,
    ActivateAll: 1,
    DeactivateAll: 2
};

function XTLinkActivator() {
    Component.call(this), this.list = null, this.includeChildren = !0, this.excludeArrangeables = !0, this.awakeAction = XTLinkActivatorAction.None
}

function ArrangeableBase() {
    XTLink.call(this), this.useOnMobile = !0, this.useOnDesktop = !1
}

function ArrangeableActive() {
    ArrangeableBase.call(this), this.activeInLandscape = !1, this.activeInPortrait = !1
}

function ArrangeableActiveComplex() {
    ArrangeableBase.call(this), this.activeInLandscape = !1, this.activeInLandscapeWide = !1, this.activeInLandscapeWideFull = !1, this.activeInLandscapeLLN = !1, this.activeInPortrait = !1, this.activeInPortraitIPhone = !1, this.activeInPortraitIPad = !1, this.activeInPortraitPLN = !1
}

function ArrangeableMLAnchor() {
    ArrangeableBase.call(this), this.anchors = null, this.maxWidthLandscape = 0, this.separateForLandscapeWide = !1, this.maxWidthLandscapeWide = 0, this.separateForLandscapeWideFull = !1, this.maxWidthLandscapeWideFull = 0, this.separateForLandscapeLLN = !1, this.maxWidthLandscapeLLN = 0, this.separateForPortraitPLN = !1, this.maxWidthPortraitPLN = 0, this.maxWidthPortrait = 0, this.separateForIPhone = !1, this.maxWidthIPhonePortrait = 0, this.separateForIPad = !1, this.maxWidthIPadPortrait = 0
}

function ArrangeableTransform() {
    ArrangeableBase.call(this), this.localPositionLandscape = null, this.localRotationLandscape = null, this.localScaleLandscape = null, this.separateForLandscapeWide = !1, this.localPositionLandscapeWide = null, this.localRotationLandscapeWide = null, this.localScaleLandscapeWide = null, this.separateForLandscapeWideFull = !1, this.localPositionLandscapeWideFull = null, this.localRotationLandscapeWideFull = null, this.localScaleLandscapeWideFull = null, this.separateForLandscapeLLN = !1, this.localPositionLandscapeLLN = null, this.localRotationLandscapeLLN = null, this.localScaleLandscapeLLN = null, this.separateForPortraitPLN = !1, this.localPositionPortraitPLN = null, this.localRotationPortraitPLN = null, this.localScalePortraitPLN = null, this.localPositionPortrait = null, this.localRotationPortrait = null, this.localScalePortrait = null, this.separateForIPhone = !1, this.localPositionIPhonePortrait = null, this.localRotationIPhonePortrait = null, this.localScaleIPhonePortrait = null, this.separateForIPad = !1, this.localPositionIPadPortrait = null, this.localRotationIPadPortrait = null, this.localScaleIPadPortrait = null, this.applyRotationTransform = !1
}

function ArrangeableTransformAndAnchor() {
    ArrangeableTransform.call(this), this.gameAnchorTop = !0, this.portraitPLN_LimitY = -1, this.landscapeLLN_LimitX = -1, this.maxRatioLandLLN = -1, this.maxRatioPortPLN = -1
}

function ArrangeableTransformComplex() {
    ArrangeableTransform.call(this), this.applyOnLandscapeLLN = !1, this.applyOnLandscapeWideFull = !1, this.applyOnLandscapeWide = !1, this.applyOnLandscape = !1, this.applyOnPortraitPLN = !1, this.applyOnPortrait = !1, this.applyOnPortraitIPhone = !1, this.applyOnPortraitIPad = !1, this.backup_localPosition = new UHTMath.Vector3(0, 0, 0), this.backup_localRotation = new UHTMath.Vector3(0, 0, 0), this.backup_localScale = new UHTMath.Vector3(1, 1, 1), this.bIsTransformBackup = !1
}

function ArrangeableUIRoot() {
    ArrangeableBase.call(this), this.manualWidthLandscape = 1444, this.manualHeightLandscape = 999, this.manualWidthPortrait = 1444, this.manualHeightPortrait = 2567
}

function LayoutManager() {
    XTLink.call(this), this.curWidth = -1, this.curHeight = -1, this.curMode = LayoutManager.Mode.Invalid, this.isInit = !1, this.LandscapeWideRatio = 1.57, this.LandscapeWideFullRatio = 1.77, this.LandscapeLLNRatio = 2.05, this.PortraitPLNRatio = .49, this.PortraitRatio = .54, this.PortraitIPhoneRatio = .59, this.PortraitIPadRatio = .74, this.isMobile = !0, this.isMini = !1, this.bLandscapeLLNActive = !1, this.bPortraitPLNActive = !1
}
XTLinkActivator.prototype = Object.create(Component.prototype), XTLinkActivator.prototype.constructor = XTLinkActivator, XTLinkActivator.prototype.Activate = function (t, e) {
    var i;
    t = _number.otoi(t), e = null == e || e, i = this.includeChildren ? this.list[t].GetComponentsInChildren(XTLink, !0) : this.list[t].GetComponents(XTLink);
    for (var n = 0; n < i.length; ++n) this.excludeArrangeables && i[n] instanceof ArrangeableBase || (i[n].xtEnabled = e)
}, XTLinkActivator.prototype.Deactivate = function (t) {
    this.Activate(t, !1)
}, XTLinkActivator.prototype.ActivateAll = function () {
    for (var t = 0; t < this.list.length; ++t) this.Activate(t, !0)
}, XTLinkActivator.prototype.DeactivateAll = function () {
    for (var t = 0; t < this.list.length; ++t) this.Activate(t, !1)
}, XTLinkActivator.prototype.Awake = function () {
    switch (this.awakeAction) {
        case XTLinkActivatorAction.ActivateAll:
            this.ActivateAll();
            break;
        case XTLinkActivatorAction.DeactivateAll:
            this.DeactivateAll();
            break
    }
}, goog.provide("UHT.ArrangeableBase"), goog.require("UHT.XTLink"), ArrangeableBase.prototype = Object.create(XTLink.prototype), ArrangeableBase.prototype.constructor = ArrangeableBase, ArrangeableBase.prototype.XTRegisterCallbacks = function () {
    (this.useOnMobile && Globals.isMobile || this.useOnDesktop && !Globals.isMobile) && (XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout, this.OnSwitchToLandscape, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide, this.OnSwitchToLandscapeWide, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull, this.OnSwitchToLandscapeWideFull, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutLLN, this.OnSwitchToLandscapeLLN, this), this.useOnMobile && Globals.isMobile && (XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutPLN, this.OnSwitchToPortraitPLN, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayout, this.OnSwitchToPortrait, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone, this.OnSwitchToPortraitIPhone, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad, this.OnSwitchToPortraitIPad, this)))
}, ArrangeableBase.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnSwitchToLandscape, this), XT.UnregisterCallbackEvent(this.OnSwitchToLandscapeWide, this), XT.UnregisterCallbackEvent(this.OnSwitchToLandscapeWideFull, this), XT.UnregisterCallbackEvent(this.OnSwitchToLandscapeLLN, this), XT.UnregisterCallbackEvent(this.OnSwitchToPortraitPLN, this), XT.UnregisterCallbackEvent(this.OnSwitchToPortrait, this), XT.UnregisterCallbackEvent(this.OnSwitchToPortraitIPhone, this), XT.UnregisterCallbackEvent(this.OnSwitchToPortraitIPad, this)
}, ArrangeableBase.prototype.OnSwitchToPortrait = function () {}, ArrangeableBase.prototype.OnSwitchToLandscape = function () {}, ArrangeableBase.prototype.OnSwitchToLandscapeWide = function () {
    this.OnSwitchToLandscape()
}, ArrangeableBase.prototype.OnSwitchToLandscapeWideFull = function () {
    this.OnSwitchToLandscapeWide()
}, ArrangeableBase.prototype.OnSwitchToLandscapeLLN = function () {
    this.OnSwitchToLandscapeWideFull()
}, ArrangeableBase.prototype.OnSwitchToPortraitPLN = function () {
    this.OnSwitchToPortrait()
}, ArrangeableBase.prototype.OnSwitchToPortraitIPhone = function () {
    this.OnSwitchToPortrait()
}, ArrangeableBase.prototype.OnSwitchToPortraitIPad = function () {
    this.OnSwitchToPortraitIPhone()
}, goog.require("UHT.ArrangeableBase"), ArrangeableActive.prototype = Object.create(ArrangeableBase.prototype), ArrangeableActive.prototype.constructor = ArrangeableActive, ArrangeableActive.prototype.OnSwitchToPortrait = function () {
    this.gameObject.SetActive(this.activeInPortrait)
}, ArrangeableActive.prototype.OnSwitchToLandscape = function () {
    this.gameObject.SetActive(this.activeInLandscape)
}, goog.require("UHT.ArrangeableBase"), ArrangeableActiveComplex.prototype = Object.create(ArrangeableBase.prototype), ArrangeableActiveComplex.prototype.constructor = ArrangeableActiveComplex, ArrangeableActiveComplex.prototype.OnSwitchToLandscape = function () {
    this.gameObject.SetActive(this.activeInLandscape)
}, ArrangeableActiveComplex.prototype.OnSwitchToLandscapeWide = function () {
    this.gameObject.SetActive(this.activeInLandscapeWide)
}, ArrangeableActiveComplex.prototype.OnSwitchToLandscapeWideFull = function () {
    this.gameObject.SetActive(this.activeInLandscapeWideFull)
}, ArrangeableActiveComplex.prototype.OnSwitchToLandscapeLLN = function () {
    this.gameObject.SetActive(this.activeInLandscapeLLN)
}, ArrangeableActiveComplex.prototype.OnSwitchToPortrait = function () {
    this.gameObject.SetActive(this.activeInPortrait)
}, ArrangeableActiveComplex.prototype.OnSwitchToPortraitIPhone = function () {
    this.gameObject.SetActive(this.activeInPortraitIPhone)
}, ArrangeableActiveComplex.prototype.OnSwitchToPortraitIPad = function () {
    this.gameObject.SetActive(this.activeInPortraitIPad)
}, ArrangeableActiveComplex.prototype.OnSwitchToPortraitPLN = function () {
    this.gameObject.SetActive(this.activeInPortraitPLN)
}, goog.require("UHT.ArrangeableBase"), ArrangeableMLAnchor.prototype = Object.create(ArrangeableBase.prototype), ArrangeableMLAnchor.prototype.constructor = ArrangeableMLAnchor, ArrangeableMLAnchor.prototype.OnSwitchToPortraitPLN = function () {
    this.separateForPortraitPLN ? this.OnLayoutChanged(this.maxWidthPortraitPLN) : this.OnSwitchToPortrait()
}, ArrangeableMLAnchor.prototype.OnSwitchToPortrait = function () {
    this.OnLayoutChanged(this.maxWidthPortrait)
}, ArrangeableMLAnchor.prototype.OnSwitchToPortraitIPhone = function () {
    this.separateForIPhone ? this.OnLayoutChanged(this.maxWidthIPhonePortrait) : this.OnSwitchToPortrait()
}, ArrangeableMLAnchor.prototype.OnSwitchToPortraitIPad = function () {
    this.separateForIPad ? this.OnLayoutChanged(this.maxWidthIPadPortrait) : this.OnSwitchToPortraitIPhone()
}, ArrangeableMLAnchor.prototype.OnSwitchToLandscape = function () {
    this.OnLayoutChanged(this.maxWidthLandscape)
}, ArrangeableMLAnchor.prototype.OnSwitchToLandscapeWide = function () {
    this.separateForLandscapeWide ? this.OnLayoutChanged(this.maxWidthLandscapeWide) : this.OnSwitchToLandscape()
}, ArrangeableMLAnchor.prototype.OnSwitchToLandscapeWideFull = function () {
    this.separateForLandscapeWideFull ? this.OnLayoutChanged(this.maxWidthLandscapeWideFull) : this.OnSwitchToLandscapeWide()
}, ArrangeableMLAnchor.prototype.OnSwitchToLandscapeLLN = function () {
    this.separateForLandscapeLLN ? this.OnLayoutChanged(this.maxWidthLandscapeLLN) : this.OnSwitchToLandscapeWideFull()
}, ArrangeableMLAnchor.prototype.OnLayoutChanged = function (t) {
    for (var e = 0; e < this.anchors.length; ++e) this.anchors[e].maxWidth = t, this.anchors[e].ForceNextUpdate()
}, goog.require("UHT.ArrangeableBase"), ArrangeableTransform.prototype = Object.create(ArrangeableBase.prototype), ArrangeableTransform.prototype.constructor = ArrangeableTransform, ArrangeableTransform.prototype.OnSwitchToPortraitPLN = function () {
    this.separateForPortraitPLN ? (this.gameObject.transform.localPosition(this.localPositionPortraitPLN), this.gameObject.transform.localScale(this.localScalePortraitPLN), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationPortraitPLN))) : this.OnSwitchToPortrait()
}, ArrangeableTransform.prototype.OnSwitchToPortrait = function () {
    this.gameObject.transform.localPosition(this.localPositionPortrait), this.gameObject.transform.localScale(this.localScalePortrait), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationPortrait))
}, ArrangeableTransform.prototype.OnSwitchToPortraitIPhone = function () {
    this.separateForIPhone ? (this.gameObject.transform.localPosition(this.localPositionIPhonePortrait), this.gameObject.transform.localScale(this.localScaleIPhonePortrait), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationIPhonePortrait))) : this.OnSwitchToPortrait()
}, ArrangeableTransform.prototype.OnSwitchToPortraitIPad = function () {
    this.separateForIPad ? (this.gameObject.transform.localPosition(this.localPositionIPadPortrait), this.gameObject.transform.localScale(this.localScaleIPadPortrait), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationIPadPortrait))) : this.OnSwitchToPortraitIPhone()
}, ArrangeableTransform.prototype.OnSwitchToLandscape = function () {
    this.gameObject.transform.localPosition(this.localPositionLandscape), this.gameObject.transform.localScale(this.localScaleLandscape), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationLandscape))
}, ArrangeableTransform.prototype.OnSwitchToLandscapeWide = function () {
    this.separateForLandscapeWide ? (this.gameObject.transform.localPosition(this.localPositionLandscapeWide), this.gameObject.transform.localScale(this.localScaleLandscapeWide), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationLandscapeWide))) : this.OnSwitchToLandscape()
}, ArrangeableTransform.prototype.OnSwitchToLandscapeWideFull = function () {
    this.separateForLandscapeWideFull ? (this.gameObject.transform.localPosition(this.localPositionLandscapeWideFull), this.gameObject.transform.localScale(this.localScaleLandscapeWideFull), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationLandscapeWideFull))) : this.OnSwitchToLandscapeWide()
}, ArrangeableTransform.prototype.OnSwitchToLandscapeLLN = function () {
    this.separateForLandscapeLLN ? (this.gameObject.transform.localPosition(this.localPositionLandscapeLLN), this.gameObject.transform.localScale(this.localScaleLandscapeLLN), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationLandscapeLLN))) : this.OnSwitchToLandscapeWideFull()
}, goog.require("UHT.Engine"), ArrangeableTransformAndAnchor.prototype = Object.create(ArrangeableTransform.prototype), ArrangeableTransformAndAnchor.prototype.constructor = ArrangeableTransformAndAnchor, ArrangeableTransformAndAnchor.prototype.XTRegisterCallbacks = function () {
    ArrangeableTransform.prototype.XTRegisterCallbacks.call(this);
    var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0].gameAnchorRatio_UpperLimit;
    this.maxRatioPortPLN = 9 / t, this.maxRatioLandLLN = t / 9, XT.RegisterCallbackEvent(LMVars.Evt_Internal_ScreenRatioChanged, this.OnScreenRatioChanged, this)
}, ArrangeableTransformAndAnchor.prototype.OnScreenRatioChanged = function () {
    var t = LayoutManager.layoutMode,
        e = globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0],
        i = e.portraitPLNLayoutActive && e.noBlackBandsUntilPortPLN && t == LayoutManager.Mode.Portrait,
        n = e.landscapeLLNLayoutActive && e.noBlackBandsUntilLandLLN && t == LayoutManager.Mode.LandscapeWideFull,
        o = this.separateForPortraitPLN && t == LayoutManager.Mode.PortraitPLN,
        s = this.separateForLandscapeLLN && t == LayoutManager.Mode.LandscapeLLN;
    if (o || s || i || n) {
        var a = UHTScreen.width / UHTScreen.height;
        if (t == LayoutManager.Mode.PortraitPLN || i) {
            a = Math.max(a, this.maxRatioPortPLN), this.portraitPLN_LimitY = (this.gameAnchorTop ? 1 : -1) * (e.manualWidth / this.maxRatioPortPLN) / 2 - e.screenOffsetPortY;
            var r = UHTMath.inverseLerp(.5625, this.maxRatioPortPLN, a),
                l = UHTMath.lerp(this.localPositionPortrait.y, this.portraitPLN_LimitY, r);
            this.gameObject.transform.localPosition(new UHTMath.Vector3(this.localPositionPortrait.x, l, this.localPositionPortrait.z)), this.gameObject.transform.localScale(this.localScalePortrait), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationPortrait)), GUIArranger.I.ScreenAnchorUpdated()
        } else if (t == LayoutManager.Mode.LandscapeLLN) {
            a = Math.min(a, this.maxRatioLandLLN), this.landscapeLLN_LimitX = this.localPositionLandscapeLLN.x * (this.maxRatioLandLLN / LayoutManager.I.LandscapeLLNRatio);
            r = UHTMath.inverseLerp(LayoutManager.I.LandscapeLLNRatio, this.maxRatioLandLLN, a);
            var u = UHTMath.lerp(this.localPositionLandscapeLLN.x, this.landscapeLLN_LimitX, r);
            this.gameObject.transform.localPosition(new UHTMath.Vector3(u, this.localPositionLandscapeLLN.y, this.localPositionLandscapeLLN.z)), this.gameObject.transform.localScale(this.localScaleLandscapeLLN), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationLandscapeLLN)), GUIArranger.I.ScreenAnchorUpdated()
        } else if (n) {
            a = Math.min(a, this.maxRatioLandLLN), this.landscapeLLN_LimitX = this.localPositionLandscape.x * (this.maxRatioLandLLN / LayoutManager.I.LandscapeWideFullRatio);
            r = UHTMath.inverseLerp(LayoutManager.I.LandscapeWideFullRatio, this.maxRatioLandLLN, a), u = UHTMath.lerp(this.localPositionLandscape.x, this.landscapeLLN_LimitX, r);
            this.gameObject.transform.localPosition(new UHTMath.Vector3(u, this.localPositionLandscape.y, this.localPositionLandscape.z)), this.gameObject.transform.localScale(this.localScaleLandscape), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.localRotationLandscape)), GUIArranger.I.ScreenAnchorUpdated()
        }
    }
}, goog.require("UHT.Engine"), ArrangeableTransformComplex.prototype = Object.create(ArrangeableTransform.prototype), ArrangeableTransformComplex.prototype.constructor = ArrangeableTransformComplex, ArrangeableTransformComplex.prototype.BackupTransform = function () {
    this.bIsTransformBackup || (this.backup_localPosition = this.gameObject.transform.localPosition(), this.backup_localScale = this.gameObject.transform.localScale(), this.applyRotationTransform && (this.backup_localRotation = this.gameObject.transform.localEulerAngles()), this.bIsTransformBackup = !0)
}, ArrangeableTransformComplex.prototype.RestoreTransform = function () {
    this.bIsTransformBackup && (this.gameObject.transform.localPosition(this.backup_localPosition), this.gameObject.transform.localScale(this.backup_localScale), this.applyRotationTransform && this.gameObject.transform.localRotation(UHTMath.Quaternion.euler(this.backup_localRotation)), this.bIsTransformBackup = !1)
}, ArrangeableTransformComplex.prototype.OnSwitchToPortraitPLN = function () {
    (this.RestoreTransform(), this.separateForPortraitPLN) ? this.applyOnPortraitPLN && globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0].portraitPLNLayoutActive && (this.BackupTransform(), ArrangeableTransform.prototype.OnSwitchToPortraitPLN.call(this)): this.OnSwitchToPortrait()
}, ArrangeableTransformComplex.prototype.OnSwitchToPortrait = function () {
    this.RestoreTransform(), this.applyOnPortrait && (this.BackupTransform(), ArrangeableTransform.prototype.OnSwitchToPortrait.call(this))
}, ArrangeableTransformComplex.prototype.OnSwitchToPortraitIPhone = function () {
    this.RestoreTransform(), this.separateForIPhone ? this.applyOnPortraitIPhone && (this.BackupTransform(), ArrangeableTransform.prototype.OnSwitchToPortraitIPhone.call(this)) : this.OnSwitchToPortrait()
}, ArrangeableTransformComplex.prototype.OnSwitchToPortraitIPad = function () {
    this.RestoreTransform(), this.separateForIPad ? this.applyOnPortraitIPad && (this.BackupTransform(), ArrangeableTransform.prototype.OnSwitchToPortraitIPad.call(this)) : this.OnSwitchToPortraitIPhone()
}, ArrangeableTransformComplex.prototype.OnSwitchToLandscape = function () {
    this.RestoreTransform(), this.applyOnLandscape && (this.BackupTransform(), ArrangeableTransform.prototype.OnSwitchToLandscape.call(this))
}, ArrangeableTransformComplex.prototype.OnSwitchToLandscapeWide = function () {
    this.RestoreTransform(), this.separateForLandscapeWide ? this.applyOnLandscapeWide && (this.BackupTransform(), ArrangeableTransform.prototype.OnSwitchToLandscapeWide.call(this)) : this.OnSwitchToLandscape()
}, ArrangeableTransformComplex.prototype.OnSwitchToLandscapeWideFull = function () {
    this.RestoreTransform(), this.separateForLandscapeWideFull ? this.applyOnLandscapeWideFull && (this.BackupTransform(), ArrangeableTransform.prototype.OnSwitchToLandscapeWideFull.call(this)) : this.OnSwitchToLandscapeWide()
}, ArrangeableTransformComplex.prototype.OnSwitchToLandscapeLLN = function () {
    (this.RestoreTransform(), this.separateForLandscapeLLN) ? this.applyOnLandscapeLLN && globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0].landscapeLLNLayoutActive && (this.BackupTransform(), ArrangeableTransform.prototype.OnSwitchToLandscapeLLN.call(this)): this.OnSwitchToLandscapeWideFull()
}, goog.require("UHT.ArrangeableBase"), ArrangeableUIRoot.prototype = Object.create(ArrangeableBase.prototype), ArrangeableUIRoot.prototype.constructor = ArrangeableUIRoot, ArrangeableUIRoot.prototype.OnSwitchToPortrait = function () {
    var t = this.GetComponent(UIRoot);
    t.manualWidth = this.manualWidthPortrait, t.manualHeight = this.manualHeightPortrait
}, ArrangeableUIRoot.prototype.OnSwitchToLandscape = function () {
    var t = this.GetComponent(UIRoot);
    t.manualWidth = this.manualWidthLandscape, t.manualHeight = this.manualHeightLandscape
}, goog.require("UHT.XTLink"), goog.provide("UHT.LayoutManager"), LayoutManager.prototype = Object.create(XTLink.prototype), LayoutManager.prototype.constructor = LayoutManager, LayoutManager.Mode = {
    Invalid: 0,
    Landscape: 1,
    Portrait: 2,
    LandscapeWide: 3,
    PortraitIPhone: 4,
    PortraitIPad: 5,
    LandscapeWideFull: 6,
    PortraitPLN: 7,
    LandscapeLLN: 8
}, LayoutManager.layoutMode = LayoutManager.Mode.Invalid, LayoutManager.I = null, LayoutManager.prototype.XTRegisterCallbacks = function () {
    LayoutManager.I = this, this.isInit = !0, this.bPortraitPLNActive = globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0].portraitPLNLayoutActive, this.bLandscapeLLNActive = globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0].landscapeLLNLayoutActive
};
var BT_ORIENTATION_currentMode, BT_ORIENTATION_InitialSent = !1,
    BT_ORIENTATION_lastTime = 0,
    BT_ORIENTATION_timers = [0, 0],
    BT_OrientationUpdateTimers = function () {
        var t = (new Date).getTime();
        BT_ORIENTATION_timers[BT_ORIENTATION_currentMode] += t - BT_ORIENTATION_lastTime, BT_ORIENTATION_lastTime = t
    },
    BT_OrientationSendTimers = function () {
        BT_OrientationUpdateTimers(), 0 != BT_ORIENTATION_timers[0] && (globalTracking.SendEvent("uht_behaviour", "ORIENTATION_MOBILE_time_landscape", BT_ORIENTATION_timers[0], "BehaviourTracker"), BT_ORIENTATION_timers[0] = 0), 0 != BT_ORIENTATION_timers[1] && (globalTracking.SendEvent("uht_behaviour", "ORIENTATION_MOBILE_time_portrait", BT_ORIENTATION_timers[1], "BehaviourTracker"), BT_ORIENTATION_timers[1] = 0)
    },
    BT_OrientationSwitched = function (t) {
        BT_OrientationUpdateTimers(), BT_ORIENTATION_currentMode = t
    };

function ArrangeableCameraSettings() {
    ArrangeableBase.call(this), this._extraCameraSettings = null, this._landscapeClipUp = -1, this._landscapeClipDown = -1, this._landscapeClipLeft = -1, this._landscapeClipRight = -1, this.separateForPortraitPLN = !1, this._portraitPLNClipUp = -1, this._portraitPLNClipDown = -1, this._portraitPLNClipLeft = -1, this._portraitPLNClipRight = -1, this._portraitClipUp = -1, this._portraitClipDown = -1, this._portraitClipLeft = -1, this._portraitClipRight = -1, this.separateForIPhone = !1, this._portraitIPhoneClipUp = -1, this._portraitIPhoneClipDown = -1, this._portraitIPhoneClipLeft = -1, this._portraitIPhoneClipRight = -1, this.separateForIPad = !1, this._portraitIPadClipUp = -1, this._portraitIPadClipDown = -1, this._portraitIPadClipLeft = -1, this._portraitIPadClipRight = -1, this.separateForLandscapeWide = !1, this._landscapeWideClipUp = -1, this._landscapeWideClipDown = -1, this._landscapeWideClipLeft = -1, this._landscapeWideClipRight = -1, this.separateForLandscapeWideFull = !1, this._landscapeWideFullClipUp = -1, this._landscapeWideFullClipDown = -1, this._landscapeWideFullClipLeft = -1, this._landscapeWideFullClipRight = -1, this.separateForLandscapeLLN = !1, this._landscapeLLNClipUp = -1, this._landscapeLLNClipDown = -1, this._landscapeLLNClipLeft = -1, this._landscapeLLNClipRight = -1, this.curMode = LayoutManager.Mode.Invalid
}

function LobbyCategories() {
    XTLink.call(this), this.featuredCategories = null, this.featuredGames = null, this.categories = null, this.localizedSymbols = null, this.maxWidth = 0, this.padding = 0, this.arrangeFeaturedGamesIfLessThan = null, this.featuredGamesArrangers = null, this.searchInput = null, this.noResultsFoundLabel = null, this.featuredContent = null, this.searchContent = null, this.categorySymbols = null, this.categoriesData = null, this.cachedfeaturedCategory = null, this.lastUpdatedCategorySymbol = ""
}

function LobbyCategoriesDesktop() {
    LobbyCategories.call(this), this.allGamesMinWidth = 0
}

function LobbyCategoriesManager() {
    XTLink.call(this), this.catEnable = null, this.catShow = null, this.catHide = null, this.scrollableListLandscape = null, this.scrollableListPortrait = null, this.categoriesData = null, this.categoryIndex = 0, this.indicesLandscape = null, this.indicesPortrait = null, this.scrollLandscape = null, this.scrollPortrait = null, this.isEnabled = !1, this.isVisible = !1
}

function LobbyCategoriesMobile() {
    LobbyCategories.call(this), this.selectedCategory = null, this.selectButton = null, this.selectMinWidth = 0, this.animator = null, this.categorySize = null, this.categoryMargin = null, this.categoriesPerLine = 1, this.categoriesArranger = null, this.selectedCategoryWidth = 0, this.selectedCategoryTextWidth = 0
}
LayoutManager.prototype.Awake = function () {
    XTLink.prototype.Awake.call(this), Globals.isMobile = this.isMobile, Globals.isMini = this.isMini
}, LayoutManager.prototype.Update = function () {
    if (this.isInit && (UHTScreen.width != this.curWidth || UHTScreen.height != this.curHeight || LayoutManager.currentEnforcedRatio != LayoutManager.enforcedRatio)) {
        this.curWidth = UHTScreen.width, this.curHeight = UHTScreen.height, LayoutManager.currentEnforcedRatio = LayoutManager.enforcedRatio;
        var t = UHTScreen.width / UHTScreen.height;
        LayoutManager.enforcedRatio > 0 && (t = LayoutManager.enforcedRatio), this.isMini ? this.curMode != LayoutManager.Mode.Landscape && (this.curMode = LayoutManager.Mode.Landscape, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout)) : this.isMobile ? this.curWidth >= this.curHeight && t < this.LandscapeWideRatio && this.curMode != LayoutManager.Mode.Landscape ? (this.curMode = LayoutManager.Mode.Landscape, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout)) : this.curWidth >= this.curHeight && t >= this.LandscapeWideRatio && t < this.LandscapeWideFullRatio && this.curMode != LayoutManager.Mode.LandscapeWide ? (this.curMode = LayoutManager.Mode.LandscapeWide, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide)) : this.curWidth >= this.curHeight && t >= this.LandscapeWideFullRatio && (!this.bLandscapeLLNActive || t < this.LandscapeLLNRatio) && this.curMode != LayoutManager.Mode.LandscapeWideFull ? (this.curMode = LayoutManager.Mode.LandscapeWideFull, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull)) : this.bLandscapeLLNActive && this.curWidth >= this.curHeight && t >= this.LandscapeLLNRatio && this.curMode != LayoutManager.Mode.LandscapeLLN ? (this.curMode = LayoutManager.Mode.LandscapeLLN, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutLLN)) : this.bPortraitPLNActive && this.curWidth < this.curHeight && t <= this.PortraitPLNRatio && this.curMode != LayoutManager.Mode.PortraitPLN ? (this.curMode = LayoutManager.Mode.PortraitPLN, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutPLN)) : this.curWidth < this.curHeight && (!this.bPortraitPLNActive || t > this.PortraitPLNRatio) && t < this.PortraitIPhoneRatio && this.curMode != LayoutManager.Mode.Portrait ? (this.curMode = LayoutManager.Mode.Portrait, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToPortraitLayout)) : this.curWidth < this.curHeight && t >= this.PortraitIPhoneRatio && t < this.PortraitIPadRatio && this.curMode != LayoutManager.Mode.PortraitIPhone ? (this.curMode = LayoutManager.Mode.PortraitIPhone, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone)) : this.curWidth < this.curHeight && t >= this.PortraitIPadRatio && this.curMode != LayoutManager.Mode.PortraitIPad && (this.curMode = LayoutManager.Mode.PortraitIPad, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad)) : t < this.LandscapeWideRatio && this.curMode != LayoutManager.Mode.Landscape ? (this.curMode = LayoutManager.Mode.Landscape, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout)) : t >= this.LandscapeWideRatio && t < this.LandscapeWideFullRatio && this.curMode != LayoutManager.Mode.LandscapeWide ? (this.curMode = LayoutManager.Mode.LandscapeWide, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide)) : t >= this.LandscapeWideFullRatio && (!this.bLandscapeLLNActive || t < this.LandscapeLLNRatio) && this.curMode != LayoutManager.Mode.LandscapeWideFull ? (this.curMode = LayoutManager.Mode.LandscapeWideFull, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull)) : this.bLandscapeLLNActive && t >= this.LandscapeLLNRatio && this.curMode != LayoutManager.Mode.LandscapeLLN && (this.curMode = LayoutManager.Mode.LandscapeLLN, XT.TriggerEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutLLN)), LayoutManager.layoutMode = this.curMode, XT.TriggerEvent(LMVars.Evt_Internal_ScreenRatioChanged), 0 == UHT_DEVICE_TYPE.DESKTOP && (BT_ORIENTATION_InitialSent ? BT_OrientationSwitched(this.curMode - 1) : (this.curMode == LayoutManager.Mode.Landscape || this.curMode == LayoutManager.Mode.LandscapeWide ? globalTracking.SendEvent("uht_behaviour", "ORIENTATION_MOBILE_initial_landscape", 1, "BehaviourTracker") : globalTracking.SendEvent("uht_behaviour", "ORIENTATION_MOBILE_initial_portrait", 1, "BehaviourTracker"), BT_ORIENTATION_InitialSent = !0, BT_ORIENTATION_lastTime = (new Date).getTime(), BT_ORIENTATION_currentMode = this.curMode - 1, setInterval(BT_OrientationSendTimers, 3e5)))
    }
}, LayoutManager.GetLayoutMode = function () {
    return LayoutManager.I.curMode
}, LayoutManager.GetLayoutType = function () {
    var t = LayoutManager.Mode;
    switch (LayoutManager.I.curMode) {
        case t.PortraitPLN:
        case t.Portrait:
        case t.PortraitIPad:
        case t.PortraitIPhone:
            return t.Portrait
    }
    return t.Landscape
}, LayoutManager.currentEnforcedRatio = 0, LayoutManager.enforcedRatio = 0, LayoutManager.SetRatio = function (t) {
    LayoutManager.enforcedRatio = t
}, goog.require("UHT.LayoutManager"), goog.require("UHT.ArrangeableBase"), ArrangeableCameraSettings.prototype = Object.create(ArrangeableBase.prototype), ArrangeableCameraSettings.prototype.constructor = ArrangeableCameraSettings, ArrangeableCameraSettings.prototype.extraCameraSettings = null, ArrangeableCameraSettings.prototype.landscapeClipUp = -1, ArrangeableCameraSettings.prototype.landscapeClipDown = -1, ArrangeableCameraSettings.prototype.landscapeClipLeft = -1, ArrangeableCameraSettings.prototype.landscapeClipRight = -1, ArrangeableCameraSettings.prototype.portraitPLNClipUp = -1, ArrangeableCameraSettings.prototype.portraitPLNClipDown = -1, ArrangeableCameraSettings.prototype.portraitPLNClipLeft = -1, ArrangeableCameraSettings.prototype.portraitPLNClipRight = -1, ArrangeableCameraSettings.prototype.portraitClipUp = -1, ArrangeableCameraSettings.prototype.portraitClipDown = -1, ArrangeableCameraSettings.prototype.portraitClipLeft = -1, ArrangeableCameraSettings.prototype.portraitClipRight = -1, ArrangeableCameraSettings.prototype.portraitIPhoneClipUp = -1, ArrangeableCameraSettings.prototype.portraitIPhoneClipDown = -1, ArrangeableCameraSettings.prototype.portraitIPhoneClipLeft = -1, ArrangeableCameraSettings.prototype.portraitIPhoneClipRight = -1, ArrangeableCameraSettings.prototype.portraitIPadClipUp = -1, ArrangeableCameraSettings.prototype.portraitIPadClipDown = -1, ArrangeableCameraSettings.prototype.portraitIPadClipLeft = -1, ArrangeableCameraSettings.prototype.portraitIPadClipRight = -1, ArrangeableCameraSettings.prototype.landscapeWideClipUp = -1, ArrangeableCameraSettings.prototype.landscapeWideClipDown = -1, ArrangeableCameraSettings.prototype.landscapeWideClipLeft = -1, ArrangeableCameraSettings.prototype.landscapeWideClipRight = -1, ArrangeableCameraSettings.prototype.landscapeWideFullClipUp = -1, ArrangeableCameraSettings.prototype.landscapeWideFullClipDown = -1, ArrangeableCameraSettings.prototype.landscapeWideFullClipLeft = -1, ArrangeableCameraSettings.prototype.landscapeWideFullClipRight = -1, ArrangeableCameraSettings.prototype.landscapeLLNClipUp = -1, ArrangeableCameraSettings.prototype.landscapeLLNClipDown = -1, ArrangeableCameraSettings.prototype.landscapeLLNClipLeft = -1, ArrangeableCameraSettings.prototype.landscapeLLNClipRight = -1, Object.defineProperties(ArrangeableCameraSettings.prototype, {
    extraCameraSettings: {
        get: function () {
            return null == this._extraCameraSettings && (this._extraCameraSettings = this.GetComponent(ExtraCameraSettings)), this._extraCameraSettings
        },
        set: function (t) {
            this._extraCameraSettings = t
        }
    },
    landscapeClipUp: {
        get: function () {
            return this._landscapeClipUp
        },
        set: function (t) {
            this._landscapeClipUp = t, this.curMode == LayoutManager.Mode.Landscape && (this.extraCameraSettings.clipUp = this._landscapeClipUp)
        }
    },
    landscapeClipDown: {
        get: function () {
            return this._landscapeClipDown
        },
        set: function (t) {
            this._landscapeClipDown = t, this.curMode == LayoutManager.Mode.Landscape && (this.extraCameraSettings.clipDown = this._landscapeClipDown)
        }
    },
    landscapeClipLeft: {
        get: function () {
            return this._landscapeClipLeft
        },
        set: function (t) {
            this._landscapeClipLeft = t, this.curMode == LayoutManager.Mode.Landscape && (this.extraCameraSettings.clipLeft = this._landscapeClipLeft)
        }
    },
    landscapeClipRight: {
        get: function () {
            return this._landscapeClipRight
        },
        set: function (t) {
            this._landscapeClipRight = t, this.curMode == LayoutManager.Mode.Landscape && (this.extraCameraSettings.clipRight = this._landscapeClipRight)
        }
    },
    portraitPLNClipUp: {
        get: function () {
            return this._portraitPLNClipUp
        },
        set: function (t) {
            this._portraitPLNClipUp = t, this.curMode == LayoutManager.Mode.PortraitPLN && (this.extraCameraSettings.clipUp = this._portraitPLNClipUp)
        }
    },
    portraitPLNClipDown: {
        get: function () {
            return this._portraitPLNClipDown
        },
        set: function (t) {
            this._portraitPLNClipDown = t, this.curMode == LayoutManager.Mode.PortraitPLN && (this.extraCameraSettings.clipDown = this._portraitPLNClipDown)
        }
    },
    portraitPLNClipLeft: {
        get: function () {
            return this._portraitPLNClipLeft
        },
        set: function (t) {
            this._portraitPLNClipLeft = t, this.curMode == LayoutManager.Mode.PortraitPLN && (this.extraCameraSettings.clipLeft = this._portraitPLNClipLeft)
        }
    },
    portraitPLNClipRight: {
        get: function () {
            return this._portraitPLNClipRight
        },
        set: function (t) {
            this._portraitPLNClipRight = t, this.curMode == LayoutManager.Mode.PortraitPLN && (this.extraCameraSettings.clipRight = this._portraitPLNClipRight)
        }
    },
    portraitClipUp: {
        get: function () {
            return this._portraitClipUp
        },
        set: function (t) {
            this._portraitClipUp = t, this.curMode == LayoutManager.Mode.Portrait && (this.extraCameraSettings.clipUp = this._portraitClipUp)
        }
    },
    portraitClipDown: {
        get: function () {
            return this._portraitClipDown
        },
        set: function (t) {
            this._portraitClipDown = t, this.curMode == LayoutManager.Mode.Portrait && (this.extraCameraSettings.clipDown = this._portraitClipDown)
        }
    },
    portraitClipLeft: {
        get: function () {
            return this._portraitClipLeft
        },
        set: function (t) {
            this._portraitClipLeft = t, this.curMode == LayoutManager.Mode.Portrait && (this.extraCameraSettings.clipLeft = this._portraitClipLeft)
        }
    },
    portraitClipRight: {
        get: function () {
            return this._portraitClipRight
        },
        set: function (t) {
            this._portraitClipRight = t, this.curMode == LayoutManager.Mode.Portrait && (this.extraCameraSettings.clipRight = this._portraitClipRight)
        }
    },
    portraitIPhoneClipUp: {
        get: function () {
            return this._portraitIPhoneClipUp
        },
        set: function (t) {
            this._portraitIPhoneClipUp = t, this.curMode == LayoutManager.Mode.PortraitIPhone && (this.extraCameraSettings.clipUp = this._portraitIPhoneClipUp)
        }
    },
    portraitIPhoneClipDown: {
        get: function () {
            return this._portraitIPhoneClipDown
        },
        set: function (t) {
            this._portraitIPhoneClipDown = t, this.curMode == LayoutManager.Mode.PortraitIPhone && (this.extraCameraSettings.clipDown = this._portraitIPhoneClipDown)
        }
    },
    portraitIPhoneClipLeft: {
        get: function () {
            return this._portraitIPhoneClipLeft
        },
        set: function (t) {
            this._portraitIPhoneClipLeft = t, this.curMode == LayoutManager.Mode.PortraitIPhone && (this.extraCameraSettings.clipLeft = this._portraitIPhoneClipLeft)
        }
    },
    portraitIPhoneClipRight: {
        get: function () {
            return this._portraitIPhoneClipRight
        },
        set: function (t) {
            this._portraitIPhoneClipRight = t, this.curMode == LayoutManager.Mode.PortraitIPhone && (this.extraCameraSettings.clipRight = this._portraitIPhoneClipRight)
        }
    },
    portraitIPadClipUp: {
        get: function () {
            return this._portraitIPadClipUp
        },
        set: function (t) {
            this._portraitIPadClipUp = t, this.curMode == LayoutManager.Mode.PortraitIPad && (this.extraCameraSettings.clipUp = this._portraitIPadClipUp)
        }
    },
    portraitIPadClipDown: {
        get: function () {
            return this._portraitIPadClipDown
        },
        set: function (t) {
            this._portraitIPadClipDown = t, this.curMode == LayoutManager.Mode.PortraitIPad && (this.extraCameraSettings.clipDown = this._portraitIPadClipDown)
        }
    },
    portraitIPadClipLeft: {
        get: function () {
            return this._portraitIPadClipLeft
        },
        set: function (t) {
            this._portraitIPadClipLeft = t, this.curMode == LayoutManager.Mode.PortraitIPad && (this.extraCameraSettings.clipLeft = this._portraitIPadClipLeft)
        }
    },
    portraitIPadClipRight: {
        get: function () {
            return this._portraitIPadClipRight
        },
        set: function (t) {
            this._portraitIPadClipRight = t, this.curMode == LayoutManager.Mode.PortraitIPad && (this.extraCameraSettings.clipRight = this._portraitIPadClipRight)
        }
    },
    landscapeWideClipUp: {
        get: function () {
            return this._landscapeWideClipUp
        },
        set: function (t) {
            this._landscapeWideClipUp = t, this.curMode == LayoutManager.Mode.LandscapeWide && (this.extraCameraSettings.clipUp = this._landscapeWideClipUp)
        }
    },
    landscapeWideClipDown: {
        get: function () {
            return this._landscapeWideClipDown
        },
        set: function (t) {
            this._landscapeWideClipDown = t, this.curMode == LayoutManager.Mode.LandscapeWide && (this.extraCameraSettings.clipDown = this._landscapeWideClipDown)
        }
    },
    landscapeWideClipLeft: {
        get: function () {
            return this._landscapeWideClipLeft
        },
        set: function (t) {
            this._landscapeWideClipLeft = t, this.curMode == LayoutManager.Mode.LandscapeWide && (this.extraCameraSettings.clipLeft = this._landscapeWideClipLeft)
        }
    },
    landscapeWideClipRight: {
        get: function () {
            return this._landscapeWideClipRight
        },
        set: function (t) {
            this._landscapeWideClipRight = t, this.curMode == LayoutManager.Mode.LandscapeWide && (this.extraCameraSettings.clipRight = this._landscapeWideClipRight)
        }
    },
    landscapeWideFullClipUp: {
        get: function () {
            return this._landscapeWideFullClipUp
        },
        set: function (t) {
            this._landscapeWideFullClipUp = t, this.curMode == LayoutManager.Mode.LandscapeWideFull && (this.extraCameraSettings.clipUp = this._landscapeWideFullClipUp)
        }
    },
    landscapeWideFullClipDown: {
        get: function () {
            return this._landscapeWideFullClipDown
        },
        set: function (t) {
            this._landscapeWideFullClipDown = t, this.curMode == LayoutManager.Mode.LandscapeWideFull && (this.extraCameraSettings.clipDown = this._landscapeWideFullClipDown)
        }
    },
    landscapeWideFullClipLeft: {
        get: function () {
            return this._landscapeWideFullClipLeft
        },
        set: function (t) {
            this._landscapeWideFullClipLeft = t, this.curMode == LayoutManager.Mode.LandscapeWideFull && (this.extraCameraSettings.clipLeft = this._landscapeWideFullClipLeft)
        }
    },
    landscapeWideFullClipRight: {
        get: function () {
            return this._landscapeWideFullClipRight
        },
        set: function (t) {
            this._landscapeWideFullClipRight = t, this.curMode == LayoutManager.Mode.LandscapeWideFull && (this.extraCameraSettings.clipRight = this._landscapeWideFullClipRight)
        }
    },
    landscapeLLNClipUp: {
        get: function () {
            return this._landscapeLLNClipUp
        },
        set: function (t) {
            this._landscapeLLNClipUp = t, this.curMode == LayoutManager.Mode.LandscapeLLN && (this.extraCameraSettings.clipUp = this._landscapeLLNClipUp)
        }
    },
    landscapeLLNClipDown: {
        get: function () {
            return this._landscapeLLNClipDown
        },
        set: function (t) {
            this._landscapeLLNClipDown = t, this.curMode == LayoutManager.Mode.LandscapeLLN && (this.extraCameraSettings.clipDown = this._landscapeLLNClipDown)
        }
    },
    landscapeLLNClipLeft: {
        get: function () {
            return this._landscapeLLNClipLeft
        },
        set: function (t) {
            this._landscapeLLNClipLeft = t, this.curMode == LayoutManager.Mode.LandscapeLLN && (this.extraCameraSettings.clipLeft = this._landscapeLLNClipLeft)
        }
    },
    landscapeLLNClipRight: {
        get: function () {
            return this._landscapeLLNClipRight
        },
        set: function (t) {
            this._landscapeLLNClipRight = t, this.curMode == LayoutManager.Mode.LandscapeLLN && (this.extraCameraSettings.clipRight = this._landscapeLLNClipRight)
        }
    }
}), ArrangeableCameraSettings.prototype.OnSwitchToPortraitPLN = function () {
    this.separateForPortraitPLN ? this.OnLayoutChanged(LayoutManager.Mode.PortraitPLN, this.portraitPLNClipUp, this.portraitPLNClipDown, this.portraitPLNClipLeft, this.portraitPLNClipRight) : this.OnSwitchToPortrait()
}, ArrangeableCameraSettings.prototype.OnSwitchToPortrait = function () {
    this.OnLayoutChanged(LayoutManager.Mode.Portrait, this.portraitClipUp, this.portraitClipDown, this.portraitClipLeft, this.portraitClipRight)
}, ArrangeableCameraSettings.prototype.OnSwitchToPortraitIPhone = function () {
    this.separateForIPhone ? this.OnLayoutChanged(LayoutManager.Mode.PortraitIPhone, this.portraitIPhoneClipUp, this.portraitIPhoneClipDown, this.portraitIPhoneClipLeft, this.portraitIPhoneClipRight) : this.OnSwitchToPortrait()
}, ArrangeableCameraSettings.prototype.OnSwitchToPortraitIPad = function () {
    this.separateForIPad ? this.OnLayoutChanged(LayoutManager.Mode.PortraitIPad, this.portraitIPadClipUp, this.portraitIPadClipDown, this.portraitIPadClipLeft, this.portraitIPadClipRight) : this.OnSwitchToPortraitIPhone()
}, ArrangeableCameraSettings.prototype.OnSwitchToLandscape = function () {
    this.OnLayoutChanged(LayoutManager.Mode.Landscape, this.landscapeClipUp, this.landscapeClipDown, this.landscapeClipLeft, this.landscapeClipRight)
}, ArrangeableCameraSettings.prototype.OnSwitchToLandscapeWide = function () {
    this.separateForLandscapeWide ? this.OnLayoutChanged(LayoutManager.Mode.LandscapeWide, this.landscapeWideClipUp, this.landscapeWideClipDown, this.landscapeWideClipLeft, this.landscapeWideClipRight) : this.OnSwitchToLandscape()
}, ArrangeableCameraSettings.prototype.OnSwitchToLandscapeWideFull = function () {
    this.separateForLandscapeWideFull ? this.OnLayoutChanged(LayoutManager.Mode.LandscapeWideFull, this.landscapeWideFullClipUp, this.landscapeWideFullClipDown, this.landscapeWideFullClipLeft, this.landscapeWideFullClipRight) : this.OnSwitchToLandscapeWide()
}, ArrangeableCameraSettings.prototype.OnSwitchToLandscapeLLN = function () {
    this.separateForLandscapeLLN ? this.OnLayoutChanged(LayoutManager.Mode.LandscapeLLN, this.landscapeLLNClipUp, this.landscapeLLNClipDown, this.landscapeLLNClipLeft, this.landscapeLLNClipRight) : this.OnSwitchToLandscapeWideFull()
}, ArrangeableCameraSettings.prototype.OnLayoutChanged = function (t, e, i, n, o) {
    this.curMode = t, this.extraCameraSettings.clipUp = e, this.extraCameraSettings.clipDown = i, this.extraCameraSettings.clipLeft = n, this.extraCameraSettings.clipRight = o
}, goog.provide("UHT.LobbyCategories"), goog.require("UHT.XTLink"), LobbyCategories.prototype = Object.create(XTLink.prototype), LobbyCategories.prototype.constructor = LobbyCategories, LobbyCategories.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(LobbyVars.FeaturedLobbyCategory, this.OnFeaturedCategory, this), XT.RegisterCallbackObject(LobbyVars.LobbyCategorySymbols, this.OnCategorySymbols, this), XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndex, this.OnLobbyCategoryIndex, this)
}, LobbyCategories.prototype.OnFeaturedCategory = function (t) {
    var e = t;
    if (null != e) {
        if (null == this.cachedfeaturedCategory && (this.cachedfeaturedCategory = e), this.lastUpdatedCategorySymbol != e.symbol)
            for (var i = 0; i < this.featuredCategories.length; ++i) this.featuredCategories[i].UpdateCategory(this.FindLocalizedSymbol(e.symbol));
        this.lastUpdatedCategorySymbol = e.symbol;
        for (i = 0; i < this.featuredGames.length; ++i) this.featuredGames[i].SetValues([].concat(e.games));
        for (i = 0; i < this.arrangeFeaturedGamesIfLessThan.length; ++i) this.featuredGamesArrangers[i].Sample(e.games.length / this.arrangeFeaturedGamesIfLessThan[i]);
        "searchresults" == e.symbol ? (null != this.featuredContent && this.featuredContent.SetActive(!1), null != this.searchContent && this.searchContent.SetActive(!0)) : (null != this.featuredContent && this.featuredContent.SetActive(!0), null != this.searchContent && this.searchContent.SetActive(!1))
    }
}, LobbyCategories.prototype.OnCategorySymbols = function (t) {
    this.categorySymbols = t, this.categoriesData = XT.GetObject(LobbyVars.LobbyCategories), null != this.categorySymbols && this.UpdateCategories()
}, LobbyCategories.prototype.UpdateCategories = function () {}, LobbyCategories.prototype.OnLobbyCategoryIndex = function (t) {
    for (var e = 0; e < this.categories.length; ++e) this.categories[e].SetSelected(e == t)
}, LobbyCategories.prototype.FindLocalizedSymbol = function (t) {
    for (var e = 0; e < this.localizedSymbols.length; ++e)
        if (this.localizedSymbols[e].gameObject.name == t) return this.localizedSymbols[e];
    return null
}, LobbyCategories.prototype.SearchGames = function (t) {
    var e = XT.GetObject(LobbyVars.LobbyCategories);
    if (null != e) {
        for (var i = null, n = 0; n < e.length; n++)
            if (null != e[n] && "allgames" == e[n].symbol) {
                (i = new LobbyCategory(e[n])).symbol = "searchresults", i.games = e[n].games;
                break
            } if (null == i)
            for (n = 0; n < e.length; n++)
                if (null != e[n]) {
                    (i = new LobbyCategory(e[n])).symbol = "searchresults", i.games = e[n].games;
                    break
                } if (null != i) {
            var o = [];
            "" != t && (0 == (o = i.games.filter(function (e) {
                return this.SmartSearch(e, t)
            }.bind(this))).length ? this.noResultsFoundLabel.SetActive(!0) : this.noResultsFoundLabel.SetActive(!1)), i.games = o, XT.SetObject(LobbyVars.FeaturedLobbyCategory, i)
        }
    }
}, LobbyCategories.prototype.ChangeBackToFeatured = function () {
    this.searchInput.Reset(), this.noResultsFoundLabel.SetActive(!1), XT.SetObject(LobbyVars.FeaturedLobbyCategory, this.cachedfeaturedCategory)
}, LobbyCategories.prototype.UpdateSearchResults = function () {
    this.SearchGames(this.searchInput.value)
}, LobbyCategories.prototype.SmartSearch = function (t, e) {
    for (var i = !0, n = e.split(" "), o = 0; o < n.length; o++)
        if (-1 == t.name.toLowerCase().indexOf(n[o].toLowerCase())) {
            i = !1;
            break
        } return i
}, goog.require("UHT.LobbyCategories"), LobbyCategoriesDesktop.prototype = Object.create(LobbyCategories.prototype), LobbyCategoriesDesktop.prototype.constructor = LobbyCategoriesDesktop, LobbyCategoriesDesktop.prototype.UpdateCategories = function () {
    var t = this.categorySymbols.indexOf(LobbyCategorySymbol.AllGames),
        e = 0,
        i = this.FindLocalizedSymbol(LobbyCategorySymbol.AllGames);
    t > -1 && (e = Math.max(i.width, this.allGamesMinWidth));
    var n = this.maxWidth - e;
    this.categorySymbols.length > 1 && (n /= this.categorySymbols.length - 1);
    for (var o = Math.round(n - this.padding), s = this.categorySymbols[this.categorySymbols.length - 1], a = 0, r = 0; r < this.categoriesData.length; ++r)
        if (null == this.categoriesData[r]) this.categories[r].UpdateButton(null, 0, 0, !1);
        else {
            var l = Math.round(this.categoriesData[r].symbol == LobbyCategorySymbol.AllGames ? e : n),
                u = this.categoriesData[r].symbol == s;
            this.categories[r].UpdateButton(this.FindLocalizedSymbol(this.categoriesData[r].symbol), l, o, u), a += .5 * l, this.categories[r].transform.localPosition(new UHTMath.Vector3(a, 0, 0)), a += .5 * l
        } for (r = this.categoriesData.length; r < this.categories.length; ++r) this.categories[r].UpdateButton(null, 0, 0, !1)
}, goog.require("UHT.XTLink"), LobbyCategoriesManager.prototype = Object.create(XTLink.prototype), LobbyCategoriesManager.prototype.constructor = LobbyCategoriesManager, LobbyCategoriesManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(LobbyVars.LobbyCategories, this.OnCategoriesChanged, this), XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndex, this.OnCategoryIndexChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnVSGameStateChanged, this), XT.RegisterCallbackEvent(LobbyVars.Evt_DataToCode_ShowLobbyCategories, this.OnShowCategories, this), XT.RegisterCallbackEvent(LobbyVars.Evt_DataToCode_HideLobbyCategories, this.OnHideCategories, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen, this.OnHideCategories, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows, this.OnHideCategories, this)
}, LobbyCategoriesManager.prototype.OnVSGameStateChanged = function () {
    if (this.isEnabled) {
        var t = VSGameStateManager.GetState();
        t != VSGameState.Spin && t != VSGameState.SpinBonusRounds || this.catHide.Start()
    }
}, LobbyCategoriesManager.prototype.OnCategoriesChanged = function (t) {
    this.categoriesData = t, this.OnCategoryIndexChanged(XT.GetInt(LobbyVars.LobbyCategoryIndex))
}, LobbyCategoriesManager.prototype.OnCategoryIndexChanged = function (t) {
    if (null != this.categoriesData) {
        if (this.isEnabled) this.indicesLandscape[this.categoryIndex] = this.scrollableListLandscape.items[0].valueIdx, this.scrollLandscape[this.categoryIndex] = this.scrollableListLandscape.scrollRemain, null != this.scrollableListPortrait && (this.indicesPortrait[this.categoryIndex] = this.scrollableListPortrait.items[0].valueIdx, this.scrollPortrait[this.categoryIndex] = this.scrollableListPortrait.scrollRemain);
        else {
            this.catEnable.Start(), this.isEnabled = !0, this.indicesLandscape = [], this.indicesPortrait = [], this.scrollLandscape = [], this.scrollPortrait = [];
            for (var e = 0; e < this.categoriesData.length; ++e) this.indicesLandscape.push(0), this.indicesPortrait.push(0), this.scrollLandscape.push(0), this.scrollPortrait.push(0)
        }
        this.scrollableListLandscape.SetValues(this.categoriesData[t].listLandscape.slice()), this.scrollableListLandscape.scrollRemain = this.scrollLandscape[t], this.scrollableListLandscape.UpdateValuesAndIndex(null, this.indicesLandscape[t], !0), null != this.scrollableListPortrait && (this.scrollableListPortrait.SetValues(this.categoriesData[t].listPortrait.slice()), this.scrollableListPortrait.scrollRemain = this.scrollPortrait[t], this.scrollableListPortrait.UpdateValuesAndIndex(null, this.indicesPortrait[t], !0)), this.categoryIndex = t
    }
}, LobbyCategoriesManager.prototype.OnShowCategories = function () {
    this.isVisible || (XT.TriggerEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen), this.catShow.Start(), this.isVisible = !0, XT.TriggerEvent(LobbyVars.Evt_Internal_LobbyCategoriesOpen))
}, LobbyCategoriesManager.prototype.OnHideCategories = function () {
    this.isVisible && (this.catHide.Start(), this.isVisible = !1, XT.TriggerEvent(LobbyVars.Evt_Internal_LobbyCategoriesClosed))
}, goog.require("UHT.LobbyCategories"), LobbyCategoriesMobile.prototype = Object.create(LobbyCategories.prototype), LobbyCategoriesMobile.prototype.constructor = LobbyCategoriesMobile, LobbyCategoriesMobile.prototype.XTRegisterCallbacks = function () {
    LobbyCategories.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndexUnconfirmed, this.OnLobbyCategoryIndexUnconfirmed, this), XT.RegisterCallbackEvent(LobbyVars.Evt_DataToCode_ConfirmLobbyCategoryIndex, this.ConfirmLobbyCategory, this), XT.RegisterCallbackEvent(LobbyVars.Evt_DataToCode_UnconfirmLobbyCategoryIndex, this.UnconfirmLobbyCategory, this)
}, LobbyCategoriesMobile.prototype.ConfirmLobbyCategory = function () {
    var t = XT.GetInt(LobbyVars.LobbyCategoryIndex),
        e = XT.GetInt(LobbyVars.LobbyCategoryIndexUnconfirmed);
    t != e && XT.SetInt(LobbyVars.LobbyCategoryIndex, e)
}, LobbyCategoriesMobile.prototype.UnconfirmLobbyCategory = function () {
    var t = XT.GetInt(LobbyVars.LobbyCategoryIndex);
    t != XT.GetInt(LobbyVars.LobbyCategoryIndexUnconfirmed) && XT.SetInt(LobbyVars.LobbyCategoryIndexUnconfirmed, t)
}, LobbyCategoriesMobile.prototype.UpdateCategories = function () {
    this.ArrangeCategories(), this.ArrangeSelectedCategory()
}, LobbyCategoriesMobile.prototype.ArrangeSelectedCategory = function () {
    var t = 0;
    if (this.categorySymbols.length > 1) {
        var e = this.FindLocalizedSymbol(this.selectButton.gameObject.name);
        t = Math.max(e.width, this.selectMinWidth), this.selectButton.UpdateButton(e, t, Math.round(t - this.padding), !1)
    } else this.selectButton.UpdateButton(null, 0, 0, !1);
    this.selectedCategoryWidth = Math.round(this.maxWidth - t), this.selectedCategoryTextWidth = Math.round(this.selectedCategoryWidth - this.padding), this.UpdateSelectedCategory(XT.GetInt(LobbyVars.LobbyCategoryIndex));
    var i = .5 * this.selectedCategoryWidth;
    this.selectedCategory.transform.localPosition(new UHTMath.Vector3(i, 0, 0)), i += .5 * (this.selectedCategoryWidth + t), this.selectButton.transform.localPosition(new UHTMath.Vector3(i, 0, 0))
}, LobbyCategoriesMobile.prototype.ArrangeCategories = function () {
    for (var t = Math.round(this.categorySize.x - this.padding), e = 0, i = 0, n = [], o = 0; o < this.categoriesData.length; ++o) null == this.categoriesData[o] ? this.categories[o].UpdateButton(null, 0, 0, !1) : (e % this.categoriesPerLine == 0 && n.push([]), this.categories[o].UpdateButton(this.FindLocalizedSymbol(this.categoriesData[o].symbol), Math.round(this.categorySize.x), t, !1), n[i].push(this.categories[o]), ++e % this.categoriesPerLine == 0 && i++);
    var s = 0,
        a = this.categorySize.x + this.categoryMargin.x,
        r = .5 * a;
    for (o = 0; o < n.length; ++o) {
        for (var l = 0, u = (this.categoriesPerLine - n[o].length) * r, h = 0; h < n[o].length; ++h) n[o][h].transform.localPosition(new UHTMath.Vector3(l + u, s, 0)), l += a;
        s -= this.categorySize.y + this.categoryMargin.y
    }
    this.categoriesArranger.Sample(n.length / Math.ceil(this.categories.length / this.categoriesPerLine))
}, LobbyCategoriesMobile.prototype.OnLobbyCategoryIndex = function (t) {
    LobbyCategories.prototype.OnLobbyCategoryIndex.call(this, t), this.UpdateSelectedCategory(t)
}, LobbyCategoriesMobile.prototype.OnLobbyCategoryIndexUnconfirmed = function (t) {
    LobbyCategories.prototype.OnLobbyCategoryIndex.call(this, t)
}, LobbyCategoriesMobile.prototype.UpdateSelectedCategory = function (t) {
    null != this.categoriesData && this.selectedCategory.UpdateButton(this.FindLocalizedSymbol(this.categoriesData[t].symbol), this.selectedCategoryWidth, this.selectedCategoryTextWidth, !1)
}, goog.provide("UHT.LobbyConnection"), goog.require("UHT.XTLink");
var LobbyVendorType = {
        Undefined: -1,
        Slots: 0,
        LiveCasino: 1
    },
    LobbyVendors = {
        Slots: "SLOTS",
        LiveCasino: "LC"
    },
    LobbyVendorTypeConverter = {};

function LobbyGame(t) {
    this.name = "", this.nameLower = "", this.symbol = "", this.vendorType = LobbyVendorType.Undefined, this.casinoId = "", this.id = "", this.launchURL = "", this.atlas = null, this.uid = "", this.promoKeys = null, this.displayStyle = TournamentProtocol.DisplayStyle.Default, this.displayStyles = null, null != t && (this.name = t.name, this.symbol = t.symbol, this.vendorType = t.vendorType, this.casinoId = t.casinoId, this.id = t.id, this.uid = t.uid, this.launchURL = t.launchURL, this.promoKeys = t.promoKeys, this.displayStyle = t.displayStyle, null != t.displayStyles && (this.displayStyles = t.displayStyles.slice()))
}
LobbyVendorTypeConverter.types = [LobbyVendors.Slots, LobbyVendors.LiveCasino], LobbyVendorTypeConverter.Convert = function (t) {
    var e = LobbyVendorTypeConverter.types.indexOf(t);
    return e > -1 ? e : LobbyVendorType.Undefined
};
var LobbyCategorySymbol = {
    Hot: "hot",
    New: "new",
    Popular: "popular",
    Exclusive: "exclusive",
    All: "all",
    AllGames: "allgames"
};

function LobbyCategory(t) {
    if (this.name = "", this.symbol = "", this.games = null, this.gamesLand = null, this.gamesPort = null, this.receivedGames = null, this.searchGames = null, this.searchGameSymbols = null, this.listLandscape = null, this.listPortrait = null, this.featured = null, this.receivedCategories = null, this.categories = null, this.categoryIndex = -1, this.subcategoryIndex = 0, this.subcategoriesIndex = -1, this.isSubcategory = !1, this.hasGames = !1, null != t) {
        if (this.name = t.name, this.symbol = t.symbol, this.categoryIndex = t.categoryIndex, this.subcategoryIndex = t.subcategoryIndex, this.subcategoriesIndex = t.subcategoriesIndex, this.isSubcategory = t.isSubcategory, this.hasGames = t.hasGames, null != t.games) {
            this.games = [];
            for (var e = 0; e < t.games.length; ++e) this.games.push(new LobbyGame(t.games[e]))
        }
        if (null != t.categories) {
            this.categories = [];
            for (e = 0; e < t.categories.length; ++e) this.categories.push(new LobbyCategory(t.categories[e]))
        }
    }
}
var LobbyVars = {
        LobbyCategories: "LobbyCategories",
        LobbyCategoryIndex: "LobbyCategoryIndex",
        LobbySubcategoryIndex: "LobbySubcategoryIndex",
        LobbyCategorySymbols: "LobbyCategorySymbols",
        FeaturedLobbyCategory: "FeaturedLobbyCategory",
        LobbyCategoryIndexUnconfirmed: "LobbyCategoryIndexUnconfirmed",
        Evt_DataToCode_ConfirmLobbyCategoryIndex: "Evt_DataToCode_ConfirmLobbyCategoryIndex",
        Evt_DataToCode_UnconfirmLobbyCategoryIndex: "Evt_DataToCode_UnconfirmLobbyCategoryIndex",
        Evt_Internal_LobbyGameButton_ConfirmationButtonChanged: "Evt_Internal_LobbyGameButton_ConfirmationButtonChanged",
        Evt_DataToCode_ShowLobbyCategories: "Evt_DataToCode_ShowLobbyCategories",
        Evt_DataToCode_HideLobbyCategories: "Evt_DataToCode_HideLobbyCategories",
        Evt_Internal_LobbyCategoriesOpen: "Evt_Internal_LobbyCategoriesOpen",
        Evt_Internal_LobbyCategoriesClosed: "Evt_Internal_LobbyCategoriesClosed"
    },
    LobbyAPIVersion = {
        Undefined: 0,
        V1: 0,
        V2: 1
    };

function LobbyConnection() {
    XTLink.call(this), this.gamesPerLineLandscape = 0, this.gamesPerLinePortrait = 0, this.textureSuffix = "", this.featuredTextureSuffix = "", this.deactivateXTLinks = null, this.urlQuery = "", this.categoriesURL, this.gameLaunchURL = "", this.gameIconsURL = "", this.categories = null, this.categoriesOrder = ["New", "Hot", "Popular"], this.featuredCategory = null, this.featuredCategoriesOrder = [LobbyCategorySymbol.Hot, LobbyCategorySymbol.New, LobbyCategorySymbol.Popular, LobbyCategorySymbol.Exclusive, LobbyCategorySymbol.All], this.texturesBySuffix = null, this.texturesToLoadCount = 0, this.texturesLoaded = !1, this.errorMessage = "", this.retryCount = 0, this.isMultiLobby = !1, this.promoResponse = null, this.langPrefix = "", this.updateLangPrefix = !0
}

function CurrencyProperties() {
    this.CurrencyDecimalSeparator = ".", this.CurrencyGroupSeparator = ",", this.CurrencyGroupSizes = [3], this.CurrencyDecimalDigits = 2, this.CurrencySymbol = "$", this.CurrencyPositivePattern = 3, this.CurrencyNegativePattern = 3
}

function CurrencyFontDescriptor() {
    this.id = 0, this.trueTypeFont = "", this.bitmapFont = ""
}

function CurrencyPatch() {
    Component.call(this), this.currencyFile = null, this.languageFormatFile = null, this.currencyName = "USD", this.languageName = "en", this.localeName = "en", this.fonts = null, this.revisionNumber = 0, this.currencies = null, this.languageFormats = null
}
LobbyConnection.prototype = Object.create(XTLink.prototype), LobbyConnection.prototype.constructor = LobbyConnection, LobbyConnection.APIVersion = LobbyAPIVersion.Undefined, LobbyConnection.TextureData = function () {
    this.url = "", this.texture = null
}, LobbyConnection.Keys = {
    categoriesURL: "ingameLobbyApiURL",
    gameLaunchURL: "gameLaunchURL",
    gameIconsURL: "gameIconsURL",
    lobbyCategories: "lobbyCategories",
    categorySymbol: "categorySymbol",
    categoryName: "categoryName",
    lobbyGames: "lobbyGames",
    name: "name",
    symbol: "symbol",
    activePromos: "activePromos",
    promoKeys: "promoKeys",
    multiProductMiniLobby: "multiProductMiniLobby"
}, LobbyConnection.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived, this.OnInitReceived, this)
}, LobbyConnection.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(LobbyVars.LobbyCategories, null), XT.SetObject(LobbyVars.LobbyCategorySymbols, null), XT.SetInt(LobbyVars.LobbyCategoryIndex, 0), XT.SetInt(LobbyVars.LobbySubcategoryIndex, 0), XT.SetInt(LobbyVars.LobbyCategoryIndexUnconfirmed, 0), XT.SetObject(LobbyVars.FeaturedLobbyCategory, null)
}, LobbyConnection.SentGAvailable = !1, LobbyConnection.prototype.OnInitReceived = function () {
    if (null != UHT_GAME_CONFIG_SRC) {
        var t = LobbyConnection.Keys,
            e = UHT_GAME_CONFIG_SRC[t.categoriesURL];
        null != e && (null != UHT_GAME_CONFIG_SRC[t.multiProductMiniLobby] && (this.isMultiLobby = _bool.Parse(UHT_GAME_CONFIG_SRC[t.multiProductMiniLobby])), this.texturesBySuffix = {}, this.urlQuery = GameProtocolDictionary.mgckey + "=" + ServerOptions.mgckey, this.categoriesURL = e + "?" + this.urlQuery, LobbyConnection.SentGAvailable || (this.isMultiLobby ? globalTracking.SendEvent("uht_behaviour", "MultiLobby_available", 0 | Time.time, "BehaviourTracker") : globalTracking.SendEvent("uht_behaviour", "Lobby_available", 0 | Time.time, "BehaviourTracker")), LobbyConnection.SentGAvailable = !0, this.isMultiLobby ? this.deactivateXTLinks.Start() : (LobbyConnection.APIVersion = e.indexOf("minilobby") > -1 ? LobbyAPIVersion.V2 : LobbyAPIVersion.V1, this.errorMessage = "LobbyAPI Parsing Error " + (LobbyConnection.APIVersion == LobbyAPIVersion.V2 ? "(minilobby/games)" : "(lobby/game/list)"), this.LoadCategories()))
    }
}, LobbyConnection.prototype.LoadCategories = function () {
    this.categoriesURL.indexOf("lobby/game/list") > -1 ? LobbyConnection.APIVersion = LobbyAPIVersion.V1 : this.categoriesURL.indexOf("/minilobby/games") > -1 && (LobbyConnection.APIVersion = LobbyAPIVersion.V2);
    var t = new ServerRequest;
    t.Url = this.categoriesURL, t.Handler = new EventHandler(this, this.OnCategoriesLoaded), t.Method = "GET", RequestManager.AddRequest(t)
}, LobbyConnection.prototype.OnCategoriesLoaded = function (t, e) {
    if (200 != e && this.retryCount++ < 5) this.LoadCategories();
    else {
        var i;
        try {
            i = JSON.parse(t)
        } catch (t) {
            return
        }
        var n = TournamentProtocol.TournamentParser.ParseResponse(i);
        if (null != n && n.error == TournamentProtocol.ErrorCode.None) {
            var o = LobbyConnection.Keys;
            if (null != i[o.gameLaunchURL] && null != i[o.gameIconsURL] && null != i[o.lobbyCategories]) {
                this.gameLaunchURL = String(i[o.gameLaunchURL]), this.gameLaunchURL += (this.gameLaunchURL.indexOf("?") > -1 ? "&" : "?") + this.urlQuery + "&gameSymbol=", this.gameIconsURL = String(i[o.gameIconsURL]), "/" != this.gameIconsURL[this.gameIconsURL.length - 1] && (this.gameIconsURL += "/"), null != i[o.activePromos] && (this.promoResponse = TournamentProtocol.TournamentParser.ParseOnlyTournamentsResponse(n, i[o.activePromos]));
                var s = this.categories = this.ParseCategories(i[o.lobbyCategories]);
                if (null != s) {
                    if (s.length > 1) {
                        var a = [],
                            r = [],
                            l = this.FindCategory(LobbyCategorySymbol.All);
                        null != l && (this.FindUniqueGames(l, a, r), s.splice(s.indexOf(l), 1));
                        for (var u = 0; u < s.length; ++u) this.FindUniqueGames(s[u], a, r);
                        for (; s.length < this.featuredCategoriesOrder.length;) s.push(null);
                        (l = new LobbyCategory).symbol = LobbyCategorySymbol.AllGames, l.games = a, s.push(l)
                    }
                    for (u = 0; u < this.featuredCategoriesOrder.length; ++u) {
                        var h = this.FindCategory(this.featuredCategoriesOrder[u]);
                        if (null != h) {
                            this.featuredCategory = new LobbyCategory(h), this.AddTextures(this.featuredTextureSuffix, this.featuredCategory);
                            break
                        }
                    }
                    this.LoadTextures()
                }
            }
        }
    }
}, LobbyConnection.prototype.ParseCategories = function (t) {
    if (null == t) return null;
    for (var e = LobbyConnection.Keys, i = LobbyConnection.APIVersion, n = i == LobbyAPIVersion.V2 ? t.length : this.categoriesOrder.length, o = new Array(n), s = 0; s < n; ++s) {
        var a = t[s];
        if (null != a && null != a[e.categorySymbol] && null != a[e.lobbyGames]) {
            var r = new LobbyCategory;
            r.symbol = String(a[e.categorySymbol]), r.games = this.ParseGames(a[e.lobbyGames]), r.name = i == LobbyAPIVersion.V2 ? String(a[e.categoryName]) : r.symbol, this.AddTextures(this.textureSuffix, r);
            var l = i == LobbyAPIVersion.V2 ? s : this.categoriesOrder.indexOf(r.name);
            l > -1 && (o[l] = r)
        }
    }
    return o
}, LobbyConnection.prototype.ParseGames = function (t) {
    if (null == t) return null;
    for (var e = LobbyConnection.Keys, i = [], n = 0; n < t.length; ++n) {
        var o = t[n];
        if (null != o && null != o[e.name] && null != o[e.symbol]) {
            var s = new LobbyGame;
            s.name = String(o[e.name]), s.symbol = s.uid = String(o[e.symbol]), s.launchURL = this.gameLaunchURL + s.symbol, null != o[e.promoKeys] && (s.promoKeys = TournamentProtocol.TournamentParser.ParsePromoKeys(o[e.promoKeys]), s.displayStyle = this.GetDisplayStyle(s, !0)), i.push(s)
        }
    }
    return i
}, LobbyConnection.prototype.LoadTexture = function (t, e) {
    var i = new Image;
    i.crossOrigin = "anonymous";
    var n = null,
        o = this;
    i.onload = function () {
        try {
            var s = "s_" + t,
                a = {
                    borderBottom: 0,
                    borderLeft: 0,
                    borderRight: 0,
                    borderTop: 0,
                    paddingBottom: 0,
                    paddingLeft: 0,
                    paddingRight: 0,
                    paddingTop: 0,
                    width: i.width,
                    height: i.height,
                    x: 0,
                    y: 0
                };
            (n = new UIAtlas).isInit = !0, n.pixiTexture = new PIXI.Texture(new PIXI.BaseTexture(i)), n.spriteList[s] = a, n.cachedSprites[t] = a, n.cachedSpriteNames[t] = s
        } catch (t) {
            n = null
        }
        e.texture = n, o.OnTextureLoaded()
    }, i.onerror = function () {
        e.texture = n, o.OnTextureLoaded()
    }, i.src = e.url
}, LobbyConnection.prototype.OnTextureLoaded = function () {
    this.texturesToLoadCount--, this.texturesLoaded = 0 == this.texturesToLoadCount
}, LobbyConnection.prototype.Update = function () {
    if (this.texturesLoaded) {
        this.texturesLoaded = !1;
        for (var t = [], e = this.GetTextures(this.textureSuffix), i = 0; i < this.categories.length; ++i) {
            var n = this.categories[i];
            if (null != n) {
                t.push(n.symbol), n.listLandscape = [], n.listPortrait = [];
                for (var o = null, s = null, a = 0; a < n.games.length; ++a) {
                    var r = n.games[a];
                    this.UpdateTexture(e, r);
                    var l = a % this.gamesPerLineLandscape,
                        u = a % this.gamesPerLinePortrait;
                    0 == l && (null != o && n.listLandscape.push(o), o = []), 0 == u && (null != s && n.listPortrait.push(s), s = []), o.push(r), s.push(r)
                }
                null != o && n.listLandscape.push(o), null != s && n.listPortrait.push(s)
            }
        }
        this.UpdateTextures(this.featuredTextureSuffix, this.featuredCategory), XT.SetObject(LobbyVars.LobbyCategories, this.categories), XT.SetObject(LobbyVars.LobbyCategorySymbols, t), XT.SetObject(LobbyVars.FeaturedLobbyCategory, this.featuredCategory)
    }
}, LobbyConnection.prototype.FindCategory = function (t, e) {
    null == e && (e = this.categories);
    for (var i = 0; i < e.length; ++i)
        if (null != e[i] && e[i].symbol.toLowerCase() == t.toLowerCase()) return e[i];
    return null
}, LobbyConnection.prototype.FindUniqueGames = function (t, e, i) {
    if (null != t && null != t.games)
        for (var n = 0; n < t.games.length; ++n) i.indexOf(t.games[n].uid) > -1 || (e.push(t.games[n]), i.push(t.games[n].uid))
}, LobbyConnection.prototype.GetDisplayStyle = function (t, e) {
    var i = t.displayStyles;
    null == i && (i = t.displayStyles = []);
    for (var n = t.promoKeys, o = 0; o < n.length; ++o) {
        var s = this.FindPromotion(n[o].id, n[o].type);
        null == s || e && s.clientMode != TournamentProtocol.ClientMode.Visible || s.status == TournamentProtocol.StatusCode.Closed || i.indexOf(s.displayStyle) < 0 && i.push(s.displayStyle)
    }
    return i.sort(LobbyConnection.SortDisplayStyles), i.length > 0 ? i[0] : TournamentProtocol.DisplayStyle.Default
}, LobbyConnection.SortDisplayStyles = function (t, e) {
    return e - t
}, LobbyConnection.prototype.FindPromotion = function (t, e) {
    if (null == this.promoResponse) return null;
    var i = null;
    if (e == TournamentProtocol.PromoType.Race ? i = this.promoResponse.races : e == TournamentProtocol.PromoType.Tournament && (i = this.promoResponse.tournaments), null != i)
        for (var n = 0; n < i.length; ++n)
            if (t == i[n].id && e == i[n].type) return i[n];
    return null
}, LobbyConnection.prototype.LoadTextures = function () {
    for (var t in this.texturesBySuffix)
        if (this.texturesBySuffix.hasOwnProperty(t))
            for (var e in this.texturesBySuffix[t]) this.texturesBySuffix[t].hasOwnProperty(e) && this.LoadTexture(e, this.texturesBySuffix[t][e])
}, LobbyConnection.prototype.GetTextures = function (t) {
    return this.texturesBySuffix.hasOwnProperty(t) || (this.texturesBySuffix[t] = {}), this.texturesBySuffix[t]
}, LobbyConnection.prototype.GetTexture = function (t, e) {
    return null != t[e] ? t[e] : null
}, LobbyConnection.prototype.AddTextures = function (t, e) {
    if (null != e) {
        var i = e.games;
        if (null != i)
            for (var n = 0; n < i.length; ++n) this.AddTexture(t, i[n].uid)
    }
}, LobbyConnection.prototype.AddTexture = function (t, e, i, n) {
    if (!_string.IsNullOrEmpty(e)) {
        this.updateLangPrefix && (this.updateLangPrefix = !1, null != window.UHTLobbySeparateIcons && null != window.UHTLobbySeparateIcons[UHT_GAME_CONFIG.LANGUAGE] && (this.langPrefix = window.UHTLobbySeparateIcons[UHT_GAME_CONFIG.LANGUAGE])), i = null != i && i, n = null == n ? "" : n;
        var o = this.GetTextures(t),
            s = this.GetTexture(o, e);
        (null == s || i) && (null == s && (s = new LobbyConnection.TextureData, o[e] = s), s.url = i ? n : this.gameIconsURL + this.langPrefix + e + "/" + e + t + ".jpg", this.texturesToLoadCount++)
    }
}, LobbyConnection.prototype.UpdateTextures = function (t, e) {
    if (null != e) {
        var i = e.games;
        if (null != i)
            for (var n = this.GetTextures(t), o = 0; o < i.length; ++o) this.UpdateTexture(n, i[o])
    }
}, LobbyConnection.prototype.UpdateTexture = function (t, e) {
    var i = e.uid;
    null != t[i] && null != t[i].texture && (e.atlas = t[i].texture)
}, goog.provide("UHT.CurrencyPatch"), goog.require("UHT.Engine"), CurrencyPatch.prototype = Object.create(Component.prototype), CurrencyPatch.prototype.constructor = CurrencyPatch;
var testCurrencyPatch = !1;

function FormatOptions() {
    this.hasCurrency = !0, this.hasJackpotCurrency = !1, this.hasCustomCurrency = !1, this.hasDecimals = !0, this.customCurrency = "", this.fontId = -1
}
CurrencyPatch.prototype.Update = function () {
    testCurrencyPatch && (testCurrencyPatch = !1, LocaleManager.Init(this))
}, CurrencyPatch.prototype.InitCurrencies = function (t) {
    this.ReadFiles(), t.currencyInfo = this.InitCurrencyInfo(this.languageName, this.currencyName, this.localeName), t.jackpotCurrencyInfo = this.InitCurrencyInfo(this.languageName, "USD", this.localeName)
}, CurrencyPatch.prototype.InitCurrency = function (t) {
    return this.InitCurrencyInfo(this.languageName, t, this.localeName)
}, CurrencyPatch.prototype.InitCurrencyInfo = function (t, e, i) {
    var n = new CurrencyProperties;
    return n.CurrencySymbol = e, null != this.currencies[e + "sym"] && (n.CurrencySymbol = this.currencies[e + "sym"]), null != this.languageFormats[i + "_dsep"] ? this.InitLanguageFormat(n, i) : null != this.languageFormats[t + "_dsep"] && this.InitLanguageFormat(n, t), n
}, CurrencyPatch.prototype.InitLanguageFormat = function (t, e) {
    t.CurrencyDecimalSeparator = this.languageFormats[e + "_dsep"], t.CurrencyGroupSeparator = this.languageFormats[e + "_gsep"];
    var i = this.languageFormats[e + "_gnum"].split(" "),
        n = [];
    for (var o in i) n.push(_number.otoi(i[o]));
    t.CurrencyGroupSizes = n, t.CurrencyDecimalDigits = _number.otoi(this.languageFormats[e + "_dnum"]), t.CurrencyPositivePattern = _number.otoi(this.languageFormats[e + "_symp"]), t.CurrencyNegativePattern = t.CurrencyPositivePattern
}, CurrencyPatch.prototype.ReadFiles = function () {
    this.currencies = this.ReadFileInDictionary(this.currencyFile), this.languageFormats = this.ReadFileInDictionary(this.languageFormatFile)
}, CurrencyPatch.prototype.ReadFileInDictionary = function (t) {
    return Object(t.text)
}, goog.provide("UHT.LocaleManager"), goog.require("UHT.CurrencyPatch");
var LocaleManager = {};

function LanguageAwareCAT() {
    XTLink.call(this), this.gameInitPriority = 0, this.language = "", this.cat = null
}

function LocalizationRoot() {
    Component.call(this)
}

function LocalizedLabels() {
    XTLink.call(this), this.localizedLabel = null, this.labels = null, this.useIncludedLanguages = !1, this.includedLanguages = null, this.useExcludedLanguages = !1, this.excludedLanguages = null, this.applyFontSize = !1, this.applyText = !1, this.capitalizeText = !1, this.cat = null, this.gameInitPriority = 0
}

function ModificationsManager() {
    Component.call(this), this.root = null, this.EditMode = !1, this.Atlases = null, this.Transforms = null, this.Labels = null, this.Spines = [], this.revisionNumber = 0
}

function GoldPotController() {
    XTLink.call(this), this.levelThreshold = 0, this.currentProgress = 0, this.chance = 3, this.levels, this.reset, this.coins, this.bounceNoLevelIncrease, this.coinParent, this.currentLevel = 0
}

function JackpotModule() {
    XTLink.call(this), this.canUpdateViewArea = !1, this.lastLayoutChangedFunction = null, this.landscapeScale = .91, this.portraitScale = .835, this.content = null, this.blockingCollider = null, this.shoudPreventBalanceUpdate = !1, this.canActivateCollider = !1
}

function JackpotNameTextPatcher() {
    XTLink.call(this), this.dictionary = {}
}
LocaleManager.currencyInfo = new CurrencyProperties, LocaleManager.jackpotCurrencyInfo = new CurrencyProperties, LocaleManager.patchData = null, LocaleManager.customCurrencyInfo = {}, LocaleManager.isInit = !1, LocaleManager.decimalsAllowed = !0, LocaleManager.FormatValue = function (t, e) {
    if (e.hasCustomCurrency) return LocaleManager.FormatValueWithCustomCurrency(t, e.customCurrency);
    var i = e.hasJackpotCurrency ? LocaleManager.jackpotCurrencyInfo : LocaleManager.currencyInfo,
        n = LocaleManager.InternalFormatValue(t, e.hasDecimals ? i.CurrencyDecimalDigits : 0, e.hasDecimals ? i.CurrencyDecimalSeparator : "", i.CurrencyGroupSeparator);
    return e.hasCurrency && (n = LocaleManager.FormatCurrency(n, i.CurrencySymbol, i.CurrencyPositivePattern)), n
}, LocaleManager.FormatValueWithCustomCurrency = function (t, e) {
    var i = LocaleManager.currencyInfo;
    null != LocaleManager.patchData && (null == LocaleManager.customCurrencyInfo[e] && (LocaleManager.customCurrencyInfo[e] = LocaleManager.patchData.InitCurrency(e)), i = LocaleManager.customCurrencyInfo[e]);
    var n = LocaleManager.InternalFormatValue(t, i.CurrencyDecimalDigits, i.CurrencyDecimalSeparator, i.CurrencyGroupSeparator);
    return (n = LocaleManager.FormatCurrency(n, i.CurrencySymbol, i.CurrencyPositivePattern)).replace(new RegExp(" ", "g"), " ")
}, LocaleManager.FormatCurrency = function (t, e, i) {
    var n = _number.otod(t) >= 0 ? "" : "-";
    switch (t = t.replace("-", ""), i) {
        case 0:
            n += e + t;
            break;
        case 1:
            n += t + e;
            break;
        case 2:
            n += e + " " + t;
            break;
        case 3:
            n += t + " " + e;
            break;
        case 4:
            n += t;
            break
    }
    return n
}, LocaleManager.InternalFormatValue = function (t, e, i, n) {
    var o = t < 0 ? "-" : "";
    t = Math.abs(+t || 0);
    var s = "";
    if (IS_UCBROWSER) {
        t.toFixed(e);
        var a = Math.pow(10, e);
        t *= a, t += .5;
        var r = (t /= a).toString().split(".");
        for (1 == r.length && r.push(""); r[1].length < e;) r[1] += "0";
        r[1] = r[1].slice(0, 2), s = e ? r[1] : "", t = r[0] + (e ? "." + r[1] : "")
    } else t = t.toFixed(e);
    var l = parseInt(t, 10) + "",
        u = l.length;
    return u = u > 3 ? u % 3 : 0, IS_UCBROWSER || (s = Math.abs(t - l).toFixed(e).slice(2)), o + (u ? l.substr(0, u) + n : "") + l.substr(u).replace(/(\d{3})(?=\d)/g, "$1" + n) + (LocaleManager.decimalsAllowed ? i + s : "")
}, LocaleManager.ApplyFontToLabel = function (t, e) {}, LocaleManager.Init = function (t) {
    if (LocaleManager.patchData = t, null != LocaleManager.patchData) {
        var e = {
            currencyInfo: LocaleManager.currencyInfo,
            jackpotCurrencyInfo: LocaleManager.jackpotCurrencyInfo
        };
        LocaleManager.patchData.InitCurrencies(e), LocaleManager.currencyInfo = e.currencyInfo, LocaleManager.jackpotCurrencyInfo = e.jackpotCurrencyInfo
    }
    null != UHT_GAME_CONFIG_SRC.allowDecimals && (LocaleManager.decimalsAllowed = UHT_GAME_CONFIG_SRC.allowDecimals), LocaleManager.isInit = !0, XT.TriggerEvent(Vars.Evt_Internal_LocaleChanged)
}, LocaleManager.GetCurrencySymbol = function () {
    return LocaleManager.currencyInfo.CurrencySymbol
}, goog.require("UHT.XTLink"), LanguageAwareCAT.prototype = Object.create(XTLink.prototype), LanguageAwareCAT.prototype.constructor = LanguageAwareCAT, LanguageAwareCAT.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this, this.gameInitPriority)
}, LanguageAwareCAT.prototype.OnGameInit = function () {
    ServerOptions.language == this.language && null != this.cat && this.cat.Start()
}, goog.require("UHT.Engine"), LocalizationRoot.prototype = Object.create(Component.prototype), LocalizationRoot.prototype.constructor = LocalizationRoot, goog.require("UHT.XTLink"), LocalizedLabels.prototype = Object.create(XTLink.prototype), LocalizedLabels.prototype.constructor = LocalizedLabels, LocalizedLabels.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this, this.gameInitPriority)
}, LocalizedLabels.prototype.OnGameInit = function () {
    var t = !0;
    if (this.useIncludedLanguages && (t = -1 != this.includedLanguages.indexOf(ServerOptions.language)), this.useExcludedLanguages && (t = -1 == this.excludedLanguages.indexOf(ServerOptions.language)), t) {
        for (var e = 0; e < this.labels.length; ++e) this.applyFontSize && (this.labels[e].fontSize = this.localizedLabel.fontSize), this.applyText && (this.labels[e].text = this.capitalizeText ? this.localizedLabel.text.toUpperCase() : this.localizedLabel.text), this.labels[e].fontName = this.localizedLabel.fontName, this.labels[e].Prepare();
        null != this.cat && this.cat.Start()
    }
}, goog.require("UHT.Engine"), goog.require("UHT.ModificationsManager_XChange"), goog.require("UHTMath.Vector3"), ModificationsManager.prototype = Object.create(Component.prototype), ModificationsManager.prototype.constructor = ModificationsManager, ModificationsManager.Applied = !1, ModificationsManager.prototype.Start = function () {
    this.EditMode && this.Init()
}, ModificationsManager.prototype.Update = function () {
    this.EditMode && this.UpdateAllValuesFromScene()
}, ModificationsManager.prototype.OnDrawGizmos = function () {}, ModificationsManager.prototype.Init = function () {
    this.root = Component.FindObjectOfType(LocalizationRoot).gameObject.transform, this.UpdatePrefabReferences(), null != this.Atlases && 0 != this.Atlases.length && this.ApplyAtlases(), null != this.Labels && 0 != this.Labels.length && this.ApplyLabels(), null != this.Transforms && 0 != this.Transforms.length && this.ApplyTransforms(), null != this.Spines && 0 != this.Spines.length && this.ApplySpines(), this.EditMode, ModificationsManager.Applied = !0
}, ModificationsManager.prototype.UpdatePrefabReferences = function () {
    var t;
    for (t = 0; t < this.Transforms.length; ++t) {
        var e = this.Transforms[t];
        null == e.Target && (e.Target = this.root.Find(e.path))
    }
    for (t = 0; t < this.Atlases.length; ++t) {
        var i = this.Atlases[t];
        null == i.Target && (i.Target = this.root.Find(i.oldPath))
    }
    for (t = 0; t < this.Labels.length; ++t) {
        var n = this.Labels[t];
        n.Target = this.root.Find(n.path)
    }
    for (t = 0; t < this.Spines.length; ++t) {
        var o = this.Spines[t];
        null == o.Target && (o.Target = this.root.Find(o.oldPath))
    }
}, ModificationsManager.prototype.UpdateAllValuesFromScene = function () {
    var t;
    for (t = 0; t < this.Atlases.length; ++t) {
        var e = this.Atlases[t];
        this.UpdateAtlasValues(e)
    }
    for (t = 0; t < this.Transforms.length; ++t) {
        var i = this.Transforms[t];
        this.UpdateTransformValues(i)
    }
    for (t = 0; t < this.Labels.length; ++t) {
        var n = this.Labels[t];
        this.UpdateLabelValues(n)
    }
    for (t = 0; t < this.Spines.length; ++t) {
        var o = this.Spines[t];
        this.UpdateSpineValues(o)
    }
}, ModificationsManager.prototype.GetNamePath = function (t) {
    for (var e = t.gameObject.name; t.parent != this.root;) {
        if (null == t.parent) return "";
        e = t.parent.gameObject.name + "/" + e, t = t.parent
    }
    return e
}, ModificationsManager.prototype.UpdateLabelValues = function (t) {}, ModificationsManager.CopyFromLabelToLabel = function (t, e, i, n) {
    i && (e.text = t.text), e.fontName = t.fontName;
    var o = t.fontSize * e.resize;
    e.fontSize = Math.round(Math.max(2, o)), e.currentFontSize = t.fontSize, e.anchorX = t.anchorX, e.anchorY = t.anchorY, e.overflow = t.overflow, e.alignment = t.alignment, e.maxLines = t.maxLines, e.spacingY = t.spacingY * e.resize, e.mArcRadius = t.mArcRadius * e.resize, n && ModificationsManager.CopyEffectsAndColors(t, e), t.overflow == UILabel.Overflow.ShrinkContent || t.overflow == UILabel.Overflow.ClampContent ? (o = t.width * e.resize, e.width = Math.round(Math.max(2, o)), o = t.height * e.resize, e.height = Math.round(Math.max(2, o))) : t.overflow == UILabel.Overflow.ResizeHeight && (o = t.width * e.resize, e.width = Math.round(Math.max(2, o))), e.wasInitCalled = !1, e.Prepare()
}, ModificationsManager.CopyEffectsAndColors = function (t, e) {
    e.effectStyle = t.effectStyle, e.effectColor = t.effectColor, e.effectWidth = t.effectWidth * e.resize, e.mBlurShadow = t.mBlurShadow, e.mBlurShadowSize = t.mBlurShadowSize * e.resize, e.mBlurShadowOffsetX = t.mBlurShadowOffsetX * e.resize, e.mBlurShadowOffsetY = t.mBlurShadowOffsetY * e.resize, e.mBlurShadowColor = t.mBlurShadowColor, e.mOutline = t.mOutline, e.mOutlineColor = t.mOutlineColor, e.mFillCenter = t.mFillCenter
}, ModificationsManager.prototype.UpdateTransformValues = function (t) {
    if (null != t.Target) {
        var e = this.GetNamePath(t.Target);
        e != t.path ? (t.path = e, t.TransformData = [], t.TransformData.push(new TransformInfo), t.TransformData[0].SetPosition(t.Target.localPosition()), t.TransformData[0].SetScale(t.Target.localScale()), t.TransformData[0].SetRotation(t.Target.localEulerAngles().z), t.isSet = !0, this.ApplyTransforms()) : (t.TransformData[0].SetPosition(t.Target.localPosition()), t.TransformData[0].SetScale(t.Target.localScale()), t.TransformData[0].SetRotation(t.Target.localEulerAngles().z))
    }
}, ModificationsManager.prototype.UpdateAtlasValues = function (t) {
    if (null != t.Target) {
        var e = t.Target.GetComponentsInChildren(UISprite, !0);
        0 == e.length ? (t.Target = null, t.isSet = !1) : (t.oldPath = this.GetNamePath(e[0].transform), t.isSet = !0, this.ApplyAtlases())
    }
}, ModificationsManager.prototype.UpdateSpineValues = function (t) {
    if (null != t.Target) {
        var e = t.Target.GetComponentsInChildren(SpineController, !0);
        0 == e.length ? (t.Target = null, t.isSet = !1) : (t.oldPath = this.GetNamePath(e[0].transform), t.isSet = !0, this.ApplySpines())
    }
}, ModificationsManager.prototype.ApplyLabels = function () {
    for (var t = 0; t < this.Labels.length; ++t) {
        var e = this.Labels[t];
        e.currentPayload = this.ChooseExtraPayload(), e.isSet && (null != e.Target && (this.EditMode && (e.oldContent = e.Target.GetComponent(UILabel).text), e.SetValuesToLabel()))
    }
}, ModificationsManager.prototype.ApplyTransforms = function () {
    for (var t = 0; t < this.Transforms.length; ++t) {
        var e = this.Transforms[t];
        e.currentPayload = this.ChooseExtraPayload(), null == e.Target && (e.Target = this.root.Find(e.path)), null != e.Target && e.SetValuesToElement(this.EditMode)
    }
}, ModificationsManager.prototype.ApplyAtlases = function () {
    for (var t = 0; t < this.Atlases.length; ++t) {
        var e = this.Atlases[t];
        if (e.currentPayload = this.ChooseExtraPayload(), -1 != e.currentPayload && e.extraPayloads && e.extraPayloads.length > e.currentPayload && null != !e.extraPayloads[e.currentPayload] && (e.NewAtlas = e.extraPayloads[e.currentPayload]), null != e.NewAtlas && e.isSet) {
            var i = this.root.Find(e.oldPath);
            if (null != i) {
                var n = i.GetComponent(UISprite);
                if (null != n) {
                    var o, s = n.atlas,
                        a = this.root.GetComponentsInChildren(UISprite, !0);
                    for (o = 0; o < a.length; ++o) {
                        var r = a[o];
                        r.atlas == s && (r.atlas = e.NewAtlas, r.SetSpriteName(r.spriteName))
                    }
                }
            }
        }
    }
}, ModificationsManager.prototype.ApplySpines = function () {
    for (var t = 0; t < this.Spines.length; ++t) {
        var e = this.Spines[t];
        if (e.isSet) {
            var i = this.root.Find(e.oldPath);
            if (null != i) {
                var n = i.GetComponent(SpineController);
                if (null != n && (e.currentPayload = this.ChooseExtraPayload(), -1 != e.currentPayload && e.extraPayloads && e.extraPayloads.length > e.currentPayload && null != e.extraPayloads[e.currentPayload] && (e.NewSkeletonData = e.extraPayloads[e.currentPayload].NewSkeletonData, e.Atlases = e.extraPayloads[e.currentPayload].Atlases), null != e.NewSkeletonData)) {
                    var o = n.spineData;
                    n.spineData = e.NewSkeletonData, n.spineAtlases = e.Atlases;
                    for (var s = this.root.GetComponentsInChildren(SpineController, !0), a = 0; a < s.length; ++a) s[a].spineData == o && (s[a].spineData = e.NewSkeletonData, s[a].spineAtlases = e.Atlases)
                }
            }
        }
    }
}, ModificationsManager.prototype.ChooseExtraPayload = function () {
    return XT.GetBool(Vars.Jurisdiction_Text_DE) ? 0 : -1
}, goog.require("UHT.XTLink"), GoldPotController.prototype = Object.create(XTLink.prototype), GoldPotController.prototype.constructor = GoldPotController, GoldPotController.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_CustomGameStoredDataReceived, this.RestorePotGoldLevel, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_SpinEnded, this.OnSpinEnded, this)
}, GoldPotController.prototype.OnSpinEnded = function () {
    (Random.Range(0, 100) < this.chance || XT.GetBool(Vars.FromServer_IsJackpotWin)) && (this.coinParent.localRotation(UHTMath.Quaternion.euler(0, 0, Random.Range(0, 360))), this.coins.Start(), this.currentProgress++)
}, GoldPotController.prototype.RestorePotGoldLevel = function () {
    var t = XT.GetObject(Vars.CustomGameStoredData);
    if (null != t.GoldPotJackpotRedLevel) {
        var e = _number.otoi(t.GoldPotJackpotRedLevel);
        this.currentLevel = e, this.levels[e].Start()
    }
}, GoldPotController.prototype.ResetLevels = function () {
    this.currentLevel = 0, this.currentProgress = 0, this.reset.Start()
}, GoldPotController.prototype.EmptyPot = function () {
    this.currentLevel /= 2, this.currentLevel = 0 | Math.floor(this.currentLevel), this.levels[this.currentLevel].Start(), this.UpdateGameSettings()
}, GoldPotController.prototype.CheckForLevelIncrease = function () {
    this.currentProgress >= this.levelThreshold && this.currentLevel <= this.levels.length - 1 ? (this.UpdateGameSettings(), this.levels[this.currentLevel].Start(), this.currentProgress = 0, this.currentLevel++) : (this.bounceNoLevelIncrease.IsRunning() && this.bounceNoLevelIncrease.Stop(), this.bounceNoLevelIncrease.Start())
}, GoldPotController.prototype.UpdateGameSettings = function () {
    var t = XT.GetObject(Vars.CustomGameStoredData);
    t.GoldPotJackpotRedLevel = this.currentLevel.toString(), XT.SetObject(Vars.CustomGameStoredData, t), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)
}, goog.require("UHT.XTLink"), JackpotModule.prototype = Object.create(XTLink.prototype), JackpotModule.prototype.constructor = JackpotModule, JackpotModule.prototype.XTRegisterCallbacks = function () {
    if (this.DisableOtherJackpotModules(), this.PatchJurisdictionGameTitle(), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_IntroClosedOrSkipped, this.OnIntroClosedOrSkipped, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackBool(Vars.FromServer_IsJackpotWin, this.OnJackpotWin, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_CollectJackpotPressed, this.OnCollectJackpotPressed, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackObject(Vars.FromServer_JackpotsInformation, this.OnJackpotsInformation, this), Globals.isMobile && (XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout, this.OnSwitchToLandscape, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide, this.OnSwitchToLandscape, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull, this.OnSwitchToLandscape, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayout, this.OnSwitchToPortrait, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone, this.OnSwitchToPortrait, this), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad, this.OnSwitchToPortrait, this)), !GlobalSettings.useJackpotRed)
        for (var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(GUIMessageResultWin, !0), e = 0; e < t.length; e++) t[e].orderedJPText = ["MINOR JACKPOT", "MAJOR JACKPOT", "MEGA JACKPOT", "GRAND JACKPOT"];
    var i = globalRuntime.sceneRoots[1].GetComponentsInChildren(BigWin, !0);
    i.length > 0 && null != i[0] && (i[0].skipJackpotWin = !0)
}, JackpotModule.prototype.OnSpinStarted = function () {
    this.shoudPreventBalanceUpdate = !0, this.canActivateCollider = !0, XT.UnregisterCallbackObject(this.OnJackpotsInformation, this), XT.SetBool(Vars.FromServer_IsJackpotWin, !1)
}, JackpotModule.prototype.OnJackpotWin = function (t) {
    this.shoudPreventBalanceUpdate && t && (XT.SetBool(Vars.IgnoreServerBalanceRequest, !0), StageSpin.preventBalanceUpdate = !0, this.canActivateCollider && this.blockingCollider.SetActive(!0))
}, JackpotModule.prototype.OnCollectJackpotPressed = function () {
    this.blockingCollider.SetActive(!1), this.canActivateCollider = !1, this.shoudPreventBalanceUpdate && (XT.SetBool(Vars.IgnoreServerBalanceRequest, !1), StageSpin.preventBalanceUpdate = !1)
}, JackpotModule.prototype.OnGameInit = function () {
    null != JackpotsManager.I && (JackpotsManager.I.shouldUpdateDuringFeatures = !0)
}, JackpotModule.prototype.OnIntroClosedOrSkipped = function () {
    this.canUpdateViewArea = !0, null != this.lastLayoutChangedFunction ? this.lastLayoutChangedFunction() : (UHTSetviewarea(0, 1 - this.landscapeScale, this.landscapeScale, this.landscapeScale), Globals.isMobile ? LayoutManager.SetRatio(1.573) : LayoutManager.SetRatio(1.588));
    for (var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(ScreenAnchor, !0), e = 0; e < t.length; e++) t[e].updateIsNeeded = !0;
    this.content.transform.localScale(1, 1, 1)
}, JackpotModule.prototype.OnSwitchToLandscape = function () {
    this.canUpdateViewArea ? (UHTSetviewarea(0, 1 - this.landscapeScale, this.landscapeScale, this.landscapeScale), LayoutManager.SetRatio(1.573)) : this.lastLayoutChangedFunction = this.OnSwitchToLandscape
}, JackpotModule.prototype.OnSwitchToPortrait = function () {
    this.canUpdateViewArea ? (UHTSetviewarea(0, 1 - this.portraitScale, this.portraitScale, this.portraitScale), LayoutManager.SetRatio(.69)) : this.lastLayoutChangedFunction = this.OnSwitchToPortrait
}, JackpotModule.prototype.DisableOtherJackpotModules = function () {
    var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(MysteryJackpotManager, !0),
        e = globalRuntime.sceneRoots[1].GetComponentsInChildren(ShowMysteryJackpotOnReels, !0),
        i = globalRuntime.sceneRoots[1].GetComponentsInChildren(JackpotVisualManager, !0),
        n = this.transform.GetComponentsInChildren(InterfaceStateChanger, !0);
    if (t.length > 1)
        for (var o = 0; o < t.length - 1; o++) t[o].xtEnabled = !1;
    if (e.length > 1)
        for (o = 0; o < e.length - 1; o++) e[o].xtEnabled = !1;
    if (i.length > 1)
        for (o = 0; o < i.length - 1; o++) i[o].xtEnabled = !1;
    if (ServerOptions.isReplay)
        for (o = 0; o < n.length; o++) n[o].gameObject.components.pop()
}, JackpotModule.prototype.PatchJurisdictionGameTitle = function () {
    var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.JurisdictionGameTitle, !0);
    if (0 != t.length)
        for (var e = t[0].GetComponentsInChildren(window.UILabel, !0), i = 0; i < e.length; i++)
            if (e[i].text = e[i].text.replace("™", "") + " JACKPOT PLAY", 0 == e[i].anchorX) {
                var n = t[0].GetComponentsInChildren(window.ScreenAnchor, !0);
                0 != n.length && n[0].anchorRight && (n[0].rightOffset += 169, n[0].updateIsNeeded = !0)
            }
}, JackpotModule.prototype.OnJackpotsInformation = function (t) {
    if (null != t) {
        var e = XT.GetInt(Vars.FromServer_JackpotWonID);
        if (null != e && null != XT.GetInt(Vars.FromServer_JackpotWonOrder))
            for (var i = 0; i < t.length; i++)
                if (t[i].JackpotID == e) {
                    XT.SetInt(Vars.FromServer_JackpotWonOrder, t[i].JackpotOrder);
                    break
                }
    }
}, JackpotModule.prototype.Awake = function () {
    var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0];
    null != t && (t.portraitPLNLayoutActive = !1, t.landscapeLLNLayoutActive = !1)
}, goog.require("UHT.Engine"), JackpotNameTextPatcher.prototype = Object.create(XTLink.prototype), JackpotNameTextPatcher.prototype.constructor = JackpotNameTextPatcher, JackpotNameTextPatcher.prototype.XTRegisterCallbacks = function () {
    GlobalSettings.useJackpotRed && (XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this), this.dictionary = {}, this.dictionary.MINOR = "MINI", this.dictionary.MAJOR = "MINOR", this.dictionary.MEGA = "MAJOR")
}, JackpotNameTextPatcher.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGUIInit, this)
}, JackpotNameTextPatcher.prototype.OnGUIInit = function () {
    var t = this.GetComponent(UILabel);
    if (null != t)
        for (var e = Object.keys(this.dictionary), i = 0; i < e.length; i++)
            if (-1 != t.text.indexOf(e[i])) {
                t.text = t.text.replace(e[i], this.dictionary[e[i]]);
                break
            }
}, goog.require("UHT.Engine");
var Modules = {
        exportPrefix: "MDL_",
        exportNameByType: ["MultiLobby", "Jackpot", "JackpotRed"],
        OnDownloadMainGame: function () {
            var t = UHT_GAME_CONFIG_SRC;
            if (null != t) {
                var e = LobbyConnection.Keys.multiProductMiniLobby;
                null != t[e] && _bool.Parse(t[e]) || Modules.UnloadModule(ModuleType.MultiLobby), 0 != window.UHT_GAME_CONFIG.GAME_SYMBOL.indexOf("vsprg") ? (Modules.UnloadModule(ModuleType.Jackpot), Modules.UnloadModule(ModuleType.JackpotRed)) : GlobalSettings.useJackpotRed ? Modules.UnloadModule(ModuleType.Jackpot) : Modules.UnloadModule(ModuleType.JackpotRed)
            }
        },
        UnloadModule: function (t) {
            for (var e = Modules.exportNameByType[t], i = Modules.exportPrefix + e + ".json", n = -1, o = 0; o < UHT_GAME_FILES.length; o++)
                if (-1 != (n = UHT_GAME_FILES[o].split("?key=")[0].indexOf(i))) {
                    n = o;
                    break
                } n < 0 || (UHT_GAME_SIZE -= UHT_GAME_FILES_SIZES[n], UHT_GAME_FILES.splice(n, 1), UHT_GAME_FILES_SIZES.splice(n, 1))
        },
        LoadSounds: function (t) {
            var e = UHT_GAME_CONFIG_SRC;
            if (null != e) {
                var i = LobbyConnection.Keys.multiProductMiniLobby;
                null != e[i] && _bool.Parse(e[i]) && Modules.LoadSound(ModuleType.MultiLobby, t), 0 == window.UHT_GAME_CONFIG.GAME_SYMBOL.indexOf("vsprg") && (GlobalSettings.useJackpotRed ? Modules.LoadSound(ModuleType.JackpotRed, t) : Modules.LoadSound(ModuleType.Jackpot, t))
            }
        },
        LoadSound: function (t, e) {
            var i = Modules.exportNameByType[t],
                n = Modules.exportPrefix + i + "_sounds." + SoundHelper.audioFormat;
            null != e[n] && SoundLoader.packageList.push(n)
        }
    },
    ModuleType = {
        Undefined: -1,
        MultiLobby: 0,
        Jackpot: 1,
        JackpotRed: 2
    };

function ModulesManager() {
    Component.call(this)
}

function MultiLobbyCategories() {
    XTLink.call(this), this.categories = null, this.featuredCategories = null, this.featuredGames = null, this.arrangeFeaturedGamesIfLessOrEqual = null, this.featuredGamesArrangers = null, this.categoriesData = null, this.selectedCategory = null, this.featuredArranged = null, this.featuredArrangedDefPos = null
}
ModulesManager.prototype = Object.create(Component.prototype), ModulesManager.prototype.constructor = ModulesManager, goog.require("UHT.XTLink"), MultiLobbyCategories.prototype = Object.create(XTLink.prototype), MultiLobbyCategories.prototype.constructor = MultiLobbyCategories, MultiLobbyCategories.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(LobbyVars.LobbyCategories, this.OnLobbyCategories, this), XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndex, this.OnLobbyCategoryIndex, this)
}, MultiLobbyCategories.prototype.OnLobbyCategories = function (t) {
    this.categoriesData = t, null != this.categoriesData && (this.UpdateCategories(), this.OnLobbyCategoryIndex(XT.GetInt(LobbyVars.LobbyCategoryIndex)))
}, MultiLobbyCategories.prototype.UpdateCategories = function () {
    for (var t = 0; t < this.categories.length; ++t) this.categories[t].SetEnabled(this.categoriesData[t].hasGames)
}, MultiLobbyCategories.prototype.OnLobbyCategoryIndex = function (t) {
    for (var e = 0; e < this.categories.length; ++e) {
        var i = e == t;
        this.categories[e].SetSelected(i), i && (this.selectedCategory = this.GetCategory(e), null != this.selectedCategory && this.UpdateFeaturedCategory(this.selectedCategory.featured))
    }
}, MultiLobbyCategories.prototype.GetCategory = function (t) {
    return null != this.categoriesData && t < this.categoriesData.length ? this.categoriesData[t] : null
}, MultiLobbyCategories.prototype.UpdateFeaturedCategory = function (t) {
    if (null != t) {
        if (null == this.featuredArranged) {
            this.featuredArranged = [], this.featuredArrangedDefPos = [];
            for (var e = 0; e < this.featuredGamesArrangers.length; ++e) this.featuredArranged.push(this.featuredGamesArrangers[e].target.transform), this.featuredArrangedDefPos.push(this.featuredArranged[e].localPosition())
        }
        for (e = 0; e < this.featuredGames.length; ++e) {
            var i = this.featuredGames[e];
            i.SetValues(t.games.slice(), !1), i.scrollRemain = i.isEnabled ? i.scrollRemain : 0;
            var n = i.items.length,
                o = null == i.itemValues ? 0 : i.itemValues.length,
                s = Math.max(0, i.items[0].valueIdx);
            s + n > o && (s = o - n), i.UpdateValuesAndIndex(null, i.isEnabled ? s : 0, !0)
        }
        for (e = 0; e < this.arrangeFeaturedGamesIfLessOrEqual.length; ++e) {
            var a = t.games.length,
                r = this.arrangeFeaturedGamesIfLessOrEqual[e];
            a <= r ? this.featuredGamesArrangers[e].Sample(a / r) : this.featuredArranged[e].localPosition(this.featuredArrangedDefPos[e])
        }
    }
}, goog.require("UHT.XTLink");
var MultiLobbyMinPageScrollLimitType = {
        Default: 0,
        Featured: 1,
        CategoryAndGames: 2,
        Games: 3,
        Search: 4
    },
    MultiLobbyMaxPageScrollLimitType = {
        Default: 0,
        FeaturedNoGames: 1,
        CategoryAndGamesNoScroll: 2,
        SearchNoScroll: 3
    },
    MultiLobbyGamesListType = {
        Landscape: 0,
        Portrait: 1
    };

function MultiLobbyCategoriesManager() {
    XTLink.call(this), this.gameListType = MultiLobbyGamesListType.Landscape, this.show = null, this.hide = null, this.featured = null, this.noFeatured = null, this.scrollbars = null, this.minPageScrollLimits = null, this.minPageScrollLimitTypes = null, this.maxPageScrollLimits = null, this.maxPageScrollLimitTypes = null, this.searchMinPageScrollLimitType = MultiLobbyMinPageScrollLimitType.Default, this.pageDrag = null, this.pageScroll = null, this.gamesScroll = null, this.featuredScroll = null, this.categories = null, this.categoryIdx = 0, this.gamesIndices = null, this.gamesScrolls = null, this.pagePositions = null, this.defaultMinPageScrollLimit = null, this.defaultMaxPageScrollLimit = null, this.minPageScrollLimitType = MultiLobbyMinPageScrollLimitType.Default, this.maxPageScrollLimitType = MultiLobbyMaxPageScrollLimitType.Default, this.isInit = !1, this.isOpen = !1, this.isSearchOpen = !1
}

function LobbyVendor() {
    this.type = LobbyVendorType.Undefined, this.symbol = "", this.config = null, this.promoResponse = null, this.lastPlayed = null, this.landingPage = null, this.promo = null, this.categories = null, this.games = null
}

function DgaTable() {
    this.tableId = "", this.tableName = "", this.tableType = "", this.tableSubtype = "", this.tableImage = "", this.tableOpen = !1, this.newTable = !1, this.tableLimits = null, this.dealer = null, this.currency = "", this.languageSpecificTableInfo = "", this.totalSeatedPlayers = 0, this.totalSeats = 0
}
MultiLobbyCategoriesManager.prototype = Object.create(XTLink.prototype), MultiLobbyCategoriesManager.prototype.constructor = MultiLobbyCategoriesManager, MultiLobbyCategoriesManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(LobbyVars.LobbyCategories, this.OnCategoriesChanged, this), XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndex, this.OnCategoryIndexChanged, this), XT.RegisterCallbackInt(LobbyVars.LobbySubcategoryIndex, this.OnSubcategoryIndexChanged, this), XT.RegisterCallbackEvent(MultiLobbyVars.Evt_Internal_MultiLobby_SearchUpdated, this.OnSearchUpdated, this), XT.RegisterCallbackEvent(MultiLobbyVars.Evt_Internal_MultiLobby_SearchClosed, this.OnSearchClosed, this), XT.RegisterCallbackEvent(LobbyVars.Evt_DataToCode_ShowLobbyCategories, this.OnShowCategories, this), XT.RegisterCallbackEvent(LobbyVars.Evt_DataToCode_HideLobbyCategories, this.OnHideCategories, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen, this.OnHideCategories, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows, this.OnHideCategories, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnVSGameStateChanged, this)
}, MultiLobbyCategoriesManager.prototype.OnCategoriesChanged = function (t) {
    this.categories = t, this.OnCategoryIndexChanged(XT.GetInt(LobbyVars.LobbyCategoryIndex))
}, MultiLobbyCategoriesManager.prototype.GetCategoryWithGamesIndex = function (t) {
    for (var e = t - 1; e >= 0; --e)
        if (!this.categories[e].isSubcategory && this.categories[e].hasGames) return e;
    for (e = t + 1; e < this.categories.length; ++e)
        if (!this.categories[e].isSubcategory && this.categories[e].hasGames) return e;
    return -1
}, MultiLobbyCategoriesManager.prototype.GetSubcategoryWithGamesIndex = function (t, e) {
    for (var i = e - 1; i >= 0; --i)
        if (t[i].hasGames) return i;
    for (i = e + 1; i < t.length; ++i)
        if (t[i].hasGames) return i;
    return -1
}, MultiLobbyCategoriesManager.prototype.OnCategoryIndexChanged = function (t) {
    if (null != this.categories) {
        if (this.isInit) this.SaveScrolls();
        else {
            this.isInit = !0, this.pageDrag = this.scrollbars.pageDrag, this.pageScroll = this.scrollbars.pageScrollbar, this.gamesScroll = this.scrollbars.gamesScrollbar, this.featuredScroll = this.scrollbars.featuredScrollbar, this.defaultMinPageScrollLimit = this.pageScroll.simpleLocalPositionLimitMin, this.defaultMaxPageScrollLimit = this.pageScroll.simpleLocalPositionLimitMax, this.gamesScrolls = [], this.gamesIndices = [], this.pagePositions = [];
            for (var e = 0; e < this.categories.length; ++e) this.gamesScrolls.push(0), this.gamesIndices.push(0), this.pagePositions.push(this.GetMinPageScrollLimit(this.categories[e], !1))
        }
        var i = this.categories[t];
        if (i.hasGames) {
            if (i.subcategoriesIndex > -1) {
                var n = i.categories,
                    o = i.subcategoryIndex;
                if (t = i.subcategoriesIndex + o, !(i = this.categories[t]).hasGames) return void((s = this.GetSubcategoryWithGamesIndex(n, o)) > -1 && XT.SetInt(LobbyVars.LobbySubcategoryIndex, s))
            }
            this.categoryIdx = t, this.UpdateCategory(i, !1)
        } else {
            var s;
            (s = this.GetCategoryWithGamesIndex(t)) > -1 && XT.SetInt(LobbyVars.LobbyCategoryIndex, s)
        }
    }
}, MultiLobbyCategoriesManager.prototype.OnSubcategoryIndexChanged = function (t) {
    if (null != this.categories) {
        var e = XT.GetInt(LobbyVars.LobbyCategoryIndex);
        this.categories[e].subcategoryIndex = t, this.OnCategoryIndexChanged(e)
    }
}, MultiLobbyCategoriesManager.prototype.OnSearchUpdated = function () {
    this.isSearchOpen || (this.SaveScrolls(), this.isSearchOpen = !0), this.UpdateCategory(XT.GetObject(MultiLobbyVars.MultiLobby_SearchCategory), !0)
}, MultiLobbyCategoriesManager.prototype.OnSearchClosed = function () {
    this.isSearchOpen = !1, this.UpdateCategory(this.categories[this.categoryIdx], !1)
}, MultiLobbyCategoriesManager.prototype.OnShowCategories = function () {
    this.isOpen || (XT.TriggerEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen), this.show.Start(), this.isOpen = !0, XT.TriggerEvent(LobbyVars.Evt_Internal_LobbyCategoriesOpen))
}, MultiLobbyCategoriesManager.prototype.OnHideCategories = function () {
    this.isOpen && (this.hide.Start(), this.isOpen = !1, XT.TriggerEvent(LobbyVars.Evt_Internal_LobbyCategoriesClosed))
}, MultiLobbyCategoriesManager.prototype.OnVSGameStateChanged = function () {
    if (this.isInit) {
        var t = VSGameStateManager.GetState();
        t != VSGameState.Spin && t != VSGameState.SpinBonusRounds || this.hide.Start()
    }
}, MultiLobbyCategoriesManager.prototype.SaveScrolls = function () {
    this.gamesIndices[this.categoryIdx] = this.gamesScroll.items[0].valueIdx, this.gamesScrolls[this.categoryIdx] = this.gamesScroll.scrollRemain, this.pagePositions[this.categoryIdx] = this.pageDrag.target.localPosition()
}, MultiLobbyCategoriesManager.prototype.UpdateCategory = function (t, e) {
    (null != t.featured ? this.featured : this.noFeatured).Start(), this.gamesScroll.SetValues(this.GetGames(t), !1), this.gamesScroll.scrollRemain = e ? 0 : this.gamesScrolls[this.categoryIdx], this.gamesScroll.UpdateValuesAndIndex(null, e ? 0 : this.gamesIndices[this.categoryIdx], !0), this.pageDrag.localPositionLimitMin = this.pageScroll.simpleLocalPositionLimitMin = this.GetMinPageScrollLimit(t, e), this.pageDrag.localPositionLimitMax = this.pageScroll.simpleLocalPositionLimitMax = this.GetMaxPageScrollLimit(), this.pageDrag.target.localPosition(e ? this.pageDrag.localPositionLimitMin : this.pagePositions[this.categoryIdx]), this.featuredScroll.useMouseWheel = this.maxPageScrollLimitType != MultiLobbyMaxPageScrollLimitType.Default, XT.TriggerEvent(MultiLobbyVars.Evt_Internal_MultiLobby_CategoryUpdated)
}, MultiLobbyCategoriesManager.prototype.GetGames = function (t) {
    var e = this.GetGamesList(t);
    return null == e ? null : e.slice()
}, MultiLobbyCategoriesManager.prototype.GetGamesList = function (t) {
    return this.gameListType == MultiLobbyGamesListType.Portrait ? t.listPortrait : t.listLandscape
}, MultiLobbyCategoriesManager.prototype.GetMinPageScrollLimitType = function (t) {
    return t.hasGames ? null != t.featured ? MultiLobbyMinPageScrollLimitType.Featured : t.isSubcategory ? MultiLobbyMinPageScrollLimitType.CategoryAndGames : MultiLobbyMinPageScrollLimitType.Games : MultiLobbyMinPageScrollLimitType.Default
}, MultiLobbyCategoriesManager.prototype.GetMaxPageScrollLimitType = function (t) {
    return t != MultiLobbyMinPageScrollLimitType.Featured || null != this.gamesScroll.itemValues && 0 != this.gamesScroll.itemValues.length ? t != MultiLobbyMinPageScrollLimitType.CategoryAndGames || this.gamesScroll.isEnabled ? t != MultiLobbyMinPageScrollLimitType.Search || this.gamesScroll.isEnabled ? MultiLobbyMaxPageScrollLimitType.Default : MultiLobbyMaxPageScrollLimitType.SearchNoScroll : MultiLobbyMaxPageScrollLimitType.CategoryAndGamesNoScroll : MultiLobbyMaxPageScrollLimitType.FeaturedNoGames
}, MultiLobbyCategoriesManager.prototype.GetMinPageScrollLimit = function (t, e) {
    this.minPageScrollLimitType = e ? this.searchMinPageScrollLimitType : this.GetMinPageScrollLimitType(t);
    var i = this.minPageScrollLimitTypes.indexOf(this.minPageScrollLimitType);
    return i > -1 ? this.minPageScrollLimits[i] : this.defaultMinPageScrollLimit
}, MultiLobbyCategoriesManager.prototype.GetMaxPageScrollLimit = function () {
    this.maxPageScrollLimitType = this.GetMaxPageScrollLimitType(this.minPageScrollLimitType);
    var t = this.maxPageScrollLimitTypes.indexOf(this.maxPageScrollLimitType);
    return t > -1 ? this.maxPageScrollLimits[t] : this.defaultMaxPageScrollLimit
}, goog.require("UHT.LobbyConnection"), LobbyVendor.Config = function () {
    this.gameLaunchURL = "", this.gameIconsURL = "", this.dgaWS = "", this.casinoId = ""
}, DgaTable.TableLimits = function () {
    this.ranges = null, this.minBet = 0, this.maxBet = 0, this.maxPlayers = 0
}, DgaTable.Dealer = function () {
    this.name = ""
};
var MultiLobbyCategorySymbol = {
        LastPlayed: "lastPlayed",
        LandingPage: "landingPage",
        Promo: "promo"
    },
    MultiLobbyVars = {
        MultiLobby_LiveCasinoGames: "MultiLobby_LiveCasinoGames",
        Evt_Internal_MultiLobby_CategoryUpdated: "Evt_Internal_MultiLobby_CategoryUpdated",
        MultiLobby_Search: "MultiLobby_Search",
        MultiLobby_SearchCategory: "MultiLobby_SearchCategory",
        Evt_Internal_MultiLobby_SearchUpdated: "Evt_Internal_MultiLobby_SearchUpdated",
        Evt_Internal_MultiLobby_SearchClosed: "Evt_Internal_MultiLobby_SearchClosed"
    };

function MultiLobbyConnection() {
    LobbyConnection.call(this), this.multiCategoriesOrder = [MultiLobbyCategorySymbol.LandingPage, LobbyVendors.Slots, LobbyVendors.LiveCasino, MultiLobbyCategorySymbol.Promo], this.vendors = null, this.games = null, this.vendor = null, this.response = null, this.lobbyIsOpen = !1, this.searchIsOpen = !1, this.categoriesChanged = !1, this.allSlotsUpdated = !1, this.dgaWSUrl = "", this.useDgaWS = !1, this.dgaIds = null, this.dgaTables = null, this.availableDgaTableIds = null, this.availableDgaTablesCount = -1, this.updatedDgaTableImgIds = null, this.isInitingDga = !1, this.isDgaConnected = !1, this.dgaTablesUpdated = !1, this.dgaUpdateCategories = !1, this.omitDgaVendorIfNotConnectedTime = 50, this.dgaVendor = null, this.searchCategory = null
}

function MultiLobbyScrollbar() {
    XTLink.call(this), this.scrollbars = null, this.scrollbar = null, this.scrollbarThumb = null, this.minThumbHeightIsWidthX = 0, this.defaultHeight = 0, this.gamesScrollFollowers = null, this.isInit = !1, this.isEnabled = !1, this.categoryUpdated = !1, this.pageScroll = null, this.pageDrag = null, this.pageShare = 0, this.gamesScroll = null, this.gamesScrollItemHeight = 0, this.gamesExtraHeight = 0, this.gamesShare = 0, this.thumbYMax = 0, this.numberError = .001, this.prevScroll = -1, this.prevGamesScroll = -1
}

function MultiLobbySearch() {
    XTLink.call(this), this.input = null, this.categories = null, this.localizedSymbols = null, this.show = null, this.hide = null, this.gamesFound = null, this.gamesNotFound = null, this.categoryChanged = null, this.isVisible = !1, this.resetFrame = 0
}

function MultiLobbySubcategories() {
    XTLink.call(this), this.subcategoriesPooler = null, this.subcategoryPoolID = 0, this.labelsAnchor = null, this.localizedLabels = null, this.maxSubcategoriesWidth = 0, this.subcategoriesScroll = null, this.searchOpen = null, this.searchClosed = null, this.enableScroll = null, this.disableScroll = null, this.bounds = null, this.scrollSampler = null, this.scrollSampledCategory = null, this.scrollSampledSubcategory = null, this.updateOnEnable = !1, this.subcategoriesDrag = null, this.defaultMinScrollLimit = null, this.defaultMaxScrollLimit = null, this.isInit = !1, this.isSearchOpen = !1, this.categoryIdx = 0, this.categoryChangedFrame = 0, this.categories = null, this.subcategories = null, this.subcategoryPositions = null, this.subcategoriesUpdated = null
}

function GenericPoolObject() {
    XTLink.call(this), this.Id = 0
}

function LobbyCategoryDisplayer() {
    GenericPoolObject.call(this), this.MLAnchors = null, this.applyLabelActive = !1, this.MLASprites = []
}

function LobbyCategoryButton() {
    LobbyCategoryDisplayer.call(this), this.selected = null, this.unselected = null, this.disabled = null, this.enable = null, this.sprites = null, this.colliders = null, this.lastContents = null, this.notLastContents = null, this.useSpriteScale = !1, this.spriteScale = null
}

function MultiLobbySubcategory() {
    LobbyCategoryButton.call(this), this.label = null, this.clickPlayer = null, this.clickThreshold = 0, this.index = 0, this.pressPos = null, this.cachedCamera = null
}

function GenericObjectPooler() {
    XTLink.call(this), this.pool = null, this.poolObjects = [], this.objectIdToIndexMap = null, this.pooledObjects = null, this.disablePoolNextFrame = !1, this.defaultBufferAmount = 10, this.initializing = !1, this.currentInitObject = -1
}

function OfflineServer() {
    Component.call(this), this.configFile = null, this.responseLog = null, this.responseString = "", this.index = 0, this.slotHeight = 0, this.numberOfReels = 0, this.stopOffset = 1, this.coinValue = .01, this.lines = 0, this.balance = 1e5, this.reelSymbols = null, this.screenSymbols = null, this.payoutData = null, this.stopPositions = null, this.linesDef = null, this.totalWin = 0, this.isFreeSpins = !1, this.currentFreeSpin = 0, this.maxFreeSpins = 0, this.totalFreeSpins = 0, this.freeSpinsCurrentMultiplier = 0, this.freeSpinsTotalMultiplier = 0, this.freeSpinCurrentWin = 0, this.freeSpinTotalWin = 0, this.freeSpinCurrentWinMultiplied = 0, this.freeSpinTotalWinMultiplied = 0, this.scatterFSAwards = null, this.scatterFSMultipliers = null, this.scatterFSAdditional = null, this.linesDefString = "5,6,7,8,9~0,1,2,3,4~10,11,12,13,14~0,6,12,8,4~10,6,2,8,14~5,1,2,3,9~5,11,12,13,9~0,1,7,13,14~10,11,7,3,4~5,11,7,3,9~5,1,7,13,9~0,6,7,8,4~10,6,7,8,14~0,6,2,8,4~10,6,12,8,14~5,6,2,8,9~5,6,12,8,9~0,1,12,3,4~10,11,2,13,14~0,11,12,13,4~10,1,2,3,14~5,11,2,13,9~5,1,12,3,9~0,11,2,13,4~10,1,12,3,14", this.ID_DELIMITER = "::"
}
MultiLobbyConnection.prototype = Object.create(LobbyConnection.prototype), MultiLobbyConnection.prototype.constructor = MultiLobbyConnection, MultiLobbyConnection.newSlotUids = null, MultiLobbyConnection.hotSlotUids = null, MultiLobbyConnection.MultiKeys = {
    data: "data",
    vendorConfig: "vendorConfig",
    activePromo: "activePromo",
    lastPlayed: "lastPlayed",
    landingPage: "landingPage",
    promo: "promo",
    vendorLobby: "vendorLobby",
    vendor: "vendor",
    dgaWS: "dgaWS",
    games: "games",
    id: "id",
    casinoId: "casinoId"
}, MultiLobbyConnection.DgaKeys = {
    error: "error",
    tableId: "tableId",
    tableKey: "tableKey",
    tableName: "tableName",
    tableType: "tableType",
    tableSubtype: "tableSubtype",
    tableImage: "tableImage",
    tableOpen: "tableOpen",
    newTable: "newTable",
    tableLimits: "tableLimits",
    ranges: "ranges",
    minBet: "minBet",
    maxBet: "maxBet",
    maxPlayers: "maxPlayers",
    dealer: "dealer",
    name: "name",
    currency: "currency",
    totalSeatedPlayers: "totalSeatedPlayers",
    languageSpecificTableInfo: "languageSpecificTableInfo",
    seat: "seat",
    availableSeats: "availableSeats"
}, MultiLobbyConnection.prototype.XTRegisterCallbacks = function () {
    LobbyConnection.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(LobbyVars.Evt_Internal_LobbyCategoriesOpen, this.OnLobbyCategoriesOpen, this), XT.RegisterCallbackEvent(LobbyVars.Evt_Internal_LobbyCategoriesClosed, this.OnLobbyCategoriesClosed, this), XT.RegisterCallbackString(MultiLobbyVars.MultiLobby_Search, this.OnSearch, this), XT.RegisterCallbackEvent(MultiLobbyVars.Evt_Internal_MultiLobby_SearchClosed, this.OnSearchClosed, this)
}, MultiLobbyConnection.prototype.XTInitVariablesAndEvents = function () {}, MultiLobbyConnection.prototype.OnLobbyCategoriesOpen = function () {
    this.ConnectDga(), this.lobbyIsOpen = !0
}, MultiLobbyConnection.prototype.OnLobbyCategoriesClosed = function () {
    this.DisconnectDga(), this.lobbyIsOpen = !1
}, MultiLobbyConnection.prototype.ConnectDga = function () {
    this.useDgaWS && (XT.RegisterCallbackEvent(DgaVars.Evt_Internal_DgaConnected, this.OnDgaConnected, this), XT.RegisterCallbackEvent(DgaVars.Evt_Internal_DgaMessage, this.OnDgaMessage, this), dga.connect(this.dgaWSUrl, null, null))
}, MultiLobbyConnection.prototype.DisconnectDga = function () {
    this.useDgaWS && (this.isDgaConnected = !1, XT.UnregisterCallbackEvent(this.OnDgaConnected, this, DgaVars.Evt_Internal_DgaConnected), XT.UnregisterCallbackEvent(this.OnDgaMessage, this, DgaVars.Evt_Internal_DgaMessage), dga.disconnect())
}, MultiLobbyConnection.prototype.OnDgaConnected = function () {
    for (var t in this.isDgaConnected = !0, this.dgaTablesUpdated = !1, this.updatedDgaTableImgIds.splice(0), this.availableDgaTableIds.splice(0), this.availableDgaTablesCount = -1, this.dgaIds) dga.available(t)
}, MultiLobbyConnection.prototype.OnDgaMessage = function () {
    var t = XT.GetObject(DgaVars.DgaMessage);
    if (null != t) {
        var e = MultiLobbyConnection.DgaKeys;
        if (null == t[e.error])
            if (null == t[e.tableKey]) this.UpdateDgaTable(t);
            else {
                var i = t[e.tableKey],
                    n = ServerOptions.realCurrency;
                for (var o in this.dgaIds)
                    for (var s = o, a = this.dgaIds[o], r = 0; r < a.length; ++r) {
                        var l = a[r];
                        i.indexOf(l) < 0 || (this.availableDgaTableIds.push(l), dga.subscribe(s, l, n))
                    }
                this.availableDgaTablesCount = this.availableDgaTableIds.length
            }
    }
}, MultiLobbyConnection.prototype.FindDgaTable = function (t) {
    if (null != this.dgaTables)
        for (var e = 0; e < this.dgaTables.length; ++e)
            if (this.dgaTables[e].tableId == t) return this.dgaTables[e];
    return null
}, MultiLobbyConnection.prototype.UpdateDgaTable = function (t) {
    var e = MultiLobbyConnection.DgaKeys,
        i = "";
    if (null != t[e.tableId] && (i = t[e.tableId]), !_string.IsNullOrEmpty(i)) {
        var n = this.FindDgaTable(i);
        null == n && ((n = new DgaTable).tableId = i, this.dgaTables.push(n)), null != t[e.tableName] && (n.tableName = t[e.tableName]), null != t[e.tableType] && (n.tableType = t[e.tableType]), null != t[e.tableSubtype] && (n.tableSubtype = t[e.tableSubtype]);
        var o = n.tableImage;
        if (null != t[e.tableImage] && (n.tableImage = t[e.tableImage]), o != n.tableImage && (this.AddTexture(this.textureSuffix, i, !0, n.tableImage), this.updatedDgaTableImgIds.push(i)), null != t[e.tableOpen] && (n.tableOpen = t[e.tableOpen]), null != t[e.newTable] && (n.newTable = t[e.newTable]), null != t[e.tableLimits]) {
            var s = n.tableLimits = new DgaTable.TableLimits;
            null != (a = t[e.tableLimits])[e.ranges] && (s.ranges = a[e.ranges]), null != a[e.minBet] && (s.minBet = a[e.minBet]), null != a[e.maxBet] && (s.maxBet = a[e.maxBet]), null != a[e.maxPlayers] && (s.maxPlayers = a[e.maxPlayers])
        }
        if (null != t[e.dealer]) {
            var a, r = n.dealer = new DgaTable.Dealer;
            null != (a = t[e.dealer])[e.name] && (r.name = a[e.name])
        }
        if (null != t[e.currency] && (n.currency = t[e.currency]), null != t[e.totalSeatedPlayers] && (n.totalSeatedPlayers = t[e.totalSeatedPlayers]), null != t[e.languageSpecificTableInfo] && (n.languageSpecificTableInfo = t[e.languageSpecificTableInfo]), null != t[e.availableSeats]) {
            for (var l = 1, u = 0, h = t[e.availableSeats]; null != t[e.seat + l++];) u++;
            n.totalSeats = u, n.totalSeatedPlayers = u - h
        }
        this.dgaTablesUpdated = !0
    }
}, MultiLobbyConnection.prototype.AddDgaTableID = function (t, e) {
    if (!_string.IsNullOrEmpty(t)) {
        null == this.dgaIds[t] && (this.dgaIds[t] = []);
        var i = this.dgaIds[t];
        i.indexOf(e) < 0 && i.push(e)
    }
}, MultiLobbyConnection.prototype.OnInitReceived = function () {
    LobbyConnection.prototype.OnInitReceived.call(this), this.isMultiLobby && (this.errorMessage = "LobbyAPI Parsing Error (minilobby/common/games)", this.LoadCategories())
}, MultiLobbyConnection.prototype.OnCategoriesLoaded = function (t, e) {
    if (200 != e && this.retryCount++ < 5) this.LoadCategories();
    else {
        var i = null;
        try {
            i = JSON.parse(t)
        } catch (t) {
            return
        }
        this.response = TournamentProtocol.TournamentParser.ParseResponse(i), null != this.response && this.response.error == TournamentProtocol.ErrorCode.None && (this.vendors = this.ParseVendors(i), null != this.vendors && (this.useDgaWS ? (this.ConnectDga(), this.isInitingDga = !0, this.omitDgaVendorIfNotConnectedTime += Time.time) : this.SetupCategories(!0)))
    }
}, MultiLobbyConnection.prototype.ParseVendors = function (t) {
    var e = MultiLobbyConnection.MultiKeys;
    if (null == t[e.data]) return null;
    var i = t[e.data];
    if (null == i) return null;
    for (var n = [], o = 0; o < i.length; ++o)
        if (null == i[o].vendorLobby && (i[o].vendorLobby = {}), null != i[o].games && i[o].games.length > 0) {
            var s = this.ParseVendor(i[o]);
            null != s && n.push(s)
        } return n
}, MultiLobbyConnection.prototype.ParseVendor = function (t) {
    if (null == t) return null;
    var e = LobbyConnection.Keys,
        i = MultiLobbyConnection.MultiKeys,
        n = this.vendor = new LobbyVendor;
    if (null != t[i.activePromo] && (this.promoResponse = n.promoResponse = TournamentProtocol.TournamentParser.ParseOnlyTournamentsResponse(this.response, t[i.activePromo])), null != t[i.vendor] && (n.symbol = t[i.vendor], n.type = LobbyVendorTypeConverter.Convert(n.symbol)), null != t[i.vendorConfig]) {
        var o = n.config = new LobbyVendor.Config,
            s = t[i.vendorConfig];
        if (null != s[e.gameLaunchURL]) {
            var a = s[e.gameLaunchURL];
            a += (a.indexOf("?") > -1 ? "&" : "?") + this.urlQuery + "&gameSymbol=", this.gameLaunchURL = o.gameLaunchURL = a
        }
        if (null != s[e.gameIconsURL]) "/" != (a = s[e.gameIconsURL])[a.length - 1] && (a += "/"), this.gameIconsURL = o.gameIconsURL = a;
        null != s[i.dgaWS] && (this.dgaWSUrl = o.dgaWS = s[i.dgaWS], this.useDgaWS = !_string.IsNullOrEmpty(this.dgaWSUrl), this.useDgaWS && (this.dgaVendor = n, this.dgaIds = {}, this.dgaTables = [], this.updatedDgaTableImgIds = [], this.availableDgaTableIds = [], XT.SetObject(MultiLobbyVars.MultiLobby_LiveCasinoGames, this.dgaTables))), null != s[i.casinoId] && (o.casinoId = s[i.casinoId])
    }
    return null == (n.games = this.ParseVendorGames(t)) ? null : (n.lastPlayed = this.ParseCategory(t, i.lastPlayed, MultiLobbyCategorySymbol.LastPlayed), n.landingPage = this.ParseCategory(t, i.landingPage, MultiLobbyCategorySymbol.LandingPage), n.promo = this.ParseCategory(t, i.promo, MultiLobbyCategorySymbol.Promo), n.categories = this.ParseSubcategories(t, i.vendorLobby), n)
}, MultiLobbyConnection.prototype.ParseCategory = function (t, e, i) {
    if (null == t[e]) return null;
    var n = new LobbyCategory;
    return n.symbol = i, n.games = this.ParseCategoryGames(t[e]), n
}, MultiLobbyConnection.prototype.ParseSubcategories = function (t, e) {
    if (null == t[e]) return null;
    var i = t[e];
    if (null == i) return null;
    var n = LobbyConnection.Keys,
        o = MultiLobbyConnection.MultiKeys,
        s = [];
    for (var a in i) {
        var r = i[a];
        if (null != r) {
            var l = new LobbyCategory;
            l.symbol = a, null != r[n.name] && (l.name = r[n.name]), null != r[o.games] && (l.games = this.ParseCategoryGames(r[o.games])), s.push(l)
        }
    }
    return s
}, MultiLobbyConnection.prototype.ParseGames = function (t) {
    if (null == t) return null;
    for (var e = LobbyConnection.Keys, i = MultiLobbyConnection.MultiKeys, n = [], o = 0; o < t.length; ++o) {
        var s = t[o];
        if (null != s) {
            var a = new LobbyGame;
            a.vendorType = this.vendor.type, null != s[e.name] && (a.name = s[e.name]), null != s[e.symbol] && (a.symbol = a.uid = s[e.symbol], a.launchURL = this.gameLaunchURL + a.symbol, this.AddTexture(this.textureSuffix, a.uid)), null != s[i.id] && (a.id = a.uid = s[i.id], a.casinoId = this.vendor.config.casinoId, a.launchURL = this.gameLaunchURL + a.id, this.AddDgaTableID(a.casinoId, a.id)), null != (a.promoKeys = this.GetPromoKeys(a.uid)) && (a.displayStyle = this.GetDisplayStyle(a, !1)), n.push(a)
        }
    }
    return n
}, MultiLobbyConnection.prototype.ParseVendorGames = function (t) {
    var e = MultiLobbyConnection.MultiKeys;
    return null == t[e.games] ? null : this.ParseGames(t[e.games])
}, MultiLobbyConnection.prototype.ParseCategoryGames = function (t) {
    if (null == t) return null;
    for (var e = [], i = 0; i < t.length; ++i) e.push(this.vendor.games[t[i]]);
    return e
}, MultiLobbyConnection.prototype.GetPromoKeys = function (t) {
    var e = this.vendor.promoResponse;
    if (null == e) return null;
    var i = [];
    return this.FindPromoKeys(e.races, i, t), this.FindPromoKeys(e.tournaments, i, t), i.length > 0 ? i : null
}, MultiLobbyConnection.prototype.FindPromoKeys = function (t, e, i) {
    if (null != t)
        for (var n = 0; n < t.length; ++n) {
            var o = t[n];
            if (null != o.games)
                if (!(o.games.indexOf(i) < 0)) {
                    var s = new TournamentProtocol.PromoKey;
                    s.id = o.id, s.type = o.type, e.push(s)
                }
        }
}, MultiLobbyConnection.prototype.ExtractDomain = function (t) {
    return t.indexOf("://") > -1 ? t.split("/")[2] : t.split("/")[0]
}, MultiLobbyConnection.prototype.UpdateCategory = function (t, e) {
    if (null != e) {
        var i = this.FindCategory(t);
        null == i ? this.AddCategory(t, e) : this.UpdateCategoryGames(i, e)
    }
}, MultiLobbyConnection.prototype.UpdateFeaturedCategory = function (t) {
    null != t && (null == this.featuredCategory ? this.featuredCategory = new LobbyCategory(t) : this.UpdateCategoryGames(this.featuredCategory, t))
}, MultiLobbyConnection.prototype.CanUpdateAllSlots = function (t) {
    var e = 0;
    return null != t.lastPlayed && e++, null != t.landingPage && e++, null != t.promo && e++, null != t.categories && (e += t.categories.length), t.type == LobbyVendorType.Slots && e > 1
}, MultiLobbyConnection.prototype.UpdateVendorCategory = function (t) {
    var e = t.categories;
    if (null == e && (e = []), !this.allSlotsUpdated && this.CanUpdateAllSlots(t)) {
        this.allSlotsUpdated = !0;
        var i = [],
            n = [],
            o = this.FindCategory(LobbyCategorySymbol.All, e);
        null != o && (this.FindUniqueGames(o, i, n), e.splice(e.indexOf(o), 1));
        for (var s = 0; s < e.length; ++s) this.FindUniqueGames(e[s], i, n);
        this.FindUniqueGames(t.lastPlayed, i, n), this.FindUniqueGames(t.landingPage, i, n), this.FindUniqueGames(t.promo, i, n), (o = new LobbyCategory).symbol = LobbyCategorySymbol.All, o.games = i, e.push(o), this.AddTextures(this.textureSuffix, o), MultiLobbyConnection.newSlotUids = this.GetGameUids(this.FindCategory(LobbyCategorySymbol.New, e)), MultiLobbyConnection.hotSlotUids = this.GetGameUids(this.FindCategory(LobbyCategorySymbol.Hot, e))
    }
    if (0 != e.length) {
        var a = t.symbol,
            r = new LobbyCategory;
        r.symbol = a, r.categories = e, this.AddCategory(a, r)
    }
}, MultiLobbyConnection.prototype.AddCategory = function (t, e) {
    var i = this.multiCategoriesOrder.indexOf(t);
    i > -1 && (this.categories[i] = new LobbyCategory(e))
}, MultiLobbyConnection.prototype.UpdateCategoryGames = function (t, e) {
    null == t.games && (t.games = [], t.symbol == MultiLobbyCategorySymbol.LandingPage && (t.gamesLand = [], t.gamesPort = [])), this.AddGames(t, e.games)
}, MultiLobbyConnection.prototype.AddGames = function (t, e) {
    if (null != e) {
        null == this.games && (this.games = []), this.games.splice(0);
        for (var i = t.games, n = Math.max(i.length, e.length), o = 0; o < n; ++o) o < i.length && this.games.push(i[o]), o < e.length && this.games.push(e[o]);
        this.AddGamesPerLayout(n, this.gamesPerLineLandscape, i, e, t.gamesLand), this.AddGamesPerLayout(n, this.gamesPerLinePortrait, i, e, t.gamesPort), i.splice(0), _array.AddRange(i, this.games), this.games.splice(0)
    }
}, MultiLobbyConnection.prototype.AddGamesPerLayout = function (t, e, i, n, o) {
    if (null != o) {
        o.splice(0);
        for (var s = 0; s < t; s += e) this.AddGamesPerLine(s, e, i, o), this.AddGamesPerLine(s, e, n, o)
    }
}, MultiLobbyConnection.prototype.AddGamesPerLine = function (t, e, i, n) {
    for (var o = 0; o < e; ++o) {
        var s = t + o;
        s < i.length && n.push(i[s])
    }
}, MultiLobbyConnection.prototype.UpdateCategoryLists = function (t, e) {
    var i = t.games;
    if (null != i) {
        var n = i,
            o = i;
        t.symbol == MultiLobbyCategorySymbol.LandingPage && (n = t.gamesLand, o = t.gamesPort);
        for (var s = t.listLandscape = [], a = t.listPortrait = [], r = null, l = null, u = e ? this.GetTextures(this.textureSuffix) : null, h = 0; h < i.length; ++h) {
            var c = i[h];
            e && this.UpdateTexture(u, c);
            var p = h % this.gamesPerLineLandscape,
                d = h % this.gamesPerLinePortrait;
            0 == p && (null != r && s.push(r), r = []), 0 == d && (null != l && a.push(l), l = []), r.push(n[h]), l.push(o[h])
        }
        null != r && s.push(r), null != l && a.push(l)
    }
}, MultiLobbyConnection.prototype.UpdateCategoriesLists = function (t) {
    if (null != t)
        for (var e = 0; e < t.length; ++e) {
            var i = t[e];
            null != i && (this.UpdateCategoryLists(i, !0), this.UpdateCategoriesLists(i.categories))
        }
}, MultiLobbyConnection.prototype.UpdateDgaVendor = function (t) {
    if (t.type == LobbyVendorType.LiveCasino) {
        this.UpdateDgaCategory(t.lastPlayed), this.UpdateDgaCategory(t.landingPage), this.UpdateDgaCategory(t.promo);
        var e = t.categories;
        if (null != e)
            for (var i = 0; i < e.length; ++i) this.UpdateDgaCategory(e[i])
    }
}, MultiLobbyConnection.prototype.UpdateDgaCategory = function (t) {
    if (null != t) {
        var e = t.games;
        if (null != e) {
            var i = t.receivedGames;
            null == i && (i = t.receivedGames = e.slice()), e.splice(0);
            for (var n = 0; n < i.length; ++n) {
                var o = i[n],
                    s = this.FindDgaTable(o.id);
                null != s && s.tableOpen && (o.name = s.tableName, e.push(o))
            }
        }
    }
}, MultiLobbyConnection.prototype.UpdateVendorPromo = function (t) {
    var e = [],
        i = [],
        n = TournamentProtocol.DisplayStyle.DropsAndWins;
    this.FindUniqueGamesByDisplayStyle(t.lastPlayed, e, i, n), this.FindUniqueGamesByDisplayStyle(t.landingPage, e, i, n), this.FindUniqueGamesByDisplayStyle(t.promo, e, i, n);
    for (var o = t.categories, s = 0; s < o.length; ++s) this.FindUniqueGamesByDisplayStyle(o[s], e, i, n);
    if (0 != e.length) {
        var a = t.promo;
        null == a && ((a = t.promo = new LobbyCategory).symbol = MultiLobbyCategorySymbol.Promo), a.games = e, this.AddTextures(this.textureSuffix, a)
    } else t.promo = null
}, MultiLobbyConnection.prototype.FindUniqueGamesByDisplayStyle = function (t, e, i, n) {
    if (null != t) {
        var o = t.games;
        if (null != o)
            for (var s = 0; s < o.length; ++s) {
                var a = o[s];
                null != a.displayStyles && a.displayStyles.indexOf(n) > -1 && a.displayStyle != n && ((a = new LobbyGame(a)).displayStyle = n), a.displayStyle == n && (i.indexOf(a.uid) > -1 || (e.push(a), i.push(a.uid)))
            }
    }
}, MultiLobbyConnection.prototype.SetupCategories = function (t) {
    this.featuredCategory = null, this.categories = [], this.categoriesChanged = !0;
    for (var e = 0; e < this.multiCategoriesOrder.length; ++e) this.categories.push(new LobbyCategory), this.categories[e].symbol = this.multiCategoriesOrder[e];
    for (e = 0; e < this.vendors.length; ++e) {
        var i = this.vendors[e];
        this.UpdateDgaVendor(i), this.UpdateVendorCategory(i), this.UpdateVendorPromo(i), this.UpdateFeaturedCategory(i.lastPlayed), this.UpdateCategory(MultiLobbyCategorySymbol.LandingPage, i.landingPage), this.UpdateCategory(MultiLobbyCategorySymbol.Promo, i.promo)
    }
    t && (this.AddTextures(this.featuredTextureSuffix, this.featuredCategory), this.LoadTextures())
}, MultiLobbyConnection.prototype.UpdateCategories = function () {
    this.SortCategoryAlphabetically(this.FindCategory(MultiLobbyCategorySymbol.Promo)), this.UpdateCategoriesLists(this.categories);
    for (var t = [], e = this.multiCategoriesOrder.length, i = 0; i < e; ++i) {
        var n = this.categories[i];
        if (null != n) {
            n.categoryIndex = i;
            var o = n.searchGames = [],
                s = n.searchGameSymbols = [];
            this.FindUniqueGames(n, o, s), n.symbol == MultiLobbyCategorySymbol.LandingPage && (n.featured = this.featuredCategory, this.FindUniqueGames(this.featuredCategory, o, s));
            var a = n.categories;
            if (null != a && a.length > 0)
                for (var r = 0, l = 0; l < a.length; ++l) {
                    var u = a[l];
                    this.categoriesChanged && (0 == r && (n.subcategoriesIndex = this.categories.length), this.categories.push(u), u.categoryIndex = i, u.isSubcategory = !0, u.subcategoryIndex = r++), u.hasGames = null != u.games && u.games.length > 0, u.hasGames && this.FindUniqueGames(u, o, s)
                }
            if (n.hasGames = o.length > 0, n.hasGames) {
                t.push(n.symbol);
                for (l = 0; l < o.length; ++l) o[l].nameLower = o[l].name.toLowerCase()
            }
        }
    }
    this.categoriesChanged || (this.categories = this.categories.slice()), this.categoriesChanged = !1, XT.SetObject(LobbyVars.LobbyCategories, this.categories), XT.SetObject(LobbyVars.LobbyCategorySymbols, t)
}, MultiLobbyConnection.prototype.OmitDgaVendor = function () {
    this.DisconnectDga(), this.useDgaWS = !1, this.availableDgaTablesCount = this.dgaTables.length, this.vendors.splice(this.vendors.indexOf(this.dgaVendor), 1)
}, MultiLobbyConnection.prototype.Update = function () {
    if (this.isInitingDga) !this.isDgaConnected && Time.time >= this.omitDgaVendorIfNotConnectedTime && this.OmitDgaVendor(), this.dgaTables.length == this.availableDgaTablesCount && (this.isInitingDga = !1, this.dgaTablesUpdated = !1, this.updatedDgaTableImgIds.splice(0), this.SetupCategories(!0), this.lobbyIsOpen || this.DisconnectDga());
    else if (this.isDgaConnected) {
        if (this.updatedDgaTableImgIds.length > 0) {
            for (var t = 0; t < this.updatedDgaTableImgIds.length; ++t) {
                var e = this.updatedDgaTableImgIds[t];
                this.LoadTexture(e, this.GetTexture(this.GetTextures(this.textureSuffix), e))
            }
            this.updatedDgaTableImgIds.splice(0)
        }
        if (this.dgaTablesUpdated && !this.searchIsOpen) {
            this.dgaTablesUpdated = !1, this.dgaUpdateCategories = !0;
            var i = this.categories;
            this.SetupCategories(!1);
            for (t = 0; t < i.length; ++t) i[t].isSubcategory || (this.categories[t].subcategoryIndex = i[t].subcategoryIndex)
        }
    }
    this.searchIsOpen || !this.texturesLoaded && !this.dgaUpdateCategories || (this.texturesLoaded = this.dgaUpdateCategories = !1, this.UpdateTextures(this.textureSuffix, this.featuredCategory), this.UpdateCategories())
}, MultiLobbyConnection.prototype.OnSearch = function (t) {
    if (!_string.IsNullOrEmpty(t)) {
        var e = XT.GetInt(LobbyVars.LobbyCategoryIndex);
        if (!(null == this.categories || e >= this.categories.length)) {
            var i = this.categories[e];
            if (null != i) {
                null == this.searchCategory && (this.searchCategory = new LobbyCategory, this.searchCategory.games = [], XT.SetObject(MultiLobbyVars.MultiLobby_SearchCategory, this.searchCategory)), this.searchIsOpen = !0;
                var n = t.toLowerCase().split(" ");
                this.searchCategory.symbol = i.symbol, this.searchCategory.games = i.searchGames.filter(function (t) {
                    return this.SmartSearch(t, n)
                }.bind(this)), this.UpdateCategoryLists(this.searchCategory, !1), XT.TriggerEvent(MultiLobbyVars.Evt_Internal_MultiLobby_SearchUpdated)
            }
        }
    }
}, MultiLobbyConnection.prototype.SmartSearch = function (t, e) {
    for (var i = 0; i < e.length; i++)
        if (t.nameLower.indexOf(e[i]) < 0) return !1;
    return !0
}, MultiLobbyConnection.prototype.OnSearchClosed = function () {
    this.searchIsOpen = !1
}, MultiLobbyConnection.prototype.GetGameUids = function (t) {
    if (null == t) return null;
    var e = t.games;
    if (null == e || 0 == e.length) return null;
    for (var i = [], n = 0; n < e.length; ++n) i.push(e[n].uid);
    return i
}, MultiLobbyConnection.IsNewSlot = function (t) {
    var e = MultiLobbyConnection.newSlotUids;
    return null != e && e.indexOf(t) > -1
}, MultiLobbyConnection.IsHotSlot = function (t) {
    var e = MultiLobbyConnection.hotSlotUids;
    return null != e && e.indexOf(t) > -1
}, MultiLobbyConnection.prototype.SortCategoryAlphabetically = function (t) {
    if (null != t) {
        var e = t.games;
        null != e && e.length > 1 && e.sort(MultiLobbyConnection.SortGamesAlphabetically)
    }
}, MultiLobbyConnection.SortGamesAlphabetically = function (t, e) {
    var i = t.name.toLowerCase(),
        n = e.name.toLowerCase();
    return i < n ? -1 : i > n ? 1 : 0
}, goog.require("UHT.XTLink"), MultiLobbyScrollbar.prototype = Object.create(XTLink.prototype), MultiLobbyScrollbar.prototype.constructor = MultiLobbyScrollbar, MultiLobbyScrollbar.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(MultiLobbyVars.Evt_Internal_MultiLobby_CategoryUpdated, this.OnCategoryUpdated, this)
}, MultiLobbyScrollbar.prototype.OnCategoryUpdated = function () {
    this.categoryUpdated = !0
}, MultiLobbyScrollbar.prototype.OnEnable = function () {
    this.isInit || this.OnCategoryUpdated()
}, MultiLobbyScrollbar.prototype.LateUpdate = function () {
    if (!this.isInit) {
        this.isInit = !0, this.pageScroll = this.scrollbars.pageScrollbar, this.pageDrag = this.pageScroll.simpleDragObject, this.gamesScroll = this.scrollbars.gamesScrollbar;
        var t = this.pageScroll.simpleDragObject.target.parent,
            e = this.gamesScroll.items[0].transform.parent;
        this.gamesScrollItemHeight = e._internal_get_scale().y / t._internal_get_scale().y * this.gamesScroll.itemHeight
    }
    if (this.categoryUpdated) {
        this.categoryUpdated = !1;
        var i = this.pageDrag.target.localPosition().y,
            n = this.pageDrag.localPositionLimitMin.y,
            o = this.pageDrag.localPositionLimitMax.y,
            s = UHTMath.inverseLerp(n, o, i);
        i < o && (this.scrollbars.canScrollGamesNext = !1, this.scrollbars.canScrollPagePrevious = !0, this.pageDrag.gameObject.SetActive(!0));
        var a = o - n;
        this.gamesExtraHeight = this.gamesScroll.isEnabled ? (this.gamesScroll.itemValues.length - this.gamesScroll.items.length) * this.gamesScrollItemHeight : 0;
        var r = a + this.gamesExtraHeight;
        if (this.pageShare = a / r, this.gamesShare = this.gamesExtraHeight / r, this.isEnabled = r > this.numberError, this.isEnabled) {
            var l = Math.floor(this.scrollbarThumb.width * this.minThumbHeightIsWidthX),
                u = Math.floor(this.scrollbar.height * this.defaultHeight / (this.defaultHeight + r));
            u = Math.max(u, l), this.scrollbarThumb.height = u, this.thumbYMax = this.scrollbar.height - u
        }
        this.scrollbar.gameObject.SetActive(this.isEnabled), this.scrollbarThumb.gameObject.SetActive(this.isEnabled), this.prevScroll = -1, this.prevGamesScroll = -1, this.pageDrag.wheelDirection = 0, this.pageScroll.SetScroll(s)
    }
    if (this.isEnabled) {
        var h = this.pageScroll.GetScroll() * this.pageShare + this.gamesScroll.scroll * this.gamesShare;
        if (this.prevScroll != h) {
            this.prevScroll = h;
            var c = UHTMath.lerp(0, this.thumbYMax, h);
            this.scrollbarThumb.gameObject.transform.localPosition(new UHTMath.Vector3(0, -c, 0))
        }
    }
    if (this.prevGamesScroll != this.gamesScroll.scroll) {
        this.prevGamesScroll = this.gamesScroll.scroll;
        for (var p = this.gamesScroll.isEnabled ? this.gamesScroll.scroll * this.gamesExtraHeight : 0, d = new UHTMath.Vector3(0, p, 0), m = 0; m < this.gamesScrollFollowers.length; ++m) this.gamesScrollFollowers[m].localPosition(d)
    }
}, goog.require("UHT.XTLink"), MultiLobbySearch.prototype = Object.create(XTLink.prototype), MultiLobbySearch.prototype.constructor = MultiLobbySearch, MultiLobbySearch.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndex, this.OnLobbyCategoryIndex, this)
}, MultiLobbySearch.prototype.OnLobbyCategoryIndex = function (t) {
    this.categoryChanged.Start()
}, MultiLobbySearch.prototype.UpdateSearch = function () {
    var t = this.GetSelectedInput();
    if (null != t && this.resetFrame != Time.frameCount) {
        var e = t.value;
        if (!_string.IsNullOrEmpty(e)) {
            XT.SetString(MultiLobbyVars.MultiLobby_Search, t.value);
            var i = XT.GetObject(MultiLobbyVars.MultiLobby_SearchCategory);
            if (!this.isVisible) {
                for (var n = 0; n < this.categories.length; ++n) this.categories[n].UpdateCategory(this.FindLocalizedSymbol(i.symbol));
                this.show.Start(), this.isVisible = !0
            }
            if (this.isVisible)(0 == (null == i.games ? 0 : i.games.length) ? this.gamesNotFound : this.gamesFound).Start()
        }
    }
}, MultiLobbySearch.prototype.CloseSearch = function () {
    this.isVisible && (this.hide.Start(), this.isVisible = !1, XT.SetString(MultiLobbyVars.MultiLobby_Search, ""), XT.TriggerEvent(MultiLobbyVars.Evt_Internal_MultiLobby_SearchClosed))
}, MultiLobbySearch.prototype.FindLocalizedSymbol = function (t) {
    for (var e = 0; e < this.localizedSymbols.length; ++e)
        if (this.localizedSymbols[e].gameObject.name == t) return this.localizedSymbols[e];
    return null
}, MultiLobbySearch.prototype.GetSelectedInput = function () {
    if (this.input.isSelected) return this.input;
    var t = this.input.linkedUIInput;
    return null != t && t.isSelected ? t : null
}, MultiLobbySearch.prototype.ResetInput = function () {
    this.resetFrame = Time.frameCount, this.input.Reset()
}, goog.require("UHT.XTLink"), MultiLobbySubcategories.prototype = Object.create(XTLink.prototype), MultiLobbySubcategories.prototype.constructor = MultiLobbySubcategories, MultiLobbySubcategories.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(LobbyVars.LobbyCategories, this.OnLobbyCategories, this), XT.RegisterCallbackInt(LobbyVars.LobbyCategoryIndex, this.OnLobbyCategoryIndex, this), XT.RegisterCallbackInt(LobbyVars.LobbySubcategoryIndex, this.OnLobbySubcategoryIndex, this), XT.RegisterCallbackEvent(MultiLobbyVars.Evt_Internal_MultiLobby_SearchUpdated, this.OnSearchUpdated, this), XT.RegisterCallbackEvent(MultiLobbyVars.Evt_Internal_MultiLobby_SearchClosed, this.OnSearchClosed, this)
}, MultiLobbySubcategories.prototype.OnLobbyCategories = function (t) {
    this.categories = t, this.OnLobbyCategoryIndex(XT.GetInt(LobbyVars.LobbyCategoryIndex))
}, MultiLobbySubcategories.prototype.OnLobbyCategoryIndex = function (t) {
    if (null != this.categories && this.gameObject.activeInHierarchy) {
        var e = this.categories[t];
        if (e.hasGames) {
            if (this.isInit) this.subcategoryPositions[this.categoryIdx] = this.subcategoriesDrag.target.localPosition();
            else {
                this.isInit = !0, this.subcategoriesDrag = this.subcategoriesScroll.simpleDragObject, this.defaultMinScrollLimit = this.subcategoriesScroll.simpleLocalPositionLimitMin, this.defaultMaxScrollLimit = this.subcategoriesScroll.simpleLocalPositionLimitMax, this.subcategories = [], this.subcategoryPositions = [], this.subcategoriesUpdated = [];
                for (var i = 0; i < this.categories.length; ++i) this.categories[i].isSubcategory || (this.subcategoriesUpdated.push(!1), this.subcategoryPositions.push(this.defaultMinScrollLimit))
            }
            this.categoryIdx = t, this.categoryChangedFrame = Time.frameCount;
            var n = e.categories,
                o = e.subcategoryIndex,
                s = null == n ? 0 : n.length,
                a = !1;
            for (i = 0; i < s; ++i) i == this.subcategories.length && (a = !0, this.subcategories.push(this.subcategoriesPooler.GetObject(this.subcategoryPoolID, this.labelsAnchor.gameObject)), this.subcategories[i].index = i, this.labelsAnchor.labels.push(this.subcategories[i].label)), this.subcategories[i].UpdateSubcategory(n[i], this.FindLocalizedLabel(n[i].symbol));
            for (i = s; i < this.subcategories.length; ++i) this.subcategories[i].UpdateSubcategory(null, null);
            a && this.labelsAnchor.DiscardCache(), this.labelsAnchor.ForceNextUpdate(), this.labelsAnchor.Update();
            var r = this.defaultMinScrollLimit,
                l = this.defaultMaxScrollLimit,
                u = this.labelsAnchor.width - this.maxSubcategoriesWidth,
                h = u > 0;
            if (h) {
                var c = .5 * u;
                r = UHTMath.Vector3.sub(r, new UHTMath.Vector3(c, 0, 0)), l = UHTMath.Vector3.add(l, new UHTMath.Vector3(c, 0, 0))
            }
            this.subcategoriesUpdated[this.categoryIdx] || (this.subcategoriesUpdated[this.categoryIdx] = !0, this.subcategoryPositions[this.categoryIdx] = l), this.subcategoriesDrag.localPositionLimitMin = this.subcategoriesScroll.simpleLocalPositionLimitMin = this.scrollSampler.manualFrom = r, this.subcategoriesDrag.localPositionLimitMax = this.subcategoriesScroll.simpleLocalPositionLimitMax = this.scrollSampler.manualTo = l, this.subcategoriesDrag.target.localPosition(this.subcategoryPositions[this.categoryIdx]), (h ? this.enableScroll : this.disableScroll).Start(), XT.GetInt(LobbyVars.LobbySubcategoryIndex) == o && this.OnLobbySubcategoryIndex(o), XT.SetInt(LobbyVars.LobbySubcategoryIndex, o)
        }
    }
}, MultiLobbySubcategories.prototype.OnLobbySubcategoryIndex = function (t) {
    if (!(null == this.subcategories || this.subcategories.length <= t)) {
        this.SampleScroll(this.subcategories[t].label);
        for (var e = 0; e < this.subcategories.length; ++e) this.subcategories[e].SetSelected(e == t)
    }
}, MultiLobbySubcategories.prototype.SampleScroll = function (t) {
    var e = this.bounds.inverseTransformPoint(t.transform.position()),
        i = .5 * t.width,
        n = .5 * this.maxSubcategoriesWidth;
    if (!(-n < e.x - i && e.x + i < n)) {
        var o = UHTMath.inverseLerp(this.scrollSampler.manualTo.x, this.scrollSampler.manualFrom.x, t.transform.localPosition().x);
        this.scrollSampler.Sample(o), (this.categoryChangedFrame == Time.frameCount ? this.scrollSampledCategory : this.scrollSampledSubcategory).Start()
    }
}, MultiLobbySubcategories.prototype.OnSearchUpdated = function () {
    this.isSearchOpen || (this.isSearchOpen = !0, this.searchOpen.Start())
}, MultiLobbySubcategories.prototype.OnSearchClosed = function () {
    this.isSearchOpen = !1, this.searchClosed.Start()
}, MultiLobbySubcategories.prototype.FindLocalizedLabel = function (t) {
    for (var e = 0; e < this.localizedLabels.length; ++e)
        if (this.localizedLabels[e].gameObject.name == t) return this.localizedLabels[e];
    return null
}, MultiLobbySubcategories.prototype.OnEnable = function () {
    this.isInit && !this.updateOnEnable || this.OnLobbyCategories(XT.GetObject(LobbyVars.LobbyCategories))
}, goog.provide("UHT.GenericPoolObject"), goog.require("UHT.XTLink"), GenericPoolObject.prototype = Object.create(XTLink.prototype), GenericPoolObject.prototype.constructor = GenericPoolObject, GenericPoolObject.prototype.Reset = function () {}, goog.provide("UHT.LobbyCategoryDisplayer"), goog.require("UHT.GenericPoolObject"), LobbyCategoryDisplayer.prototype = Object.create(GenericPoolObject.prototype), LobbyCategoryDisplayer.prototype.constructor = LobbyCategoryDisplayer, LobbyCategoryDisplayer.prototype.UpdateCategory = function (t) {
    if (null != t)
        for (var e = 0; e < this.MLAnchors.length; ++e) this.UpdateMLAnchor(t, this.MLAnchors[e])
}, LobbyCategoryDisplayer.prototype.UpdateMLAnchor = function (t, e) {
    for (var i = 0; i < t.labels.length; ++i) this.UpdateLabel(t.labels[i], e.labels[i])
}, LobbyCategoryDisplayer.prototype.UpdateLabel = function (t, e) {
    e.text = t.text, e.width = t.width, e.fontName = t.fontName, e.Prepare(), this.applyLabelActive && e.gameObject.SetActive(t.gameObject.activeSelf), this.UpdateSprites(t.GetComponentsInChildren(UISprite, !0), e.GetComponentsInChildren(UISprite, !0))
}, LobbyCategoryDisplayer.prototype.UpdateSprites = function (t, e) {
    this.MLASprites.push(e);
    for (var i = 0; i < t.length; ++i) GUIArranger.I.CopySprite(t[i], e[i]), GUIArranger.I.CopySpriteSize(t[i], e[i])
}, goog.provide("UHT.LobbyCategoryButton"), goog.require("UHT.LobbyCategoryDisplayer"), LobbyCategoryButton.prototype = Object.create(LobbyCategoryDisplayer.prototype), LobbyCategoryButton.prototype.constructor = LobbyCategoryButton, LobbyCategoryButton.prototype.UpdateButton = function (t, e, i, n) {
    if (null != t && 0 != e) {
        this.StartCATLink(this.enable);
        for (var o = t.transform.localPosition(), s = 0; s < this.MLAnchors.length; ++s) {
            this.UpdateMLAnchor(t, this.MLAnchors[s]), this.MLAnchors[s].maxWidth = i;
            var a = new UHTMath.Vector3(o.x, o.y, o.z);
            this.MLAnchors[s].alignment == MultipleLabelAnchor.Alignment.Left && (a.x += .5 * i), this.MLAnchors[s].alignment == MultipleLabelAnchor.Alignment.Right && (a.x -= .5 * i), this.MLAnchors[s].transform.localPosition(a)
        }
        for (s = 0; s < this.sprites.length; ++s) this.sprites[s].width = Math.round(e * (this.useSpriteScale ? this.spriteScale[s] : 1));
        for (s = 0; s < this.colliders.length; ++s) this.UpdateCollider(this.colliders[s], e);
        for (s = 0; s < this.lastContents.length; ++s) this.lastContents[s].SetActive(n);
        for (s = 0; s < this.notLastContents.length; ++s) this.notLastContents[s].SetActive(!n)
    } else this.StartCATLink(this.disabled)
}, LobbyCategoryButton.prototype.UpdateCollider = function (t, e) {
    t.size = new UHTMath.Vector3(e, t.size.y, t.size.z), this.UpdateUIButtons(t.GetComponentsInChildren(UIButton, !0))
}, LobbyCategoryButton.prototype.UpdateUIButtons = function (t) {
    for (var e = 0; e < t.length; ++e) {
        var i = this.FindButtonSprite(t[e]);
        null != i && (t[e].normal = i.spriteName)
    }
}, LobbyCategoryButton.prototype.FindButtonSprite = function (t) {
    var e = t.target;
    if (!(e instanceof UISprite)) return null;
    for (var i = 0; i < this.MLASprites.length; ++i)
        for (var n = 0; n < this.MLASprites[i].length; ++n)
            if (e == this.MLASprites[i][n]) return this.MLASprites[i][n];
    return null
}, LobbyCategoryButton.prototype.SetSelected = function (t) {
    this.StartCATLink(t ? this.selected : this.unselected)
}, LobbyCategoryButton.prototype.SetEnabled = function (t) {
    this.StartCATLink(t ? this.enable : this.disabled)
}, LobbyCategoryButton.prototype.StartCATLink = function (t) {
    null != t && null != t.cat && t.Start()
}, goog.require("UHT.LobbyCategoryButton"), MultiLobbySubcategory.prototype = Object.create(LobbyCategoryButton.prototype), MultiLobbySubcategory.prototype.constructor = MultiLobbySubcategory, MultiLobbySubcategory.prototype.UpdateSubcategory = function (t, e) {
    if (null != t && t.hasGames) {
        this.StartCATLink(this.enable);
        var i = null != e ? e.text : t.name;
        _string.IsNullOrEmpty(i) && (i = t.symbol), this.label.text = i;
        for (var n = this.label.GetWidth(), o = 0; o < this.colliders.length; ++o) this.UpdateCollider(this.colliders[o], n)
    } else this.StartCATLink(this.disabled)
}, MultiLobbySubcategory.prototype.OnPress = function (t) {
    null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
    var e = this.cachedCamera.transform.inverseTransformPoint(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition));
    if (t) this.pressPos = e;
    else if (null != this.pressPos) {
        var i = UHTMath.Vector3.sub(e, this.pressPos);
        Math.abs(i.x) > this.clickThreshold || Math.abs(i.y) > this.clickThreshold || (this.clickPlayer.PlaySound(), XT.SetInt(LobbyVars.LobbySubcategoryIndex, this.index))
    }
}, goog.provide("UHT.GenericObjectPooler"), goog.require("UHT.GenericPoolObject"), GenericObjectPooler.prototype = Object.create(XTLink.prototype), GenericObjectPooler.prototype.constructor = GenericObjectPooler, GenericObjectPooler.prototype.Init = function () {
    this.initializing = !0, this.PerformSanityCheck(), this.BuildObjectIdToIndexMap(), this.pooledObjects = [], this.pool.SetActive(!0)
}, GenericObjectPooler.prototype.Update = function () {
    if (this.initializing)
        if (this.currentInitObject < this.poolObjects.length) {
            if (this.currentInitObject >= 0) {
                var t = this.poolObjects[this.currentInitObject].Id;
                this.pooledObjects[t] = [];
                for (var e = 0; e < this.defaultBufferAmount; e++) {
                    var i = instantiate(this.poolObjects[this.currentInitObject].gameObject);
                    i.SetActive(!0), this.PoolObject(t, i.GetComponent(GenericPoolObject))
                }
            }
            this.currentInitObject++
        } else this.disablePoolNextFrame = !1, this.initializing = !1
}, GenericObjectPooler.prototype.PerformSanityCheck = function () {
    for (var t = [], e = 0; e < this.poolObjects.length; ++e) {
        var i = this.poolObjects[e];
        t.indexOf(i.Id), t.push(i.Id)
    }
}, GenericObjectPooler.prototype.BuildObjectIdToIndexMap = function () {
    this.objectIdToIndexMap = [];
    for (var t = 0; t < this.poolObjects.length; t++) this.objectIdToIndexMap[this.poolObjects[t].Id] = t
}, GenericObjectPooler.prototype.GetFromPool = function (t, e) {
    0 == this.pooledObjects[t].length && (this.pooledObjects[t].push(instantiate(this.poolObjects[this.objectIdToIndexMap[t]].gameObject).GetComponent(GenericPoolObject)), this.pooledObjects[t][this.pooledObjects[t].length - 1].gameObject.SetActive(!0));
    var i = this.pooledObjects[t][0];
    return this.pooledObjects[t].splice(0, 1), i.gameObject.transform.SetParent(e.transform, !1), i.gameObject.transform.localPosition(UHTMath.Vector3.zero), i.gameObject.transform.localRotation(UHTMath.Quaternion.euler(UHTMath.Vector3.zero)), i.gameObject.transform.localScale(UHTMath.Vector3.one), i
}, GenericObjectPooler.prototype.PoolObject = function (t, e) {
    e.Reset(), e.gameObject.transform.SetParent(this.pool.transform, !1), this.pooledObjects[t].push(e)
}, GenericObjectPooler.prototype.GetObject = function (t, e) {
    return this.GetFromPool(t, e)
}, GenericObjectPooler.prototype.RecycleObject = function (t) {
    this.PoolObject(t.Id, t)
}, GenericObjectPooler.prototype.LateUpdate = function () {
    if (this.pool.activeSelf && !this.initializing) {
        if (!this.disablePoolNextFrame) return void(this.disablePoolNextFrame = !0);
        this.pool.SetActive(!1)
    }
}, goog.provide("UHT.OfflineServer"), goog.require("UHT.Engine"), OfflineServer.prototype = Object.create(Component.prototype), OfflineServer.prototype.constructor = OfflineServer, OfflineServer.prototype.Start = function () {
    RequestProvider.Instance.ParseOfflineResponse(this.responseLog.text, !0), this.ProcessLinesDefinitions()
}, OfflineServer.prototype.ParseConfig = function () {
    var t = "",
        e = (new DOMParser).parseFromString(this.configFile.text, "text/xml"),
        i = e.getElementsByTagName("slot")[0];
    this.lines = _number.otoi(i.getAttribute("lines")), this.AddParameterToResonse(GameProtocolDictionary.line + "=" + this.lines, !1);
    var n = e.getElementsByTagName("screen");
    this.AddParameterToResonse(GameProtocolDictionary.winSymbols + "=" + n[0].getAttribute("array"), !1);
    var o = e.getElementsByTagName("reel");
    this.stopPositions = new Array, this.numberOfReels = o.length;
    var s = "";
    this.reelSymbols = new Array;
    for (var a = 0; a < o.length; a++) {
        t = "", t += GameProtocolDictionary.reel(a) + "=" + o[a].getAttribute("symbols"), this.AddParameterToResonse(t, !1), this.stopPositions.push(0), s += this.stopPositions[a] + (a < o.length - 1 ? "," : "");
        for (var r = new Array, l = o[a].getAttribute("symbols").split(","), u = 0; u < l.length; u++) r.push(_number.otoi(l[u]));
        this.reelSymbols.push(r)
    }
    this.AddParameterToResonse(GameProtocolDictionary.reelsPosition + "=" + s, !1), this.AddParameterToResonse(GameProtocolDictionary.slotHeight + "=" + n[0].getAttribute("array").split(",").length / this.numberOfReels, !1), this.slotHeight = n[0].getAttribute("array").split(",").length / this.numberOfReels, this.screenSymbols = new Array;
    for (var h = 0; h < this.numberOfReels; h++) {
        this.screenSymbols.push(new Array);
        for (var c = 0; c < this.slotHeight; c++) this.screenSymbols[h].push(0)
    }
    var p = e.getElementsByTagName("symbol");
    t = "", t += GameProtocolDictionary.paytable + "=", this.payoutData = new Array;
    for (u = 0; u < p.length; u++) {
        var d = new Array;
        for (l = p[u].getAttribute("payout").split(","), h = 0; h < l.length / 2; h++) t += l[2 * h], d.push(_number.otoi(l[2 * h])), h < l.length / 2 - 1 && (t += ",");
        u < p.length - 1 && (t += ";"), d.reverse(), this.payoutData.push(d)
    }
    this.AddParameterToResonse(t, !1);
    var m = new Array;
    this.scatterFSAwards = JSON.parse("[" + e.getElementsByTagName("spin")[0].getAttribute("array") + "]"), m.push(e.getElementsByTagName("spin")[0]), this.scatterFSAwards.reverse(), this.scatterFSMultipliers = JSON.parse("[" + e.getElementsByTagName("spin_mul")[0].getAttribute("array") + "]"), m.push(e.getElementsByTagName("spin_mul")[0]), this.scatterFSMultipliers.reverse(), this.scatterFSAdditional = JSON.parse("[" + e.getElementsByTagName("more_spins")[0].getAttribute("array") + "]"), m.push(e.getElementsByTagName("more_spins")[0]), this.scatterFSAdditional.reverse(), t = "", t += GameProtocolDictionary.scatters + "=";
    var S = 1;
    for (u = 0; u < p.length; u++) "scatter" == p[u].getAttribute.name.toLowerCase() && (S = _number.otoi(p[u].getAttribute.i));
    t += S;
    for (var g = 0; g < m.length; g++) g < m.length - 1 && (t += "~" + m[g].getAttribute("array"));
    this.AddParameterToResonse(t, !1)
}, OfflineServer.prototype.AddParameterToResonse = function (t, e) {
    this.responseString += t + (e ? "" : "&")
}, OfflineServer.prototype.HandleRequest = function (t) {
    if (null != t) {
        for (var e = t.split("&"), i = 0; i < e.length; ++i) {
            (n = e[i].split("="))[0] == GameProtocolDictionary.coin && n.length > 1 && (this.coinValue = _number.otod(n[1]))
        }
        for (i = 0; i < e.length; ++i) {
            var n;
            (n = e[i].split("="))[0] == GameProtocolDictionary.Actions.action && n.length > 1 && this.SendResponse(n[1])
        }
    }
}, OfflineServer.prototype.SendResponse = function (t) {
    switch (this.responseString = "", this.index++, t) {
        case GameProtocolDictionary.Actions.doInit:
            this.responseString = this.GenerateInitResponse();
            break;
        case GameProtocolDictionary.Actions.doSpin:
            this.responseString = this.GenerateSpinResponse();
            break;
        case GameProtocolDictionary.Actions.doCollect:
            this.responseString = this.GenerateCollectResponse();
            break;
        default:
            break
    }
    RequestProvider.Instance.ParseOfflineResponse(this.responseString, !1)
}, OfflineServer.prototype.GenerateInitResponse = function () {
    return this.AddParameterToResonse(GameProtocolDictionary.Actions.doInit + this.ID_DELIMITER, !0), this.ParseConfig(), this.AddParameterToResonse("bonuses=0&sc=0.01,0.02,0.05,0.10,0.25,0.50,1.00,3.00,5.00&defc=0.01", !1), this.AddParameterToResonse(GameProtocolDictionary.coin + "=" + this.coinValue.toFixed(2), !1), this.AddParameterToResonse(GameProtocolDictionary.balance + "=" + this.balance.toFixed(2), !1), this.AddParameterToResonse(GameProtocolDictionary.index + "=" + this.index, !1), this.AddParameterToResonse(GameProtocolDictionary.counter + "=" + 2 * this.index, !1), this.AddParameterToResonse(GameProtocolDictionary.time + "=" + this.GenerateTimeStamp(), !0), this.responseString
}, OfflineServer.prototype.GenerateSpinResponse = function () {
    this.GenerateTimeStamp(), this.AddParameterToResonse(GameProtocolDictionary.Actions.doSpin + this.ID_DELIMITER, !0), this.isFreeSpins || (this.balance -= this.coinValue * this.lines), this.AddParameterToResonse(GameProtocolDictionary.coin + "=" + this.coinValue.toFixed(2), !1), this.AddParameterToResonse(GameProtocolDictionary.balance + "=" + this.balance.toFixed(2), !1), this.AddParameterToResonse(GameProtocolDictionary.line + "=" + this.lines, !1), this.AddParameterToResonse("sver=5&sh=3&b=0", !1), this.AddParameterToResonse(GameProtocolDictionary.index + "=" + this.index, !1), this.AddParameterToResonse(GameProtocolDictionary.counter + "=" + 2 * this.index, !1);
    for (var t = "", e = 0; e < this.numberOfReels; e++) this.stopPositions[e] = Math.floor(Math.random() * this.reelSymbols[e].length), t += this.stopPositions[e] + (e < this.numberOfReels - 1 ? "," : "");
    this.AddParameterToResonse(GameProtocolDictionary.reelsPosition + "=" + t, !1), this.ComputeScreenSymbols();
    var i = this.ComputeScreenWins();
    this.totalWin = 0;
    for (var n = 0; n < i.length; n++) {
        var o = this.payoutData[i[n].dominatingSymbol][i[n].Positions.length - 1] * this.coinValue;
        this.totalWin += o;
        for (var s = "l" + n + "=" + (i[n].Id - 1) + "~" + o + "~", a = 0; a < i[n].Positions.length; a++) s += i[n].Positions[a] + (a < i[n].Positions.length - 1 ? "~" : "");
        this.AddParameterToResonse(s, !1)
    }
    var r = "",
        l = 0;
    for (e = 0; e < this.slotHeight; e++)
        for (var u = 0; u < this.numberOfReels; u++) r += this.screenSymbols[u][e] + (e == this.slotHeight - 1 && u == this.numberOfReels - 1 ? "" : ","), 1 == this.screenSymbols[u][e] && l++;
    return l > 2 && (this.isFreeSpins || this.InitFreeSpins(l)), this.isFreeSpins && (this.AddParameterToResonse(GameProtocolDictionary.freeSpinCurrentNumber + "=" + this.currentFreeSpin, !1), this.currentFreeSpin++, this.freeSpinTotalWin += this.totalWin, this.freeSpinCurrentWinMultiplied = this.totalWin * this.freeSpinsCurrentMultiplier, this.currentFreeSpin <= this.maxFreeSpins ? (this.AddParameterToResonse(GameProtocolDictionary.freeSpinCurrentMultiplier + "=" + this.freeSpinsCurrentMultiplier, !1), this.AddParameterToResonse(GameProtocolDictionary.freeSpinMaxNumber + "=" + this.maxFreeSpins, !1), this.AddParameterToResonse(GameProtocolDictionary.freeSpinCurrentWin + "=" + this.freeSpinTotalWin.toFixed(2), !1), this.AddParameterToResonse(GameProtocolDictionary.freeSpinCurrentWinMultiplied + "=" + this.freeSpinTotalWin.toFixed(2), !1)) : (this.AddParameterToResonse(GameProtocolDictionary.freeSpinTotalMultipl + "=" + this.freeSpinsCurrentMultiplier, !1), this.AddParameterToResonse(GameProtocolDictionary.freeSpinTotalNumber + "=" + this.maxFreeSpins, !1), this.AddParameterToResonse(GameProtocolDictionary.freeSpinTotalWin + "=" + this.freeSpinTotalWin.toFixed(2), !1), this.AddParameterToResonse(GameProtocolDictionary.freeSpinTotalWinMultiplied + "=" + this.freeSpinTotalWin.toFixed(2), !1))), this.totalWin > 0 ? this.isFreeSpins ? this.currentFreeSpin - 1 == this.maxFreeSpins ? this.AddParameterToResonse(GameProtocolDictionary.NextActions.nextAction + "=" + GameProtocolDictionary.NextActions.Collect, !1) : this.AddParameterToResonse(GameProtocolDictionary.NextActions.nextAction + "=" + GameProtocolDictionary.NextActions.Spin, !1) : this.AddParameterToResonse(GameProtocolDictionary.NextActions.nextAction + "=" + GameProtocolDictionary.NextActions.Collect, !1) : this.AddParameterToResonse(GameProtocolDictionary.NextActions.nextAction + "=" + GameProtocolDictionary.NextActions.Spin, !1), this.AddParameterToResonse(GameProtocolDictionary.winAmountShort + "=" + this.totalWin.toFixed(2), !1), this.AddParameterToResonse(GameProtocolDictionary.spinCycleWin + "=" + (this.isFreeSpins ? this.freeSpinTotalWin.toFixed(2) : this.totalWin.toFixed(2)), !1), this.AddParameterToResonse(GameProtocolDictionary.winSymbols + "=" + r, !1), this.AddParameterToResonse(GameProtocolDictionary.time + "=" + this.GenerateTimeStamp(), !0), this.currentFreeSpin - 1 == this.maxFreeSpins && this.ResetFreeSpins(), this.responseString
}, OfflineServer.prototype.GenerateCollectResponse = function () {
    return this.AddParameterToResonse(GameProtocolDictionary.Actions.doCollect + this.ID_DELIMITER, !0), this.balance += this.totalWin, this.AddParameterToResonse(GameProtocolDictionary.balance + "=" + this.balance.toFixed(2), !1), this.AddParameterToResonse("a=0&gs=0&sver=5&sh=3", !1), this.AddParameterToResonse(GameProtocolDictionary.index + "=" + this.index, !1), this.AddParameterToResonse(GameProtocolDictionary.counter + "=" + 2 * this.index, !1), this.AddParameterToResonse(GameProtocolDictionary.NextActions.nextAction + "=" + GameProtocolDictionary.NextActions.Spin, !1), this.AddParameterToResonse(GameProtocolDictionary.winAmountShort + "=" + this.totalWin.toFixed(2), !1), this.AddParameterToResonse(GameProtocolDictionary.time + "=" + this.GenerateTimeStamp(), !0), this.responseString
}, OfflineServer.prototype.GenerateTimeStamp = function () {
    return Math.round((new Date).getTime() / 1e3)
}, OfflineServer.prototype.ProcessLinesDefinitions = function () {
    var t = this.linesDefString.split("~");
    this.linesDef = new Array;
    for (var e = 0; e < t.length; e++) {
        for (var i = new Array, n = 0; n < t[e].split(",").length; n++) i.push(_number.otoi(t[e].split(",")[n]));
        this.linesDef.push(i)
    }
}, OfflineServer.prototype.ComputeScreenSymbols = function () {
    for (var t = 0; t < this.screenSymbols.length; t++)
        for (var e = 0; e < this.screenSymbols[t].length; e++) {
            var i = (this.stopPositions[t] - this.stopOffset + e + (this.reelSymbols[t].length - 1)) % (this.reelSymbols[t].length - 1);
            this.screenSymbols[t][e] = this.reelSymbols[t][i]
        }
}, OfflineServer.prototype.GetSymbolFromReel = function (t, e) {
    return this.screenSymbols[e][t]
}, OfflineServer.prototype.SymbolIsWild = function (t) {
    return 2 == t
}, OfflineServer.prototype.InitFreeSpins = function (t) {
    this.isFreeSpins = !0, this.currentFreeSpin = 1, this.maxFreeSpins = this.scatterFSAwards[t - 1], this.totalFreeSpins = this.scatterFSAwards[t - 1], this.freeSpinsCurrentMultiplier = this.scatterFSMultipliers[t - 1], this.freeSpinsTotalMultiplier = this.scatterFSMultipliers[t - 1], this.freeSpinCurrentWin = 0, this.freeSpinTotalWin = 0, this.freeSpinCurrentWinMultiplied = 0, this.freeSpinTotalWinMultiplied = 0
}, OfflineServer.prototype.ResetFreeSpins = function () {
    this.isFreeSpins = !1, this.currentFreeSpin = 0, this.maxFreeSpins = 0, this.totalFreeSpins = 0, this.freeSpinsCurrentMultiplier = 0, this.freeSpinsTotalMultiplier = 0, this.freeSpinCurrentWin = 0, this.freeSpinTotalWin = 0, this.freeSpinCurrentWinMultiplied = 0, this.freeSpinTotalWinMultiplied = 0
}, OfflineServer.prototype.ComputeScreenWins = function () {
    for (var t = new Array, e = 0; e < this.lines; e++) {
        t[e] = new WinLineInfo, t[e].Id = e + 1, t[e].Positions = new Array, t[e].containsWild = !1;
        for (var i = 0; i < this.numberOfReels; i++) t[e].Positions.push(this.linesDef[e][i])
    }
    for (var n = 0; n < t.length; n++) {
        var o = 2,
            s = -1,
            a = 0;
        for (e = 0; e < t[n].Positions.length; e++) {
            var r = t[n].Positions[e],
                l = r % this.numberOfReels,
                u = Math.floor(r / this.numberOfReels),
                h = this.GetSymbolFromReel(u, l);
            if (-1 == s && (s = h), this.SymbolIsWild(h)) a == e && a++;
            else if (h != o && !this.SymbolIsWild(o) || h < 2) {
                var c = e;
                a > 0 && this.payoutData[2][a - 1] > this.payoutData[o][c - 1] && (c = a, o = 2);
                var p = new Array;
                for (i = 0; i < c; i++) p[i] = t[n].Positions[i];
                t[n].Positions = p
            } else o = h, s = h;
            t[n].containsWild || (t[n].containsWild = this.SymbolIsWild(h))
        }
        t[n].dominatingSymbol = o
    }
    var d = new Array;
    for (n = 0; n < t.length; n++) t[n].Positions.length >= 3 && d.push(t[n]);
    return d
}, goog.require("UHT.Component"), goog.require("UHT.XTLink"), ReplayAction.prototype = Object.create(XTLink.prototype), ReplayAction.prototype.constructor = ReplayAction;
var ReplayActionType = {
    NONE: 0,
    ANTE_BET_ON: 1,
    ANTE_BET_OFF: 2,
    SPIN_START: 3,
    FS_START_CONFIRM: 4,
    FS_OPTION_PICK: 5,
    FS_END_CONFIRM: 6,
    BG_ITEM_PICK: 7,
    GAMBLE_COLLECT: 8,
    GAMBLE_TYPE: 9,
    GAMBLE_PICK: 10
};

function OptionList() {
    this.colliders = [], this.setInt, this.triggerEvent
}

function ReplayAction() {
    XTLink.call(this), this.delay = 0, this.type = ReplayActionType.NONE, this.options = [], this.bgMultiplePicks = [], this.checkOnUpdate = !1, this.cachedIndex = -1, this.cachedCollider = null
}
ReplayAction.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(ReplaySessionVars.PrepareAction, this.OnPrepare, this)
}, ReplayAction.prototype.OnPrepare = function () {
    var t = XT.GetInt(ReplaySessionVars.PrepareActionType);
    if (this.type == t) {
        var e = XT.GetObject(ReplaySessionVars.ReplayDirector_Queue);
        switch (this.cachedIndex = XT.GetInt(ReplaySessionVars.PrepareActionIndex), this.type) {
            case ReplayActionType.BG_ITEM_PICK:
                XT.RegisterCallbackEvent("Replay_CheckBonusPickItem", this.CheckBonusPickItem, this), e.AddRoutineQueueItem(new RQIWaitForXTEventWithCallback("Replay_BonusPickItemReady", "Replay_CheckBonusPickItem")), this.delay > 0 && e.AddRoutineQueueItem(new RQIWaitForSeconds(this.delay)), e.AddRoutineQueueItem(new RQITriggerCallback(this.Execute, null, this));
                break;
            default:
                this.delay > 0 && e.AddRoutineQueueItem(new RQIWaitForSeconds(this.delay)), e.AddRoutineQueueItem(new RQITriggerCallback(this.Execute, null, this));
                break
        }
    }
}, ReplayAction.prototype.Execute = function (t) {
    var e = this.cachedIndex;
    switch (this.type) {
        case ReplayActionType.ANTE_BET_ON:
            this.AnteBetToggle(e);
            break;
        case ReplayActionType.ANTE_BET_OFF:
            this.AnteBetToggle(e);
            break;
        case ReplayActionType.SPIN_START:
            break;
        case ReplayActionType.FS_START_CONFIRM:
            break;
        case ReplayActionType.FS_OPTION_PICK:
            for (var i = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.FSOptions, !0)[0].pickableOptions[this.cachedIndex].GetComponentsInChildren(Collider, !0), n = 0; n < i.length; n++) i[n].enabled && i[n].gameObject.activeInHierarchy && (i[n].gameObject.SendMessage("OnHover"), i[n].gameObject.SendMessage("OnClick"));
            break;
        case ReplayActionType.FS_END_CONFIRM:
            break;
        case ReplayActionType.BG_ITEM_PICK:
            null != this.cachedCollider && (this.cachedCollider.gameObject.SendMessage("OnHover"), this.cachedCollider.gameObject.SendMessage("OnClick"));
            break;
        case ReplayActionType.GAMBLE_COLLECT:
            break;
        case ReplayActionType.GAMBLE_TYPE:
            break;
        case ReplayActionType.GAMBLE_PICK:
            break
    }
    if (e < this.options.length) {
        for (var o = 0; o < this.options[e].colliders.length; o++) {
            this.options[e].colliders[o].GetComponent(Collider).SendMessage("OnClick")
        }
        XT.SetInt(this.options[e].setInt.name, e), XT.TriggerEvent(this.options[e].triggerEvent.name)
    }
}, ReplayAction.prototype.AnteBetToggle = function (t) {
    if (null != window.BetLevelDisplayer) {
        var e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.BetLevelDisplayer, !0)[0];
        if (e.showBetScale[1 - t].cat.transform.children.length > 0) {
            var i = e.showBetScale[1 - t].cat.transform.children[0];
            if (i.GetComponentsInChildren(CAT_Container, !0).length > 0)
                for (var n = i.GetComponentsInChildren(CAT_Container, !0)[0].events, o = 0; o < n.length; o++)
                    if ("Click" == n[o].userFriendlyName) {
                        n[o].Start();
                        break
                    }
        }
    }
    if (null != window.BetLevelV2) {
        var s = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.BetLevelV2, !0)[0];
        s.betLevelOptions.length > 0 && s.betLevelSettings.betLevelIndex != t && s.betLevelOptions[t].enable.Start()
    }
}, ReplayAction.prototype.BonusPickItemCanBeClicked = function () {
    for (var t = 0; t < this.bgMultiplePicks.length; t++)
        if (this.bgMultiplePicks[t].xtEnabled && this.bgMultiplePicks[t].pickItems[this.cachedIndex].gameObject.activeInHierarchy)
            for (var e = this.bgMultiplePicks[t].pickItems[this.cachedIndex].GetComponentsInChildren(Collider, !0), i = 0; i < e.length; i++)
                if (e[i].enabled) return this.cachedCollider = e[i], !0;
    return !1
}, ReplayAction.prototype.CheckBonusPickItem = function () {
    this.bgMultiplePicks = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.BonusGameMultiplePicks, !0), this.checkOnUpdate = !0
}, ReplayAction.prototype.Update = function () {
    this.checkOnUpdate && this.type == ReplayActionType.BG_ITEM_PICK && this.BonusPickItemCanBeClicked() && (this.checkOnUpdate = !1, XT.TriggerEvent("Replay_BonusPickItemReady"), XT.UnregisterCallbackEvent(this.CheckBonusPickItem, this))
}, goog.require("UHT.XTLink");
var ReplayAPI = {
    Keys: {
        replaySystemUrl: "replaySystemUrl",
        replaySystemContextPath: "replaySystemContextPath",
        environmentId: "environmentId",
        envID: "envID",
        error: "error",
        description: "description",
        topList: "topList",
        roundID: "roundID",
        playedDate: "playedDate",
        bet: "bet",
        base_bet: "base_bet",
        win: "win",
        rtp: "rtp",
        sharedLink: "sharedLink",
        token: "token"
    },
    ErrorCode: {
        Undefined: -1,
        None: 0,
        NotAuthorized: 10,
        ServerError: 100
    },
    WinningRound: function () {
        this.roundID = 0, this.playedDate = 0, this.bet = 0, this.base_bet = 0, this.win = 0, this.rtp = 0, this.sharedLink = ""
    }
};
ReplayAPI.WinningRound.CompareByPlayedDate = function (t, e) {
    var i = e.playedDate - t.playedDate;
    return 0 == i ? 0 : i > 0 ? 1 : -1
}, ReplayAPI.WinningRound.CompareByRTP = function (t, e) {
    var i = Math.floor(e.rtp) - Math.floor(t.rtp);
    return 0 == i ? ReplayAPI.WinningRound.CompareByPlayedDate(t, e) : i
}, ReplayAPI.GameHistoryAction = function () {
    this.index = 0, this.request = "", this.response = ""
}, ReplayAPI.Response = function (t) {
    this.error = ReplayAPI.ErrorCode.Undefined, this.description = "", this.dictionary = null, null != t && (this.error = t.error, this.description = t.description)
}, ReplayAPI.WinningsResponse = function (t) {
    ReplayAPI.Response.call(this, t), this.winnings = null
}, ReplayAPI.WinningsResponse.prototype = Object.create(ReplayAPI.Response.prototype), ReplayAPI.WinningsResponse.prototype.constructor = ReplayAPI.WinningsResponse, ReplayAPI.ShareLinkResponse = function (t) {
    ReplayAPI.Response.call(this, t), this.sharedLink = ""
}, ReplayAPI.ShareLinkResponse.prototype = Object.create(ReplayAPI.Response.prototype), ReplayAPI.ShareLinkResponse.prototype.constructor = ReplayAPI.ShareLinkResponse, ReplayAPI.Parser = {}, ReplayAPI.Parser.ParseResponse = function (t) {
    var e = ReplayAPI.Keys,
        i = ReplayAPI.ErrorCode,
        n = ReplayAPI.Response;
    if (_string.IsNullOrEmpty(t)) return null;
    var o = _JSON.TryParse(t);
    if (null == o || null == o[e.error] || null == o[e.description]) return null;
    var s = new n;
    s.dictionary = o, s.description = String(o[e.description]);
    var a = Number(o[e.error]);
    for (var r in XT.SetInt(ReplayVars.Replay_LastResponseErrorCode, a), i)
        if (i.hasOwnProperty(r) && i[r] == a) {
            s.error = i[r];
            break
        } return s.error != i.None ? null : s
}, ReplayAPI.Parser.ParseWinningsResponse = function (t) {
    var e = ReplayAPI.Parser,
        i = ReplayAPI.Keys,
        n = ReplayAPI.WinningsResponse,
        o = e.ParseResponse(t);
    if (10 == XT.GetInt(ReplayVars.Replay_LastResponseErrorCode)) return (s = new n(new ReplayAPI.Response)).winnings = [], s;
    if (null == o) return null;
    var s, a = o.dictionary;
    return null == a[i.topList] ? null : ((s = new n(o)).winnings = e.ParseWinnings(a[i.topList]), s)
}, ReplayAPI.Parser.ParseWinnings = function (t) {
    var e = ReplayAPI.Keys,
        i = ReplayAPI.WinningRound;
    if (null == t) return null;
    for (var n = [], o = 0; o < t.length; ++o) {
        var s = t[o];
        if (null != s && null != s[e.roundID] && null != s[e.playedDate] && null != s[e.bet] && null != s[e.win] && null != s[e.rtp]) {
            var a = new i;
            a.roundID = Number(s[e.roundID]), a.playedDate = Number(s[e.playedDate]), null != s[e.base_bet] ? (a.base_bet = Number(s[e.bet]), a.bet = Number(s[e.base_bet])) : a.bet = Number(s[e.bet]), a.win = Number(s[e.win]), a.rtp = Number(s[e.rtp]), null != s[e.sharedLink] && (a.sharedLink = String(s[e.sharedLink])), n.push(a)
        }
    }
    return n
}, ReplayAPI.Parser.ParseSharedLinkResponse = function (t) {
    var e = ReplayAPI.Parser,
        i = ReplayAPI.Keys,
        n = ReplayAPI.ShareLinkResponse,
        o = e.ParseResponse(t);
    if (null == o) return null;
    var s = o.dictionary;
    if (null == s[i.sharedLink]) return null;
    var a = new n(o);
    return a.sharedLink = String(s[i.sharedLink]), a
};
var ReplayVars = {
    Replay_Winnings: "Replay_Winnings",
    Replay_WinningsEnabled: "Replay_WinningsEnabled",
    Evt_Internal_Replay_RequestWinnings: "Evt_Internal_Replay_RequestWinnings",
    Evt_Internal_Replay_RequestSharedLink: "Evt_Internal_Replay_RequestSharedLink",
    Replay_SharedLinkRound: "Replay_SharedLinkRound",
    Evt_Internal_Replay_RoundSharedLinkUpdated: "Evt_Internal_Replay_RoundSharedLinkUpdated",
    Evt_Internal_Replay_RoundSharedLinkCopied: "Evt_Internal_Replay_RoundSharedLinkCopied",
    Evt_DataToCode_Replay_OpenWinnings: "Evt_DataToCode_Replay_OpenWinnings",
    Evt_CodeToData_Replay_OpenSelectedRound: "Evt_CodeToData_Replay_OpenSelectedRound",
    Replay_SelectedRound: "Replay_SelectedRound",
    Replay_CategoryIndex: "Replay_CategoryIndex",
    Evt_DataToCode_Replay_CategoryIndexUpdated: "Evt_DataToCode_Replay_CategoryIndexUpdated",
    Evt_Internal_Replay_WatchSelectedRound: "Evt_Internal_Replay_WatchSelectedRound",
    Replay_LastResponseErrorCode: "Replay_LastResponseErrorCode"
};

function ReplayConnection() {
    XTLink.call(this), this.winningsURL = "", this.sharedLinkURL = "", this.sharedLinkRequests = [], this.sharedLinkRounds = [], this.winningsResponseHandler = new EventHandler(this, this.OnWinningsResponse), this.sharedLinkResponseHandler = new EventHandler(this, this.OnSharedLinkResponse)
}
ReplayConnection.prototype = Object.create(XTLink.prototype), ReplayConnection.prototype.constructor = ReplayConnection, ReplayConnection.watchURL = "", ReplayConnection.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_RequestWinnings, this.RequestWinnings, this), XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_RequestSharedLink, this.RequestSharedLink, this)
}, ReplayConnection.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(ReplayVars.Replay_Winnings, null), XT.SetBool(ReplayVars.Replay_WinningsEnabled, !1), XT.SetObject(ReplayVars.Replay_SelectedRound, null), XT.SetInt(ReplayVars.Replay_LastResponseErrorCode, 0)
}, ReplayConnection.prototype.OnGameInit = function () {
    if (!window.UHT_REPLAY_DISABLED) {
        var t = UHT_GAME_CONFIG_SRC;
        if (null != t && null != t[ReplayAPI.Keys.environmentId] && null != t[ReplayAPI.Keys.replaySystemUrl])
            if (1 != t.replayMode) {
                globalTracking.SendEvent("uht_behaviour_replay", "Ingame_replay_available", 1, "BehaviourTracker");
                var e = t[ReplayAPI.Keys.replaySystemUrl],
                    i = "/ReplayService";
                null != t[ReplayAPI.Keys.replaySystemContextPath] && (i = t[ReplayAPI.Keys.replaySystemContextPath]);
                var n = "?" + [GameProtocolDictionary.mgckey + "=" + ServerOptions.mgckey, ReplayAPI.Keys.envID + "=" + t[ReplayAPI.Keys.environmentId]].join("&"),
                    o = "?" + [ReplayAPI.Keys.token + "=" + ServerOptions.mgckey, ReplayAPI.Keys.envID + "=" + t[ReplayAPI.Keys.environmentId]].join("&");
                ReplayConnection.watchURL = e + i + "/replayGame.do" + o, this.winningsURL = e + i + "/api/top/winnings/list" + n, this.sharedLinkURL = e + i + "/api/top/share/link" + n, XT.SetBool(ReplayVars.Replay_WinningsEnabled, !0)
            } else globalTracking.SendEvent("uht_behaviour_replay", "Shared_replay_started_watching", 1, "BehaviourTracker")
    }
};
var GA_SENT_REPLAY_OPENED = !1;

function ReplayDirector() {
    XTLink.call(this), this.rq, this.RDLDhandled = !1, this.currentStage = UHTStageName.No_Stage
}

function ReplayLineByLineSkipper() {
    XTLink.call(this), this.handledCurrentResult = !1
}

function ReplayLocationAwareButtonController() {
    XTLink.call(this), this.createLinkButtons = null, this.copyLinkButtons = null, this.sharedLink = "", this.sharedLinkReceived = !1
}
ReplayConnection.prototype.RequestWinnings = function () {
    GA_SENT_REPLAY_OPENED || (globalTracking.SendEvent("uht_behaviour_replay", "Ingame_replay_opened_window", 1, "BehaviourTracker"), GA_SENT_REPLAY_OPENED = !0);
    var t = new ServerRequest;
    t.Url = this.winningsURL, t.Handler = this.winningsResponseHandler, t.Method = "GET", RequestManager.AddRequest(t)
}, ReplayConnection.prototype.OnWinningsResponse = function (t, e) {
    var i = ReplayAPI.Parser.ParseWinningsResponse(t);
    null != i && XT.SetObject(ReplayVars.Replay_Winnings, i.winnings)
}, ReplayConnection.prototype.RequestSharedLink = function () {
    var t = XT.GetObject(ReplayVars.Replay_SharedLinkRound);
    if (null != t) {
        for (var e = 0; e < this.sharedLinkRounds.length; ++e)
            if (this.sharedLinkRounds[e].roundID == t.roundID) return;
        var i = new ServerRequest;
        i.Url = this.sharedLinkURL + "&" + ReplayAPI.Keys.roundID + "=" + t.roundID, i.Handler = this.sharedLinkResponseHandler, 0 == this.sharedLinkRequests.length && RequestManager.AddRequest(i), this.sharedLinkRequests.push(i), this.sharedLinkRounds.push(t)
    }
}, ReplayConnection.prototype.OnSharedLinkResponse = function (t, e) {
    var i = ReplayAPI.Parser.ParseSharedLinkResponse(t);
    if (null != i) {
        var n = this.sharedLinkRounds[0];
        n.sharedLink = i.sharedLink, XT.SetObject(ReplayVars.Replay_SharedLinkRound, n), XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RoundSharedLinkUpdated)
    }
    this.sharedLinkRequests.splice(0, 1), this.sharedLinkRounds.splice(0, 1), this.sharedLinkRequests.length > 0 && RequestManager.AddRequest(this.sharedLinkRequests[0])
}, goog.require("UHT.XTLink"), ReplayDirector.prototype = Object.create(XTLink.prototype), ReplayDirector.prototype.constructor = ReplayDirector, ReplayDirector.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(ReplaySessionVars.ReplayDirector_Start, this.OnReplayDirectorStart, this)
}, ReplayDirector.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(ReplaySessionVars.Replay_Paused, !1)
}, ReplayDirector.prototype.OnReplayDirectorStart = function () {
    this.rq = this.gameObject.GetComponent(RoutineQueue), XT.SetObject(ReplaySessionVars.ReplayDirector_Queue, this.rq), XT.RegisterCallbackBool(ReplaySessionVars.Replay_Paused, this.OnReplayPauseChanged, this), XT.RegisterCallbackObject(Vars.ToStageName, this.OnStageChange, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone, this.OnResultDisplayerLoopDone, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowFSBGPick, this.OnShowFSBGPick, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_FreeSpinsShowWindowWin, this.OnFreeSpinsShowWindowWin, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusInitDone, this.OnBonusInitDone, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived, this.OnSpinStarted, this), XT.RegisterCallbackEvent(BGVars.Evt_Internal_ShowLevel, this.OnShowBonusGame, this), XT.RegisterCallbackEvent(ReplaySessionVars.Replay_BonusShown, this.OnBonusShown, this), this.PatchButtonAutoClickers(1)
}, ReplayDirector.prototype.OnReplayPauseChanged = function (t) {
    Globals.InputBlocked = !t, t || this.OnResultDisplayerLoopDone()
}, ReplayDirector.prototype.OnStageChange = function (t) {
    this.currentStage = t
}, ReplayDirector.prototype.OnShowFSBGPick = function () {
    this.Check(ReplayScenarioTriggerType.SHOW_FSBG_PICK)
}, ReplayDirector.prototype.OnShowBonusGame = function () {
    window.BonusGameMultiplePicks && 0 != globalRuntime.sceneRoots[1].GetComponentsInChildren(BonusGameMultiplePicks, !0).length && (this.Check(ReplayScenarioTriggerType.SHOW_BG_MULTIPLE_ITEM_PICK), XT.UnregisterCallbackEvent(this.OnBonusPickItem, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived, this.OnBonusPickItem, this))
}, ReplayDirector.prototype.OnBonusShown = function () {
    this.Check(ReplayScenarioTriggerType.SHOW_BG_MULTIPLE_ITEM_PICK), XT.UnregisterCallbackEvent(this.OnBonusPickItem, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived, this.OnBonusPickItem, this)
}, ReplayDirector.prototype.OnBonusPickItem = function () {
    this.Check(ReplayScenarioTriggerType.SHOW_BG_MULTIPLE_ITEM_PICK)
}, ReplayDirector.prototype.OnFreeSpinsShowWindowWin = function () {
    this.Check(ReplayScenarioTriggerType.FS_SHOW_WINDOW_WIN), this.PatchButtonAutoClickers(2)
}, ReplayDirector.prototype.OnResultDisplayerLoopDone = function () {
    this.RDLDhandled || XT.GetBool(Vars.WaitInResultForBigWin) || XT.GetBool(Vars.LastWinIsCounting) || this.currentStage != UHTStageName.Result || XT.GetBool(Vars.SpinBlockingFeatureIsRunning) || XT.GetBool(Vars.MustOpenBonus) && !XT.GetBool(Vars.InstantlyCollectBonus) || (RequestProvider.Instance.ReplayEnded() && XT.SetBool(ReplaySessionVars.Replay_Paused, !0), XT.GetBool(ReplaySessionVars.Replay_Paused) || (this.RDLDhandled = !0, this.Check(ReplayScenarioTriggerType.IDLE_RESULT), this.PatchButtonAutoClickers(1)))
}, ReplayDirector.prototype.OnSpinStarted = function () {
    this.RDLDhandled = !1
}, ReplayDirector.prototype.OnBonusInitDone = function () {
    this.PatchRespinButtons(1)
}, ReplayDirector.prototype.Check = function (t) {
    XT.GetBool(ReplaySessionVars.Replay_Paused) || (XT.SetInt(ReplaySessionVars.PrepareScenarioType, t), XT.TriggerEvent(ReplaySessionVars.PrepareScenario), this.rq.rqiList.length > 0 && this.rq.StartRoutines())
}, ReplayDirector.prototype.PatchButtonAutoClickers = function (t) {
    for (var e = globalRuntime.sceneRoots[1].GetComponentsInChildren(HotKeyClicker, !0), i = 0; i < e.length; i++)
        if ("ReplayLBLSkipper" != e[i].transform.parent.gameObject.name) {
            0 == e[i].transform.GetComponentsInChildren(ButtonAutoClicker, !0).length && e[i].gameObject.AddComponent("ButtonAutoClicker");
            for (var n = e[i].transform.GetComponentsInChildren(ButtonAutoClicker, !0), o = 0; o < n.length; o++) n[o].transform.GetComponentsInChildren(ButtonAutoClicker, !0)[0].delay = 3, n[o].transform.GetComponentsInChildren(ButtonAutoClicker, !0)[0].delayInAutoplay = 3
        } var s = globalRuntime.sceneRoots[1].GetComponentsInChildren(ButtonAutoClicker, !0);
    for (i = 0; i < s.length; i++) s[i].delay = s[i].delayInAutoplay * t
}, ReplayDirector.prototype.PatchRespinButtons = function (t) {
    if (window.BonusRespinLink_base)
        for (var e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.BonusRespinLink_base, !0), i = 0; i < e.length; i++)
            for (var n = e[i].transform.GetComponentsInChildren(CATButton, !0), o = 0; o < n.length; o++) 0 == n[o].transform.GetComponentsInChildren(ButtonAutoClicker, !0).length && n[o].gameObject.AddComponent("ButtonAutoClicker"), n[o].transform.GetComponentsInChildren(ButtonAutoClicker, !0)[0].delay = t, n[o].transform.GetComponentsInChildren(ButtonAutoClicker, !0)[0].delayInAutoplay = t
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink"), ReplayLineByLineSkipper.prototype = Object.create(XTLink.prototype), ReplayLineByLineSkipper.prototype.constructor = ReplayLineByLineSkipper, ReplayLineByLineSkipper.prototype.XTRegisterCallbacks = function () {
    ServerOptions.isReplay && (XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop, this.OnDoLoop, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone, this.OnLoopDone, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIBeforeEndOfDisplayLoop, this.OnBeforeEndOfDisplayLoop, this))
}, ReplayLineByLineSkipper.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnSpinStarted, this), XT.UnregisterCallbackEvent(this.OnDoLoop, this), XT.UnregisterCallbackEvent(this.OnLoopDone, this), XT.UnregisterCallbackEvent(this.OnBeforeEndOfDisplayLoop, this)
}, ReplayLineByLineSkipper.prototype.ClickedLineByLineSkipperCollider = function () {
    for (var t = XT.GetObject(Vars.RQManagerObject), e = [], i = 0; i < t.rqiList.length; i++) "RQIMarker" == t.rqiList[i].constructor.name && e.push(i);
    for (; e.length > 0;) {
        t.rqiList[e[0]].type == RQIMarker.MarkerType.StartLineByLine ? (t.rqiList.splice(e[0], e[1] - e[0] + 1), e.splice(0, 2)) : (t.rqiList.splice(0, e[0]), e.splice(0, 1))
    }
    XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), this.handledCurrentResult = !0
}, ReplayLineByLineSkipper.prototype.OnSpinStarted = function () {
    this.gameObject.SetActive(!1), this.handledCurrentResult = !1
}, ReplayLineByLineSkipper.prototype.OnDoLoop = function () {
    this.gameObject.SetActive(!0)
}, ReplayLineByLineSkipper.prototype.OnLoopDone = function () {
    this.gameObject.SetActive(!1)
}, ReplayLineByLineSkipper.prototype.OnBeforeEndOfDisplayLoop = function () {
    this.handledCurrentResult && this.ClickedLineByLineSkipperCollider()
}, goog.require("UHT.XTLink"), ReplayLocationAwareButtonController.prototype = Object.create(XTLink.prototype), ReplayLocationAwareButtonController.prototype.constructor = ReplayLocationAwareButtonController, ReplayLocationAwareButtonController.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(ReplaySessionVars.Replay_Paused, this.OnReplayPauseChanged, this)
}, ReplayLocationAwareButtonController.prototype.OnReplayPauseChanged = function (t) {
    if (0 != t)
        if (-1 != location.href.indexOf("envID") || -1 != location.href.indexOf("roundID")) {
            this.sharedLink = "";
            for (var e = 0; e < this.createLinkButtons.length; e++) this.createLinkButtons[e].SetActive(!0);
            for (e = 0; e < this.copyLinkButtons.length; e++) this.copyLinkButtons[e].SetActive(!1)
        } else {
            this.sharedLink = location.href;
            for (e = 0; e < this.createLinkButtons.length; e++) this.createLinkButtons[e].SetActive(!1);
            for (e = 0; e < this.copyLinkButtons.length; e++) this.copyLinkButtons[e].SetActive(!0)
        }
};
var GA_SENT_REPLAYED_CREATED = !1;
ReplayLocationAwareButtonController.prototype.CreateLink = function () {
    globalTracking.SendEvent("uht_behaviour_replay", "Shared_replay_created_link", GA_SENT_REPLAYED_CREATED ? 0 : 1, "BehaviourTracker"), GA_SENT_REPLAYED_CREATED = !0;
    var t = UHT_GAME_CONFIG_SRC.replaySystemUrl + "/ReplayService/api/top/share/link?mgckey=" + UHT_GAME_CONFIG_SRC.mgckey + "&roundID=" + UHT_GAME_CONFIG_SRC.replayRoundId + "&envID=" + UHT_GAME_CONFIG_SRC.environmentId,
        e = this,
        i = new XMLHttpRequest;
    i.onreadystatechange = function (t) {
        var i = t.target;
        if (4 == i.readyState && 200 == i.status) try {
            var n = JSON.parse(i.responseText);
            null != n && (e.sharedLink = n.sharedLink, e.sharedLinkReceived = !0)
        } catch (t) {}
    }, i.open("GET", t, !0), i.send(null)
};
var GA_SENT_REPLAYED_COPIED = !1;
ReplayLocationAwareButtonController.prototype.CopyLink = function () {
    globalTracking.SendEvent("uht_behaviour_replay", "Shared_replay_copied_link", GA_SENT_REPLAYED_COPIED ? 0 : 1, "BehaviourTracker"), GA_SENT_REPLAYED_COPIED = !0, _Clipboard.CopyText(this.sharedLink) || prompt("", this.sharedLink)
}, ReplayLocationAwareButtonController.prototype.Update = function () {
    if (this.sharedLinkReceived) {
        for (var t = 0; t < this.createLinkButtons.length; t++) this.createLinkButtons[t].SetActive(!1);
        for (t = 0; t < this.copyLinkButtons.length; t++) this.copyLinkButtons[t].SetActive(!0);
        this.sharedLinkReceived = !1
    }
}, goog.require("UHT.XTLink");
var ReplaySessionVars = {
    ReplayDirector_Start: "ReplayDirector_Start",
    ReplayDirector_Queue: "ReplayDirector_Queue",
    PrepareScenario: "PrepareScenario",
    PrepareScenarioType: "PrepareScenarioType",
    PrepareAction: "PrepareAction",
    PrepareActionType: "PrepareActionType",
    PrepareActionIndex: "PrepareActionIndex",
    ShowReplayTitle: "ShowReplayTitle",
    Replay_Paused: "Replay_Paused",
    Replay_UserClicked: "Replay_UserClicked",
    Replay_BonusShown: "Replay_BonusShown"
};

function ReplayManager() {
    XTLink.call(this)
}
ReplayManager.prototype = Object.create(XTLink.prototype), ReplayManager.prototype.constructor = ReplayManager, ReplayManager.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(ReplaySessionVars.ShowReplayTitle, !1)
}, ReplayManager.prototype.XTRegisterCallbacks = function () {
    ServerOptions.isReplay && (XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SymbolManager, this.OnInitSymbolManager, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ShowBigWin, this.OnShowBigWin, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BigWinHasFinished, this.OnBigWinHasFinished, this))
}, ReplayManager.prototype.OnInitSymbolManager = function () {
    XT.SetBool(Vars.DisableIntroScreen, !0), XT.SetFloat(Vars.SoundVolume, .5), createjs.Sound.setVolume(.5)
}, ReplayManager.prototype.OnGameInit = function () {
    XT.TriggerEvent(ReplaySessionVars.ReplayDirector_Start), Globals.InputBlocked = !0, XT.SetBool(Vars.Jurisdiction_GameTitle, !1), this.HideClocks(), this.HidePragmaticPlayLabels(), this.HideBalance(), this.HideMenuItems(), this.MarkSoundButtonColliders(), this.MarkLineByLineSkipperColliders(), XT.SetBool(ReplaySessionVars.ShowReplayTitle, !0)
}, ReplayManager.prototype.OnShowBigWin = function () {
    Globals.InputBlocked = !1
}, ReplayManager.prototype.OnBigWinHasFinished = function () {
    Globals.InputBlocked = !0
}, ReplayManager.prototype.HideClocks = function () {
    for (var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(ClockDisplayer, !0), e = 0; e < t.length; e++) t[e].gameObject.SetActive(!1)
}, ReplayManager.prototype.HidePragmaticPlayLabels = function () {
    for (var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(UILabel, !0), e = 0; e < t.length; e++) "PRAGMATIC PLAY" == t[e].text && (t[e].text = "")
}, ReplayManager.prototype.HideBalance = function () {
    var t;
    if (Globals.isMobile) {
        var e = globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceControllerMobile_1, !0),
            i = globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceControllerMobile_2, !0);
        t = [e.balanceParent, e.bonusBalanceParent, i.balanceParent, i.bonusBalanceParent];
        for (o = 0; o < e.toggledInBonusGame.active.length; o++) - 1 != e.toggledInBonusGame.active[o].name.indexOf("Balance") && t.push(e.toggledInBonusGame.active[o])
    } else {
        var n = globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceController, !0);
        t = [n.balanceParent, n.bonusBalanceParent];
        for (var o = 0; o < n.visibleInSpecialFeatures.length; o++)
            for (var s = 0; s < n.visibleInSpecialFeatures[o].transform.children.length; s++) {
                "Information" == (a = n.visibleInSpecialFeatures[o].transform.children[s]).gameObject.name && t.push(a.gameObject)
            }
    }
    for (o = 0; o < t.length; o++)
        for (s = 0; s < t[o].transform.children.length; s++) {
            var a; - 1 != (a = t[o].transform.children[s]).gameObject.name.indexOf("Balance") && a.gameObject.SetActive(!1)
        }
}, ReplayManager.prototype.HideMenuItems = function () {
    var t;
    if (Globals.isMobile) {
        var e = globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceControllerMobile_1, !0),
            i = globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceControllerMobile_2, !0);
        t = [e.menuButtonsParent, i.menuButtonsParent];
        var n = [globalRuntime.sceneRoots[1].GetComponentInChildren(GUIArranger, !0).landscapeObjects.BottomBar];
        for (r = 0; r < i.contentInterface.transform.children.length; r++) {
            if ("BottomBar" == (h = i.contentInterface.transform.children[r]).gameObject.name) {
                n.push(h.gameObject);
                break
            }
        }
        for (r = 0; r < n.length; r++)
            for (u = 0; u < n[r].transform.children.length; u++) {
                "AnchoredRight" == (h = n[r].transform.children[u]).gameObject.name && t.push(h.gameObject)
            }
    } else {
        var o = globalRuntime.sceneRoots[1].GetComponentInChildren(window.InterfaceController, !0);
        t = [o.payTableBtn.closed.transform.parent.gameObject, o.settingsBtns[0].closed.transform.parent.gameObject, o.settingsBtns[1].closed.transform.parent.gameObject];
        for (var s = new Array(o.toggledInHiddenMode.length - 1), a = 0, r = 0; r < o.toggledInHiddenMode.length; r++) "Paytable" != o.toggledInHiddenMode[r].name && (s[a] = o.toggledInHiddenMode[r], a++);
        o.toggledInHiddenMode = s;
        for (var l = o.GetComponentsInChildren(SoundButtonControllerMobile, !0), r = 0; r < l.length; r++) l[r].gameObject.SetActive(!1);
        for (var r = 0; r < o.visibleInSpecialFeatures.length; r++)
            for (var u = 0; u < o.visibleInSpecialFeatures[r].transform.children.length; u++) {
                var h;
                "Paytable" == (h = o.visibleInSpecialFeatures[r].transform.children[u]).gameObject.name && t.push(h.gameObject)
            }
    }
    for (r = 0; r < t.length; r++) t[r].SetActive(!1)
}, ReplayManager.prototype.MarkSoundButtonColliders = function () {
    for (var t = this.transform.GetComponentsInChildren(SoundButtonControllerMobile, !0), e = 0; e < t.length; e++)
        for (var i = t[e].transform.GetComponentsInChildren(Collider, !0), n = 0; n < i.length; n++) i[n].usedForReplay = !0
}, ReplayManager.prototype.MarkLineByLineSkipperColliders = function () {
    for (var t = this.transform.GetComponentsInChildren(ReplayLineByLineSkipper, !0), e = 0; e < t.length; e++)
        for (var i = t[e].transform.GetComponentsInChildren(Collider, !0), n = 0; n < i.length; n++) i[n].usedForReplay = !0
}, goog.require("UHT.Component"), goog.require("UHT.XTLink"), ReplayScenario.prototype = Object.create(XTLink.prototype), ReplayScenario.prototype.constructor = ReplayScenario;
var ReplayScenarioTriggerType = {
    NONE: 0,
    IDLE_RESULT: 1,
    SHOW_FSBG_PICK: 2,
    FS_SHOW_WINDOW_WIN: 3,
    SHOW_BG_MULTIPLE_ITEM_PICK: 4,
    REPLAY_SCENARIO_TYPES_COUNT: 5
};

function ReplayScenarioCondition() {
    this.whenIsPresent = "", this.hasValue = "", this.usingParamIndex = ""
}

function ReplayScenario() {
    XTLink.call(this), this.type = ReplayActionType.NONE, this.options = [], this.checkOn = ReplayScenarioTriggerType.IDLE_RESULT, this.serverParams = [], this.actions = []
}

function ReplaySelectedWinningButton() {
    XTLink.call(this), this.winning = null, this.round = null
}

function ReplaySelectedWinningButtonLink() {
    ReplaySelectedWinningButton.call(this), this.sharedLinkContent = null, this.noSharedLinkContent = null, this.showLinkCopied = null, this.hideLinkCopied = null, this.linkCopied = !1, this.winningPos = null
}
ReplayScenario.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(ReplaySessionVars.PrepareScenario, this.OnPrepare, this)
}, ReplayScenario.prototype.OnPrepare = function () {
    var t = XT.GetInt(ReplaySessionVars.PrepareScenarioType);
    if (this.checkOn == t) {
        for (var e = RequestProvider.Instance.GetNextReplayRequestParams(), i = !1, n = 0, o = 0; o < this.serverParams.length; o++) {
            var s = this.serverParams[o];
            null != e[s.whenIsPresent] && ("" != s.hasValue && s.hasValue != e[s.whenIsPresent] || ("" != s.usingParamIndex && null != e[s.usingParamIndex] && (n = _number.otoi(e[s.usingParamIndex])), i = !0))
        }
        if (i)
            for (var a = 0; a < this.actions.length; a++) XT.SetInt(ReplaySessionVars.PrepareActionType, this.actions[a]), XT.SetInt(ReplaySessionVars.PrepareActionIndex, n), XT.TriggerEvent(ReplaySessionVars.PrepareAction)
    }
}, goog.provide("UHT.ReplaySelectedWinningButton"), goog.require("UHT.XTLink"), ReplaySelectedWinningButton.prototype = Object.create(XTLink.prototype), ReplaySelectedWinningButton.prototype.constructor = ReplaySelectedWinningButton, ReplaySelectedWinningButton.prototype.Awake = function () {
    globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp, new EventHandler(this, this.OnButtonUp))
}, ReplaySelectedWinningButton.prototype.OnButtonUp = function () {
    if (this.gameObject.activeInHierarchy) {
        null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
        var t = new LayerMask;
        t.mask = 1 << this.gameObject.layer, this.gameObject.collider == globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition), t) && this.OnRelease()
    }
}, ReplaySelectedWinningButton.prototype.UpdateValue = function (t) {
    this.round = t
}, ReplaySelectedWinningButton.prototype.OnRelease = function () {}, goog.require("UHT.ReplaySelectedWinningButton"), ReplaySelectedWinningButtonLink.prototype = Object.create(ReplaySelectedWinningButton.prototype), ReplaySelectedWinningButtonLink.prototype.constructor = ReplaySelectedWinningButtonLink, ReplaySelectedWinningButtonLink.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_RoundSharedLinkUpdated, this.OnSharedLinkUpdated, this), XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_RoundSharedLinkCopied, this.HideLinkCopied, this)
}, ReplaySelectedWinningButtonLink.prototype.HideLinkCopied = function () {
    this.showLinkCopied.IsRunning() && this.showLinkCopied.Stop(), this.hideLinkCopied.IsRunning() && this.hideLinkCopied.Stop(), this.hideLinkCopied.Start()
}, ReplaySelectedWinningButtonLink.prototype.OnSharedLinkUpdated = function () {
    var t = XT.GetObject(ReplayVars.Replay_SharedLinkRound);
    t == this.round && this.UpdateValue(t)
}, ReplaySelectedWinningButtonLink.prototype.UpdateValue = function (t) {
    if (this.RoundsEqual(this.round, t) || this.HideLinkCopied(), ReplaySelectedWinningButton.prototype.UpdateValue.call(this, t), null != t) {
        var e = !_string.IsNullOrEmpty(t.sharedLink);
        this.sharedLinkContent.SetActive(e), this.noSharedLinkContent.SetActive(!e)
    }
};
var GA_SENT_REPLAY_CREATED_LINK = !1,
    GA_SENT_REPLAY_COPIED_LINK = !1;

function ReplaySelectedWinningButtonWatch() {
    ReplaySelectedWinningButton.call(this)
}
ReplaySelectedWinningButtonLink.prototype.OnRelease = function () {
    var t = this.round.sharedLink;
    _string.IsNullOrEmpty(t) ? (XT.SetObject(ReplayVars.Replay_SharedLinkRound, this.round), XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RequestSharedLink), globalTracking.SendEvent("uht_behaviour_replay", "Ingame_replay_created_link", GA_SENT_REPLAY_CREATED_LINK ? 0 : 1, "BehaviourTracker"), GA_SENT_REPLAY_CREATED_LINK = !0) : (globalTracking.SendEvent("uht_behaviour_replay", "Ingame_replay_copied_link", GA_SENT_REPLAY_COPIED_LINK ? 0 : 1, "BehaviourTracker"), GA_SENT_REPLAY_COPIED_LINK = !0, this.linkCopied = _Clipboard.CopyText(t), this.linkCopied || prompt("", t))
}, ReplaySelectedWinningButtonLink.prototype.Update = function () {
    this.linkCopied && (this.linkCopied = !1, XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RoundSharedLinkCopied), this.showLinkCopied.Start())
}, ReplaySelectedWinningButtonLink.prototype.LateUpdate = function () {
    if (null != this.winning) {
        var t = this.winning.transform.localPosition();
        UHTMath.Vector3.equal(this.winningPos, t) || (this.winningPos = t, this.HideLinkCopied())
    }
}, ReplaySelectedWinningButtonLink.prototype.OnDisable = function () {
    this.HideLinkCopied()
}, ReplaySelectedWinningButtonLink.prototype.RoundsEqual = function (t, e) {
    return null == t ? null == e : null == e ? null == t : t.roundID == e.roundID
}, goog.require("UHT.ReplaySelectedWinningButton"), ReplaySelectedWinningButtonWatch.prototype = Object.create(ReplaySelectedWinningButton.prototype), ReplaySelectedWinningButtonWatch.prototype.constructor = ReplaySelectedWinningButtonWatch;
var GA_SENT_REPLAY_STARTED = !1;

function ReplayWatchWinningStyle() {
    this.defaultWidth = 0, this.defaultBorderRadius = 0
}

function ReplayWatchWinning() {
    ArrangeableBase.call(this), this.open = null, this.anchorTopLeft = null, this.anchorBottomRight = null, this.styleLandscape = null, this.stylePortrait = null, this.collidersCamera = null, this.notificationsCamera = null, this.notificationsCameraDepth = 0, this.mustOpen = !1, this.isRoundOpen = !1, this.isNotificationOpen = !1, this.cachedCamera = null, this.style = null, this.posC = null, this.posTL = null, this.posBR = null, this.replayRoot = null, this.replayFrame = null, this.css = "width:{0}px;height:{1}px;left:{2}px;top:{3}px;border-radius:0 0 BRpx BRpx;"
}
ReplaySelectedWinningButtonWatch.prototype.OnRelease = function () {
    globalTracking.SendEvent("uht_behaviour_replay", "Ingame_replay_started_watching", GA_SENT_REPLAY_STARTED ? 0 : 1, "BehaviourTracker"), GA_SENT_REPLAY_STARTED = !0, XT.SetObject(ReplayVars.Replay_SelectedRound, this.round), XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_WatchSelectedRound)
}, goog.require("UHT.ArrangeableBase"), ReplayWatchWinning.prototype = Object.create(ArrangeableBase.prototype), ReplayWatchWinning.prototype.constructor = ReplayWatchWinning, ReplayWatchWinning.prototype.XTRegisterCallbacks = function () {
    ArrangeableBase.prototype.XTRegisterCallbacks.call(this), EventManager.AddHandler("EVT_UHT_RESIZE", this.OnGameSizeChanged, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated, this.OnGameSizeChanged, this), XT.RegisterCallbackEvent(ReplayVars.Evt_Internal_Replay_WatchSelectedRound, this.OpenRound, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowIntrusiveNotification, this.OnShowNotification, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowNonIntrusiveNotification, this.OnShowNotification, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideIntrusiveNotification, this.OnHideNotification, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideNonIntrusiveNotification, this.OnHideNotification, this)
}, ReplayWatchWinning.prototype.OnShowNotification = function () {
    this.isNotificationOpen = !0, this.UpdateCameras()
}, ReplayWatchWinning.prototype.OnHideNotification = function () {
    this.isNotificationOpen = !1, this.UpdateCameras()
}, ReplayWatchWinning.prototype.OnGameSizeChanged = function () {
    this.isRoundOpen && this.UpdateRoundSize(!0)
}, ReplayWatchWinning.prototype.OnSwitchToLandscape = function () {
    this.style = this.styleLandscape
}, ReplayWatchWinning.prototype.OnSwitchToPortrait = function () {
    this.style = this.stylePortrait
}, ReplayWatchWinning.prototype.OpenRound = function () {
    if (!this.isRoundOpen) {
        var t = XT.GetObject(ReplayVars.Replay_SelectedRound),
            e = t.sharedLink;
        _string.IsNullOrEmpty(e) && (e = ReplayConnection.watchURL + "&" + ReplayAPI.Keys.roundID + "=" + t.roundID);
        var i = _HTML.CreateElement("iframe", {
                src: e,
                class: "replay-frame",
                frameborder: "0"
            }, !1),
            n = _HTML.CreateElement("div", {
                class: "replay-root"
            }, !0);
        n.appendChild(i);
        var o = Globals.isMobile ? 1 : XT.GetFloat(Vars.SoundVolume);
        o = isFinite(o) && !isNaN(o) ? o : 1, createjs.Sound.setVolume(1e-5), Globals.WatchingReplay = !0, _HTML.AddClass(document.documentElement, "replay-visible"), this.mustOpen = !0, this.isRoundOpen = !0, this.replayRoot = n, this.replayFrame = i, this.UpdateRoundSize(!0), this.UpdateCameras()
    }
}, ReplayWatchWinning.prototype.CloseRound = function () {
    if (this.isRoundOpen) {
        XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RequestWinnings);
        var t = Globals.isMobile ? 1 : XT.GetFloat(Vars.SoundVolume);
        t = isFinite(t) && !isNaN(t) ? t : 1, createjs.Sound.setVolume(t), Globals.WatchingReplay = !1, _HTML.RemoveClass(document.documentElement, "replay-visible"), document.body.removeChild(this.replayRoot), this.isRoundOpen = !1, this.replayRoot = null, this.replayFrame = null, this.UpdateCameras()
    }
}, ReplayWatchWinning.prototype.UpdateRoundSize = function (t) {
    if (this.isRoundOpen) {
        null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
        var e = this.cachedCamera.transform.position(),
            i = this.anchorTopLeft.position(),
            n = this.anchorBottomRight.position();
        if (t || !UHTMath.Vector3.equal(e, this.posC) || !UHTMath.Vector3.equal(i, this.posTL) || !UHTMath.Vector3.equal(n, this.posBR)) {
            var o = window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI;
            1 == UHT_DEVICE_TYPE.DESKTOP && o > 1.5 && (o = 1.5), o > 2 && (o = 2);
            var s = 1 / o,
                a = UHTMath.Vector3.scale(this.cachedCamera.WorldToScreenPoint(i), s),
                r = UHTMath.Vector3.scale(this.cachedCamera.WorldToScreenPoint(n), s),
                l = r.x - a.x,
                u = r.y - a.y;
            s = l / this.style.defaultWidth;
            var h = this.style.defaultBorderRadius * s,
                c = this.css.replace("{0}", String(l)).replace("{1}", String(u)).replace("{2}", String(a.x)).replace("{3}", String(a.y)).replace(new RegExp("BR", "g"), String(h));
            this.replayRoot.setAttribute("style", c), this.replayFrame.setAttribute("style", c), this.posC = e, this.posTL = i, this.posBR = n
        }
    }
}, ReplayWatchWinning.prototype.UpdateCameras = function () {
    this.isRoundOpen && this.isNotificationOpen ? (this.notificationsCamera.SetCameraDepth(this.notificationsCameraDepth), this.collidersCamera.ignoreInputBlocked = !0) : (this.notificationsCamera.ResetCameraDepth(), this.collidersCamera.ignoreInputBlocked = !1)
}, ReplayWatchWinning.prototype.Update = function () {
    this.mustOpen && (this.mustOpen = !1, this.open.Start())
}, ReplayWatchWinning.prototype.LateUpdate = function () {
    this.isRoundOpen && this.UpdateRoundSize(!1)
}, goog.require("UHT.XTLink");
var ReplayWinningsCategory = {
    LastWins: 0,
    TopWins: 1
};

function ReplayWinnings() {
    XTLink.call(this), this.contents = null, this.close = null, this.open = null, this.scrollables = null, this.winnings = null, this.winSteps = null, this.betFormat = "", this.dateFormat = "", this.timeFormat = "", this.categories = null, this.CATCategories = null, this.defaultCategory = 0, this.openFrame = 0, this.categoryIndex = 0, this.categoriesDesc = null, this.rounds = null
}
ReplayWinnings.prototype = Object.create(XTLink.prototype), ReplayWinnings.prototype.constructor = ReplayWinnings, ReplayWinnings.CategoryDesc = function () {
    this.valueIndex = null, this.scrollRemain = null
}, ReplayWinnings.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen, this.CloseWinnings, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows, this.OnCloseAllInterfaceWindows, this), XT.RegisterCallbackEvent(ReplayVars.Evt_DataToCode_Replay_OpenWinnings, this.OpenWinnings, this), XT.RegisterCallbackObject(ReplayVars.Replay_Winnings, this.OnReplayWinnings, this), XT.RegisterCallbackInt(ReplayVars.Replay_CategoryIndex, this.OnCategoryIndex, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnVSGameStateChanged, this)
}, ReplayWinnings.prototype.XTInitVariablesAndEvents = function () {
    XT.SetInt(ReplayVars.Replay_CategoryIndex, this.defaultCategory)
}, ReplayWinnings.prototype.OnGameInit = function () {
    for (var t = 0; t < this.scrollables.length; ++t)
        for (var e = this.scrollables[t].items, i = 0; i < e.length; ++i) e[i].manager = this;
    for (t = 0; t < this.winnings.length; ++t) this.winnings[t].manager = this
}, ReplayWinnings.prototype.OnReplayWinnings = function (t) {
    this.rounds = t, this.OnCategoryIndex(this.categoryIndex)
}, ReplayWinnings.prototype.OpenWinnings = function () {
    this.openFrame = Time.frameCount, this.open.Start(), XT.TriggerEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows), XT.TriggerEvent(ReplayVars.Evt_Internal_Replay_RequestWinnings), window.globalMustStopAutoplay = !0
}, ReplayWinnings.prototype.CloseWinnings = function () {
    for (var t = 0; t < this.contents.length; ++t)
        if (this.contents[t].activeInHierarchy) {
            this.close.Start();
            break
        }
}, ReplayWinnings.prototype.OnCloseAllInterfaceWindows = function () {
    this.openFrame < Time.frameCount && this.CloseWinnings()
}, ReplayWinnings.prototype.OnCategoryIndex = function (t) {
    if (null == this.categoriesDesc) {
        this.categoriesDesc = [];
        for (var e = 0; e < this.categories.length; ++e) {
            var i = new ReplayWinnings.CategoryDesc;
            i.valueIndex = [], i.scrollRemain = [], this.categoriesDesc.push(i);
            for (var n = 0; n < this.scrollables.length; ++n) i.valueIndex.push(-1), i.scrollRemain.push(0)
        }
    }
    var o = this.categoriesDesc[this.categoryIndex];
    for (e = 0; e < this.scrollables.length; ++e) o.valueIndex[e] = this.scrollables[e].items[0].valueIdx, o.scrollRemain[e] = this.scrollables[e].scrollRemain;
    if (null != this.rounds) {
        var s = this.categories[t];
        s == ReplayWinningsCategory.LastWins ? this.rounds.sort(ReplayAPI.WinningRound.CompareByPlayedDate) : s == ReplayWinningsCategory.TopWins && this.rounds.sort(ReplayAPI.WinningRound.CompareByRTP)
    }
    o = this.categoriesDesc[t];
    var a = null == this.rounds ? null : this.rounds.slice();
    for (e = 0; e < this.scrollables.length; ++e) this.scrollables[e].scrollRemain = o.scrollRemain[e], this.scrollables[e].UpdateValuesAndIndex(a, o.valueIndex[e]);
    this.CATCategories[t].Start(), this.categoryIndex = t
}, ReplayWinnings.prototype.OnVSGameStateChanged = function () {
    var t = VSGameStateManager.GetState();
    t != VSGameState.Spin && t != VSGameState.SpinBonusRounds || this.CloseWinnings()
}, goog.provide("UHT.UHTAction"), goog.require("UHT.Engine");
var UHTStageName = {
    No_Stage: 0,
    Init: 1,
    Result: 2,
    Spin: 3,
    ResultFreeSpin: 4,
    Gamble: 5,
    Bonus: 6,
    FSBG: 7,
    Transition: 8,
    Jackpot: 9
};

function UHTAction(t, e) {
    this.continueRunning = t, this.nextStage = e
}

function GameLogicRuntime() {
    Component.call(this), this.listOfStages = [], this.startingStage = UHTStageName.No_Stage, this.debugHistory = [], this.dict = [], this.currentStage = null, this.currentStageStarted = !1
}

function UHTStage() {
    XTLink.call(this), this.featureID = 0, this.catBeforeFirstUpdate = null
}

function JackpotInformation(t) {
    this.JackpotID = -1, this.JackpotOrder = -1, this.JackpotAmount = 0, this.JackpotAmountUSD = 0, this.JackpotName = "", this.JackpotGroupType = "", this.JackpotStatus = "", this.JackpotMinBet = -69, this.JackpotMinBetUSD = -69, this.JackpotRTP = -69, this.JackpotInstance = -1, this.JackpotMultipliers = null, this.JackpotCommunityDetails = null, this.multipliersRTP = 0, this.prevWonAmount = 0, this.prevWonAmountUSD = 0, this.nextSeedAmount = 0, this.nextSeedAmountUSD = 0, this.contributePercent = 0, this.babyContributeInitialPercent = 0, this.babyContributePercent = 0, this.babyAmount = 0, this.babyAmountUSD = 0, this.startNextFromSeed = !1, this.JackpotWinInfo = null, null != t && (this.JackpotID = t.JackpotID, this.JackpotOrder = t.JackpotOrder, this.JackpotAmount = t.JackpotAmount, this.JackpotAmountUSD = t.JackpotAmountUSD, this.JackpotName = t.JackpotName, this.JackpotGroupType = t.JackpotGroupType, this.JackpotStatus = t.JackpotStatus, this.JackpotMinBet = t.JackpotMinBet, this.JackpotMinBetUSD = t.JackpotMinBetUSD, this.JackpotRTP = t.JackpotRTP, this.JackpotInstance = t.JackpotInstance, this.multipliersRTP = t.multipliersRTP, this.prevWonAmount = t.prevWonAmount, this.prevWonAmountUSD = t.prevWonAmountUSD, this.nextSeedAmount = t.nextSeedAmount, this.nextSeedAmountUSD = t.nextSeedAmountUSD, this.contributePercent = t.contributePercent, this.babyContributeInitialPercent = t.babyContributeInitialPercent, this.babyContributePercent = t.babyContributePercent, this.babyAmount = t.babyAmount, this.babyAmountUSD = t.babyAmountUSD, this.startNextFromSeed = t.startNextFromSeed, null != t.JackpotMultipliers && (this.JackpotMultipliers = t.JackpotMultipliers.slice()), null != t.JackpotCommunityDetails && (this.JackpotCommunityDetails = new JackpotInformation.CommunityDetails(t.JackpotCommunityDetails)), null != t.JackpotWinInfo && (this.JackpotWinInfo = new JackpotInformation.WinInfo(t.JackpotWinInfo)))
}

function JackpotStatus() {
    this.status = "", this.amount = 0, this.prevWonAmount = 0, this.nextSeedAmount = 0, this.jackpotBabyAmount = 0
}

function Adapter() {
    this.methods = {}, this.messageOpen = !1, this.fullscreenOverlayShown = !1, UHTEventBroker.AddHandler(UHTEventBroker.Type.Game, new UHTEventBroker.Handler(this, this.Endpoint))
}
UHTAction.NoAction = function () {
    return new UHTAction(!0, UHTStageName.No_Stage)
}, UHTAction.ChangeStage = function (t) {
    return new UHTAction(!1, t)
}, GameLogicRuntime.prototype = Object.create(Component.prototype), GameLogicRuntime.prototype.constructor = GameLogicRuntime, GameLogicRuntime.prototype.Start = function () {
    this.dict = [];
    for (var t = 0; t < this.listOfStages.length; t++) {
        var e = this.listOfStages[t].GetStageName();
        null == this.dict[e] && (this.dict[e] = []), this.listOfStages[t].UHTInit(), this.dict[e].push(this.listOfStages[t])
    }
    this.currentStage = this.GetStage(this.startingStage), this.currentStageStarted = !1
}, GameLogicRuntime.prototype.Update = function () {
    if (!Globals.GamePaused) {
        var t = this.currentStage.UHTUpdateBase(!this.currentStageStarted);
        this.currentStage.GetStageName() == UHTStageName.Bonus && !this.currentStageStarted && XT.GetBool(Vars.MustOpenAnotherBonus) && (XT.SetBool(Vars.MustOpenBonus, !0), XT.SetBool(Vars.MustOpenAnotherBonus, !1)), this.currentStageStarted = !0, 0 == t.continueRunning && (this.currentStage.UHTFinish(), this.dict[t.nextStage], this.currentStage = this.GetStage(t.nextStage), this.currentStageStarted = !1)
    }
}, GameLogicRuntime.prototype.GetStage = function (t) {
    if (this.dict[t].length > 1) {
        var e = 0;
        t == UHTStageName.Bonus && (e = XT.GetObject(Vars.BonusData).GameID);
        for (var i = 0; i < this.dict[t].length; ++i)
            if (this.dict[t][i].featureID == e) return this.dict[t][i]
    }
    return this.dict[t][0]
}, goog.require("UHT.XTLink"), goog.require("UHT.UHTAction"), goog.provide("UHT.UHTStage"), UHTStage.prototype = Object.create(XTLink.prototype), UHTStage.prototype.constructor = UHTStage, UHTStage.prototype.GetStageName = function () {
    return UHTStageName.No_Stage
}, UHTStage.prototype.UHTInit = function () {}, UHTStage.prototype.UHTUpdateBase = function (t) {
    return t && null != this.catBeforeFirstUpdate && this.catBeforeFirstUpdate.Start(), this.UHTUpdate(t)
}, UHTStage.prototype.UHTUpdate = function (t) {
    return UHTAction.NoAction()
}, UHTStage.prototype.UHTFinish = function () {}, goog.require("UHT.Engine"), goog.require("UHT.BaseDataStructures"), JackpotInformation.prototype.Clone = function () {
    return new JackpotInformation(this)
}, JackpotInformation.CommunityDetails = function (t) {
    this.winnerAmount = 0, this.winnerAmountUSD = 0, this.shareAmount = 0, this.shareAmountUSD = 0, this.sharedPercentage = 0, this.minWinLimit = 0, this.minWinLimitUSD = 0, this.detectingPeriodInSec = 0, this.distributionType = "", this.minBet = 0, this.minBetUSD = 0, this.minTotalBet = 0, this.minTotalBetUSD = 0, null != t && (this.winnerAmount = t.winnerAmount, this.winnerAmountUSD = t.winnerAmountUSD, this.shareAmount = t.shareAmount, this.shareAmountUSD = t.shareAmountUSD, this.sharedPercentage = t.sharedPercentage, this.minWinLimit = t.minWinLimit, this.minWinLimitUSD = t.minWinLimitUSD, this.detectingPeriodInSec = t.detectingPeriodInSec, this.distributionType = t.distributionType, this.minBet = t.minBet, this.minBetUSD = t.minBetUSD, this.minTotalBet = t.minTotalBet, this.minTotalBetUSD = t.minTotalBetUSD)
}, JackpotInformation.WinInfo = function (t) {
    this.biggestWinAmount = 0, this.biggestWinDate = "", this.biggestWinnerID = "", this.latestWinAmount = 0, this.latestWinDate = "", this.latestWinnerID = "", this.totalWinCount = 0, null != t && (this.biggestWinAmount = t.biggestWinAmount, this.biggestWinDate = t.biggestWinDate, this.biggestWinnerID = t.biggestWinnerID, this.latestWinAmount = t.latestWinAmount, this.latestWinDate = t.latestWinDate, this.latestWinnerID = t.latestWinnerID, this.totalWinCount = t.totalWinCount)
}, goog.require("UHT.Engine"), goog.provide("UHT.Adapter"), goog.require("UHT.BalanceManager"), goog.require("UHT.EventManager"), goog.require("UHT.Globals"), Adapter.prototype.Init = function () {
    this.InitAdapterMethods(), EventManager.AddHandler(ApplicationEvents.evtRequestAppConfiguration, this.OnRequestConfiguration, this), EventManager.AddHandler(ApplicationEvents.evtGameLoadingFinished, this.HandleGameReady, this), EventManager.AddHandler(ApplicationEvents.evtServerResponse, this.HandleServerResponse, this), EventManager.AddHandler(AdapterEvents.evtGetConfiguration, this.HandleGetConfiguration, this), EventManager.AddHandler(AdapterEvents.evtOpenCashier, this.HandleOpenCashier, this), EventManager.AddHandler(AdapterEvents.evtServerRequest, this.HandleServerRequest, this), EventManager.AddHandler(AdapterEvents.evtShowMessage, this.HandleShowMessage, this), EventManager.AddHandler(AdapterEvents.evtCloseGame, this.HandleCloseGame, this), EventManager.AddHandler(AdapterEvents.evtReload, this.HandleReloadGame, this)
}, Adapter.prototype.OnRequestConfiguration = function (t) {
    this.ExternalCall(AdapterEvents.evtGetConfiguration, null)
}, Adapter.prototype.ExternalCall = function (t, e) {
    var i = {};
    i[AdapterParameters.Notify] = t, i[AdapterParameters.Arguments] = e, i[AdapterParameters.type] = AdapterParameters.unity;
    var n = JSON.stringify(i);
    UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter, n)
}, Adapter.prototype.ExternalEvent = function (t, e) {
    var i = {};
    i[AdapterParameters.Notify] = t, i[AdapterParameters.Arguments] = e;
    var n = JSON.stringify(i);
    UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper, n)
}, Adapter.prototype.InitAdapterMethods = function () {
    this.methods[AdapterEvents.evtGetConfiguration] = new EventHandler(this, this.OnConfigReceived), this.methods[AdapterEvents.evtUpdateBalance] = new EventHandler(this, this.OnUpdateBalance), this.methods[AdapterEvents.evtSound] = new EventHandler(this, this.OnSoundStateChanged), this.methods[AdapterEvents.evtGameStatus] = new EventHandler(this, this.OnGameStatusChanged), this.methods[AdapterEvents.evtMessageOpened] = new EventHandler(this, this.OnFlashMessageOpened), this.methods[AdapterEvents.evtMessageClosed] = new EventHandler(this, this.OnFlashMessageClosed), this.methods[AdapterEvents.evtFullscreenOverlayShown] = new EventHandler(this, this.OnFullscreenOverlayShown), this.methods[AdapterEvents.evtFullscreenOverlayHidden] = new EventHandler(this, this.OnFullscreenOverlayHidden)
}, Adapter.prototype.NIYMethod = function (t) {}, Adapter.prototype.OnConfigReceived = function (t) {
    null != t[AdapterParameters.Config] && this.HandleGetConfiguration(t[AdapterParameters.Config])
}, Adapter.prototype.Endpoint = function (t) {
    var e = JSON.parse(t);
    if (null != e)
        if (void 0 !== e[AdapterParameters.Notify])
            if (void 0 !== e[AdapterParameters.Arguments]) {
                var i = _string.Trim(e[AdapterParameters.Notify]),
                    n = e[AdapterParameters.Arguments];
                null != this.methods[i] ? this.methods[i].call(n) : UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper, t)
            } else UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper, t);
    else UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper, t);
    else UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper, t)
}, Adapter.prototype.HandleBalanceUpdate = function (t) {
    if (null != t) {
        var e = {};
        e[AdapterParameters.Balance] = String(t.Balance), e[AdapterParameters.BalanceUpdateTime] = String(t.Time), this.ExternalCall(AdapterEvents.evtUpdateBalance, e)
    }
}, Adapter.prototype.HandleGetConfiguration = function (t) {
    EventManager.Trigger(ApplicationEvents.evtAppConfigurationReceived, t)
}, Adapter.prototype.HandleCloseGame = function (t) {
    this.ExternalCall(AdapterEvents.evtCloseGame, null)
}, Adapter.prototype.HandleReloadGame = function (t) {
    this.ExternalCall(AdapterEvents.evtReload, null)
}, Adapter.prototype.OnUpdateBalance = function (t) {
    var e, i = {};
    for (var n in t) i[n] = String(t[n]);
    null != (e = XT.GetBool(Vars.Jurisdiction_SplitBalance) ? GameProtocolCommonParser.BuildBalanceData(_number.otod(t[GameProtocolDictionary.cashBalance]), _number.otod(t[GameProtocolDictionary.bonusBalance]), _number.otod(t[GameProtocolDictionary.time])) : GameProtocolCommonParser.BuildBalanceData(_number.otod(t[GameProtocolDictionary.balance]), 0, _number.otod(t[GameProtocolDictionary.time]))) && EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest, e)
}, Adapter.prototype.OnSoundStateChanged = function (t) {
    if (null != t[AdapterParameters.GameSymbol] && null != t[AdapterParameters.SoundState]) {
        var e = t[AdapterParameters.GameSymbol],
            i = new CasinoSoundState;
        i.state = _number.otoi(t[AdapterParameters.SoundState]), EventManager.Trigger(GameEvents.evtSoundState + e, i)
    }
}, Adapter.prototype.OnGameStatusChanged = function (t) {
    if (null != t[AdapterParameters.GameSymbol] && null != t[AdapterParameters.GameActive]) {
        var e = String(t[AdapterParameters.GameSymbol]),
            i = 1 == _number.otoi(t[AdapterParameters.GameActive]);
        EventManager.Trigger(GameEvents.evtGameStatus + e, i)
    }
}, Adapter.prototype.HandleServerRequest = function (t) {
    var e = {};
    e[AdapterParameters.MethodType] = t.Fields[GameProtocolDictionary.Actions.action], e[AdapterParameters.GameSymbol] = t.Fields[GameProtocolDictionary.symbol], this.ExternalCall(AdapterEvents.evtServerRequest, e)
}, Adapter.prototype.HandleGameReady = function (t) {
    var e = t,
        i = {};
    i[AdapterParameters.GameSymbol] = e, this.ExternalCall(AdapterEvents.evtGameLoadComplited, i), FlashWrapperHelper.HandleGameReady(e)
}, Adapter.prototype.HandleOpenCashier = function (t) {
    this.ExternalCall(AdapterEvents.evtOpenCashier, null)
}, Adapter.prototype.HandleServerResponse = function (t) {
    FlashWrapperHelper.HandleServerResponse(t)
}, Adapter.prototype.OnFlashMessageOpened = function (t) {
    this.messageOpen = !0, Globals.InputBlocked = !0
}, Adapter.prototype.OnFlashMessageClosed = function (t) {
    this.messageOpen = !1, this.IsGlobalInputBlocked() || (Globals.InputBlocked = !1)
}, Adapter.prototype.OnFullscreenOverlayShown = function (t) {
    this.fullscreenOverlayShown = !0, Globals.InputBlocked = !0
}, Adapter.prototype.OnFullscreenOverlayHidden = function (t) {
    this.fullscreenOverlayShown = !1, this.IsGlobalInputBlocked() || (Globals.InputBlocked = !1)
}, Adapter.prototype.IsGlobalInputBlocked = function () {
    return this.messageOpen || this.fullscreenOverlayShown
}, Adapter.prototype.HandleShowMessage = function (t) {
    FlashWrapperHelper.HandleShowMessage(t)
};
var FlashWrapperHelper = {};

function RequestProvider() {
    Component.call(this), this.log = null, this.responseDelay = .5, this.offlineServer = null, this.replayLog = null, this.requests = null, this.requestIDs = null, this.responses = null, this.replayRequests = [], this.nextRequestParams = null, this.replayJustEnded = !1, this.replayRequestsIndex = -1, this.responseIndices = null, this.ID_DELIMITER = "::", this.RESPONSE_DELIMITER = "\n", this.firstRequest = !0
}

function DropsAndWinsIconOpt() {
    XTLink.call(this), this.dnwSpriteName = ""
}

function PromotionPrizeTypeContents() {
    this.prizeTypes = null, this.contents = null
}

function PromotionContentSwitcher() {
    XTLink.call(this), this.switchesByStatus = !0, this.startsSoonContent = null, this.startsSoonContents = null, this.openContent = null, this.openContents = null, this.closedContent = null, this.closedContents = null, this.switchesByType = !0, this.raceContents = null, this.tournamentContents = null, this.switchesByStyle = !0, this.asiaContents = null, this.europeContents = null, this.switchOnPromoSelectionChange = !1, this.onlyIfActive = !1, this.onlyIfHideWinnersList = !1, this.switchesByPrizeType = !1, this.prizeTypeContents = null, this.hideWhenPromoIsActiveInOtherGames, this.selectRules
}

function PromotionRuleUnit() {
    GenericPoolObject.call(this), this.labels = null, this.textContent = null, this.linkContentVisited = null, this.linkContentUnvisited = null, this.isVisible = !1, this.data = null, this.mustUpdateLinkContent = !1
}

function PromotionRuleUnitButton() {
    XTLink.call(this), this.unit = null, this.hoveredFrame = 0, this.pressedFrame = 0, this.cachedCamera = null
}

function PromotionRuleUnitsPooler() {
    GenericObjectPooler.call(this)
}

function PromotionsAnnouncerExtraLayout() {
    this.displayer = null, this.rules = null, this.label = null
}

function PromotionsAnnouncer() {
    XTLink.call(this), this.displayer = null, this.rules = null, this.label = null, this.secondaryDisplayers = null, this.secondaryRules = null, this.secondaryLabels = null, this.catShow = null, this.catShowFull = null, this.catHide = null, this.secondaryCatShow = null, this.secondaryCatShowFull = null, this.secondaryCatHide = null, this.hasExtraLayout = !1, this.extraLayout = null, this.secondaryExtraDisplayer = null, this.secondaryExtraRules = null, this.secondaryExtraLabels = null, this.catShowWin = null, this.winContentSwitcher = null, this.resultDisplayerLoopStartsPriority = 0, this.styleSwitcher = null, this.tournamentSimpleOptIn = null, this.announcements = [], this.uid = "", this.secondaryUID = "", this.isVisible = !1, this.mustShowWin = !1, this.rq = null, this.spinBlocked = !1, this.showMerged = !1
}

function PromotionsInOtherGamesNotification() {
    XTLink.call(this), this.showNotification, this.hideNotification, this.localizedLabel, this.landscapeMessage, this.portraitMessage, this.tournamentsRanks, this.delayBeforeShowingFirstTime = 30, this.notificationDuration = 20, this.timeBetweenNotifications = 60, this.delayAfterShowingFirstTime = 1200, this.cyclesBeforeDisabling = 3, this.currentTime = 0, this.currentState = PromotionsInOtherGamesNotification.NotificationStates.DISABLED, this.cachedPromos = {}, this.currentPromo = "", this.isPaused = !0, this.duringFRB = !1
}

function PromotionStyleSpriteColor() {
    this.name = "", this.colors = null, this.sprites = null
}

function PromotionStyleSpriteName() {
    this.name = "", this.names = null, this.sprites = null
}

function PromotionStyleButtonColors() {
    this.name = "", this.normalColors = null, this.hoverColors = null, this.pressedColors = null, this.disabledColors = null, this.buttons = null, this.targets = null
}

function PromotionStyleSwitcher() {
    XTLink.call(this), this.styles = null, this.CATLinks = null, this.spriteColors = null, this.spriteNames = null, this.buttonColors = null, this.switchesByRegion = !0, this.regions = null, this.displayStyles = null, PromotionStyleSwitcher.I = this
}

function PromotionsWarning() {
    XTLink.call(this), this.show = null, this.hide = null, this.promoTitleLabel = null, this.label = null, this.labelLocalized = null, this.labelDailyLocalized = null, this.labelTotalLocalized = null, this.handleMessage = !1, this.details = null, this.isVisible = !1, this.wasVisible = !1
}

function PromotionWarning() {
    XTLink.call(this), this.label = null, this.details = null, this.score = null, this.isVisible = !1, this.uid = ""
}

function PromotionWinningsActive() {
    XTLink.call(this)
}

function PromotionWinningsActiveMini() {
    PromotionWinningsActive.call(this), this.transforms = null, this.positionWinners = null, this.positionNoWinners = null, this.colliders = null, this.sizeWinners = null, this.sizeNoWinners = null, this.contentWinners = null, this.contentNoWinners = null
}
FlashWrapperHelper.ExternalEvent = function (t, e) {
    var i = {};
    i[AdapterParameters.Notify] = t, i[AdapterParameters.Arguments] = e;
    var n = JSON.stringify(i);
    UHTEventBroker.Trigger(UHTEventBroker.Type.Wrapper, n)
}, FlashWrapperHelper.HandleGameReady = function (t) {
    FlashWrapperHelper.ExternalEvent(AdapterEvents.evtGameReady, null)
}, FlashWrapperHelper.HandleServerResponse = function (t) {
    if (null != t) {
        var e = {};
        e[AdapterParameters.ResponseData] = t.Response, e[AdapterParameters.ResponseStatusCode] = t.StatusCode, FlashWrapperHelper.ExternalEvent(AdapterEvents.evtServerResponse, e)
    }
}, FlashWrapperHelper.HandleShowMessage = function (t) {
    if (null != t) {
        var e = {};
        e[AdapterParameters.messageType] = t, FlashWrapperHelper.ExternalEvent(AdapterEvents.evtShowMessage, e)
    }
}, goog.require("UHT.ServerOptions"), goog.require("UHT.Component"), goog.require("UHT.OfflineRequest"), goog.require("UHT.OfflineServer"), RequestProvider.prototype = Object.create(Component.prototype), RequestProvider.prototype.constructor = RequestProvider, RequestProvider.Instance = null, RequestProvider.prototype.Start = function () {
    RequestProvider.Instance = this, ServerOptions.isOnline || (ServerOptions.isReplay || UHT_LOCAL && null != this.replayLog ? UHT_LOCAL ? this.ParseReplay(this.replayLog.text) : this.ParseReplay(window.UHT_REPLAY_DATA) : this.ParseLog())
}, RequestProvider.prototype.NewRequest = function (t) {
    return ServerOptions.isOnline ? new SimpleWebRequest(t) : new OfflineRequest(t)
}, RequestProvider.prototype.OfflineRequest = function (t, e, i) {
    var n = this;
    setTimeout((function () {
        n.CompleteOfflineRequest(t, e, i)
    }), 1e3 * n.responseDelay), null != this.offlineServer && this.offlineServer.HandleRequest(e)
}, RequestProvider.prototype.CompleteOfflineRequest = function (t, e, i) {
    var n = t.indexOf(ServerOptions.gameServiceUri) >= 0 ? this.GameServiceRequestID(e) : this.OtherRequestID(t);
    if (null != this.responses[n]) {
        var o = this.responses[n][this.responseIndices[n]];
        /_JSON$/.test(n) && (o = atob(o)), i.OnRequestDone(o, 200), this.responseIndices[n]++, null == this.offlineServer && (this.responseIndices[n] %= this.responses[n].length), ServerOptions.isReplay && (this.replayRequestsIndex++, this.replayRequestsIndex >= this.replayRequests.length && (this.replayJustEnded = !0), this.replayRequestsIndex %= this.replayRequests.length, this.nextRequestParams = null)
    } else i.OnRequestDone("404 Not Found", 404)
}, RequestProvider.prototype.GameServiceRequestID = function (t) {
    for (var e = (t || "").split("&"), i = 0; i < e.length; ++i) {
        var n = e[i].split("=");
        if (n[0] == GameProtocolDictionary.Actions.action) return n.length > 1 ? n[1] : null
    }
    return null
}, RequestProvider.prototype.OtherRequestID = function (t) {
    var e = t.split("?")[0],
        i = e.split("/");
    if (i.indexOf("promo") > -1 || i.indexOf("lobby") > -1) {
        var n = e.split("gs2c");
        if (n.length > 1) return n[1].replace(/^\/+|\/+$/g, "").split("/").join("_") + "_JSON"
    }
    for (var o = i.length - 1; o >= 0; --o)
        if (!_string.IsNullOrEmpty(i[o])) return i[o];
    return null
}, RequestProvider.prototype.ParseReplay = function (t) {
    this.responses = {}, this.responseIndices = {};
    var e = JSON.parse(t),
        i = [];
    i.push(e.init), i[0] = "c=" + GameProtocolCommonParser.SplitResponseContent(e.log[0].cr.split("&")).c + "&" + i[0], this.responses.doInit = i, this.responseIndices.doInit = 0, this.replayRequests = [];
    var n = e.log;
    for (var o in n) {
        var s = n[o],
            a = s.cr,
            r = s.sr;
        this.replayRequests.push(a);
        var l = this.GameServiceRequestID(a),
            u = null != this.responses[l] ? this.responses[l] : [];
        u.push(r), null == this.responses[l] && (this.responses[l] = u, this.responseIndices[l] = 0)
    }
}, RequestProvider.prototype.ParseLog = function () {
    this.responses = {}, this.responseIndices = {};
    for (var t = this.log.text.split(this.RESPONSE_DELIMITER), e = 0; e < t.length; ++e)
        if (!_string.IsNullOrEmpty(t[e])) {
            var i = t[e].split(this.ID_DELIMITER),
                n = i[0],
                o = i.length > 1 ? i[1] : "",
                s = null != this.responses[n] ? this.responses[n] : [];
            s.push(o), null == this.responses[n] && (this.responses[n] = s, this.responseIndices[n] = 0)
        }
}, RequestProvider.prototype.ParseOfflineResponse = function (t, e) {
    e && (this.responses = {}, this.responseIndices = {});
    for (var i = t.split(this.RESPONSE_DELIMITER), n = 0; n < i.length; ++n)
        if (!_string.IsNullOrEmpty(i[n])) {
            var o = i[n].split(this.ID_DELIMITER),
                s = o[0],
                a = o.length > 1 ? o[1] : "",
                r = null != this.responses[s] ? this.responses[s] : [];
            r.push(a), null == this.responses[s] && (this.responses[s] = r, this.responseIndices[s] = 0)
        }
}, RequestProvider.prototype.GetNextReplayRequestParams = function () {
    return null == this.nextRequestParams && (this.nextRequestParams = GameProtocolCommonParser.SplitResponseContent(this.replayRequests[this.replayRequestsIndex].split("&"))), this.nextRequestParams
}, RequestProvider.prototype.ReplayEnded = function () {
    return !!this.replayJustEnded && (this.replayJustEnded = !1, !0)
}, goog.require("UHT.XTLink"), DropsAndWinsIconOpt.prototype = Object.create(XTLink.prototype), DropsAndWinsIconOpt.prototype.constructor = DropsAndWinsIconOpt, DropsAndWinsIconOpt.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, DropsAndWinsIconOpt.prototype.OnGameInit = function () {
    this.GetComponent(UISprite).SetSpriteName(this.GetDropsAndWinsSpriteName())
}, DropsAndWinsIconOpt.prototype.GetDNWSpriteName = function () {
    var t = this.gameObject.GetComponent(UISprite).spriteName,
        e = "region";
    return null == UHT_GAME_CONFIG_SRC[e] || "Asia" != UHT_GAME_CONFIG_SRC[e] ? t : t += "_as"
}, DropsAndWinsIconOpt.prototype.GetDropsAndWinsSpriteName = function () {
    return _string.IsNullOrEmpty(this.dnwSpriteName) && (this.dnwSpriteName = this.GetDNWSpriteName()), this.dnwSpriteName
}, goog.require("UHT.XTLink"), PromotionContentSwitcher.prototype = Object.create(XTLink.prototype), PromotionContentSwitcher.prototype.constructor = PromotionContentSwitcher, PromotionContentSwitcher.prototype.XTRegisterCallbacks = function () {
    this.switchOnPromoSelectionChange && (XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated, this.OnTournamentsUpdated, this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.OnSelectedTournamentIDChanged, this))
}, PromotionContentSwitcher.prototype.OnTournamentsUpdated = function () {
    this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))
}, PromotionContentSwitcher.prototype.OnSelectedTournamentIDChanged = function (t) {
    if (this.CanSwitch(this.switchOnPromoSelectionChange)) {
        var e = PromotionsHelper.FindPromotion(t);
        if (null != e && (!this.onlyIfHideWinnersList || e.type != TournamentProtocol.PromoType.Race || !e.showWinnersList) && (this.SwitchByStatus(e.status), this.SwitchByType(e.type), this.SwitchByStyle(e.clientStyle), e.isActiveInOtherGames))
            for (var i = 0; i < this.hideWhenPromoIsActiveInOtherGames.length; i++) this.hideWhenPromoIsActiveInOtherGames[i].SetActive(!1), this.selectRules.Start()
    }
}, PromotionContentSwitcher.prototype.SwitchByStatus = function (t) {
    if (this.CanSwitch(this.switchesByStatus)) {
        if (this.startsSoonContent.SetActive(t == TournamentProtocol.StatusCode.StartsSoon), null != this.startsSoonContents)
            for (var e = 0; e < this.startsSoonContents.length; ++e) this.startsSoonContents[e].SetActive(this.startsSoonContent.activeSelf);
        if (this.openContent.SetActive(t == TournamentProtocol.StatusCode.Open), null != this.openContents)
            for (e = 0; e < this.openContents.length; ++e) this.openContents[e].SetActive(this.openContent.activeSelf);
        if (this.closedContent.SetActive(t == TournamentProtocol.StatusCode.Closed), null != this.closedContents)
            for (e = 0; e < this.closedContents.length; ++e) this.closedContents[e].SetActive(this.closedContent.activeSelf)
    }
}, PromotionContentSwitcher.prototype.SwitchByType = function (t) {
    if (this.CanSwitch(this.switchesByType)) {
        for (var e = 0; e < this.tournamentContents.length; ++e) this.tournamentContents[e].SetActive(t == TournamentProtocol.PromoType.Tournament);
        for (e = 0; e < this.raceContents.length; ++e) this.raceContents[e].SetActive(t == TournamentProtocol.PromoType.Race)
    }
}, PromotionContentSwitcher.prototype.SwitchByStyle = function (t) {
    if (this.CanSwitch(this.switchesByStyle)) {
        for (var e = 0; e < this.asiaContents.length; ++e) this.asiaContents[e].SetActive(t == TournamentProtocol.ClientStyle.Asia);
        for (e = 0; e < this.europeContents.length; ++e) this.europeContents[e].SetActive(t == TournamentProtocol.ClientStyle.Europe)
    }
}, PromotionContentSwitcher.prototype.SwitchByPrizeType = function (t) {
    if (this.CanSwitch(this.switchesByPrizeType))
        for (var e = 0; e < this.prizeTypeContents.length; ++e)
            for (var i = this.prizeTypeContents[e].prizeTypes.indexOf(t) > -1, n = this.prizeTypeContents[e].contents, o = 0; o < n.length; ++o) n[o].SetActive(i)
}, PromotionContentSwitcher.prototype.CanSwitch = function (t) {
    return (!this.onlyIfActive || this.gameObject.activeInHierarchy) && t
}, goog.require("UHT.GenericPoolObject"), PromotionRuleUnit.prototype = Object.create(GenericPoolObject.prototype), PromotionRuleUnit.prototype.constructor = PromotionRuleUnit, PromotionRuleUnit.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_Visited, this.OnPromotionRuleLinkVisited, this)
}, PromotionRuleUnit.prototype.OnPromotionRuleLinkVisited = function () {
    this.mustUpdateLinkContent = this.gameObject.activeInHierarchy && this.data.isLink
}, PromotionRuleUnit.prototype.UpdateValue = function (t) {
    this.data = t;
    for (var e = 0; e < this.labels.length; ++e) this.labels[e].text = t.text;
    this.textContent.SetActive(!t.isLink), this.UpdateLinkContent()
}, PromotionRuleUnit.prototype.UpdateLinkContent = function () {
    this.data.CheckVisited(), this.linkContentVisited.SetActive(this.data.isLink && this.data.isVisited), this.linkContentUnvisited.SetActive(this.data.isLink && !this.data.isVisited)
}, PromotionRuleUnit.prototype.Update = function () {
    this.mustUpdateLinkContent && (this.mustUpdateLinkContent = !1, this.UpdateLinkContent())
}, PromotionRuleUnit.prototype.UnitButtonClicked = function () {
    this.data.isLink && this.isVisible && (window.open(this.data.url, encodeURIComponent(this.data.url)), this.data.isVisited || (this.data.SetVisited(), XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionRuleLink_Visited)))
}, goog.require("UHT.XTLink"), PromotionRuleUnitButton.prototype = Object.create(XTLink.prototype), PromotionRuleUnitButton.prototype.constructor = PromotionRuleUnitButton, PromotionRuleUnitButton.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_HoveredOn, this.OnPromotionLinkHoveredOn, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_HoveredOff, this.OnPromotionLinkHoveredOff, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_Pressed, this.OnPromotionLinkPressed, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionRuleLink_Released, this.OnPromotionLinkReleased, this), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp, new EventHandler(this, this.OnTouchEnd))
}, PromotionRuleUnitButton.prototype.OnPromotionLinkHoveredOn = function () {
    this.InternalSendMessage(!1, !0)
}, PromotionRuleUnitButton.prototype.OnPromotionLinkHoveredOff = function () {
    this.InternalSendMessage(!1, !1)
}, PromotionRuleUnitButton.prototype.OnPromotionLinkPressed = function () {
    this.InternalSendMessage(!0, !0)
}, PromotionRuleUnitButton.prototype.OnPromotionLinkReleased = function () {
    this.InternalSendMessage(!0, !1)
}, PromotionRuleUnitButton.prototype.InternalSendMessage = function (t, e) {
    this.gameObject.activeInHierarchy && XT.GetString(TournamentVars.PromotionRuleLinkID) == this.unit.data.uid && this.gameObject.SendMessage(t ? "OnPress" : "OnHover", e)
}, PromotionRuleUnitButton.prototype.OnTouchEnd = function () {
    if (this.gameObject.activeInHierarchy) {
        null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
        var t = new LayerMask;
        t.mask = 1 << this.gameObject.layer, this.gameObject.collider == globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition), t) && this.unit.UnitButtonClicked()
    }
}, PromotionRuleUnitButton.prototype.OnHover = function (t) {
    this.hoveredFrame != Time.frameCount && (this.hoveredFrame = Time.frameCount, XT.SetString(TournamentVars.PromotionRuleLinkID, this.unit.data.uid), XT.TriggerEvent(t ? TournamentVars.Evt_Internal_PromotionRuleLink_HoveredOn : TournamentVars.Evt_Internal_PromotionRuleLink_HoveredOff))
}, PromotionRuleUnitButton.prototype.OnPress = function (t) {
    this.pressedFrame != Time.frameCount && (this.pressedFrame = Time.frameCount, XT.SetString(TournamentVars.PromotionRuleLinkID, this.unit.data.uid), XT.TriggerEvent(t ? TournamentVars.Evt_Internal_PromotionRuleLink_Pressed : TournamentVars.Evt_Internal_PromotionRuleLink_Released))
}, goog.require("UHT.GenericObjectPooler"), PromotionRuleUnitsPooler.prototype = Object.create(GenericObjectPooler.prototype), PromotionRuleUnitsPooler.prototype.constructor = PromotionRuleUnitsPooler, PromotionRuleUnitsPooler.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.Init, this)
}, PromotionRuleUnitsPooler.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(TournamentVars.PromotionRuleUnitsPooler, this)
}, goog.require("UHT.XTLink"), PromotionsAnnouncer.prototype = Object.create(XTLink.prototype), PromotionsAnnouncer.prototype.constructor = PromotionsAnnouncer, PromotionsAnnouncer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Prepare, this.OnPrepare, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Announce, this.OnAnnounce, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_PrepareForWin, this.OnPrepareForWin, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_ShowWin, this.OnShowWin, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts, this.OnResultDisplayerLoopStarts, this, this.resultDisplayerLoopStartsPriority), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated, this.OnTournamentsUpdated, this)
}, PromotionsAnnouncer.prototype.Update = function () {
    this.OnTournamentsUpdated()
}, PromotionsAnnouncer.prototype.OnTournamentsUpdated = function () {
    this.isVisible && !PromotionsHelper.PromotionAvailable(this.uid) && this.NextAnnouncement()
}, PromotionsAnnouncer.prototype.OnResultDisplayerLoopStarts = function () {
    this.mustShowWin && (null == this.rq && (this.rq = XT.GetObject(Vars.RQManagerObject)), this.rq.AddRoutineQueueItem(new RQIWaitForXTEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_WinShown)))
}, PromotionsAnnouncer.prototype.OnPrepare = function () {
    this.BlockSpin()
}, PromotionsAnnouncer.prototype.OnPrepareForWin = function () {
    this.OnPrepare(), this.mustShowWin = !0
}, PromotionsAnnouncer.prototype.OnAnnounce = function () {
    this.BlockSpin();
    for (var t = PromotionsHelper.GetAnnouncements(), e = 0; e < t.length; ++e) this.announcements.push(t[e]);
    this.isVisible || this.NextAnnouncement()
}, PromotionsAnnouncer.prototype.NextAnnouncement = function () {
    var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(TournamentsRank, !0);
    if (0 != this.announcements.length) {
        this.uid = this.announcements[0].uid, XT.SetString(TournamentVars.RankPromotionID, this.uid), XT.SetBool(TournamentVars.DisplayingPromotionsInOtherGames, !0);
        for (n = 0; n < t.length; n++) t[n].stopRotation.Start(), t[n].OnTournamentsUpdated();
        this.secondaryUID = "";
        var e = TournamentConnection.instance.FindPromoHolder(this.uid);
        if (this.showMerged = !1, e.type == TournamentProtocol.PromoType.Tournament && e.promotion.displayStyle == TournamentProtocol.DisplayStyle.DropsAndWins && this.announcements.length > 1) {
            var i = TournamentConnection.instance.FindPromoHolder(this.announcements[1].uid);
            i.type == TournamentProtocol.PromoType.Race && i.promotion.displayStyle == TournamentProtocol.DisplayStyle.DropsAndWins && (this.showMerged = !0, this.secondaryUID = this.announcements[1].uid)
        }
        if (Globals.isMini && (this.showMerged = !1), null != this.tournamentSimpleOptIn && (this.tournamentSimpleOptIn.isMergedDDW = this.showMerged, this.tournamentSimpleOptIn.OnAnnounce()), this.showMerged) {
            for (n = 0; n < this.secondaryDisplayers.length; n++) this.secondaryDisplayers[n].UpdateTournament(this.uid), this.secondaryLabels[n].text = this.announcements[n].description;
            this.secondaryRules.SetVisible(!1)
        } else this.displayer.UpdateTournament(this.uid), this.label.text = this.announcements[0].description, this.rules.SetVisible(!1);
        if (this.hasExtraLayout && (this.extraLayout.label.text = this.label.text, this.extraLayout.displayer.UpdateTournament(this.uid), this.extraLayout.rules.SetVisible(!1), this.showMerged)) {
            for (n = 0; n < this.secondaryExtraLabels.length; n++) this.secondaryExtraLabels[n].text = this.announcements[n].description;
            this.secondaryExtraDisplayer.UpdateTournament(this.uid), this.secondaryExtraRules.SetVisible(!1)
        }
        null != this.styleSwitcher && this.styleSwitcher.SwitchByDisplayStyle(this.uid), PromotionsHelper.PromotionCheckTournamentOptOut(this.uid), this.showMerged ? (this.secondaryCatShow.Start(), this.isVisible = !0, this.announcements.splice(0, 1), this.announcements.splice(0, 1)) : (this.catShow.Start(), this.isVisible = !0, this.announcements.splice(0, 1))
    } else {
        this.rules.SetVisible(!1), this.hasExtraLayout && (this.extraLayout.rules.SetVisible(!1), this.secondaryExtraRules.SetVisible(!1)), this.catHide.Start(), this.isVisible = !1, this.UnblockSpin(), XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_AllAnnouncementsShown), XT.SetBool(TournamentVars.DisplayingPromotionsInOtherGames, !1);
        for (var n = 0; n < t.length; n++) t[n].startRotation.Start()
    }
}, PromotionsAnnouncer.prototype.OnShowWin = function () {
    this.BlockSpin(), XT.SetDouble(TournamentVars.Promotion_WinDisplayed, 0);
    var t = PromotionsHelper.FindPromotion(XT.GetString(TournamentVars.Promotion_WinID)),
        e = t.clientStyle,
        i = PromotionsHelper.FindDetails(XT.GetString(TournamentVars.Promotion_WinID));
    if (XT.GetInt(TournamentVars.PrizeDropWin_PrizeType) == TournamentProtocol.PrizeType.FreeRounds && null != i && null != i.freeRoundSettings && null != i.freeRoundSettings.availableGameNames) {
        var n = i.freeRoundSettings.availableGameNames;
        if (1 == n.length) {
            var o = n[0].replace(/GR\sCV/, "").replace(/\sCV/, "").replace(/\sJP/, "").replace(/\s/g, "").toLowerCase(),
                s = XT.GetString(Vars.GameTitle).replace("™", "").replace(/\s/g, "").toLowerCase(),
                a = document.title.replace(/GR\sCV/, "").replace(/\sCV/, "").replace(/\sJP/, "").replace(/\s/g, "").toLowerCase();
            o != s && a != o || (n = [])
        }
        XT.SetString(TournamentVars.PrizeDropWin_FreeRoundGames, n.join(", ").toUpperCase())
    }
    var r = XT.GetInt(TournamentVars.PrizeDropWin_PrizeType);
    t.displayStyle != TournamentProtocol.DisplayStyle.IDNSM && t.displayStyle != TournamentProtocol.DisplayStyle.IDNCSM && t.displayStyle != TournamentProtocol.DisplayStyle.DropsAndWins && r != TournamentProtocol.PrizeType.FreeRounds || (e = TournamentProtocol.ClientStyle.Europe), this.winContentSwitcher.SwitchByStyle(e), this.winContentSwitcher.SwitchByPrizeType(r), null != this.styleSwitcher && this.styleSwitcher.SwitchByDisplayStyle(t.uid), this.catShowWin.Start()
}, PromotionsAnnouncer.prototype.ShowWinEnded = function () {
    this.mustShowWin = !1, XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_WinShown), XT.SetString(TournamentVars.PrizeDropWin_FreeRoundGames, ""), this.UnblockSpin()
}, PromotionsAnnouncer.prototype.UpdateDisplayedWin = function () {
    XT.SetDouble(TournamentVars.Promotion_WinDisplayed, XT.GetDouble(TournamentVars.Promotion_WinReceived))
}, PromotionsAnnouncer.prototype.OptIn = function () {
    PromotionsHelper.OptIn(this.uid), this.showMerged && PromotionsHelper.OptIn(this.secondaryUID)
}, PromotionsAnnouncer.prototype.OptOut = function () {
    PromotionsHelper.OptOut(this.uid), this.showMerged && PromotionsHelper.OptOut(this.secondaryUID)
}, PromotionsAnnouncer.prototype.FullRules = function () {
    this.showMerged ? (this.secondaryRules.SetVisible(!0), this.secondaryRules.ForceUpdate(), this.secondaryRules.UpdateRulesManually(this.uid), this.hasExtraLayout && (this.extraLayout.rules.SetVisible(!0), this.extraLayout.rules.ForceUpdate(), this.extraLayout.rules.UpdateRulesManually(this.uid), this.secondaryExtraRules.SetVisible(!0), this.secondaryExtraRules.ForceUpdate(), this.secondaryExtraRules.UpdateRulesManually(this.uid)), this.secondaryCatShowFull.Start()) : (this.rules.SetVisible(!0), this.rules.ForceUpdate(), this.rules.UpdateRulesManually(this.uid), this.hasExtraLayout && (this.extraLayout.rules.SetVisible(!0), this.extraLayout.rules.ForceUpdate(), this.extraLayout.rules.UpdateRulesManually(this.uid)), this.catShowFull.Start())
}, PromotionsAnnouncer.prototype.BlockSpin = function () {
    this.spinBlocked || (this.spinBlocked = !0, XT.TriggerEvent(Vars.Evt_DataToCode_BlockSpin))
}, PromotionsAnnouncer.prototype.UnblockSpin = function () {
    this.spinBlocked && (this.spinBlocked = !1, XT.TriggerEvent(Vars.Evt_DataToCode_UnblockSpin))
}, goog.require("UHT.XTLink"), PromotionsInOtherGamesNotification.prototype = Object.create(XTLink.prototype), PromotionsInOtherGamesNotification.prototype.constructor = PromotionsInOtherGamesNotification, PromotionsInOtherGamesNotification.NotificationStates = {
    DISABLED: -1,
    INIT: 0,
    SHOWING: 1,
    WAITING_BETWEEN_NOTIFICATIONS: 2,
    WAITING_BEFORE_NEXT_CYCLE: 3,
    FINISHED: 4
}, PromotionsInOtherGamesNotification.prototype.XTRegisterCallbacks = function () {
    ServerOptions.isReplay || (XTLink.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackString(TournamentVars.CurrentPromotionName, this.OnCurrentPromotionName, this), XT.RegisterCallbackBool(TournamentVars.PromotionsInOtherGamesArePresent, this.OnPromotionsInOtherGamesArePresent, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated, this.OnTournamentsUpdated, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsOpen, this.OnPromotionsOpen, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Announce, this.Pause, this, -69), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_AllAnnouncementsShown, this.Unpause, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_IntroClosedOrSkipped, this.Unpause, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsStarted, this.OnBonusRoundsStarted, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsFinished, this.OnBonusRoundsFinished, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsError, this.OnBonusRoundsFinished, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed, this.OnBonusRoundsOnContinuePressed, this))
}, PromotionsInOtherGamesNotification.prototype.OnBonusRoundsStarted = function () {
    this.duringFRB = !1
}, PromotionsInOtherGamesNotification.prototype.OnBonusRoundsFinished = function () {
    this.duringFRB = !0
}, PromotionsInOtherGamesNotification.prototype.OnBonusRoundsOnContinuePressed = function () {
    XT.GetBool(Vars.UserChoseToPlayLater) && (this.duringFRB = !0), this.duringFRB = !this.duringFRB, this.duringFRB ? this.Pause() : this.Unpause()
}, PromotionsInOtherGamesNotification.prototype.OnPromotionsOpen = function () {
    this.HideNotification(), XT.SetBool(TournamentVars.DisplayingPromotionsInOtherGames, !1), this.EnableRankCycling(), this.cyclesBeforeDisabling = 0, this.currentState = PromotionsInOtherGamesNotification.NotificationStates.FINISHED
}, PromotionsInOtherGamesNotification.prototype.Pause = function () {
    this.isPaused = !0
}, PromotionsInOtherGamesNotification.prototype.Unpause = function () {
    this.currentTime = 0, this.isPaused = !1
}, PromotionsInOtherGamesNotification.prototype.OnTournamentsUpdated = function () {
    var t = XT.GetObject(TournamentVars.Tournaments);
    if (null != t) {
        for (var e = 0; e < t.length; e++) t[e].isActiveInOtherGames && (null == this.cachedPromos[t[e].uid] && t[e].status != TournamentProtocol.StatusCode.Closed && (this.cachedPromos[t[e].uid] = !1), null != this.cachedPromos[t[e].uid] && t[e].status == TournamentProtocol.StatusCode.Closed && delete this.cachedPromos[t[e].uid]);
        0 == this.cachedPromos.length && (XT.SetBool(TournamentVars.DisplayingPromotionsInOtherGames, !1), this.EnableRankCycling(), this.currentState = PromotionsInOtherGamesNotification.NotificationStates.FINISHED)
    }
}, PromotionsInOtherGamesNotification.prototype.OnPromotionsInOtherGamesArePresent = function (t) {
    this.currentState == PromotionsInOtherGamesNotification.NotificationStates.DISABLED && t && (this.currentState = PromotionsInOtherGamesNotification.NotificationStates.INIT, this.DisableRankCycling())
}, PromotionsInOtherGamesNotification.prototype.OnCurrentPromotionName = function (t) {
    var e = t;
    null != this.landscapeMessage && (this.landscapeMessage.text = this.localizedLabel.text + e), null != this.portraitMessage && (this.portraitMessage.text = this.localizedLabel.text + e)
}, PromotionsInOtherGamesNotification.prototype.DisableRankCycling = function () {
    for (var t = 0; t < this.tournamentsRanks.length; t++) this.tournamentsRanks[t].stopRotation.Start()
}, PromotionsInOtherGamesNotification.prototype.EnableRankCycling = function () {
    for (var t = 0; t < this.tournamentsRanks.length; t++) this.tournamentsRanks[t].startRotation.Start()
}, PromotionsInOtherGamesNotification.prototype.ShowNotification = function () {
    XT.SetString(TournamentVars.RankPromotionID, this.currentPromo), this.SetCurrentTournament(this.currentPromo), this.showNotification.IsRunning() && this.showNotification.Stop(), this.showNotification.Start()
}, PromotionsInOtherGamesNotification.prototype.HideNotification = function () {
    this.hideNotification.IsRunning() && this.hideNotification.Stop(), this.hideNotification.Start()
}, PromotionsInOtherGamesNotification.prototype.SetCurrentTournament = function (t) {
    for (var e = 0; e < this.tournamentsRanks.length; e++) this.tournamentsRanks[e].OnTournamentsUpdated()
}, PromotionsInOtherGamesNotification.prototype.GetNextPromo = function () {
    for (var t in this.cachedPromos)
        if (!this.cachedPromos[t]) return this.cachedPromos[t] = !0, t;
    return null
}, PromotionsInOtherGamesNotification.prototype.ResetCachedPromos = function () {
    var t = {};
    for (var e in this.cachedPromos) t[e] = !1;
    this.cachedPromos = t
}, PromotionsInOtherGamesNotification.prototype.Update = function () {
    if (this.currentState != PromotionsInOtherGamesNotification.NotificationStates.DISABLED && this.currentState != PromotionsInOtherGamesNotification.NotificationStates.FINISHED && !this.isPaused) return this.currentState == PromotionsInOtherGamesNotification.NotificationStates.INIT && (this.currentTime += Time.deltaTime, this.currentTime > this.delayBeforeShowingFirstTime) ? (XT.SetBool(TournamentVars.DisplayingPromotionsInOtherGames, !0), this.DisableRankCycling(), this.currentPromo = this.GetNextPromo(), null != this.currentPromo ? (this.ShowNotification(), this.currentState = PromotionsInOtherGamesNotification.NotificationStates.SHOWING) : this.currentState = PromotionsInOtherGamesNotification.NotificationStates.DISABLED, void(this.currentTime = 0)) : this.currentState == PromotionsInOtherGamesNotification.NotificationStates.SHOWING && (this.currentTime += Time.deltaTime, this.currentTime > this.notificationDuration) ? (this.HideNotification(), this.currentPromo = this.GetNextPromo(), this.currentState = null != this.currentPromo ? PromotionsInOtherGamesNotification.NotificationStates.WAITING_BETWEEN_NOTIFICATIONS : PromotionsInOtherGamesNotification.NotificationStates.WAITING_BEFORE_NEXT_CYCLE, null != this.currentPromo ? this.currentState = PromotionsInOtherGamesNotification.NotificationStates.WAITING_BETWEEN_NOTIFICATIONS : (XT.SetBool(TournamentVars.DisplayingPromotionsInOtherGames, !1), this.EnableRankCycling(), PromotionsHelper.lastPromotionShownIndex = 0, this.cyclesBeforeDisabling--, 0 == this.cyclesBeforeDisabling ? this.currentState = PromotionsInOtherGamesNotification.NotificationStates.FINISHED : this.currentState = PromotionsInOtherGamesNotification.NotificationStates.WAITING_BEFORE_NEXT_CYCLE), void(this.currentTime = 0)) : this.currentState == PromotionsInOtherGamesNotification.NotificationStates.WAITING_BETWEEN_NOTIFICATIONS && (this.currentTime += Time.deltaTime, this.currentTime > this.notificationDuration) ? (this.ShowNotification(), this.currentState = PromotionsInOtherGamesNotification.NotificationStates.SHOWING, void(this.currentTime = 0)) : this.currentState == PromotionsInOtherGamesNotification.NotificationStates.WAITING_BEFORE_NEXT_CYCLE && (this.currentTime += Time.deltaTime, this.currentTime > this.delayAfterShowingFirstTime) ? (this.ResetCachedPromos(), this.currentPromo = this.GetNextPromo(), null != this.currentPromo ? (XT.SetBool(TournamentVars.DisplayingPromotionsInOtherGames, !0), this.ShowNotification(), this.currentState = PromotionsInOtherGamesNotification.NotificationStates.SHOWING) : this.currentState = PromotionsInOtherGamesNotification.NotificationStates.DISABLED, void(this.currentTime = 0)) : void 0
}, goog.require("UHT.XTLink"), PromotionStyleSwitcher.prototype = Object.create(XTLink.prototype), PromotionStyleSwitcher.prototype.constructor = PromotionStyleSwitcher, PromotionStyleSwitcher.I = null, PromotionStyleSwitcher.prototype.XTRegisterCallbacks = function () {
    this.switchesByRegion && XT.RegisterCallbackObject(TournamentVars.Tournaments, this.OnPromotions, this)
}, PromotionStyleSwitcher.prototype.OnPromotions = function (t) {
    if (null != t) {
        XT.UnregisterCallbackObject(this.OnPromotions, this, TournamentVars.Tournaments);
        for (var e = 0; e < t.length; ++e)
            if (t[e].displayStyle == TournamentProtocol.DisplayStyle.IDNSM || t[e].displayStyle == TournamentProtocol.DisplayStyle.IDNCSM || t[e].displayStyle == TournamentProtocol.DisplayStyle.DropsAndWins) return;
        this.SwitchByRegion()
    }
}, PromotionStyleSwitcher.prototype.SwitchByRegion = function () {
    var t = UHT_GAME_CONFIG_SRC.region;
    if (null != t) {
        var e = this.regions.indexOf(t);
        e > -1 && this.SwitchPromotionStyle(e)
    }
}, PromotionStyleSwitcher.prototype.SwitchByDisplayStyle = function (t) {
    var e = PromotionsHelper.FindPromotion(t);
    if (null != e) {
        var i = this.displayStyles.indexOf(e.displayStyle);
        i > -1 && this.SwitchPromotionStyle(i)
    }
}, PromotionStyleSwitcher.prototype.SwitchPromotionStyle = function (t) {
    this.CATLinks[t].Start();
    for (var e = 0; e < this.spriteColors.length; ++e)
        for (var i = this.spriteColors[e].colors[t], n = this.spriteColors[e].sprites, o = 0; o < n.length; ++o) n[o].color = i;
    for (e = 0; e < this.spriteNames.length; ++e) {
        var s = this.spriteNames[e].names[t];
        for (n = this.spriteNames[e].sprites, o = 0; o < n.length; ++o) n[o].SetSpriteName(s)
    }
    for (e = 0; e < this.buttonColors.length; ++e) {
        var a = this.buttonColors[e].normalColors[t],
            r = this.buttonColors[e].hoverColors[t],
            l = this.buttonColors[e].pressedColors[t],
            u = this.buttonColors[e].disabledColors[t],
            h = this.buttonColors[e].buttons,
            c = this.buttonColors[e].targets;
        for (o = 0; o < h.length; ++o) {
            var p = this.FindButtonByTarget(h[o], c[o]);
            p.color_normal = a, p.color_hover = r, p.color_pressed = l, p.color_disabled = u;
            var d = p.target;
            p.curState == UIButton.State.Hover ? d.color = r : p.curState == UIButton.State.Pressed ? d.color = l : p.curState == UIButton.State.Disabled ? d.color = u : d.color = a
        }
    }
}, PromotionStyleSwitcher.prototype.FindButtonByTarget = function (t, e) {
    for (var i = t.GetComponentsInChildren(UIButton, !0), n = 0; n < i.length; ++n)
        if (null != i[n].target && i[n].target.gameObject == e) return i[n];
    return null
}, goog.require("UHT.XTLink"), PromotionsWarning.prototype = Object.create(XTLink.prototype), PromotionsWarning.prototype.constructor = PromotionsWarning, PromotionsWarning.I = null, PromotionsWarning.formatOptions = new FormatOptions, PromotionsWarning.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(TournamentVars.TournamentDetails, this.OnTournamentDetailsUpdated, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged, this.OnBetChanged, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_UpdatePromotionWarning, this.OnBetChanged, this), this.handleMessage && (PromotionsWarning.I = this)
}, PromotionsWarning.prototype.OnTournamentDetailsUpdated = function (t) {
    this.details = t, this.OnBetChanged()
}, PromotionsWarning.prototype.OnBetChanged = function () {
    if (null != this.details) {
        var t = XT.GetDouble(Vars.TotalBetDisplayed);
        if (!isNaN(t)) {
            for (var e = -1, i = "", n = !1, o = 0; o < this.details.length; ++o) {
                var s = PromotionsHelper.FindPromotion(this.details[o].uid);
                if (null != s && s.clientMode == TournamentProtocol.ClientMode.Visible && s.status == TournamentProtocol.StatusCode.Open && PromotionsHelper.currentPromotionsUUID == this.details[o].uid && !s.isActiveInOtherGames) {
                    var a = null;
                    if (null != TournamentConnection.instance) {
                        var r = TournamentConnection.instance.FindPromoHolder(this.details[o].uid);
                        null != r && (a = r.score)
                    }
                    if (null != a && a.roundsOverLimit) n = !0, null != this.label && (this.label.text = PromotionsWarning.GetRoundLimitMessage(a.roundsLimitType));
                    else {
                        var l = null != this.details[o].prizePoolTotal ? this.details[o].prizePoolTotal : this.details[o].prizePool;
                        null != l && (e < 0 || e < l.minBetLimit) && (e = l.minBetLimit, i = s.name), (n = t < e) && (this.label.text = PromotionsWarning.GetMessage(e), this.promoTitleLabel.text = i)
                    }
                }
            }
            this.SetVisible(n)
        }
    }
}, PromotionsWarning.prototype.SetVisible = function (t) {
    this.isVisible != t && (this.isVisible = t)
}, PromotionsWarning.prototype.LateUpdate = function () {
    this.wasVisible != this.isVisible && (this.wasVisible = this.isVisible, this.show.IsRunning() && this.show.Stop(), this.hide.IsRunning() && this.hide.Stop(), (this.isVisible ? this.show : this.hide).Start())
}, PromotionsWarning.GetMessage = function (t) {
    return PromotionsWarning.I.labelLocalized.text.replace("{0}", LocaleManager.FormatValue(t, PromotionsWarning.formatOptions).replace(new RegExp(" ", "g"), " "))
}, PromotionsWarning.GetRoundLimitMessage = function (t) {
    var e = "";
    return t == TournamentProtocol.RoundsLimitType.Daily && (e = PromotionsWarning.I.labelDailyLocalized.text), t == TournamentProtocol.RoundsLimitType.Total && (e = PromotionsWarning.I.labelTotalLocalized.text), e
}, goog.provide("UHT.PromotionWarning"), goog.require("UHT.XTLink"), PromotionWarning.prototype = Object.create(XTLink.prototype), PromotionWarning.prototype.constructor = PromotionWarning, PromotionWarning.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged, this.OnBetChanged, this), XT.RegisterCallbackObject(TournamentVars.TournamentDetails, this.OnTournamentDetailsUpdated, this)
}, PromotionWarning.prototype.OnTournamentDetailsUpdated = function (t) {
    this.UpdatePromotion(this.uid)
}, PromotionWarning.prototype.UpdatePromotion = function (t) {
    if (this.uid = t, this.details = PromotionsHelper.FindDetails(this.uid), null != TournamentConnection.instance) {
        var e = TournamentConnection.instance.FindPromoHolder(t);
        null != e && (this.score = e.score)
    }
    this.OnBetChanged()
}, PromotionWarning.prototype.OnBetChanged = function () {
    if (null != this.details) {
        var t = XT.GetDouble(Vars.TotalBetDisplayed);
        if (!isNaN(t)) {
            var e = PromotionsHelper.FindPromotion(this.uid),
                i = null != e && e.clientMode == TournamentProtocol.ClientMode.Visible && e.status == TournamentProtocol.StatusCode.Open && !e.isActiveInOtherGames,
                n = -1,
                o = !1;
            if (i)
                if (null != this.score && this.score.roundsOverLimit) o = !0, null != this.label && (this.label.text = PromotionsWarning.GetRoundLimitMessage(this.score.roundsLimitType));
                else {
                    var s = null != this.details.prizePoolTotal ? this.details.prizePoolTotal : this.details.prizePool;
                    null != s && i && (n = s.minBetLimit), o = t < n, null != this.label && o && (this.label.text = PromotionsWarning.GetMessage(n))
                } this.SetVisible(o)
        }
    }
}, PromotionWarning.prototype.SetVisible = function (t) {
    this.isVisible != t && (this.isVisible = t, this.UpdateVisual(t))
}, PromotionWarning.prototype.UpdateVisual = function (t) {
    this.gameObject.SetActive(t)
}, goog.provide("UHT.PromotionWinningsActive"), goog.require("UHT.XTLink"), PromotionWinningsActive.prototype = Object.create(XTLink.prototype), PromotionWinningsActive.prototype.constructor = PromotionWinningsActive, PromotionWinningsActive.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated, this.OnTournamentsUpdated, this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.OnSelectedTournamentIDChanged, this)
}, PromotionWinningsActive.prototype.OnTournamentsUpdated = function () {
    this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))
}, PromotionWinningsActive.prototype.OnSelectedTournamentIDChanged = function (t) {
    var e = PromotionsHelper.FindPromotion(t);
    null != e && this.gameObject.SetActive(e.showWinnersList)
}, goog.require("UHT.PromotionWinningsActive"), PromotionWinningsActiveMini.prototype = Object.create(PromotionWinningsActive.prototype), PromotionWinningsActiveMini.prototype.constructor = PromotionWinningsActiveMini, PromotionWinningsActiveMini.prototype.OnSelectedTournamentIDChanged = function (t) {
    var e = PromotionsHelper.FindPromotion(t);
    if (null != e) {
        for (var i = e.showWinnersList, n = i ? this.positionWinners : this.positionNoWinners, o = 0; o < n.length; ++o) this.transforms[o].localPosition(n[o]);
        var s = i ? this.sizeWinners : this.sizeNoWinners;
        for (o = 0; o < s.length; ++o) this.colliders[o].size = s[o];
        for (o = 0; o < this.contentWinners.length; ++o) this.contentWinners[o].SetActive(i);
        for (o = 0; o < this.contentNoWinners.length; ++o) this.contentNoWinners[o].SetActive(!i)
    }
}, goog.require("UHT.Engine");
var ScrollableListUpdateMethod = {
    Update: 0,
    LateUpdate: 1
};

function ScrollableList() {
    Component.call(this), this.itemHeight = 0, this.mouseWheelItems = 0, this.useMouseWheel = !0, this.buttonItems = 0, this.items = null, this.itemValues = null, this.scrollbar = null, this.scrollbarThumb = null, this.clickThreshold = 0, this.clickEvents = null, this.hasExtraItem = !1, this.numberOfExtraItemsToAdd = 0, this.enabledContent = null, this.enabledContents = null, this.enabledColliders = null, this.hasInertia = !1, this.inertiaCurve = null, this.useMinValueReached = !1, this.minValueReached = null, this.minValueNotReached = null, this.strictMinValue = !1, this.minValueReachedIfEmpty = !1, this.useMaxValueReached = !1, this.maxValueReached = null, this.maxValueNotReached = null, this.strictMaxValue = !1, this.maxValueReachedIfEmpty = !1, this.buttonAnimator = null, this.updateOn = ScrollableListUpdateMethod.Update, this.scrollConfirmation = null, this.separateScrollConfirmation = !1, this.isSpringy = !1, this.springAnimator = null, this.springAmount = 0, this.minThumbHeightIsWidthX = 0, this.inertiaTime = 0, this.isInertia = !1, this.cachedCamera = null, this.wasPressed = !1, this.wasHover = !1, this.startMousePos = UHTMath.Vector3.zero, this.prevMousePos = UHTMath.Vector3.zero, this.firstItemPos = null, this.firstItemPosInited = !1, this.isEnabled = !1, this.scrollRemain = 0, this.wheelDelta = 0, this.scrollDelta = 0, this.scroll = 0, this.reachedMin = !1, this.reachedMinInit = !1, this.reachedMax = !1, this.reachedMaxInit = !1, this.enableFrame = -1, this.numberError = .001, this.thumbYMax = 0, this.thumbYMaxCurrent = 0, this.itemValuesSrc = null, this.shrinkAmount = 0, this.numItemsToShrink = 0
}

function registerScrollableListAsListener(t, e, i) {
    window.addEventListener(t, e, i)
}

function ScrollableListAnimator() {
    Component.call(this), this.target = null, this.animationCurve = null, this.animationTime = 0, this.isAccumulative = !1, this.isPlaying = !1, this.valueFrom = 0, this.valueTo = 0, this.currentTime = 0, this.currentValue = 0, this.totalTime = 0
}

function ScrollableListItem() {
    XTLink.call(this), this.valueIdx = -1, this.valueObj = null, this.needUpdate = !0
}

function LobbyGameButton() {
    ScrollableListItem.call(this), this.icon = null, this.altIcon = null, this.label = null, this.threshold = 0, this.confirmation = null, this.IDNSM = null, this.IDNCSM = null, this.dropsAndWins = null, this.gameData = null, this.cachedCamera = null, this.pressPos = null, this.dnwIconUpdated = !1
}

function LobbyGameButtons() {
    ScrollableListItem.call(this), this.animator = null, this.buttons = null
}

function MultiLobbyGameButton() {
    LobbyGameButton.call(this), this.slot = null, this.slotNew = null, this.slotHot = null, this.live = null, this.liveNew = null, this.liveIcon = null, this.liveName = null, this.liveDealer = null, this.liveNameDealerSpace = null, this.liveNameDealerSpaceMinWidth = 0, this.liveNameDealerAnchor = null, this.livePlayers = null, this.liveBetLimits = null, this.liveBetLimitsPlayersSpace = null, this.liveBetLimitsPlayersSpaceMinWidth = 0, this.liveBetLimitsPlayersAnchor = null, this.liveIDNSM = null, this.liveIDNCSM = null, this.liveDropsAndWins = null, this.widgetsMask = null, this.updateLiveOnEnable = !1, this.liveDnwIconUpdated = !1
}

function ReplayWinning() {
    ScrollableListItem.call(this), this.date = null, this.time = null, this.roundID = null, this.bet = null, this.betMultipliers = null, this.win = null, this.winLevels = null, this.odd = null, this.clickThreshold = 20, this.buttons = null, this.manager = null, this.round = null, this.cachedCamera = null, this.pressPos = null
}

function ReplaySelectedWinning() {
    ReplayWinning.call(this)
}

function PromotionRuleLine() {
    ScrollableListItem.call(this), this.labelsAnchor = null, this.unitId = 0, this.unitsPooler = null, this.units = [], this.posX = 0
}

function ScrollableListThumb() {
    Component.call(this), this.scrollableList = null, this.wasPressed = !1, this.prevMousePos = UHTMath.Vector3.zero
}

function ScrollConfirmation() {
    Component.call(this), this.numberError = .001
}

function LobbyScrollbarsController() {
    ScrollConfirmation.call(this), this.pageScrollbar = null, this.pageDrag = null, this.gamesScrollbar = null, this.games2PageProxy = null, this.featuredScrollbar = null, this.gameButtonsHolder = null, this.canScrollGamesNext = !1, this.canScrollPagePrevious = !1, this.gameButtons = null, this.gameButtonsCamera = null, this.gameButtonsLayerMask = null, this.featuredPressed = !1, this.featuredPressedFrame = -1, this.featuredReleasedFrame = -1, this.featuredMouse = null, this.featuredDeltas = [], this.featuredDeltasCount = 10, this.canScrollFeatured = !0
}

function SelectedPromotionWarning() {
    PromotionWarning.call(this), this.offset = null, this.staticContents = null, this.dynamicContents = null, this.warningContents = null, this.scrollables = null, this.needUpdate = !1, this.staticPos = null, this.dynamicPos = null
}

function Tournament() {
    ScrollableListItem.call(this), this.selectedContent = null, this.unselectedContent = null, this.nameLabel = null, this.nameLabels = null, this.statusLabel = null, this.statusLabels = null, this.localizedStartsInLabel_0 = null, this.localizedStartsInLabel_1 = null, this.localizedOpenLabel_0 = null, this.localizedOpenLabel_1 = null, this.localizedCloseLabel = null, this.localizedDayLabel_0 = null, this.localizedDayLabel_1 = null, this.localizedDaysLabel_0 = null, this.localizedDaysLabel_1 = null, this.localizedHourLabel_0 = null, this.localizedHourLabel_1 = null, this.localizedHoursLabel_0 = null, this.localizedHoursLabel_1 = null, this.localizedMinuteLabel_0 = null, this.localizedMinuteLabel_1 = null, this.localizedMinutesLabel_0 = null, this.localizedMinutesLabel_1 = null, this.localizedSecondLabel_0 = null, this.localizedSecondLabel_1 = null, this.localizedSecondsLabel_0 = null, this.localizedSecondsLabel_1 = null, this.localizedLineBreakLabel_0 = null, this.localizedLineBreakLabel_1 = null, this.localizedRaceOpenLabel_0 = null, this.localizedRaceOpenLabel_1 = null, this.shortFormat = !1, this.contentSwitcher = null, this.maxDaysDisplayedInShortFormat = 99999, this.localizedWholeWordDaysLabel_0, this.localizedWholeWordDaysLabel_1, this.showRank = !1, this.rankLabels = null, this.rankedContent = null, this.notRankedContent = null, this.showTimeInStatus = !0, this.capitalizeStatus = !1, this.formatStatus = !1, this.statusFormatStartsSoon = "", this.statusFormatOpen = "", this.statusFormatClosed = "", this.clockDisplayer = null, this.warning = null, this.IDNSM = null, this.IDNCSM = null, this.IDNEX = null, this.IDNVIP = null, this.KPLY = null, this.IDNSME = null, this.IDNSSM = null, this.dropsAndWins = null, this.dropsAndWinsIcon = null, this.useCampaignEndDate = !1, this.tournamentData = null, this.dnwIconUpdated = !1
}

function TournamentAnnouncementDisplayer() {
    AnnouncementDisplayer.call(this), this.normal, this.IDNSM, this.IDNCSM, this.dropsAndWins, this.IDNEX, this.IDNVIP, this.KPLY, this.IDNSME, this.IDNSSM
}

function TournamentButton() {
    Tournament.call(this), this.manager = null, this.buttonEnabler = null, this.root = null, this.threshold = 20, this.isActiveInOtherGames, this.cachedCamera = null, this.pressPos = null
}

function TournamentClock() {
    Component.call(this), this.content = null, this.days = null, this.hours = null, this.minutes = null, this.seconds = null
}

function TournamentDetails() {
    XTLink.call(this), this.scrollableList = null, this.details = null, this.mustUpdateDetails = !1
}

function PromotionPrizePoolTypeLabels() {
    this.prizesTypes = null, this.labels = null
}

function PromotionPrizePoolTypeMLAnchorLabels() {
    this.anchor = null, this.labels = null
}

function PromoTypePrizePoolTypeContents() {
    this.promoTypes = null, this.prizesTypes = null, this.contents = null
}

function PromotionPrizePoolTypeSwitcher() {
    TournamentDetails.call(this), this.anchorLabelsByPrizesType = null, this.contentsByPromotionPrizesType = null
}

function TournamentDisplayer() {
    Tournament.call(this)
}

function DisplayStyleAwareContent() {
    XTLink.call(this), this.displayStyles, this.CATLinks
}

function DropsAndWinsRegionAwareContent() {
    XTLink.call(this), this.toEnable, this.toDisable
}

function SelectedTournament() {
    TournamentDisplayer.call(this)
}

function TournamentLeaderboard() {
    XTLink.call(this), this.scrollableList = null, this.isExpanded = !1, this.canScrollToPlayer = !1, this.uid = "", this.firstUID = [], this.firstIndex = []
}

function TournamentLeaderboardItem() {
    ScrollableListItem.call(this), this.placeLabel = null, this.playerLabel = null, this.scoreLabel = null, this.colorYou = null, this.colorNotYou = null, this.useColor = !1, this.localizedYouLabel = null, this.oddContents = null, this.capitalizeYou = !1, this.youContent = null, this.formatYou = !1, this.youFormat = "", this.replaceAsterisksInPlayerID = !0, this.playerIDAsteriskReplacement = "", this.alternativeText = "", this.countryFlag = null, this.countryFlagPlayerOffset = 0, this.countryFlagPlayerLabel = null, this.countryFlagPlayerScoreSpacing = 0, this.scoreWidth = -1, this.playerWidth = -1, this.playerLocalPos = null
}

function TournamentLeaderboardItemPlayer() {
    XTLink.call(this), this.placeLabel = null, this.scoreLabel = null, this.alternativeText = ""
}

function TournamentNoPrizeItemAGBM() {
    TournamentLeaderboardItem.call(this), this.defaultColor = null, this.noPrizeColorNotYou = null, this.prizeContent = null, this.noPrizeContent = null
}

function TournamentLeaderboardItemAGBM() {
    TournamentNoPrizeItemAGBM.call(this), this.prizeLabel = null, this.localizedFreeRoundsLabel_0, this.localizedFreeRoundsLabel_1, this.localizedSecondsOfTimedFreeRoundsLabel_0, this.localizedSecondsOfTimedFreeRoundsLabel_1
}

function TournamentPrize() {
    ScrollableListItem.call(this), this.currency = "", this.placeLabel = null, this.prizeLabel = null, this.localizedToLabel_0 = null, this.localizedToLabel_1 = null, this.localizedToLabel_2 = null, this.localizedFreeRoundsLabel_0, this.localizedFreeRoundsLabel_1, this.localizedSecondsOfTimedFreeRoundsLabel_0, this.localizedSecondsOfTimedFreeRoundsLabel_1, this.localizedFreeBonusFeatureLabel, this.oddContents = null, this.currentContent = null
}

function PrizeDropPrizeAGBM() {
    TournamentPrize.call(this), this.prizesTotalLabel = null
}

function TournamentPrizeAGBM() {
    TournamentNoPrizeItemAGBM.call(this), this.betLabel = null, this.localizedFreeRoundsLabel_0, this.localizedFreeRoundsLabel_1, this.localizedSecondsOfTimedFreeRoundsLabel_0, this.localizedSecondsOfTimedFreeRoundsLabel_1, this.leaderboardItem = null
}

function PrizeDropWinner() {
    TournamentPrizeAGBM.call(this), this.defaultContent = null, this.titleContent = null, this.titleLabel = null, this.localizedTitleLabel_0 = null, this.localizedTitleLabel_1 = null, this.betWidth = -1
}

function TournamentPrizes() {
    TournamentDetails.call(this), this.prizes = null, this.contents = null, this.alternativeContents = null, this.hasAlternativeContents = !1
}

function TournamentRules() {
    TournamentDetails.call(this), this.maxNumberOfLinesFirstUpdate = 0, this.maxNumberOfLinesPerUpdate = 0, this.maxLabelWidth = 0, this.sampleLabel = null, this.isManual = !1, this.tournamentID = "", this.tournamentIDs = [], this.tournamentRules = [], this.tournamentRulesIndices = [], this.needUpdate = !1, this.isTournamentsVisible = !1, this.isRulesVisible = !0, this.isFirstUpdate = !1, this.isManualUpdate = !1, this.useHtmlRulesForOptIn = !1
}

function TournamentRulesItem() {
    ScrollableListItem.call(this), this.label = null
}

function TournamentsManager() {
    XTLink.call(this), this.scrollableList = null, this.tournaments = null, this.catEnableTournaments = null, this.catDisableTournaments = null, this.catShowTournaments = null, this.catHideTournaments = null, this.catShowDetails = null, this.catHideDetails = null, this.catDisableHiddenMode = null, this.catTournamentClicked = null, this.showOnlyDetailsIfOneTournament = !1, this.catShowTournamentDetails = null, this.catHideTournamentDetails = null, this.serverTime = 0, this.isEnabled = !0, this.isVisible = !1, this.isHiddenMode = !0, this.enableBtnTimer = 0, this.enableBtnClickedTimes = 0, this.visibleTournamentsCount = 0, this.useDefaultViewCats = !1, this.catDefaultViewSingle = null, this.catDefaultViewMultiple = null, this.defaultViewType = null, this.catDefaultViewByType = null
}

function TournamentsRank() {
    XTLink.call(this), this.labels = null, this.labelsPrevious = null, this.catShowRank = null, this.catHideRank = null, this.catShowEndDate = null, this.tournament = null, this.contentSwitcher = null, this.rankUp = null, this.rankDown = null, this.prizeWon = null, this.startRotation = null, this.stopRotation = null, this.promotionTypeChanged = null, this.enabledContents = null, this.isRankVisible = !0, this.isEndDateVisible = !1, this.infoPrev = null, this.prizeCountPrev = -1, this.promoTypes = [TournamentProtocol.PromoType.Race, TournamentProtocol.PromoType.Tournament], this.isRotating = !1, this.isEnabled = !1, this.shouldAdvance = !0
}

function ActivatorByIndex() {
    Component.call(this), this.objects = null
}

function CameraClippingEnabler() {
    Component.call(this)
}

function ColliderProxy() {
    Component.call(this), this.boxColliders = [], this.sphereColliders = [], this.eventPress = null, this.eventRelease = null, this.eventClick = null, this.eventHoverOn = null, this.eventHoverOff = null, this.notifyPress = !0, this.notifyRelease = !0, this.notifyClick = !0, this.notifyHoverOn = !0, this.notifyHoverOff = !0, this.notifyOnDisable = !0, this.wasHover = !1, this.wasPressed = !1
}

function AnimClipChanger() {
    Component.call(this)
}

function ButtonEnabler() {
    Component.call(this), this.target = null, this.uibuttons = [], this.isInit = !1
}

function ColliderEnabler() {
    Component.call(this), this.includeChildren = !1, this.enable = null, this.disable = null
}

function MoveTransformToTarget() {
    Component.call(this), this.movingTransform = null, this.target = null, this.moveDuration = 1, this.alsoScaleToTarget = !1, this.resetAtTheEnd = !1, this.resetStopsMovement = !1, this.useTimeChannel = !1, this.timeChannelID = 0, this.speedCurve = null, this.moving = !1, this.myTimeChannel = null, this.currentTime = 0, this.totalCurveTime = 0, this.startPosition = UHTMath.Vector3.zero, this.resetPosition = UHTMath.Vector3.zero, this.startScale = UHTMath.Vector3.zero, this.resetScale = UHTMath.Vector3.zero
}

function MC_SerializeHelper() {
    this.id = [], this.cachedTex = []
}

function MovieController() {
    Component.call(this), this.FPS = 10, this.startFrame = 0, this.loop = !0, this.playAutomatically = !0, this.pausedUntilReady = !1, this.resetOnEnable = !1, this.deltaMovie = !0, this.deltaIsOpaque = !1, this.superTrimPlayInReverse = !1, this.callback = null, this.fallback = null, this.isPlaying = !1, this.canStartCallback = !0, this.atlases = [], this.frames = -1, this.numberOfPieces = [], this.atlasIdxPerFramePerPiece = [], this.color = null, this.width = 0, this.height = 0, this.currentFrame = 0, this.time = 0, this.frameBuffer = null, this.oldFrame = -1, this.panel = null, this.pixiObject = new PIXI.Container(null), this.pixiObjectContent = null, this.movieWidth = -1, this.movieHeight = -1, this.isInit = !1, this.blendSteps = 1, this.currentSubFrame = 0, this.oldSubFrame = 0
}

function MultipleParticlesEnabler() {
    Component.call(this), this.particlesGenerators = null, this.generateParticlesOnStart = !1
}

function ParticlesControlledActive() {
    Component.call(this), this.particles = null, this.objects = null, this.wasEnabled = !1
}

function ParticlesEnabler() {
    Component.call(this), this.particles = null, this.pEnabled = !1, this.disableIfNoEmission = !1
}

function ResultDisplayerDelayer() {
    XTLink.call(this), this.symbolsDelays = [], this.rq = null, this.rm = null, this.fastStop = !1
}

function SymbolDelay() {
    this.symbolId = 0, this.reelDelay = [], this.affectedReels = []
}
ScrollableList.prototype = Object.create(Component.prototype), ScrollableList.prototype.constructor = ScrollableList, ScrollableList.prototype.scriptUpdatePriority = 6, ScrollableList.prototype.Awake = function () {
    var t = this,
        e = function (e) {
            return t.OnMouseWheel(e)
        };
    registerScrollableListAsListener("mousewheel", e, {
        passive: !1
    }), registerScrollableListAsListener("DOMMouseScroll", e, {
        passive: !1
    })
}, ScrollableList.prototype.OnMouseWheel = function (t) {
    t.preventDefault(), this.isEnabled && this.wasHover && (!Globals.InputBlocked || null != this.cachedCamera && this.cachedCamera.ignoreInputBlocked) && (this.wheelDelta = t.wheelDelta ? -t.wheelDelta : t.detail, this.wheelDelta = UHTMath.clamp(this.wheelDelta, -1, 1), this.scrollDelta = 0)
}, ScrollableList.prototype.CachedCamera = function () {
    return null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject)), this.cachedCamera
}, ScrollableList.prototype.OnDisable = function () {
    this.wasPressed && this.OnPress(!1)
}, ScrollableList.prototype.OnHover = function (t) {
    this.wasHover = t, this.wasPressed && !t && this.OnPress(!1)
}, ScrollableList.prototype.OnPress = function (t) {
    if (this.wasPressed = t, this.hasInertia || (this.scrollRemain = 0), t) return this.StopSpring(), this.StopInertia(), void(this.startMousePos = this.prevMousePos = this.gameObject.transform.inverseTransformPoint(this.CachedCamera().ScreenToWorldPoint(Input.mousePosition)));
    if (this.isEnabled && this.hasInertia && 0 != this.scrollDelta && (this.inertiaTime = 0, this.isInertia = !0), this.UpdateItems(this.items[0].valueIdx), 0 != this.clickEvents.length) {
        var e = this.gameObject.transform.inverseTransformPoint(this.CachedCamera().ScreenToWorldPoint(Input.mousePosition)),
            i = UHTMath.Vector3.sub(e, this.startMousePos);
        if (!(Math.abs(i.y) > this.clickThreshold)) {
            this.firstItemPosInited || (this.firstItemPosInited = !0, this.firstItemPos = this.gameObject.transform.inverseTransformPoint(this.items[0].gameObject.transform.position()));
            for (var n = -1, o = 0; o < this.items.length; ++o) {
                var s = this.firstItemPos.y - this.itemHeight * o;
                if (e.y <= s && e.y > s - this.itemHeight) {
                    n = o;
                    break
                }
            }
            if (!(n < 0)) {
                var a = String(n);
                for (o = 0; o < this.clickEvents.length; ++o) this.clickEvents[o].useParam && (this.clickEvents[o].paramString = a), MessageSender.SendMessage(this.clickEvents[o])
            }
        }
    }
}, ScrollableList.prototype.InternalUpdate = function () {
    if (this.isEnabled) {
        var t = !1;
        if (this.wasHover && 0 != this.wheelDelta && (this.useMouseWheel && this.ScrollItems(this.wheelDelta * this.mouseWheelItems * this.itemHeight, !0), this.wheelDelta = 0, t = !0), this.wasPressed) {
            var e = this.gameObject.transform.inverseTransformPoint(this.CachedCamera().ScreenToWorldPoint(Input.mousePosition)),
                i = UHTMath.Vector3.sub(e, this.prevMousePos);
            this.prevMousePos = e, 0 != i.y && this.ScrollItems(i.y)
        } else if (!t && this.isInertia) {
            var n = this.inertiaCurve.Evaluate(this.inertiaTime) * this.scrollDelta;
            (Math.abs(n) < .001 || this.inertiaTime > this.inertiaCurve.keys[this.inertiaCurve.keys.length - 1].time) && (this.isInertia = !1, this.scrollDelta = 0), this.ScrollItems(n), this.inertiaTime += Time.deltaTime
        }
    }
}, ScrollableList.prototype.Update = function () {
    this.updateOn == ScrollableListUpdateMethod.Update && this.InternalUpdate()
}, ScrollableList.prototype.LateUpdate = function () {
    if (this.updateOn == ScrollableListUpdateMethod.LateUpdate && this.InternalUpdate(), this.useMinValueReached) {
        var t = 0 == this.items[0].valueIdx && (!this.strictMinValue || Math.abs(this.scrollRemain) < this.numberError);
        this.minValueReachedIfEmpty && 0 == this.itemValues.length && (t = !0), t == this.reachedMin && this.reachedMinInit || (this.reachedMin = t, this.StartCATLink(this.reachedMin ? this.minValueReached : this.minValueNotReached)), this.reachedMinInit = !0
    }
    if (this.useMaxValueReached) {
        var e = this.items[0].valueIdx + this.items.length == this.itemValues.length && (!this.strictMaxValue || Math.abs(this.scrollRemain) < this.numberError);
        this.maxValueReachedIfEmpty && 0 == this.itemValues.length && (e = !0), e == this.reachedMax && this.reachedMaxInit || (this.reachedMax = e, this.StartCATLink(this.reachedMax ? this.maxValueReached : this.maxValueNotReached)), this.reachedMaxInit = !0
    }
    if (this.CanSpring()) {
        t = 0 == this.items[0].valueIdx, e = this.items[0].valueIdx + this.items.length == this.itemValues.length;
        (t || e) && Math.abs(this.scrollRemain) < this.springAmount && this.Spring(t ? 1 : -1)
    }
}, ScrollableList.prototype.ScrollItems = function (t, e) {
    if (this.CanScroll(t)) {
        1 != e && (this.scrollDelta = t), this.scrollRemain += t, (0 == this.items[0].valueIdx && this.scrollRemain < 0 || this.items[0].valueIdx + this.items.length == this.itemValues.length && this.scrollRemain > 0) && (this.scrollRemain = 0);
        var i = Math.round(this.scrollRemain / this.itemHeight);
        if (this.scrollRemain -= i * this.itemHeight, i < 0)
            for (var n = 0; n < Math.abs(i); ++n) {
                (o = this.items[0].valueIdx - 1) >= 0 && (this.items[this.items.length - 1].UpdateIndexAndValue(o, this.itemValues[o]), this.items.unshift(this.items[this.items.length - 1]), this.items.pop())
            } else if (i > 0)
                for (n = 0; n < i; ++n) {
                    var o;
                    (o = this.items[this.items.length - 1].valueIdx + 1) < this.itemValues.length && (this.items[0].UpdateIndexAndValue(o, this.itemValues[o]), this.items.push(this.items[0]), this.items.shift())
                }
        this.UpdateItems(this.items[0].valueIdx)
    } else this.scrollDelta = 0
}, ScrollableList.prototype.UpdateItems = function (t) {
    t < 0 && (t = 0);
    for (var e = -this.itemHeight * (this.items.length - 1), i = 0; i < this.items.length; ++i) {
        var n = t + i;
        n < this.itemValues.length ? this.items[i].UpdateIndexAndValue(n, this.itemValues[n]) : this.items[i].UpdateIndexAndValue(n, null);
        var o = i * -this.itemHeight + (this.isEnabled ? this.scrollRemain : 0);
        this.items[i].gameObject.transform.localPosition(new UHTMath.Vector3(0, o, 0)), this.items[i].SetVisible(o > e)
    }
    if (this.isEnabled) {
        var s = this.hasInertia ? this.scrollRemain / this.itemHeight : 0,
            a = this.scrollbar.height * (t + s) / (this.itemValues.length - 1);
        this.scroll = a / this.thumbYMax, a = UHTMath.lerp(0, this.thumbYMaxCurrent, this.scroll), this.scrollbarThumb.gameObject.transform.localPosition(new UHTMath.Vector3(0, -a, 0))
    }
}, ScrollableList.prototype.InternalSetValues = function (t) {
    if (null != t && t.length > 0) {
        if (this.itemValuesSrc = t, this.itemValues = t.slice(), null != this.itemValues[this.itemValues.length - 1]) {
            this.itemValues.push(null), this.hasExtraItem && this.itemValues.unshift(null);
            for (var e = 0; e < this.numberOfExtraItemsToAdd; ++e) this.itemValues.push(null);
            for (e = 0; e < this.numItemsToShrink; ++e) this.itemValues.push(null)
        }
        this.isEnabled = this.items.length < this.itemValues.length
    } else this.itemValues = [], this.isEnabled = !1;
    if (this.isEnabled) {
        var i = Math.floor(this.scrollbar.height * (this.items.length - 1) / (this.itemValues.length - 1));
        this.thumbYMax = this.scrollbar.height - i;
        var n = Math.floor(this.scrollbarThumb.width * this.minThumbHeightIsWidthX);
        i = Math.max(i, n), this.scrollbarThumb.height = i, this.thumbYMaxCurrent = this.scrollbar.height - i
    }
    if (this.scrollbar.gameObject.SetActive(this.isEnabled), this.scrollbarThumb.gameObject.SetActive(this.isEnabled), null != this.enabledContent && this.enabledContent.SetActive(this.isEnabled), null != this.enabledContents)
        for (e = 0; e < this.enabledContents.length; ++e) this.enabledContents[e].SetActive(this.isEnabled);
    if (null != this.enabledColliders)
        for (e = 0; e < this.enabledColliders.length; ++e) this.enabledColliders[e].enabled = this.isEnabled
}, ScrollableList.prototype.SetValues = function (t, e) {
    null == e && (e = !0), this.InternalSetValues(t), e && this.UpdateItems(0)
}, ScrollableList.prototype.UpdateValues = function (t) {
    this.InternalSetValues(t), this.UpdateItems(this.items[0].valueIdx)
}, ScrollableList.prototype.UpdateValuesAndIndex = function (t, e, i) {
    null == i && (i = !1), i || this.InternalSetValues(t), this.UpdateItems(e)
}, ScrollableList.prototype.isScrollable = function () {
    return this.isEnabled
}, ScrollableList.prototype.ThumbDragged = function (t) {
    this.ScrollItems(-t / this.scrollbar.height * this.itemHeight * (this.itemValues.length - 1))
}, ScrollableList.prototype.BarClicked = function () {
    var t = this.scrollbarThumb.gameObject.transform.parent.inverseTransformPoint(this.CachedCamera().ScreenToWorldPoint(Input.mousePosition)),
        e = this.scrollbarThumb.gameObject.transform.localPosition();
    this.ScrollItems(this.itemHeight * (this.items.length - 1) * (t.y < e.y ? 1 : -1))
}, ScrollableList.prototype.ButtonClicked = function (t) {
    this.ButtonClickedInternal(t * this.buttonItems * this.itemHeight)
}, ScrollableList.prototype.ButtonClickedPrevious = function () {
    this.ButtonClicked(-1)
}, ScrollableList.prototype.ButtonClickedNext = function () {
    this.ButtonClicked(1)
}, ScrollableList.prototype.CanScroll = function (t) {
    return null == this.scrollConfirmation || (this.separateScrollConfirmation ? t > 0 ? this.scrollConfirmation.CanScrollNext() : this.scrollConfirmation.CanScrollPrevious() : this.scrollConfirmation.CanScroll())
}, ScrollableList.prototype.StartCATLink = function (t) {
    null != t && null != t.cat && t.Start()
}, ScrollableList.prototype.StopInertia = function () {
    this.isInertia = !1, this.scrollDelta = 0
}, ScrollableList.prototype.CanSpring = function () {
    return this.isSpringy && this.isEnabled && !this.wasPressed && !this.springAnimator.isPlaying
}, ScrollableList.prototype.Spring = function (t) {
    this.StopInertia();
    var e = (this.springAmount - Math.abs(this.scrollRemain)) * t;
    this.enableFrame == Time.frameCount ? this.ScrollItems(e) : this.springAnimator.Play(e)
}, ScrollableList.prototype.StopSpring = function () {
    this.isSpringy && this.springAnimator.Stop()
}, ScrollableList.prototype.OnEnable = function () {
    this.enableFrame = Time.frameCount
}, ScrollableList.prototype.ButtonClickedInternal = function (t) {
    null != this.buttonAnimator ? this.buttonAnimator.Play(t) : this.ScrollItems(t, !0)
}, ScrollableList.prototype.ButtonClickedFirst = function () {
    this.ButtonClickedInternal(-(this.items[0].valueIdx * this.itemHeight + this.scrollRemain))
}, ScrollableList.prototype.ButtonClickedLast = function () {
    this.ButtonClickedInternal((this.itemValues.length - 1 - this.items[0].valueIdx) * this.itemHeight + this.scrollRemain)
}, ScrollableList.prototype.Shrink = function (t, e) {
    var i = this.transform.parent.inverseTransformVector(e),
        n = this.scrollbar.transform.parent.inverseTransformVector(e);
    t ? (this.shrinkAmount -= i.y, this.scrollbar.height += Math.round(n.y)) : (this.shrinkAmount += i.y, this.scrollbar.height -= Math.round(n.y)), this.numItemsToShrink = Math.ceil(this.shrinkAmount / this.itemHeight), null != this.itemValuesSrc && (this.InternalSetValues(this.itemValuesSrc), t ? this.ScrollItems(-i.y, !0) : this.ScrollItems(i.y, !0))
}, goog.require("UHT.Engine"), ScrollableListAnimator.prototype = Object.create(Component.prototype), ScrollableListAnimator.prototype.constructor = ScrollableListAnimator, ScrollableListAnimator.prototype.Play = function (t) {
    if (this.isAccumulative && this.isPlaying) {
        var e = this.valueTo;
        this.valueTo += t, this.valueFrom = this.currentValue - (this.currentValue - this.valueFrom) * (this.valueTo - this.currentValue) / (e - this.currentValue);
        var i = this.totalTime;
        this.totalTime += this.animationTime, this.currentTime *= this.totalTime / i
    } else this.totalTime = this.animationTime, this.currentTime = 0, this.valueFrom = this.currentValue = 0, this.valueTo = t;
    this.isPlaying = !0
}, ScrollableListAnimator.prototype.Stop = function () {
    this.isPlaying = !1
}, ScrollableListAnimator.prototype.Update = function () {
    if (this.isPlaying) {
        var t = UHTMath.clamp(this.currentTime / this.totalTime, 0, 1);
        t *= this.animationCurve.keys[this.animationCurve.keys.length - 1].time;
        var e = UHTMath.lerp(this.valueFrom, this.valueTo, this.animationCurve.Evaluate(t));
        this.target.ScrollItems(e - this.currentValue, !0), this.currentTime >= this.totalTime && (this.isPlaying = !1), this.currentValue = e, this.currentTime += Time.deltaTime
    }
}, goog.provide("UHT.ScrollableListItem"), goog.require("UHT.XTLink"), ScrollableListItem.prototype = Object.create(XTLink.prototype), ScrollableListItem.prototype.constructor = ScrollableListItem, ScrollableListItem.prototype.UpdateIndexAndValue = function (t, e) {
    this.valueIdx = t, (this.needUpdate || this.valueObj != e) && (this.valueObj = e, this.needUpdate = !1, this.UpdateValue(e))
}, ScrollableListItem.prototype.UpdateValue = function (t) {}, ScrollableListItem.prototype.SetVisible = function (t) {}, goog.provide("UHT.LobbyGameButton"), goog.require("UHT.ScrollableListItem"), LobbyGameButton.prototype = Object.create(ScrollableListItem.prototype), LobbyGameButton.prototype.constructor = LobbyGameButton, LobbyGameButton.confirmationButton = null, LobbyGameButton.dnwSpriteName = "", LobbyGameButton.GetDNWinsSpriteName = function () {
    var t = "drop_win_lobby";
    if (null == UHT_GAME_CONFIG_SRC.region || "Asia" != UHT_GAME_CONFIG_SRC.region) return t;
    t += "_as";
    var e = ServerOptions.language;
    return "zh" != e && "zt" != e || (t += "_zh_zt"), t
}, LobbyGameButton.GetDropsAndWinsSpriteName = function () {
    return _string.IsNullOrEmpty(LobbyGameButton.dnwSpriteName) && (LobbyGameButton.dnwSpriteName = LobbyGameButton.GetDNWinsSpriteName()), LobbyGameButton.dnwSpriteName
}, LobbyGameButton.prototype.XTRegisterCallbacks = function () {
    ScrollableListItem.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(LobbyVars.Evt_Internal_LobbyGameButton_ConfirmationButtonChanged, this.OnConfirmationButtonChanged, this)
}, LobbyGameButton.prototype.OnConfirmationButtonChanged = function () {
    LobbyGameButton.confirmationButton != this && this.OnHover(!1)
}, LobbyGameButton.prototype.UpdateValue = function (t) {
    if (this.gameData = t, this.gameObject.SetActive(null != t), null != t) {
        if (null != t.atlas && (this.icon.atlas = t.atlas, this.icon.SetSpriteName(t.uid)), this.icon.gameObject.SetActive(null != t.atlas), this.altIcon.SetActive(null == t.atlas), this.label.text = t.name, null != this.dropsAndWins && (this.dropsAndWins.SetActive(t.displayStyle == TournamentProtocol.DisplayStyle.DropsAndWins), !this.dnwIconUpdated)) {
            this.dnwIconUpdated = !0;
            var e = this.dropsAndWins.GetComponent(UISprite);
            null != e && e.SetSpriteName(LobbyGameButton.GetDropsAndWinsSpriteName())
        }
        null != this.IDNSM && this.IDNSM.SetActive(t.displayStyle == TournamentProtocol.DisplayStyle.IDNSM), null != this.IDNCSM && this.IDNCSM.SetActive(t.displayStyle == TournamentProtocol.DisplayStyle.IDNCSM)
    }
}, LobbyGameButton.prototype.OnPress = function (t) {
    null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
    var e = this.cachedCamera.gameObject.transform.inverseTransformPoint(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition));
    if (t) this.pressPos = e;
    else {
        var i = UHTMath.Vector3.sub(e, this.pressPos);
        if (!(Math.abs(i.x) > this.threshold || Math.abs(i.y) > this.threshold)) {
            if (null != this.confirmation && !this.confirmation.activeSelf) return this.confirmation.SetActive(!0), LobbyGameButton.confirmationButton = this, void XT.TriggerEvent(LobbyVars.Evt_Internal_LobbyGameButton_ConfirmationButtonChanged);
            this instanceof MultiLobbyGameButton ? "" != this.gameData.symbol ? globalTracking.SendEvent("uht_behaviour", "OpenedFromMultiLobby_" + this.gameData.symbol, 0 | Time.time, "BehaviourTracker") : globalTracking.SendEvent("uht_behaviour", "OpenedFromMultiLobby_LC_" + this.gameData.casinoId, 0 | Time.time, "BehaviourTracker") : globalTracking.SendEvent("uht_behaviour", "OpenedFromLobby_" + this.gameData.symbol, 0 | Time.time, "BehaviourTracker");
            var n = document.getElementsByTagName("canvas")[0];
            null != n && (n.style.display = "none"), null != createjs.WebAudioSoundInstance && null != createjs.WebAudioSoundInstance.context && createjs.WebAudioSoundInstance.context.suspend(), this.StartGame(this.gameData)
        }
    }
}, LobbyGameButton.prototype.StartGame = function (t) {
    location.assign(t.launchURL)
}, LobbyGameButton.TrackLobbyOpenedSent = !1, LobbyGameButton.prototype.OnEnable = function () {
    LobbyGameButton.TrackLobbyOpenedSent || globalTracking.SendEvent("uht_behaviour", "Lobby_opened", 0 | Time.time, "BehaviourTracker"), LobbyGameButton.TrackLobbyOpenedSent = !0
}, LobbyGameButton.prototype.OnHover = function (t) {
    !t && null != this.confirmation && this.confirmation.activeSelf && this.confirmation.SetActive(!1)
}, LobbyGameButton.prototype.OnDisable = function () {
    this.OnHover(!1)
}, goog.require("UHT.ScrollableListItem"), LobbyGameButtons.prototype = Object.create(ScrollableListItem.prototype), LobbyGameButtons.prototype.constructor = LobbyGameButtons, LobbyGameButtons.prototype.UpdateValue = function (t) {
    var e = 0;
    if (null != t) {
        for (e = 0; e < t.length; ++e) this.buttons[e].UpdateValue(t[e]);
        this.animator.Sample(t.length / this.buttons.length)
    }
    for (; e < this.buttons.length; ++e) this.buttons[e].UpdateValue(null)
}, goog.require("UHT.LobbyGameButton"), MultiLobbyGameButton.prototype = Object.create(LobbyGameButton.prototype), MultiLobbyGameButton.prototype.constructor = MultiLobbyGameButton, MultiLobbyGameButton.liveBetLimitsSeparator = " - ", MultiLobbyGameButton.livePlayersSeparator = "/", MultiLobbyGameButton.dgaTables = null, MultiLobbyGameButton.GetDgaTable = function (t) {
    var e = MultiLobbyGameButton.dgaTables;
    if (null == e && (e = MultiLobbyGameButton.dgaTables = XT.GetObject(MultiLobbyVars.MultiLobby_LiveCasinoGames)), null != e)
        for (var i = 0; i < e.length; ++i)
            if (e[i].tableId == t) return e[i];
    return null
}, MultiLobbyGameButton.FormatValueTrimZeroDecimals = function (t, e) {
    var i = LocaleManager.FormatValueWithCustomCurrency(t, e),
        n = LocaleManager.currencyInfo;
    null != LocaleManager.customCurrencyInfo[e] && (n = LocaleManager.customCurrencyInfo[e]);
    var o = n.CurrencyDecimalDigits,
        s = n.CurrencyDecimalSeparator,
        a = s.length,
        r = i.substr(i.indexOf(s), o + a),
        l = _string.TrimEnd(r, "0");
    return l.length == a && (l = ""), i.replace(r, l)
}, MultiLobbyGameButton.prototype.UpdateValue = function (t) {
    if (LobbyGameButton.prototype.UpdateValue.call(this, t), null != t) {
        var e = t.vendorType == LobbyVendorType.LiveCasino;
        this.slot.SetActive(!e), this.live.SetActive(e), e ? this.UpdateLive(t) : (this.slotNew.SetActive(MultiLobbyConnection.IsNewSlot(t.uid) && t.displayStyle == TournamentProtocol.DisplayStyle.Default), this.slotHot.SetActive(MultiLobbyConnection.IsHotSlot(t.uid)), this.UpdateWidgetsMask())
    }
}, MultiLobbyGameButton.prototype.UpdateLive = function (t) {
    if (this.updateLiveOnEnable = !this.gameObject.activeInHierarchy, !this.updateLiveOnEnable) {
        var e = MultiLobbyGameButton.GetDgaTable(t.id);
        if (null != e) {
            var i = e.tableLimits;
            if (null != i) {
                var n = e.currency,
                    o = MultiLobbyGameButton.FormatValueTrimZeroDecimals(i.minBet, n),
                    s = MultiLobbyGameButton.FormatValueTrimZeroDecimals(i.maxBet, n);
                this.liveBetLimits.text = o + MultiLobbyGameButton.liveBetLimitsSeparator + s
            }
            var a = e.totalSeatedPlayers.toString();
            e.totalSeats > 0 && (a += MultiLobbyGameButton.livePlayersSeparator + e.totalSeats.toString()), null != t.atlas && (this.liveIcon.atlas = t.atlas, this.liveIcon.SetSpriteName(t.uid)), this.liveIcon.gameObject.SetActive(null != t.atlas), this.liveName.text = e.tableName, this.livePlayers.text = a, this.liveNew.SetActive(e.newTable && t.displayStyle == TournamentProtocol.DisplayStyle.Default), this.liveDealer.text = null == e.dealer ? "" : e.dealer.name;
            var r = this.liveNameDealerAnchor.maxWidth - this.liveName.GetWidth() - this.liveDealer.GetWidth();
            if (this.liveNameDealerSpace.SetWidth(r > this.liveNameDealerSpaceMinWidth ? r : this.liveNameDealerSpaceMinWidth), r = this.liveBetLimitsPlayersAnchor.maxWidth - this.liveBetLimits.GetWidth() - this.livePlayers.GetWidth(), this.liveBetLimitsPlayersSpace.SetWidth(r > this.liveBetLimitsPlayersSpaceMinWidth ? r : this.liveBetLimitsPlayersSpaceMinWidth), null != this.liveDropsAndWins && (this.liveDropsAndWins.SetActive(t.displayStyle == TournamentProtocol.DisplayStyle.DropsAndWins), !this.liveDnwIconUpdated)) {
                this.liveDnwIconUpdated = !0;
                var l = this.liveDropsAndWins.GetComponent(UISprite);
                null != l && l.SetSpriteName(LobbyGameButton.GetDropsAndWinsSpriteName())
            }
            null != this.liveIDNSM && this.liveIDNSM.SetActive(t.displayStyle == TournamentProtocol.DisplayStyle.IDNSM), null != this.liveIDNCSM && this.liveIDNCSM.SetActive(t.displayStyle == TournamentProtocol.DisplayStyle.IDNCSM), this.UpdateWidgetsMask()
        }
    }
}, MultiLobbyGameButton.TrackLobbyOpenedSent = !1, MultiLobbyGameButton.prototype.OnEnable = function () {
    MultiLobbyGameButton.TrackLobbyOpenedSent || globalTracking.SendEvent("uht_behaviour", "MultiLobby_opened", 0 | Time.time, "BehaviourTracker"), MultiLobbyGameButton.TrackLobbyOpenedSent = !0, this.updateLiveOnEnable && (this.updateLiveOnEnable = !1, this.UpdateLive(this.gameData))
}, MultiLobbyGameButton.prototype.UpdateWidgetsMask = function () {
    null != this.widgetsMask && this.widgetsMask.ForceNextUpdate()
}, goog.provide("UHT.ReplayWinning"), goog.require("UHT.ScrollableListItem"), ReplayWinning.prototype = Object.create(ScrollableListItem.prototype), ReplayWinning.prototype.constructor = ReplayWinning, ReplayWinning.prototype.Start = function () {
    for (var t = 0; t < this.buttons.length; ++t) this.buttons[t].winning = this
}, ReplayWinning.prototype.UpdateValue = function (t) {
    if (this.round = t, this.gameObject.SetActive(null != this.round), null != this.round) {
        for (var e = 0, i = 0; i < this.manager.winSteps.length; i++) this.round.rtp >= this.manager.winSteps[i] && (e = i);
        for (i = 0; i < this.winLevels.length; i++) this.winLevels[i].SetActive(i == e);
        null != this.win && this.win.SetValueManually(this.round.win);
        var n = this.manager.betFormat.replace("{0}", Math.floor(this.round.rtp).toString());
        for (i = 0; i < this.betMultipliers.length; ++i) this.betMultipliers[i].text = n;
        var o = new Date(this.round.playedDate);
        null != this.date && (this.date.text = DateTime.ToString(o, this.manager.dateFormat)), null != this.time && (this.time.text = DateTime.ToString(o, this.manager.timeFormat)), null != this.odd && this.odd.SetActive(this.valueIdx % 2 == 1), null != this.bet && this.bet.SetValueManually(this.round.bet), null != this.roundID && (this.roundID.text = this.round.roundID.toString());
        for (i = 0; i < this.buttons.length; ++i) this.buttons[i].UpdateValue(this.round)
    }
}, ReplayWinning.prototype.OnPress = function (t) {
    null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
    var e = this.cachedCamera.transform.inverseTransformPoint(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition));
    if (t) this.pressPos = e;
    else {
        var i = UHTMath.Vector3.sub(e, this.pressPos);
        Math.abs(i.y) > this.clickThreshold || (XT.SetObject(ReplayVars.Replay_SelectedRound, this.round), XT.TriggerEvent(ReplayVars.Evt_CodeToData_Replay_OpenSelectedRound))
    }
}, goog.require("UHT.ReplayWinning"), ReplaySelectedWinning.prototype = Object.create(ReplayWinning.prototype), ReplaySelectedWinning.prototype.constructor = ReplaySelectedWinning, ReplaySelectedWinning.prototype.XTRegisterCallbacks = function () {
    ReplayWinning.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackObject(ReplayVars.Replay_SelectedRound, this.UpdateValue, this)
}, goog.require("UHT.ScrollableListItem"), PromotionRuleLine.prototype = Object.create(ScrollableListItem.prototype), PromotionRuleLine.prototype.constructor = PromotionRuleLine, PromotionRuleLine.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(TournamentVars.PromotionRuleUnitsPooler, this.OnPromotionRuleUnitsPooler, this)
}, PromotionRuleLine.prototype.OnPromotionRuleUnitsPooler = function (t) {
    this.unitsPooler = t
}, PromotionRuleLine.prototype.UpdateValue = function (t) {
    if (this.gameObject.SetActive(null != t), null != t) {
        var e = t,
            i = this.units.length;
        this.RecycleUnits(this.units.length - e.units.length);
        for (var n = 0; n < this.units.length; ++n) this.units[n].UpdateValue(e.units[n]);
        for (n = this.units.length; n < e.units.length; ++n) this.units.push(this.unitsPooler.GetObject(this.unitId, this.gameObject)), this.units[n].UpdateValue(e.units[n]), this.labelsAnchor.labels = this.labelsAnchor.labels.concat(this.units[n].labels);
        i != this.units.length && this.labelsAnchor.DiscardCache(), this.labelsAnchor.ForceNextUpdate(), this.labelsAnchor.Update(), this.posX = e.isArab ? e.maxWidth - this.labelsAnchor.width : 0
    } else this.RecycleUnits(this.units.length)
}, PromotionRuleLine.prototype.SetVisible = function (t) {
    for (var e = 0; e < this.units.length; ++e) this.units[e].isVisible = t;
    var i = this.transform.localPosition();
    this.transform.localPosition(new UHTMath.Vector3(this.posX, i.y, i.z))
}, PromotionRuleLine.prototype.RecycleUnits = function (t) {
    if (!(t < 0)) {
        for (var e = 0; e < t; ++e) this.unitsPooler.RecycleObject(this.units[e]), this.labelsAnchor.labels.splice(0, this.units[e].labels.length);
        var i = [];
        for (e = t; e < this.units.length; ++e) i.push(this.units[e]);
        this.units = i
    }
}, goog.require("UHT.Engine"), ScrollableListThumb.prototype = Object.create(Component.prototype), ScrollableListThumb.prototype.constructor = ScrollableListThumb, ScrollableListThumb.prototype.OnHover = function (t) {
    this.wasPressed && !t && this.OnPress(!1)
}, ScrollableListThumb.prototype.OnPress = function (t) {
    this.wasPressed = t, t && (this.prevMousePos = this.scrollableList.scrollbar.transform.inverseTransformPoint(this.scrollableList.CachedCamera().ScreenToWorldPoint(Input.mousePosition)))
}, ScrollableListThumb.prototype.Update = function () {
    if (this.wasPressed) {
        var t = this.scrollableList.scrollbar.transform.inverseTransformPoint(this.scrollableList.CachedCamera().ScreenToWorldPoint(Input.mousePosition)),
            e = UHTMath.Vector3.sub(t, this.prevMousePos);
        this.prevMousePos = t, 0 != e.y && this.scrollableList.ThumbDragged(e.y)
    }
}, goog.provide("UHT.ScrollConfirmation"), goog.require("UHT.Engine"), ScrollConfirmation.prototype = Object.create(Component.prototype), ScrollConfirmation.prototype.constructor = ScrollConfirmation, ScrollConfirmation.prototype.CanScroll = function () {
    return !0
}, ScrollConfirmation.prototype.CanScrollPrevious = function () {
    return this.CanScroll()
}, ScrollConfirmation.prototype.CanScrollNext = function () {
    return this.CanScroll()
}, ScrollConfirmation.prototype.VectorsEqual = function (t, e) {
    return Math.abs(t.x - e.x) < this.numberError && Math.abs(t.y - e.y) < this.numberError && Math.abs(t.z - e.z) < this.numberError
}, goog.require("UHT.ScrollConfirmation"), LobbyScrollbarsController.prototype = Object.create(ScrollConfirmation.prototype), LobbyScrollbarsController.prototype.constructor = LobbyScrollbarsController, LobbyScrollbarsController.prototype.scriptUpdatePriority = 4, LobbyScrollbarsController.prototype.CanScroll = function () {
    return this.canScrollFeatured
}, LobbyScrollbarsController.prototype.CanScrollNext = function () {
    return this.canScrollGamesNext
}, LobbyScrollbarsController.prototype.Update = function () {
    var t = this.VectorsEqual(this.pageDrag.target.localPosition(), this.pageDrag.localPositionLimitMax);
    if (this.canScrollGamesNext != t && (this.canScrollGamesNext = t, t && this.pageScrollbar.isInertia && (this.gamesScrollbar.isInertia = !0, this.gamesScrollbar.inertiaTime = this.pageScrollbar.inertiaTime, this.gamesScrollbar.scrollDelta = UHTMath.Vector3.scale(UHTMath.Vector3.sub(this.pageScrollbar.simpleLocalPositionLimitMax, this.pageScrollbar.simpleLocalPositionLimitMin), this.pageScrollbar.scrollDelta).y)), this.canScrollGamesNext && (t = this.gamesScrollbar.reachedMin, this.canScrollPagePrevious != t && (this.canScrollPagePrevious = t, this.pageDrag.gameObject.SetActive(t), t && (this.games2PageProxy.NotifyIfHovered(), this.games2PageProxy.NotifyIfPressed(), this.gamesScrollbar.isInertia && (this.pageScrollbar.isInertia = !0, this.pageScrollbar.inertiaTime = this.gamesScrollbar.inertiaTime, this.pageScrollbar.scrollDelta = this.gamesScrollbar.scrollDelta / (this.pageScrollbar.simpleLocalPositionLimitMax.y - this.pageScrollbar.simpleLocalPositionLimitMin.y))))), this.featuredPressed) {
        var e = UHTMath.Vector3.sub(Input.mousePosition, this.featuredMouse);
        this.featuredMouse = Input.mousePosition, this.featuredDeltas.push(new UHTMath.Vector3(Math.abs(e.x), Math.abs(e.y), 0)), this.featuredDeltas.length > this.featuredDeltasCount && this.featuredDeltas.splice(0, 1);
        for (var i = new UHTMath.Vector3(0, 0, 0), n = 0; n < this.featuredDeltas.length; ++n) i.add(this.featuredDeltas[n]);
        i.x != i.y && (this.canScrollFeatured = i.x > i.y), this.pageDrag.movement = new UHTMath.Vector3(0, this.canScrollFeatured ? 0 : 1, 0)
    }
    var o = !1;
    !this.featuredPressed && this.featuredPressedFrame > this.featuredReleasedFrame && (this.featuredPressed = !0, this.featuredMouse = Input.mousePosition, o = !0), this.featuredPressed && this.featuredPressedFrame < this.featuredReleasedFrame && (this.featuredPressed = !1, this.featuredDeltas.splice(0), o = !0), o && (this.canScrollFeatured = !0, this.pageDrag.movement = new UHTMath.Vector3(0, 1, 0))
}, LobbyScrollbarsController.prototype.FeaturedColliderPressed = function () {
    this.featuredScrollbar.isEnabled && (this.featuredPressedFrame = Time.frameCount)
}, LobbyScrollbarsController.prototype.FeaturedColliderReleased = function () {
    this.featuredScrollbar.isEnabled && (this.featuredReleasedFrame = Time.frameCount)
}, LobbyScrollbarsController.prototype.UpdateGameButtonHover = function () {
    null == this.gameButtons && (this.gameButtons = this.gameButtonsHolder.GetComponentsInChildren(LobbyGameButton, !0), this.gameButtonsCamera = Globals.GetCameraForObject(this.gameButtons[0].gameObject), this.gameButtonsLayerMask = new LayerMask, this.gameButtonsLayerMask.mask = 1 << this.gameButtons[0].gameObject.layer);
    for (var t = globalColliderInputManager.getHoveredCollider(this.gameButtonsCamera.ScreenToWorldPoint(Input.mousePosition), this.gameButtonsLayerMask), e = 0; e < this.gameButtons.length; ++e) t != this.gameButtons[e].gameObject.collider && this.gameButtons[e].OnHover(!1)
}, goog.require("UHT.PromotionWarning"), SelectedPromotionWarning.prototype = Object.create(PromotionWarning.prototype), SelectedPromotionWarning.prototype.constructor = SelectedPromotionWarning, SelectedPromotionWarning.prototype.XTRegisterCallbacks = function () {
    PromotionWarning.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.UpdatePromotion, this)
}, SelectedPromotionWarning.prototype.UpdateVisual = function (t) {
    this.needUpdate = !0
}, SelectedPromotionWarning.prototype.LateUpdate = function () {
    if (this.needUpdate) {
        if (this.needUpdate = !1, null == this.staticPos) {
            this.staticPos = [], this.dynamicPos = [];
            for (var t = 0; t < this.dynamicContents.length; ++t) this.dynamicPos[t] = this.dynamicContents[t].localPosition()
        }
        for (t = 0; t < this.staticContents.length; ++t) this.staticPos[t] = this.staticContents[t].position();
        var e = this.transform.parent.transformVector(this.offset);
        for (t = 0; t < this.dynamicContents.length; ++t) {
            var i = this.isVisible ? this.dynamicContents[t].parent.inverseTransformVector(e) : UHTMath.Vector3.zero;
            this.dynamicContents[t].localPosition(UHTMath.Vector3.add(this.dynamicPos[t], i))
        }
        for (t = 0; t < this.staticContents.length; ++t) this.staticContents[t].position(this.staticPos[t]);
        for (t = 0; t < this.warningContents.length; ++t) this.warningContents[t].SetActive(this.isVisible);
        for (t = 0; t < this.scrollables.length; ++t) this.scrollables[t].Shrink(this.isVisible, e)
    }
}, goog.provide("UHT.Tournament"), goog.require("UHT.ScrollableListItem"), Tournament.prototype = Object.create(ScrollableListItem.prototype), Tournament.prototype.constructor = Tournament, Tournament.DHMS = function (t) {
    this.d = Math.floor(t / 86400), t %= 86400, this.h = Math.floor(t / 3600), t %= 3600, this.m = Math.floor(t / 60), this.s = t % 60
}, Tournament.prototype.UpdateValue = function (t) {
    if (this.gameObject.SetActive(null != t), this.tournamentData = t, null != this.tournamentData) {
        if (this.nameLabel.text = this.tournamentData.name, null != this.nameLabels)
            for (var e = 0; e < this.nameLabels.length; ++e) this.nameLabels[e].text = this.tournamentData.name;
        this.UpdateTournamentStatus(), this.UpdateSelectedTournamentID(XT.GetString(TournamentVars.SelectedTournamentID)), null != this.warning && this.warning.UpdatePromotion(this.tournamentData.uid), null != this.dropsAndWins && (this.dropsAndWins.SetActive(this.tournamentData.displayStyle == TournamentProtocol.DisplayStyle.DropsAndWins), this.dnwIconUpdated || (this.dnwIconUpdated = !0, this.dropsAndWinsIcon.SetSpriteName(Tournament.GetDropsAndWinsSpriteName()))), null != this.IDNSM && this.IDNSM.SetActive(this.tournamentData.displayStyle == TournamentProtocol.DisplayStyle.IDNSM), null != this.IDNCSM && this.IDNCSM.SetActive(this.tournamentData.displayStyle == TournamentProtocol.DisplayStyle.IDNCSM), null != this.IDNEX && this.IDNEX.SetActive(this.tournamentData.displayStyle == TournamentProtocol.DisplayStyle.IDNEX), null != this.IDNVIP && this.IDNVIP.SetActive(this.tournamentData.displayStyle == TournamentProtocol.DisplayStyle.IDNVIP), null != this.KPLY && this.KPLY.SetActive(this.tournamentData.displayStyle == TournamentProtocol.DisplayStyle.KPLY), null != this.IDNSME && this.IDNSME.SetActive(this.tournamentData.displayStyle == TournamentProtocol.DisplayStyle.IDNSME), null != this.IDNSSM && this.IDNSSM.SetActive(this.tournamentData.displayStyle == TournamentProtocol.DisplayStyle.IDNSSM)
    }
}, Tournament.prototype.SetVisible = function (t) {
    null != this.tournamentData && this.gameObject.SetActive(t)
}, Tournament.prototype.UpdateSelectedTournamentID = function (t) {
    null != this.tournamentData && (this.selectedContent.SetActive(t == this.tournamentData.uid), null != this.unselectedContent && this.unselectedContent.SetActive(t != this.tournamentData.uid))
}, Tournament.prototype.UpdateTournamentStatus = function () {
    if (null != this.tournamentData) {
        var t = this.tournamentData.status,
            e = 0;
        if (t == TournamentProtocol.StatusCode.StartsSoon)(e = this.tournamentData.startDate - XT.GetInt(TournamentVars.ServerTime)) <= 0 && (t = TournamentProtocol.StatusCode.Open);
        else if (this.tournamentData.status == TournamentProtocol.StatusCode.Open) {
            var i = 0;
            this.useCampaignEndDate && (i = this.tournamentData.campaignEndDate), 0 == i && (i = this.tournamentData.endDate), (e = i - XT.GetInt(TournamentVars.ServerTime)) <= 0 && (t = TournamentProtocol.StatusCode.Closed, XT.SetString(TournamentVars.ClosedByTimePromotionUID, this.tournamentData.uid), XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionClosedByTime))
        }
        var n = "",
            o = new Tournament.DHMS(e);
        if (t == TournamentProtocol.StatusCode.StartsSoon) this.statusLabel.text = this.ProcessText(this.localizedStartsInLabel_0.text + this.SecondsToString(o) + this.localizedStartsInLabel_1.text);
        else if (t == TournamentProtocol.StatusCode.Open) {
            var s = PromotionsHelper.FindDetails(this.tournamentData.uid),
                a = null != s && null != s.prizePool;
            this.tournamentData.type == TournamentProtocol.PromoType.Race && a && !this.shortFormat ? this.statusLabel.text = this.ProcessText(this.localizedRaceOpenLabel_0.text + this.SecondsToString(o) + this.localizedRaceOpenLabel_1.text).replace("{0}", String(s.prizePool.totalCount)) : this.statusLabel.text = this.ProcessText(this.localizedOpenLabel_0.text + this.SecondsToString(o) + this.localizedOpenLabel_1.text), this.showRank && this.tournamentData.type == TournamentProtocol.PromoType.Race && a && s.prizePool.totalCount > 0 && (n = String(s.prizePool.totalCount))
        } else t == TournamentProtocol.StatusCode.Closed && (this.statusLabel.text = this.localizedCloseLabel.text);
        if (this.statusLabel.text = this.ProcessStatusText(t, this.statusLabel.text), null != this.statusLabels)
            for (var r = 0; r < this.statusLabels.length; ++r) this.statusLabels[r].text = this.statusLabel.text;
        if (this.showRank) {
            if (this.tournamentData.type == TournamentProtocol.PromoType.Tournament) {
                var l = PromotionsHelper.FindLeaderboard(this.tournamentData.uid);
                null != l && l.playerIndex > -1 && (n = String(l.playerPosition))
            }
            for (r = 0; r < this.rankLabels.length; ++r) this.rankLabels[r].text = n;
            var u = !_string.IsNullOrEmpty(n);
            this.rankedContent.SetActive(u), this.notRankedContent.SetActive(!u)
        }
        this.contentSwitcher.SwitchByStatus(t), this.contentSwitcher.SwitchByType(this.tournamentData.type), this.contentSwitcher.SwitchByStyle(this.tournamentData.clientStyle), null != this.clockDisplayer && this.clockDisplayer.UpdateValue(t != TournamentProtocol.StatusCode.Closed, o), this.tournamentData.status = t
    }
}, Tournament.prototype.Update = function () {
    this.UpdateTournamentStatus()
}, Tournament.prototype.SecondsToString = function (t) {
    var e = "";
    if (!this.showTimeInStatus) return e;
    var i = t.d,
        n = t.h,
        o = t.m,
        s = t.s;
    if (1 == i ? e += this.localizedDayLabel_0.text + String(i) + this.localizedDayLabel_1.text : i > 1 && (e += this.localizedDaysLabel_0.text + String(i) + this.localizedDaysLabel_1.text), i > this.maxDaysDisplayedInShortFormat) return e = this.localizedWholeWordDaysLabel_0.text + String(i) + this.localizedWholeWordDaysLabel_1.text, this.localizedLineBreakLabel_0.text + e + this.localizedLineBreakLabel_1.text;
    1 == n ? e += this.localizedHourLabel_0.text + String(n) + this.localizedHourLabel_1.text : (i > 0 || n > 1) && (e += this.localizedHoursLabel_0.text + String(n) + this.localizedHoursLabel_1.text);
    var a = !this.shortFormat || 0 == i;
    return a && (1 == o ? e += this.localizedMinuteLabel_0.text + String(o) + this.localizedMinuteLabel_1.text : (i > 0 || n > 0 || o > 1) && (e += this.localizedMinutesLabel_0.text + String(o) + this.localizedMinutesLabel_1.text)), (a = !this.shortFormat || 0 == i && 0 == n) && 0 == i && (1 == s ? e += this.localizedSecondLabel_0.text + String(s) + this.localizedSecondLabel_1.text : (i > 0 || n > 0 || o > 0 || s > 1) && (e += this.localizedSecondsLabel_0.text + String(s) + this.localizedSecondsLabel_1.text)), this.localizedLineBreakLabel_0.text + e + this.localizedLineBreakLabel_1.text
}, Tournament.prototype.ProcessText = function (t) {
    for (var e = t.split("\n"), i = 0; i < e.length; ++i) e[i] = e[i].replace(/\s\s/g, " "), e[i] = _string.Trim(e[i]);
    return e.join("\n")
}, Tournament.prototype.ProcessStatusText = function (t, e) {
    return this.capitalizeStatus && (e = e.toUpperCase()), this.formatStatus && (e = this.GetStatusFormat(t).replace("{0}", e)), e
}, Tournament.prototype.GetStatusFormat = function (t) {
    return t == TournamentProtocol.StatusCode.StartsSoon ? this.statusFormatStartsSoon : t == TournamentProtocol.StatusCode.Open ? this.statusFormatOpen : this.statusFormatClosed
}, Tournament.dnwSpriteName = "", Tournament.GetDNWinsSpriteName = function () {
    var t = "drop_win_promo";
    if (null == UHT_GAME_CONFIG_SRC.region || "Asia" != UHT_GAME_CONFIG_SRC.region) return t;
    t += "_as";
    var e = ServerOptions.language;
    return "zh" != e && "zt" != e || (t += "_zh_zt"), t
}, Tournament.GetDropsAndWinsSpriteName = function () {
    return _string.IsNullOrEmpty(Tournament.dnwSpriteName) && (Tournament.dnwSpriteName = Tournament.GetDNWinsSpriteName()), Tournament.dnwSpriteName
}, goog.require("UHT.AnnouncementDisplayer"), TournamentAnnouncementDisplayer.prototype = Object.create(AnnouncementDisplayer.prototype), TournamentAnnouncementDisplayer.prototype.constructor = TournamentAnnouncementDisplayer, TournamentAnnouncementDisplayer.prototype.OnShowAnnouncement = function () {
    var t = XT.GetObject(AnnouncementVars.Announcement);
    if (this.type == t.type) {
        XT.TriggerEvent(AnnouncementVars.Evt_Internal_AnnouncementHandled), null != this.normal && this.normal.Start();
        var e = t.message,
            i = "#DDW#";
        e.indexOf(i) > -1 && (e = e.replace(i, ""), null != this.dropsAndWins && this.dropsAndWins.Start()), i = "#IDNSM#", e.indexOf(i) > -1 && (e = e.replace(i, ""), null != this.IDNSM && this.IDNSM.Start()), i = "#IDNCSM#", e.indexOf(i) > -1 && (e = e.replace(i, ""), null != this.IDNCSM && this.IDNCSM.Start()), i = "#IDNEX#", e.indexOf(i) > -1 && (e = e.replace(i, ""), null != this.IDNEX && this.IDNEX.Start()), i = "#IDNVIP#", e.indexOf(i) > -1 && (e = e.replace(i, ""), null != this.IDNVIP && this.IDNVIP.Start()), i = "#KPLY#", e.indexOf(i) > -1 && (e = e.replace(i, ""), null != this.KPLY && this.KPLY.Start()), i = "#IDNSME#", e.indexOf(i) > -1 && (e = e.replace(i, ""), null != this.IDNSME && this.IDNSME.Start()), i = "#IDNSSM#", e.indexOf(i) > -1 && (e = e.replace(i, ""), null != this.IDNSSM && this.IDNSSM.Start());
        for (var n = 0; n < this.message.length; n++) this.message[n].text = e;
        this.show.Start()
    }
}, goog.require("UHT.Tournament"), TournamentButton.prototype = Object.create(Tournament.prototype), TournamentButton.prototype.constructor = TournamentButton, TournamentButton.prototype.OnPress = function (t) {
    null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
    var e = this.root.inverseTransformPoint(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition));
    if (t) this.pressPos = e;
    else {
        var i = UHTMath.Vector3.sub(e, this.pressPos);
        if (!(Math.abs(i.y) > this.threshold)) {
            var n = this.manager.scrollableList.items.indexOf(this);
            this.manager.OnScrollableListItemClicked(String(n))
        }
    }
}, TournamentButton.prototype.UpdateSelectedTournamentID = function (t) {
    Tournament.prototype.UpdateSelectedTournamentID.call(this, t), null != this.tournamentData && (null != this.isActiveInOtherGames && this.isActiveInOtherGames.SetActive(this.tournamentData.isActiveInOtherGames), t != this.tournamentData.uid ? this.buttonEnabler.EnableButton() : this.buttonEnabler.DisableButton())
}, goog.require("UHT.Engine"), TournamentClock.prototype = Object.create(Component.prototype), TournamentClock.prototype.constructor = TournamentClock, TournamentClock.prototype.UpdateValue = function (t, e) {
    this.content.SetActive(t), t && (this.days.text = this.FormatValue(e.d), this.hours.text = this.FormatValue(e.h), this.minutes.text = this.FormatValue(e.m), this.seconds.text = this.FormatValue(e.s))
}, TournamentClock.prototype.FormatValue = function (t) {
    var e = String(t);
    return e.length < 2 && (e = "0" + e), e
}, goog.provide("UHT.TournamentDetails"), goog.require("UHT.XTLink"), TournamentDetails.prototype = Object.create(XTLink.prototype), TournamentDetails.prototype.constructor = TournamentDetails, TournamentDetails.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(TournamentVars.TournamentDetails, this.OnTournamentDetailsUpdatedInternal, this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.OnSelectedTournamentIDChangedInternal, this)
}, TournamentDetails.prototype.OnTournamentDetailsUpdatedInternal = function (t) {
    this.details = t, this.OnTournamentDetailsUpdated(), this.mustUpdateDetails && (this.mustUpdateDetails = !1, this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID)))
}, TournamentDetails.prototype.OnSelectedTournamentIDChangedInternal = function (t) {
    var e = PromotionsHelper.FindDetails(t);
    this.mustUpdateDetails = null == e, this.OnSelectedTournamentIDChanged(t)
}, TournamentDetails.prototype.OnTournamentDetailsUpdated = function () {}, TournamentDetails.prototype.OnSelectedTournamentIDChanged = function (t) {}, goog.require("UHT.TournamentDetails"), PromotionPrizePoolTypeSwitcher.prototype = Object.create(TournamentDetails.prototype), PromotionPrizePoolTypeSwitcher.prototype.constructor = PromotionPrizePoolTypeSwitcher, PromotionPrizePoolTypeSwitcher.prototype.OnTournamentDetailsUpdated = function () {
    this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))
}, PromotionPrizePoolTypeSwitcher.prototype.OnSelectedTournamentIDChanged = function (t) {
    var e = PromotionsHelper.FindPromotion(t);
    if (null != e) {
        for (var i = 0; i < this.anchorLabelsByPrizesType.length; ++i)
            for (var n = this.anchorLabelsByPrizesType[i].anchor, o = this.anchorLabelsByPrizesType[i].labels, s = 0; s < o.length; ++s) o[s].prizesTypes.indexOf(e.prizesType) > -1 && (n.labels = o[s].labels, n.DiscardCache());
        for (i = 0; i < this.contentsByPromotionPrizesType.length; ++i) {
            var a = this.contentsByPromotionPrizesType[i].promoTypes,
                r = this.contentsByPromotionPrizesType[i].prizesTypes,
                l = this.contentsByPromotionPrizesType[i].contents,
                u = a.indexOf(e.type) > -1 && r.indexOf(e.prizesType) > -1;
            for (s = 0; s < l.length; ++s) l[s].SetActive(u)
        }
    }
}, goog.provide("UHT.TournamentDisplayer"), goog.require("UHT.Tournament"), TournamentDisplayer.prototype = Object.create(Tournament.prototype), TournamentDisplayer.prototype.constructor = TournamentDisplayer, TournamentDisplayer.prototype.UpdateTournament = function (t) {
    var e = PromotionsHelper.FindPromotion(t);
    null != e && (XT.SetInt(TournamentVars.CurrentPromotionDisplayStyle, e.displayStyle), XT.SetString(TournamentVars.CurrentPromotionName, e.name)), this.UpdateValue(e)
}, goog.require("UHT.TournamentDisplayer"), DisplayStyleAwareContent.prototype = Object.create(XTLink.prototype), DisplayStyleAwareContent.prototype.constructor = DisplayStyleAwareContent, DisplayStyleAwareContent.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackInt(TournamentVars.CurrentPromotionDisplayStyle, this.OnDisplayStyleChanged, this)
}, DisplayStyleAwareContent.prototype.OnDisplayStyleChanged = function (t) {
    var e = this.displayStyles.indexOf(t);
    e > -1 && this.CATLinks[e].Start()
}, goog.require("UHT.TournamentDisplayer"), DropsAndWinsRegionAwareContent.prototype = Object.create(XTLink.prototype), DropsAndWinsRegionAwareContent.prototype.constructor = DropsAndWinsRegionAwareContent, DropsAndWinsRegionAwareContent.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, DropsAndWinsRegionAwareContent.prototype.OnGameInit = function () {
    var t = "region";
    if (UHT_GAME_CONFIG_SRC[t] && "Asia" == UHT_GAME_CONFIG_SRC[t]) {
        for (var e = 0; e < this.toEnable.length; e++) this.toEnable[e].SetActive(!0);
        for (e = 0; e < this.toDisable.length; e++) this.toDisable[e].SetActive(!1)
    }
}, goog.require("UHT.TournamentDisplayer"), SelectedTournament.prototype = Object.create(TournamentDisplayer.prototype), SelectedTournament.prototype.constructor = SelectedTournament, SelectedTournament.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(TournamentVars.Tournaments, this.OnTournamentsUpdated, this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.UpdateTournament, this)
}, SelectedTournament.prototype.OnTournamentsUpdated = function (t) {
    this.UpdateTournament(XT.GetString(TournamentVars.SelectedTournamentID))
}, goog.require("UHT.XTLink"), TournamentLeaderboard.prototype = Object.create(XTLink.prototype), TournamentLeaderboard.prototype.constructor = TournamentLeaderboard, TournamentLeaderboard.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_LeaderboardsReloaded, this.OnLeaderboardsReloaded, this), XT.RegisterCallbackObject(TournamentVars.TournamentLeaderboards, this.OnTournamentLeaderboardsUpdated, this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.OnSelectedTournamentIDChanged, this)
}, TournamentLeaderboard.prototype.OnLeaderboardsReloaded = function () {
    this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))
}, TournamentLeaderboard.prototype.OnTournamentLeaderboardsUpdated = function (t) {
    this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))
}, TournamentLeaderboard.prototype.OnSelectedTournamentIDChanged = function (t) {
    var e = PromotionsHelper.FindLeaderboard(t, this.isExpanded);
    if (PromotionsHelper.CanUseLeaderboard(t) ? XT.TriggerEvent(TournamentVars.Evt_CodeToData_HideWheelOfPatience) : (e = null, XT.TriggerEvent(TournamentVars.Evt_CodeToData_ShowWheelOfPatience)), null == e || null == e.items) this.scrollableList.SetValues(null);
    else {
        this.scrollableList.SetValues(e.items.slice(), !1);
        var i = this.firstUID.indexOf(this.uid);
        i > -1 && (this.firstIndex[i] = this.scrollableList.items[0].valueIdx), this.uid = t, (i = this.firstUID.indexOf(this.uid)) < 0 && (this.firstUID.push(this.uid), this.firstIndex.push(0), i = this.firstUID.length - 1);
        var n = this.firstIndex[i];
        if (this.canScrollToPlayer && this.scrollableList.isScrollable()) {
            n = 0;
            for (var o = 0; o < e.items.length; ++o)
                if (e.items[o].isPlayer) {
                    n = o;
                    break
                } var s = n + (this.scrollableList.items.length - 1),
                a = this.scrollableList.itemValues.length - 1;
            n -= s > a ? s - a : 0, 0 != this.scrollableList.scrollRemain && this.scrollableList.ScrollItems(-this.scrollableList.scrollRemain, !0)
        }
        this.scrollableList.UpdateValuesAndIndex(null, n, !0)
    }
}, TournamentLeaderboard.prototype.ScrollToPlayer = function () {
    this.canScrollToPlayer = !0, this.OnTournamentLeaderboardsUpdated(XT.GetObject(TournamentVars.TournamentLeaderboards)), this.canScrollToPlayer = !1
}, goog.provide("UHT.TournamentLeaderboardItem"), goog.require("UHT.ScrollableListItem"), TournamentLeaderboardItem.prototype = Object.create(ScrollableListItem.prototype), TournamentLeaderboardItem.prototype.constructor = TournamentLeaderboardItem, TournamentLeaderboardItem.multiplierFormat = "x {0}", TournamentLeaderboardItem.defaultCountryID = "zz", TournamentLeaderboardItem.prototype.UpdateValue = function (t) {
    if (this.gameObject.SetActive(null != t), null != t) {
        var e = t.isPlayer,
            i = e ? this.colorYou : this.colorNotYou;
        if (this.placeLabel.text = String(t.position), this.scoreLabel.text = PromotionsHelper.FormatScore(t.score, t.leaderboard), this.playerLabel.text = e ? this.localizedYouLabel.text : String(t.playerID), this.useColor && (this.placeLabel.SetColor(i), this.scoreLabel.SetColor(i), this.playerLabel.SetColor(i)), null != this.oddContents && this.oddContents.SetActive(this.valueIdx % 2 == 1), null != this.youContent && this.youContent.SetActive(e), e ? (this.capitalizeYou && (this.playerLabel.text = this.playerLabel.text.toUpperCase()), this.formatYou && (this.playerLabel.text = this.youFormat.replace("{0}", this.playerLabel.text))) : this.replaceAsterisksInPlayerID && (this.playerLabel.text = this.playerLabel.text.replace(/\*/g, this.playerIDAsteriskReplacement)), null != this.countryFlag) {
            this.playerWidth < 0 && (this.scoreWidth = this.scoreLabel.width, this.playerWidth = this.playerLabel.width, this.playerLocalPos = this.playerLabel.transform.localPosition());
            var n = !_string.IsNullOrEmpty(t.countryID),
                o = new UHTMath.Vector3(n ? this.countryFlagPlayerOffset : 0, 0, 0);
            if (this.playerLabel.width = this.playerWidth - o.x, this.playerLabel.transform.localPosition(UHTMath.Vector3.add(this.playerLocalPos, o)), this.countryFlag.gameObject.SetActive(n), n) {
                var s = t.countryID,
                    a = this.countryFlag.atlas.getTextureInfoForSprite(this.countryFlag, s),
                    r = window.TOURNAMENT_IGNORED_FLAGS || ["ph"];
                (null == a || r.indexOf(s) > -1) && (s = TournamentLeaderboardItem.defaultCountryID), this.countryFlag.SetSpriteNameForAnimation(s)
            }
            null != this.countryFlagPlayerLabel && (this.CountryFlagAdjustPlayerScoreWidths(n), this.countryFlagPlayerLabel.text = this.playerLabel.text, this.countryFlagPlayerLabel.SetColor(this.playerLabel.GetColor()), this.playerLabel.gameObject.SetActive(!n), this.countryFlagPlayerLabel.gameObject.SetActive(n))
        }
    }
}, TournamentLeaderboardItem.prototype.FormatMultiplier = function (t) {
    return TournamentLeaderboardItem.multiplierFormat.replace("{0}", String(t))
}, TournamentLeaderboardItem.prototype.CountryFlagAdjustPlayerScoreWidths = function (t) {
    if (t) {
        var e = this.countryFlagPlayerLabel.transform.localPosition(),
            i = this.scoreLabel.transform.localPosition();
        this.scoreLabel.width = Math.round(i.x - e.x - this.countryFlagPlayerLabel.GetWidth() - this.countryFlagPlayerScoreSpacing)
    } else this.scoreLabel.width = this.scoreWidth
}, goog.require("UHT.XTLink"), TournamentLeaderboardItemPlayer.prototype = Object.create(XTLink.prototype), TournamentLeaderboardItemPlayer.prototype.constructor = TournamentLeaderboardItemPlayer, TournamentLeaderboardItemPlayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_LeaderboardsReloaded, this.OnLeaderboardsReloaded, this), XT.RegisterCallbackObject(TournamentVars.TournamentLeaderboards, this.OnTournamentLeaderboards, this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.OnSelectedTournamentID, this)
}, TournamentLeaderboardItemPlayer.prototype.OnLeaderboardsReloaded = function () {
    this.OnSelectedTournamentID(XT.GetString(TournamentVars.SelectedTournamentID))
}, TournamentLeaderboardItemPlayer.prototype.OnTournamentLeaderboards = function (t) {
    this.OnSelectedTournamentID(XT.GetString(TournamentVars.SelectedTournamentID))
}, TournamentLeaderboardItemPlayer.prototype.OnSelectedTournamentID = function (t) {
    var e = PromotionsHelper.FindPlayerInLeaderboard(t);
    null != e ? (this.placeLabel.text = PromotionsHelper.FormatRank(t, e.position), this.scoreLabel.text = PromotionsHelper.FormatScore(e.score, e.leaderboard)) : this.placeLabel.text = this.scoreLabel.text = this.alternativeText
}, goog.provide("UHT.TournamentNoPrizeItemAGBM"), goog.require("UHT.TournamentLeaderboardItem"), TournamentNoPrizeItemAGBM.prototype = Object.create(TournamentLeaderboardItem.prototype), TournamentNoPrizeItemAGBM.prototype.constructor = TournamentNoPrizeItemAGBM, TournamentNoPrizeItemAGBM.prototype.UpdatePrizeContent = function (t) {
    null != this.prizeContent && this.prizeContent.SetActive(t), null != this.noPrizeContent && this.noPrizeContent.SetActive(!t)
}, goog.require("UHT.TournamentNoPrizeItemAGBM"), TournamentLeaderboardItemAGBM.prototype = Object.create(TournamentNoPrizeItemAGBM.prototype), TournamentLeaderboardItemAGBM.prototype.constructor = TournamentLeaderboardItemAGBM, TournamentLeaderboardItemAGBM.prototype.UpdateValue = function (t) {
    if (TournamentNoPrizeItemAGBM.prototype.UpdateValue.call(this, t), null != t) {
        t.isRanked || t.isPlayer || (this.playerLabel.text = this.alternativeText), t.isRanked || (this.placeLabel.text = this.scoreLabel.text = this.alternativeText), t.type != TournamentProtocol.PrizeType.Gift || _string.IsNullOrEmpty(t.gift) ? t.type == TournamentProtocol.PrizeType.Amount && t.amount > 0 ? this.prizeLabel.text = LocaleManager.FormatValueWithCustomCurrency(t.amount, t.currency) : t.type == TournamentProtocol.PrizeType.BetMultiplier ? this.prizeLabel.text = this.FormatMultiplier(t.betMultiplier) : this.prizeLabel.text = this.alternativeText : this.prizeLabel.text = t.gift, t.type == TournamentProtocol.PrizeType.FreeRounds && ("N" == t.freeRoundLimitType ? this.prizeLabel.text = this.localizedFreeRoundsLabel_0.text + t.freeRoundAmount + this.localizedFreeRoundsLabel_1.text : "T" == t.freeRoundLimitType && (this.prizeLabel.text = this.localizedSecondsOfTimedFreeRoundsLabel_0.text + t.freeRoundAmount + this.localizedSecondsOfTimedFreeRoundsLabel_1.text));
        var e = t.type != TournamentProtocol.PrizeType.Invalid;
        if (e || t.isPlayer) {
            var i = t.isPlayer ? this.colorYou : this.colorNotYou,
                n = this.useColor ? i : this.defaultColor;
            this.placeLabel.SetColor(i), this.prizeLabel.SetColor(i), this.playerLabel.SetColor(n), this.scoreLabel.SetColor(n)
        } else this.placeLabel.SetColor(this.noPrizeColorNotYou), this.playerLabel.SetColor(this.noPrizeColorNotYou), this.scoreLabel.SetColor(this.noPrizeColorNotYou), this.prizeLabel.SetColor(this.noPrizeColorNotYou);
        null != this.countryFlagPlayerLabel && (this.countryFlagPlayerLabel.text = this.playerLabel.text, this.countryFlagPlayerLabel.SetColor(this.playerLabel.GetColor())), this.UpdatePrizeContent(e)
    }
}, goog.provide("UHT.TournamentPrize"), goog.require("UHT.ScrollableListItem"), TournamentPrize.prototype = Object.create(ScrollableListItem.prototype), TournamentPrize.prototype.constructor = TournamentPrize, TournamentPrize.prototype.UpdateValue = function (t) {
    if (this.gameObject.SetActive(null != t), null != t) {
        var e = XT.GetString(TournamentVars.SelectedTournamentID),
            i = PromotionsHelper.FindPromotion(e).type,
            n = this.prizeLabel;
        i == TournamentProtocol.PromoType.Tournament ? t.placeFrom == t.placeTo ? this.placeLabel.text = String(t.placeFrom) : this.placeLabel.text = this.localizedToLabel_0.text + t.placeFrom + this.localizedToLabel_1.text + t.placeTo + this.localizedToLabel_2.text : i == TournamentProtocol.PromoType.Race && (n = this.placeLabel, this.prizeLabel.text = String(t.count)), t.type == TournamentProtocol.PrizeType.FreeRounds ? "N" == t.freeRoundLimitType ? n.text = this.localizedFreeRoundsLabel_0.text + t.freeRoundAmount + this.localizedFreeRoundsLabel_1.text : "T" == t.freeRoundLimitType ? n.text = this.localizedSecondsOfTimedFreeRoundsLabel_0.text + t.freeRoundAmount + this.localizedSecondsOfTimedFreeRoundsLabel_1.text : "F" == t.freeRoundLimitType && (n.text = this.localizedFreeBonusFeatureLabel.text) : _string.IsNullOrEmpty(t.gift) ? n.text = LocaleManager.FormatValueWithCustomCurrency(t.amount, this.currency) : n.text = t.gift, null != this.oddContents && this.oddContents.SetActive(this.valueIdx % 2 == 1);
        var o = PromotionsHelper.FindPlayerLeaderboardPosition(e),
            s = t.placeFrom <= o && o <= t.placeTo;
        null != this.currentContent && this.currentContent.SetActive(s)
    }
}, goog.require("UHT.TournamentPrize"), PrizeDropPrizeAGBM.prototype = Object.create(TournamentPrize.prototype), PrizeDropPrizeAGBM.prototype.constructor = PrizeDropPrizeAGBM, PrizeDropPrizeAGBM.multiplierFormat = "x {0}", PrizeDropPrizeAGBM.prototype.UpdateValue = function (t) {
    TournamentPrize.prototype.UpdateValue.call(this, t), null != t && (this.prizesTotalLabel.text = String(t.totalCount), t.type == TournamentProtocol.PrizeType.BetMultiplier && (this.placeLabel.text = PrizeDropPrizeAGBM.multiplierFormat.replace("{0}", String(t.betMultiplier))))
}, goog.provide("UHT.TournamentPrizeAGBM"), goog.require("UHT.TournamentNoPrizeItemAGBM"), TournamentPrizeAGBM.prototype = Object.create(TournamentNoPrizeItemAGBM.prototype), TournamentPrizeAGBM.prototype.constructor = TournamentPrizeAGBM, TournamentPrizeAGBM.prototype.XTRegisterCallbacks = function () {
    TournamentNoPrizeItemAGBM.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged, this.OnBetChanged, this)
}, TournamentPrizeAGBM.prototype.OnBetChanged = function () {
    null != this.leaderboardItem && this.leaderboardItem.isPlayer && !this.leaderboardItem.isRanked && (this.betLabel.text = LocaleManager.FormatValueWithCustomCurrency(XT.GetDouble(Vars.TotalBetDisplayed), ServerOptions.currency))
}, TournamentPrizeAGBM.prototype.UpdateValue = function (t) {
    if (TournamentNoPrizeItemAGBM.prototype.UpdateValue.call(this, t), this.leaderboardItem = t, null != t) {
        t.type == TournamentProtocol.PrizeType.BetMultiplier ? this.placeLabel.text = this.FormatMultiplier(t.betMultiplier) : this.placeLabel.text = this.alternativeText, t.isRanked || t.isPlayer || (this.playerLabel.text = this.alternativeText), t.type != TournamentProtocol.PrizeType.Gift || _string.IsNullOrEmpty(t.gift) ? t.type == TournamentProtocol.PrizeType.Amount && t.amount > 0 ? this.scoreLabel.text = LocaleManager.FormatValueWithCustomCurrency(t.amount, t.currency) : t.type == TournamentProtocol.PrizeType.BetMultiplier && t.isRanked && t.prize > 0 ? this.scoreLabel.text = LocaleManager.FormatValueWithCustomCurrency(t.prize, t.memberCurrency) : this.scoreLabel.text = this.alternativeText : this.scoreLabel.text = t.gift, t.isRanked && t.effectiveBetForBetMultiplier > 0 ? this.betLabel.text = LocaleManager.FormatValueWithCustomCurrency(t.effectiveBetForBetMultiplier, t.memberCurrency) : this.betLabel.text = this.alternativeText, t.type == TournamentProtocol.PrizeType.FreeRounds && ("N" == t.freeRoundLimitType ? this.scoreLabel.text = this.localizedFreeRoundsLabel_0.text + t.freeRoundAmount + this.localizedFreeRoundsLabel_1.text : "T" == t.freeRoundLimitType && (this.scoreLabel.text = this.localizedSecondsOfTimedFreeRoundsLabel_0.text + t.freeRoundAmount + this.localizedSecondsOfTimedFreeRoundsLabel_1.text));
        var e = t.type != TournamentProtocol.PrizeType.Invalid;
        if (e || t.isPlayer) {
            var i = t.isPlayer ? this.colorYou : this.colorNotYou,
                n = this.useColor ? i : this.defaultColor;
            this.placeLabel.SetColor(i), this.playerLabel.SetColor(n), this.scoreLabel.SetColor(n), this.betLabel.SetColor(n)
        } else this.placeLabel.SetColor(this.noPrizeColorNotYou), this.playerLabel.SetColor(this.noPrizeColorNotYou), this.scoreLabel.SetColor(this.noPrizeColorNotYou), this.betLabel.SetColor(this.noPrizeColorNotYou);
        this.UpdatePrizeContent(e), this.OnBetChanged()
    }
}, goog.require("UHT.TournamentPrizeAGBM"), PrizeDropWinner.prototype = Object.create(TournamentPrizeAGBM.prototype), PrizeDropWinner.prototype.constructor = PrizeDropWinner, PrizeDropWinner.prototype.UpdateValue = function (t) {
    TournamentPrizeAGBM.prototype.UpdateValue.call(this, t), null != t && (t.type != TournamentProtocol.PrizeType.Invalid && this.placeLabel.SetColor(this.colorNotYou), null != this.countryFlagPlayerLabel && this.countryFlagPlayerLabel.SetColor(this.playerLabel.GetColor()), null != this.youContent && this.youContent.SetActive(!1), null != this.oddContents && this.oddContents.SetActive((this.valueIdx + t.valueIndexExtra) % 2 == 1), this.defaultContent.SetActive(t.winnerContent == TournamentProtocol.WinnerContentType.Default), this.titleContent.SetActive(t.winnerContent != TournamentProtocol.WinnerContentType.Default), t.winnerContent == TournamentProtocol.WinnerContentType.Title_0 && (this.titleLabel.text = this.localizedTitleLabel_0.text), t.winnerContent == TournamentProtocol.WinnerContentType.Title_1 && (this.titleLabel.text = this.localizedTitleLabel_1.text))
}, PrizeDropWinner.prototype.CountryFlagAdjustPlayerScoreWidths = function (t) {
    if (this.betLabel.gameObject.activeSelf)
        if (this.betWidth < 0 && (this.betWidth = this.betLabel.width), t) {
            var e = this.countryFlagPlayerLabel.transform.localPosition(),
                i = this.betLabel.transform.localPosition(),
                n = Math.round(.5 * (i.x - e.x - this.countryFlagPlayerScoreSpacing));
            this.betLabel.width = this.countryFlagPlayerLabel.width = n * this.betLabel.resize
        } else this.betLabel.width = this.betWidth
}, goog.require("UHT.TournamentDetails"), TournamentPrizes.prototype = Object.create(TournamentDetails.prototype), TournamentPrizes.prototype.constructor = TournamentPrizes, TournamentPrizes.prototype.OnTournamentDetailsUpdated = function () {
    this.OnSelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))
}, TournamentPrizes.prototype.OnSelectedTournamentIDChanged = function (t) {
    var e = PromotionsHelper.FindDetails(t);
    if (this.UpdateContents(e), null != e) {
        for (var i = 0; i < this.prizes.length; ++i) this.prizes[i].currency = e.prizePool.currency;
        if (null != e.prizePool.prizesList) return void this.scrollableList.SetValues(e.prizePool.prizesList.slice())
    }
    this.scrollableList.SetValues(null)
}, TournamentPrizes.prototype.UpdateContents = function (t) {
    if (this.hasAlternativeContents) {
        for (var e = null != t && null != t.prizePool && null != t.prizePool.prizesList && t.prizePool.prizesList.length > 0, i = 0; i < this.contents.length; ++i) this.contents[i].SetActive(e);
        for (i = 0; i < this.alternativeContents.length; ++i) this.alternativeContents[i].SetActive(!e)
    }
}, goog.require("UHT.TournamentDetails"), goog.require("UHT.PromotionRule"), TournamentRules.prototype = Object.create(TournamentDetails.prototype), TournamentRules.prototype.constructor = TournamentRules, TournamentRules.prototype.ForceUpdate = function () {
    this.OnTournamentDetailsUpdated()
}, TournamentRules.prototype.OnTournamentDetailsUpdated = function () {
    if (null != this.details)
        for (var t = 0; t < this.details.length; ++t) {
            var e = this.tournamentIDs.indexOf(this.details[t].uid);
            if (e < 0) {
                this.needUpdate = !0;
                var i = new PromotionRule;
                i.uid = this.details[t].uid, i.sampleLabel = this.sampleLabel, i.maxLabelWidth = this.maxLabelWidth, i.UpdateRules(this.useHtmlRulesForOptIn ? this.details[t].htmlRulesForOptIn : this.details[t].htmlRules), this.tournamentIDs.push(this.details[t].uid), this.tournamentRules.push(i), this.tournamentRulesIndices.push(0)
            } else this.tournamentRules[e].rules != (this.useHtmlRulesForOptIn ? this.details[t].htmlRulesForOptIn : this.details[t].htmlRules) && (this.needUpdate = !0, this.tournamentRules[e].UpdateRules(this.useHtmlRulesForOptIn ? this.details[t].htmlRulesForOptIn : this.details[t].htmlRules))
        }
}, TournamentRules.prototype.OnSelectedTournamentIDChanged = function (t) {
    if (!this.isManual || this.isManualUpdate) {
        var e = this.tournamentIDs.indexOf(this.tournamentID);
        if (e >= 0 && (this.tournamentRulesIndices[e] = this.scrollableList.items[0].valueIdx), this.tournamentID = t, this.needUpdate = !0, (e = this.tournamentIDs.indexOf(this.tournamentID)) >= 0) {
            if (this.tournamentRules[e].isSplit) return void this.scrollableList.UpdateValuesAndIndex(this.tournamentRules[e].GetSplitLines().slice(), this.tournamentRulesIndices[e]);
            if (this.tournamentRules[e].splitRules.length < this.maxNumberOfLinesFirstUpdate) return void(this.isFirstUpdate = !0)
        }
        this.scrollableList.SetValues(null)
    }
}, TournamentRules.prototype.Update = function () {
    if (this.isTournamentsVisible && this.isRulesVisible && this.needUpdate) {
        var t = this.tournamentIDs.indexOf(this.tournamentID);
        t >= 0 && !this.tournamentRules[t].isSplit ? this.isFirstUpdate ? (this.isFirstUpdate = !1, this.tournamentRules[t].maxNumberOfLines = this.maxNumberOfLinesFirstUpdate, this.scrollableList.UpdateValuesAndIndex(this.tournamentRules[t].GetSplitLines().slice(), this.tournamentRulesIndices[t])) : (this.tournamentRules[t].maxNumberOfLines = this.maxNumberOfLinesPerUpdate, this.scrollableList.UpdateValues(this.tournamentRules[t].GetSplitLines().slice())) : this.needUpdate = !1
    }
}, TournamentRules.prototype.RulesVisible = function (t) {
    this.isRulesVisible = _bool.Parse(t)
}, TournamentRules.prototype.TournamentsVisible = function (t) {
    this.isTournamentsVisible = _bool.Parse(t)
}, TournamentRules.prototype.SetVisible = function (t) {
    this.isRulesVisible = t, this.isTournamentsVisible = t
}, TournamentRules.prototype.UpdateRulesManually = function (t) {
    this.isManualUpdate = !0, this.OnSelectedTournamentIDChanged(t), this.isManualUpdate = !1
}, goog.require("UHT.ScrollableListItem"), TournamentRulesItem.prototype = Object.create(ScrollableListItem.prototype), TournamentRulesItem.prototype.constructor = TournamentRulesItem, TournamentRulesItem.prototype.UpdateValue = function (t) {
    this.gameObject.SetActive(null != t), null != t && (this.label.text = t)
}, goog.require("UHT.XTLink"), TournamentsManager.prototype = Object.create(XTLink.prototype), TournamentsManager.prototype.constructor = TournamentsManager, TournamentsManager.updateDefaultView = !0, TournamentsManager.showTournamentsFrame = -1, TournamentsManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackInt(TournamentVars.ServerTime, this.OnServerTimeUpdated, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated, this.OnTournamentsUpdated, this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.OnSelectedTournamentIDChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnVSGameStateChanged, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen, this.HideTournaments, this)
}, TournamentsManager.prototype.XTInitVariablesAndEvents = function () {
    XT.SetString(TournamentVars.SelectedTournamentID, ""), XT.SetString(TournamentVars.RankPromotionID, ""), XT.SetInt(TournamentVars.MenuPromotionType, TournamentProtocol.PromoType.Invalid), XT.SetInt(TournamentVars.CurrentPromotionDisplayStyle, TournamentProtocol.DisplayStyle.Default)
}, TournamentsManager.prototype.OnVSGameStateChanged = function () {
    var t = VSGameStateManager.GetState();
    t != VSGameState.Spin && t != VSGameState.SpinBonusRounds || this.HideTournaments()
}, TournamentsManager.prototype.OnServerTimeUpdated = function (t) {
    this.serverTime = t
}, TournamentsManager.prototype.OnTournamentsUpdated = function () {
    this.UpdateTournaments(XT.GetObject(TournamentVars.Tournaments))
}, TournamentsManager.prototype.UpdateTournaments = function (t) {
    if (this.visibleTournamentsCount = null != t ? t.length : 0, this.visibleTournamentsCount > 0) return this.EnableTournaments(), t.sort((function (t, e) {
        return t.isActiveInOtherGames - e.isActiveInOtherGames
    })), this.scrollableList.UpdateValues(t.slice()), _string.IsNullOrEmpty(XT.GetString(TournamentVars.SelectedTournamentID)) && XT.SetString(TournamentVars.SelectedTournamentID, t[0].uid), void(this.isHiddenMode && this.DisableTournaments());
    this.scrollableList.UpdateValues(null), this.DisableTournaments()
}, TournamentsManager.prototype.OnSelectedTournamentIDChanged = function (t) {
    for (var e = 0; e < this.tournaments.length; ++e) this.tournaments[e].UpdateSelectedTournamentID(t)
}, TournamentsManager.prototype.OnScrollableListItemClicked = function (t) {
    var e = _number.otoi(t),
        i = this.scrollableList.items[e];
    null != i.tournamentData && (XT.SetString(TournamentVars.SelectedTournamentID, i.tournamentData.uid), null != this.catTournamentClicked && (this.catTournamentClicked.IsRunning() && this.catTournamentClicked.Stop(), this.catTournamentClicked.Start()))
}, TournamentsManager.prototype.Update = function () {
    this.serverTime += Time.deltaTime, XT.SetInt(TournamentVars.ServerTime, _number.otoi(this.serverTime)), this.enableBtnTimer += Time.deltaTime
}, TournamentsManager.prototype.DisableTournaments = function () {
    this.isEnabled && (this.isEnabled = !1, this.StopRunningEvents(), this.catDisableTournaments.Start())
}, TournamentsManager.prototype.EnableTournaments = function () {
    this.isEnabled || (this.isEnabled = !0, this.StopRunningEvents(), this.catEnableTournaments.Start())
}, TournamentsManager.prototype.ShowTournaments = function () {
    if (this.isEnabled && !this.isVisible) {
        var t = XT.GetString(TournamentVars.RankPromotionID),
            e = PromotionsHelper.GetPromotionType(t),
            i = XT.GetInt(TournamentVars.MenuPromotionType),
            n = (i == TournamentProtocol.PromoType.Invalid || i == e) && TournamentsManager.showTournamentsFrame != Time.frameCount && !_string.IsNullOrEmpty(t);
        TournamentsManager.showTournamentsFrame = Time.frameCount, XT.SetInt(TournamentVars.MenuPromotionType, TournamentProtocol.PromoType.Invalid), n && XT.GetString(TournamentVars.SelectedTournamentID) != t && XT.SetString(TournamentVars.SelectedTournamentID, t), XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsOpen), this.isVisible = !0, this.StopRunningEvents();
        var o = this.catShowTournaments;
        if (this.showOnlyDetailsIfOneTournament && 1 == this.visibleTournamentsCount && (o = this.catShowTournamentDetails), o.Start(), TournamentsManager.updateDefaultView && (TournamentsManager.updateDefaultView = !1, this.useDefaultViewCats)) {
            (o = 1 == this.visibleTournamentsCount ? this.catDefaultViewSingle : this.catDefaultViewMultiple).Start();
            var s = PromotionsHelper.GetPromotionType(XT.GetString(TournamentVars.SelectedTournamentID)),
                a = this.defaultViewType.indexOf(s);
            a > -1 && this.catDefaultViewByType[a].Start()
        }
    }
}, TournamentsManager.prototype.HideTournaments = function () {
    if (this.isEnabled && this.isVisible) {
        XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsClosed), this.isVisible = !1, this.StopRunningEvents();
        var t = this.catHideTournaments;
        this.showOnlyDetailsIfOneTournament && 1 == this.visibleTournamentsCount && (t = this.catHideTournamentDetails), t.Start()
    }
}, TournamentsManager.prototype.StopRunningEvents = function () {
    this.catEnableTournaments.IsRunning() && this.catEnableTournaments.Stop(), this.catDisableTournaments.IsRunning() && this.catDisableTournaments.Stop(), this.catShowTournaments.IsRunning() && this.catShowTournaments.Stop(), this.catHideTournaments.IsRunning() && this.catHideTournaments.Stop(), this.showOnlyDetailsIfOneTournament && (this.catShowTournamentDetails.IsRunning() && this.catShowTournamentDetails.Stop(), this.catHideTournamentDetails.IsRunning() && this.catHideTournamentDetails.Stop())
}, TournamentsManager.prototype.StopRunningDetailsEvents = function () {
    this.catShowDetails.IsRunning() && this.catShowDetails.Stop(), this.catHideDetails.IsRunning() && this.catHideDetails.Stop()
}, TournamentsManager.prototype.ShowDetails = function () {
    this.catShowTournaments.IsRunning() ? this.catShowTournaments.RegisterCallback(this.OnShowTournamentsEnded, this) : (this.StopRunningDetailsEvents(), this.catShowDetails.Start())
}, TournamentsManager.prototype.HideDetails = function () {
    this.StopRunningDetailsEvents(), this.catHideDetails.Start()
}, TournamentsManager.prototype.OnShowTournamentsEnded = function (t, e) {
    t == CAT_Event.CallbackType.EndOfEvent && (this.ShowDetails(), this.catShowTournaments.UnregisterCallback(this.OnShowTournamentsEnded, this))
}, TournamentsManager.prototype.EnableBtnClicked = function () {
    this.enableBtnTimer > 1 && (this.enableBtnTimer = 0, this.enableBtnClickedTimes = 0), this.enableBtnClickedTimes++, 5 == this.enableBtnClickedTimes && this.DisableHiddenMode()
}, TournamentsManager.prototype.DisableHiddenMode = function () {
    this.isHiddenMode = !1, this.catDisableHiddenMode.Start(), this.UpdateTournaments(XT.GetObject(TournamentVars.Tournaments))
}, TournamentsManager.prototype.ScrollToSelectedPromotion = function () {
    var t = XT.GetString(TournamentVars.SelectedTournamentID);
    if (this.scrollableList.isScrollable()) {
        for (var e = 0, i = this.scrollableList.itemValues, n = 0; n < i.length; ++n) {
            var o = i[n];
            if (null != o && o.uid == t) {
                e = n;
                break
            }
        }
        this.scrollableList.hasExtraItem && e--;
        var s = e + (this.scrollableList.items.length - 1),
            a = this.scrollableList.itemValues.length - 1;
        e -= s > a ? s - a : 0, this.scrollableList.scrollRemain = 0, this.scrollableList.UpdateValuesAndIndex(null, e, !0)
    }
}, goog.require("UHT.XTLink"), TournamentsRank.prototype = Object.create(XTLink.prototype), TournamentsRank.prototype.constructor = TournamentsRank, TournamentsRank.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_TournamentsUpdated, this.OnTournamentsUpdated, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionClosedByTime, this.OnPromotionClosedByTime, this)
}, TournamentsRank.prototype.OnTournamentsUpdated = function () {
    var t = XT.GetObject(TournamentVars.Tournaments);
    if (this.SetEnabled(null != t), this.isEnabled) {
        for (var e = 0, i = 0; i < t.length; i++)
            if (PromotionsHelper.GetPromotionType(t[i].uid) == TournamentProtocol.PromoType.Race) {
                var n = PromotionsHelper.FindDetails(t[i].uid);
                null != n && null != n.prizePool && (e += n.prizePool.totalCount)
            } e < this.prizeCountPrev && null != this.prizeWon && (this.prizeWon.cat.transform.localRotation(UHTMath.Quaternion.euler(new UHTMath.Vector3(0, 0, 60 * (Math.random() - .5)))), this.prizeWon.Start()), this.prizeCountPrev = e;
        var o = PromotionsHelper.GetRankInfo();
        if (this.isRotating || (this.isRotating = !0, this.startRotation.Start()), null != this.contentSwitcher && (this.contentSwitcher.SwitchByType(o.type), this.contentSwitcher.SwitchByStyle(o.style)), _string.IsNullOrEmpty(o.uid)) null != this.tournament && this.tournament.UpdateTournament(o.realUID), this.HideRank(o), this.isRotating = !1;
        else if (XT.SetString(TournamentVars.RankPromotionID, o.realUID), null != this.tournament && this.tournament.UpdateTournament(o.uid), o.value < 0) this.isEndDateVisible || (this.isEndDateVisible = !0, this.isRankVisible = !1, this.catShowEndDate.Start());
        else {
            for (var s = o.type == TournamentProtocol.PromoType.Tournament ? PromotionsHelper.FormatRank(o.uid, o.value) : String(o.value), a = this.labels[0].text, r = 0; r < this.labels.length; ++r) this.labels[r].text = s;
            for (r = 0; r < this.labelsPrevious.length; ++r) this.labelsPrevious[r].text = a;
            if (this.isRankVisible) {
                if (null != this.infoPrev && o.type == this.infoPrev.type && o.uid == this.infoPrev.uid && s != a) {
                    var l = o.value < this.infoPrev.value ? this.rankUp : this.rankDown;
                    null != l && null != l.cat && l.Start()
                }
            } else this.isRankVisible = !0, this.isEndDateVisible = !1, this.catShowRank.Start()
        }
        null != this.infoPrev && o.type != this.infoPrev.type && this.promotionTypeChanged.Start(), this.infoPrev = o
    }
}, TournamentsRank.prototype.NextPromotionType = function () {
    this.shouldAdvance && PromotionsHelper.lastPromotionShownIndex++, this.OnTournamentsUpdated()
}, TournamentsRank.prototype.SetEnabled = function (t) {
    if (this.isEnabled != t && (this.isEnabled = t, null != this.enabledContents))
        for (var e = 0; e < this.enabledContents.length; ++e) this.enabledContents[e].SetActive(t)
}, TournamentsRank.prototype.HideRank = function (t) {
    (this.isRankVisible || this.isEndDateVisible || t.type == TournamentProtocol.PromoType.Invalid) && (this.isRankVisible = !1, this.isEndDateVisible = !1, this.catHideRank.Start())
}, TournamentsRank.prototype.OnPromotionClosedByTime = function () {
    if (null != this.infoPrev) {
        var t = XT.GetString(TournamentVars.ClosedByTimePromotionUID);
        this.infoPrev.uid == t && this.HideRank(this.infoPrev)
    }
}, goog.require("UHT.Engine"), ActivatorByIndex.prototype = Object.create(Component.prototype), ActivatorByIndex.prototype.constructor = ActivatorByIndex, ActivatorByIndex.prototype.Activate = function (t, e) {
    this.objects[t].SetActive(e)
}, goog.require("UHT.Engine"), CameraClippingEnabler.prototype = Object.create(Component.prototype), CameraClippingEnabler.prototype.constructor = CameraClippingEnabler, CameraClippingEnabler.prototype.EnableClipping = function () {
    this.gameObject.GetComponent(ExtraCameraSettings).enabled = !0, this.gameObject.GetComponent(ExtraCameraSettings).dirtyFlag = !0
}, CameraClippingEnabler.prototype.DisableClipping = function () {
    this.gameObject.GetComponent(ExtraCameraSettings).enabled = !1
}, goog.require("UHT.Engine"), ColliderProxy.prototype = Object.create(Component.prototype), ColliderProxy.prototype.constructor = ColliderProxy, ColliderProxy.prototype.OnDisable = function () {
    this.enabled && this.notifyOnDisable && this.OnPress(!1)
}, ColliderProxy.prototype.OnClick = function () {
    if (this.enabled && this.notifyClick) {
        var t = this.gameObject.GetComponent(ClickDelay);
        if (null == t || t.CanClick()) {
            for (var e = 0; e < this.boxColliders.length; ++e) this.boxColliders[e].gameObject.SendMessage("OnClick");
            for (e = 0; e < this.sphereColliders.length; ++e) this.sphereColliders[e].gameObject.SendMessage("OnClick");
            this.SendMessageData(this.eventClick)
        }
    }
}, ColliderProxy.prototype.OnHover = function (t) {
    this.enabled && (this.Notify("OnHover", t, t ? this.eventHoverOn : this.eventHoverOff), this.wasHover = t)
}, ColliderProxy.prototype.OnPress = function (t) {
    this.enabled && (this.Notify("OnPress", t, t ? this.eventPress : this.eventRelease), this.wasPressed = t, this.wasHover && this.OnHover(!1))
}, ColliderProxy.prototype.Notify = function (t, e, i) {
    if ("OnPress" == t && (this.notifyPress && e || this.notifyRelease && !e) || "OnHover" == t && (this.notifyHoverOn && e || this.notifyHoverOff && !e)) {
        for (var n = 0; n < this.boxColliders.length; ++n) this.boxColliders[n].gameObject.SendMessage(t, e);
        for (n = 0; n < this.sphereColliders.length; ++n) this.sphereColliders[n].gameObject.SendMessage(t, e);
        this.SendMessageData(i)
    }
}, ColliderProxy.prototype.SendMessageData = function (t) {
    for (var e = 0; e < t.length; ++e) MessageSender.SendMessage(t[e])
}, ColliderProxy.prototype.SetEnabled = function (t) {
    t || this.OnDisable(), this.enabled = t
}, ColliderProxy.prototype.NotifyIfHovered = function () {
    this.wasHover && this.OnHover(this.wasHover)
}, ColliderProxy.prototype.NotifyIfPressed = function () {
    this.wasPressed && this.OnPress(this.wasPressed)
}, goog.require("UHT.Engine"), AnimClipChanger.prototype = Object.create(Component.prototype), AnimClipChanger.prototype.constructor = AnimClipChanger, AnimClipChanger.prototype.PlayAnim = function (t) {
    this.gameObject.animation.Play(t)
}, goog.require("UHT.Engine"), ButtonEnabler.prototype = Object.create(Component.prototype), ButtonEnabler.prototype.constructor = ButtonEnabler, ButtonEnabler.prototype.Init = function () {
    this.uibuttons = this.target.GetComponents(UIButton), this.isInit = !0
}, ButtonEnabler.prototype.EnableButton = function () {
    this.isInit || this.Init();
    for (var t = 0; t < this.uibuttons.length; t++) this.uibuttons[t].SetEnabled(!0)
}, ButtonEnabler.prototype.DisableButton = function () {
    this.isInit || this.Init();
    for (var t = 0; t < this.uibuttons.length; t++) this.uibuttons[t].SetEnabled(!1)
}, goog.require("UHT.Engine"), ColliderEnabler.prototype = Object.create(Component.prototype), ColliderEnabler.prototype.constructor = ColliderEnabler, ColliderEnabler.prototype.EnableCollider = function () {
    if (this.includeChildren)
        for (var t = this.GetComponentsInChildren(Collider, !0), e = 0; e < t.length; ++e) t[e].enabled = !0;
    else this.gameObject.collider.enabled = !0;
    this.StartCATLink(this.enable)
}, ColliderEnabler.prototype.DisableCollider = function () {
    if (this.includeChildren)
        for (var t = this.GetComponentsInChildren(Collider, !0), e = 0; e < t.length; ++e) t[e].enabled = !1;
    else this.gameObject.collider.enabled = !1;
    this.StartCATLink(this.disable)
}, ColliderEnabler.prototype.StartCATLink = function (t) {
    null == t && null == t.cat || t.Start()
}, goog.require("UHT.Engine"), MoveTransformToTarget.prototype = Object.create(Component.prototype), MoveTransformToTarget.prototype.constructor = MoveTransformToTarget, MoveTransformToTarget.prototype.StartMoving = function () {
    this.moving = !0, this.currentTime = 0, this.useTimeChannel && (this.myTimeChannel = Globals.RegisterToTimeChannel(this, this.timeChannelID)), this.totalCurveTime = this.speedCurve.keys[this.speedCurve.keys.length - 1].time - this.speedCurve.keys[0].time, this.startPosition = new UHTMath.Vector3(this.movingTransform.position().x, this.movingTransform.position().y, this.movingTransform.position().z), this.resetPosition = new UHTMath.Vector3(this.movingTransform.localPosition().x, this.movingTransform.localPosition().y, this.movingTransform.localPosition().z), this.startScale = new UHTMath.Vector3(this.movingTransform.localScale().x, this.movingTransform.localScale().y, this.movingTransform.localScale().z), this.resetScale = new UHTMath.Vector3(this.movingTransform.localScale().x, this.movingTransform.localScale().y, this.movingTransform.localScale().z)
}, MoveTransformToTarget.prototype.ResetPosition = function () {
    this.resetStopsMovement && (this.moving = !1), this.alsoScaleToTarget && this.movingTransform.localScale(this.resetScale), this.movingTransform.localPosition(this.resetPosition)
}, MoveTransformToTarget.prototype.Update = function () {
    if (this.moving) {
        var t = this.currentTime / this.moveDuration;
        if (this.speedCurve.keys.length >= 2) {
            var e = t * this.totalCurveTime;
            t = this.speedCurve.Evaluate(e + this.speedCurve.keys[0].time), t = UHTMath.clamp(t, 0, 1)
        }
        t >= 0 && t <= 1 && (this.alsoScaleToTarget && this.movingTransform.localScale(UHTMath.Vector3.lerp(this.startScale, this.target.localScale(), t)), this.movingTransform.position(UHTMath.Vector3.lerp(this.startPosition, this.target.position(), t))), this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime < this.moveDuration && (this.currentTime += Time.deltaTime), this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime < this.moveDuration && (this.currentTime += Time.deltaTime), this.currentTime >= this.moveDuration && (this.useTimeChannel && Globals.UnregisterFromTimeChannel(this, this.timeChannelID), this.alsoScaleToTarget && this.movingTransform.localScale(this.target.localScale()), this.movingTransform.position(this.target.position()), this.moving = !1, this.resetAtTheEnd && this.ResetPosition())
    }
}, MoveTransformToTarget.prototype.Stop = function () {
    this.moving = !1
}, goog.require("UHT.Engine"), MovieController.prototype = Object.create(Component.prototype), MovieController.prototype.constructor = MovieController, MovieController.prototype.Init = function () {
    if (!this.isInit) {
        for (var t = !0, e = 0; e < this.frames; e++)
            for (var i = 0; i < this.numberOfPieces[e]; i++) {
                var n = this.atlases[this.atlasIdxPerFramePerPiece[e].id[i]];
                n.isLoaded() || (n.initAtlas(), t = !1)
            }
        if (t) {
            for (var o = 0; o < this.frames; o++) {
                this.atlasIdxPerFramePerPiece[o].cachedTex = _array.create(this.atlasIdxPerFramePerPiece[o].id.length);
                for (var s = 0; s < this.numberOfPieces[o]; s++) {
                    var a = this.atlases[this.atlasIdxPerFramePerPiece[o].id[s]];
                    this.atlasIdxPerFramePerPiece[o].cachedTex[s] = a.getTextureForSimpleSprite(null, "Frame_" + o + "_p" + s)
                }
            }
            this.panel = this.gameObject.GetComponent(UIPanel);
            var r = this.atlasIdxPerFramePerPiece[0].cachedTex[0];
            this.movieWidth > 0 ? (this.width = this.movieWidth, this.height = this.movieHeight) : (this.width = r.trim.width, this.height = r.trim.height), this.deltaMovie ? (this.frameBuffer = new PIXI.RenderTexture(globalRenderer.renderer, this.width, this.height), this.pixiObjectContent = new PIXI.Sprite(this.frameBuffer), this.pixiObjectContent.blendMode = this.atlases[0].blendMode, this.pixiObjectContent.anchor.x = .5, this.pixiObjectContent.anchor.y = .5) : this.pixiObjectContent = new PIXI.Container(null), this.pixiObject.addChild(this.pixiObjectContent), this.isInit = !0, null != this.fallback && this.fallback.activeSelf && this.fallback.SetActive(!1)
        }
    }
}, MovieController.prototype.Start = function () {
    this.Init()
}, MovieController.prototype.OnWillRenderObject = function () {
    if (this.isInit || (this.Init(), this.isInit))
        if (this.pixiObject.dirtyWT = !0, this.deltaMovie) {
            (r = this.pixiObjectContent).tint = this.color.rgbAsHex, null != this.panel ? r.alpha = this.color.a * this.panel.alpha : r.alpha = this.color.a, r.worldAlpha = r.alpha;
            var t = this.gameObject.transform,
                e = this.pixiObject,
                i = t.parent.transform;
            e.x = i._dangerous_get_position().x, e.y = -i._dangerous_get_position().y, r.x = t._dangerous_get_localPosition().x, r.y = -t._dangerous_get_localPosition().y, e.rotation = -i._dangerous_get_rotation().eulerAnglesRad().z, r.rotation = -t._dangerous_get_localRotation().eulerAnglesRad().z, e.scale.x = i._dangerous_get_scale().x, e.scale.y = i._dangerous_get_scale().y, r.width = this.width * t._dangerous_get_localScale().x, r.height = this.height * t._dangerous_get_localScale().y
        } else {
            if (this.oldFrame != this.currentFrame) {
                this.pixiObjectContent.children = [];
                for (var n = this.currentFrame, o = 0; o < this.numberOfPieces[n]; o++) {
                    var s = new PIXI.Sprite(this.atlasIdxPerFramePerPiece[n].cachedTex[o]),
                        a = this.atlases[this.atlasIdxPerFramePerPiece[n].id[o]].resize / 100;
                    s.width = this.width / a, s.height = this.height / a, s.anchor.x = .5, s.anchor.y = .5, s.blendMode = this.atlases[0].blendMode, this.pixiObjectContent.addChild(s)
                }
                this.oldFrame = this.currentFrame
            }
            for (var r = this.pixiObjectContent, l = 0; l < r.children.length; l++) {
                var u = r.children[l];
                u.tint = this.color.rgbAsHex, null != this.panel ? u.alpha = this.color.a * this.panel.alpha : u.alpha = this.color.a, u.worldAlpha = u.alpha
            }
            t = this.gameObject.transform, e = this.pixiObject, i = t.parent.transform;
            e.x = i._dangerous_get_position().x, e.y = -i._dangerous_get_position().y, r.x = t._dangerous_get_localPosition().x, r.y = -t._dangerous_get_localPosition().y, e.rotation = -i._dangerous_get_rotation().eulerAnglesRad().z, r.rotation = -t._dangerous_get_localRotation().eulerAnglesRad().z, e.scale.x = i._dangerous_get_scale().x, e.scale.y = i._dangerous_get_scale().y, r.scale.x = t._dangerous_get_localScale().x, r.scale.y = t._dangerous_get_localScale().y
        }
}, MovieController.prototype.StartPlaying = function () {
    this.deltaMovie && !this.deltaIsOpaque && this.ClearFrameBuffer(), this.time = 0, this.currentFrame = this.startFrame, this.isPlaying = !0
}, MovieController.prototype.Reset = function () {
    this.time = 0, this.currentFrame = this.startFrame
}, MovieController.prototype.OnEnable = function () {
    this.playAutomatically && this.StartPlaying(), this.resetOnEnable && this.Reset(), this.isInit || null == this.fallback || this.fallback.SetActive(!0)
}, MovieController.prototype.OnDisable = function () {
    null != this.fallback && this.fallback.activeSelf && this.fallback.SetActive(!1)
}, MovieController.prototype.OnUpdateRenderTexture = function () {
    if (this.deltaMovie) {
        if (!this.isInit && (this.Init(), !this.isInit)) return;
        var t, e, i, n, o;
        if (this.oldFrame > this.currentFrame && (this.oldFrame = -1), this.oldFrame != this.currentFrame) {
            for (t = new PIXI.Container(null), n = this.oldFrame + 1; n <= this.currentFrame; n++)
                for (o = 0; o < this.numberOfPieces[n]; o++) e = new PIXI.Sprite(this.atlasIdxPerFramePerPiece[n].cachedTex[o]), i = this.atlases[this.atlasIdxPerFramePerPiece[n].id[o]].resize / 100, e.width = this.width / i, e.height = this.height / i, t.addChild(e);
            this.frameBuffer.render(t), this.oldFrame = this.currentFrame, this.oldSubFrame = this.currentSubFrame = 0
        }
        if (this.currentSubFrame = this.time / (1 / this.FPS / this.blendSteps) | 0, this.oldSubFrame != this.currentSubFrame) {
            var s = 1 / this.blendSteps;
            for (t = new PIXI.Container(null), n = this.currentFrame + 1, this.loop && (n %= this.frames), o = 0; o < this.numberOfPieces[n]; o++) e = new PIXI.Sprite(this.atlasIdxPerFramePerPiece[n].cachedTex[o]), i = this.atlases[this.atlasIdxPerFramePerPiece[n].id[o]].resize / 100, e.width = this.width / i, e.height = this.height / i, e.alpha = s, t.addChild(e);
            this.frameBuffer.render(t), this.oldSubFrame = this.currentSubFrame
        }
    }
}, MovieController.prototype.Update = function () {
    if ((this.isInit || !this.pausedUntilReady) && this.isPlaying)
        for (this.time += Time.deltaTime; this.time > 1 / this.FPS;) this.superTrimPlayInReverse ? this.currentFrame-- : this.currentFrame++, this.currentFrame == this.frames && (this.currentFrame--, this.loop ? this.currentFrame = 0 : this.isPlaying = !1), this.currentFrame < 0 && (this.currentFrame = 0, this.loop ? this.currentFrame += this.frames : this.isPlaying = !1), !this.isPlaying && null != this.callback && this.canStartCallback && this.callback.Start(), this.time = this.time - 1 / this.FPS
}, MovieController.prototype.SetIsPlaying = function (t) {
    this.isPlaying = _bool.Parse(t)
}, MovieController.prototype.SetLoop = function (t) {
    this.loop = _bool.Parse(t)
}, MovieController.prototype.SetCanStartCallback = function (t) {
    this.canStartCallback = _bool.Parse(t)
}, MovieController.prototype.Pause = function () {
    this.isPlaying = !1
}, MovieController.prototype.Resume = function () {
    this.isPlaying = !0
}, MovieController.prototype.ClearFrameBuffer = function () {
    var t = this.frameBuffer;
    null != t && t.clear()
}, MovieController.prototype.GoToFrame = function (t) {
    this.currentFrame != t && (this.deltaMovie && (this.oldFrame = -1, this.deltaIsOpaque || this.ClearFrameBuffer()), this.currentFrame = t)
}, goog.require("UHT.Engine"), MultipleParticlesEnabler.prototype = Object.create(Component.prototype), MultipleParticlesEnabler.prototype.constructor = MultipleParticlesEnabler, MultipleParticlesEnabler.prototype.Awake = function () {
    0 == this.particlesGenerators.length && (this.particlesGenerators = this.gameObject.GetComponentsInChildren(ParticleSystem, !0));
    for (var t = 0; t < this.particlesGenerators.length; t++) this.particlesGenerators[t].enableEmission = this.generateParticlesOnStart, this.particlesGenerators[t].gameObject.SetActive(!0)
}, MultipleParticlesEnabler.prototype.EnableEmission = function () {
    this.ChangeEmissionState(!0)
}, MultipleParticlesEnabler.prototype.DisableEmission = function () {
    this.ChangeEmissionState(!1)
}, MultipleParticlesEnabler.prototype.ChangeEmissionState = function (t) {
    null == this.particlesGenerators && this.Awake();
    for (var e = 0; e < this.particlesGenerators.length; e++) this.particlesGenerators[e].enableEmission = t
}, goog.require("UHT.Engine"), ParticlesControlledActive.prototype = Object.create(Component.prototype), ParticlesControlledActive.prototype.constructor = ParticlesControlledActive, ParticlesControlledActive.prototype.Update = function () {
    for (var t, e = 0, i = 0; i < this.particles.length; ++i) e += this.particles[i].particleCount;
    if ((t = e > 0) != this.wasEnabled) {
        this.wasEnabled = t;
        for (i = 0; i < this.objects.length; ++i) this.objects[i].SetActive(t)
    }
}, goog.require("UHT.Engine"), ParticlesEnabler.prototype = Object.create(Component.prototype), ParticlesEnabler.prototype.constructor = ParticlesEnabler, ParticlesEnabler.prototype.Awake = function () {
    null == this.particles && (this.particles = this.gameObject.GetComponentsInChildren(ParticleSystem, !0)[0]), this.pEnabled = this.particles.enableEmission, this.pEnabled || this.particles.gameObject.SetActive(!1)
}, ParticlesEnabler.prototype.OnDisable = function () {
    this.particles.gameObject !== this.gameObject && this.particles.gameObject.SetActive(this.pEnabled)
}, ParticlesEnabler.prototype.EnableEmission = function (t) {
    null == this.particles && this.Awake(), this.pEnabled = t, this.particles.enableEmission = t, t ? this.particles.gameObject.SetActive(!0) : this.gameObject.activeInHierarchy && (this.disableIfNoEmission = !0)
}, ParticlesEnabler.prototype.SetEmissionEnabled = function () {
    this.EnableEmission(!0)
}, ParticlesEnabler.prototype.SetEmissionDisabled = function () {
    this.EnableEmission(!1)
}, ParticlesEnabler.prototype.Update = function () {
    this.disableIfNoEmission && 0 == this.particles.particleCount && (this.particles.gameObject.SetActive(!1), this.disableIfNoEmission = !1)
}, goog.require("UHT.XTLink"), ResultDisplayerDelayer.prototype = Object.create(XTLink.prototype), ResultDisplayerDelayer.prototype.constructor = ResultDisplayerDelayer, ResultDisplayerDelayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived, this.OnResultReceived, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin, this.OnFastStop, this)
}, ResultDisplayerDelayer.prototype.OnFastStop = function () {
    this.fastStop = !0
}, ResultDisplayerDelayer.prototype.OnGameInit = function () {
    this.rq = XT.GetObject(Vars.RQManagerObject), this.rm = XT.GetObject(Vars.ReelsManagerObject)
}, ResultDisplayerDelayer.prototype.OnResultReceived = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts, this.OnLoopStarts, this)
}, ResultDisplayerDelayer.prototype.OnLoopStarts = function (t) {
    0 == this.fastStop && this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.GetDelay())), this.fastStop = !1, XT.UnregisterCallbackEvent(this.OnLoopStarts, this)
}, ResultDisplayerDelayer.prototype.GetDelay = function () {
    for (var t = 0, e = 0; e < this.symbolsDelays.length; e++)
        for (var i = 0; i < this.symbolsDelays[e].affectedReels.length; i++)
            for (var n = this.symbolsDelays[e].affectedReels[i], o = 0; o < this.rm.reels[n].symbolHolders.length; o++)
                if (this.rm.reels[n].symbolHolders[o].currentSymbol.symbolId == this.symbolsDelays[e].symbolId) {
                    t < this.symbolsDelays[e].reelDelay[i] && (t = this.symbolsDelays[e].reelDelay[i]);
                    break
                } return t
}, goog.require("UHT.Engine");
var SpineControllerMode = {
        Default: 0,
        DefaultThenReset: 1,
        Loop: 2
    },
    SpineControllerAction = {
        Reset: 0,
        Play: 1,
        Resume: 2,
        Pause: 3,
        NoAction: 69
    },
    SpineControllerCATAction = {
        Reset: 0,
        Play: 1,
        Resume: 2,
        Pause: 3,
        Stop: 4,
        Sample: 5,
        NoAction: 69
    };

function UHTSpineAtlases() {
    this.atlases = null
}

function UHTSpine() {
    this.name = "", this.spineJSON = "", this.spineAtlas = null, this.resource = null, this.scale = 1
}

function SpineController() {
    Component.call(this), this.spine = null, this.spineData = null, this.spineAtlases = null, this.animationName = "", this.animationTime = -1, this.animationMode = SpineControllerMode.Default, this.onEnable = SpineControllerAction.Reset, this.onComplete = null, this.color = null, this.timeScaleID = "", this.duration = 0, this.speed = 0, this.trackTime = 0, this.sampleTime = 0, this.sampleTimeIsNormalized = !1, this.isPlaying = !1, this.prevAnimationName = "", this.direction = 1, this.trackEntry = null, this.actions = [], this.panel = null, this.pixiObject = new PIXI.Container(null), this.isInit = !1, this.exportedWithPMA = !1, this.isUpdated = !1, this.frameOfLastUpdate = -1, this.needUpdateSpine = !1, this.waitForLocalization = !0
}

function SpineCustomAnimator() {
    Component.call(this), this.spineController = null, this.animationName = "", this.animationTime = 1, this.playAutomatically = !1, this.playReverse = !1, this.useTimeChannel = !1, this.timeChannelID = 0, this.StopOnDisable = !0, this.noPauseAtPingPongEnd = !1, this.playMode = SpineCustomAnimator.PlayMode.Default, this.animationCurve = null, this.loopDelay = 0, this.timeScale = 1, this.firstCurveKey = null, this.lastCurveKey = null, this.totalCurveTime = 0, this.currentTime = 0, this.direction = 1, this.playing = !1, this.reset = !1, this.myTimeChannel = null, this.elapsedDelay = 0
}

function SpineSyncer() {
    Component.call(this), this.source = null, this.isSyncing = !1, this.spines = null, this.widgets = null, this.animators = null
}

function SpriteFramesAnimator() {
    Component.call(this), this.animationTime = 1, this.spriteNamePrefix = "", this.playAutomatically = !1, this.playReverse = !1, this.useTimeChannel = !1, this.timeChannelID = 0, this.Snap = !0, this.StopOnDisable = !0, this.SameFrameSize = !1, this.noPauseAtPingPongEnd = !1, this.playMode = SpriteFramesAnimator.PlayMode.Default, this.animationCurve = null, this.animationAtlases = null, this.loopDelay = 0, this.timeScale = 1, this.mSprite = null, this.firstCurveKey = null, this.lastCurveKey = null, this.totalCurveTime = 0, this.currentTime = 0, this.direction = 1, this.playing = !1, this.reset = !1, this.mSpriteNames = null, this.myTimeChannel = null, this.elapsedDelay = 0
}

function SpriteNameAtlasPair(t, e) {
    this.name = t, this.atlas = e
}

function SpriteSizeAnimator() {
    Component.call(this), this.targetSprite = null, this.animationTime = 1, this.startSize = null, this.endSize = null, this.playAutomatically = !1, this.resetOnDisable = !1, this.playMode = SpriteFramesAnimator.PlayMode.Default, this.animationCurve = null, this.affectsWidth = !0, this.affectsHeight = !0, this.targetCollider = null, this.extraSize = !1, this.playing = !1, this.mustStop = !1, this.currentTime = 0, this.totalCurveTime = 1, this.direction = 1
}

function CurveValueAnimator() {
    Component.call(this), this.descriptiom = "", this.animatedMemberTargets = [], this.curve = null, this.Loop = !0, this.isStarted = !1, this.startTime = 0, this.lastKeyTime = 0
}

function FloatAnimatedMonoBehaviour() {
    Component.call(this), this.AnimatedF = 0
}

function AlphaAnimatedSprite() {
    FloatAnimatedMonoBehaviour.call(this), this.resetValue = .75, this.oldAlpha = -1, this.mySprite = null
}

function CustomDragObject() {
    Component.call(this), this.target = null, this.movement = null, this.messageDragStarts = null, this.messageDragEnds = null, this.swipeOverridesDrag = !1, this.swipeMaxTime = .3, this.swipeMinDistance = .05, this.messageSwipeUp = null, this.messageSwipeDown = null, this.messageSwipeLeft = null, this.messageSwipeRight = null, this.swipeStartTime = 0, this.cachedCamera = null, this.lastMousePosition = null, this.mouseTotalDelta = null, this.isPressed = !1, this.isStarted = !1, this.isHover = !1, this.limitPosition = !1, this.localPositionLimitMin = null, this.localPositionLimitMax = null, this.useScrollWheel = !1, this.scrollWheelMovement = null, this.wheelDirection = 0, this.useOnlyScrollWheel = !1
}

function registerCustomDragObjectAsListener(t, e, i) {
    window.addEventListener(t, e, i)
}

function ElementsFader() {
    TwoFloatsAnimatedMonoBehaviour.call(this), this.labelsToFade = [], this.spritesToFade = [], this.resetValue_1 = 1, this.resetValue_2 = 1, this.alphaValue = -1, this.oldAlpha = -1
}

function GameWindow() {
    XTLink.call(this), this.isEnabled = !0, this.showOnEvents = [], this.hideOnEvents = [], this.triggerAfterShow = [], this.triggerAfterHide = [], this.cat = null, this.showEventId = null, this.hideEventId = null, this.waitForBigWin = !1, this.waitForWinCount = !1, this.showAfterWinCount = !1, this.showAfterBigWinClear = !1
}
SpineController.prototype = Object.create(Component.prototype), SpineController.prototype.constructor = SpineController, SpineController.spineAtlasParser = null, SpineController.prototype.Init = function () {
    this.spineData.spineJSON instanceof Object || (this.spineData.spineJSON = JSON.parse(atob(String(this.spineData.spineJSON))));
    for (var t = !0, e = 0; e < this.spineAtlases.length; ++e)
        for (var i = 0; i < this.spineAtlases[e].atlases.length; ++i) {
            (a = this.spineAtlases[e].atlases[i]).isLoaded() || (a.initAtlas(), t = !1)
        }
    if (t) {
        if (null == this.spineData.spineAtlas) {
            var n = PIXI.spine.core;
            this.spineData.spineAtlas = new n.TextureAtlas;
            var o = this.spineData.spineAtlas.pages,
                s = this.spineData.spineAtlas.regions;
            for (e = 0; e < this.spineAtlases.length; ++e)
                for (i = 0; i < this.spineAtlases[e].atlases.length; ++i) {
                    var a, r = (a = this.spineAtlases[e].atlases[i]).pixiTexture.baseTexture;
                    r.premultipliedAlpha = !this.exportedWithPMA;
                    var l = new n.TextureAtlasPage;
                    for (var u in l.name = a.gameObject.name, l.width = r.realWidth, l.height = r.realHeight, l.baseTexture = r, l.minFilter = l.magFilter = n.TextureFilter.Linear, l.uWrap = n.TextureWrap.ClampToEdge, l.vWrap = n.TextureWrap.ClampToEdge, o.push(l), a.cachedSprites) {
                        var h, c = a.cachedSprites[u],
                            p = c.rotate ? c.height : c.width,
                            d = c.rotate ? c.width : c.height,
                            m = c.rotate ? 6 : 0,
                            S = new PIXI.Rectangle(c.x, c.y, p, d),
                            g = new PIXI.Rectangle(c.x, c.y, p, d);
                        h = c.rotate ? new PIXI.Rectangle(c.paddingBottom, c.paddingLeft, p + c.paddingBottom + c.paddingTop, d + c.paddingLeft + c.paddingRight) : new PIXI.Rectangle(c.paddingLeft, c.paddingTop, p + c.paddingLeft + c.paddingRight, d + c.paddingTop + c.paddingBottom);
                        var y = new PIXI.Texture(a.pixiTexture, S, g, h, m),
                            f = new n.TextureAtlasRegion;
                        f.name = u, f.page = l, f.texture = y, f.index = c.index, f.texture._updateUvs(), s.push(f), a.cachedSimpleSpriteInfo[a.cachedSpriteNames[u]] = y
                    }
                }
            this.spineData.resource = {
                data: this.spineData.spineJSON,
                metadata: {
                    spineAtlas: this.spineData.spineAtlas
                }
            }, null == SpineController.spineAtlasParser && (SpineController.spineAtlasParser = PIXI.spine.atlasParser()), SpineController.spineAtlasParser(this.spineData.resource, SpineController.OnAtlasParsed)
        }
        this.spine = new PIXI.spine.Spine(this.spineData.resource.spineData), this.spine.autoUpdate = !1, this.panel = this.gameObject.GetComponent(UIPanel), this.isInit = !0
    }
}, SpineController.OnAtlasParsed = function () {}, SpineController.prototype.OnEnable = function () {
    this.actions.push(this.onEnable), this.Update()
}, SpineController.prototype.OnDisable = function () {
    null != this.spine && this.spine.state.clearTracks()
}, SpineController.prototype.Update = function () {
    if ((!this.waitForLocalization || ModificationsManager.Applied) && this.frameOfLastUpdate != Time.frameCount) {
        if (!this.isInit) {
            if (this.Init(), !this.isInit) return;
            this.pixiObject.addChild(this.spine)
        }
        this.frameOfLastUpdate = Time.frameCount, this.SetupAnimation();
        for (var t = 0; t < this.actions.length; ++t) this.actions[t] == SpineControllerCATAction.Reset ? this.Reset() : this.actions[t] == SpineControllerCATAction.Play ? this.PlayInternal() : this.actions[t] == SpineControllerCATAction.Resume ? this.Resume() : this.actions[t] == SpineControllerCATAction.Pause ? this.PauseInternal() : this.actions[t] == SpineControllerCATAction.Stop ? this.Stop() : this.actions[t] == SpineControllerCATAction.Sample && (this.sampleTimeIsNormalized && (this.sampleTime *= this.duration), this.SampleTime(this.sampleTime));
        this.actions.splice(0), this.UpdateSpine(), this.isUpdated = !0
    }
}, SpineController.prototype.UpdateSpine = function () {
    null != this.trackEntry && (this.needUpdateSpine || Math.abs(this.trackEntry.timeScale) > UHTMath.numberError) && (this.needUpdateSpine = !1, this.spine.update(TimeScaler.GetDeltaTime(this.timeScaleID)))
}, SpineController.prototype.LateUpdate = function () {
    null != this.trackEntry && (this.trackTime = this.trackEntry.animationLast)
}, SpineController.prototype.SetupAnimation = function () {
    if (this.prevAnimationName != this.animationName && (this.prevAnimationName = this.animationName, this.spine.state.clearTracks(), this.SetToSetupPose()), this.trackEntry = this.spine.state.getCurrent(0), null == this.trackEntry) {
        var t = this;
        this.spine.loop = this.animationMode == SpineControllerMode.Loop, this.trackEntry = this.spine.state.addAnimation(0, this.animationName, this.spine.loop, 0), this.trackEntry.listener = {
            complete: function (e, i) {
                SpineController.prototype.OnAnimationComplete.call(t, e)
            }
        }, this.needUpdateSpine = !0
    }
    this.duration = this.trackEntry.animation.duration, this.speed = this.animationTime > 0 ? this.duration / this.animationTime : 1
}, SpineController.prototype.OnAnimationComplete = function (t) {
    this.animationMode == SpineControllerMode.DefaultThenReset && this.Reset(), this.animationMode != SpineControllerMode.Loop && (this.isPlaying = !1, this.trackEntry.timeScale = 0, null != this.onComplete && this.onComplete.Start())
}, SpineController.prototype.Reset = function () {
    null != this.trackEntry ? (this.prevAnimationName = "", this.SampleTime(0), this.isPlaying = !1) : this.actions.push(SpineControllerCATAction.Reset)
}, SpineController.prototype.PlayInternal = function () {
    null != this.trackEntry ? (this.SetToSetupPose(), this.SampleTime(0), this.trackEntry.timeScale = this.speed * this.direction) : this.actions.push(SpineControllerCATAction.Play)
}, SpineController.prototype.Play = function () {
    this.PlayInternal(), this.isPlaying = !0
}, SpineController.prototype.Stop = function () {
    this.Reset()
}, SpineController.prototype.PauseInternal = function () {
    null != this.trackEntry ? (this.SampleTime(this.trackTime), this.isPlaying = !1) : this.actions.push(SpineControllerCATAction.Pause)
}, SpineController.prototype.Pause = function () {
    null != this.trackEntry && (this.trackTime = this.trackEntry.animationLast), this.PauseInternal()
}, SpineController.prototype.Resume = function () {
    null != this.trackEntry ? (this.SampleTime(this.trackTime), this.trackEntry.timeScale = this.speed * this.direction, this.isPlaying = !0) : this.actions.push(SpineControllerCATAction.Resume)
}, SpineController.prototype.SampleTime = function (t) {
    if (null == this.trackEntry) return this.sampleTime = t, this.sampleTimeIsNormalized = !1, void this.actions.push(SpineControllerCATAction.Sample);
    this.SetupAnimation(), this.trackTime = t, this.trackEntry.trackTime = t, this.trackEntry.timeScale = 0, this.needUpdateSpine = !0, this.frameOfLastUpdate == Time.frameCount && this.UpdateSpine()
}, SpineController.prototype.Sample = function (t) {
    if (null == this.trackEntry) return this.sampleTime = t, this.sampleTimeIsNormalized = !0, void this.actions.push(SpineControllerCATAction.Sample);
    this.SampleTime(t * this.duration)
}, SpineController.prototype.IsPlaying = function () {
    return this.isPlaying
}, SpineController.prototype.OnWillRenderObject = function () {
    if (this.isUpdated || (this.Update(), this.isUpdated)) {
        this.pixiObject.dirtyWT = !0;
        var t = this.spine;
        t.tint = this.color.rgbAsHex, null != this.panel ? t.alpha = this.color.a * this.panel.alpha : t.alpha = this.color.a, t.worldAlpha = t.alpha;
        var e = this.gameObject.transform;
        if (e.IsDirtyUserFlag(Transform._DirtyFlagSpine)) {
            e._internal_get_position(), e._internal_get_rotation(), e._internal_get_scale(), e.ClearDirtyUserFlag(Transform._DirtyFlagSpine);
            var i = this.pixiObject,
                n = e.parent.transform,
                o = n._dangerous_get_position();
            i.x = o.x, i.y = -o.y, o = e._dangerous_get_localPosition(), t.x = o.x, t.y = -o.y, i.rotation = -n._dangerous_get_rotation().eulerAnglesRad().z, t.rotation = -e._dangerous_get_localRotation().eulerAnglesRad().z, o = n._dangerous_get_scale(), i.scale.x = o.x, i.scale.y = o.y, o = e._dangerous_get_localScale(), t.scale.x = o.x * this.spineData.scale, t.scale.y = o.y * this.spineData.scale
        }
    }
}, SpineController.prototype.SetToSetupPose = function () {
    null != this.spine && null != this.spine.skeleton && this.spine.skeleton.setToSetupPose()
}, SpineController.prototype.SetDirection = function (t) {
    this.direction = t < 0 ? -1 : 1
}, goog.require("UHT.Engine"), SpineCustomAnimator.prototype = Object.create(Component.prototype), SpineCustomAnimator.prototype.constructor = SpineCustomAnimator, SpineCustomAnimator.PlayMode = {
    Default: 0,
    Loop: 1,
    PingPong: 2,
    DefaultThenFirstFrame: 3
}, SpineCustomAnimator.prototype.Play = function () {
    this.playing = !0
}, SpineCustomAnimator.prototype.Pause = function () {
    this.playing = !1
}, SpineCustomAnimator.prototype.Stop = function () {
    this.playing = !1, this.direction = this.playReverse ? -1 : 1, this.currentTime = this.playReverse ? this.animationTime - 1e-5 : 0
}, SpineCustomAnimator.prototype.Reset = function () {
    this.reset = !0, this.Stop(), this.Update()
}, SpineCustomAnimator.prototype.OnEnable = function () {
    this.playAutomatically && (this.playing = !0), this.useTimeChannel && (this.myTimeChannel = Globals.RegisterToTimeChannel(this, this.timeChannelID), this.myTimeChannel.IsChannelMaster(this) || (this.currentTime = this.myTimeChannel.currentTime, this.Update()))
}, SpineCustomAnimator.prototype.OnDisable = function () {
    this.StopOnDisable && this.Reset(), this.useTimeChannel && Globals.UnregisterFromTimeChannel(this, this.timeChannelID)
}, SpineCustomAnimator.prototype.Awake = function () {
    this.direction = this.playReverse ? -1 : 1, this.currentTime = this.playReverse ? this.animationTime - 1e-5 : 0, this.firstCurveKey = this.animationCurve.keys[0], this.lastCurveKey = this.animationCurve.keys[this.animationCurve.keys.length - 1], this.totalCurveTime = this.lastCurveKey.time
}, SpineCustomAnimator.prototype.Update = function () {
    if (!_string.IsNullOrEmpty(this.animationName) && (this.playing || this.reset)) {
        this.reset ? this.reset = !1 : this.ComputeTime();
        var t = this.currentTime / this.animationTime;
        if (this.animationCurve.keys.length >= 2) {
            var e = t * this.totalCurveTime;
            t = this.animationCurve.Evaluate(e), t = UHTMath.clamp(t, 0, 1)
        }
        this.spineController.Sample(t)
    }
}, SpineCustomAnimator.prototype.Sample = function (t) {
    this.spineController.Sample(t)
}, SpineCustomAnimator.prototype.ChangeAnimation = function (t) {
    this.animationName = t, this.spineController.animationName = t, this.Reset(), this.Play()
}, SpineCustomAnimator.prototype.ComputeTime = function () {
    if (this.direction > 0)
        if (this.currentTime >= this.animationTime) switch (this.playMode) {
            case SpriteFramesAnimator.PlayMode.Loop:
                this.elapsedDelay >= this.loopDelay ? (this.elapsedDelay = 0, this.currentTime -= this.animationTime) : this.elapsedDelay += Time.deltaTime * this.timeScale;
                break;
            case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:
                this.Stop();
                break;
            case SpriteFramesAnimator.PlayMode.PingPong:
                this.direction = -1, this.noPauseAtPingPongEnd && (this.currentTime -= this.animationTime + Time.deltaTime);
                break;
            default:
                this.Stop(), this.currentTime = this.animationTime;
                break
        } else this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime += Time.deltaTime * this.timeScale, this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime += Time.deltaTime * this.timeScale;
    if (this.direction < 0)
        if (this.currentTime <= 0) switch (this.playMode) {
            case SpriteFramesAnimator.PlayMode.Loop:
                this.elapsedDelay >= this.loopDelay ? (this.elapsedDelay = 0, this.currentTime += this.animationTime) : this.elapsedDelay += Time.deltaTime * this.timeScale;
                break;
            case SpriteFramesAnimator.PlayMode.PingPong:
                this.direction = 1;
                break;
            case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:
                this.Stop();
                break;
            default:
                this.Stop(), this.currentTime = 0;
                break
        } else this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime -= Time.deltaTime * this.timeScale, this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime -= Time.deltaTime * this.timeScale
}, goog.require("UHT.Engine"), SpineSyncer.prototype = Object.create(Component.prototype), SpineSyncer.prototype.constructor = SpineSyncer, SpineSyncer.prototype.LateUpdate = function () {
    if (this.isSyncing) {
        var t = this.source.spine;
        if (null != t) {
            var e = t.state;
            if (null != e) {
                var i = e.getCurrent(0);
                if (null != i) {
                    for (var n = i.animationLast / i.animation.duration, o = 0; o < this.spines.length; ++o) this.spines[o].Sample(n);
                    for (o = 0; o < this.widgets.length; ++o) this.widgets[o].Sample(n);
                    for (o = 0; o < this.animators.length; ++o) this.animators[o].Sample(n)
                }
            }
        }
    }
}, SpineSyncer.prototype.StartSyncing = function () {
    this.isSyncing = !0
}, SpineSyncer.prototype.StopSyncing = function () {
    this.isSyncing = !1
}, goog.require("UHT.Engine"), SpriteFramesAnimator.prototype = Object.create(Component.prototype), SpriteFramesAnimator.prototype.constructor = SpriteFramesAnimator, SpriteFramesAnimator.PlayMode = {
    Default: 0,
    Loop: 1,
    PingPong: 2,
    DefaultThenFirstFrame: 3
}, SpriteFramesAnimator.prototype.Play = function () {
    this.playing = !0
}, SpriteFramesAnimator.prototype.Pause = function () {
    this.playing = !1
}, SpriteFramesAnimator.prototype.Stop = function () {
    this.playing = !1, this.direction = this.playReverse ? -1 : 1, this.currentTime = this.playReverse ? this.animationTime - 1e-5 : 0
}, SpriteFramesAnimator.prototype.SetTimeScale = function (t) {
    this.timeScale = _number.otod(t)
}, SpriteFramesAnimator.prototype.Reset = function () {
    this.reset = !0, this.Stop(), this.Update()
}, SpriteFramesAnimator.prototype.OnEnable = function () {
    this.playAutomatically && (this.playing = !0), this.useTimeChannel && (this.myTimeChannel = Globals.RegisterToTimeChannel(this, this.timeChannelID), this.myTimeChannel.IsChannelMaster(this) || (this.currentTime = this.myTimeChannel.currentTime, this.Update()))
}, SpriteFramesAnimator.prototype.OnDisable = function () {
    this.StopOnDisable && this.Reset(), this.useTimeChannel && Globals.UnregisterFromTimeChannel(this, this.timeChannelID)
}, SpriteFramesAnimator.prototype.Awake = function () {
    this.direction = this.playReverse ? -1 : 1, this.currentTime = this.playReverse ? this.animationTime - 1e-5 : 0, this.firstCurveKey = this.animationCurve.keys[0], this.lastCurveKey = this.animationCurve.keys[this.animationCurve.keys.length - 1], this.totalCurveTime = this.lastCurveKey.time - this.firstCurveKey.time, this.RebuildSpriteList()
}, SpriteFramesAnimator.prototype.Update = function () {
    if (this.AllAtlasesAreDownloaded() && (this.playing || this.reset) && null != this.mSpriteNames && this.mSpriteNames.length > 1) {
        this.reset ? this.reset = !1 : this.ComputeTime();
        var t = this.currentTime / this.animationTime;
        if (this.animationCurve.keys.length >= 2) {
            var e = t * this.totalCurveTime;
            t = this.animationCurve.Evaluate(e), t = UHTMath.clamp(t, 0, 1)
        }
        var i = Math.floor(t * this.mSpriteNames.length);
        i > this.mSpriteNames.length - 1 ? i = this.mSpriteNames.length - 1 : i < 0 && (i = 0), this.ChangeAtlas(i), this.SameFrameSize ? this.mSprite.SetSpriteNameForAnimation(this.mSpriteNames[i].name) : this.mSprite.SetSpriteName(this.mSpriteNames[i].name)
    }
}, SpriteFramesAnimator.prototype.AllAtlasesAreDownloaded = function () {
    for (var t = 0; t < this.animationAtlases.length; t++)
        if (!this.animationAtlases[t].isLoaded()) return !1;
    return !0
}, SpriteFramesAnimator.prototype.ComputeTime = function () {
    if (this.direction > 0)
        if (this.currentTime >= this.animationTime) switch (this.playMode) {
            case SpriteFramesAnimator.PlayMode.Loop:
                this.elapsedDelay >= this.loopDelay ? (this.elapsedDelay = 0, this.currentTime -= this.animationTime) : this.elapsedDelay += Time.deltaTime * this.timeScale;
                break;
            case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:
                this.Stop();
                break;
            case SpriteFramesAnimator.PlayMode.PingPong:
                this.direction = -1, this.noPauseAtPingPongEnd && (this.currentTime -= this.animationTime / this.mSpriteNames.length + Time.deltaTime);
                break;
            default:
                this.Stop(), this.currentTime = this.animationTime;
                break
        } else this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime += Time.deltaTime * this.timeScale, this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime += Time.deltaTime * this.timeScale;
    if (this.direction < 0)
        if (this.currentTime <= 0) switch (this.playMode) {
            case SpriteFramesAnimator.PlayMode.Loop:
                this.elapsedDelay >= this.loopDelay ? (this.elapsedDelay = 0, this.currentTime += this.animationTime) : this.elapsedDelay += Time.deltaTime * this.timeScale;
                break;
            case SpriteFramesAnimator.PlayMode.PingPong:
                this.direction = 1;
                break;
            case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:
                this.Stop();
                break;
            default:
                this.Stop(), this.currentTime = 0;
                break
        } else this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime -= Time.deltaTime * this.timeScale, this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime -= Time.deltaTime * this.timeScale
}, SpriteFramesAnimator.prototype.RebuildSpriteList = function () {
    null == this.mSprite && (this.mSprite = this.gameObject.GetComponent(UISprite)), this.mSpriteNames = [];
    var t = [];
    0 == this.animationAtlases.length ? t.push(this.mSprite.atlas) : t = this.animationAtlases.slice(0);
    for (var e = 0; e < t.length; e++)
        if (null != this.mSprite && null != t[e])
            for (var i = t[e].getSpriteNames(), n = i.length, o = 0; o < n; ++o)
                if (_string.IsNullOrEmpty(this.spriteNamePrefix) || 0 == i[o].indexOf(this.spriteNamePrefix)) {
                    var s = new SpriteNameAtlasPair(i[o], t[e]);
                    this.mSpriteNames.push(s)
                } this.mSpriteNames.sort((function (t, e) {
        return t.name == e.name ? 0 : t.name > e.name ? 1 : -1
    }))
}, SpriteFramesAnimator.prototype.ChangeAtlas = function (t) {
    this.mSprite.atlas != this.mSpriteNames[t].atlas && (this.mSprite.atlas = this.mSpriteNames[t].atlas)
}, goog.require("UHT.Engine"), SpriteSizeAnimator.prototype = Object.create(Component.prototype), SpriteSizeAnimator.prototype.constructor = SpriteSizeAnimator, SpriteSizeAnimator.prototype.Play = function () {
    this.playing = !0
}, SpriteSizeAnimator.prototype.Pause = function () {
    this.playing = !1
}, SpriteSizeAnimator.prototype.Stop = function () {
    this.playing = !1, this.mustStop = !1, this.direction = 1, this.currentTime = 0
}, SpriteSizeAnimator.prototype.Reset = function () {
    this.Stop(), this.playing = !0, this.Update()
}, SpriteSizeAnimator.prototype.Awake = function () {
    this.currentTime = 0;
    var t = this.animationCurve.keys[0],
        e = this.animationCurve.keys[this.animationCurve.keys.length - 1];
    this.totalCurveTime = e.time - t.time
}, SpriteSizeAnimator.prototype.OnEnable = function () {
    this.playAutomatically && (this.playing = !0)
}, SpriteSizeAnimator.prototype.OnDisable = function () {
    this.resetOnDisable && this.Reset()
}, SpriteSizeAnimator.prototype.Update = function () {
    if (this.playing) {
        this.ComputeTime();
        var t = this.currentTime / this.animationTime;
        if (this.animationCurve.keys.length >= 2) {
            var e = t * this.totalCurveTime;
            t = this.animationCurve.Evaluate(e), t = UHTMath.clamp(t, 0, 1)
        }
        var i = UHTMath.Vector3.lerp(this.startSize, this.endSize, t);
        this.targetSprite.width = Math.ceil(i.x), this.targetSprite.height = Math.ceil(i.y), this.mustStop && this.Stop()
    }
}, SpriteSizeAnimator.prototype.ComputeTime = function () {
    if (this.direction > 0)
        if (this.currentTime >= this.animationTime) switch (this.playMode) {
            case SpriteFramesAnimator.PlayMode.Default:
                this.currentTime = this.animationTime, this.mustStop = !0;
                break;
            case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:
                this.currentTime = 0, this.mustStop = !0;
                break;
            case SpriteFramesAnimator.PlayMode.Loop:
                this.currentTime -= this.animationTime;
                break;
            case SpriteFramesAnimator.PlayMode.PingPong:
                this.direction = -1;
                break
        } else this.currentTime += Time.deltaTime;
        else if (this.currentTime <= 0) switch (this.playMode) {
        case SpriteFramesAnimator.PlayMode.Default:
            this.currentTime = 0, this.mustStop = !0;
            break;
        case SpriteFramesAnimator.PlayMode.DefaultThenFirstFrame:
            this.currentTime = 0, this.mustStop = !0;
            break;
        case SpriteFramesAnimator.PlayMode.Loop:
            this.currentTime += this.animationTime;
            break;
        case SpriteFramesAnimator.PlayMode.PingPong:
            this.direction = 1;
            break
    } else this.currentTime -= Time.deltaTime
}, SpriteSizeAnimator.prototype.Sample = function (t) {
    var e = (t = Number(t)) * this.totalCurveTime;
    t = this.animationCurve.Evaluate(e), t = UHTMath.clamp(t, 0, 1);
    var i = UHTMath.Vector3.lerp(this.startSize, this.endSize, t);
    this.affectsWidth && (null != this.targetSprite && (this.targetSprite.width = Math.ceil(i.x + (this.extraSize ? this.targetSprite.width : 0))), null != this.targetCollider && (this.targetCollider.size = new UHTMath.Vector3(i.x + (this.extraSize ? this.targetCollider.size.x : 0), this.targetCollider.size.y, this.targetCollider.size.z))), this.affectsHeight && (null != this.targetSprite && (this.targetSprite.height = Math.ceil(i.y + (this.extraSize ? this.targetSprite.height : 0))), null != this.targetCollider && (this.targetCollider.size = new UHTMath.Vector3(this.targetCollider.size.x, i.y + (this.extraSize ? this.targetCollider.size.y : 0), this.targetCollider.size.z)))
}, goog.provide("UHT.FloatAnimatedMonoBehaviour"), goog.require("UHT.Engine"), CurveValueAnimator.prototype = Object.create(Component.prototype), CurveValueAnimator.prototype.constructor = CurveValueAnimator, FloatAnimatedMonoBehaviour.prototype = Object.create(Component.prototype), FloatAnimatedMonoBehaviour.prototype.constructor = FloatAnimatedMonoBehaviour, FloatAnimatedMonoBehaviour.prototype.ResetF = function () {}, CurveValueAnimator.prototype.Awake = function () {
    this.lastKeyTime = this.curve.keys[this.curve.keys.length - 1].time
}, CurveValueAnimator.prototype.StartCurveAnimation = function () {
    this.isStarted = !0, this.startTime = Time.time
}, CurveValueAnimator.prototype.StopCurveAnimation = function () {
    this.isStarted = !1;
    for (var t = 0; t < this.animatedMemberTargets.length; t++) this.animatedMemberTargets[t].ResetF()
}, CurveValueAnimator.prototype.Update = function () {
    var t = Time.time;
    if (this.isStarted) {
        for (var e = 0; e < this.animatedMemberTargets.length; e++) this.animatedMemberTargets[e].AnimatedF = this.curve.Evaluate(this.Loop ? (t - this.startTime) % this.lastKeyTime : UHTMath.clamp(t - this.startTime, 0, this.lastKeyTime));
        this.Loop || t - this.startTime > this.lastKeyTime && (this.isStarted = !1)
    }
}, goog.require("UHT.Engine"), goog.require("UHT.FloatAnimatedMonoBehaviour"), AlphaAnimatedSprite.prototype = Object.create(FloatAnimatedMonoBehaviour.prototype), AlphaAnimatedSprite.prototype.constructor = AlphaAnimatedSprite, AlphaAnimatedSprite.prototype.ResetF = function () {
    this.AnimatedF = this.resetValue, this.oldAlpha = this.resetValue, this.mySprite.color.a = UHTMath.clamp(this.resetValue, 0, 1)
}, AlphaAnimatedSprite.prototype.Awake = function () {
    this.mySprite = this.gameObject.GetComponent(UISprite)
}, AlphaAnimatedSprite.prototype.Update = function () {
    this.AnimatedF != this.oldAlpha && (this.mySprite.color.a = UHTMath.clamp(this.AnimatedF, 0, 1), this.oldAlpha = this.AnimatedF)
}, AlphaAnimatedSprite.prototype.CAT_GoToCustomValue = function (t) {
    this.AnimatedF = _number.otod(t), this.oldAlpha = this.AnimatedF, this.mySprite.color.a = UHTMath.clamp(this.AnimatedF, 0, 1)
}, goog.require("UHT.Globals"), goog.require("UHT.MessageSender"), CustomDragObject.prototype = Object.create(Component.prototype), CustomDragObject.prototype.constructor = CustomDragObject, CustomDragObject.prototype.scriptUpdatePriority = 7, CustomDragObject.prototype.Awake = function () {
    var t = this,
        e = function (e) {
            return t.OnMouseWheel(e)
        };
    registerCustomDragObjectAsListener("mousewheel", e, {
        passive: !1
    }), registerCustomDragObjectAsListener("DOMMouseScroll", e, {
        passive: !1
    })
}, CustomDragObject.prototype.OnMouseWheel = function (t) {
    t.preventDefault(), this.gameObject.activeInHierarchy && this.isHover && (!Globals.InputBlocked || null != this.cachedCamera && this.cachedCamera.ignoreInputBlocked) && (this.wheelDirection = t.wheelDelta ? -t.wheelDelta : t.detail, this.wheelDirection = UHTMath.clamp(this.wheelDirection, -1, 1))
}, CustomDragObject.prototype.OnEnable = function () {
    null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.target.gameObject)), this.isPressed = !1, this.isStarted = !1
}, CustomDragObject.prototype.OnPress = function (t) {
    if (this.isPressed = t, t) this.lastMousePosition = Input.mousePosition, this.mouseTotalDelta = new UHTMath.Vector3(0, 0, 0), this.isStarted = !1;
    else if (this.isStarted) {
        this.isStarted = !1;
        var e = !1;
        Time.time - this.swipeStartTime <= this.swipeMaxTime && (this.mouseTotalDelta.x > this.swipeMinDistance * UHTScreen.height ? (MessageSender.SendMessage(this.messageSwipeRight), e = !0) : this.mouseTotalDelta.x < -this.swipeMinDistance * UHTScreen.height && (MessageSender.SendMessage(this.messageSwipeLeft), e = !0), this.mouseTotalDelta.y > this.swipeMinDistance * UHTScreen.height ? (MessageSender.SendMessage(this.messageSwipeDown), e = !0) : this.mouseTotalDelta.y < -this.swipeMinDistance * UHTScreen.height && (MessageSender.SendMessage(this.messageSwipeUp), e = !0)), this.swipeOverridesDrag && e || MessageSender.SendMessage(this.messageDragEnds)
    }
}, CustomDragObject.prototype.Update = function () {
    if (this.isPressed) {
        if (!this.useOnlyScrollWheel) {
            var t = UHTMath.Vector3.sub(Input.mousePosition, this.lastMousePosition);
            if (this.mouseTotalDelta.add(t), this.lastMousePosition = Input.mousePosition, this.isStarted || this.mouseTotalDelta.sqrMagnitude() > 20 && (this.isStarted = !0, this.swipeStartTime = Time.time, MessageSender.SendMessage(this.messageDragStarts)), this.isStarted) {
                null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.target.gameObject));
                var e = UHTMath.Vector3.sub(this.cachedCamera.ScreenToWorldPoint(this.lastMousePosition), this.cachedCamera.ScreenToWorldPoint(UHTMath.Vector3.add(this.lastMousePosition, t)));
                e.x *= this.movement.x, e.y *= this.movement.y, e.z *= this.movement.z, this.target.position(this.GetPosition(UHTMath.Vector3.sub(this.target.position(), e)))
            }
        }
    } else this.isHover && 0 != this.wheelDirection && (this.ScrollWheel(this.wheelDirection), this.wheelDirection = 0)
}, CustomDragObject.prototype.OnHover = function (t) {
    this.isHover = t
}, CustomDragObject.prototype.ScrollWheel = function (t) {
    this.useScrollWheel && this.target.position(this.GetPosition(UHTMath.Vector3.add(this.target.position(), UHTMath.Vector3.scale(this.scrollWheelMovement, t))))
}, CustomDragObject.prototype.GetPosition = function (t) {
    if (this.limitPosition) {
        var e = this.target.parent.transformPoint(this.localPositionLimitMin),
            i = this.target.parent.transformPoint(this.localPositionLimitMax),
            n = UHTMath.clamp(t.x, e.x, i.x),
            o = UHTMath.clamp(t.y, e.y, i.y),
            s = UHTMath.clamp(t.z, e.z, i.z);
        return new UHTMath.Vector3(n, o, s)
    }
    return t
}, goog.require("UHT.Engine"), goog.require("UHT.TwoFloatsAnimatedMonoBehaviour"), ElementsFader.prototype = Object.create(TwoFloatsAnimatedMonoBehaviour.prototype), ElementsFader.prototype.constructor = ElementsFader, ElementsFader.prototype.SetAnimatedF_1 = function (t) {
    this.alphaValue = t, this.Update()
}, ElementsFader.prototype.SetAnimatedF_2 = function (t) {
    this.alphaValue = t, this.Update()
}, ElementsFader.prototype.ResetF_1 = function () {
    this.alphaValue = this.resetValue_1, this.Update()
}, ElementsFader.prototype.ResetF_2 = function () {
    this.alphaValue = this.resetValue_2, this.Update()
}, ElementsFader.prototype.Update = function () {
    if (this.oldAlpha != this.alphaValue) {
        this.alphaValue = UHTMath.clamp(this.alphaValue, 0, 1);
        for (var t = 0; t < this.labelsToFade.length; t++)
            if (this.alphaValue < .05) this.labelsToFade[t].enabled = !1;
            else {
                this.labelsToFade[t].enabled || (this.labelsToFade[t].enabled = !0);
                var e = this.labelsToFade[t].GetColor();
                e.a = this.alphaValue, this.labelsToFade[t].SetColor(e)
            } for (var i = 0; i < this.spritesToFade.length; i++) this.alphaValue < .05 ? this.spritesToFade[i].enabled = !1 : (this.spritesToFade[i].enabled || (this.spritesToFade[i].enabled = !0), this.spritesToFade[i].color.a = this.alphaValue);
        this.oldAlpha = this.alphaValue
    }
}, goog.require("UHT.XTLink"), GameWindow.prototype = Object.create(XTLink.prototype), GameWindow.prototype.constructor = GameWindow, GameWindow.prototype.XTRegisterCallbacks = function () {
    if (this.isEnabled) {
        for (var t = 0; t < this.showOnEvents.length; t++) XT.RegisterCallbackEvent(this.showOnEvents[t].name, this.OnShowWindow, this);
        for (var e = 0; e < this.hideOnEvents.length; e++) XT.RegisterCallbackEvent(this.hideOnEvents[e].name, this.OnHideWindow, this);
        XT.RegisterCallbackBool(Vars.LastWinIsCounting, this.OnLastWinIsCountingChanged, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BigWinHasFinished, this.OnBigWinHasFinished, this)
    }
}, GameWindow.prototype.OnDestroy = function () {
    this.isEnabled && (XT.UnregisterCallbackEvent(this.OnShowWindow, this), XT.UnregisterCallbackEvent(this.OnHideWindow, this), XT.UnregisterCallbackBool(this.OnLastWinIsCountingChanged, this))
}, GameWindow.prototype.OnCloseButtonPressed = function () {
    this.isEnabled && this.OnHideWindow()
}, GameWindow.prototype.OnShowWindow = function () {
    this.isEnabled && (this.waitForBigWin && XT.GetBool(Vars.WaitInResultForBigWin) ? this.showAfterBigWinClear = !0 : this.waitForWinCount && XT.GetBool(Vars.LastWinIsCounting) ? this.showAfterWinCount = !0 : this.ShowWindow())
}, GameWindow.prototype.OnHideWindow = function () {
    if (null != this.cat && null != this.hideEventId.cat) null != this.showEventId && this.showEventId.IsRunning() && this.showEventId.Stop(), this.cat.RegisterCallback(this.hideEventId.id, this.HideEventFinished, this), this.cat.StartEvent(this.hideEventId.id);
    else {
        this.gameObject.SetActive(!1);
        for (var t = 0; t < this.triggerAfterHide.length; t++) XT.TriggerEvent(this.triggerAfterHide[t].name)
    }
}, GameWindow.prototype.ShowEventFinished = function (t, e) {
    if (t == CAT_Event.CallbackType.EndOfEvent) {
        for (var i = 0; i < this.triggerAfterShow.length; i++) XT.TriggerEvent(this.triggerAfterShow[i].name);
        null != this.cat && this.cat.UnregisterCallback(this.showEventId.id, this.ShowEventFinished, this)
    }
}, GameWindow.prototype.HideEventFinished = function (t, e) {
    if (t == CAT_Event.CallbackType.EndOfEvent) {
        this.gameObject.SetActive(!1);
        for (var i = 0; i < this.triggerAfterHide.length; i++) XT.TriggerEvent(this.triggerAfterHide[i].name);
        null != this.cat && this.cat.UnregisterCallback(this.hideEventId.id, this.HideEventFinished, this)
    }
}, GameWindow.prototype.OnLastWinIsCountingChanged = function (t) {
    this.isEnabled && this.showAfterWinCount && !t && (this.ShowWindow(), this.showAfterWinCount = !1)
}, GameWindow.prototype.OnBigWinHasFinished = function () {
    this.isEnabled && this.showAfterBigWinClear && (this.ShowWindow(), this.showAfterBigWinClear = !1)
}, GameWindow.prototype.ShowWindow = function () {
    this.isEnabled && (this.gameObject.SetActive(!0), null != this.cat && null != this.showEventId.cat && (this.cat.RegisterCallback(this.showEventId.id, this.ShowEventFinished, this), this.cat.StartEvent(this.showEventId.id)))
}, goog.require("UHT.Engine");
var FSWindow_WinAmount = {
    FSWindow_TotalWinDisplayed: "FSWindow_TotalWinDisplayed"
};

function GameWindow_FSWindow() {
    GameWindow.call(this), this.variable = null
}

function JurisdictionCustomization() {
    XTLink.call(this), this.jurisdiction = "", this.jurisdictionRequirement = null, this.jurisdictionCustomization = null, this.jurisdictionCustomizationF = null
}

function MoveSource() {
    XTLink.call(this), this.targetID = MoveTargetID.Invalid
}
GameWindow_FSWindow.prototype = Object.create(GameWindow.prototype), GameWindow_FSWindow.prototype.constructor = GameWindow_FSWindow, GameWindow_FSWindow.prototype.OnShowWindow = function () {
    var t = XT.GetDouble(this.variable.name);
    XT.SetDouble(FSWindow_WinAmount.FSWindow_TotalWinDisplayed, 0), XT.SetDouble(FSWindow_WinAmount.FSWindow_TotalWinDisplayed, t), GameWindow.prototype.OnShowWindow.call(this)
}, goog.require("UHT.XTLink"), JurisdictionCustomization.prototype = Object.create(XTLink.prototype), JurisdictionCustomization.prototype.constructor = JurisdictionCustomization, JurisdictionCustomization.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this)
}, JurisdictionCustomization.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGUIInit, this)
}, JurisdictionCustomization.prototype.OnGUIInit = function () {
    var t = !1,
        e = this.jurisdictionRequirement.name;
    null != e && "" != e && "*None*" != e && (t = XT.GetBool(e)), ServerOptions.jurisdiction == this.jurisdiction || t ? this.jurisdictionCustomization.Start() : this.jurisdictionCustomizationF.Start()
}, goog.require("UHT.Engine"), MoveSource.prototype = Object.create(XTLink.prototype), MoveSource.prototype.constructor = MoveSource, MoveSource.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(InterfaceVars.Interface_UpdateMoveSourceComponents, this.UpdatePosition, this)
}, MoveSource.prototype.Awake = function () {
    XTLink.prototype.Awake.call(this), this.UpdatePosition()
}, MoveSource.prototype.UpdatePosition = function () {
    for (var t = globalRuntime.sceneRoots, e = 0; e < t.length; ++e)
        for (var i = t[e].GetComponentsInChildren(MoveTarget, !0), n = 0; n < i.length; ++n)
            if (i[n].targetID == this.targetID) {
                i[n].useLocalPosition ? this.gameObject.transform.localPosition(i[n].transform.localPosition()) : this.gameObject.transform.position(i[n].transform.position());
                break
            }
}, goog.require("UHT.Engine");
var MoveTargetID = {
    Invalid: 0,
    SpinButton: 1,
    AutoplayButton: 2,
    BetButton: 3
};

function MoveTarget() {
    Component.call(this), this.targetID = MoveTargetID.Invalid, this.useLocalPosition = !1
}

function ObjectsDisablerByPath() {
    XTLink.call(this), this.paths = null, this.useOnGameInit = !0
}
MoveTarget.prototype = Object.create(Component.prototype), MoveTarget.prototype.constructor = MoveTarget, goog.require("UHT.XTLink"), ObjectsDisablerByPath.prototype = Object.create(XTLink.prototype), ObjectsDisablerByPath.prototype.constructor = ObjectsDisablerByPath, ObjectsDisablerByPath.prototype.XTRegisterCallbacks = function () {
    this.useOnGameInit && XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, ObjectsDisablerByPath.prototype.OnGameInit = function () {
    for (var t = globalRuntime.sceneRoots, e = t[1].transform.GetComponentsInChildren(LocalizationRoot, !0)[0].transform, i = 0; i < t.length; ++i)
        for (var n = 0; n < this.paths.length; ++n) {
            var o = t[i].transform.Find(this.paths[n]);
            if (null != o) o.gameObject.SetActive(!1);
            else {
                for (var s = this.paths[n].split("/"), a = "", r = 3; r < s.length; r++) a += s[r] + (r < s.length - 1 ? "/" : "");
                null != (o = e.Find(a)) && o.gameObject.SetActive(!1)
            }
        }
}, goog.require("UHT.XTLink"), PageFlipper.prototype = Object.create(XTLink.prototype), PageFlipper.prototype.constructor = PageFlipper;
var MobilePageContentType = {
    Normal: 0,
    Jackpot: 1,
    JackpotPlay: 2
};

function PageFlipper() {
    XTLink.call(this), this.topPages = [], this.bottomPages = [], this.pageContentType = [], this.gambleTopPageIndex = -1, this.gambleBottomPageIndex = -1, this.dragObject = null, this.dragMovementOffset = 300, this.flippingPanelDepth = 1, this.staticPanelDepth = 0, this.pageSpringStrength = 5, this.animationTime = 0, this.followDragObject = !1, this.topPageIsFlipping = !1, this.bottomPageIsFlipping = !1, this.flippingPage = null, this.currentSpring = null, this.cachedCamera = null, this.dragReleaseTime = 0, this.lastDragObjHeight = 0, this.isDragged = !1, this.fakeIsNotDraggedUp = !1, this.fakeIsNotDraggedDown = !1, this.isFlippingEnabled = !0, this.jpData = null
}

function PanelAlphaProxy() {
    Component.call(this), this.alpha = -1, this.includeChildren = !0, this.oldAlpha = -1, this.panels = null, this.mustGetPanels = !0
}

function PanelFader() {
    TwoFloatsAnimatedMonoBehaviour.call(this), this.panelToFade = null, this.resetValue_1 = 1, this.resetValue_2 = 1, this.alphaValue = -1, this.oldAlpha = -1
}

function ParticleScaleFromLabel() {
    Component.call(this), this.targetLabel = null, this.extraScaleX = 1, this.extraScaleY = 1, this.extraSizeX = 0, this.extraSizeY = 0
}

function RandomGameObjectActivator() {
    Component.call(this), this.targetGameObject = null, this.minActiveDuration = 1, this.maxActiveDuration = 1, this.minInactiveDuration = 1, this.maxInactiveDuration = 5, this.useRandomScaleOnEnable = !1, this.minScaleMultiplier = 1, this.maxScaleMultiplier = 2, this.timer = 0, this.duration = 0, this.isInactive = !0, this.initialScale = new UHTMath.Vector3(1, 1, 1)
}

function RandomIntervalCATLink() {
    Component.call(this), this.catLink = null, this.minInterval = 0, this.maxInterval = 0, this.timer = 0, this.targetTimer = 0
}

function RequirementChecker() {
    XTLink.call(this), this.jurisdictionRequirement = null, this.isActiveWhenRequirementIsTrue = !0, this.isActive = !1
}

function RoutineQueueHelper() {}

function ScheduledRQItem() {
    this.rqItem, this.time = 0
}

function SpriteFillProxy() {
    Component.call(this), this.targetSprite = null, this.fillAmount = 0, this.topFillAmount = 0, this.bottomFillAmount = 0, this.leftFillAmount = 0, this.rightFillAmount = 0, this.previousFillAmount = 0, this.previousTopFillAmount = 0, this.previousBottomFillAmount = 0, this.previousLeftFillAmount = 0, this.previousRightFillAmount = 0, this.fillChanged = !1
}
PageFlipper.visibleTopPage = 0, PageFlipper.visibleBottomPage = 0, PageFlipper.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableMobileUpdatePages, this.OnMustUpdatePages, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this), EventManager.AddHandler(JackpotEvents.evtJackpotStateChanged, this.OnJackpotStateChanged, this)
}, PageFlipper.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnMustUpdatePages, this), XT.UnregisterCallbackEvent(this.OnGUIInit, this)
}, PageFlipper.prototype.OnJackpotStateChanged = function (t) {
    this.jpData = t
}, PageFlipper.prototype.OnGUIInit = function () {
    0 == XT.GetBool(Vars.CanGamble_Spin) && this.gambleTopPageIndex >= 0 && this.gambleBottomPageIndex >= 0 && (this.topPages.splice(this.gambleTopPageIndex, 1), this.bottomPages.splice(this.gambleBottomPageIndex, 1)), this.ProcessJackpotPages(), this.ProcessRequirementChecker()
}, PageFlipper.prototype.ProcessJackpotPages = function () {
    var t = !1;
    if (0 == window.UHT_GAME_CONFIG.GAME_SYMBOL.indexOf("vsprg") && (t = !0), -1 != this.pageContentType.indexOf(PageContentType.Jackpot) || -1 != this.pageContentType.indexOf(PageContentType.JackpotPlay)) {
        for (var e = 0, i = 0; i < this.pageContentType.length; i++) this.topPages[i - e].gameObject.SetActive(!1), this.bottomPages[i - e].gameObject.SetActive(!1), null == this.jpData || this.jpData.IsActive ? (this.pageContentType[i] == PageContentType.Jackpot && t || this.pageContentType[i] == PageContentType.JackpotPlay && !t) && (this.topPages.splice(i - e, 1), this.bottomPages.splice(i - e, 1), e++) : this.pageContentType[i] != PageContentType.Jackpot && this.pageContentType[i] != PageContentType.JackpotPlay || (this.topPages.splice(i - e, 1), this.bottomPages.splice(i - e, 1), e++);
        for (var n = 0; n < this.topPages.length; n++) this.topPages[n].gameObject.SetActive(0 == n), this.bottomPages[n].gameObject.SetActive(0 == n)
    }
}, PageFlipper.prototype.OnMustUpdatePages = function () {
    for (var t = 0; t < this.topPages.length; t++) this.topPages[t].gameObject.SetActive(PageFlipper.visibleTopPage == t);
    for (var e = 0; e < this.bottomPages.length; e++) this.bottomPages[e].gameObject.SetActive(PageFlipper.visibleBottomPage == e)
}, PageFlipper.prototype.OnDisable = function () {
    if (this.isFlippingEnabled) {
        null != this.flippingPage && (this.dragObject.localPosition(new UHTMath.Vector3(0, 0, 0)), this.SpringPositionFinised()), this.isDragged = !1, this.topPageIsFlipping = !1, this.bottomPageIsFlipping = !1;
        for (var t = 0; t < this.topPages.length; t++) this.topPages[t].gameObject.activeSelf && (PageFlipper.visibleTopPage = t);
        for (var e = 0; e < this.bottomPages.length; e++) this.bottomPages[e].gameObject.activeSelf && (PageFlipper.visibleBottomPage = e);
        XT.TriggerEvent(Vars.Evt_Internal_PaytableMobileUpdatePages)
    }
}, PageFlipper.prototype.Update = function () {
    if (this.isFlippingEnabled && this.followDragObject) {
        if (this.animationTime = this.dragObject.localPosition().y / this.dragMovementOffset, this.animationTime > 0) {
            if (this.topPageIsFlipping) this.isDragged && !this.fakeIsNotDraggedUp ? (this.lastDragObjHeight > this.dragObject.localPosition().y && this.dragObject.localPosition(new UHTMath.Vector3(0, 0, 0)), this.animationTime = 0) : (this.fakeIsNotDraggedUp = !1, this.StopFlippingTopPage());
            else if (this.animationTime > 1) {
                if (null == this.flippingPage) return void this.dragObject.localPosition(this.dragObject.localPosition().x, 0, this.dragObject.localPosition().z);
                this.fakeIsNotDraggedDown = !1, this.fakeIsNotDraggedUp = !1, this.SwitchFromBotToTopPageFlipping();
                var t = new UHTMath.Vector3(this.dragObject.localPosition().x, -(this.dragMovementOffset - 1), this.dragObject.localPosition().z);
                return this.dragObject.localPosition(t.x, t.y, t.z), this.animationTime = this.dragObject.localPosition().y / this.dragMovementOffset, this.animationTime < 0 && (this.animationTime *= -1), void this.SampleAnimation(this.flippingPage.gameObject.animation, this.animationTime)
            }
            null == this.flippingPage && this.BottomPageStartsFlipping()
        }
        if (this.animationTime < 0) {
            if (this.animationTime *= -1, this.bottomPageIsFlipping) this.isDragged && !this.fakeIsNotDraggedDown ? (this.lastDragObjHeight < this.dragObject.localPosition().y && this.dragObject.localPosition(new UHTMath.Vector3(0, 0, 0)), this.animationTime = 0) : (this.fakeIsNotDraggedDown = !1, this.StopFlippingBottomPage());
            else if (this.animationTime > 1) {
                if (null == this.flippingPage) return void this.dragObject.localPosition(this.dragObject.localPosition().x, 0, this.dragObject.localPosition().z);
                this.fakeIsNotDraggedDown = !1, this.fakeIsNotDraggedUp = !1, this.SwitchFromTopToBottomPageFlipping();
                var e = new UHTMath.Vector3(this.dragObject.localPosition().x, this.dragMovementOffset - 1, this.dragObject.localPosition().z);
                return this.dragObject.localPosition(e.x, e.y, e.z), this.animationTime = this.dragObject.localPosition().y / this.dragMovementOffset, this.animationTime < 0 && (this.animationTime *= -1), void this.SampleAnimation(this.flippingPage.gameObject.animation, this.animationTime)
            }
            null == this.flippingPage && this.TopPageStartsFlipping()
        }
        this.lastDragObjHeight = this.dragObject.localPosition().y, null != this.flippingPage && this.SampleAnimation(this.flippingPage.gameObject.animation, this.animationTime)
    }
}, PageFlipper.prototype.OnClick = function () {
    if (this.isFlippingEnabled && !(Time.time - this.dragReleaseTime < .2)) {
        null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
        var t = this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),
            e = this.gameObject.collider.center;
        e = this.gameObject.transform.transformPoint(e), t.y <= e.y ? (this.currentSpring = SpringPosition.Begin(this.dragObject.gameObject, new UHTMath.Vector3(0, 1.7 * this.dragMovementOffset, 0), this.pageSpringStrength), this.currentSpring.callWhenFinished = "SpringPositionFinised", this.currentSpring.eventReceiver = this, this.followDragObject = !0) : (this.currentSpring = SpringPosition.Begin(this.dragObject.gameObject, new UHTMath.Vector3(0, 1.7 * -this.dragMovementOffset, 0), this.pageSpringStrength), this.currentSpring.callWhenFinished = "SpringPositionFinised", this.currentSpring.eventReceiver = this, this.followDragObject = !0)
    }
}, PageFlipper.prototype.OnDragStarts = function () {
    this.isDragged = !0, this.followDragObject = !0, null != this.currentSpring && this.currentSpring.enabled && (this.animationTime < .2 && (this.topPageIsFlipping ? this.fakeIsNotDraggedUp = !0 : this.bottomPageIsFlipping && (this.fakeIsNotDraggedDown = !0), this.dragObject.localPosition(new UHTMath.Vector3(0, 0, 0))), this.currentSpring.enabled = !1)
}, PageFlipper.prototype.OnDragEnds = function () {
    this.isDragged = !1, this.dragReleaseTime = Time.time, this.animationTime < .05 ? (this.dragObject.localPosition(new UHTMath.Vector3(0, 0, 0)), this.SpringPositionFinised()) : (this.currentSpring = SpringPosition.Begin(this.dragObject.gameObject, new UHTMath.Vector3(0, 0, 0), this.pageSpringStrength), this.currentSpring.callWhenFinished = "SpringPositionFinised", this.currentSpring.eventReceiver = this)
}, PageFlipper.prototype.OnSwipe = function (t) {
    this.isDragged = !1, this.dragReleaseTime = Time.time;
    var e = 1;
    "DOWN" == t && (e = -1), this.animationTime < .05 && (this.dragObject.localPosition(new UHTMath.Vector3(0, 0, 0)), this.SpringPositionFinised()), e > 0 && this.topPageIsFlipping || e < 0 && this.bottomPageIsFlipping ? this.currentSpring = SpringPosition.Begin(this.dragObject.gameObject, new UHTMath.Vector3(0, 0, 0), this.pageSpringStrength) : this.currentSpring = SpringPosition.Begin(this.dragObject.gameObject, new UHTMath.Vector3(0, e * this.dragMovementOffset * 1.7, 0), this.pageSpringStrength), this.currentSpring.callWhenFinished = "SpringPositionFinised", this.currentSpring.eventReceiver = this
}, PageFlipper.prototype.SpringPositionFinised = function () {
    this.followDragObject = !1, this.topPageIsFlipping ? this.StopFlippingTopPage() : this.bottomPageIsFlipping && this.StopFlippingBottomPage()
}, PageFlipper.prototype.StopFlippingTopPage = function () {
    this.topPageIsFlipping = !1, this.SampleAnimation(this.flippingPage.gameObject.animation, 0);
    for (var t = 0; t < this.topPages.length; t++)
        if (this.flippingPage == this.topPages[t]) {
            0 == t ? this.topPages[this.topPages.length - 1].gameObject.SetActive(!1) : this.topPages[t - 1].gameObject.SetActive(!1), this.flippingPage.GetComponent(UIPanel).depth = this.staticPanelDepth, this.flippingPage = null;
            break
        }
}, PageFlipper.prototype.StopFlippingBottomPage = function () {
    this.bottomPageIsFlipping = !1, this.SampleAnimation(this.flippingPage.gameObject.animation, 0);
    for (var t = 0; t < this.bottomPages.length; t++)
        if (this.flippingPage == this.bottomPages[t]) {
            t == this.bottomPages.length - 1 ? this.bottomPages[0].gameObject.SetActive(!1) : this.bottomPages[t + 1].gameObject.SetActive(!1), this.flippingPage.GetComponent(UIPanel).depth = this.staticPanelDepth, this.flippingPage = null;
            break
        }
}, PageFlipper.prototype.SwitchFromBotToTopPageFlipping = function () {
    this.bottomPageIsFlipping = !1, this.topPageIsFlipping = !0, this.flippingPage.gameObject.SetActive(!1), this.flippingPage.GetComponent(UIPanel).depth = this.staticPanelDepth, this.SampleAnimation(this.flippingPage.gameObject.animation, 0);
    for (var t = 0; t < this.topPages.length; t++)
        if (this.topPages[t].gameObject.activeSelf) {
            t == this.topPages.length - 1 ? this.flippingPage = this.topPages[0] : this.flippingPage = this.topPages[t + 1], this.flippingPage.GetComponent(UIPanel).depth = this.flippingPanelDepth, this.flippingPage.gameObject.SetActive(!0);
            break
        } null != this.currentSpring && this.currentSpring.enabled && (this.currentSpring = SpringPosition.Begin(this.dragObject.gameObject, new UHTMath.Vector3(0, 0, 0), this.pageSpringStrength), this.currentSpring.callWhenFinished = "SpringPositionFinised", this.currentSpring.eventReceiver = this)
}, PageFlipper.prototype.SwitchFromTopToBottomPageFlipping = function () {
    this.topPageIsFlipping = !1, this.bottomPageIsFlipping = !0, this.flippingPage.gameObject.SetActive(!1), this.flippingPage.GetComponent(UIPanel).depth = this.staticPanelDepth, this.SampleAnimation(this.flippingPage.gameObject.animation, 0);
    for (var t = 0; t < this.bottomPages.length; t++)
        if (this.bottomPages[t].gameObject.activeSelf) {
            this.flippingPage = 0 == t ? this.bottomPages[this.bottomPages.length - 1] : this.bottomPages[t - 1], this.flippingPage.GetComponent(UIPanel).depth = this.flippingPanelDepth, this.flippingPage.gameObject.SetActive(!0);
            break
        } null != this.currentSpring && this.currentSpring.enabled && (this.currentSpring = SpringPosition.Begin(this.dragObject.gameObject, new UHTMath.Vector3(0, 0, 0), this.pageSpringStrength), this.currentSpring.callWhenFinished = "SpringPositionFinised", this.currentSpring.eventReceiver = this)
}, PageFlipper.prototype.BottomPageStartsFlipping = function () {
    this.bottomPageIsFlipping = !0, this.topPageIsFlipping = !1;
    for (var t = 0; t < this.bottomPages.length; t++)
        if (this.bottomPages[t].gameObject.activeSelf) {
            this.flippingPage = this.bottomPages[t], this.flippingPage.GetComponent(UIPanel).depth = this.flippingPanelDepth, t == this.bottomPages.length - 1 ? this.bottomPages[0].gameObject.SetActive(!0) : this.bottomPages[t + 1].gameObject.SetActive(!0);
            break
        }
}, PageFlipper.prototype.TopPageStartsFlipping = function () {
    this.topPageIsFlipping = !0, this.bottomPageIsFlipping = !1;
    for (var t = 0; t < this.topPages.length; t++)
        if (this.topPages[t].gameObject.activeSelf) {
            this.flippingPage = this.topPages[t], this.flippingPage.GetComponent(UIPanel).depth = this.flippingPanelDepth, 0 == t ? this.topPages[this.topPages.length - 1].gameObject.SetActive(!0) : this.topPages[t - 1].gameObject.SetActive(!0);
            break
        }
}, PageFlipper.prototype.SampleAnimation = function (t, e) {
    var i = t.GetAnimationState(t.clip.name);
    i.enabled = !0, i.weight = 1, i.time = e, t.Sample(), i.enabled = !1
}, PageFlipper.prototype.ProcessRequirementChecker = function () {
    for (var t = 0, e = this.topPages.length, i = 0; i < e; i++) {
        this.topPages[i - t].gameObject.SetActive(!1), this.bottomPages[i - t].gameObject.SetActive(!1);
        var n = this.topPages[i - t].GetComponent(window.RequirementChecker);
        null == n || n.isActive || (this.topPages.splice(i - t, 1), this.bottomPages.splice(i - t, 1), t++)
    }
    for (var o = 0; o < this.topPages.length; o++) this.topPages[o].gameObject.SetActive(0 == o), this.bottomPages[o].gameObject.SetActive(0 == o)
}, goog.require("UHT.Engine"), PanelAlphaProxy.prototype = Object.create(Component.prototype), PanelAlphaProxy.prototype.constructor = PanelAlphaProxy, PanelAlphaProxy.prototype.Start = function () {
    this.FindPanels()
}, PanelAlphaProxy.prototype.FindPanels = function () {
    this.includeChildren ? this.panels = this.gameObject.GetComponentsInChildren(UIPanel, !0) : this.panels = this.gameObject.GetComponents(UIPanel)
}, PanelAlphaProxy.prototype.Update = function () {
    if (Math.abs(this.alpha - this.oldAlpha) > .001) {
        this.mustGetPanels && (this.FindPanels(), this.mustGetPanels = !1), this.oldAlpha = this.alpha;
        for (var t = 0; t < this.panels.length; t++) this.panels[t].alpha = this.alpha
    } else this.mustGetPanels = !0
}, PanelAlphaProxy.prototype.SetAlpha = function (t) {
    this.alpha = t
}, goog.require("UHT.Engine"), goog.require("UHT.TwoFloatsAnimatedMonoBehaviour"), PanelFader.prototype = Object.create(TwoFloatsAnimatedMonoBehaviour.prototype), PanelFader.prototype.constructor = PanelFader, PanelFader.prototype.SetAnimatedF_1 = function (t) {
    this.alphaValue = UHTMath.clamp(t, 0, 1)
}, PanelFader.prototype.SetAnimatedF_2 = function (t) {
    this.alphaValue = UHTMath.clamp(t, 0, 1)
}, PanelFader.prototype.ResetF_1 = function () {
    this.alphaValue = UHTMath.clamp(this.resetValue_1, 0, 1)
}, PanelFader.prototype.ResetF_2 = function () {
    this.alphaValue = UHTMath.clamp(this.resetValue_2, 0, 1)
}, PanelFader.prototype.Update = function () {
    if (this.oldAlpha != this.alphaValue) {
        if (this.alphaValue < .05) return void(this.panelToFade.enabled = !1);
        this.panelToFade.enabled || (this.panelToFade.enabled = !0), this.panelToFade.alpha = this.alphaValue, this.oldAlpha = this.alphaValue
    }
}, goog.require("UHT.Engine"), ParticleScaleFromLabel.prototype = Object.create(Component.prototype), ParticleScaleFromLabel.prototype.constructor = ParticleScaleFromLabel, ParticleScaleFromLabel.prototype.OnEnable = function () {
    var t = new UHTMath.Vector3(this.targetLabel.GetWidth() * this.extraScaleX + this.extraSizeX, this.targetLabel.GetHeight() * this.extraScaleY + this.extraSizeY, 1);
    this.gameObject.transform.localScale(t)
}, goog.require("UHT.Engine"), RandomGameObjectActivator.prototype = Object.create(Component.prototype), RandomGameObjectActivator.prototype.constructor = RandomGameObjectActivator, RandomGameObjectActivator.prototype.Start = function () {
    this.isInactive = Random.Range(0, 2) > 0, this.initialScale = new UHTMath.Vector3(this.targetGameObject.transform.localScale().x, this.targetGameObject.transform.localScale().y, this.targetGameObject.transform.localScale().z), this.UpdateState()
}, RandomGameObjectActivator.prototype.Update = function () {
    this.timer >= this.duration ? this.UpdateState() : this.timer += Time.deltaTime
}, RandomGameObjectActivator.prototype.UpdateState = function () {
    if (this.isInactive) {
        if (this.duration = Random.Range(this.minActiveDuration, this.maxActiveDuration), this.useRandomScaleOnEnable) {
            var t = Random.Range(this.minScaleMultiplier, this.maxScaleMultiplier);
            this.targetGameObject.transform.localScale(this.initialScale.x * t, this.initialScale.y * t, this.initialScale.z * t)
        }
    } else this.duration = Random.Range(this.minInactiveDuration, this.maxInactiveDuration);
    this.targetGameObject.SetActive(this.isInactive), this.isInactive = !this.isInactive, this.timer = 0
}, goog.require("UHT.Engine"), RandomIntervalCATLink.prototype = Object.create(Component.prototype), RandomIntervalCATLink.prototype.constructor = RandomIntervalCATLink, RandomIntervalCATLink.prototype.StartCATLink = function () {
    this.catLink.Start(), this.timer = 0, this.targetTimer = Random.Range(this.minInterval, this.maxInterval)
}, RandomIntervalCATLink.prototype.Start = function () {
    this.targetTimer = Random.Range(this.minInterval, this.maxInterval)
}, RandomIntervalCATLink.prototype.Update = function () {
    this.timer >= this.targetTimer && this.StartCATLink(), this.timer += Time.deltaTime
}, goog.require("UHT.XTLink"), RequirementChecker.prototype = Object.create(XTLink.prototype), RequirementChecker.prototype.constructor = RequirementChecker, RequirementChecker.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this, -1)
}, RequirementChecker.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGUIInit, this)
}, RequirementChecker.prototype.OnGUIInit = function () {
    var t = !1,
        e = this.jurisdictionRequirement.name;
    null != e && "" != e && "*None*" != e && (t = XT.GetBool(e)), this.isActiveWhenRequirementIsTrue ? this.isActive = t : this.isActive = !t
}, RoutineQueueHelper.scheduledRQItems = [], RoutineQueueHelper.ClearScheduledRQItems = function () {
    RoutineQueueHelper.scheduledRQItems = []
}, RoutineQueueHelper.AddScheduledRQItem = function (t, e) {
    var i = new ScheduledRQItem;
    i.rqItem = t, i.time = e, RoutineQueueHelper.scheduledRQItems.push(i)
}, RoutineQueueHelper.PutScheduledItemsToRQ = function (t) {
    RoutineQueueHelper.scheduledRQItems.sort((function (t, e) {
        return t.time - e.time
    })), 0 != RoutineQueueHelper.scheduledRQItems[0].time && t.AddRoutineQueueItem(new RQIWaitForSeconds(RoutineQueueHelper.scheduledRQItems[0].time)), t.AddRoutineQueueItem(RoutineQueueHelper.scheduledRQItems[0].rqItem);
    for (var e = 1; e < RoutineQueueHelper.scheduledRQItems.length; e++) {
        var i = RoutineQueueHelper.scheduledRQItems[e].time - RoutineQueueHelper.scheduledRQItems[e - 1].time;
        0 != i && t.AddRoutineQueueItem(new RQIWaitForSeconds(i)), t.AddRoutineQueueItem(RoutineQueueHelper.scheduledRQItems[e].rqItem)
    }
}, goog.require("UHT.Engine"), SpriteFillProxy.prototype = Object.create(Component.prototype), SpriteFillProxy.prototype.constructor = SpriteFillProxy, SpriteFillProxy.prototype.LateUpdate = function () {
    this.fillChanged = !1, Math.abs(this.previousFillAmount - this.fillAmount) > .001 && (this.previousFillAmount = this.fillAmount, this.targetSprite.fillAmount = this.fillAmount, this.fillChanged = !0), Math.abs(this.previousTopFillAmount - this.topFillAmount) > .001 && (this.previousTopFillAmount = this.topFillAmount, this.targetSprite.fillAmountTop = this.topFillAmount, this.fillChanged = !0), Math.abs(this.previousBottomFillAmount - this.bottomFillAmount) > .001 && (this.previousBottomFillAmount = this.bottomFillAmount, this.targetSprite.fillAmountBottom = this.bottomFillAmount, this.fillChanged = !0), Math.abs(this.previousLeftFillAmount - this.leftFillAmount) > .001 && (this.previousLeftFillAmount = this.leftFillAmount, this.targetSprite.fillAmountLeft = this.leftFillAmount, this.fillChanged = !0), Math.abs(this.previousRightFillAmount - this.rightFillAmount) > .001 && (this.previousRightFillAmount = this.rightFillAmount, this.targetSprite.fillAmountRight = this.rightFillAmount, this.fillChanged = !0), this.fillChanged && this.targetSprite.SetSpriteName(this.targetSprite.spriteName)
}, goog.require("UHT.Engine");
var AnimationControllerUpdateMethod = {
    Update: 0,
    LateUpdate: 1
};

function AnimationController() {
    Component.call(this), this.target = null, this.clip = null, this.animationTime = 0, this.animationTimeIsFixed = !1, this.useWrapMode = !1, this.wrapMode = WrapMode.Default, this.playOnEnable = !1, this.callWhenFinished = null, this.normalizedTimeCurve = null, this.useNormalizedTimeCurve = !1, this.randomClips = null, this.updateOn = AnimationControllerUpdateMethod.Update, this.isPlaying = !1, this.startNormalizedTime = 0, this.targetNormalizedTime = 0, this.deltaAnimationTime = 0, this.curNormalizedTime = 0, this.curAnimationTime = 0, this.randomIndex = -1, this.randomIndices = []
}

function ExtraParticleModule() {
    Component.call(this)
}

function AnimatedParticleFrames() {
    ExtraParticleModule.call(this), this.atlas = null, this.FPS = 15, this.frameInfo = []
}

function PanelAlphaAnimator() {
    Component.call(this), this.targetPanels = [], this.startAlpha = null, this.endAlpha = null, this.autoIncludeChildPanels = !1, this.animationTime = 1, this.playAutomatically = !1, this.playReverse = !1, this.useAnimationCurve = !0, this.useTimeChannel = !1, this.timeChannelID = 0, this.playMode = WidgetColorAnimator.PlayMode.Default, this.animationCurve = null, this.firstCurveKey = null, this.lastCurveKey = null, this.totalCurveTime = 0, this.currentTime = 0, this.direction = 1, this.playing = !1, this.reset = !1, this.myTimeChannel = null
}

function RandomAnimationPlayer() {
    Component.call(this), this.anim = null, this.animationClips = [], this.resetClip = null, this.startOnEnable = !1, this.useDelayOnStart = !1, this.waitForPreviousClipToFinish = !1, this.playResetAnimOnStop = !0, this.minRandomTime = 1, this.maxRandomTime = 5, this.minRandomSpeed = 1, this.maxRandomSpeed = 5, this.noRepetition = !1, this.isRunning = !1, this.currentTime = 0, this.randomIndex = -1, this.randomIndices = []
}

function SplitLabelV3FX() {
    XTLink.call(this), this.source = null, this.labelsAnchor = null, this.charSources = null, this.charsPooler = null, this.charPoolID = 0, this.useCharsPoolID = !1, this.charsPoolID = null, this.colorAnimators = null, this.useExtraSpaces = !1, this.extraSpaces = null, this.keepCharsInMemory = !1, this.considerArcRadius = !1, this.arcPosition = null, this.arcRotation = null, this.arcScale = null, this.prevText = "", this.prevWidth = -1, this.prevScale = null, this.charsPoolIdx = 0, this.chars = [], this.removedChars = [], this.widgets = [], this.isGameInit = !1, this.extraSpaceWidths = []
}

function SplitLabelV3FXChar() {
    GenericPoolObject.call(this), this.label = null, this.panel = null, this.samplers = null, this.transformToScale = null, this.arcPosition = null, this.arcRotation = null, this.arcScale = null, this.arcResize = null, this.arcResizeConsiderScale = !1, this.width = 0, this.usePanelDepthMultiplier = !1, this.panelDepthMultiplier = 0, this.isInit = !1, this.initialDepth = 0
}

function UILabelForceFallbackFont() {
    XTLink.call(this), this.fontFamily = "Verdana", this.labels = null, this.forceFontAfterLocalization = !1, this.forceFontOnAwake = !1
}

function UILabelPropertyCopy() {
    Component.call(this), this.FromLabel = null, this.ToLabel = null, this.CopyText = !1, this.CopyColor = !1
}

function WidgetColorAnimator() {
    Component.call(this), this.targetWidgets = [], this.colorA = null, this.colorB = null, this.animationTime = 1, this.playAutomatically = !1, this.playReverse = !1, this.useAnimationCurve = !0, this.useAnimationCurveSample = !1, this.useTimeChannel = !1, this.timeChannelID = 0, this.playMode = WidgetColorAnimator.PlayMode.Default, this.animationCurve = null, this.animators = null, this.timeScaleID = "", this.firstCurveKey = null, this.lastCurveKey = null, this.totalCurveTime = 0, this.currentTime = 0, this.direction = 1, this.playing = !1, this.reset = !1, this.myTimeChannel = null
}

function GraphicsShape() {
    Component.call(this), this.points = null, this.positions = [], this.pixiPoints = []
}

function GraphicsShapeCircle() {
    GraphicsShape.call(this), this.arc_start = 0, this.arc_end = 0
}

function GraphicsShapePolygon() {
    GraphicsShape.call(this)
}

function GraphicsShapeRect() {
    GraphicsShape.call(this)
}

function WidgetMask() {
    Component.call(this)
}

function WidgetsMaskGraphics() {
    XTLink.call(this), this.widgets = null, this.shapes = null, this.updateOnEnable = !1, this.clearOnDisable = !1, this.mask = new PIXI.Graphics, this.cachedCamera = null, this.needUpdate = !1, this.screenWidth = -1, this.screenHeight = -1, this.cameraPos = null
}

function WidgetsEnabler() {
    Component.call(this), this.root = null, this.sprites = null, this.spritesActive = null, this.labels = null, this.labelsActive = null, this.isInit = !1
}

function WidgetsUtils() {
    Component.call(this), this.sprites = null, this.labels = null, this.labelAnchors = null
}

function ValueDisplayer() {
    XTLink.call(this), this.vdVariable = null, this.animated = !1, this.label = null, this.multiplier = 1, this.isDisplayingCoins = !1, this.isDisplayingDecimals = !1, this.formatOptions = null, this.forceHasCoins = !1, this.allowDOG = !0, this.catEventAnimation = null, this.callEventWhenValueChanged = !1, this.callEventWhenFormatChanged = !1, this.callEventWhenValueChangedAllowed = !0, this.actualVarName = "", this.manualValue = 0, this.isLastOneToChangeTheLabel = !1
}

function ValueDisplayerVariable() {
    this.variable = null, this.suffix = ""
}
AnimationController.prototype = Object.create(Component.prototype), AnimationController.prototype.constructor = AnimationController, AnimationController.prototype.ChooseRandomClip = function () {
    if (this.randomIndices.length <= 0)
        for (var t = 0; t < this.randomClips.length; ++t) this.randomIndex != t && this.randomIndices.push(t);
    var e = Random.Range(0, this.randomIndices.length);
    this.randomIndex = this.randomIndices[e], this.randomIndices.splice(e, 1), this.clip = this.randomClips[this.randomIndex]
}, AnimationController.prototype.Sample = function (t) {
    this.curNormalizedTime = Number(t);
    var e = this.target.GetAnimationState(this.clip.name);
    e.enabled = !0, e.weight = 1, e.time = this.curNormalizedTime * e.length, this.target.Sample(), e.enabled = !1
}, AnimationController.prototype.Play = function () {
    if (this.animationTime <= 0) this.Sample(1);
    else {
        var t = this.target.GetAnimationState(this.clip.name);
        this.useWrapMode && (t.wrapMode = this.wrapMode), t.speed = this.clip.length / this.animationTime, t.time = 0, this.target.Play(this.clip.name)
    }
}, AnimationController.prototype.Stop = function () {
    this.target.Stop()
}, AnimationController.prototype.Pause = function () {
    this.target.GetAnimationState(this.clip.name).speed = 0
}, AnimationController.prototype.Resume = function () {
    this.target.GetAnimationState(this.clip.name).speed = this.clip.length / this.animationTime
}, AnimationController.prototype.IsPlaying = function () {
    return this.isPlaying || this.target.IsPlaying(this.clip.name)
}, AnimationController.prototype.PlayTo = function (t) {
    this.startNormalizedTime = this.curNormalizedTime, this.targetNormalizedTime = Number(t), this.deltaAnimationTime = this.animationTimeIsFixed ? this.animationTime : Math.abs(this.targetNormalizedTime - this.startNormalizedTime) * this.animationTime, this.isPlaying = !0, this.curAnimationTime = 0
}, AnimationController.prototype.InternalUpdate = function () {
    if (this.isPlaying)
        if (this.curAnimationTime >= this.deltaAnimationTime) this.Sample(this.targetNormalizedTime), this.isPlaying = !1, null != this.callWhenFinished && this.callWhenFinished.Start();
        else {
            if (0 == this.deltaAnimationTime) return;
            var t = this.curAnimationTime / this.deltaAnimationTime;
            this.useNormalizedTimeCurve && (t = this.normalizedTimeCurve.Evaluate(t)), this.Sample(UHTMath.lerp(this.startNormalizedTime, this.targetNormalizedTime, t)), this.curAnimationTime += Time.deltaTime
        }
}, AnimationController.prototype.OnEnable = function () {
    this.playOnEnable && this.Play()
}, AnimationController.prototype.GetNormalizedTime = function () {
    return this.curNormalizedTime
}, AnimationController.prototype.Update = function () {
    this.updateOn == AnimationControllerUpdateMethod.Update && this.InternalUpdate()
}, AnimationController.prototype.LateUpdate = function () {
    this.updateOn == AnimationControllerUpdateMethod.LateUpdate && this.InternalUpdate()
}, AnimationController.prototype.SetAnimationTime = function (t) {
    this.animationTime = t
}, AnimationController.prototype.SetIsPlaying = function (t) {
    this.isPlaying = t
}, goog.require("UHT.Random"), goog.require("UHT.Engine"), goog.provide("UHT.ExtraParticleModule"), ExtraParticleModule.prototype = Object.create(Component.prototype), ExtraParticleModule.prototype.constructor = ExtraParticleModule, ExtraParticleModule.prototype.SupportsFastParticleContainer = function () {
    return !0
}, ExtraParticleModule.prototype.OnNewParticle = function (t) {}, ExtraParticleModule.prototype.OnUpdateParticle = function (t) {}, goog.require("UHT.Random"), goog.require("UHT.Engine"), goog.require("UHT.ExtraParticleModule"), AnimatedParticleFrames.prototype = Object.create(ExtraParticleModule.prototype), AnimatedParticleFrames.prototype.constructor = AnimatedParticleFrames, AnimatedParticleFrames.prototype.Awake = function () {
    this.BuildSprites()
}, AnimatedParticleFrames.prototype.BuildSprites = function () {
    this.atlas.initAtlas();
    var t = this.atlas.getSpriteNames();
    t.sort((function (t, e) {
        return t == e ? 0 : t > e ? 1 : -1
    }));
    for (var e = 0; e < t.length; e++) this.frameInfo.push(this.atlas.getTextureForSimpleSprite(null, t[e]))
}, AnimatedParticleFrames.prototype.SupportsFastParticleContainer = function () {
    return !1
}, AnimatedParticleFrames.prototype.OnNewParticle = function (t) {
    t._epm_apf_frame = Random.Range(0, this.frameInfo.length - 1), t._epm_apf_frameTime = Random.Range(.01, 1 / this.FPS), t.sprite = new PIXI.Sprite(this.frameInfo[t._epm_apf_frame])
}, AnimatedParticleFrames.prototype.OnUpdateParticle = function (t) {
    t._epm_apf_frameTime += Time.deltaTime;
    for (var e = t._epm_apf_frame; t._epm_apf_frameTime > 1 / this.FPS;) t._epm_apf_frameTime -= 1 / this.FPS, e++;
    if ((e %= this.frameInfo.length) != t._epm_apf_frame) {
        for (var i = -1, n = t.parent.pixiZOrderedContainer.children, o = 0; o < n.length; o++) n[o] == t.sprite && (i = o);
        t._epm_apf_frame = e, t.sprite = new PIXI.Sprite(this.frameInfo[t._epm_apf_frame]), t.sprite.blendMode = t.parent.blendMode, t.sprite.anchor.x = .5, t.sprite.anchor.y = .5, -1 != i ? (t.sprite.parent = t.parent.pixiZOrderedContainer, n[i] = t.sprite) : t.parent.pixiZOrderedContainer.addChild(t.sprite)
    }
}, goog.require("UHT.Engine"), PanelAlphaAnimator.prototype = Object.create(Component.prototype), PanelAlphaAnimator.prototype.constructor = PanelAlphaAnimator, PanelAlphaAnimator.PlayMode = {
    Default: 0,
    Loop: 1,
    PingPong: 2
}, PanelAlphaAnimator.prototype.FindChildPanels = function () {
    this.targetPanels = this.gameObject.GetComponentsInChildren(UIPanel, !0)
}, PanelAlphaAnimator.prototype.Play = function () {
    this.autoIncludeChildPanels && this.FindChildPanels(), this.playing = !0, this.direction = this.playReverse ? -1 : 1, this.Update()
}, PanelAlphaAnimator.prototype.PlayReversed = function () {
    this.autoIncludeChildPanels && this.FindChildPanels(), this.direction = -1, this.currentTime = this.animationTime - 1e-5, this.playing = !0, this.Update()
}, PanelAlphaAnimator.prototype.PlayReversedFromCurrentTime = function () {
    this.autoIncludeChildPanels && this.FindChildPanels(), this.playing || (this.currentTime = this.animationTime - 1e-5), this.playing = !0, this.direction = -1, this.useAnimationCurve || this.Update()
}, PanelAlphaAnimator.prototype.Pause = function () {
    this.playing = !1
}, PanelAlphaAnimator.prototype.Stop = function () {
    if (this.playing) {
        if (this.useAnimationCurve)
            if (1 == this.direction)
                for (var t = 0; t < this.targetPanels.length; t++) this.targetPanels[t].alpha = UHTMath.lerp(this.startAlpha, this.endAlpha, this.animationCurve.keys[this.animationCurve.keys.length - 1].value);
            else
                for (var e = 0; e < this.targetPanels.length; e++) this.targetPanels[e].alpha = UHTMath.lerp(this.startAlpha, this.endAlpha, this.animationCurve.keys[0].value);
        this.playing = !1, this.direction = this.playReverse ? -1 : 1, this.currentTime = this.playReverse ? this.animationTime - 1e-5 : 0
    }
}, PanelAlphaAnimator.prototype.Reset = function () {
    this.reset = !0, this.Stop()
}, PanelAlphaAnimator.prototype.OnEnable = function () {
    this.useTimeChannel && (this.myTimeChannel = Globals.RegisterToTimeChannel(this, this.timeChannelID)), this.playAutomatically && this.Play()
}, PanelAlphaAnimator.prototype.OnDisable = function () {
    this.Stop(), this.useTimeChannel && Globals.UnregisterFromTimeChannel(this, this.timeChannelID)
}, PanelAlphaAnimator.prototype.Start = function () {
    this.direction = this.playReverse ? -1 : 1, this.firstCurveKey = this.animationCurve.keys[0], this.lastCurveKey = this.animationCurve.keys[this.animationCurve.keys.length - 1], this.totalCurveTime = this.lastCurveKey.time - this.firstCurveKey.time
}, PanelAlphaAnimator.prototype.Update = function () {
    if ((this.playing || this.reset) && this.targetPanels.length > 0) {
        this.reset && (this.reset = !1), this.useAnimationCurve || (this.direction > 0 ? this.currentTime = this.animationTime : this.currentTime = 0);
        var t = this.currentTime / this.animationTime;
        if (this.animationCurve.keys.length >= 2) {
            var e = t * this.totalCurveTime;
            t = this.animationCurve.Evaluate(e), t = UHTMath.clamp(t, 0, 1)
        }
        if (t >= 0 && t <= 1)
            for (var i = 0; i < this.targetPanels.length; i++) this.targetPanels[i].alpha = UHTMath.lerp(this.startAlpha, this.endAlpha, t);
        if (this.direction > 0 && (this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime < this.animationTime && (this.currentTime += Time.deltaTime), this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime < this.animationTime && (this.currentTime += Time.deltaTime), this.currentTime >= this.animationTime)) switch (this.playMode) {
            case WidgetColorAnimator.PlayMode.Loop:
                this.currentTime -= this.animationTime;
                break;
            case WidgetColorAnimator.PlayMode.PingPong:
                this.direction = -1;
                break;
            default:
                this.Stop();
                break
        }
        if (this.direction < 0 && (this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime > 0 && (this.currentTime -= Time.deltaTime), this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime > 0 && (this.currentTime -= Time.deltaTime), this.currentTime <= 0)) switch (this.playMode) {
            case WidgetColorAnimator.PlayMode.Loop:
                this.currentTime += this.animationTime;
                break;
            case WidgetColorAnimator.PlayMode.PingPong:
                this.direction = 1;
                break;
            default:
                this.Stop();
                break
        }
    }
}, PanelAlphaAnimator.prototype.Sample = function (t) {
    for (var e = 0; e < this.targetPanels.length; e++) this.targetPanels[e].alpha = UHTMath.lerp(this.startAlpha, this.endAlpha, t)
}, goog.require("UHT.Random"), goog.require("UHT.Engine"), RandomAnimationPlayer.prototype = Object.create(Component.prototype), RandomAnimationPlayer.prototype.constructor = RandomAnimationPlayer, RandomAnimationPlayer.prototype.GetRandomIndex = function () {
    if (this.randomIndices.length <= 0)
        for (var t = 0; t < this.animationClips.length; ++t) this.randomIndex != t && this.randomIndices.push(t);
    var e = Random.Range(0, this.randomIndices.length);
    return this.randomIndex = this.randomIndices[e], this.randomIndices.splice(e, 1), this.randomIndex
}, RandomAnimationPlayer.prototype.OnEnable = function () {
    this.startOnEnable && this.StartAnimating()
}, RandomAnimationPlayer.prototype.PlayRandomClip = function () {
    var t = this.noRepetition ? this.GetRandomIndex() : Random.Range(0, this.animationClips.length),
        e = Random.Range(this.minRandomSpeed, this.maxRandomSpeed);
    this.anim.IsPlaying(this.animationClips[t].name) || (this.anim.GetAnimationState(this.animationClips[t].name).speed = e, this.anim.Play(this.animationClips[t].name))
}, RandomAnimationPlayer.prototype.StartAnimating = function () {
    this.isRunning = !0, this.useDelayOnStart ? this.currentTime = Random.Range(this.minRandomTime, this.maxRandomTime) : this.currentTime = 0
}, RandomAnimationPlayer.prototype.StopAnimating = function () {
    this.isRunning = !1, this.playResetAnimOnStop && this.anim.Play(this.resetClip.name)
}, RandomAnimationPlayer.prototype.Update = function () {
    !this.isRunning || this.waitForPreviousClipToFinish && this.anim.isPlaying || (this.currentTime <= 0 ? (this.currentTime = Random.Range(this.minRandomTime, this.maxRandomTime), this.PlayRandomClip()) : this.currentTime -= Time.deltaTime)
}, goog.require("UHT.XTLink"), SplitLabelV3FX.prototype = Object.create(XTLink.prototype), SplitLabelV3FX.prototype.constructor = SplitLabelV3FX, SplitLabelV3FX.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, SplitLabelV3FX.prototype.OnGameInit = function () {
    if (this.isGameInit = !0, this.PrepareCharSources(), this.useExtraSpaces)
        for (var t = 0; t < this.extraSpaces.length; ++t) this.extraSpaceWidths.push(this.extraSpaces[t].GetWidth())
}, SplitLabelV3FX.prototype.LateUpdate = function () {
    if (this.isGameInit && !this.charsPooler.initializing) {
        var t = this.source.GetWidth(),
            e = this.source.transform.localScale(),
            i = this.prevText != this.source.text;
        i && this.UpdateText(), !i && t == this.prevWidth && e.equals(this.prevScale) || (this.UpdateWidth(t, e), this.labelsAnchor.ForceNextUpdate(), this.labelsAnchor.Update(), this.UpdateExtraSpaces(t), this.UpdateArcRadius())
    }
}, SplitLabelV3FX.prototype.UpdateText = function () {
    this.removedChars.splice(0);
    for (var t = this.source.text, e = this.chars.length - t.length, i = 0; i < e; ++i) this.removedChars.push(this.chars[0]), this.chars[0].label.keepInMemory = !1, this.charsPooler.RecycleObject(this.chars[0]), this.chars.splice(0, 1), this.labelsAnchor.labels.splice(0, 1);
    for (i = 0; i < t.length; ++i) {
        if (i == this.chars.length) {
            var n = this.charPoolID;
            this.useCharsPoolID && (this.charsPoolIdx %= this.charsPoolID.length, n = this.charsPoolID[this.charsPoolIdx++]), this.chars.push(this.charsPooler.GetObject(n, this.labelsAnchor.gameObject)), this.labelsAnchor.labels.push(this.chars[i].label), this.chars[i].label.keepInMemory = this.keepCharsInMemory
        }
        this.chars[i].UpdateValue(this.GetCharSource(t[i]), t, i)
    }
    this.prevText.length != t.length && this.labelsAnchor.DiscardCache();
    for (i = 0; i < this.colorAnimators.length; ++i) this.UpdateColorAnimator(this.colorAnimators[i]);
    this.prevText = t
}, SplitLabelV3FX.prototype.UpdateColorAnimator = function (t) {
    this.widgets.splice(0), this.widgets = this.widgets.concat(t.targetWidgets);
    for (var e = 0; e < this.removedChars.length; ++e) {
        (i = this.widgets.indexOf(this.removedChars[e].label)) > -1 && this.widgets.splice(i, 1)
    }
    for (e = 0; e < this.chars.length; ++e) {
        var i;
        (i = this.widgets.indexOf(this.chars[e].label)) < 0 && this.widgets.push(this.chars[e].label)
    }
    t.targetWidgets = this.widgets.slice()
}, SplitLabelV3FX.prototype.PrepareCharSources = function () {
    this.source.Prepare();
    for (var t = 0; t < this.charSources.length; ++t) this.charSources[t].Prepare()
}, SplitLabelV3FX.prototype.GetCharSource = function (t) {
    for (var e = 0; e < this.charSources.length; ++e)
        if (t == this.charSources[e].text) return this.charSources[e];
    return this.source
}, SplitLabelV3FX.prototype.UpdateWidth = function (t, e) {
    this.source.overflow == UILabel.Overflow.ShrinkContent && (this.labelsAnchor.maxWidth = t);
    for (var i = 0; i < this.chars.length; ++i) this.chars[i].transformToScale.localScale(e);
    this.prevWidth = t, this.prevScale = e
}, SplitLabelV3FX.prototype.UpdateExtraSpaces = function (t) {
    if (this.useExtraSpaces)
        for (var e = this.labelsAnchor.width - t, i = Math.round(e / this.extraSpaces.length), n = 0; n < this.extraSpaces.length; ++n) this.extraSpaces[n].width = Math.round((this.extraSpaceWidths[n] + i) * this.extraSpaces[n].resize)
}, SplitLabelV3FX.prototype.UpdateArcRadius = function () {
    if (this.considerArcRadius) {
        this.chars.length;
        if (null != this.source.rope) {
            var t = this.source.transform;
            this.arcPosition.localPosition(t.localPosition()), this.arcRotation.localRotation(t.localRotation()), this.arcScale.localScale(t.localScale().x / this.source.resize, t.localScale().y / this.source.resize, t.localScale().z / this.source.resize);
            for (var e = -this.source.mArcRadius, i = 2 * UHTMath.PI * e, n = 0, o = 0, s = 0; s < this.chars.length; s++) this.chars[s].width = this.source.pixiObjectContent.context.measureText(this.chars[s].label.text).width, o += this.chars[s].width;
            for (s = 0; s < this.chars.length; s++) {
                var a = ((n += .5 * this.chars[s].width) - o / 2) / i * 2 * UHTMath.PI - .5 * UHTMath.PI,
                    r = Math.cos(a) * e,
                    l = Math.sin(a) * e;
                this.chars[s].arcPosition.localPosition(r, l, 0);
                var u = 180 * (a + .5 * UHTMath.PI) / UHTMath.PI;
                this.chars[s].arcRotation.localRotation(UHTMath.Quaternion.euler(0, 0, u)), n += .5 * this.chars[s].width, this.chars[s].arcScale.localScale(1, 1, 1);
                var h = this.chars[s].arcResize.localScale(),
                    c = this.chars[s].label.resize,
                    p = this.chars[s].arcResizeConsiderScale,
                    d = c * (p ? h.x : 1),
                    m = c * (p ? h.y : 1);
                this.chars[s].arcResize.localScale(new UHTMath.Vector3(d, m, h.z))
            }
        }
    }
}, goog.require("UHT.GenericPoolObject"), SplitLabelV3FXChar.prototype = Object.create(GenericPoolObject.prototype), SplitLabelV3FXChar.prototype.constructor = SplitLabelV3FXChar, SplitLabelV3FXChar.prototype.UpdateValue = function (t, e, i) {
    this.label.text = e[i], this.isInit || this.Init(t);
    var n = this.usePanelDepthMultiplier ? this.panelDepthMultiplier : 1;
    this.panel.depth = this.initialDepth + i * n;
    for (var o = UHTMath.inverseLerp(0, e.length - 1, i), s = 0; s < this.samplers.length; ++s) this.samplers[s].Sample(o)
}, SplitLabelV3FXChar.prototype.Init = function (t) {
    this.isInit = !0, this.initialDepth = this.panel.depth, this.label.fontSize = t.fontSize, this.label.fontName = t.fontName, this.label.IOSresized = !0, this.label.resize = t.resize, this.label.Prepare(), null == this.transformToScale && (this.transformToScale = this.transform)
}, goog.require("UHT.XTLink"), UILabelForceFallbackFont.prototype = Object.create(XTLink.prototype), UILabelForceFallbackFont.prototype.constructor = UILabelForceFallbackFont, UILabelForceFallbackFont.prototype.XTRegisterCallbacks = function () {
    this.forceFontAfterLocalization && XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.ForceFallbackFont, this, 1)
}, UILabelForceFallbackFont.prototype.Awake = function () {
    FontLoader.LoadFont(this.fontFamily, null), this.forceFontAfterLocalization && !this.forceFontOnAwake || this.ForceFallbackFont()
}, UILabelForceFallbackFont.prototype.ForceFallbackFont = function () {
    for (var t = 0; t < this.labels.length; ++t) this.labels[t].fontName = this.fontFamily, this.labels[t].Prepare()
}, goog.require("UHT.Engine"), UILabelPropertyCopy.prototype = Object.create(Component.prototype), UILabelPropertyCopy.prototype.constructor = UILabelPropertyCopy, UILabelPropertyCopy.prototype.CopyProperties = function () {
    null != this.FromLabel && null != this.ToLabel && (1 == this.CopyText && (this.ToLabel.text = this.FromLabel.text), 1 == this.CopyColor && this.ToLabel.SetColor(this.FromLabel.GetColor()))
}, goog.require("UHT.Engine"), WidgetColorAnimator.prototype = Object.create(Component.prototype), WidgetColorAnimator.prototype.constructor = WidgetColorAnimator, WidgetColorAnimator.PlayMode = {
    Default: 0,
    Loop: 1,
    PingPong: 2
}, WidgetColorAnimator.prototype.Play = function () {
    this.playing = !0, this.direction = this.playReverse ? -1 : 1, this.useAnimationCurve || this.Update()
}, WidgetColorAnimator.prototype.PlayReversed = function () {
    this.direction = -1, this.currentTime = this.animationTime - 1e-5, this.playing = !0, this.useAnimationCurve || this.Update()
}, WidgetColorAnimator.prototype.PlayReversedFromCurrentTime = function () {
    this.playing || (this.currentTime = this.animationTime - 1e-5), this.playing = !0, this.direction = -1, this.useAnimationCurve || this.Update()
}, WidgetColorAnimator.prototype.Pause = function () {
    this.playing = !1
}, WidgetColorAnimator.prototype.Resume = function () {
    this.playing = !0
}, WidgetColorAnimator.prototype.Stop = function () {
    if (this.playing) {
        if (this.useAnimationCurve)
            if (1 == this.direction)
                for (var t = 0; t < this.targetWidgets.length; t++) Color.qLerp(this.targetWidgets[t].color, this.colorA, this.colorB, this.animationCurve.keys[this.animationCurve.keys.length - 1].value);
            else
                for (var e = 0; e < this.targetWidgets.length; e++) Color.qLerp(this.targetWidgets[e].color, this.colorA, this.colorB, this.animationCurve.keys[0].value);
        this.playing = !1, this.direction = this.playReverse ? -1 : 1, this.currentTime = this.playReverse ? this.animationTime - 1e-5 : 0
    }
}, WidgetColorAnimator.prototype.Reset = function () {
    this.reset = !0, this.Stop()
}, WidgetColorAnimator.prototype.OnEnable = function () {
    this.useTimeChannel && (this.myTimeChannel = Globals.RegisterToTimeChannel(this, this.timeChannelID)), this.playAutomatically && (this.playing = !0, this.Update())
}, WidgetColorAnimator.prototype.OnDisable = function () {
    this.Stop(), this.useTimeChannel && Globals.UnregisterFromTimeChannel(this, this.timeChannelID)
}, WidgetColorAnimator.prototype.Start = function () {
    this.direction = this.playReverse ? -1 : 1, this.firstCurveKey = this.animationCurve.keys[0], this.lastCurveKey = this.animationCurve.keys[this.animationCurve.keys.length - 1], this.totalCurveTime = this.lastCurveKey.time - this.firstCurveKey.time
}, WidgetColorAnimator.prototype.Update = function () {
    if ((this.playing || this.reset) && this.targetWidgets.length > 0) {
        this.reset && (this.reset = !1), this.useAnimationCurve || (this.direction > 0 ? this.currentTime = this.animationTime : this.currentTime = 0);
        var t = this.currentTime / this.animationTime;
        if (this.animationCurve.keys.length >= 2) {
            var e = t * this.totalCurveTime;
            t = this.animationCurve.Evaluate(e), t = UHTMath.clamp(t, 0, 1)
        }
        if (t >= 0 && t <= 1)
            for (var i = 0; i < this.targetWidgets.length; i++) Color.qLerp(this.targetWidgets[i].color, this.colorA, this.colorB, t);
        if (this.direction > 0 && (this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime < this.animationTime && (this.currentTime += TimeScaler.GetDeltaTime(this.timeScaleID)), this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime < this.animationTime && (this.currentTime += TimeScaler.GetDeltaTime(this.timeScaleID)), this.currentTime >= this.animationTime)) switch (this.playMode) {
            case WidgetColorAnimator.PlayMode.Loop:
                this.currentTime -= this.animationTime;
                break;
            case WidgetColorAnimator.PlayMode.PingPong:
                this.direction = -1;
                break;
            default:
                this.Stop();
                break
        }
        if (this.direction < 0 && (this.useTimeChannel ? this.myTimeChannel.IsChannelMaster(this) ? (this.currentTime > 0 && (this.currentTime -= TimeScaler.GetDeltaTime(this.timeScaleID)), this.myTimeChannel.currentTime = this.currentTime) : this.currentTime = this.myTimeChannel.currentTime : this.currentTime > 0 && (this.currentTime -= TimeScaler.GetDeltaTime(this.timeScaleID)), this.currentTime <= 0)) switch (this.playMode) {
            case WidgetColorAnimator.PlayMode.Loop:
                this.currentTime += this.animationTime;
                break;
            case WidgetColorAnimator.PlayMode.PingPong:
                this.direction = 1;
                break;
            default:
                this.Stop();
                break
        }
    }
}, WidgetColorAnimator.prototype.FindLabels = function () {
    for (var t = this.gameObject.GetComponentsInChildren(UILabel, !0), e = 0; e < t.length; ++e) this.targetWidgets.indexOf(t[e]) < 0 && this.targetWidgets.push(t[e])
}, WidgetColorAnimator.prototype.Sample = function (t) {
    t = _number.otod(t), this.useAnimationCurveSample && (t = this.animationCurve.Evaluate(t * this.totalCurveTime));
    for (var e = 0; e < this.targetWidgets.length; e++) Color.qLerp(this.targetWidgets[e].color, this.colorA, this.colorB, t)
}, WidgetColorAnimator.prototype.SampleAndSetCurrentTime = function (t) {
    t = Number(t), this.Sample(t), this.currentTime = t * this.animationTime
}, WidgetColorAnimator.prototype.SyncCurrentTimeWithAnimator = function (t) {
    this.currentTime = this.animators[t].currentTime
}, goog.provide("UHT.GraphicsShape"), goog.require("UHT.Engine"), GraphicsShape.prototype = Object.create(Component.prototype), GraphicsShape.prototype.constructor = GraphicsShape, GraphicsShape.prototype.Init = function () {
    for (var t = 0; t < this.points.length; ++t) this.positions.push(new UHTMath.Vector3(-69, -69, -69)), this.pixiPoints.push(new PIXI.Point(-69, -69))
}, GraphicsShape.prototype.NeedUpdate = function () {
    for (var t = !1, e = 0; e < this.points.length; ++e) {
        var i = this.points[e].position();
        this.positions[e].equals(i) || (t = !0, this.positions[e] = i)
    }
    return t
}, GraphicsShape.prototype.UpdatePoints = function (t) {
    for (var e = 0; e < this.points.length; ++e) this.UpdatePoint(this.pixiPoints[e], this.points[e].position(), t)
}, GraphicsShape.prototype.UpdatePoint = function (t, e, i) {
    var n = i.WorldToScreenPoint(e);
    t.set(n.x, n.y)
}, GraphicsShape.prototype.Draw = function (t, e) {}, goog.require("UHT.GraphicsShape"), GraphicsShapeCircle.prototype = Object.create(GraphicsShape.prototype), GraphicsShapeCircle.prototype.constructor = GraphicsShapeCircle, GraphicsShapeCircle.prototype.Draw = function (t, e) {
    this.UpdatePoints(t);
    var i = this.pixiPoints[0].x,
        n = this.pixiPoints[0].y,
        o = this.pixiPoints[1].x,
        s = this.pixiPoints[1].y,
        a = UHTMath.lerp(i, o, .5),
        r = UHTMath.lerp(n, s, .5),
        l = .5 * new UHTMath.Vector3(i - o, n - s, 0).magnitude();
    e.beginFill(16777215), this.arc_start == this.arc_end ? e.drawCircle(a, r, l) : (e.moveTo(a, r), e.arc(a, r, l, this.arc_start, this.arc_end)), e.endFill()
}, goog.require("UHT.GraphicsShape"), GraphicsShapePolygon.prototype = Object.create(GraphicsShape.prototype), GraphicsShapePolygon.prototype.constructor = GraphicsShapePolygon, GraphicsShapePolygon.prototype.Draw = function (t, e) {
    this.UpdatePoints(t), e.beginFill(16777215), e.drawPolygon(this.pixiPoints), e.endFill()
}, goog.require("UHT.GraphicsShape"), GraphicsShapeRect.prototype = Object.create(GraphicsShape.prototype), GraphicsShapeRect.prototype.constructor = GraphicsShapeRect, GraphicsShapeRect.prototype.Draw = function (t, e) {
    this.UpdatePoints(t);
    var i = this.pixiPoints[0].x,
        n = this.pixiPoints[0].y,
        o = this.pixiPoints[1].x - i,
        s = this.pixiPoints[1].y - n;
    e.beginFill(16777215), e.drawRect(i, n, o, s), e.endFill()
}, goog.require("UHT.Component"), WidgetMask.prototype = Object.create(Component.prototype), WidgetMask.prototype.constructor = WidgetMask, goog.require("UHT.XTLink"), WidgetsMaskGraphics.prototype = Object.create(XTLink.prototype), WidgetsMaskGraphics.prototype.constructor = WidgetsMaskGraphics, WidgetsMaskGraphics.pixiTypes = [UIPanel, UISprite], WidgetsMaskGraphics.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated, this.OnGameSizeChanged, this)
}, WidgetsMaskGraphics.prototype.OnGameSizeChanged = function () {
    this.needUpdate = !0, this.gameObject.activeInHierarchy && this.LateUpdate()
}, WidgetsMaskGraphics.prototype.Start = function () {
    for (var t = 0; t < this.shapes.length; ++t) this.shapes[t].Init()
}, WidgetsMaskGraphics.prototype.LateUpdate = function () {
    var t = this.GetCamera();
    if (null != t && this.NeedUpdate()) {
        this.needUpdate = !1, this.mask.clear();
        for (var e = 0; e < this.shapes.length; ++e) this.shapes[e].Draw(t, this.mask);
        for (e = 0; e < this.widgets.length; ++e) {
            var i = this.FindPixi(this.widgets[e]);
            null != i && (i.mask = this.mask)
        }
    }
}, WidgetsMaskGraphics.prototype.OnEnable = function () {
    this.updateOnEnable && (this.needUpdate = !0)
}, WidgetsMaskGraphics.prototype.OnDisable = function () {
    this.clearOnDisable && (this.mask.clear(), this.needUpdate = !0)
}, WidgetsMaskGraphics.prototype.IsScreenSizeChanged = function () {
    var t = this.screenWidth != UHTScreen.width || this.screenHeight != UHTScreen.height;
    return t && (this.screenWidth = UHTScreen.width, this.screenHeight = UHTScreen.height), t
}, WidgetsMaskGraphics.prototype.IsCameraPositionChanged = function () {
    var t = this.GetCamera();
    if (null == t) return !1;
    var e = t.transform.position(),
        i = null == this.cameraPos || !this.cameraPos.equals(e);
    return i && (this.cameraPos = e), i
}, WidgetsMaskGraphics.prototype.NeedUpdate = function () {
    if (this.IsScreenSizeChanged() || this.IsCameraPositionChanged()) return !0;
    for (var t = 0; t < this.shapes.length; ++t)
        if (this.shapes[t].NeedUpdate()) return !0;
    return this.needUpdate
}, WidgetsMaskGraphics.prototype.GetCamera = function () {
    return null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject)), this.cachedCamera
}, WidgetsMaskGraphics.prototype.FindPixi = function (t) {
    for (var e = WidgetsMaskGraphics.pixiTypes, i = 0; i < e.length; ++i) {
        var n = t.GetComponent(e[i]);
        if (null != n) return n instanceof Camera || n instanceof UIPanel ? n : n.pixiObject
    }
    return null
}, WidgetsMaskGraphics.prototype.ForceNextUpdate = function () {
    this.needUpdate = !0
}, goog.require("UHT.Engine"), WidgetsEnabler.prototype = Object.create(Component.prototype), WidgetsEnabler.prototype.constructor = WidgetsEnabler, WidgetsEnabler.prototype.EnableWidgets = function () {
    this.isInit || this.FindWidgets();
    for (var t = 0; t < this.sprites.length; ++t) this.sprites[t].gameObject.SetActive(this.spritesActive[t]);
    for (t = 0; t < this.labels.length; ++t) this.labels[t].gameObject.SetActive(this.labelsActive[t])
}, WidgetsEnabler.prototype.DisableWidgets = function () {
    this.isInit || this.FindWidgets();
    for (var t = 0; t < this.sprites.length; ++t) this.sprites[t].gameObject.SetActive(!1);
    for (t = 0; t < this.labels.length; ++t) this.labels[t].gameObject.SetActive(!1)
}, WidgetsEnabler.prototype.FindWidgets = function () {
    this.sprites = this.root.GetComponentsInChildren(UISprite, !0), this.spritesActive = _array.create(this.sprites.length);
    for (var t = 0; t < this.sprites.length; ++t) this.spritesActive[t] = this.sprites[t].gameObject.activeSelf;
    this.labels = this.root.GetComponentsInChildren(UILabel, !0), this.labelsActive = _array.create(this.labels.length);
    for (t = 0; t < this.labels.length; ++t) this.labelsActive[t] = this.labels[t].gameObject.activeSelf;
    this.isInit = !0
}, goog.require("UHT.Engine"), WidgetsUtils.prototype = Object.create(Component.prototype), WidgetsUtils.prototype.constructor = WidgetsUtils, WidgetsUtils.prototype.SetWidth = function (t) {
    for (var e = 0; e < this.sprites.length; ++e) this.sprites[e].width = t;
    for (e = 0; e < this.labels.length; ++e) this.labels[e].width = t
}, WidgetsUtils.prototype.SetHeight = function (t) {
    for (var e = 0; e < this.sprites.length; ++e) this.sprites[e].height = t;
    for (e = 0; e < this.labels.length; ++e) this.labels[e].height = t
}, WidgetsUtils.prototype.SetFontSize = function (t) {
    for (var e = 0; e < this.labels.length; ++e) this.labels[e].fontSize = t
}, WidgetsUtils.prototype.SetMaxWidth = function (t) {
    for (var e = 0; e < this.labelAnchors.length; ++e) {
        var i = this.labelAnchors[e];
        i.maxWidth != t && (i.maxWidth = t, i.ForceNextUpdate(), i.gameObject.activeInHierarchy && i.Update())
    }
}, goog.require("UHT.XTLink"), goog.require("UHT.LocaleManager"), ValueDisplayer.prototype = Object.create(XTLink.prototype), ValueDisplayer.prototype.constructor = ValueDisplayer, ValueDisplayer.prototype.MarkAsLastModifierForLabel = function () {
    if (0 == this.isLastOneToChangeTheLabel) {
        var t = this.label.valueDisplayers;
        null == t && (t = this.label.valueDisplayers = []), t.indexOf(this) < 0 && t.push(this);
        for (var e = 0; e < t.length; e++) t[e].isLastOneToChangeTheLabel = !1;
        this.isLastOneToChangeTheLabel = !0
    }
}, ValueDisplayer.prototype.XTRegisterCallbacks = function () {
    this.actualVarName = this.animated ? this.vdVariable.GetAnimatedVarName() : this.vdVariable.variable.name, this.IsManualValue() || XT.RegisterCallbackDouble(this.actualVarName, this.OnTargetValueChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_LocaleChanged, this.OnLocaleChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinValueChanged, this.OnCoinValueChanged, this), XT.RegisterCallbackBool(Vars.HasCoins, this.OnHasCoinsChanged, this)
}, ValueDisplayer.prototype.OnDestroy = function () {
    XT.UnregisterCallbackDouble(this.OnTargetValueChanged, this)
}, ValueDisplayer.prototype.OnTargetValueChanged = function (t) {
    null == this.label.DOGchars && LocaleManager.isInit && (this.label.DOGchars = this.GetDOGchars()), t *= this.multiplier, this.MarkAsLastModifierForLabel();
    var e = this.label.text;
    if (this.isDisplayingCoins && this.GetHasCoins()) this.label.text = CoinManager.ConvertMoneyToCoins(t);
    else if (this.isDisplayingDecimals) {
        var i = this.formatOptions.hasCurrency;
        if ("object" == typeof this.label.fontName)
            for (var n = 0; n < LocaleManager.currencyInfo.CurrencySymbol.length; n++)
                if (-1 == this.label.fontName.chars.indexOf(LocaleManager.currencyInfo.CurrencySymbol[n])) {
                    this.formatOptions.hasCurrency = !1;
                    break
                } this.label.text = LocaleManager.FormatValue(t, this.formatOptions), this.formatOptions.hasCurrency = i
    } else this.label.text = (0 | t).toString();
    this.StartAnimEventIfNeeded(this.callEventWhenValueChanged && this.callEventWhenValueChangedAllowed, e.toString())
}, ValueDisplayer.prototype.OnLocaleChanged = function () {
    this.label.DOGchars = this.GetDOGchars(), this.isDisplayingCoins && this.GetHasCoins() || this.isLastOneToChangeTheLabel && (LocaleManager.ApplyFontToLabel(this.formatOptions.fontId, this.label), this.OnTargetValueChanged(this.GetTargetValue()))
}, ValueDisplayer.prototype.OnCoinValueChanged = function () {
    this.isDisplayingCoins && this.GetHasCoins() && this.isLastOneToChangeTheLabel && this.OnTargetValueChanged(this.GetTargetValue())
}, ValueDisplayer.prototype.OnHasCoinsChanged = function (t) {
    this.isLastOneToChangeTheLabel && this.OnTargetValueChanged(this.GetTargetValue())
}, ValueDisplayer.prototype.StartAnimEventIfNeeded = function (t, e) {
    t && this.label.gameObject.activeInHierarchy && !this.catEventAnimation.IsRunning() && this.label.text != e && this.catEventAnimation.Start()
}, ValueDisplayer.prototype.GetHasCoins = function () {
    return !!this.forceHasCoins || XT.GetBool(Vars.HasCoins)
}, ValueDisplayer.prototype.IsManualValue = function () {
    return _string.IsNullOrEmpty(this.actualVarName) || "*None*" == this.actualVarName
}, ValueDisplayer.prototype.GetTargetValue = function () {
    return this.IsManualValue() ? this.manualValue : XT.GetDouble(this.actualVarName)
}, ValueDisplayer.prototype.GetInternalValue = function () {
    return this.GetTargetValue()
}, ValueDisplayer.prototype.SetValueManually = function (t) {
    this.manualValue = t, this.OnTargetValueChanged(t)
}, ValueDisplayer.prototype.Awake = function () {
    XTLink.prototype.Awake.call(this), this.allowDOG && (this.label.isDOG = !0, this.label.DOGmonospaceDigits = this.animated, LocaleManager.isInit && (this.label.DOGchars = this.GetDOGchars()))
}, ValueDisplayer.prototype.GetDOGchars = function () {
    var t = " ,.0123456789";
    return this.isDisplayingDecimals && (this.formatOptions.hasJackpotCurrency ? t += LocaleManager.jackpotCurrencyInfo.CurrencySymbol : t += LocaleManager.currencyInfo.CurrencySymbol), t
}, ValueDisplayerVariable.prototype.GetAnimatedVarName = function () {
    return this.variable.name + "_" + this.suffix + "_@nimated"
}, goog.provide("UHT.VSGameStateManager"), goog.require("UHT.Engine");
var VSGameState = {
    Spin: 0,
    SpinAutoplay: 1,
    SpinFreeSpins: 2,
    SpinBonusRounds: 3,
    SpinBonusRoundsAutoplay: 4,
    Result: 5,
    ResultAutoplay: 6,
    ResultBonusRounds: 7,
    ResultBonusRoundsAutoplay: 8,
    ResultFreeSpins: 9,
    ResultFreeSpinsPrepare: 10,
    ResultPrepareForBonus: 11,
    Bonus: 12,
    Gamble: 13,
    GambleCustom: 14,
    FSBG: 15,
    Invalid: 16,
    Jackpot: 17,
    ResultBuyWindowOpen: 18
};

function VSGameStateManager() {}
VSGameStateManager.ChangeTo = function (t) {
    VSGameStateManager.previousState = VSGameStateManager.internalState, VSGameStateManager.internalState = t, XT.TriggerEvent(Vars.Evt_Internal_ChangeVSGameState)
}, VSGameStateManager.GetState = function () {
    return VSGameStateManager.internalState
}, VSGameStateManager.GetPreviousState = function () {
    return VSGameStateManager.previousState
}, VSGameStateManager.internalState = VSGameState.Invalid, VSGameStateManager.previousState = VSGameState.Invalid, goog.provide("UHT.RequestManager"), goog.require("UHT.VSGameStateManager");
var RequestManager = {};

function ServerLink() {
    Component.call(this), this.connections = null, this.balanceManager = null, this.adapter = null, this.jackpotsManager = null, this.freeRoundsBonusConnection = null, this.announcementConnection = null, this.swedishRegulationManager = null, this.requestQueue = null, this.isReady = !1
}

function VSGameStateHelper() {
    Component.call(this)
}

function ValueFX() {
    Component.call(this), this.valueLabels = null, this.fxCats = null
}

function ValueMultiplierFX() {
    Component.call(this), this.fx = null, this.fxDurations = null, this.affectedMultipliers = null, this.startFXTime = [], this.curFXIndex = -1, this.minX = 2
}

function VS_MusicDuckByOneShot() {
    XTLink.call(this), this.oneShotDuckers = null, this.winCounter = null, this.soundManager = null, this.musicLogic = null
}

function SoundAndMusicList() {
    this.oneShotsClips = null, this.musicClipsToDuck = null, this.loopingClipsToDuck = null, this.duckingStep = 0, this.autoUnduckOffset = 0, this.duckInDuration = -1, this.duckOutDuration = -1
}

function VS_OneShotCooldown() {
    XTLink.call(this), this.clipsWithCooldown = null
}

function CooldownOneShot() {
    this.clip = null, this.cooldown = 0, this.cooldownTimer = -1
}
RequestManager.blockRequests = !1, RequestManager.spinTimer = 0, RequestManager.freeSpinsStates = [VSGameState.SpinFreeSpins, VSGameState.ResultFreeSpins, VSGameState.ResultFreeSpinsPrepare], RequestManager.requestList = null, RequestManager.notStartedList = null, RequestManager.Init = function () {
    RequestManager.requestList = [], RequestManager.notStartedList = []
}, RequestManager.Update = function () {
    if (!RequestManager.blockRequests) {
        RequestManager.spinTimer += Time.deltaTime;
        for (var t = 0; t < RequestManager.notStartedList.length; ++t) RequestManager.IsSpinRequest(RequestManager.notStartedList[t]) && (RequestManager.spinTimer = 0), RequestManager.notStartedList[t].Start(), RequestManager.requestList.push(RequestManager.notStartedList[t]);
        RequestManager.notStartedList.splice(0);
        var e = [];
        for (t = 0; t < RequestManager.requestList.length; ++t) RequestManager.requestList[t].IsDone() ? RequestManager.IsSpinRequest(RequestManager.requestList[t]) && RequestManager.MustLimitSpinRequest(RequestManager.requestList[t]) ? e.push(RequestManager.requestList[t]) : RequestManager.requestList[t].Finish() : e.push(RequestManager.requestList[t]);
        RequestManager.requestList = e
    }
}, RequestManager.AddRequest = function (t, e) {
    (e = null != e && e) || _string.IsNullOrEmpty(ServerOptions.mgckey) || ("POST" == t.Method ? t.Fields[GameProtocolDictionary.mgckey] = ServerOptions.mgckey : new RegExp(GameProtocolDictionary.mgckey).test(t.Url) || (t.Url += (/\?/.test(t.Url) ? "&" : "?") + GameProtocolDictionary.mgckey + "=" + ServerOptions.mgckey)), RequestManager.notStartedList.push(t)
}, RequestManager.IsSpinRequest = function (t) {
    return null != t.Fields[GameProtocolDictionary.Actions.action] && t.Fields[GameProtocolDictionary.Actions.action] == GameProtocolDictionary.Actions.doSpin && !RequestManager.freeSpinsStates.indexOf(VSGameStateManager.GetState()) > -1
}, RequestManager.MustLimitSpinRequest = function (t) {
    return !XT.GetBool(Vars.IsDifferentSpinType) && (XT.GetBool(Vars.Jurisdiction_SpinLimit) && RequestManager.spinTimer < XT.GetFloat(Vars.Jurisdiction_SpinLimit_Value))
}, goog.require("UHT.Engine"), goog.require("UHT.GameConnection"), goog.require("UHT.BalanceManager"), goog.require("UHT.RequestManager"), goog.require("UHT.Adapter"), goog.require("UHT.JackpotsManager"), goog.require("UHT.ServerOptions"), goog.require("UHT.SwedishRegulationManager"), ServerLink.prototype = Object.create(Component.prototype), ServerLink.prototype.constructor = ServerLink, ServerLink.prototype.scriptUpdatePriority = 6, ServerLink.prototype.Awake = function () {
    this.requestQueue = [], EventManager.Init(), this.connections = [], RequestManager.Init(), this.balanceManager = new BalanceManager, this.balanceManager.Init(), this.adapter = new Adapter, this.adapter.Init(), this.jackpotsManager = new JackpotsManager, this.jackpotsManager.Init(), this.freeRoundsBonusConnection = new FreeRoundsBonusConnection, this.announcementConnection = new AnnouncementConnection, this.swedishRegulationManager = new SwedishRegulationManager, this.swedishRegulationManager.Init(), EventManager.AddHandler(ApplicationEvents.evtRequestInitApplication, this.OnInitApplicationRequest, this), EventManager.AddHandler(ApplicationEvents.evtAppConfigurationReceived, this.OnApplicationConfigReceived, this), EventManager.AddHandler(GameEvents.evtCreateConnectionRequest, this.OnCreateConnectionRequest, this)
}, ServerLink.prototype.Start = function () {
    this.gameObject.AddComponent("ResourceManager")
}, ServerLink.prototype.Update = function () {
    var t;
    if (this.isReady && this.requestQueue.length > 0) {
        for (t = 0; t < this.requestQueue.length; ++t) {
            var e = new GameConnection;
            e.Init(this.requestQueue[t]), this.connections.push(e), EventManager.Trigger(GameEvents.evtConnectionReady, ServerOptions.gameSymbol), EventManager.Trigger(ApplicationEvents.evtServerOptionsParsed, null)
        }
        this.requestQueue = []
    }
    for (RequestManager.Update(), t = 0; t < this.connections.length; ++t) this.connections[t].Update();
    this.balanceManager.Update(), this.jackpotsManager.Update(), this.freeRoundsBonusConnection.Update(), this.announcementConnection.Update(), this.swedishRegulationManager.Update()
}, ServerLink.prototype.OnInitApplicationRequest = function (t) {
    EventManager.Trigger(ApplicationEvents.evtRequestAppConfiguration, null)
}, ServerLink.prototype.OnApplicationConfigReceived = function (t) {
    var e = t,
        i = this.GetConfigValue(FrameworkConfiguration.isSecure, "true", e);
    if (_string.IsNullOrEmpty(i) || (ServerOptions.isSecure = _bool.Parse(i)), /* ServerOptions.serverUrl = (ServerOptions.isSecure ? "https://" : "http://") + ServerInterface.GetDomain(), */ ServerOptions.loginUri = this.GetConfigValue(FrameworkConfiguration.loginUri, ServerOptions.loginUri, e), ServerOptions.logoutUri = this.GetConfigValue(FrameworkConfiguration.logoutUri, ServerOptions.logoutUri, e), ServerOptions.sessionTimeout = this.GetConfigValue(FrameworkConfiguration.sessionTimeout, ServerOptions.sessionTimeout, e), ServerOptions.rcSettings = this.GetConfigValue(FrameworkConfiguration.rcSettings, ServerOptions.rcSettings, e), ServerOptions.menuUri = this.GetConfigValue(FrameworkConfiguration.menuUri, ServerOptions.menuUri, e), ServerOptions.versionUri = this.GetConfigValue(FrameworkConfiguration.versionInfo, ServerOptions.versionUri, e), ServerOptions.resourceseUri = this.GetConfigValue(FrameworkConfiguration.resourceUri, ServerOptions.resourceseUri, e), ServerOptions.settingsUri = this.GetConfigValue(FrameworkConfiguration.settingsUri, ServerOptions.settingsUri, e), ServerOptions.reloadBalanceUri = this.GetConfigValue(FrameworkConfiguration.reloadBalanceUri, ServerOptions.reloadBalanceUri, e), ServerOptions.reloadJackpotUri = this.GetConfigValue(FrameworkConfiguration.reloadJackpotUri, ServerOptions.reloadJackpotUri, e), ServerOptions.gameUrl = this.GetConfigValue(FrameworkConfiguration.gameUrl, ServerOptions.gameUrl, e), ServerOptions.currency = this.GetConfigValue(FrameworkConfiguration.currency, ServerOptions.currency, e), null != UHT_GAME_CONFIG_SRC.currencyOriginal ? ServerOptions.realCurrency = UHT_GAME_CONFIG_SRC.currencyOriginal : ServerOptions.realCurrency = ServerOptions.currency, ServerOptions.casinoName = this.GetConfigValue(FrameworkConfiguration.casinoName, ServerOptions.casinoName, e), ServerOptions.mgckey = this.GetConfigValue(FrameworkConfiguration.mgckey, ServerOptions.mgckey, e), ServerOptions.resourcesUrl = (ServerOptions.isSecure ? "https://" : "http://") + this.GetConfigValue(FrameworkConfiguration.bundleDomain, ServerOptions.resourcesUrl, e), ServerOptions.gameHistory = this.GetConfigValue(FrameworkConfiguration.gameHistory, ServerOptions.gameHistory, e), ServerOptions.jurisdiction = this.GetConfigValue(FrameworkConfiguration.jurisdiction, ServerOptions.jurisdiction, e), ServerOptions.jurisdictionRequirements = this.GetConfigValue(FrameworkConfiguration.jurisdictionRequirements, ServerOptions.jurisdictionRequirements, e), ServerOptions.brandRequirements = this.GetConfigValue(FrameworkConfiguration.brandRequirements, ServerOptions.brandRequirements, UHT_GAME_CONFIG_SRC), null != ServerOptions.brandRequirements) {
        for (var n = ServerOptions.brandRequirements.split(","), o = [], s = 0; s < n.length; s++) {
            var a = n[s],
                r = a.split("*");
            if (r.length > 1) {
                var l = (Globals.isMini ? "MINI_" : "") + (Globals.isMobile ? "MOBILE" : "DESKTOP");
                r[1] == l && (a = r[0])
            }
            "[" == a[0] ? 0 == a.indexOf("[" + ServerOptions.jurisdiction + "]") && o.push(a.substr(a.indexOf("]") + 1)) : o.push(a)
        }
        ServerOptions.brandRequirements = o.join(",")
    }
    ServerOptions.promotionurl = this.GetConfigValue(FrameworkConfiguration.promotionurl, ServerOptions.promotionurl, e), ServerOptions.amountType = this.GetConfigValue(FrameworkConfiguration.amountType, ServerOptions.amountType, e), ServerOptions.SwedishRegulation.notificationUrl = this.GetConfigValue("REGULATION_NOTIFICATION_URL", "", e);
    var u = this.GetConfigValue(FrameworkConfiguration.clientLogLevel, "INFO", e);
    ServerOptions.logLevel = "WARN" == u ? LogLevel.Warn : "DEBUG" == u ? LogLevel.Debug : "ERROR" == u ? LogLevel.Error : LogLevel.None_Info, ServerOptions.isExternal = _bool.Parse(this.GetConfigValue(FrameworkConfiguration.external, "", e)), ServerOptions.isDemoMode = _bool.Parse(this.GetConfigValue(FrameworkConfiguration.demoMode, "", e)), ServerOptions.noRating = _bool.Parse(this.GetConfigValue(FrameworkConfiguration.noRating, String(ServerOptions.noRating), e)), UHT_LOCAL || (ServerOptions.styleName = this.GetConfigValue(FrameworkConfiguration.stylename, ServerOptions.styleName, e), ServerOptions.language = this.GetConfigValue(FrameworkConfiguration.locale, ServerOptions.language, e), ServerOptions.gameSymbol = this.GetConfigValue(FrameworkConfiguration.gameSymbol, ServerOptions.gameSymbol, e), ServerOptions.gameServiceUri = this.GetConfigValue(FrameworkConfiguration.gameServiceUri, ServerOptions.gameServiceUri, e)), ServerOptions.gameVerificationUrl = UHT_GAME_CONFIG_SRC.gameVerificationURL || null;
    var h = new Array(2);
    h[0] = "lang=" + ServerOptions.language, h[1] = GameProtocolDictionary.mgckey + "=" + ServerOptions.mgckey, null != ServerOptions.gameVerificationUrl && (ServerOptions.gameVerificationUrl += "?" + h.join("&")), this.OnCreateConnectionRequest(ServerOptions.gameSymbol), this.freeRoundsBonusConnection.Init(), this.announcementConnection.Init(), this.isReady = !0
}, ServerLink.prototype.GetConfigValue = function (t, e, i) {
    return null != i[t] ? i[t] : e
}, ServerLink.prototype.OnCreateConnectionRequest = function (t) {
    this.requestQueue.push(t)
}, ServerLink.prototype.OnAppConfigurationResponse = function (t, e) {
    EventManager.Trigger(AdapterEvents.evtGetConfiguration, t)
}, ServerLink.prototype.ReloadBalanceCallback = function (t) {
    var e = t.split("&"),
        i = GameProtocolCommonParser.SplitResponseContent(e),
        n = GameProtocolCommonParser.ParseBalance(i);
    null != n && EventManager.Trigger(BalanceEvents.evtBalanceUpdateRequest, n)
}, goog.require("UHT.Engine"), VSGameStateHelper.prototype = Object.create(Component.prototype), VSGameStateHelper.prototype.constructor = VSGameStateHelper, goog.require("UHT.UHTEngine"), ValueFX.prototype = Object.create(Component.prototype), ValueFX.prototype.constructor = ValueFX, ValueFX.prototype.TryStartFX = function (t, e) {
    var i = this.fxCats[UHTMath.clamp(e, 0, this.fxCats.length - 1)];
    if (i.IsRunning()) return !1;
    for (var n = 0; n < this.valueLabels.length; ++n) this.valueLabels[n].text = t;
    return i.Start(), !0
}, goog.require("UHT.UHTEngine"), ValueMultiplierFX.prototype = Object.create(Component.prototype), ValueMultiplierFX.prototype.constructor = ValueMultiplierFX, ValueMultiplierFX.prototype.ComputeStartFXTime = function (t, e, i, n) {
    this.startFXTime.splice(0);
    var o = i - e,
        s = Math.floor(i / t),
        a = s - this.minX,
        r = (t - e) / o * n,
        l = 0;
    a > 0 && (l = 1 / a * ((t * s - t) / o * n));
    for (var u = 0; u <= a; ++u)(0 == this.affectedMultipliers.length || this.affectedMultipliers.indexOf(u + this.minX) > -1) && this.startFXTime.push(l * u + r - this.fxDurations[UHTMath.clamp(u, 0, this.fxDurations.length - 1)]);
    this.curFXIndex = this.startFXTime.length > 0 ? 0 : -1
}, ValueMultiplierFX.prototype.StartFX = function () {
    for (var t = String(0 == this.affectedMultipliers.length ? this.curFXIndex + this.minX : this.affectedMultipliers[this.curFXIndex]), e = 0; e < this.fx.length && !this.fx[e].TryStartFX(t, this.curFXIndex); ++e);
    this.curFXIndex++, this.curFXIndex >= this.startFXTime.length && (this.curFXIndex = -1)
}, goog.require("UHT.XTLink"), VS_MusicDuckByOneShot.prototype = Object.create(XTLink.prototype), VS_MusicDuckByOneShot.prototype.constructor = VS_MusicDuckByOneShot, VS_MusicDuckByOneShot.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.SoundManagerObject, this.OnSoundManagerObject, this), XT.RegisterCallbackObject(Vars.MusicLogicObject, this.OnMusicLogicObject, this), XT.RegisterCallbackBool(Vars.LastWinIsCounting, this.OnLastWinCountingChanged, this)
}, VS_MusicDuckByOneShot.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.MusicDuckByOneShotObject, this), this.oneShotDuckers.push(this.winCounter)
}, VS_MusicDuckByOneShot.prototype.OnLastWinCountingChanged = function (t) {
    t ? this.OneShotStartsPlaying(null, !0) : this.OneShotStartsPlaying(null, !1)
}, VS_MusicDuckByOneShot.prototype.OnSoundManagerObject = function (t) {
    this.soundManager = t
}, VS_MusicDuckByOneShot.prototype.OnMusicLogicObject = function (t) {
    this.musicLogic = t
}, VS_MusicDuckByOneShot.prototype.OneShotStartsPlaying = function (t, e) {
    if (null != this.soundManager)
        for (var i = null == t, n = i ? this.oneShotDuckers.length - 1 : 0; n < this.oneShotDuckers.length - (i ? 0 : 1); n++)
            if (i || -1 != this.oneShotDuckers[n].oneShotsClips.indexOf(t)) {
                var o, s;
                for (o = 0; o < this.oneShotDuckers[n].musicClipsToDuck.length; o++) {
                    var a = null;
                    null != this.musicLogic && (a = this.musicLogic.GetMusicClipByAudioClip(this.oneShotDuckers[n].musicClipsToDuck[o])), null == a && (a = this.soundManager.GetMusicClipByAudioClip(this.oneShotDuckers[n].musicClipsToDuck[o])), null != a ? ((s = this.oneShotDuckers[n].duckInDuration > 0 || this.oneShotDuckers[n].duckOutDuration > 0) && (a.duckingSteps[this.oneShotDuckers[n].duckingStep].fadeInDuration = this.oneShotDuckers[n].duckInDuration, a.duckingSteps[this.oneShotDuckers[n].duckingStep].fadeOutDuration = this.oneShotDuckers[n].duckOutDuration), e ? (i || t.length > this.oneShotDuckers[n].autoUnduckOffset) && this.soundManager.DuckMusicClip(a, this.oneShotDuckers[n].duckingStep, i ? -1 : t.length - this.oneShotDuckers[n].autoUnduckOffset, s) : this.soundManager.UnduckMusicClip(a, this.oneShotDuckers[n].duckingStep, s)) : this.oneShotDuckers[n].musicClipsToDuck.splice(o--, 1)
                }
                for (o = 0; o < this.oneShotDuckers[n].loopingClipsToDuck.length; o++) {
                    var r = null;
                    null != this.musicLogic && (r = this.musicLogic.GetLoopingClipByAudioClip(this.oneShotDuckers[n].loopingClipsToDuck[o])), null == r && (r = this.soundManager.GetLoopingClipByAudioClip(this.oneShotDuckers[n].loopingClipsToDuck[o])), null != r ? ((s = this.oneShotDuckers[n].duckInDuration > 0 || this.oneShotDuckers[n].duckOutDuration > 0) && (r.duckingSteps[this.oneShotDuckers[n].duckingStep].fadeInDuration = this.oneShotDuckers[n].duckInDuration, r.duckingSteps[this.oneShotDuckers[n].duckingStep].fadeOutDuration = this.oneShotDuckers[n].duckOutDuration), e ? (i || t.length > this.oneShotDuckers[n].autoUnduckOffset) && this.soundManager.DuckLoopingClip(r, this.oneShotDuckers[n].duckingStep, i ? -1 : t.length - this.oneShotDuckers[n].autoUnduckOffset, s) : this.soundManager.UnduckLoopingClip(r, this.oneShotDuckers[n].duckingStep, s)) : this.oneShotDuckers[n].loopingClipsToDuck.splice(o--, 1)
                }
            }
}, goog.require("UHT.XTLink"), VS_OneShotCooldown.prototype = Object.create(XTLink.prototype), VS_OneShotCooldown.prototype.constructor = VS_OneShotCooldown, VS_OneShotCooldown.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.OneShotCooldownObject, this)
}, VS_OneShotCooldown.prototype.IsOnCooldown = function (t) {
    for (var e = 0; e < this.clipsWithCooldown.length; e++)
        if (this.clipsWithCooldown[e].clip == t) {
            var i = this.clipsWithCooldown[e].cooldownTimer > 0;
            return i || (this.clipsWithCooldown[e].cooldownTimer = this.clipsWithCooldown[e].cooldown), i
        } return !1
}, VS_OneShotCooldown.prototype.ResetClipCooldown = function (t) {
    this.clipsWithCooldown[t].cooldownTimer = -1
}, VS_OneShotCooldown.prototype.Update = function () {
    for (var t = 0; t < this.clipsWithCooldown.length; t++) this.clipsWithCooldown[t].UpdateTimer()
}, CooldownOneShot.prototype.UpdateTimer = function () {
    this.cooldownTimer > 0 && (this.cooldownTimer -= Time.deltaTime)
}, goog.provide("UHT.SoundManager"), goog.require("UHT.System.Misc.Utils"), goog.require("UHT.XTLink"), goog.require("UHT.AudioSource"), goog.require("UHT.AudioClip"), SoundManager.prototype = Object.create(XTLink.prototype), SoundManager.prototype.constructor = SoundManager;
var MusicEmitterState = {
    Free: 0,
    InUse: 1
};

function SoundManager() {
    XTLink.call(this), this.playOneShotSource = null, this.fadeDuration = .5, this.musicSoundSource = [], this.loopingSources = [], this.AllowDuckingInTurboSpin = !1, this.musicClips = [], this.loopingClips = [], this.duckByOneShot = null, this.oneShotCooldown = null, this.volumeFX = 1, this.volumeMusic = 1, this.internalVolumeMusic = 1, this.internalVolumeFX = 1, this.initDone = !1, this.nextFreeMusicHandler = 0, this.nextFreeLoopingHandler = 0
}
SoundManager.InvalidSoundHandle = -1, SoundManager.forcedMute = !1, SoundManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SoundManager, this.OnSoundManagerInit, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_SoundBtn, this.OnSoundPressed, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_SoundFXBtn, this.OnSoundFXPressed, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_MusicBtn, this.OnMusicPressed, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SoundStateChanged, this.OnSoundStateChanged, this), XT.RegisterCallbackObject(Vars.MusicDuckByOneShotObject, this.OnMusicDuckByOneShotObject, this), XT.RegisterCallbackObject(Vars.OneShotCooldownObject, this.OnOneShotCooldownObject, this)
}, SoundManager.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.SoundManagerObject, this)
}, SoundManager.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnSoundManagerInit, this), XT.UnregisterCallbackEvent(this.OnSoundStateChanged, this), XT.UnregisterCallbackEvent(this.OnSoundPressed, this), XT.UnregisterCallbackEvent(this.OnSoundFXPressed, this), XT.UnregisterCallbackEvent(this.OnMusicPressed, this), XT.UnregisterCallbackObject(this.OnMusicDuckByOneShotObject, this)
}, SoundManager.prototype.OnMusicDuckByOneShotObject = function (t) {
    this.duckByOneShot = t
}, SoundManager.prototype.OnOneShotCooldownObject = function (t) {
    this.oneShotCooldown = t
}, SoundManager.prototype.OnMusicPressed = function () {
    var t = XT.GetObject(Vars.SoundState);
    t.oldMusicIsOn = t.musicIsOn, t.musicIsOn = !t.musicIsOn, t.gameSoundIsOn = t.musicIsOn || t.soundFXIsOn, XT.SetBool(Vars.MusicIsOn, t.musicIsOn), XT.SetObject(Vars.SoundState, t), XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)
}, SoundManager.prototype.OnSoundFXPressed = function () {
    var t = XT.GetObject(Vars.SoundState);
    t.oldSoundFXIsOn = t.soundFXIsOn, t.soundFXIsOn = !t.soundFXIsOn, t.gameSoundIsOn = t.musicIsOn || t.soundFXIsOn, XT.SetObject(Vars.SoundState, t), XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)
}, SoundManager.prototype.OnSoundPressed = function () {
    var t = XT.GetObject(Vars.SoundState);
    SoundManager.forcedMute && !t.gameSoundIsOn || (t.gameSoundIsOn = !t.gameSoundIsOn, t.gameSoundIsOn ? (t.musicIsOn = t.oldMusicIsOn, t.soundFXIsOn = t.oldSoundFXIsOn) : (t.oldMusicIsOn = t.musicIsOn, t.oldSoundFXIsOn = t.soundFXIsOn, t.musicIsOn || t.soundFXIsOn || (t.oldMusicIsOn = t.oldSoundFXIsOn = !0), t.musicIsOn = !1, t.soundFXIsOn = !1), XT.SetBool(Vars.MusicIsOn, t.musicIsOn), XT.SetObject(Vars.SoundState, t), XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer))
}, SoundManager.prototype.PlaySimple = function (t) {
    null != this.oneShotCooldown && this.oneShotCooldown.IsOnCooldown(t) || (this.playOneShotSource.PlayOneShot(t, UHTAudioListener.volume * this.volumeFX * this.internalVolumeFX), null != this.duckByOneShot && null != t && this.duckByOneShot.OneShotStartsPlaying(t, !0))
}, SoundManager.prototype.PlayMusic = function (t) {
    if (null == t) return -1;
    var e = this.GetMusicClipByAudioClip(t);
    return this.PlayMusicClip(e, !0), e.handler
}, SoundManager.prototype.GetMusicClipByAudioClip = function (t) {
    if (null == t) return null;
    for (var e = null, i = 0; i < this.musicClips.length; i++)
        if (this.musicClips[i].clip == t) {
            e = this.musicClips[i];
            break
        } return null == e && ((e = new MusicClip).maxVolume = 1, e.volumeFadeInDuration = this.fadeDuration, e.volumeFadeOutDuration = this.fadeDuration, e.clip = t), e
}, SoundManager.prototype.RestartMusic = function () {
    for (var t = 0; t < this.musicClips.length; t++) this.musicClips[t].isPlaying && null != this.musicSoundSource[t].clip && this.musicSoundSource[t].Play()
}, SoundManager.prototype.StopMusic = function (t) {
    for (var e = 0; e < this.musicClips.length; e++) this.musicClips[e].handler == t.handle && this.StopMusicClip(this.musicClips[e], !0);
    t.handle = SoundManager.InvalidSoundHandle
}, SoundManager.prototype.PlayLooping = function (t) {
    if (null == t) return -1;
    var e = this.GetLoopingClipByAudioClip(t);
    return this.PlayLoopingClip(e, !1), e.handler
}, SoundManager.prototype.GetLoopingClipByAudioClip = function (t) {
    if (null == t) return null;
    for (var e = null, i = 0; i < this.loopingClips.length; i++)
        if (this.loopingClips[i].clip == t) {
            e = this.loopingClips[i];
            break
        } return null == e && ((e = new MusicClip).maxVolume = 1, e.volumeFadeInDuration = this.fadeDuration, e.volumeFadeOutDuration = this.fadeDuration, e.clip = t), e
}, SoundManager.prototype.StopLoopingSound = function (t) {
    for (var e = 0; e < this.loopingClips.length; e++) this.loopingClips[e].handler == t.handle && this.StopLoopingClip(this.loopingClips[e], !1);
    t.handle = SoundManager.InvalidSoundHandle
}, SoundManager.prototype.MuteMusic = function () {
    this.internalVolumeMusic = 0, XT.TriggerEvent(Vars.Evt_Internal_MuteMusic)
}, SoundManager.prototype.UnmuteMusic = function () {
    this.internalVolumeMusic = 1, XT.TriggerEvent(Vars.Evt_Internal_UnmuteMusic)
}, SoundManager.prototype.MuteSoundFX = function () {
    this.internalVolumeFX = 0, this.UpdateSoundEmittersVolume()
}, SoundManager.prototype.UnmuteSoundFX = function () {
    this.internalVolumeFX = 1, this.UpdateSoundEmittersVolume()
}, SoundManager.prototype.MuteLoopingSound = function (t) {
    for (var e = 0; e < this.loopingClips.length; e++) this.loopingClips[e].handler == t && this.MuteLoopingClip(this.loopingClips[e], !1)
}, SoundManager.prototype.UnmuteLoopingSound = function (t) {
    for (var e = 0; e < this.loopingClips.length; e++) this.loopingClips[e].handler == t && this.UnmuteLoopingClip(this.loopingClips[e], !1)
}, SoundManager.prototype.OnSoundManagerInit = function () {
    this.initDone = !0, this.OnSoundStateChanged()
}, SoundManager.prototype.OnSoundStateChanged = function () {
    if (this.initDone) {
        var t = XT.GetObject(Vars.SoundState);
        this.volumeFX = 1, this.volumeMusic = 1, t.globalSoundIsOn && t.gameSoundIsOn || (this.volumeFX = this.volumeMusic = 0), t.soundFXIsOn || (this.volumeFX = 0), t.musicIsOn || (this.volumeMusic = 0), this.UpdateSoundEmittersVolume()
    }
}, SoundManager.prototype.UpdateSoundEmittersVolume = function () {
    this.playOneShotSource.volume = this.volumeFX * this.internalVolumeFX
}, SoundManager.prototype.PrepareNewMusicClip = function (t) {
    var e = -1;
    e = this.nextFreeMusicHandler < this.musicSoundSource.length ? this.nextFreeMusicHandler : this.GetNewMusicSource(), this.nextFreeMusicHandler++, this.musicSoundSource[e].clip = t.clip, this.musicSoundSource[e].loop = !0, t.handler = e, this.musicClips.push(t)
}, SoundManager.prototype.PrepareNewLoopingClip = function (t) {
    var e = -1;
    e = this.nextFreeLoopingHandler < this.loopingSources.length ? this.nextFreeLoopingHandler : this.GetNewLoopingSource(), this.nextFreeLoopingHandler++, this.loopingSources[e].clip = t.clip, this.loopingSources[e].loop = !0, t.handler = e, this.loopingClips.push(t)
}, SoundManager.prototype.GetNewMusicSource = function () {
    var t = instantiate(this.musicSoundSource[0].gameObject);
    return t.name = "MusicSoundSource" + this.musicSoundSource.length, t.audio = t.GetComponent(AudioSource), t.audio.playOnAwake = !1, t.transform.SetParent(this.transform, !0), this.musicSoundSource.push(t.audio), this.musicSoundSource.length - 1
}, SoundManager.prototype.GetNewLoopingSource = function () {
    var t = instantiate(this.loopingSources[0].gameObject);
    return t.name = "LoopingSource" + this.loopingSources.length, t.audio = t.GetComponent(AudioSource), t.audio.playOnAwake = !1, t.transform.SetParent(this.transform, !0), this.loopingSources.push(t.audio), this.loopingSources.length - 1
}, SoundManager.prototype.PlayMusicClip = function (t, e) {
    t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewMusicClip(t), t.isPlaying || (t.isPlaying = !0, this.musicSoundSource[t.handler].volume = 0, t.isMuted || (e && t.volumeFadeInDuration > 0 ? (t.volumeLevel = 0, t.volumeState = MusicVolumeState.fadingIn, t.currentCurveTime = 0) : (t.volumeLevel = 1, t.volumeState = MusicVolumeState.idle, XT.GetBool(Vars.MusicIsOn) && (this.musicSoundSource[t.handler].volume = t.GetVolume() * this.internalVolumeMusic))), null != t.clip && this.musicSoundSource[t.handler].Play())
}, SoundManager.prototype.StopMusicClip = function (t, e) {
    t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewMusicClip(t), t.isPlaying = !1, e && t.volumeFadeOutDuration > 0 ? t.volumeState = MusicVolumeState.fadingOut : (this.musicSoundSource[t.handler].volume = 0, this.musicSoundSource[t.handler].Stop(), t.volumeLevel = 0, t.currentCurveTime = 0, t.volumeState = MusicVolumeState.idle)
}, SoundManager.prototype.MuteMusicClip = function (t, e) {
    t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewMusicClip(t), t.isMuted = !0, e && t.volumeFadeOutDuration > 0 ? t.volumeState = MusicVolumeState.fadingOut : (this.musicSoundSource[t.handler].volume = 0, t.volumeState = MusicVolumeState.idle, t.volumeLevel = 0, t.currentCurveTime = 0)
}, SoundManager.prototype.UnmuteMusicClip = function (t, e) {
    t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewMusicClip(t), t.isMuted = !1, e && t.volumeFadeInDuration > 0 ? t.volumeState = MusicVolumeState.fadingIn : (t.volumeLevel = 1, t.volumeState = MusicVolumeState.idle, XT.GetBool(Vars.MusicIsOn) && (this.musicSoundSource[t.handler].volume = t.GetVolume() * this.internalVolumeMusic))
}, SoundManager.prototype.DuckMusicClip = function (t, e, i, n) {
    !this.AllowDuckingInTurboSpin && XT.GetBool(Vars.ContinuousSpin) || (t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewMusicClip(t), i > 0 ? (t.duckingSteps[e].autoUnduck || (t.duckingSteps[e].autoUnduck = !0, t.duckingSteps[e].duckCount++), i > t.duckingSteps[e].autoUnduckTimer && (t.duckingSteps[e].autoUnduckShouldFade = n && t.duckingSteps[e].fadeOutDuration > 0, t.duckingSteps[e].autoUnduckTimer = i)) : t.duckingSteps[e].duckCount++, t.UpdateDuckingStepPriority(), n && t.duckingSteps[e].fadeInDuration > 0 ? (t.duckingFadeInDuration = t.duckingSteps[e].fadeInDuration, t.duckingState = MusicVolumeState.fadingIn) : (t.duckingVolume = t.duckingSteps[t.priorityDuckingStepIndex].targetVolume, t.duckingState = MusicVolumeState.idle, XT.GetBool(Vars.MusicIsOn) && (this.musicSoundSource[t.handler].volume = t.GetVolume() * this.internalVolumeMusic)))
}, SoundManager.prototype.UnduckMusicClip = function (t, e, i) {
    if (t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewMusicClip(t), t.duckingSteps[e].duckCount > 0) {
        if (1 == t.duckingSteps[e].duckCount && t.duckingSteps[e].autoUnduck) return;
        if (t.duckingSteps[e].duckCount--, t.duckingSteps[e].duckCount > 0) return
    }
    t.UpdateDuckingStepPriority(), i && t.duckingSteps[e].fadeOutDuration > 0 ? -1 == t.priorityDuckingStepIndex ? (t.duckingFadeOutDuration = t.duckingSteps[e].fadeOutDuration, t.duckingState = MusicVolumeState.fadingOut) : (t.duckingFadeInDuration = t.duckingSteps[e].fadeInDuration, t.duckingFadeOutDuration = t.duckingSteps[e].fadeOutDuration, t.duckingState = MusicVolumeState.fadingIn) : (-1 == t.priorityDuckingStepIndex ? t.duckingVolume = 1 : t.duckingVolume = t.duckingSteps[t.priorityDuckingStepIndex].targetVolume, t.duckingState = MusicVolumeState.idle, XT.GetBool(Vars.MusicIsOn) && (this.musicSoundSource[t.handler].volume = t.GetVolume() * this.internalVolumeMusic))
}, SoundManager.prototype.PlayLoopingClip = function (t, e) {
    if (t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewLoopingClip(t), !t.isPlaying) {
        if (t.isPlaying = !0, this.loopingSources[t.handler].volume = 0, !t.isMuted)
            if (e && t.volumeFadeInDuration > 0) t.volumeLevel = 0, t.volumeState = MusicVolumeState.fadingIn;
            else {
                t.volumeLevel = 1, t.volumeState = MusicVolumeState.idle, XT.GetObject(Vars.SoundState).soundFXIsOn && (this.loopingSources[t.handler].volume = t.GetVolume() * this.internalVolumeFX)
            } null != t.clip && this.loopingSources[t.handler].Play()
    }
}, SoundManager.prototype.StopLoopingClip = function (t, e) {
    t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewLoopingClip(t), t.isPlaying = !1, e && t.volumeFadeOutDuration > 0 ? t.volumeState = MusicVolumeState.fadingOut : (this.loopingSources[t.handler].volume = 0, this.loopingSources[t.handler].Stop(), t.volumeLevel = 0, t.volumeState = MusicVolumeState.idle)
}, SoundManager.prototype.MuteLoopingClip = function (t, e) {
    t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewLoopingClip(t), t.isMuted = !0, e && t.volumeFadeOutDuration > 0 ? t.volumeState = MusicVolumeState.fadingOut : (this.loopingSources[t.handler].volume = 0, t.volumeState = MusicVolumeState.idle, t.volumeLevel = 0)
}, SoundManager.prototype.UnmuteLoopingClip = function (t, e) {
    (t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewLoopingClip(t), t.isMuted = !1, e && t.volumeFadeInDuration > 0) ? t.volumeState = MusicVolumeState.fadingIn: (t.volumeLevel = 1, t.volumeState = MusicVolumeState.idle, XT.GetObject(Vars.SoundState).soundFXIsOn && (this.loopingSources[t.handler].volume = t.GetVolume() * this.internalVolumeFX))
}, SoundManager.prototype.DuckLoopingClip = function (t, e, i, n) {
    (t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewLoopingClip(t), i > 0 ? (t.duckingSteps[e].autoUnduck || (t.duckingSteps[e].autoUnduck = !0, t.duckingSteps[e].duckCount++), i > t.duckingSteps[e].autoUnduckTimer && (t.duckingSteps[e].autoUnduckShouldFade = n && t.duckingSteps[e].fadeOutDuration > 0, t.duckingSteps[e].autoUnduckTimer = i)) : t.duckingSteps[e].duckCount++, t.UpdateDuckingStepPriority(), n && t.duckingSteps[e].fadeInDuration > 0) ? (t.duckingFadeInDuration = t.duckingSteps[e].fadeInDuration, t.duckingState = MusicVolumeState.fadingIn) : (t.duckingVolume = t.duckingSteps[t.priorityDuckingStepIndex].targetVolume, t.duckingState = MusicVolumeState.idle, XT.GetObject(Vars.SoundState).soundFXIsOn && (this.loopingSources[t.handler].volume = t.GetVolume() * this.internalVolumeFX))
}, SoundManager.prototype.UnduckLoopingClip = function (t, e, i) {
    if (t.handler == SoundManager.InvalidSoundHandle && this.PrepareNewLoopingClip(t), t.duckingSteps[e].duckCount > 0) {
        if (1 == t.duckingSteps[e].duckCount && t.duckingSteps[e].autoUnduck) return;
        if (t.duckingSteps[e].duckCount--, t.duckingSteps[e].duckCount > 0) return
    }(t.UpdateDuckingStepPriority(), i && t.duckingSteps[e].fadeOutDuration > 0) ? -1 == t.priorityDuckingStepIndex ? (t.duckingFadeOutDuration = t.duckingSteps[e].fadeOutDuration, t.duckingState = MusicVolumeState.fadingOut) : (t.duckingFadeInDuration = t.duckingSteps[e].fadeInDuration, t.duckingFadeOutDuration = t.duckingSteps[e].fadeOutDuration, t.duckingState = MusicVolumeState.fadingIn): (-1 == t.priorityDuckingStepIndex ? t.duckingVolume = 1 : t.duckingVolume = t.duckingSteps[t.priorityDuckingStepIndex].targetVolume, t.duckingState = MusicVolumeState.idle, XT.GetObject(Vars.SoundState).soundFXIsOn && (this.loopingSources[t.handler].volume = t.GetVolume() * this.internalVolumeFX))
}, SoundManager.prototype.UpdateMusicVolume = function () {
    for (var t = 0; t < this.musicClips.length; t++) this.musicSoundSource[this.musicClips[t].handler].volume != this.musicClips[t].GetVolume() * this.volumeMusic * this.internalVolumeMusic && (this.musicSoundSource[this.musicClips[t].handler].volume = this.musicClips[t].GetVolume() * this.volumeMusic * this.internalVolumeMusic)
}, SoundManager.prototype.UpdateLoopingClipsVolume = function () {
    for (var t = 0; t < this.loopingClips.length; t++) this.loopingSources[this.loopingClips[t].handler].volume != this.loopingClips[t].GetVolume() * this.volumeFX * this.internalVolumeFX && (this.loopingSources[this.loopingClips[t].handler].volume = this.loopingClips[t].GetVolume() * this.volumeFX * this.internalVolumeFX)
}, SoundManager.prototype.ComputeMusicClipsVolume = function () {
    for (var t = 0; t < this.musicClips.length; t++) {
        if (this.musicClips[t].volumeState == MusicVolumeState.fadingIn) {
            if (this.musicClips[t].volumeLevel < 1)
                if (this.musicClips[t].useFadeCurve) {
                    this.musicClips[t].currentCurveTime += Time.deltaTime * (1 / this.musicClips[t].volumeFadeInDuration);
                    var e = this.musicClips[t].fadeCurve.Evaluate(this.musicClips[t].currentCurveTime);
                    this.musicClips[t].volumeLevel = 1 == e ? 69 : e
                } else this.musicClips[t].volumeLevel += Time.deltaTime * (1 / this.musicClips[t].volumeFadeInDuration);
            this.musicClips[t].volumeLevel >= 1 && (this.musicClips[t].volumeLevel = 1, this.musicClips[t].volumeState = MusicVolumeState.idle, this.musicClips[t].currentCurveTime = 1)
        } else if (this.musicClips[t].volumeState == MusicVolumeState.fadingOut) {
            if (this.musicClips[t].volumeLevel > 0)
                if (this.musicClips[t].useFadeCurve) {
                    this.musicClips[t].currentCurveTime -= Time.deltaTime * (1 / this.musicClips[t].volumeFadeOutDuration);
                    e = this.musicClips[t].fadeCurve.Evaluate(this.musicClips[t].currentCurveTime);
                    this.musicClips[t].volumeLevel = 0 == e ? -69 : e
                } else this.musicClips[t].volumeLevel -= Time.deltaTime * (1 / this.musicClips[t].volumeFadeOutDuration);
            this.musicClips[t].volumeLevel <= 0 && (this.musicClips[t].volumeLevel = 0, this.musicClips[t].volumeState = MusicVolumeState.idle, this.musicClips[t].currentCurveTime = 0, this.musicClips[t].isPlaying || this.StopMusicClip(this.musicClips[t], !1))
        }
        for (var i = 0; i < this.musicClips[t].duckingSteps.length; i++) this.musicClips[t].duckingSteps[i].autoUnduck && (this.musicClips[t].duckingSteps[i].autoUnduckTimer > 0 ? this.musicClips[t].duckingSteps[i].autoUnduckTimer -= Time.deltaTime : (this.musicClips[t].duckingSteps[i].autoUnduck = !1, this.UnduckMusicClip(this.musicClips[t], i, this.musicClips[t].duckingSteps[i].autoUnduckShouldFade)));
        this.musicClips[t].duckingState == MusicVolumeState.fadingIn ? this.musicClips[t].duckingVolume < this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume ? (this.musicClips[t].duckingVolume += Time.deltaTime * (1 / this.musicClips[t].duckingFadeOutDuration), this.musicClips[t].duckingVolume >= this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume && (this.musicClips[t].duckingVolume = this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume, this.musicClips[t].duckingState = MusicVolumeState.idle)) : this.musicClips[t].duckingVolume > this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume && (this.musicClips[t].duckingVolume -= Time.deltaTime * (1 / this.musicClips[t].duckingFadeInDuration), this.musicClips[t].duckingVolume <= this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume && (this.musicClips[t].duckingVolume = this.musicClips[t].duckingSteps[this.musicClips[t].priorityDuckingStepIndex].targetVolume, this.musicClips[t].duckingState = MusicVolumeState.idle)) : this.musicClips[t].duckingState == MusicVolumeState.fadingOut && (this.musicClips[t].duckingVolume < 1 && (this.musicClips[t].duckingVolume += Time.deltaTime * (1 / this.musicClips[t].duckingFadeOutDuration)), this.musicClips[t].duckingVolume >= 1 && (this.musicClips[t].duckingVolume = 1, this.musicClips[t].duckingState = MusicVolumeState.idle))
    }
}, SoundManager.prototype.ComputeLoopingClipsVolume = function () {
    for (var t = 0; t < this.loopingClips.length; t++) {
        this.loopingClips[t].volumeState == MusicVolumeState.fadingIn ? (this.loopingClips[t].volumeLevel < 1 && (this.loopingClips[t].volumeLevel += Time.deltaTime * (1 / this.loopingClips[t].volumeFadeInDuration)), this.loopingClips[t].volumeLevel >= 1 && (this.loopingClips[t].volumeLevel = 1, this.loopingClips[t].volumeState = MusicVolumeState.idle)) : this.loopingClips[t].volumeState == MusicVolumeState.fadingOut && (this.loopingClips[t].volumeLevel > 0 && (this.loopingClips[t].volumeLevel -= Time.deltaTime * (1 / this.loopingClips[t].volumeFadeOutDuration)), this.loopingClips[t].volumeLevel <= 0 && (this.loopingClips[t].volumeLevel = 0, this.loopingClips[t].volumeState = MusicVolumeState.idle, this.loopingClips[t].isPlaying || this.StopLoopingClip(this.loopingClips[t], !1)));
        for (var e = 0; e < this.loopingClips[t].duckingSteps.length; e++) this.loopingClips[t].duckingSteps[e].autoUnduck && (this.loopingClips[t].duckingSteps[e].autoUnduckTimer > 0 ? this.loopingClips[t].duckingSteps[e].autoUnduckTimer -= Time.deltaTime : (this.loopingClips[t].duckingSteps[e].autoUnduck = !1, this.UnduckLoopingClip(this.loopingClips[t], e, this.loopingClips[t].duckingSteps[e].autoUnduckShouldFade)));
        this.loopingClips[t].duckingState == MusicVolumeState.fadingIn ? this.loopingClips[t].duckingVolume < this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume ? (this.loopingClips[t].duckingVolume += Time.deltaTime * (1 / this.loopingClips[t].duckingFadeOutDuration), this.loopingClips[t].duckingVolume >= this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume && (this.loopingClips[t].duckingVolume = this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume, this.loopingClips[t].duckingState = MusicVolumeState.idle)) : this.loopingClips[t].duckingVolume > this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume && (this.loopingClips[t].duckingVolume -= Time.deltaTime * (1 / this.loopingClips[t].duckingFadeInDuration), this.loopingClips[t].duckingVolume <= this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume && (this.loopingClips[t].duckingVolume = this.loopingClips[t].duckingSteps[this.loopingClips[t].priorityDuckingStepIndex].targetVolume, this.loopingClips[t].duckingState = MusicVolumeState.idle)) : this.loopingClips[t].duckingState == MusicVolumeState.fadingOut && (this.loopingClips[t].duckingVolume < 1 && (this.loopingClips[t].duckingVolume += Time.deltaTime * (1 / this.loopingClips[t].duckingFadeOutDuration)), this.loopingClips[t].duckingVolume >= 1 && (this.loopingClips[t].duckingVolume = 1, this.loopingClips[t].duckingState = MusicVolumeState.idle))
    }
};
var BT_SoundTimerOn = 0,
    BT_SoundTimerOff = 0;
SoundManager.prototype.Update = function () {
    (this.ComputeMusicClipsVolume(), this.ComputeLoopingClipsVolume(), this.UpdateMusicVolume(), this.UpdateLoopingClipsVolume(), SoundLoader.soundsAreLoaded) && (XT.GetObject(Vars.SoundState).gameSoundIsOn ? BT_SoundTimerOn += Time.deltaTime : BT_SoundTimerOff += Time.deltaTime, BT_SoundTimerOn + BT_SoundTimerOff > 60 && (globalTracking.SendEvent("uht_behaviour", "SoundEnabled", BT_SoundTimerOn / (BT_SoundTimerOn + BT_SoundTimerOff), "BehaviourTracker"), BT_SoundTimerOn = 0, BT_SoundTimerOff = 0))
}, goog.provide("UHT.SoundLoader"), goog.require("UHT.AudioClip"), goog.require("UHT.SoundManager");
var SoundHelper = {
    AudioFormat: {
        none: "none",
        mp3: "mp3",
        ogg: "ogg"
    }
};
SoundHelper.audioFormat = SoundHelper.AudioFormat.none, SoundHelper.ParsePath = function (t) {
    return {
        name: t,
        src: t,
        extension: SoundHelper.audioFormat
    }
}, SoundHelper.wasTouchMove = !1, SoundHelper.OnTouchStart = function () {
    SoundHelper.wasTouchMove = !1
}, SoundHelper.OnTouchMove = function () {
    SoundHelper.wasTouchMove = !0
}, SoundHelper.OnIOSTouchEnd = function () {
    if (!SoundHelper.wasTouchMove) {
        var t = createjs.Sound.activePlugin.context;
        "interrupted" != t.state && "suspended" != t.state || t.resume().then((function () {
            XT.GetObject(Vars.SoundManagerObject).RestartMusic()
        }))
    }
};
var SoundLoader = {
    AudioProcessor: function (t) {
        this.id = t.id, this.url = t.url, this.base64 = t.base64, this.context = t.context, this.handler = t.handler, this.audioSource = null, this.state = SoundLoader.AudioState.none, this.nextToDecode = null
    }
};
SoundLoader.AudioProcessor.prototype.ProcessWebAudio = function () {
    for (var t = this, e = window.atob(this.base64), i = new ArrayBuffer(e.length), n = new Uint8Array(i), o = 0; o < i.byteLength; o++) n[o] = 255 & e.charCodeAt(o);
    this.context.decodeAudioData(i, (function (e) {
        t.audioSource = e, t.state = SoundLoader.AudioState.success, t.handler.call(t)
    }), (function () {
        t.state = SoundLoader.AudioState.error, t.handler.call(t)
    }))
};
var alreadyLoadedBySize = {};
SoundLoader.AudioProcessor.prototype.ProcessHtmlAudio = function () {
    var t = "";
    SoundHelper.audioFormat == SoundHelper.AudioFormat.mp3 && (null != alreadyLoadedBySize[this.base64.length] && (t = alreadyLoadedBySize[this.base64.length] + "===="), alreadyLoadedBySize[this.base64.length] = t), this.url = "data:audio/" + SoundHelper.audioFormat + ";base64," + this.base64 + t;
    var e = {};
    e[SoundHelper.audioFormat] = this.url, createjs.Sound.registerSound(e, this.id, void 0, "")
}, SoundLoader.AudioType = {
    none: "none",
    web: "web",
    html: "html"
}, SoundLoader.AudioState = {
    none: 0,
    success: 1,
    error: 2
}, SoundLoader.audioType = SoundLoader.AudioType.none, SoundLoader.clips = [], SoundLoader.processors = {}, SoundLoader.touchStartHandler = null, SoundLoader.touchMoveHandler = null, SoundLoader.touchEndHandler = null, SoundLoader.initialized = !1, SoundLoader.numSounds = 0, SoundLoader.numClips = 0, SoundLoader.soundsAreBeingLoaded = !1, SoundLoader.soundsAreLoaded = !1, SoundLoader.checkLoadCompleteTimeout = null, SoundLoader.numProcessingThreads = 4, SoundLoader.packageList = [], SoundLoader.packagesDownloaded = 0, SoundLoader.sounds = [], SoundLoader.retries = 0, SoundLoader.DelayCheckLoadComplete = function () {
    null != SoundLoader.checkLoadCompleteTimeout && clearTimeout(SoundLoader.checkLoadCompleteTimeout), SoundLoader.checkLoadCompleteTimeout = setTimeout(SoundLoader.CheckLoadComplete, 200)
}, SoundLoader.LoadSound = function (t) {
    SoundLoader.clips.push(t), SoundLoader.numClips++
}, SoundLoader.OnSoundDecoded = function (t) {
    null != t.nextToDecode && t.nextToDecode.ProcessWebAudio(), t.state == SoundLoader.AudioState.success && (createjs.Sound._idHash[t.id] = {
        src: t.url
    }, createjs.Sound.activePlugin._soundInstances[t.url] = [], createjs.Sound.activePlugin._audioSources[t.url] = t.audioSource)
};
var GA_SND_MOBILE_SENT = !1;

function RawComponentData() {
    this.fileID = 0, this.componentType = "", this.enabled = !1, this.serializableData = null
}

function Importer() {
    this.mapInstanceIdToInstanceScene = {}, this.mapGuidToResource = {}, this.serializableFields = {}, this.componentToRawDataMap = [], this.componentToRawDataMapSection = [], this.allObjects = [], this.rootObjects = [], this.mapIdToInstance = {}, this.state = Importer.State.Idle, this.timeQuota = 0, this.isSync = !1, this.resourceStartIndex = -1, this.jsonStartIndex = -1, this.gameObjectStartIndex = -1, this.deserializeIndex = -1, this.importSteps = 0
}
SoundLoader.LoadSounds = function () {
    if (0 == UHT_DEVICE_TYPE.DESKTOP && !GA_SND_MOBILE_SENT) {
        var t = globalTracking.GetTimerValue("uht_behaviour", "Session_timer", "BehaviourTracker");
        globalTracking.SendEvent("uht_behaviour", "SND_MOBILE_download_started", t, "BehaviourTracker"), GA_SND_MOBILE_SENT = !0
    }
    if (SoundHelper.audioFormat != SoundHelper.AudioFormat.none)
        if (SoundLoader.soundsAreBeingLoaded = !0, null != UHT_PACKAGES_INFO_OBJ && null != globalGamePath) {
            var e = UHT_PACKAGES_INFO_OBJ.languages || [],
                i = UHT_GAME_CONFIG.LANGUAGE,
                n = "sounds";
            if (LoaderProgress.Sound_Download_Total = -1, "en" != i) {
                for (var o = !1, s = 0; s < e.length; ++s)
                    if (e[s].language == i) {
                        1 == e[s].sound && (n += i, o = !0);
                        break
                    } if (!o) n += UHT_PACKAGES_INFO_OBJ.default_sound_suffix || ""
            }
            if (n += "." + SoundHelper.audioFormat, SoundLoader.packageList = [n, "GUI_sounds." + SoundHelper.audioFormat], -1 == LoaderProgress.Sound_Download_Total) {
                var a = {},
                    r = String(UHT_SOUNDS_SIZES).split(",");
                for (s = 0; s < r.length; ++s) {
                    (u = r[s].split(":")).length > 1 && (a[u[0].split("?")[0]] = u[1]);
                    for (var l = 0; l < SoundLoader.packageList.length; l++) 0 == u[0].indexOf(SoundLoader.packageList[l]) && (SoundLoader.packageList[l] = u[0])
                }
                Modules.LoadSounds(a);
                for (s = 0; s < r.length; ++s) {
                    var u = r[s].split(":");
                    for (l = 0; l < SoundLoader.packageList.length; l++) 0 == u[0].indexOf(SoundLoader.packageList[l]) && (SoundLoader.packageList[l] = u[0])
                }
                LoaderProgress.Sound_Download_Total = Number(a[n])
            }
            for (s = 0; s < SoundLoader.packageList.length; s++) new ResourceRequest({
                url: (globalGamePath || "") + SoundLoader.packageList[s].replace("?key=", ".json?key="),
                complete: new EventHandler(SoundLoader, SoundLoader.OnSoundsLoaded),
                onprogress: new EventHandler(SoundLoader, SoundLoader.OnSoundsProgress)
            })
        } else setTimeout(SoundLoader.LoadSounds, 100)
}, SoundLoader.OnSoundsProgress = function (t) {
    LoaderProgress.Sound_Download_Current = t.loaded
}, SoundLoader.OnSoundsLoaded = function (t) {
    if (!_string.IsNullOrEmpty(t.error)) return SoundLoader.retries++, void(SoundLoader.retries < 5 && setTimeout(SoundLoader.LoadSounds, 500));
    if (SoundLoader.initialized) {
        LoaderProgress.Sound_Download_Current = LoaderProgress.Sound_Download_Total;
        var e = JSON.parse(t.Data);
        if (SoundLoader.sounds = SoundLoader.sounds.concat(e.sounds), SoundLoader.packagesDownloaded++, SoundLoader.packagesDownloaded == SoundLoader.packageList.length) {
            SoundLoader.numSounds += SoundLoader.sounds.length;
            var i = "ProcessWebAudio";
            SoundLoader.audioType == SoundLoader.AudioType.html && (i = "ProcessHtmlAudio", createjs.Sound.addEventListener("fileload", (function (t) {
                var e = SoundLoader.processors[t.id];
                e && (e.state = SoundLoader.AudioState.success, e.nextToDecode && e.nextToDecode.ProcessHtmlAudio())
            }), !1), createjs.Sound.addEventListener("fileerror", (function (t) {
                var e = SoundLoader.processors[t.id];
                e && (e.state = SoundLoader.AudioState.error, e.nextToDecode && e.nextToDecode.ProcessHtmlAudio())
            }), !1));
            for (var n = [], o = [], s = 0; s < SoundLoader.sounds.length; ++s) {
                var a = "s" + SoundLoader.sounds[s].id,
                    r = new SoundLoader.AudioProcessor({
                        id: a,
                        url: a + "." + SoundHelper.audioFormat,
                        base64: SoundLoader.sounds[s].data,
                        handler: new EventHandler(SoundLoader, SoundLoader.OnSoundDecoded),
                        context: createjs.Sound.activePlugin.context
                    }),
                    l = s % SoundLoader.numProcessingThreads;
                s <= SoundLoader.numProcessingThreads - 1 ? o[l] = r : n[l].nextToDecode = r, SoundLoader.processors[r.id] = r, n[l] = r
            }
            for (s = 0; s < o.length; s++) null != o[s] && o[s][i]();
            SoundLoader.DelayCheckLoadComplete()
        }
    } else setTimeout((function () {
        SoundLoader.OnSoundsLoaded(t)
    }), 200)
}, SoundLoader.InitSounds = function () {
    (new UAParser2).getBrowser();
    if (IS_UCBROWSER && createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]), createjs.Sound.initializeDefaultPlugins()) {
        var t = createjs.Sound.getCapabilities();
        SoundHelper.audioFormat = t.ogg ? SoundHelper.AudioFormat.ogg : SoundHelper.AudioFormat.mp3, "Edge" == UHT_UA_INFO.browser.name && (SoundHelper.audioFormat = SoundHelper.AudioFormat.mp3), createjs.Sound.activePlugin instanceof createjs.WebAudioPlugin ? SoundLoader.audioType = SoundLoader.AudioType.web : createjs.Sound.activePlugin instanceof createjs.HTMLAudioPlugin && (createjs.Sound._parsePath = SoundHelper.ParsePath, SoundLoader.audioType = SoundLoader.AudioType.html), SoundLoader.initialized = !0
    }
}, SoundLoader.CheckLoadComplete = function () {
    if (SoundLoader.IsLoadComplete()) {
        for (var t = 0; t < SoundLoader.clips.length; t++) {
            var e = SoundLoader.clips[t],
                i = SoundLoader.processors[SoundLoader.clips[t].name];
            null != i && i.state == SoundLoader.AudioState.success && (createjs.Sound.setDefaultPlayProps(e.name, {
                pan: 1e-4
            }), e.soundjsObject = createjs.Sound.createInstance(e.name))
        }
        SoundLoader.soundsAreLoaded = !0, SoundLoader.processors = null, SoundLoader.checkLoadCompleteTimeout = null, UHT_SOUNDS_SIZES = null, Globals.isMobile || createjs.Sound.setVolume(XT.GetFloat(Vars.SoundVolume))
    } else SoundLoader.DelayCheckLoadComplete()
}, SoundLoader.IsLoadComplete = function () {
    if (SoundLoader.numSounds != SoundLoader.numClips) return !1;
    for (var t in SoundLoader.processors)
        if (SoundLoader.processors[t].state == SoundLoader.AudioState.none) return !1;
    return !0
}, SoundLoader.OnTouchEnd = function () {
    LoaderProgress.Download_Current == LoaderProgress.Download_Total && LoaderProgress.Import_Current == LoaderProgress.Import_Total && !SoundHelper.wasTouchMove && (createjs.BrowserDetect.isIOS && globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp, new EventHandler(SoundHelper, SoundHelper.OnIOSTouchEnd)), globalColliderInputManager.removeEventHandler(ColliderEvent.ButtonUp, SoundLoader.touchEndHandler), window.removeEventListener("keydown", SoundLoader.OnTouchEnd, !1), SoundLoader.InitSounds())
}, SoundLoader.OnLoad = function () {
    if (null != window.UHT_ForceClickForSounds || createjs.BrowserDetect.isIOS || createjs.BrowserDetect.isAndroid || createjs.BrowserDetect.isBlackberry || createjs.BrowserDetect.isWindowPhone) {
        if (null == globalColliderInputManager) return void setTimeout(SoundLoader.OnLoad, 200);
        createjs.BrowserDetect.isIOS && (SoundLoader.touchStartHandler = new EventHandler(SoundHelper, SoundHelper.OnTouchStart), SoundLoader.touchMoveHandler = new EventHandler(SoundHelper, SoundHelper.OnTouchMove), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonDown, SoundLoader.touchStartHandler), globalColliderInputManager.addEventHandler(ColliderEvent.MouseMove, SoundLoader.touchMoveHandler)), SoundLoader.touchEndHandler = new EventHandler(SoundLoader, SoundLoader.OnTouchEnd), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp, SoundLoader.touchEndHandler), window.addEventListener("keydown", SoundLoader.OnTouchEnd, !1)
    } else SoundLoader.InitSounds(), SoundLoader.LoadSounds()
}, SoundLoader.OnLoad(), goog.provide("UHT.Importer"), goog.require("UHT.SoundLoader"), goog.require("UHT.FontLoader"), goog.require("UHT.TextAsset"), goog.require("UHT.AudioClip"), Importer.State = {
    Idle: 0,
    Inited: 1,
    Instantiating: 2,
    Deserializing: 3,
    Finishing: 4
}, Importer.ImportRetData = function () {
    this.isDone = !1, this.objects = null
}, Importer.prototype.StartImport = function (t, e) {
    DeserializeCTRDataMapLimit = [], this.state = Importer.State.Inited, this.timeQuota = t, this.isSync = !(t > 0), this.resourceStartIndex = 0, this.jsonStartIndex = 0, this.gameObjectStartIndex = 0, this.deserializeIndex = 0, this.componentToRawDataMap = [], this.componentToRawDataMapSection = [], this.allObjects = [], this.rootObjects = [], this.importSteps = 0, this.currentProgress = 0, this.totalNumberOfSteps = 1, LoaderProgress.Import_Textures_Total = 0, this.isSync && this.AddCount(e), this.isSync || globalTracking.StartTimer("uht_loading", "_X_import_instantiate_duration", "LoadingTracker")
}, Importer.prototype.AddCount = function (t) {
    for (var e = 0; e < t.length; e++)
        for (var i = t[e], n = 0; n < i.resources.length; n++) {
            var o = i.resources[n];
            if (this.totalNumberOfSteps++, "GameObject" == o.type)
                for (var s = 0; s < o.data.root.length; s++) {
                    var a = o.data.root[s].components;
                    this.totalNumberOfSteps += a.length + 1;
                    for (var r = 0; r < a.length; r++)
                        if ("UIAtlas" == a[r].componentType) {
                            var l = a[r].serializableData,
                                u = UHT_LOW_END_DEVICE && l.hasLowEndResource;
                            l.resourcePriority > 0 && !u || LoaderProgress.Import_Textures_Total++
                        }
                }
        }
}, Importer.prototype.Advance = function (t, e) {
    var i = new Importer.ImportRetData,
        n = (new Date).getTime();
    if (this.importSteps++, this.state == Importer.State.Inited && (this.state = Importer.State.Instantiating), this.state == Importer.State.Instantiating) {
        for (var o = this.jsonStartIndex; o < t.length; o++) {
            for (var s = t[o], a = this.resourceStartIndex; a < s.resources.length; a++) {
                var r = s.resources[a];
                switch (r.type) {
                    case "Texture":
                        var l = null;
                        l = r.isInline ? r.data : e + r.data, this.mapGuidToResource["g" + r.id] = {
                            type: r.type,
                            data: l
                        };
                        break;
                    case "Font":
                        var u = r.data.fontName;
                        this.mapGuidToResource["g" + r.id] = {
                            type: r.type,
                            data: u
                        }, FontLoader.LoadFont(u, r.data.path);
                        break;
                    case "GameObject":
                        0 == this.gameObjectStartIndex && (this.mapIdToInstance = {});
                        for (var h = this.gameObjectStartIndex; h < r.data.root.length; h++)
                            if (this.allObjects[this.allObjects.length] = this.createGameObject(r.data.root[h], this.mapIdToInstance, this.componentToRawDataMapSection), 0 == a && 0 == h && this.rootObjects.push(this.allObjects[this.allObjects.length - 1]), this.gameObjectStartIndex++, this.currentProgress++, !(h % 25) && this.IsQuantaFinished(n)) return i;
                        var c = {};
                        for (var p in null != this.mapGuidToResource["g" + r.id] && (c = this.mapGuidToResource["g" + r.id].data), this.mapGuidToResource["g" + r.id] = {
                                type: r.type,
                                data: this.mapIdToInstance
                            }, c) this.mapGuidToResource["g" + r.id].data[p] = c[p];
                        this.gameObjectStartIndex = 0;
                        break;
                    case "TextAsset":
                        var d = new TextAsset(r.data.text);
                        this.mapGuidToResource["g" + r.id] = {
                            type: r.type,
                            data: d
                        };
                        break;
                    case "AudioClip":
                        var m = new AudioClip("s" + r.id, e + r.data.path);
                        SoundLoader.LoadSound(m), this.mapGuidToResource["g" + r.id] = {
                            type: r.type,
                            data: m
                        };
                        break;
                    case "AnimationClip":
                        var S = new AnimationClip;
                        deserializeComponentRec(r.data, S, this, "resolveReference"), S.wrapMode, WrapMode.PingPong, this.mapGuidToResource["g" + r.id] = {
                            type: r.type,
                            data: S
                        };
                        break;
                    case "UHTSpine":
                        var g = new UHTSpine;
                        deserializeComponentRec(r.data, g, this, "resolveReference"), this.mapGuidToResource["g" + r.id] = {
                            type: r.type,
                            data: g
                        };
                        break;
                    default:
                        break
                }
                if (this.resourceStartIndex++, this.currentProgress++, !(a % 5) && this.IsQuantaFinished(n)) return i
            }
            this.componentToRawDataMap = this.componentToRawDataMap.concat(this.componentToRawDataMapSection), this.componentToRawDataMapSection = [], DeserializeCTRDataMapLimit.push(this.componentToRawDataMap.length), this.jsonStartIndex++, this.resourceStartIndex = 0
        }
        this.isSync || (globalTracking.StopTimerAndSend("uht_loading", "_X_import_instantiate_duration", "LoadingTracker"), globalTracking.StartTimer("uht_loading", "_X_import_deserialize_duration", "LoadingTracker")), this.state = Importer.State.Deserializing
    }
    if (this.state == Importer.State.Deserializing) {
        for (var y = -1, f = 0; f < DeserializeAllowed.length; f++) DeserializeAllowed[f] && (y = f);
        if (!this.isSync && y < 0) return i;
        this.isSync && (y = o - 1);
        for (var b = this.deserializeIndex; b < DeserializeCTRDataMapLimit[y]; b++)
            if (this.componentToRawDataMap[b].comp.deserialize(this.componentToRawDataMap[b].rawData.serializableData, this, "resolveReference"), this.deserializeIndex++, this.currentProgress++, !(b % 50) && this.IsQuantaFinished(n)) return i;
        this.isSync || allGameJSONSadded ? this.state = Importer.State.Finishing : this.state = Importer.State.Idle
    }
    if (this.state == Importer.State.Finishing) {
        this.currentProgress++, i.isDone = !0, i.objects = [];
        for (var T = 0; T < this.allObjects.length; T++)
            for (var C = 0; C < this.allObjects[T].components.length; C++) null != this.allObjects[T].components[C].AfterDeserialize && this.allObjects[T].components[C].AfterDeserialize();
        return i.objects = this.rootObjects, this.state = Importer.State.Idle, this.isSync || globalTracking.StopTimerAndSend("uht_loading", "_X_import_deserialize_duration", "LoadingTracker"), i
    }
    return i
}, Importer.prototype.IsQuantaFinished = function (t) {
    return !this.isSync && (new Date).getTime() - t > this.timeQuota
}, Importer.prototype.clear = function () {
    this.mapInstanceIdToInstanceScene = {}, this.mapGuidToResource = {}, this.mapIdToInstance = {}, this.componentToRawDataMap = []
}, Importer.prototype.createGameObject = function (t, e, i) {
    var n = new GameObject;
    n.internalCopyFromOther(t), e["m" + t.fileID] = n;
    for (var o = 0; o < t.components.length; o++) {
        var s = t.components[o];
        this.registerSerializedFields(s.componentType, s.serializableData);
        var a = createComponent(s.componentType, s.enabled);
        null != a && (e["m" + s.fileID] = a, i.push({
            comp: a,
            rawData: s
        }), a.gameObject = n, n.components.push(a), n.internalCacheComponent(a))
    }
    for (var r = 0; r < n.components.length; r++) n.components[r].transform = n.transform;
    return n
}, Importer.prototype.resolveReference = function (t) {
    if (null == t) return null;
    if (Array.isArray(t)) {
        for (var e = new Array(t.length), i = 0; i < t.length; i++) e[i] = this.resolveReference(t[i]);
        return e
    }
    if (t.hasOwnProperty("fileID")) {
        var n = t.fileID,
            o = t.hasOwnProperty("guid");
        if (o || (o = !0, t.guid = n >= 69e4 ? "GUI" : "GAME"), o) {
            var s = "g" + t.guid;
            if (this.mapGuidToResource.hasOwnProperty(s)) {
                var a = this.mapGuidToResource[s];
                switch (a.type) {
                    case "Texture":
                        return a.data;
                        break;
                    case "Font":
                        return a.data;
                        break;
                    case "GameObject":
                        var r = a.data;
                        if (0 == n) return null;
                        l = "m" + n;
                        if (r.hasOwnProperty(l)) return r[l];
                        break;
                    case "TextAsset":
                        return a.data;
                        break;
                    case "AudioClip":
                        return a.data;
                        break;
                    case "AnimationClip":
                        return a.data;
                        break;
                    case "UHTSpine":
                        return a.data;
                        break;
                    default:
                        break
                }
            }
        } else {
            if (0 == n) return null;
            var l = "m" + n;
            if (this.mapInstanceIdToInstanceScene.hasOwnProperty(l)) return this.mapInstanceIdToInstanceScene[l]
        }
    }
    return null
}, Importer.prototype.registerSerializedFields = function (t, e) {
    0 == this.serializableFields.hasOwnProperty(t) && (this.serializableFields[t] = e)
}, Importer.prototype.getSerializedFields = function (t) {
    return this.serializableFields.hasOwnProperty(t) ? this.serializableFields[t] : null
}, goog.require("UHT.Runtime"), goog.require("UHT.Renderer"), goog.require("UHT.Importer"), goog.require("UHT.ColliderInputManager"), goog.require("UHT.KeyboardManager");
var thisFrameDate, globalRuntime = new Runtime,
    globalRenderer = new Renderer,
    globalImporter = new Importer,
    globalColliderInputManager = new ColliderInputManager,
    globalClientPath = UHT_CONFIG.GAME_URL + "client/",
    globalGamePath = UHT_CONFIG.GAME_URL + "game/",
    globalResourcesNeededList = [],
    globalResourcesNeededInfo = [],
    globalPauseForResources = !1,
    currentDownloadingAtlas = null,
    globalListOfDeferredLoadingAtlases = [],
    filterStrength = 20,
    frameTimeForFPSCounter = 0,
    prevFrameDate = new Date,
    modulesJsonData = [],
    mainGameJsonData = null,
    GUIJsonData = null,
    mainResources = null,
    otherResources = null,
    GUIResources = null,
    resourcesLeft = -1,
    PageVisible = !0,
    IS_UCBROWSER = navigator.userAgent.indexOf("UCBrowser") > -1;

function main() {
    UHTInterfaceBOSS.PostMessage("gameLoadingStarted"), globalTracking._internalUseStartTime("uht_loading", "_1_loader_downloaded_and_shown", GA_timer_load_start, "LoadingTracker"), globalTracking._internalUseStartTime("uht_loading", "_4_loading_total_time", GA_timer_load_start, "LoadingTracker"), LoadingStep = 1, globalTracking.StartTimer("uht_loading", "_CLOSED_at_" + LoadingStep, "LoadingTracker"), loadJsonWithCallback(globalClientPath + UHT_CLIENT_FILES[1], onClientResourcesLoaded, onClientProgress), setInterval((function () {
        globalRenderer.setFPSCount(1 / frameTimeForFPSCounter)
    }), 1e3), document.addEventListener("visibilitychange", (function () {
        (PageVisible = "visible" == document.visibilityState) && null != XT.GetObject(Vars.SoundManagerObject) && XT.GetObject(Vars.SoundManagerObject).RestartMusic();
        var t = Globals.isMobile ? 1 : XT.GetFloat(Vars.SoundVolume);
        t = isFinite(t) && !isNaN(t) ? t : 1, Globals.WatchingReplay || createjs.Sound.setVolume(PageVisible ? t : 1e-5), PageVisible ? globalTracking.ResumeTimers() : globalTracking.PauseTimers()
    }))
}
var SENT_GA_EVENT_ALTERNATIVE_DATA_PATH = !1;

function loadJsonWithCallback(t, e, i) {
    var n = new XMLHttpRequest;
    n.onreadystatechange = function () {
        4 == n.readyState && (200 == n.status ? e(n.responseText) : (null != i && i(), window.currentDatapathRetries >= window.retriesBeforeAlternativeDatapath ? (t = t.replace(UHT_CONFIG.GAME_URL, UHT_CONFIG.GAME_URL_ALTERNATIVE), SENT_GA_EVENT_ALTERNATIVE_DATA_PATH || (SENT_GA_EVENT_ALTERNATIVE_DATA_PATH = !0, globalTracking.SendEvent("uht_loading", "_USED_ALTERNATIVE_DATA_PATH", 1, "LoadingTracker"))) : window.currentDatapathRetries++, setTimeout((function () {
            loadJsonWithCallback(t, e, i)
        }), 250)))
    }, n.onprogress = function (t) {
        null != i && i(t)
    }, n.open("GET", t, !0), n.send()
}

function onClientResourcesLoaded(t) {
    window.UHT_CLIENT_DOWNLOADED += UHT_CLIENT_SIZES[1], clientResourceData = JSON.parse(t), loadJsonWithCallback(globalClientPath + UHT_CLIENT_FILES[0], onClientLoaded, onClientProgress)
}

function onClientProgress(t) {
    window.UHT_CUSTOM_LOADER || (document.getElementById("loadingBar").style.width = (window.UHT_CLIENT_DOWNLOADED + t.loaded) / UHT_GAME_SIZE * 100 * LoaderProgress.Download_Weight + 1 + "%")
}

function onClientLoaded(t) {
    window.UHT_CLIENT_DOWNLOADED += UHT_CLIENT_SIZES[0], window.UHTLogotype.GameLoadingStarted(), LoaderProgress.Download_Current = window.UHT_CLIENT_DOWNLOADED, LoaderProgress.Download_Total = UHT_GAME_SIZE, globalTracking.StopTimerAndSend("uht_loading", "_1_loader_downloaded_and_shown", "LoadingTracker");
    var e = globalTracking.GetTimerValue("uht_loading", "_1_loader_downloaded_and_shown", "LoadingTracker");
    globalTracking.SendEvent("uht_loading", "_1_loader_downloaded_and_shown", e, "LoadingTracker"), LoadingStep = 2, globalTracking.StartTimer("uht_loading", "_CLOSED_at_" + LoadingStep, "LoadingTracker"), globalTracking.StartTimer("uht_loading", "_2_game_downloading", "LoadingTracker"), globalRenderer.init();
    var i = [JSON.parse(t)];
    i[0].resources = i[0].resources.concat(clientResourceData.resources), clientResourceData = null, globalImporter.StartImport(0, i);
    var n = globalImporter.Advance(i, globalClientPath);
    globalImporter.clear(), KeyboardManager.Init(), globalColliderInputManager.initInput(), globalRuntime.addNewSceneRoot(n.objects[0]), globalDoFrame(0)
}
var UpdateStep = !0;

function CheckAndSetPauseForResources() {
    for (var t = !1, e = 0; e < globalResourcesNeededList.length; e++) globalResourcesNeededList[e].isLoaded() ? (globalResourcesNeededList.splice(e, 1), e--) : t = !0;
    if (globalPauseForResources) {
        var i = globalRuntime.onWillRenderList.components;
        for (e = 0; e < i.length; e++) {
            var n = i[e];
            null != n && (n instanceof UIPanel && (n.container.children = []))
        }
    }
    if (t != globalPauseForResources) {
        var o = (globalPauseForResources = t) && !loaderIsVisible;
        t || (globalResourcesNeededInfo = [], document.getElementById("progressbar").style.display = "none");
        var s = o ? "block" : "none";
        document.getElementById("PauseRoot").style.display = s, document.getElementById("pauseindicator").style.display = s;
        var a = document.getElementsByTagName("canvas")[0].classList;
        o ? a.add("paused") : a.remove("paused")
    }
    if (!loaderIsVisible) {
        if (t) {
            for (var r = 0, l = 0; l < globalResourcesNeededInfo.length; l++) {
                var u = globalResourcesNeededInfo[l].baseTexture.source.downloadSizeLoaded,
                    h = globalResourcesNeededInfo[l].baseTexture.source.downloadSizeTotal;
                h > 0 ? r += u / h / globalResourcesNeededInfo.length : globalResourcesNeededInfo[l].valid && (r += 1 / globalResourcesNeededInfo.length)
            }
            document.getElementById("progressbar").style.display = "block", document.getElementById("progressvalue").style.width = Number(100 * r).toFixed(2) + "%"
        }
        UHTEngine.SoundsAreLoaded() || UHTEngine.SoundsAreLoading() || UHTEngine.StartLoadingSounds()
    }
}
var useBackgroundTimer, deserializedAtlases = [],
    hasSomethingToDraw = !1,
    batterySaverIsOff = !0,
    backgroundUpdateTimer = null;

function globalDoFrame(t) {
    if (null == useBackgroundTimer && (useBackgroundTimer = checkIsRequired("RUN_BKG")), null != backgroundUpdateTimer && (clearTimeout(backgroundUpdateTimer), backgroundUpdateTimer = null), globalPauseForResources && !loaderIsVisible || UpdateStep && !batterySaverIsOff || !hasSomethingToDraw || (globalRenderer.doFrame(), loaderIsVisible || Time.frameCount++), globalPauseForResources) return CheckAndSetPauseForResources(), prevFrameDate = Date.now(), void requestAnimationFrame(globalDoFrame);
    if (!loaderIsVisible) {
        for (var e = 0; e < deserializedAtlases.length; e++) deserializedAtlases[e].initAtlas();
        deserializedAtlases = []
    }
    if (timerToStartPrefetching > 0 && timerToStartPrefetching--, 0 == timerToStartPrefetching && internalContinuePrefetchingTextures(), UpdateStep || batterySaverIsOff) {
        globalRenderer.checkWindowSize(), canvasSizeDirty && (globalRenderer.resizeUHTScreen(), EventManager.Trigger("EVT_UHT_RESIZE", null)), internalContinueImporting();
        var i = ((thisFrameDate = Date.now()) - prevFrameDate) / 1e3;
        i < 0 && (i = 0), prevFrameDate = thisFrameDate, frameTimeForFPSCounter += (i - frameTimeForFPSCounter) / filterStrength, Time.deltaTime = i > .1 ? .1 : i, Time.time += Time.deltaTime, Time.deltaTimeInRealTime = i, KeyboardManager.Update(), globalColliderInputManager.updateInput(), EventManager.Trigger("EVT_UHT_BEFOREUPDATE", null), globalRuntime.doFrame(), EventManager.Trigger("EVT_UHT_UPDATE", null), hasSomethingToDraw = !0, CheckAndSetPauseForResources()
    }
    UpdateStep = !UpdateStep, loaderIsVisible ? setTimeout(globalDoFrame, 0) : ("BACKGROUND_UPDATE" != t && requestAnimationFrame(globalDoFrame), useBackgroundTimer && (backgroundUpdateTimer = setTimeout(globalDoFrame, 100, "BACKGROUND_UPDATE")))
}

function checkIsRequired(t) {
    var e = !1;
    return null != window.IsRequired && (e = window.IsRequired(t)), e
}
var loaderController = null,
    loaderCallbackHide = "",
    loaderIsVisible = !0,
    gameRequests = [],
    resourcesRequests = [],
    nonCachedRetried = !1,
    clientResourceData = [];

function downloadMainGame(t, e, i) {
    Modules.OnDownloadMainGame(), globalImporter.StartImport(1 == UHT_DEVICE_TYPE.DESKTOP ? 25 : 40, []), loaderController = t, loaderCallbackHide = i, LoaderProgress.Download_Total = UHT_GAME_SIZE, gameRequests.push([]);
    for (var n = 0, o = 0; o < UHT_GAME_FILES.length; ++o) {
        if (gameRequests[n].length > 0) {
            var s = gameRequests[n][gameRequests[n].length - 1].url; - 1 == (s = s.split("?")[0]).replace(/[0-9]/g, "").indexOf(UHT_GAME_FILES[o].split("?")[0].replace(/[0-9]/g, "")) && (gameRequests.push([]), n++)
        }
        var a = new ResourceRequest({
            delayed: n > 0,
            url: globalGamePath + UHT_GAME_FILES[o],
            complete: new EventHandler(null, onGamePartComplete),
            onprogress: new EventHandler(null, onGameJSONProgress),
            callbackArg: [o, n, gameRequests[n].length]
        });
        gameRequests[n].push(a)
    }
    resourcesLeft = gameRequests.length
}

function onGamePartComplete(t, e) {
    if (!_string.IsNullOrEmpty(t.error)) return onGameJSONProgress(), window.currentDatapathRetries >= window.retriesBeforeAlternativeDatapath ? (t.url = t.url.replace(UHT_CONFIG.GAME_URL, UHT_CONFIG.GAME_URL_ALTERNATIVE), SENT_GA_EVENT_ALTERNATIVE_DATA_PATH || (SENT_GA_EVENT_ALTERNATIVE_DATA_PATH = !0, globalTracking.SendEvent("uht_loading", "_USED_ALTERNATIVE_DATA_PATH", 1, "LoadingTracker"))) : window.currentDatapathRetries++, void setTimeout((function () {
        gameRequests[e[1]][e[2]] = new ResourceRequest({
            url: t.url,
            complete: t.complete,
            onprogress: t.onprogress,
            overrideMimeType: "text/plain;charset=UTF-8",
            callbackArg: t.callbackArg
        })
    }), 250);
    for (var i = 0; i < gameRequests.length; ++i) {
        for (var n = !0, o = 0; o < gameRequests[i].length; ++o)
            if (!gameRequests[i][o].Done || !_string.IsNullOrEmpty(gameRequests[i][o].error)) {
                n = !1;
                break
            } if (0 != gameRequests[i].length && n) {
            if (i + 1 < gameRequests.length)
                for (o = 0; o < gameRequests[i + 1].length; ++o) gameRequests[i + 1][o].SendRequest();
            if (!parseGameData(gameRequests[i], i)) break
        }
    }
}
var JsonsToImport = [],
    DeserializeAllowed = [],
    DeserializeCTRDataMapLimit = [],
    allGameJSONSadded = !1,
    JsonTypes = [];

function PushToImporter(t) {
    JsonsToImport.push(t), globalImporter.AddCount([t]), LoaderProgress.Import_Total = globalImporter.totalNumberOfSteps, LoaderProgress.Import_Current = globalImporter.currentProgress
}

function parseGameData(t, e) {
    for (var i = "", n = 0; n < t.length; ++n) i += t[n].Data;
    try {
        switch (e) {
            case 0:
                PushToImporter(GUIJsonData = JSON.parse(i)), JsonTypes.push(1), globalImporter.state = Importer.State.Instantiating;
                break;
            case 1:
                PushToImporter(GUIResources = JSON.parse(i)), DeserializeAllowed.push(!0), DeserializeAllowed.push(!0), globalImporter.state = Importer.State.Instantiating;
                break;
            case 2:
                PushToImporter(mainGameJsonData = JSON.parse(i)), JsonTypes.push(0), globalImporter.state = Importer.State.Instantiating;
                break;
            case 3:
                PushToImporter(mainResources = JSON.parse(i)), globalImporter.state = Importer.State.Instantiating;
                break;
            case 4:
                PushToImporter(otherResources = JSON.parse(i)), DeserializeAllowed.push(!0), DeserializeAllowed.push(!0), DeserializeAllowed.push(!0), globalImporter.state = Importer.State.Instantiating;
                break;
            default:
                modulesJsonData.push(JSON.parse(i)), PushToImporter(modulesJsonData[modulesJsonData.length - 1]), JsonTypes.push(2), DeserializeAllowed.push(!0), globalImporter.state = Importer.State.Instantiating;
                break
        }
        for (n = 0; n < gameRequests[e].length; n++) globalDone += UHT_GAME_FILES_SIZES[gameRequests[e][n].callbackArg[0]];
        return gameRequests[e] = [], 0 == --resourcesLeft && (onGameJSONLoaded(), allGameJSONSadded = !0, UHT_GAME_FILES = null, UHT_GAME_FILES_SIZES = null, nonCachedRetried && globalTracking.SendEvent("uht_loading", "non_cached_retried", 1, "LoadingTracker")), !0
    } catch (t) {
        if (nonCachedRetried) return void globalTracking.SendEvent("uht_loading", "non_cached_retried", 0, "LoadingTracker");
        nonCachedRetried = !0, mainGameJsonData = null, GUIJsonData = null, mainResources = null, otherResources = null, GUIResources = null, (gameRequests = []).push([]);
        var o = 0;
        for (n = 0; n < UHT_GAME_FILES.length; ++n) {
            if (gameRequests[o].length > 0) - 1 == gameRequests[o][gameRequests[o].length - 1].url.replace(/[0-9]/g, "").indexOf(UHT_GAME_FILES[n].replace(/[0-9]/g, "")) && (gameRequests.push([]), o++);
            var s = new ResourceRequest({
                url: globalGamePath + UHT_GAME_FILES[n],
                complete: new EventHandler(null, onGamePartComplete),
                onprogress: new EventHandler(null, onGameJSONProgress),
                overrideMimeType: "text/plain;charset=UTF-8",
                callbackArg: [n, o, gameRequests[o].length],
                forceNoCache: !0
            });
            gameRequests[gameRequests.length - 1].push(s)
        }
        return resourcesLeft = gameRequests.length, !1
    }
}

function onGameJSONLoaded() {
    globalTracking.StopTimerAndSend("uht_loading", "_2_game_downloading", "LoadingTracker");
    var t = globalTracking.GetTimerValue("uht_loading", "_2_game_downloading", "LoadingTracker");
    globalTracking.SendEvent("uht_loading", "_2_game_downloading", t, "LoadingTracker"), LoadingStep = 3, globalTracking.StartTimer("uht_loading", "_CLOSED_at_" + LoadingStep, "LoadingTracker"), globalTracking.StartTimer("uht_loading", "_3_game_opening_and_connecting", "LoadingTracker"), LoaderProgress.Download_Current = LoaderProgress.Download_Total
}
var timerToStartPrefetching = -1;

function internalContinuePrefetchingTextures() {
    null != currentDownloadingAtlas && currentDownloadingAtlas.isLoaded() && (currentDownloadingAtlas.internalTextureLoadedCallback(), currentDownloadingAtlas = null), globalListOfDeferredLoadingAtlases.length > 0 && null == currentDownloadingAtlas && ((currentDownloadingAtlas = globalListOfDeferredLoadingAtlases[0]).loadAtlasTexture(), globalListOfDeferredLoadingAtlases.splice(0, 1))
}

function internalContinueImporting() {
    if (globalImporter.state != Importer.State.Idle) {
        var t = globalImporter.Advance(JsonsToImport, globalGamePath);
        if (LoaderProgress.Import_Current = globalImporter.currentProgress, t.isDone && allGameJSONSadded) {
            LoaderProgress.Import_Current = globalImporter.totalNumberOfSteps, globalImporter.clear();
            var e = t.objects[JsonTypes.indexOf(0)].GetComponentsInChildren(LocalizationRoot, !0)[0].transform,
                i = t.objects[JsonTypes.indexOf(1)].transform;
            i.children[i.children.length - 1].SetParent(e, !1), i.SetParent(e, !1);
            for (var n = 0; n < t.objects.length; ++n) JsonTypes[n] > 1 && t.objects[n].transform.SetParent(e, !1);
            globalRuntime.addNewSceneRoot(t.objects[JsonTypes.indexOf(0)]), mainGameJsonData = null, GUIJsonData = null, mainResources = null, otherResources = null, GUIResources = null, modulesJsonData = null
        }
    }
}
var globalDone = 0;

function onGameJSONProgress() {
    for (var t = globalDone, e = 0, i = 0; i < gameRequests.length; ++i)
        for (var n = 0; n < gameRequests[i].length; ++n) {
            var o = gameRequests[i][n];
            o.Done ? _string.IsNullOrEmpty(o.error) && (t += UHT_GAME_FILES_SIZES[o.callbackArg[0]]) : e += o.progressLoaded
        }
    e + t > LoaderProgress.Download_Current && (LoaderProgress.Download_Current = e + t), LoaderProgress.Download_Total = UHT_GAME_SIZE
}
var LoaderProgress = {
        Download_AlreadyDownloaded: -1,
        Download_SoundAlreadyDownloaded: -1,
        Download_Retried_LockedPercent: 0,
        Download_Current: 0,
        Sound_Download_Current: 0,
        Import_Current: 0,
        Import_Textures_Current: 0,
        InitConnection_Current: 0,
        InitConnection_Visual: 0,
        Localize_Current: 0,
        Blocking_Current: 0,
        Blocking_Visual: 0,
        SymbolsManagers_Current: 0,
        Download_Total: -1,
        Sound_Download_Total: -1,
        Import_Total: -1,
        Import_Textures_Total: -1,
        InitConnection_Total: 1,
        Localize_Total: 1,
        Blocking_Total: -1,
        SymbolsManagers_Total: -1,
        Download_Weight: .7,
        Sound_Download_Weight: 0,
        GameAndSound_Download_Weight: .7,
        Import_Weight: 1.1,
        Import_Textures_Weight: .2,
        InitConnection_Weight: .025,
        Localize_Weight: .025,
        Blocking_Weight: .01,
        SymbolsManagers_Weight: .1
    },
    LoadingWheelSentOnce = !1;

function signalNeedPauseForTexture(t) {
    if (!t.requested) {
        LoadingWheelSentOnce || loaderIsVisible || (globalTracking.SendEvent("uht_behaviour", "Loading_wheel_once", 1, "BehaviourTracker"), LoadingWheelSentOnce = !0), loaderIsVisible || globalTracking.SendEvent("uht_behaviour_loading_wheel", "Initiated_for_" + t.gameObject.name, 1, "BehaviourTracker"), globalResourcesNeededList.push(t), t.requested = !0;
        for (var e = 0; e < globalListOfDeferredLoadingAtlases.length; e++) {
            var i = globalListOfDeferredLoadingAtlases[e];
            !i.requested && i.isBlockingResource && i.resourcePriority == t.resourcePriority && (i.loadAtlasTexture(), globalResourcesNeededList.push(i), i.requested = !0, loaderIsVisible || i.pixiTexture.valid || globalTracking.SendEvent("uht_behaviour_loading_wheel", "Loaded_also_" + i.gameObject.name, 1, "BehaviourTracker"), loaderIsVisible && (-1 == LoaderProgress.Blocking_Total && (LoaderProgress.Blocking_Total = 0), LoaderProgress.Blocking_Total++))
        }
        globalResourcesNeededInfo = [];
        for (var n = 0; n < globalResourcesNeededList.length; n++) globalResourcesNeededInfo.push(globalResourcesNeededList[n].pixiTexture)
    }
}

function registerAtlasForDeferredLoading(t) {
    for (var e = 0, i = 0; i < globalListOfDeferredLoadingAtlases.length; i++) globalListOfDeferredLoadingAtlases[i].resourcePriority <= t.resourcePriority && e++;
    globalListOfDeferredLoadingAtlases.splice(e, 0, t)
}

function AudioClipDelay() {
    this.currentDelay = 0, this.clipToPlay = null
}

function AudioClipMusicAware() {
    this.clipMusicOn = null, this.clipMusicOff = null
}

function AudioClipFastPlayAware() {
    this.clipFastPlayOff = null, this.clipFastPlayOn = null
}

function AudioClipSpinTypeAware() {
    this.clipNormalSpin = null, this.clipFreeSpin = null, this.useNormalClipAtFreeSpinsStart = !1
}

function AudioClipSpecialSymbolAware() {
    this.specialSymbolId = -1, this.hasExcitedClip = !1, this.clipDefault = null, this.clipExcited = null
}

function VS_AudioClipLoopable() {
    this.handler = SoundManager.InvalidSoundHandle, this.clipDefault = null
}

function BG_AudioClipLoopable() {
    this.handler = SoundManager.InvalidSoundHandle, this.clipDefault = null
}

function MusicClip() {
    this.friendlyName = "friendly name", this.handler = SoundManager.InvalidSoundHandle, this.clip = null, this.maxVolume = 1, this.volumeFadeInDuration = 1, this.volumeFadeOutDuration = 1, this.duckingFadeInDuration = .5, this.duckingFadeOutDuration = .5, this.volumeLevel = 0, this.duckingVolume = 1, this.isPlaying = !1, this.isMuted = !1, this.duckingSteps = [], this.priorityDuckingStepIndex = -1, this.volumeState = MusicVolumeState.idle, this.duckingState = MusicVolumeState.idle, this.useFadeCurve = !1, this.currentCurveTime = 0, this.fadeCurve = null;
    for (var t = 0; t < 3; t++) this.duckingSteps.push(new MusicDucking), this.duckingSteps[t].targetVolume = .3 + .2 * t
}
goog.provide("UHT.AudioClassesUtils"), goog.require("UHT.SoundManager"), goog.require("UHT.AudioClip"), AudioClipDelay.prototype.GetClip = function () {
    return this.clipToPlay
}, AudioClipDelay.prototype.Reset = function () {
    this.clipToPlay = null
}, AudioClipDelay.prototype.CountToPlayClip = function (t, e) {
    this.currentDelay = e, this.clipToPlay = t
}, AudioClipDelay.prototype.MustPlay = function () {
    return null != this.clipToPlay && (!(this.currentDelay > 0) || (this.currentDelay -= Time.deltaTime, !1))
}, AudioClipMusicAware.prototype.GetClip = function () {
    return XT.GetBool(Vars.MusicIsOn) ? this.clipMusicOn : this.clipMusicOff
}, AudioClipFastPlayAware.prototype.GetClip = function () {
    return XT.GetBool(Vars.FastPlay) ? this.clipFastPlayOn.GetClip() : this.clipFastPlayOff.GetClip()
}, AudioClipSpinTypeAware.prototype.GetClip = function () {
    var t = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    return !XT.GetBool(Vars.Logic_IsFreeSpin) || this.useNormalClipAtFreeSpinsStart && t.IsFreeSpinsStart ? this.clipNormalSpin.GetClip() : this.clipFreeSpin.GetClip()
}, AudioClipSpecialSymbolAware.prototype.GetClip = function () {
    return this.clipDefault.GetClip()
}, AudioClipSpecialSymbolAware.prototype.GetExcitedClip = function () {
    return this.hasExcitedClip ? this.clipExcited.GetClip() : this.GetClip()
}, VS_AudioClipLoopable.prototype.GetClip = function () {
    return this.clipDefault.GetClip()
}, VS_AudioClipLoopable.prototype.IsPlaying = function () {
    return this.handler != SoundManager.InvalidSoundHandle
}, MusicClip.prototype.GetVolume = function () {
    return this.maxVolume * this.volumeLevel * this.duckingVolume
}, MusicClip.prototype.UpdateDuckingStepPriority = function () {
    this.priorityDuckingStepIndex = -1;
    for (var t = 0; t < this.duckingSteps.length; t++) this.duckingSteps[t].duckCount > 0 && (-1 == this.priorityDuckingStepIndex || this.duckingSteps[t].targetVolume < this.duckingSteps[this.priorityDuckingStepIndex].targetVolume) && (this.priorityDuckingStepIndex = t)
};
var MusicVolumeState = {
    idle: 0,
    fadingIn: 1,
    fadingOut: 2
};

function MusicDucking() {
    this.targetVolume = .3, this.autoUnduck = !1, this.autoUnduckShouldFade = !1, this.autoUnduckTimer = 0, this.fadeInDuration = .5, this.fadeOutDuration = .5, this.duckCount = 0
}

function AudioClipValueAnimator() {
    this.handler = SoundManager.InvalidSoundHandle, this.clipSmallWin = null, this.clipNormalWin = null, this.clipBigWin = null, this.clipMegaWin = null, this.clipEpicWin = null, this.clipFinal = null
}
BG_AudioClipLoopable.prototype.GetClip = function () {
    return this.clipDefault.GetClip()
}, BG_AudioClipLoopable.prototype.IsPlaying = function () {
    return this.handler != SoundManager.InvalidSoundHandle
};
var ClipStage = {
    smallWin: 0,
    normalWin: 1,
    bigWin: 2,
    megaWin: 3,
    epicWin: 4,
    finalStage: 5
};

function AudioClipLoopable() {
    this.handler = SoundManager.InvalidSoundHandle, this.clipDefault = null
}

function AudioClipLoopableMusicAware() {
    this.handler = SoundManager.InvalidSoundHandle, this.clipDefault = null
}

function GambleSounds() {
    this.shufflingCardLoopable = null, this.shufflingCardStop = null, this.resultWindowWin = null, this.resultWindowLose = null, this.newProgressItem = null
}

function ReelStopSounds() {
    this.reelStopWithSpecialSymbol = null, this.reelStopExcitedWin = null, this.reelStopExcitedLose = null, this.reelStopDefault = null
}

function ReelStartSounds() {
    this.clipsReelStart = null, this.clipsReelStartExcited = null, this.clipsReelMusicExcited = null
}

function VS_MusicLogic() {
    XTLink.call(this), this.normalMusic = [], this.fsMusic = [], this.bgMusic = [], this.loopingSoundFX = [], this.soundManager = null
}

function ClipLevel() {
    this.clips = null, this.repeat = 0
}
AudioClipValueAnimator.prototype.IsPlaying = function () {
    return this.handler != SoundManager.InvalidSoundHandle
}, AudioClipValueAnimator.prototype.GetClip = function (t) {
    var e = null;
    switch (t) {
        case ClipStage.smallWin:
            e = this.clipSmallWin.GetClip();
            break;
        case ClipStage.normalWin:
            e = this.clipNormalWin.GetClip();
            break;
        case ClipStage.bigWin:
            e = this.clipBigWin.GetClip();
            break;
        case ClipStage.megaWin:
            e = this.clipMegaWin.GetClip();
            break;
        case ClipStage.epicWin:
            e = this.clipEpicWin.GetClip();
            break;
        case ClipStage.finalStage:
            e = this.clipFinal.GetClip();
            break
    }
    return e
}, AudioClipLoopable.prototype.GetClip = function () {
    return this.clipDefault
}, AudioClipLoopable.prototype.IsPlaying = function () {
    return this.handler != SoundManager.InvalidSoundHandle
}, AudioClipLoopableMusicAware.prototype.GetClip = function () {
    return this.clipDefault.GetClip()
}, AudioClipLoopableMusicAware.prototype.IsPlaying = function () {
    return this.handler != SoundManager.InvalidSoundHandle
}, goog.require("UHT.XTLink"), VS_MusicLogic.prototype = Object.create(XTLink.prototype), VS_MusicLogic.prototype.constructor = VS_MusicLogic, VS_MusicLogic.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.MusicLogicObject, this)
}, VS_MusicLogic.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.SoundManagerObject, this.OnSoundManagerChanged, this)
}, VS_MusicLogic.prototype.OnDestroy = function () {
    XT.UnregisterCallbackObject(this.OnSoundManagerChanged, this)
}, VS_MusicLogic.prototype.OnSoundManagerChanged = function (t) {
    this.soundManager = t
}, VS_MusicLogic.prototype.PlayMusicClip = function (t, e) {
    var i = this.FindClipWithFriendlyName(t);
    if (null != i) {
        var n = !1;
        e > 0 && (n = !0, i.volumeFadeInDuration = e), -1 != this.loopingSoundFX.indexOf(i) ? this.soundManager.PlayLoopingClip(i, n) : this.soundManager.PlayMusicClip(i, n)
    }
}, VS_MusicLogic.prototype.StopMusicClip = function (t, e) {
    var i = this.FindClipWithFriendlyName(t);
    if (null != i) {
        var n = !1;
        e > 0 && (n = !0, i.volumeFadeOutDuration = e), -1 != this.loopingSoundFX.indexOf(i) ? this.soundManager.StopLoopingClip(i, n) : this.soundManager.StopMusicClip(i, n)
    }
}, VS_MusicLogic.prototype.MuteMusicClip = function (t, e) {
    var i = this.FindClipWithFriendlyName(t);
    if (null != i) {
        var n = !1;
        e > 0 && (n = !0, i.volumeFadeOutDuration = e), -1 != this.loopingSoundFX.indexOf(i) ? this.soundManager.MuteLoopingClip(i, n) : this.soundManager.MuteMusicClip(i, n)
    }
}, VS_MusicLogic.prototype.UnmuteMusicClip = function (t, e) {
    var i = this.FindClipWithFriendlyName(t);
    if (null != i) {
        var n = !1;
        e > 0 && (n = !0, i.volumeFadeInDuration = e), -1 != this.loopingSoundFX.indexOf(i) ? this.soundManager.UnmuteLoopingClip(i, n) : this.soundManager.UnmuteMusicClip(i, n)
    }
}, VS_MusicLogic.prototype.DuckMusicClip = function (t, e, i, n, o) {
    var s = this.FindClipWithFriendlyName(t);
    if (null != s) {
        var a = !1;
        (n > 0 || o > 0) && (a = !0, s.duckingSteps[e].fadeInDuration = n, s.duckingSteps[e].fadeOutDuration = o), -1 != this.loopingSoundFX.indexOf(s) ? this.soundManager.DuckLoopingClip(s, e, i, a) : this.soundManager.DuckMusicClip(s, e, i, a)
    }
}, VS_MusicLogic.prototype.UnduckMusicClip = function (t, e, i) {
    var n = this.FindClipWithFriendlyName(t);
    if (null != n) {
        var o = !1;
        i > 0 && (o = !0, n.duckingSteps[e].fadeOutDuration = i), -1 != this.loopingSoundFX.indexOf(n) ? this.soundManager.UnduckLoopingClip(n, e, o) : this.soundManager.UnduckMusicClip(n, e, o)
    }
}, VS_MusicLogic.prototype.MuteMusic = function (t) {
    t ? this.soundManager.MuteMusic() : this.soundManager.UnmuteMusic()
}, VS_MusicLogic.prototype.MuteSoundFX = function (t) {
    t ? this.soundManager.MuteSoundFX() : this.soundManager.UnmuteSoundFX()
}, VS_MusicLogic.prototype.FindClipWithFriendlyName = function (t) {
    var e;
    for (e = 0; e < this.normalMusic.length; e++)
        if (this.normalMusic[e].friendlyName == t) return this.normalMusic[e];
    for (e = 0; e < this.fsMusic.length; e++)
        if (this.fsMusic[e].friendlyName == t) return this.fsMusic[e];
    for (e = 0; e < this.bgMusic.length; e++)
        if (this.bgMusic[e].friendlyName == t) return this.bgMusic[e];
    for (e = 0; e < this.loopingSoundFX.length; e++)
        if (this.loopingSoundFX[e].friendlyName == t) return this.loopingSoundFX[e];
    return null
}, VS_MusicLogic.prototype.GetMusicClipByAudioClip = function (t) {
    if (null == t) return null;
    var e;
    for (e = 0; e < this.normalMusic.length; e++)
        if (this.normalMusic[e].clip == t) return this.normalMusic[e];
    for (e = 0; e < this.fsMusic.length; e++)
        if (this.fsMusic[e].clip == t) return this.fsMusic[e];
    for (e = 0; e < this.bgMusic.length; e++)
        if (this.bgMusic[e].clip == t) return this.bgMusic[e];
    return null
}, VS_MusicLogic.prototype.GetLoopingClipByAudioClip = function (t) {
    if (null == t) return null;
    for (var e = 0; e < this.loopingSoundFX.length; e++)
        if (this.loopingSoundFX[e].clip == t) return this.loopingSoundFX[e];
    return null
}, goog.require("UHT.Engine");
var CoinCounterType = {
    CoinCounter: 0,
    AlternateMusic: 1,
    IndividualBigWinSounds: 2
};

function CoinCounterSettings() {
    this.coinCounterType = CoinCounterType.CoinCounter, this.muteBackgroundMusic = !1, this.useAlternateMusicForSmallWin = !1, this.muteBackgroundMusicForBigWin = !0
}

function CoinCounter() {
    XTLink.call(this), this.levels = null, this.BigWinSteps = [], this.finalSound = null, this.delay = 0, this.secondsToCountOneTotalBet = 1, this.forcedSmallWinCountDuration = -1, this.secondsToCountOneTotalBetOldValue = 1, this.normalSettings = null, this.freeSpinsSettings = null, this.useBonusGameSettings = !1, this.bonusGameSettings = null, this.currentSettings = null, this.normalAlternateMusic = null, this.freeSpinsAlternateMusic = null, this.bonusGameAlternateMusic = null, this.finalAlternateSound = null, this.finalAlternateSoundFS = null, this.currentAlternateMusic = null, this.individualBigWinClips = null, this.finalIndividualBigWinClips = null, this.IndividualBigWinSoundsDuration = [], this.finalIndividualBigWinSound = null, this.targetBigWinLevel = 0, this.timesTotalBet = 0, this.timesTotalBetFloat = 0, this.target = 0, this.counting = !1, this.counter = 0, this.level = 0, this.idxInLevel = 0, this.inLevelRepeatCounter = 0, this.sndManager = null, this.timer = 0, this.totalWinReceivedSoFarInFS = 0
}
CoinCounter.prototype = Object.create(XTLink.prototype), CoinCounter.prototype.constructor = CoinCounter, CoinCounter.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.SoundManagerObject, this.OnSoundManagerChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinCounterStart, this.StartCount, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinCounterStop, this.StopCount, this), XT.RegisterCallbackInt(Vars.CurrentCoinCountTarget, this.OnCountTarget, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StartVSLogicSounds, this.ResetAlternateMusic, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_MusicBtn, this.ResetAlternateMusic, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_SoundBtn, this.ResetAlternateMusic, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived, this.SpinResultIsBigWin, this), this.useBonusGameSettings ? XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnVSGameStateChanged, this) : (XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsStarted, this.OnFreeSpins, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsEnded, this.OnFreeSpins, this))
}, CoinCounter.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.CoinCounterObject, this)
}, CoinCounter.prototype.OnDestroy = function () {
    XT.UnregisterCallbackObject(this.OnSoundManagerChanged, this), XT.UnregisterCallbackEvent(this.StartCount, this), XT.UnregisterCallbackEvent(this.StopCount, this), XT.UnregisterCallbackEvent(this.ResetAlternateMusic, this), XT.UnregisterCallbackEvent(this.OnGameInit, this), XT.UnregisterCallbackEvent(this.OnFreeSpins, this), XT.UnregisterCallbackEvent(this.SpinResultIsBigWin, this)
}, CoinCounter.prototype.GetTargetBigWinLevel = function () {
    return this.targetBigWinLevel
}, CoinCounter.prototype.GetCurentCoinCounterSettings = function () {
    return this.currentSettings
}, CoinCounter.prototype.OnCountTarget = function (t) {
    this.target = t
}, CoinCounter.prototype.OnSoundManagerChanged = function (t) {
    this.sndManager = t
}, CoinCounter.prototype.StartCount = function () {
    if (!(XT.GetBool(Vars.Jurisdiction_NoSmallWinCount) && this.timesTotalBetFloat <= 1)) {
        this.counting = !0;
        var t = XT.GetObject(Vars.SoundState);
        this.currentSettings.coinCounterType == CoinCounterType.CoinCounter || this.currentSettings.coinCounterType == CoinCounterType.IndividualBigWinSounds && this.timesTotalBet < this.BigWinSteps[0] && !this.currentSettings.useAlternateMusicForSmallWin ? (this.timer = 0, this.counter = 0, this.level = 0, this.idxInLevel = 0, this.inLevelRepeatCounter = 0) : this.currentSettings.coinCounterType == CoinCounterType.AlternateMusic || this.currentSettings.coinCounterType == CoinCounterType.IndividualBigWinSounds && this.timesTotalBet < this.BigWinSteps[0] && this.currentSettings.useAlternateMusicForSmallWin ? this.currentAlternateMusic.IsPlaying() && (t.soundFXIsOn ? this.sndManager.UnmuteLoopingSound(this.currentAlternateMusic.handler) : this.sndManager.MuteLoopingSound(this.currentAlternateMusic.handler)) : this.PlayIndividualBigWinSounds(), t.soundFXIsOn && (this.timesTotalBet < this.BigWinSteps[0] ? this.currentSettings.muteBackgroundMusic && this.sndManager.MuteMusic() : this.currentSettings.muteBackgroundMusicForBigWin && this.sndManager.MuteMusic())
    }
}, CoinCounter.prototype.StopCount = function () {
    XT.GetBool(Vars.Jurisdiction_NoSmallWinCount) && this.timesTotalBetFloat <= 1 || (this.counting = !1, this.currentSettings.coinCounterType == CoinCounterType.CoinCounter || this.currentSettings.coinCounterType == CoinCounterType.IndividualBigWinSounds && this.timesTotalBet < this.BigWinSteps[0] && !this.currentSettings.useAlternateMusicForSmallWin ? this.PlayClip(this.finalSound) : this.currentSettings.coinCounterType == CoinCounterType.AlternateMusic || this.currentSettings.coinCounterType == CoinCounterType.IndividualBigWinSounds && this.timesTotalBet < this.BigWinSteps[0] && this.currentSettings.useAlternateMusicForSmallWin ? (this.sndManager.MuteLoopingSound(this.currentAlternateMusic.handler), this.currentSettings == this.freeSpinsSettings && null != this.finalAlternateSoundFS ? this.PlayClip(this.finalAlternateSoundFS) : this.PlayClip(this.finalAlternateSound)) : this.StopIndividualBigWinSounds(), (XT.GetBool(Vars.WaitInResultForBigWin) && this.currentSettings.muteBackgroundMusicForBigWin || this.currentSettings.muteBackgroundMusic) && this.sndManager.UnmuteMusic(), this.targetBigWinLevel = 0, this.secondsToCountOneTotalBet = this.secondsToCountOneTotalBetOldValue)
}, CoinCounter.prototype.PlayClip = function (t) {
    this.sndManager.PlaySimple(t)
}, CoinCounter.prototype.ComputeLevelRepeatCounters = function () {
    this.levels[0].repeat = Math.round(this.BigWinSteps[0] * this.secondsToCountOneTotalBet / (this.levels[0].clips.length * this.delay));
    for (var t = 1; t < this.levels.length - 1; t++) this.levels[t].repeat = Math.round((this.BigWinSteps[t] - this.BigWinSteps[t - 1]) * this.secondsToCountOneTotalBet / (this.levels[t].clips.length * this.delay));
    this.levels[this.levels.length - 1].repeat = 0
}, CoinCounter.prototype.Start = function () {
    this.currentAlternateMusic = this.normalAlternateMusic, this.currentSettings = this.normalSettings, this.secondsToCountOneTotalBetOldValue = this.secondsToCountOneTotalBet, this.ComputeLevelRepeatCounters()
}, CoinCounter.prototype.OnGameInit = function () {
    var t = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    t.IsFreeSpin && (this.currentAlternateMusic = this.freeSpinsAlternateMusic, this.currentSettings = this.freeSpinsSettings, this.totalWinReceivedSoFarInFS = t.CurrentWin)
}, CoinCounter.prototype.OnVSGameStateChanged = function () {
    var t, e, i = VSGameStateManager.GetState();
    if (i == VSGameState.Bonus ? (t = this.bonusGameAlternateMusic, e = this.bonusGameSettings) : i == VSGameState.SpinFreeSpins || i == VSGameState.ResultFreeSpins || i == VSGameState.ResultFreeSpinsPrepare ? (t = this.freeSpinsAlternateMusic, e = this.freeSpinsSettings) : (t = this.normalAlternateMusic, e = this.normalSettings), this.currentSettings != e) {
        if (this.currentAlternateMusic.IsPlaying()) {
            var n = {
                handle: this.currentAlternateMusic.handler
            };
            this.sndManager.StopLoopingSound(n), this.currentAlternateMusic.handler = n.handle
        }
        this.currentSettings = e, this.currentAlternateMusic = t, this.secondsToCountOneTotalBet = this.secondsToCountOneTotalBetOldValue, this.ResetAlternateMusic()
    }
}, CoinCounter.prototype.OnFreeSpins = function () {
    if (this.currentAlternateMusic.IsPlaying()) {
        var t = {
            handle: this.currentAlternateMusic.handler
        };
        this.sndManager.StopLoopingSound(t), this.currentAlternateMusic.handler = t.handle
    }
    this.currentAlternateMusic = this.currentSettings == this.normalSettings ? this.freeSpinsAlternateMusic : this.normalAlternateMusic, this.currentSettings = this.currentSettings == this.normalSettings ? this.freeSpinsSettings : this.normalSettings, this.secondsToCountOneTotalBet = this.secondsToCountOneTotalBetOldValue, this.ResetAlternateMusic()
}, CoinCounter.prototype.ResetAlternateMusic = function () {
    if (this.currentSettings.coinCounterType == CoinCounterType.AlternateMusic || this.currentSettings.coinCounterType == CoinCounterType.IndividualBigWinSounds && this.currentSettings.useAlternateMusicForSmallWin) {
        if (this.currentAlternateMusic.IsPlaying()) {
            var t = {
                handle: this.currentAlternateMusic.handler
            };
            this.sndManager.StopLoopingSound(t), this.currentAlternateMusic.handler = t.handle
        }
        this.currentAlternateMusic.handler = IS_UCBROWSER ? -1 : this.sndManager.PlayLooping(this.currentAlternateMusic.GetClip()), this.sndManager.MuteLoopingSound(this.currentAlternateMusic.handler)
    }
}, CoinCounter.prototype.PlayIndividualBigWinSounds = function () {
    this.individualBigWinClips.length >= this.targetBigWinLevel && (this.individualBigWinClips[this.targetBigWinLevel - 1].handler = this.sndManager.PlayLooping(this.individualBigWinClips[this.targetBigWinLevel - 1].GetClip()))
}, CoinCounter.prototype.StopIndividualBigWinSounds = function () {
    if (this.individualBigWinClips.length >= this.targetBigWinLevel && this.individualBigWinClips[this.targetBigWinLevel - 1].IsPlaying()) {
        var t = {
            handle: this.individualBigWinClips[this.targetBigWinLevel - 1].handler
        };
        this.sndManager.StopLoopingSound(t), this.individualBigWinClips[this.targetBigWinLevel - 1].handler = t.handle
    }
    this.timesTotalBet >= this.BigWinSteps[0] && (this.finalIndividualBigWinClips.length > 0 ? this.PlayClip(this.finalIndividualBigWinClips[this.targetBigWinLevel - 1]) : this.PlayClip(this.finalIndividualBigWinSound))
}, CoinCounter.prototype.ComputeTargetBigWinLevel = function (t, e) {
    if (this.currentSettings.coinCounterType == CoinCounterType.IndividualBigWinSounds && t > 0) {
        this.timesTotalBet = Math.floor(t / e * 100) / 100, this.timesTotalBetFloat = t / e, this.targetBigWinLevel = 0;
        for (var i = 0; i < this.BigWinSteps.length; i++) this.timesTotalBet >= this.BigWinSteps[i] && this.targetBigWinLevel++;
        this.secondsToCountOneTotalBet = this.targetBigWinLevel > 0 ? this.IndividualBigWinSoundsDuration[this.targetBigWinLevel - 1] / this.timesTotalBet : this.secondsToCountOneTotalBetOldValue
    }
}, CoinCounter.prototype.Update = function () {
    (this.currentSettings.coinCounterType == CoinCounterType.CoinCounter || this.currentSettings.coinCounterType == CoinCounterType.IndividualBigWinSounds && this.timesTotalBet < this.BigWinSteps[0] && !this.currentSettings.useAlternateMusicForSmallWin) && this.counting && (this.timer += Time.deltaTime, this.timer > this.delay && (this.timer -= this.delay, this.counter++, this.counter >= this.target ? this.StopCount() : (this.PlayClip(this.levels[this.level].clips[this.idxInLevel]), this.idxInLevel++, this.idxInLevel >= this.levels[this.level].clips.length && (this.idxInLevel = 0, this.inLevelRepeatCounter++, this.inLevelRepeatCounter >= this.levels[this.level].repeat && (this.inLevelRepeatCounter = 0, this.level++, this.level >= this.levels.length && this.level--))))), this.currentAlternateMusic.IsPlaying() && !this.counting && this.sndManager.MuteLoopingSound(this.currentAlternateMusic.handler)
}, CoinCounter.prototype.SpinResultIsBigWin = function () {
    var t, e = 0,
        i = CoinManager.GetLastTotalBet(),
        n = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    XT.GetBool(Vars.RespinInProgress) ? n.IsFreeSpin ? (e = XT.GetDouble(Vars.WinReceived) * n.TotalMultiplier, this.totalWinReceivedSoFarInFS = n.CurrentWin) : e = XT.GetDouble(Vars.WinReceived) : n.IsFreeSpin ? n.IsLastFreeSpin && null == XT.GetObject(Vars.TumblingData) ? (e = (n.CurrentWin - this.totalWinReceivedSoFarInFS) * n.TotalMultiplier, this.totalWinReceivedSoFarInFS = 0) : (e = XT.GetDouble(Vars.WinReceived) * n.TotalMultiplier, this.totalWinReceivedSoFarInFS = n.CurrentWin) : XT.GetBool(Vars.MustOpenBonus) && !XT.GetBool(Vars.CanTriggerBigWinBeforeBonus) || (e = XT.GetDouble(Vars.WinReceived)), this.timesTotalBet = Math.floor(e / i * 100) / 100, t = this.timesTotalBet >= this.BigWinSteps[0], XT.SetInt(Vars.SpinResultWinLevel, this.timesTotalBet), XT.SetInt(Vars.SpinResultBigWinLevel, 0);
    for (var o = 0; o < this.BigWinSteps.length; o++) this.timesTotalBet >= this.BigWinSteps[o] && XT.SetInt(Vars.SpinResultBigWinLevel, o);
    XT.SetBool(Vars.SpinResultIsBigWin, t)
}, CoinCounter.prototype.ForceChangeToState = function (t) {
    var e = null,
        i = null;
    "normal" == t ? (e = this.normalAlternateMusic, i = this.normalSettings) : "freespins" == t ? (e = this.freeSpinsAlternateMusic, i = this.freeSpinsSettings) : "bonus" == t && (e = this.bonusGameAlternateMusic, i = this.bonusGameSettings), this.currentSettings != i && (this.secondsToCountOneTotalBet = this.secondsToCountOneTotalBetOldValue), this.currentAlternateMusic = e, this.currentSettings = i, this.ResetAlternateMusic()
}, CoinCounter.prototype.ForceResetToExpectedState = function () {
    this.OnVSGameStateChanged()
}, goog.require("UHT.XTLink"), goog.require("UHT.AudioClassesUtils");
var WinAnimState = {
    idle: 0,
    level0: 1,
    level1: 2,
    level2: 3,
    level3: 4,
    level4: 5,
    level5: 6,
    jackpot: 7,
    hidingBigWin: 8
};

function ValueAnimatorWithBigWin() {
    XTLink.call(this), this.vdVariable = null, this.reallyTriggersBigWin = !0, this.setSkipTheNextBigWin = !0, this.canBeSkippedByPreviousBigWin = !0, this.animateWhenIncreasing = !0, this.playSoundsWhenAnimating = !1, this.isJackPot = !1, this.makeTrueWhenAnimating = null, this.minimumBigWinDuration = 2, this.multiplierFX = null, this.oldValue = 0, this.newValue = 0, this.delta = 0, this.currentValue = 0, this.isAnimating = !1, this.curTime = -1, this.animationTime = 1, this.normalWinTime = .5, this.totalBet = 0, this.coinCounter = null, this.currentState = WinAnimState.idle, this.skipClicks = 0, this.lastFinalizeReceived = -1
}

function ValueAnimator() {
    XTLink.call(this), this.vdVariable = null, this.animationTime = 2, this.animateWhenIncreasing = !0, this.animCurveIncreasing = null, this.animateWhenDecreasing = !0, this.animCurveDecreasing = null, this.curAnimCurve = null, this.oldValue = 0, this.newValue = 0, this.delta = 0, this.currentValue = 0, this.curTime = -1
}
ValueAnimatorWithBigWin.prototype = Object.create(XTLink.prototype), ValueAnimatorWithBigWin.prototype.constructor = ValueAnimatorWithBigWin, ValueAnimatorWithBigWin.prototype.scriptUpdatePriority = 6, ValueAnimatorWithBigWin.counterVars = [], ValueAnimatorWithBigWin.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_LastBetsChanged, this.ComputeTotalBet, this), XT.RegisterCallbackDouble(this.vdVariable.variable.name, this.OnTargetValueChanged, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BigWinHasFinished, this.OnBigWinFinished, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_FinalizeDisplayedWin, this.OnFinalizeValue, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnInit, this)
}, ValueAnimatorWithBigWin.prototype.XTInitVariablesAndEvents = function () {
    XT.SetDouble(this.vdVariable.GetAnimatedVarName(), 0), XT.SetBool(Vars.SkipNextBigWin, !1), "" != this.makeTrueWhenAnimating.name && XT.SetBool(this.makeTrueWhenAnimating.name, !1)
}, ValueAnimatorWithBigWin.prototype.ComputeTotalBet = function () {
    this.totalBet = CoinManager.GetLastTotalBet()
}, ValueAnimatorWithBigWin.prototype.OnDestroy = function () {
    XT.UnregisterCallbackDouble(this.OnTargetValueChanged, this), XT.UnregisterCallbackEvent(this.OnBigWinFinished, this), XT.UnregisterCallbackEvent(this.OnFinalizeValue, this), XT.UnregisterCallbackEvent(this.ComputeTotalBet, this)
}, ValueAnimatorWithBigWin.prototype.OnInit = function () {
    this.coinCounter = XT.GetObject(Vars.CoinCounterObject)
}, ValueAnimatorWithBigWin.prototype.OnTargetValueChanged = function (t) {
    this.newValue = t, this.skipClicks = 0;
    var e = !0;
    if ((this.isAnimating && (this.oldValue = this.currentValue), this.delta = this.newValue - this.oldValue, XT.GetBool(Vars.CanAnimateValues) && this.newValue > this.oldValue + 1e-4 && this.animateWhenIncreasing && this.totalBet > 0 && CoinManager.IsInit()) && (this.reallyTriggersBigWin && this.coinCounter.ComputeTargetBigWinLevel(this.delta, this.totalBet), !this.CalculateAnimationTime(this.delta))) {
        this.isAnimating = !0, this.curTime = 0, null != this.multiplierFX && (this.multiplierFX.ComputeStartFXTime(this.oldValue, this.oldValue, this.newValue, this.animationTime), this.multiplierFX.curFXIndex > -1 && (this.curTime = this.multiplierFX.startFXTime[this.multiplierFX.curFXIndex])), "" != this.makeTrueWhenAnimating.name && XT.SetBool(this.makeTrueWhenAnimating.name, !0);
        var i = !0;
        this.vdVariable.variable.name != Vars.BalanceDisplayed ? (0 == XT.GetInt(Vars.VAWBWCounters) && XT.SetBool(Vars.LastWinIsCounting, !0), this.IncreaseVAWBWCounter(this.vdVariable.variable.name)) : XT.SetBool(Vars.BalanceIsCounting, !0), t >= this.totalBet * this.coinCounter.BigWinSteps[0] || this.isJackPot || (i = !1), this.reallyTriggersBigWin && i && (XT.SetInt(Vars.BigWinLevel, 7), XT.TriggerEvent(Vars.Evt_Internal_ShowBigWin), XT.SetBool(Vars.WaitInResultForBigWin, !0)), this.setSkipTheNextBigWin && XT.SetBool(Vars.SkipNextBigWin, !0), this.playSoundsWhenAnimating && XT.SetInt(Vars.CurrentCoinCountTarget, CoinManager.ConvertMoneyToCoins(this.newValue)), this.playSoundsWhenAnimating && !this.isJackPot && (this.coinCounter.ComputeTargetBigWinLevel(this.delta, this.totalBet), XT.TriggerEvent(Vars.Evt_Internal_CoinCounterStart)), e = !1
    }
    e && (this.oldValue = this.newValue, this.currentValue = this.newValue, XT.SetDouble(this.vdVariable.GetAnimatedVarName(), this.newValue), this.isJackPot && t > 0 && !XT.GetBool(Vars.CanAnimateValues) && XT.TriggerEvent(Vars.Evt_Internal_JackpotCounterEnded)), this.Update()
}, ValueAnimatorWithBigWin.prototype.OnBigWinFinished = function () {
    this.currentState = WinAnimState.idle, XT.SetBool(Vars.WaitInResultForBigWin, !1)
}, ValueAnimatorWithBigWin.prototype.SendGASkipEvent = function () {
    var t = XT.GetInt(Vars.BigWinLevel);
    t > 0 && t < 6 && this.curTime < this.animationTime && this.reallyTriggersBigWin && GA_BW_SENDONESKIP && (globalTracking.SendEvent("uht_behaviour_BigWin", "SkippedTimeLevel_" + t.toString(), 0 | this.curTime, "BehaviourTracker"), GA_BW_SENDONESKIP = !1)
}, ValueAnimatorWithBigWin.prototype.OnFinalizeValue = function () {
    if (this.gameObject.activeInHierarchy && this.isAnimating) {
        if (this.isJackPot) return void(this.curTime > XT.GetFloat(Vars.MinimumJackpotBigWinDuration) && (this.curTime = this.animationTime, this.SendGASkipEvent(), this.Update()));
        XT.GetInt(Vars.BigWinLevel), this.curTime = this.animationTime, this.SendGASkipEvent(), this.Update()
    }
}, ValueAnimatorWithBigWin.prototype.UpdateAnimationLevel = function (t) {
    if (this.isJackPot) this.reallyTriggersBigWin && this.currentState != WinAnimState.jackpot && (this.currentState = WinAnimState.jackpot, XT.SetInt(Vars.BigWinLevel, WinAnimState.jackpot - 1), XT.TriggerEvent(Vars.Evt_Internal_ShowBigWin));
    else {
        var e = t / this.animationTime,
            i = this.oldValue + e * this.delta;
        if (this.coinCounter.GetCurentCoinCounterSettings().coinCounterType == CoinCounterType.IndividualBigWinSounds && this.coinCounter.GetTargetBigWinLevel() > 0) {
            if (0 == t && this.reallyTriggersBigWin) {
                var n = this.coinCounter.GetTargetBigWinLevel();
                XT.SetInt(Vars.BigWinLevel, n);
                var o = WinAnimState.level0 + n;
                this.currentState = o, XT.TriggerEvent(Vars.Evt_Internal_ShowBigWin)
            }
        } else {
            n = 0;
            for (n = 0; n < this.coinCounter.BigWinSteps.length && !(this.totalBet * this.coinCounter.BigWinSteps[n] > i); n++);
            o = WinAnimState.level0 + n;
            this.currentState != o && (this.currentState = o, n > 0 && this.reallyTriggersBigWin && this.animationTime != this.normalWinTime && (XT.SetInt(Vars.BigWinLevel, this.currentState - WinAnimState.level0), XT.TriggerEvent(Vars.Evt_Internal_ShowBigWin)))
        }
    }
    t == this.animationTime && (this.reallyTriggersBigWin ? this.currentState == WinAnimState.level0 ? (this.currentState = WinAnimState.idle, this.playSoundsWhenAnimating && !this.isJackPot && XT.TriggerEvent(Vars.Evt_Internal_CoinCounterStop)) : (this.currentState = WinAnimState.hidingBigWin, XT.TriggerEvent(Vars.Evt_Internal_ClearBigWin), this.playSoundsWhenAnimating && !this.isJackPot && XT.TriggerEvent(Vars.Evt_Internal_CoinCounterStop), this.isJackPot && XT.TriggerEvent(Vars.Evt_Internal_JackpotCounterEnded)) : this.currentState = WinAnimState.idle, this.vdVariable.variable.name != Vars.BalanceDisplayed ? (this.DecreaseVAWBWCounter(this.vdVariable.variable.name), 0 == XT.GetInt(Vars.VAWBWCounters) && (XT.SetBool(Vars.LastWinIsCounting, !1), UHTInterfaceBOSS.PostMessage("resultShown"))) : XT.SetBool(Vars.BalanceIsCounting, !1))
}, ValueAnimatorWithBigWin.prototype.CalculateAnimationTime = function (t) {
    if (null == this.coinCounter) return !0;
    if (this.isJackPot) return this.animationTime = 18, !1;
    this.animationTime = CoinManager.ConvertMoneyToCoins(t), this.normalWinTime = this.coinCounter.BigWinSteps[0] - 1;
    var e = CoinManager.ConvertMoneyToCoins(this.totalBet) / this.coinCounter.secondsToCountOneTotalBet;
    return this.coinCounter.GetTargetBigWinLevel() < 1 && this.coinCounter.forcedSmallWinCountDuration > 0 ? this.animationTime = this.coinCounter.forcedSmallWinCountDuration : this.animationTime /= e, this.normalWinTime /= e, !(!this.canBeSkippedByPreviousBigWin || !XT.GetBool(Vars.SkipNextBigWin)) && (this.animationTime = this.normalWinTime, !0)
}, ValueAnimatorWithBigWin.prototype.Update = function () {
    if (this.totalBet > 0 && CoinManager.IsInit() && this.isAnimating) {
        if (null != this.multiplierFX && this.multiplierFX.curFXIndex > -1) {
            var t = this.multiplierFX.startFXTime[this.multiplierFX.curFXIndex];
            this.curTime <= t && this.curTime + Time.deltaTime > t && this.multiplierFX.StartFX()
        }
        if (this.curTime > -.001) {
            var e = this.curTime / this.animationTime;
            this.currentValue = this.oldValue + e * this.delta, this.curTime < this.animationTime ? (XT.SetDouble(this.vdVariable.GetAnimatedVarName(), this.currentValue), this.UpdateAnimationLevel(this.curTime), this.curTime += Time.deltaTime) : (this.isAnimating = !1, this.curTime = -1, XT.SetDouble(this.vdVariable.GetAnimatedVarName(), this.newValue), this.UpdateAnimationLevel(this.animationTime), this.oldValue = this.newValue, "" != this.makeTrueWhenAnimating.name && XT.SetBool(this.makeTrueWhenAnimating.name, !1))
        } else this.curTime += Time.deltaTime
    }
}, ValueAnimatorWithBigWin.prototype.IncreaseVAWBWCounter = function (t) {
    ValueAnimatorWithBigWin.counterVars.indexOf(t) < 0 && (XT.SetInt(Vars.VAWBWCounters, XT.GetInt(Vars.VAWBWCounters) + 1), ValueAnimatorWithBigWin.counterVars.push(t))
}, ValueAnimatorWithBigWin.prototype.DecreaseVAWBWCounter = function (t) {
    var e = ValueAnimatorWithBigWin.counterVars.indexOf(t);
    e > -1 && (XT.SetInt(Vars.VAWBWCounters, XT.GetInt(Vars.VAWBWCounters) - 1), ValueAnimatorWithBigWin.counterVars.splice(e, 1))
}, goog.require("UHT.XTLink"), goog.require("UHT.AnimationCurve"), ValueAnimator.prototype = Object.create(XTLink.prototype), ValueAnimator.prototype.constructor = ValueAnimator, ValueAnimator.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackDouble(this.vdVariable.variable.name, this.OnTargetValueChanged, this)
}, ValueAnimator.prototype.XTInitVariablesAndEvents = function () {
    XT.SetDouble(this.vdVariable.GetAnimatedVarName(), 0)
}, ValueAnimator.prototype.OnDestroy = function () {
    XT.UnregisterCallbackDouble(this.OnTargetValueChanged, this)
}, ValueAnimator.prototype.OnTargetValueChanged = function (t) {
    this.newValue = t;
    var e = !0,
        i = 1e-4;
    this.curTime > -.001 && this.curTime < this.animationTime && (this.oldValue = this.currentValue), this.newValue > this.oldValue + i && this.animateWhenIncreasing ? (this.curTime = 0, this.delta = this.newValue - this.oldValue, this.curAnimCurve = this.animCurveIncreasing, e = !1) : this.newValue < this.oldValue - i && this.animateWhenDecreasing && (this.curTime = 0, this.delta = this.newValue - this.oldValue, this.curAnimCurve = this.animCurveDecreasing, e = !1), e && (this.oldValue = this.newValue, this.currentValue = this.newValue, XT.SetDouble(this.vdVariable.GetAnimatedVarName(), this.newValue))
}, ValueAnimator.prototype.Update = function () {
    if (this.curTime > -.001) {
        var t = this.curTime / this.animationTime;
        if (this.curAnimCurve.keys.length >= 2) {
            var e = this.curAnimCurve.keys[0],
                i = t * (this.curAnimCurve.keys[this.curAnimCurve.keys.length - 1].time - e.time);
            t = this.curAnimCurve.Evaluate(i)
        }
        this.currentValue = this.oldValue + t * this.delta, this.curTime < this.animationTime ? (this.curTime += Time.deltaTime, XT.SetDouble(this.vdVariable.GetAnimatedVarName(), this.currentValue)) : (this.curTime = -1, this.curAnimCurve = null, this.oldValue = this.newValue, XT.SetDouble(this.vdVariable.GetAnimatedVarName(), this.newValue))
    }
}, ValueAnimator.prototype.Stop = function () {
    this.curTime = -1, this.curAnimCurve = null, this.oldValue = this.newValue, XT.SetDouble(this.vdVariable.GetAnimatedVarName(), this.newValue)
}, goog.require("UHT.XTLink"), CoinsAndCashHint.prototype = Object.create(XTLink.prototype), CoinsAndCashHint.prototype.constructor = CoinsAndCashHint;
var CoinsAndCashHintVars = {
    Evt_DataToCode_HideCoinsAndCashHint: "Evt_DataToCode_HideCoinsAndCashHint"
};

function CoinsAndCashHint() {
    XTLink.call(this), this.catShowHint = null, this.catHideHint = null, this.canHideHint = !1
}

function AnchorToUILabel() {
    Component.call(this), this.targetLabel = null, this.updateSpriteSize = !1, this.extraSize = 0, this.keepAspectRatio = !1, this.snapToLabelsPosition = !1, this.labelPositionOffset = UHTMath.Vector3.zero, this.transformToChangeIfSnap = null, this.labelScale = null, this.curWidth = -1, this.updatePosition = !1
}

function ClickDelay() {
    Component.call(this), this.delay = 2, this.timer = 0
}

function ScreenAnchor() {
    Component.call(this), this.targetTransform = null, this.alsoScaleTheSprite = !1, this.anchorTop = !1, this.topOffset = 0, this.anchorBottom = !1, this.bottomOffset = 0, this.anchorLeft = !1, this.leftOffset = 0, this.anchorRight = !1, this.rightOffset = 0, this.scaleHorizontaly = !1, this.widthOffset = 0, this.scaleVerticaly = !1, this.heightOffset = 0, this.callWhenChanged = null, this.limitByGameAnchors = !1, this.lastScreenWidth = 0, this.lastScreenHeight = 0, this.updateIsNeeded = !1, this.cachedLayer = -1, this.cachedCamera = null, this.cameraPos = null
}

function ButtonOpenClose() {
    this.opened = null, this.closed = null
}

function MenuWindowControllerMobile() {
    XTLink.call(this), this.content = null, this.menuButtons = [], this.fastPlayEnabled = null, this.fastPlayDisabled = null, this.batterySaverEnabled = null, this.batterySaverDisabled = null
}

function BetsControllerMobile() {
    XTLink.call(this), this.windowShow = null, this.windowHide = null, this.increaseBetButton = null, this.decreaseBetButton = null, this.increaseBetButtonCash = null, this.decreaseBetButtonCash = null, this.increaseCoinValueButton = null, this.decreaseCoinValueButton = null, this.increaseBetAndCoinValueButtons = null, this.decreaseBetAndCoinValueButtons = null, this.cashContent = null, this.coinsContent = null
}

function FSMultiplierToggle() {
    Component.call(this), this.hideWhenMultiplierIs1 = !1, this.hideWhenMultiplierIsNot1 = !1, this.changeLocalPositions = !1, this.newLocalPosWhenMultiplierIs1 = null, this.newLocalPosWhenMultiplierIsNot1 = null
}

function ToggleOnHideWin() {
    Component.call(this), this.visibleOnHideWin = !1
}

function GUIMessageBase() {
    XTLink.call(this), this.label = null, this.messages = null
}

function WinLineDesc() {
    this.text = "", this.prefixText = null, this.atlases = [], this.spriteNames = [], this.depths = [], this.spacing = 0, this.spacingExtraLabel = 0, this.thumbnailSize = 0
}

function WinLinesInformationDisplayer() {
    Component.call(this), this.symbolSprites = [], this.showLineEvent = null, this.hideLineEvent = null, this.noOfThumbnailsLabel = null, this.targetLabel = null, this.widthLabel = null, this.parent = null, this.targetPosLeft = null, this.targetPosCentered = null, this.isCentered = !1, this.oldWidth = -1, this.spriteWidth = -1, this.currentWLDesc = null
}

function SymbolThumbnailDesc() {
    this.id = -1, this.atlas = null, this.sprite = "", this.depth = 0
}

function GUIMessageZoneSettings() {
    ArrangeableBase.call(this), this.thumbnails = [], this.spacing = 33, this.spacingMobile_landscape = 33, this.spacingMobile_portrait = 85, this.spacingExtraLabel = 5, this.spacingExtraLabelMobile_landscape = 5, this.spacingExtraLabelMobile_portrait = 5, this.thumbnailSize = 28, this.thumbnailSizeMobile_landscape = 32, this.thumbnailSizeMobile_portrait = 80, this.miniResize = .4, this.portraitOrientation = !1
}
CoinsAndCashHint.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this), XT.RegisterCallbackEvent(CoinsAndCashHintVars.Evt_DataToCode_HideCoinsAndCashHint, this.HideHintIfVisible, this)
}, CoinsAndCashHint.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(InterfaceVars.ShowCoinsAndCashHint, !ServerOptions.isReplay)
}, CoinsAndCashHint.prototype.UnregisterCallbacks = function () {
    XT.UnregisterCallbackBool(this.OnHasCoinsChanged, this)
}, CoinsAndCashHint.prototype.OnGUIInit = function () {
    XT.GetBool(InterfaceVars.ShowCoinsAndCashHint) && XT.GetBool(Vars.FromServer_AllowCoins) && XT.RegisterCallbackEvent(Vars.Evt_CodeToData_IntroClosedOrSkipped, this.ShowHint, this)
}, CoinsAndCashHint.prototype.OnHasCoinsChanged = function (t) {
    this.canHideHint && this.HideHint()
}, CoinsAndCashHint.prototype.ShowHint = function () {
    XT.RegisterCallbackBool(Vars.HasCoins, this.OnHasCoinsChanged, this), this.canHideHint = !0, this.StopRunningEvents(), this.catShowHint.Start(), XT.SetBool(InterfaceVars.ShowCoinsAndCashHint, !1), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)
}, CoinsAndCashHint.prototype.HideHint = function () {
    this.canHideHint = !1, this.StopRunningEvents(), this.catHideHint.Start()
}, CoinsAndCashHint.prototype.HideHintForever = function () {
    this.OnHasCoinsChanged(!0)
}, CoinsAndCashHint.prototype.StopRunningEvents = function () {
    this.catShowHint.IsRunning() && this.catShowHint.Stop(), this.catHideHint.IsRunning() && this.catHideHint.Stop()
}, CoinsAndCashHint.prototype.HideHintIfVisible = function () {
    this.canHideHint && this.HideHint()
}, goog.require("UHT.Engine"), AnchorToUILabel.prototype = Object.create(Component.prototype), AnchorToUILabel.prototype.constructor = AnchorToUILabel, AnchorToUILabel.prototype.scriptUpdatePriority = 9, AnchorToUILabel.prototype.OnEnable = function () {
    this.updatePosition = this.snapToLabelsPosition
}, AnchorToUILabel.prototype.Update = function () {
    var t = this.targetLabel.GetWidth();
    if (null != this.labelScale && (t = Math.round(t * this.labelScale.localScale().x)), t != this.curWidth && this.updateSpriteSize) {
        this.curWidth = t;
        var e = this.GetComponent(UISprite),
            i = e.width;
        e.width = t + this.extraSize, this.keepAspectRatio && (e.height = e.height * (e.width / i) | 0), e.SetSpriteName(e.spriteName)
    }
    if (this.snapToLabelsPosition && (this.updatePosition || 0 == this.transformToChangeIfSnap.position().equals(this.targetLabel.transform.position()))) {
        this.updatePosition = !1;
        var n = this.targetLabel.transform.transformPoint(new UHTMath.Vector3(this.targetLabel.GetWidth() * this.labelPositionOffset.x, this.targetLabel.GetHeight() * this.labelPositionOffset.y, 0));
        this.transformToChangeIfSnap.position(new UHTMath.Vector3(n.x, n.y, this.transformToChangeIfSnap.position().z))
    }
}, goog.require("UHT.Engine"), ClickDelay.prototype = Object.create(Component.prototype), ClickDelay.prototype.constructor = ClickDelay, ClickDelay.prototype.OnEnable = function () {
    this.timer = 0
}, ClickDelay.prototype.Update = function () {
    this.timer += Time.deltaTime
}, ClickDelay.prototype.CanClick = function () {
    return this.timer > this.delay
}, goog.require("UHT.Engine"), ScreenAnchor.prototype = Object.create(Component.prototype), ScreenAnchor.prototype.constructor = ScreenAnchor, ScreenAnchor.prototype.Update = function () {
    var t = this.GetMyCamera();
    if (this.lastScreenWidth != UHTScreen.width || this.lastScreenHeight != UHTScreen.height || this.IsCameraPositionChanged(t)) return this.lastScreenWidth = UHTScreen.width, this.lastScreenHeight = UHTScreen.height, void(this.updateIsNeeded = !0);
    if (this.updateIsNeeded && null != t) {
        this.updateIsNeeded = !1;
        var e = new UHTMath.Vector3(0, 0, 0);
        this.anchorBottom && (e.y = this.lastScreenHeight), this.anchorRight && (e.x = this.lastScreenWidth);
        var i = t.ScreenToWorldPoint(e),
            n = this.targetTransform.position();
        if (this.limitByGameAnchors) {
            var o = XT.GetObject(InterfaceVars.GameAnchors),
                s = o.upLeft.position(),
                a = o.downRight.position(),
                r = this.anchorLeft || this.anchorRight ? i.x : n.x,
                l = this.anchorTop || this.anchorBottom ? i.y : n.y;
            this.anchorLeft && r < s.x && (r = s.x), this.anchorRight && r > a.x && (r = a.x), this.anchorTop && l > s.y && (l = s.y), this.anchorBottom && l < a.y && (l = a.y), i = new UHTMath.Vector3(r, l, 0)
        }
        this.targetTransform.position(this.anchorLeft || this.anchorRight ? i.x : n.x, this.anchorTop || this.anchorBottom ? i.y : n.y, n.z);
        var u = new UHTMath.Vector3(0, 0, 0);
        if (this.anchorTop ? u.y = -this.topOffset : this.anchorBottom && (u.y = this.bottomOffset), this.anchorLeft ? u.x = this.leftOffset : this.anchorRight && (u.x = -this.rightOffset), this.targetTransform.localPosition(this.targetTransform.localPosition().x + u.x, this.targetTransform.localPosition().y + u.y, this.targetTransform.localPosition().z), this.alsoScaleTheSprite) {
            var h = Component.FindObjectOfType(ArrangeableUIRoot).gameObject.GetComponent(UIRoot),
                c = h.manualWidth / h.manualHeight,
                p = 1;
            p = this.lastScreenWidth / this.lastScreenHeight < c ? this.lastScreenWidth / h.manualWidth : this.lastScreenHeight / h.manualHeight;
            var d = this.targetTransform.GetComponent(UISprite);
            if (this.scaleHorizontaly) {
                var m = this.lastScreenWidth / p;
                m *= h.gameObject.transform._internal_get_scale().x / d.gameObject.transform._internal_get_scale().x, d.width = _number.otoi(m + this.widthOffset)
            }
            if (this.scaleVerticaly) {
                var S = this.lastScreenHeight / p;
                S *= h.gameObject.transform._internal_get_scale().y / d.gameObject.transform._internal_get_scale().y, d.height = _number.otoi(S + this.heightOffset)
            }
        }
        null != this.callWhenChanged && this.callWhenChanged.Start()
    }
}, ScreenAnchor.prototype.GetMyCamera = function () {
    var t = this.targetTransform.gameObject;
    return this.cachedLayer == t.layer && null != this.cachedCamera || (this.cachedLayer = t.layer, this.cachedCamera = Globals.GetCameraForObject(t)), this.cachedCamera
}, ScreenAnchor.prototype.IsCameraPositionChanged = function (t) {
    if (null == t) return !1;
    var e = t.transform.position(),
        i = null == this.cameraPos || !this.cameraPos.equals(e);
    return i && (this.cameraPos = e), i
}, goog.provide("UHT.InterfaceUtils"), goog.require("UHT.XTLink"), MenuWindowControllerMobile.prototype = Object.create(XTLink.prototype), MenuWindowControllerMobile.prototype.constructor = MenuWindowControllerMobile, MenuWindowControllerMobile.prototype.ShowMenuWindow = function (t) {
    this.content.SetActive(!0), this.ToggleMenuButtons(t), this.UpdateButtons(), XT.TriggerEvent(Vars.Evt_CodeToData_SettingsWindowOpened)
}, MenuWindowControllerMobile.prototype.HideMenuWindow = function () {
    this.content.SetActive(!1), XT.TriggerEvent(Vars.Evt_CodeToData_SettingsWindowClosed)
}, MenuWindowControllerMobile.prototype.ToggleMenuButtons = function (t) {
    for (var e = 0; e < this.menuButtons.length; e++) {
        var i = this.menuButtons[e].GetComponentInChildren(ButtonEnabler);
        null != i && (t ? i.EnableButton() : i.DisableButton())
    }
}, MenuWindowControllerMobile.prototype.ToggleFastPlay = function () {
    XT.SetBool(Vars.FastPlay, !XT.GetBool(Vars.FastPlay)), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer), this.UpdateButtons()
}, MenuWindowControllerMobile.prototype.ToggleBatterySaver = function () {
    XT.SetBool(Vars.BatterySaver, !XT.GetBool(Vars.BatterySaver)), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer), this.UpdateButtons()
}, MenuWindowControllerMobile.prototype.UpdateButtons = function () {
    var t = XT.GetBool(Vars.FastPlay);
    this.fastPlayEnabled.SetActive(t), this.fastPlayDisabled.SetActive(!t);
    var e = XT.GetBool(Vars.BatterySaver);
    this.batterySaverEnabled.SetActive(e), this.batterySaverDisabled.SetActive(!e)
}, goog.require("UHT.XTLink"), BetsControllerMobile.prototype = Object.create(XTLink.prototype), BetsControllerMobile.prototype.constructor = BetsControllerMobile, BetsControllerMobile.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.MinBetReached, this.OnBetStateUpdated, this), XT.RegisterCallbackBool(Vars.MaxBetReached, this.OnBetStateUpdated, this), XT.RegisterCallbackBool(Vars.MinCoinValueReached, this.OnBetStateUpdated, this), XT.RegisterCallbackBool(Vars.MaxCoinValueReached, this.OnBetStateUpdated, this), XT.RegisterCallbackBool(Vars.MinBetAndCoinValueReached, this.OnBetStateUpdated, this), XT.RegisterCallbackBool(Vars.MaxBetAndCoinValueReached, this.OnBetStateUpdated, this), XT.RegisterCallbackBool(Vars.FromServer_AllowCoins, this.OnAllowCoinsChanged, this)
}, BetsControllerMobile.prototype.OnDestroy = function () {
    XT.UnregisterCallbackBool(this.OnBetStateUpdated, this), XT.UnregisterCallbackBool(this.OnAllowCoinsChanged, this)
}, BetsControllerMobile.prototype.ShowBetsWindow = function () {
    null != this.windowShow && null != this.windowShow.cat && this.windowShow.Start()
}, BetsControllerMobile.prototype.HideBetsWindow = function () {
    null != this.windowHide && null != this.windowHide.cat && this.windowHide.Start()
}, BetsControllerMobile.prototype.UpdateBetButtons = function (t) {
    this.UpdateBetIncDecButtons(t)
}, BetsControllerMobile.prototype.OnBetStateUpdated = function (t) {
    this.UpdateBetIncDecButtons(!0)
}, BetsControllerMobile.prototype.UpdateBetIncDecButtons = function (t) {
    if (t) {
        if (XT.GetBool(Vars.MinBetReached) ? (this.decreaseBetButton.DisableButton(), this.decreaseBetButtonCash.DisableButton()) : (this.decreaseBetButton.EnableButton(), this.decreaseBetButtonCash.EnableButton()), XT.GetBool(Vars.MaxBetReached) ? (this.increaseBetButton.DisableButton(), this.increaseBetButtonCash.DisableButton()) : (this.increaseBetButton.EnableButton(), this.increaseBetButtonCash.EnableButton()), XT.GetBool(Vars.MinCoinValueReached) ? this.decreaseCoinValueButton.DisableButton() : this.decreaseCoinValueButton.EnableButton(), XT.GetBool(Vars.MaxCoinValueReached) ? this.increaseCoinValueButton.DisableButton() : this.increaseCoinValueButton.EnableButton(), XT.GetBool(Vars.MinBetAndCoinValueReached))
            for (var e = 0; e < this.decreaseBetAndCoinValueButtons.length; ++e) this.decreaseBetAndCoinValueButtons[e].DisableButton();
        else
            for (e = 0; e < this.decreaseBetAndCoinValueButtons.length; ++e) this.decreaseBetAndCoinValueButtons[e].EnableButton();
        if (XT.GetBool(Vars.MaxBetAndCoinValueReached))
            for (e = 0; e < this.increaseBetAndCoinValueButtons.length; ++e) this.increaseBetAndCoinValueButtons[e].DisableButton();
        else
            for (e = 0; e < this.increaseBetAndCoinValueButtons.length; ++e) this.increaseBetAndCoinValueButtons[e].EnableButton()
    } else {
        this.decreaseBetButton.DisableButton(), this.increaseBetButton.DisableButton(), this.decreaseBetButtonCash.DisableButton(), this.increaseBetButtonCash.DisableButton(), this.decreaseCoinValueButton.DisableButton(), this.increaseCoinValueButton.DisableButton();
        for (e = 0; e < this.decreaseBetAndCoinValueButtons.length; ++e) this.decreaseBetAndCoinValueButtons[e].DisableButton();
        for (e = 0; e < this.increaseBetAndCoinValueButtons.length; ++e) this.increaseBetAndCoinValueButtons[e].DisableButton()
    }
}, BetsControllerMobile.prototype.OnAllowCoinsChanged = function (t) {
    this.coinsContent.SetActive(t), this.cashContent.SetActive(!t)
}, goog.require("UHT.Engine"), FSMultiplierToggle.prototype = Object.create(Component.prototype), FSMultiplierToggle.prototype.constructor = FSMultiplierToggle, FSMultiplierToggle.prototype.FSMultiplierChanged = function (t) {
    var e = !(this.hideWhenMultiplierIs1 && 1 == t || this.hideWhenMultiplierIsNot1 && 1 != t);
    this.gameObject.SetActive(e), this.changeLocalPositions && (1 == t ? this.transform.localPosition(this.newLocalPosWhenMultiplierIs1) : this.transform.localPosition(this.newLocalPosWhenMultiplierIsNot1))
}, goog.require("UHT.Engine"), ToggleOnHideWin.prototype = Object.create(Component.prototype), ToggleOnHideWin.prototype.constructor = ToggleOnHideWin, ToggleOnHideWin.prototype.WinIsHidden = function () {
    this.gameObject.SetActive(this.visibleOnHideWin)
}, goog.provide("UHT.GUIMessageBase"), goog.require("UHT.Engine"), goog.require("UHT.XTLink"), GUIMessageBase.prototype = Object.create(XTLink.prototype), GUIMessageBase.prototype.constructor = GUIMessageBase, GUIMessageBase.prototype.Init = function (t) {
    this.messages = t
}, GUIMessageBase.prototype.Show = function () {
    if (null != this.messages && this.messages.length > 0) {
        var t = Random.Range(0, this.messages.length);
        this.label.text = this.messages[t]
    }
    this.gameObject.SetActive(!0)
}, GUIMessageBase.prototype.Hide = function () {
    this.gameObject.SetActive(!1)
}, goog.require("UHT.Engine"), WinLinesInformationDisplayer.prototype = Object.create(Component.prototype), WinLinesInformationDisplayer.prototype.constructor = WinLinesInformationDisplayer, WinLinesInformationDisplayer.prototype.scriptUpdatePriority = 7, WinLinesInformationDisplayer.prototype.ShowWinLine = function (t, e) {
    this.currentWLDesc = t, this.targetLabel.InternalSetText(t.text, !0), this.spriteWidth = 0, this.isCentered = e;
    for (var i = new UHTMath.Vector3(0, 0, 0), n = 0, o = !1, s = 0; s < this.symbolSprites.length; s++) n < t.spriteNames.length ? (null != t.prefixText && (o = !0, this.noOfThumbnailsLabel.text = t.prefixText, this.noOfThumbnailsLabel.transform.localPosition(i), i.x += t.spacingExtraLabel, this.spriteWidth += t.spacingExtraLabel), this.symbolSprites[s].width = t.thumbnailSize, this.symbolSprites[s].height = t.thumbnailSize, this.symbolSprites[s].atlas = t.atlases[n], this.symbolSprites[s].SetSpriteName(t.spriteNames[n]), this.symbolSprites[s].depth = s + t.depths[n] * this.symbolSprites.length, this.symbolSprites[s].gameObject.SetActive(!0), this.symbolSprites[s].gameObject.transform.localPosition(i), i.x += t.spacing, this.spriteWidth += t.spacing, null != t.prefixText && (n += t.spriteNames.length)) : this.symbolSprites[s].gameObject.SetActive(!1), n++;
    this.noOfThumbnailsLabel.gameObject.SetActive(o), i.x += t.spacingExtraLabel, this.spriteWidth += t.spacingExtraLabel, this.targetLabel.transform.localPosition(i), this.oldWidth = -1, this.parent.localPosition(this.targetPosLeft.localPosition()), this.showLineEvent.Start()
}, WinLinesInformationDisplayer.prototype.HideWinLine = function () {
    this.hideLineEvent.Start()
}, WinLinesInformationDisplayer.prototype.MakeSpaceForNoOfThumbsLabel = function () {
    if (null != this.currentWLDesc) {
        var t = new UHTMath.Vector3(0, 0, 0);
        t.x += this.noOfThumbnailsLabel.GetWidth(), t.x += this.currentWLDesc.spacingExtraLabel, this.symbolSprites[0].transform.localPosition(t), t.x += this.currentWLDesc.spacing, t.x += this.currentWLDesc.spacingExtraLabel, this.targetLabel.transform.localPosition(t)
    }
}, WinLinesInformationDisplayer.prototype.Update = function () {
    if (this.isCentered) {
        var t = this.spriteWidth + this.targetLabel.GetWidth();
        if (this.noOfThumbnailsLabel.gameObject.activeSelf && (t += this.noOfThumbnailsLabel.GetWidth()), this.oldWidth != t) {
            this.noOfThumbnailsLabel.gameObject.activeSelf && this.MakeSpaceForNoOfThumbsLabel(), this.oldWidth = t;
            var e = this.targetPosCentered.localPosition();
            this.parent.localPosition(e.x - t / 2, e.y, e.z), null != this.widthLabel && this.widthLabel.SetWidth(_number.otoi(t))
        }
    }
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink"), GUIMessageZoneSettings.prototype = Object.create(ArrangeableBase.prototype), GUIMessageZoneSettings.prototype.constructor = GUIMessageZoneSettings, GUIMessageZoneSettings.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(InterfaceVars.GUIMessageZoneSettings, this)
}, GUIMessageZoneSettings.prototype.GetSpacing = function () {
    return XT.GetBool(InterfaceVars.IsMobileGUI) ? this.portraitOrientation ? this.spacingMobile_portrait : this.spacingMobile_landscape / (Globals.isMini ? this.miniResize : 1) : this.spacing
}, GUIMessageZoneSettings.prototype.GetSpacingExtraLabel = function () {
    return XT.GetBool(InterfaceVars.IsMobileGUI) ? this.portraitOrientation ? this.spacingExtraLabelMobile_portrait : this.spacingExtraLabelMobile_landscape / (Globals.isMini ? this.miniResize : 1) : this.spacingExtraLabel
}, GUIMessageZoneSettings.prototype.GetThumbnailSize = function () {
    return XT.GetBool(InterfaceVars.IsMobileGUI) ? this.portraitOrientation ? this.thumbnailSizeMobile_portrait : Math.floor(this.thumbnailSizeMobile_landscape / (Globals.isMini ? this.miniResize : 1)) : this.thumbnailSize
}, GUIMessageZoneSettings.prototype.OnSwitchToPortrait = function () {
    this.portraitOrientation = !0
}, GUIMessageZoneSettings.prototype.OnSwitchToLandscape = function () {
    this.portraitOrientation = !1
}, GUIMessageZoneSettings.prototype.GetThumbnail = function (t) {
    for (var e = 0; e < this.thumbnails.length; ++e)
        if (this.thumbnails[e].id == t) return this.thumbnails[e];
    return null
}, goog.require("UHT.Engine"), goog.require("UHT.GUIMessageBase");
var GUIMessageResultWinVars = {
        GUIMessageResultWin_ForceGamePaysMessage: "GUIMessageResultWin_ForceGamePaysMessage",
        GUIMessageResultWin_ShouldForceGamePaysValue: "GUIMessageResultWin_ShouldForceGamePaysValue",
        GUIMessageResultWin_ForcedGamePaysValue: "GUIMessageResultWin_ForcedGamePaysValue"
    },
    CustomMessageShowRule = {
        Always: 0,
        Once: 1
    };

function GUIMessageResultWin() {
    GUIMessageBase.call(this), this.labelCentered = null, this.labelCustom = null, this.winLineDisplayer = null, this.currentTotalWin = null, this.localized_GamePays = null, this.localized_WinTeasers = null, this.localized_Pays = null, this.localized_Line = null, this.localized_On = null, this.localized_Ways = null, this.localized_WordsOrder = null, this.label_FSWon = null, this.label_BonusWon = null, this.forceWinLineHasCoins = !1, this.forceWinLineHasCash = !1, this.catShowAllLines = null, this.catHideAllLines = null, this.orderedJPText = ["MINI JACKPOT", "MINOR JACKPOT", "MAJOR JACKPOT", "GRAND JACKPOT"], this.singleJPText = "JACKPOT", this.curWinDesc = [], this.settings = null, this.receivedWinLines = null, this.isBonusWon = !1, this.isFSWon = !1, this.isCentered = !1, this.formatOptions = null, this.payingSymbolsDesc = [], this.jackpotText = "", this.gamePaysText = "", this.canShowGamePaysAsWinTeaser = !1, this.allLinesShownCounter = 0
}

function CoinsAndCashDisplayer() {
    Component.call(this), this.cashGameObjects = null, this.hiddenWhenCashIsVisible = null, this.coinsGameObjects = null, this.hiddenWhenCoinsAreVisible = null
}
GUIMessageResultWin.prototype = Object.create(GUIMessageBase.prototype), GUIMessageResultWin.prototype.constructor = GUIMessageResultWin, GUIMessageResultWin.prototype.XTRegisterCallbacks = function () {}, GUIMessageResultWin.prototype.XTInitVariablesAndEvents = function () {
    XT.SetInt(InterfaceVars.ExtraWinMultiplier, 1), XT.SetBool(GUIMessageResultWinVars.GUIMessageResultWin_ForceGamePaysMessage, !1), XT.SetBool(GUIMessageResultWinVars.GUIMessageResultWin_ShouldForceGamePaysValue, !1), XT.SetDouble(GUIMessageResultWinVars.GUIMessageResultWin_ForcedGamePaysValue, 0), XT.SetBool(InterfaceVars.ShowInterfaceThumbnailsCount, !1), XT.SetObject(InterfaceVars.CustomMessage, null), XT.SetObject(InterfaceVars.AllLinesMessageCustom, null), XT.SetInt(InterfaceVars.AllLinesMessageCustomRule, CustomMessageShowRule.Once)
}, GUIMessageResultWin.prototype.OnDestroy = function () {}, GUIMessageResultWin.prototype.OnDisable = function () {
    this.Hide()
}, GUIMessageResultWin.prototype.SetSpecialFlags = function (t, e) {
    this.isBonusWon = t, this.isFSWon = e, this.isCentered = !this.isBonusWon && !this.isFSWon
}, GUIMessageResultWin.prototype.Show = function () {
    this.Hide(), XT.RegisterCallbackEvent(InterfaceVars.ShowCustomMessage, this.OnShowCustomMessage, this), XT.RegisterCallbackEvent(InterfaceVars.HideCustomMessage, this.OnHideCustomMessage, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StartDisplayWinLine, this.OnWinLineShow, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StopDisplayWinLine, this.OnWinLineHide, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowAllLinesWin, this.OnAllLinesShow, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_HideAllLinesWin, this.OnAllLinesHide, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowJackpotWin, this.OnJackpotShow, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_HideJackpotWin, this.OnAllLinesHide, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowScattersWin, this.OnScattersWinShow, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_HideScattersWin, this.OnWinLineHide, this), XT.RegisterCallbackEvent(PayingSymbolVars.Evt_Internal_ShowPayingSymbol, this.OnPayingSymbolShow, this), XT.RegisterCallbackEvent(PayingSymbolVars.Evt_Internal_HidePayingSymbol, this.OnWinLineHide, this), this.gameObject.SetActive(!0), this.settings = XT.GetObject(InterfaceVars.GUIMessageZoneSettings), this.Prepare(), this.isBonusWon ? this.label_BonusWon.gameObject.SetActive(!0) : this.isFSWon && this.label_FSWon.gameObject.SetActive(!0)
}, GUIMessageResultWin.prototype.Hide = function () {
    XT.UnregisterCallbackEvent(this.OnShowCustomMessage, this, InterfaceVars.ShowCustomMessage), XT.UnregisterCallbackEvent(this.OnHideCustomMessage, this, InterfaceVars.HideCustomMessage), XT.UnregisterCallbackEvent(this.OnWinLineShow, this), XT.UnregisterCallbackEvent(this.OnWinLineHide, this), XT.UnregisterCallbackEvent(this.OnAllLinesShow, this), XT.UnregisterCallbackEvent(this.OnAllLinesHide, this), XT.UnregisterCallbackEvent(this.OnJackpotShow, this), XT.UnregisterCallbackEvent(this.OnScattersWinShow, this), XT.UnregisterCallbackEvent(this.OnPayingSymbolShow, this), this.label_BonusWon.gameObject.SetActive(!1), this.label_FSWon.gameObject.SetActive(!1), this.winLineDisplayer.HideWinLine(), this.label.gameObject.SetActive(!1), this.labelCentered.gameObject.SetActive(!1), this.labelCustom.gameObject.SetActive(!1), this.gameObject.SetActive(!1), this.allLinesShownCounter = 0
}, GUIMessageResultWin.prototype.Prepare = function () {
    var t = XT.GetObject(Vars.ResultScreenSymbols),
        e = t.length,
        i = t[0].length;
    this.curWinDesc.splice(0), this.receivedWinLines = XT.GetObject(Vars.ReceivedWinLines);
    for (var n = 0; n < this.receivedWinLines.length; n++) {
        var o = this.receivedWinLines[n];
        o.isWinWaysGroup ? (a = this.ComputeWinGroupDesc(o.symbolId, o.waysLength, o.WinPositions)).text = this.ComputeWinGroupText(o.WinAmount, !1, o.Multiplier, o.waysCount) : (a = this.ComputeWinLineDesc(t, e, i, o.WinPositions)).text = this.ComputeWinLineText(o.WinAmount, !1, o.Multiplier, o.LineNumber), this.curWinDesc.push(a)
    }
    this.payingSymbolsDesc.splice(0);
    var s = XT.GetObject(PayingSymbolVars.PayingSymbols);
    for (n = 0; n < s.length; ++n) {
        var a, r = s[n],
            l = XT.GetBool(InterfaceVars.PayingSymbolsDisplayServerID) ? r.id : -1;
        (a = this.ComputeWinLineDesc(t, e, i, r.positions, l)).text = this.ComputeWinLineText(r.amount, !0, 1, -1), this.payingSymbolsDesc.push(a)
    }
    this.gamePaysText = "";
    var u = VSGameStateManager.GetState() == VSGameState.ResultFreeSpins ? XT.GetDouble(Vars.FreeSpinsLastWinDisplayed) : XT.GetDouble(Vars.WinDisplayed);
    if (XT.GetBool(GUIMessageResultWinVars.GUIMessageResultWin_ShouldForceGamePaysValue) && (u = XT.GetDouble(GUIMessageResultWinVars.GUIMessageResultWin_ForcedGamePaysValue)), this.canShowGamePaysAsWinTeaser = u != XT.GetDouble(Vars.SpinCycleWinDisplayed), u > 1e-4 && (this.gamePaysText = this.ComputeText(u, null, this.localized_GamePays.text, !1)), this.jackpotText = "", ResultDisplayer.isJackpotWin) {
        var h, c = XT.GetObject(Vars.FromServer_LastValidJackpotsInformation);
        h = null == c || 1 == c.length && "S" == c[0].JackpotGroupType ? this.singleJPText : this.orderedJPText[XT.GetInt(Vars.FromServer_JackpotWonOrder)], this.jackpotText = this.ComputeText(XT.GetDouble(Vars.FromServer_JackpotAmountWon), null, h, !0)
    }
    this.winLineDisplayer.targetLabel.fontName = this.localized_Pays.fontName, this.winLineDisplayer.targetLabel.fontNameExpectedFromCallback = this.winLineDisplayer.targetLabel.fontName
}, GUIMessageResultWin.prototype.ComputeWinGroupDesc = function (t, e, i) {
    var n = new WinLineDesc;
    n.spacing = this.settings.GetSpacing(), n.spacingExtraLabel = this.settings.GetSpacingExtraLabel(), n.thumbnailSize = this.settings.GetThumbnailSize();
    var o = this.settings.GetThumbnail(t);
    if (null != o)
        for (var s = 0; s < e; s++)
            if (n.atlases.push(o.atlas), n.spriteNames.push(o.sprite), n.depths.push(o.depth), XT.GetBool(InterfaceVars.ShowInterfaceThumbnailsCount) || e > this.winLineDisplayer.symbolSprites.length) {
                n.prefixText = i.length + "X";
                break
            } return n
}, GUIMessageResultWin.prototype.ComputeWinLineDesc = function (t, e, i, n, o) {
    null == o && (o = -1);
    var s = new WinLineDesc;
    s.spacing = this.settings.GetSpacing(), s.spacingExtraLabel = this.settings.GetSpacingExtraLabel(), s.thumbnailSize = this.settings.GetThumbnailSize();
    for (var a = 0; a < n.length; a++) {
        var r = n[a],
            l = o >= 0 ? o : t[r % e][i - 1 - (r / e | 0)],
            u = this.settings.GetThumbnail(l);
        if (null != u) {
            var h = u.sprite + (XT.GetBool(Vars.HasReelAwareSymbolContent) ? "_" + r % e : "");
            if (XT.GetBool(InterfaceVars.ShowInterfaceThumbnailsCount)) {
                if (2 != l || a + 1 == n.length) {
                    s.prefixText = n.length + "X", s.atlases.push(u.atlas), s.spriteNames.push(h), s.depths.push(u.depth);
                    break
                }
            } else s.atlases.push(u.atlas), s.spriteNames.push(h), s.depths.push(u.depth)
        }
    }
    return s
}, GUIMessageResultWin.prototype.ComputeWinLineText = function (t, e, i, n) {
    var o = XT.GetDouble(Vars.CurrentWinMultiplier),
        s = [];
    s.push(i), s.push(o), s.push(XT.GetInt(InterfaceVars.ExtraWinMultiplier));
    var a = null;
    return n > -1 && (0 == XT.GetBool(Vars.GameHasWaysInsteadOfLines) || XT.GetBool(Vars.GameHasLinesWithBetMultiplier)) && (a = this.localized_Line.text + " " + (n + 1)), this.ComputeText(e ? t : t * o, s, a, !0)
}, GUIMessageResultWin.prototype.ComputeWinGroupText = function (t, e, i, n) {
    var o = XT.GetDouble(Vars.CurrentWinMultiplier),
        s = [];
    s.push(i), s.push(o), s.push(XT.GetInt(InterfaceVars.ExtraWinMultiplier));
    var a = this.localized_WordsOrder.text,
        r = this.ComputeText(e ? t : t * o, s, null, !1);
    return a = (a = a.replace("<PAYS>", this.localized_Pays.text)).replace("<$6>", r), n > 1 && (a = (a = (a = a.replace("<ON>", this.localized_On.text)).replace("<#9>", n.toString())).replace("<WAYS>", this.localized_Ways.text)), a
}, GUIMessageResultWin.prototype.WinLineHasCoins = function () {
    return !this.forceWinLineHasCash && (!!this.forceWinLineHasCoins || XT.GetBool(Vars.HasCoins))
}, GUIMessageResultWin.prototype.OnWinLineShow = function () {
    var t = XT.GetInt(Vars.CurrentDisplayedWinLineIndex);
    this.winLineDisplayer.ShowWinLine(this.curWinDesc[t], this.isCentered), this.label.gameObject.SetActive(!1), this.labelCentered.gameObject.SetActive(!1), this.labelCustom.gameObject.SetActive(!1)
}, GUIMessageResultWin.prototype.OnWinLineHide = function () {
    this.winLineDisplayer.HideWinLine()
}, GUIMessageResultWin.prototype.OnAllLinesHide = function () {
    this.OnWinLineHide(), this.HideLabel(), null != this.catHideAllLines && this.catHideAllLines.Start()
}, GUIMessageResultWin.prototype.OnShowCustomMessage = function () {
    this.ShowCustomLabel(XT.GetObject(InterfaceVars.CustomMessage))
}, GUIMessageResultWin.prototype.OnHideCustomMessage = function () {
    this.labelCustom.gameObject.SetActive(!1)
}, GUIMessageResultWin.prototype.ShowCustomLabel = function (t) {
    null != t && (this.labelCustom.SetColor(t.color), ModificationsManager.CopyFromLabelToLabel(t, this.labelCustom, !0, !0), this.labelCustom.gameObject.SetActive(!0))
}, GUIMessageResultWin.prototype.OnAllLinesShow = function () {
    var t = XT.GetBool(GUIMessageResultWinVars.GUIMessageResultWin_ForceGamePaysMessage),
        e = XT.GetObject(InterfaceVars.AllLinesMessageCustom),
        i = !1;
    if (null != e) switch (XT.GetInt(InterfaceVars.AllLinesMessageCustomRule)) {
        case CustomMessageShowRule.Always:
            i = !0;
            break;
        case CustomMessageShowRule.Once:
            i = this.allLinesShownCounter < 1;
            break
    }
    if (this.allLinesShownCounter++, i) this.ShowCustomLabel(e), null != this.catShowAllLines && this.catShowAllLines.Start();
    else if (1 != this.receivedWinLines.length || ResultDisplayer.isJackpotWin || XT.GetBool(InterfaceVars.ShowGamePaysAsWinTeaser) || t || XT.GetBool(InterfaceVars.ShowExplicitResult)) {
        var n;
        if (this.winLineDisplayer.HideWinLine(), XT.GetBool(Vars.LastWinIsCounting) && !t) {
            var o = XT.GetInt(Vars.BigWinLevel);
            4 == XT.GetObject(Vars.CoinCounterObject).BigWinSteps.length && o >= 3 && o++, (null == o || o < 0 || o >= this.localized_WinTeasers.length) && (o = 0), n = XT.GetBool(InterfaceVars.ShowGamePaysAsWinTeaser) && this.canShowGamePaysAsWinTeaser ? this.gamePaysText : this.localized_WinTeasers[o].text
        } else n = this.gamePaysText;
        this.ShowLabel(n), null != this.catShowAllLines && this.catShowAllLines.Start()
    } else this.ShowWinLine(this.curWinDesc[0])
}, GUIMessageResultWin.prototype.OnJackpotShow = function () {
    this.ShowLabel(this.jackpotText)
}, GUIMessageResultWin.prototype.OnPayingSymbolShow = function () {
    this.ShowWinLine(this.payingSymbolsDesc[XT.GetInt(PayingSymbolVars.CurrentDisplayedPayingSymbolIndex)])
}, GUIMessageResultWin.prototype.OnScattersWinShow = function () {
    var t = XT.GetInt(PayingSymbolVars.PayingSymbolsScatterIndex);
    t > -1 && this.ShowWinLine(this.payingSymbolsDesc[t])
}, GUIMessageResultWin.prototype.ShowWinLine = function (t) {
    this.winLineDisplayer.ShowWinLine(t, this.isCentered), this.HideLabel()
}, GUIMessageResultWin.prototype.ShowLabel = function (t) {
    this.OnWinLineHide();
    var e = this.isCentered ? this.labelCentered : this.label;
    e.text = t, e.gameObject.SetActive(!0)
}, GUIMessageResultWin.prototype.HideLabel = function () {
    this.label.gameObject.SetActive(!1), this.labelCentered.gameObject.SetActive(!1), this.labelCustom.gameObject.SetActive(!1)
}, GUIMessageResultWin.prototype.ComputeText = function (t, e, i, n) {
    var o = [];
    if (null != i && o.push(i), n && o.push(this.localized_Pays.text), null != e) {
        for (var s = 1, a = 0; a < e.length; a++) s *= e[a];
        if (s > 1) {
            o.push(this.FormatValue(t / s));
            for (a = 0; a < e.length; a++) e[a] > 1 && (o.push("x"), o.push(String(e[a])));
            o.push("=")
        }
    }
    return o.push(this.FormatValue(t)), o.join(" ")
}, GUIMessageResultWin.prototype.FormatValue = function (t) {
    return this.WinLineHasCoins() ? String(CoinManager.ConvertMoneyToCoins(t)) : (null == this.formatOptions && (this.formatOptions = new FormatOptions), LocaleManager.FormatValue(t, this.formatOptions))
}, goog.require("UHT.Engine"), CoinsAndCashDisplayer.prototype = Object.create(Component.prototype), CoinsAndCashDisplayer.prototype.constructor = CoinsAndCashDisplayer, CoinsAndCashDisplayer.prototype.UpdateDisplay = function (t, e) {
    var i = 0;
    for (i = 0; i < this.cashGameObjects.length; i++) this.cashGameObjects[i].SetActive(t);
    for (i = 0; i < this.hiddenWhenCashIsVisible.length; i++) this.hiddenWhenCashIsVisible[i].SetActive(!t);
    for (i = 0; i < this.coinsGameObjects.length; i++) this.coinsGameObjects[i].SetActive(e);
    for (i = 0; i < this.hiddenWhenCoinsAreVisible.length; i++) this.hiddenWhenCoinsAreVisible[i].SetActive(!e)
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink");
var MessageControllerVars = {
    MessageController_ForceGUIMessageResultWin: "MessageController_ForceGUIMessageResultWin"
};

function MessageController() {
    XTLink.call(this), this.rq = null, this.hasFeatureWonText = !0, this.dynamicContentNormal = null, this.dynamicContentAutoplay = null, this.dynamicContentFreeSpins = null, this.dynamicContentFreeSpinsMysteryScatter = null, this.dynamicContentBonusRounds = null, this.dynamicContentBonusRoundsAutoplay = null, this.msg_RandomSpin = null, this.showMsgRandomSpinAfterWin = !1, this.msg_ResultWin = null, this.messagesResultWin = null, this.useMessagesResultWin = !1, this.msg_ResultTeaser = null, this.msg_ResultBeforeWinIsDisplayed = null, this.LocalizedSpinMessages = null, this.LocalizedResultTeaserMessages = null, this.event_Win = null, this.event_BigWin = null, this.event_Reset = null, this.winDisplayedContainers = null, this.mysteryScatterSymbolHolder = null, this.mysteryScatterScaleFactor = 1, this.freeSpinsFeatureCompleted = [], this.bonusGameFeatureCompleted = [], this.internalState = VSGameState.Invalid, this.coinValueChanged = !1, this.requestToUpdateDisplayedWinInUICame = !1
}

function InterfaceController() {
    XTLink.call(this), this.settingsBtns = null, this.autoplayBtn = null, this.autoplayStopBtn = null, this.betBtn = null, this.gambleButton = null, this.hiddenPaytableBtn = null, this.payTableBtn = null, this.betHiddenBtn = null, this.betUpBtn = null, this.betDownBtn = null, this.spinBtn = null, this.stopBtn = null, this.dynamicContentNormal = null, this.dynamicContentFreeSpins = null, this.dynamicContentAutoplay = null, this.dynamicContentFreeSpinsMysteryScatter = null, this.dynamicContentBonusRounds = null, this.dynamicContentBonusRoundsAutoplay = null, this.settingsWindow = null, this.autoplayWindow = null, this.betsWindow = null, this.buttons_resultFSWithGamble = null, this.buttons_resultFSWithoutGamble = null, this.toggledInHiddenMode = null, this.toggledInInterfaceGamble = null, this.visibleInSpecialFeatures = null, this.fsMultiplierToggles = [], this.toggledOnHideWin = [], this.visibleIfGameHasLines = null, this.visibleIfGameHasWays = null, this.rq = null, this.messageController = null, this.balanceParent = null, this.bonusBalanceParent = null, this.internalState = VSGameState.Invalid, this.currentOpenedWindow = InterfaceController.WindowTypes.None, this.betChangeAllowed = !1, this.stopButtonEnabler = null, this.stopButtonColliderEnabler = null, this.allowBetIncrease = !1, this.allowBetDecrease = !1
}

function SmallWinSkipper() {
    XTLink.call(this)
}

function HotKeyClicker() {
    Component.call(this), this.inactiveDuringBigWin = !1
}
MessageController.prototype = Object.create(XTLink.prototype), MessageController.prototype.constructor = MessageController, MessageController.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_MysteryScatterSymbol_Show, this.OnMysteryScatterSymbolShow, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_MysteryScatterSymbol_Hide, this.OnMysteryScatterSymbolHide, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinValueChanged, this.OnCoinValueChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI, this.OnRequestToUpdateDisplayedWinInUI, this)
}, MessageController.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(InterfaceVars.HasGUIMessageBeforeWinCount, !1), XT.SetBool(MessageControllerVars.MessageController_ForceGUIMessageResultWin, !1)
}, MessageController.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGUIInit, this), XT.UnregisterCallbackEvent(this.OnMysteryScatterSymbolShow, this), XT.UnregisterCallbackEvent(this.OnMysteryScatterSymbolHide, this), XT.UnregisterCallbackEvent(this.OnCoinValueChanged, this), XT.UnregisterCallbackEvent(this.OnSpinStarted, this), XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWinInUI, this)
}, MessageController.prototype.OnGUIInit = function () {
    this.msg_RandomSpin.Init(this.GetListOfMessages(this.LocalizedSpinMessages, InterfaceVars.GUIMessage_RandomSpin)), XT.GetBool(Vars.Jurisdiction_NoSpinToWin) && this.LocalizedResultTeaserMessages.length > 1 && this.LocalizedResultTeaserMessages.splice(1, 1), this.msg_ResultTeaser.Init(this.GetListOfMessages(this.LocalizedResultTeaserMessages, InterfaceVars.GUIMessage_RandomResultTeaser)), Globals.isMini && (this.msg_RandomSpin.label.anchorX = 0, this.msg_ResultTeaser.label.anchorX = 0)
}, MessageController.prototype.GetListOfMessages = function (t, e) {
    for (var i = [], n = 0; n < t.length; n++) i.push(t[n].text);
    return XT.SetObject(e, i), i
}, MessageController.prototype.ChangeToState = function (t) {
    var e = this.internalState == t;
    switch (this.internalState = t, e || this.HideAllMessages(), this.event_Reset.Start(), this.UpdateDynamicContent(!0), this.internalState) {
        case VSGameState.Spin:
        case VSGameState.SpinAutoplay:
        case VSGameState.SpinFreeSpins:
        case VSGameState.SpinBonusRounds:
        case VSGameState.SpinBonusRoundsAutoplay:
            this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(XT.GetDouble(InterfaceVars.GUIDynamicMessageDelay))), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.HideWin, null, this)), this.showMsgRandomSpinAfterWin && this.IsWinDisplayed() ? this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.ShowMessage, this.msg_RandomSpin, this)) : this.ShowMessage(this.msg_RandomSpin), this.rq.StartRoutines(), this.requestToUpdateDisplayedWinInUICame = !1;
            break;
        case VSGameState.Result:
        case VSGameState.ResultAutoplay:
        case VSGameState.ResultBonusRounds:
        case VSGameState.ResultBonusRoundsAutoplay:
        case VSGameState.ResultFreeSpins:
        case VSGameState.ResultFreeSpinsPrepare:
        case VSGameState.ResultPrepareForBonus:
            this.UpdateWinDisplayedState(), this.requestToUpdateDisplayedWinInUICame && this.OnRequestToUpdateDisplayedWinInUI();
            var i = this.internalState == VSGameState.ResultBonusRounds || this.internalState == VSGameState.ResultBonusRoundsAutoplay;
            VSGameStateManager.GetPreviousState() == VSGameState.ResultFreeSpins && t != VSGameStateManager.GetPreviousState() && (this.InternalSetActive(this.freeSpinsFeatureCompleted, !i), this.InternalSetActive(this.bonusGameFeatureCompleted, !1), this.HideMessage(this.msg_ResultTeaser)), VSGameStateManager.GetPreviousState() == VSGameState.Bonus && (this.InternalSetActive(this.bonusGameFeatureCompleted, !i), this.InternalSetActive(this.freeSpinsFeatureCompleted, !1), this.HideMessage(this.msg_ResultTeaser));
            break;
        case VSGameState.Bonus:
        case VSGameState.Gamble:
        case VSGameState.GambleCustom:
        case VSGameState.Jackpot:
        case VSGameState.FSBG:
        case VSGameState.Invalid:
            this.requestToUpdateDisplayedWinInUICame = !1;
            break
    }
}, MessageController.prototype.InternalSetActive = function (t, e) {
    for (var i = 0; i < t.length; i++) t[i].SetActive(e)
}, MessageController.prototype.ShowMessage = function (t) {
    t.Show()
}, MessageController.prototype.HideMessage = function (t) {
    t.Hide()
}, MessageController.prototype.UpdateDynamicContent = function (t) {
    var e = t;
    switch (this.internalState) {
        case VSGameState.Spin:
        case VSGameState.Result:
        case VSGameState.ResultFreeSpinsPrepare:
        case VSGameState.ResultPrepareForBonus:
            this.InternalSetActive(this.dynamicContentNormal, e), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1);
            break;
        case VSGameState.ResultBuyWindowOpen:
            this.InternalSetActive(this.dynamicContentNormal, !1);
            break;
        case VSGameState.SpinAutoplay:
        case VSGameState.ResultAutoplay:
            this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentAutoplay, e), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1);
            break;
        case VSGameState.SpinFreeSpins:
        case VSGameState.ResultFreeSpins:
            this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), 0 == XT.GetObject(Vars.ReceivedFreeSpinsResponse).MysteryScatter.length ? (this.InternalSetActive(this.dynamicContentFreeSpins, e), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1)) : (this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, e));
            break;
        case VSGameState.SpinBonusRounds:
        case VSGameState.ResultBonusRounds:
            this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentBonusRounds, e), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1);
            break;
        case VSGameState.SpinBonusRoundsAutoplay:
        case VSGameState.ResultBonusRoundsAutoplay:
            this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, e);
            break;
        default:
            break
    }
}, MessageController.prototype.IsWinDisplayed = function () {
    return (this.internalState == VSGameState.ResultFreeSpins ? XT.GetDouble(Vars.FreeSpinsLastWinDisplayed) : XT.GetDouble(Vars.SpinCycleWinDisplayed)) > 1e-4 || XT.GetBool(MessageControllerVars.MessageController_ForceGUIMessageResultWin)
}, MessageController.prototype.UpdateWinDisplayedState = function () {
    var t = this.IsWinDisplayed();
    this.UpdateDisplayForWinContainers(t, t && !this.coinValueChanged)
}, MessageController.prototype.HideWin = function (t) {
    this.internalState != VSGameState.Spin && this.internalState != VSGameState.SpinAutoplay && this.internalState != VSGameState.SpinFreeSpins || this.UpdateDisplayForWinContainers(!1, !1)
}, MessageController.prototype.OnSpinStarted = function () {
    this.coinValueChanged = !1
}, MessageController.prototype.OnCoinValueChanged = function () {
    if (this.internalState == VSGameState.Result || this.internalState == VSGameState.ResultBonusRounds) {
        this.coinValueChanged = !0;
        var t = this.IsWinDisplayed();
        this.UpdateDisplayForWinContainers(t, !1), t && this.HideAllMessages()
    }
}, MessageController.prototype.UpdateDisplayForWinContainers = function (t, e) {
    for (var i = 0; i < this.winDisplayedContainers.length; i++) this.winDisplayedContainers[i].UpdateDisplay(t, e)
}, MessageController.prototype.OnRequestToUpdateDisplayedWinInUI = function () {
    if (this.requestToUpdateDisplayedWinInUICame = !0, this.gameObject.activeInHierarchy)
        if (this.UpdateWinDisplayedState(), this.IsWinDisplayed()) {
            var t = this.internalState == VSGameState.ResultFreeSpinsPrepare,
                e = this.internalState == VSGameState.ResultPrepareForBonus;
            if (this.useMessagesResultWin)
                for (var i = 0; i < this.messagesResultWin.length; ++i) this.messagesResultWin[i].SetSpecialFlags(e && this.hasFeatureWonText, t && this.hasFeatureWonText), this.ShowMessage(this.messagesResultWin[i]);
            else this.msg_ResultWin.SetSpecialFlags(e && this.hasFeatureWonText, t && this.hasFeatureWonText), this.ShowMessage(this.msg_ResultWin);
            if (this.HideMessage(this.msg_ResultTeaser), 0 == XT.GetInt(Vars.BigWinLevel)) {
                i = Random.Range(0, this.event_Win.length);
                this.event_Win[i].Start()
            } else this.event_BigWin.Start()
        } else {
            if (this.useMessagesResultWin)
                for (i = 0; i < this.messagesResultWin.length; ++i) this.HideMessage(this.messagesResultWin[i]);
            else this.HideMessage(this.msg_ResultWin);
            this.internalState != VSGameState.ResultFreeSpins && this.internalState != VSGameState.ResultFreeSpinsPrepare && this.internalState != VSGameState.ResultAutoplay ? this.ShowMessage(this.msg_ResultTeaser) : this.HideMessage(this.msg_ResultTeaser)
        }
}, MessageController.prototype.HideAllMessages = function () {
    if (this.rq.StopRoutines(), this.msg_RandomSpin.Hide(), this.msg_ResultTeaser.Hide(), this.msg_ResultBeforeWinIsDisplayed.Hide(), this.useMessagesResultWin)
        for (var t = 0; t < this.messagesResultWin.length; ++t) this.messagesResultWin[t].Hide();
    else this.msg_ResultWin.Hide();
    this.InternalSetActive(this.freeSpinsFeatureCompleted, !1), this.InternalSetActive(this.bonusGameFeatureCompleted, !1)
}, MessageController.prototype.OnMysteryScatterSymbolHide = function () {
    if (null != this.mysteryScatterSymbolHolder) {
        var t = XT.GetObject(Vars.MysteryScatterSymbol_GameObject);
        if (null == t) return void this.mysteryScatterSymbolHolder.SetActive(!1);
        var e = XT.GetObject(Vars.MysteryScatterSymbol_ParentGameObject);
        t.transform.SetParent(e.transform, !1)
    }
}, MessageController.prototype.OnMysteryScatterSymbolShow = function () {
    if (null != this.mysteryScatterSymbolHolder) {
        var t = XT.GetObject(Vars.MysteryScatterSymbol_GameObject);
        t.transform.localScale(this.mysteryScatterScaleFactor, this.mysteryScatterScaleFactor, 1), t.transform.SetParent(this.mysteryScatterSymbolHolder.transform, !1)
    }
}, goog.require("UHT.Engine"), goog.require("UHT.InterfaceUtils"), InterfaceController.prototype = Object.create(XTLink.prototype), InterfaceController.prototype.constructor = InterfaceController, InterfaceController.AutoplayState = {
    Normal: 0,
    Pressed: 1,
    Stop: 2
}, InterfaceController.WindowTypes = {
    None: 0,
    Settings: 1,
    Autoplay: 2,
    Bets: 3,
    Paytable: 4
}, InterfaceController.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(InterfaceVars.IsMobileGUI, !1)
}, InterfaceController.prototype.XTRegisterCallbacks = function () {
    this.stopButtonEnabler = this.stopBtn.transform.gameObject.GetComponentsInChildren(ButtonEnabler, !0)[0], this.stopButtonColliderEnabler = this.stopBtn.transform.gameObject.GetComponentsInChildren(ColliderEnabler, !0)[0], XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytableClosed, this.OnRequestToClosePaytable, this), XT.RegisterCallbackBool(Vars.MinBetAndCoinValueReached, this.OnBetStateUpdated, this), XT.RegisterCallbackBool(Vars.MaxBetAndCoinValueReached, this.OnBetStateUpdated, this), XT.RegisterCallbackBool(Vars.CanSpin, this.OnCanSpinChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_EnableGambleButton, this.OnEnableGambleButton, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_DisableGambleButton, this.OnDisableGambleButton, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows, this.CloseCurrentOpenedWindow, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnVSGameStateChanged, this), XT.RegisterCallbackDouble(Vars.BonusBalance, this.UpdateBalanceContent, this), XT.RegisterCallbackBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins, this.OnResultMinimumTimeBetweenSpins, this), XT.RegisterCallbackBool(Vars.DisableStopButton, this.OnDisableStopButton, this)
}, InterfaceController.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGUIInit, this), XT.UnregisterCallbackEvent(this.OnRequestToClosePaytable, this), XT.UnregisterCallbackBool(this.OnBetStateUpdated, this), XT.UnregisterCallbackEvent(this.OnEnableGambleButton, this), XT.UnregisterCallbackEvent(this.OnDisableGambleButton, this), XT.UnregisterCallbackEvent(this.OnVSGameStateChanged, this), XT.UnregisterCallbackDouble(this.UpdateBalanceContent, this)
}, InterfaceController.prototype.OnVSGameStateChanged = function () {
    this.ChangeState(VSGameStateManager.GetState())
}, InterfaceController.prototype.Pressed_Settings_Open = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Settings, !0)
}, InterfaceController.prototype.Pressed_Settings_Close = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Settings, !1)
}, InterfaceController.prototype.Pressed_TotalBet_Open = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Bets, !0)
}, InterfaceController.prototype.Pressed_TotalBet_Close = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Bets, !1)
}, InterfaceController.prototype.Pressed_Autoplay_Open = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Autoplay, !0)
}, InterfaceController.prototype.Pressed_Autoplay_Close = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Autoplay, !1)
}, InterfaceController.prototype.Pressed_Paytable_Open = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Paytable, !0)
}, InterfaceController.prototype.Pressed_Paytable_Close = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Paytable, !1)
}, InterfaceController.prototype.OnRequestToClosePaytable = function () {
    this.UpdateWindows(InterfaceController.WindowTypes.Paytable, !1)
}, InterfaceController.prototype.Pressed_AutoplayStart = function () {
    this.CloseCurrentOpenedWindow()
}, InterfaceController.prototype.Pressed_BetSelect = function () {
    this.CloseCurrentOpenedWindow()
}, InterfaceController.prototype.OnBetStateUpdated = function (t) {
    this.betChangeAllowed && this.UpdateBetIncDecButtons(!0)
}, InterfaceController.prototype.Pressed_Balance = function () {
    XT.TriggerEvent(Vars.Evt_ToServer_OpenCashier)
}, InterfaceController.prototype.Pressed_Home = function () {
    XT.TriggerEvent(Vars.Evt_ToServer_CloseGame)
}, InterfaceController.prototype.Pressed_SkipScreens = function () {
    XT.SetBool(Vars.Autoplay_SkipScreens, !XT.GetBool(Vars.Autoplay_SkipScreens))
}, InterfaceController.prototype.OnGUIInit = function () {
    var t = XT.GetBool(Vars.CanGamble_Spin);
    this.gambleButton.SetActive(t);
    var e = XT.GetBool(Vars.CanGamble_FreeSpin);
    this.buttons_resultFSWithGamble.SetActive(e), this.buttons_resultFSWithoutGamble.SetActive(!e);
    var i = XT.GetBool(Vars.GameHasWaysInsteadOfLines);
    this.InternalSetActive(this.visibleIfGameHasLines, !i), this.InternalSetActive(this.visibleIfGameHasWays, i), this.ChangeState(VSGameState.Invalid)
}, InterfaceController.prototype.ChangeState = function (t) {
    this.internalState = t;
    var e = !1,
        i = !1,
        n = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    switch (null != n && (e = n.MysteryScatter.length > 0, i = n.IsFreeSpin), this.rq.StopRoutines(), this.internalState != VSGameState.Spin && this.internalState != VSGameState.SpinAutoplay && this.internalState != VSGameState.SpinFreeSpins && this.internalState != VSGameState.SpinBonusRounds && this.internalState != VSGameState.SpinBonusRoundsAutoplay || (this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(XT.GetDouble(InterfaceVars.GUIDynamicMessageDelay))), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.HideWin, null, this)), this.rq.StartRoutines()), t) {
        case VSGameState.Spin:
            this.CloseCurrentOpenedWindow(), this.UpdateBetBtns(!1), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !0), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, !1), this.messageController.ChangeToState(VSGameState.Spin);
            break;
        case VSGameState.SpinAutoplay:
            this.UpdateBetBtns(!1), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !0), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop, !0), this.messageController.ChangeToState(VSGameState.SpinAutoplay);
            break;
        case VSGameState.SpinFreeSpins:
            this.UpdateBetBtns(!1), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!0), this.InternalSetActive(this.dynamicContentNormal, !1), e ? (this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, i)) : (this.InternalSetActive(this.dynamicContentFreeSpins, i), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1)), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, !1), this.messageController.ChangeToState(VSGameState.SpinFreeSpins);
            break;
        case VSGameState.SpinBonusRounds:
            this.CloseCurrentOpenedWindow(), this.UpdateBetBtns(!1), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !0), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, !1), this.messageController.ChangeToState(VSGameState.SpinBonusRounds);
            break;
        case VSGameState.SpinBonusRoundsAutoplay:
            this.UpdateBetBtns(!1), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !0), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop, !0), this.messageController.ChangeToState(VSGameState.SpinBonusRoundsAutoplay);
            break;
        case VSGameState.Result:
            var o = this.InternalCanSpin();
            this.gambleButton.SetActive(XT.GetBool(Vars.CanGamble_Spin)), this.UpdateBetBtns(o), this.InternalSetActive(this.toggledInHiddenMode, !0), this.InternalSetActive(this.visibleInSpecialFeatures, !1), this.InternalSetActive(this.toggledInInterfaceGamble, !0), this.spinBtn.SetActive(o), this.stopBtn.SetActive(!o), this.ToggleFSMultiplier(!1), this.CloseCurrentOpenedWindow(), this.InternalSetActive(this.dynamicContentNormal, !0), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, o), this.messageController.ChangeToState(VSGameState.Result);
            break;
        case VSGameState.ResultBuyWindowOpen:
            this.gambleButton.SetActive(!1), this.UpdateBetBtns(!1, !1), this.CloseCurrentOpenedWindow(), this.InternalSetActive(this.dynamicContentNormal, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, !1), this.messageController.ChangeToState(VSGameState.ResultBuyWindowOpen);
            break;
        case VSGameState.ResultPrepareForBonus:
            this.UpdateBetBtns(!1), this.InternalSetActive(this.toggledInHiddenMode, !0), this.InternalSetActive(this.visibleInSpecialFeatures, !1), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !0), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, !1), this.messageController.ChangeToState(VSGameState.ResultPrepareForBonus);
            break;
        case VSGameState.ResultAutoplay:
            this.gambleButton.SetActive(XT.GetBool(Vars.CanGamble_Spin)), this.UpdateBetBtns(!1), this.InternalSetActive(this.toggledInHiddenMode, !0), this.InternalSetActive(this.visibleInSpecialFeatures, !1), this.InternalSetActive(this.toggledInInterfaceGamble, !0), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !0), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop, !0), this.messageController.ChangeToState(VSGameState.ResultAutoplay);
            break;
        case VSGameState.ResultFreeSpinsPrepare:
            this.UpdateBetBtns(!1), this.InternalSetActive(this.toggledInHiddenMode, !0), this.InternalSetActive(this.visibleInSpecialFeatures, !1), this.InternalSetActive(this.toggledInInterfaceGamble, !0), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !0), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, !1), this.messageController.ChangeToState(VSGameState.ResultFreeSpinsPrepare);
            break;
        case VSGameState.ResultFreeSpins:
            this.UpdateBetBtns(!1), this.InternalSetActive(this.toggledInHiddenMode, !0), this.InternalSetActive(this.visibleInSpecialFeatures, !1), this.InternalSetActive(this.toggledInInterfaceGamble, !0), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!0), this.InternalSetActive(this.dynamicContentNormal, !1), e ? (this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, i)) : (this.InternalSetActive(this.dynamicContentFreeSpins, i), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1)), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, !1), this.messageController.ChangeToState(VSGameState.ResultFreeSpins);
            break;
        case VSGameState.ResultBonusRounds:
            this.gambleButton.SetActive(!1), this.UpdateBetBtns(!1), this.InternalSetActive(this.toggledInHiddenMode, !0), this.InternalSetActive(this.visibleInSpecialFeatures, !1), this.InternalSetActive(this.toggledInInterfaceGamble, !0);
            o = this.InternalCanSpin();
            this.spinBtn.SetActive(o), this.stopBtn.SetActive(!o), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !0), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !1), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, o), this.messageController.ChangeToState(VSGameState.ResultBonusRounds);
            break;
        case VSGameState.ResultBonusRoundsAutoplay:
            this.gambleButton.SetActive(!1), this.UpdateBetBtns(!1), this.InternalSetActive(this.toggledInHiddenMode, !0), this.InternalSetActive(this.visibleInSpecialFeatures, !1), this.InternalSetActive(this.toggledInInterfaceGamble, !0), this.spinBtn.SetActive(!1), this.stopBtn.SetActive(!0), this.ToggleFSMultiplier(!1), this.InternalSetActive(this.dynamicContentNormal, !1), this.InternalSetActive(this.dynamicContentFreeSpins, !1), this.InternalSetActive(this.dynamicContentFreeSpinsMysteryScatter, !1), this.InternalSetActive(this.dynamicContentAutoplay, !1), this.InternalSetActive(this.dynamicContentBonusRounds, !1), this.InternalSetActive(this.dynamicContentBonusRoundsAutoplay, !0), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop, !0), this.messageController.ChangeToState(VSGameState.ResultBonusRoundsAutoplay);
            break;
        case VSGameState.Bonus:
            this.UpdateBetBtns(!1), this.ToggleFSMultiplier(i), this.CloseCurrentOpenedWindow(), this.InternalSetActive(this.toggledInHiddenMode, !1), this.InternalSetActive(this.visibleInSpecialFeatures, !0), this.messageController.ChangeToState(VSGameState.Bonus);
            break;
        case VSGameState.Gamble:
            this.ToggleFSMultiplier(!1), this.CloseCurrentOpenedWindow(), this.InternalSetActive(this.toggledInHiddenMode, !0), this.InternalSetActive(this.visibleInSpecialFeatures, !1), this.InternalSetActive(this.toggledInInterfaceGamble, !1), this.messageController.ChangeToState(VSGameState.Gamble);
            break;
        case VSGameState.GambleCustom:
            this.ToggleFSMultiplier(!1), this.CloseCurrentOpenedWindow(), this.InternalSetActive(this.toggledInHiddenMode, !1), this.InternalSetActive(this.visibleInSpecialFeatures, !0), this.messageController.ChangeToState(VSGameState.GambleCustom);
            break;
        case VSGameState.Jackpot:
            this.ToggleFSMultiplier(!1), this.CloseCurrentOpenedWindow(), this.InternalSetActive(this.toggledInHiddenMode, !1), this.InternalSetActive(this.visibleInSpecialFeatures, !0), this.messageController.ChangeToState(VSGameState.Jackpot);
            break;
        case VSGameState.FSBG:
            this.UpdateBetBtns(!1), this.ToggleFSMultiplier(!1), this.CloseCurrentOpenedWindow(), this.InternalSetActive(this.toggledInHiddenMode, !1), this.InternalSetActive(this.visibleInSpecialFeatures, !0), this.messageController.ChangeToState(VSGameState.FSBG);
            break;
        default:
        case VSGameState.Invalid:
            this.ToggleFSMultiplier(!1), this.CloseCurrentOpenedWindow(), this.InternalSetActive(this.toggledInHiddenMode, !1), this.InternalSetActive(this.visibleInSpecialFeatures, !0), this.messageController.ChangeToState(VSGameState.Invalid);
            break
    }
}, InterfaceController.prototype.InternalSetActive = function (t, e) {
    for (var i = 0; i < t.length; ++i) t[i].SetActive(e)
}, InterfaceController.prototype.UpdateAutoplayButtons = function (t, e) {
    switch (t) {
        case InterfaceController.AutoplayState.Normal:
            this.autoplayBtn.opened.SetActive(!1), this.autoplayBtn.closed.SetActive(!0);
            var i = this.autoplayBtn.closed.GetComponent(ButtonEnabler);
            e ? (i.EnableButton(), XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins) && i.gameObject.SetActive(!0)) : (i.DisableButton(), XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins) && i.gameObject.SetActive(!1)), this.autoplayStopBtn.SetActive(!1);
            break;
        case InterfaceController.AutoplayState.Pressed:
            this.autoplayBtn.opened.SetActive(!0), this.autoplayBtn.closed.SetActive(!1), this.autoplayStopBtn.SetActive(!1);
            break;
        case InterfaceController.AutoplayState.Stop:
            this.autoplayBtn.opened.SetActive(!1), this.autoplayBtn.closed.SetActive(!1), this.autoplayStopBtn.SetActive(!0);
            break
    }
}, InterfaceController.prototype.CloseCurrentOpenedWindow = function () {
    this.currentOpenedWindow != InterfaceController.WindowTypes.None && (this.ShowHideWindow(this.currentOpenedWindow, !1), this.currentOpenedWindow = InterfaceController.WindowTypes.None)
}, InterfaceController.prototype.UpdateWindows = function (t, e) {
    this.currentOpenedWindow != InterfaceController.WindowTypes.None && this.currentOpenedWindow != t && (this.ShowHideWindow(this.currentOpenedWindow, !1), this.currentOpenedWindow = InterfaceController.WindowTypes.None), t != InterfaceController.WindowTypes.None && (this.ShowHideWindow(t, e), this.currentOpenedWindow = e ? t : InterfaceController.WindowTypes.None, e && XT.TriggerEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen))
}, InterfaceController.prototype.ShowHideWindow = function (t, e) {
    switch (t) {
        case InterfaceController.WindowTypes.Settings:
            e ? this.settingsWindow.ShowMenuWindow(this.internalState == VSGameState.Result || this.internalState == VSGameState.ResultBonusRounds) : this.settingsWindow.HideMenuWindow();
            for (var i = 0; i < this.settingsBtns.length; ++i) this.settingsBtns[i].opened.SetActive(e), this.settingsBtns[i].closed.SetActive(!e);
            break;
        case InterfaceController.WindowTypes.Autoplay:
            var n = XT.GetBool(Vars.InstantAutoplay);
            n || this.autoplayWindow.SetActive(e), e ? (n && (this.autoplayWindow.GetComponentsInChildren(AutoplayControllerAdvanced, !0)[0].StartAutoplayPressed(), this.Pressed_AutoplayStart()), this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Pressed, !0)) : this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, !0);
            break;
        case InterfaceController.WindowTypes.Bets:
            e ? this.betsWindow.ShowBetsWindow() : this.betsWindow.HideBetsWindow(), this.betBtn.opened.SetActive(e), this.betBtn.closed.SetActive(!e), this.betHiddenBtn.opened.SetActive(e), this.betHiddenBtn.closed.SetActive(!e);
            break;
        case InterfaceController.WindowTypes.Paytable:
            e ? XT.TriggerEvent(Vars.Evt_Internal_PaytableOpen) : XT.TriggerEvent(Vars.Evt_Internal_PaytableClose), this.payTableBtn.opened.SetActive(e), this.payTableBtn.closed.SetActive(!e), this.hiddenPaytableBtn.opened.SetActive(e), this.hiddenPaytableBtn.closed.SetActive(!e);
            break;
        default:
            break
    }
}, InterfaceController.prototype.UpdateBetBtns = function (t, e) {
    null == e && (e = !0), t = t && XT.GetBool(Vars.AllowBetChange), this.betChangeAllowed = t;
    var i = this.betBtn.closed.GetComponent(ButtonEnabler);
    t ? i.EnableButton() : i.DisableButton(), this.betHiddenBtn.closed.SetActive(t && e), this.betsWindow.UpdateBetButtons(t && e), this.UpdateBetIncDecButtons(t && e)
}, InterfaceController.prototype.UpdateBetIncDecButtons = function (t, e) {
    null == e && (e = !0);
    var i = this.betUpBtn.GetComponent(ButtonEnabler),
        n = this.betDownBtn.GetComponent(ButtonEnabler);
    (this.allowBetIncrease = !1, this.allowBetDecrease = !1, t && e) ? (XT.GetBool(Vars.MinBetAndCoinValueReached) ? n.DisableButton() : (n.EnableButton(), this.allowBetDecrease = !0), XT.GetBool(Vars.MaxBetAndCoinValueReached) ? i.DisableButton() : (i.EnableButton(), this.allowBetIncrease = !0)) : (i.DisableButton(), n.DisableButton());
    this.betUpBtn.SetActive(e), this.betDownBtn.SetActive(e)
}, InterfaceController.prototype.Update = function () {
    this.allowBetIncrease && Input.GetKeyDown(KeyCode.RightArrow, !0) && !XT.GetBool(Vars.FeaturePurchaseWindowIsOpen) && (XT.TriggerEvent(Vars.Evt_DataToCode_SmartIncreaseBet), this.Pressed_TotalBet_Open()), this.allowBetDecrease && Input.GetKeyDown(KeyCode.LeftArrow, !0) && !XT.GetBool(Vars.FeaturePurchaseWindowIsOpen) && (XT.TriggerEvent(Vars.Evt_DataToCode_SmartDecreaseBet), this.Pressed_TotalBet_Open())
}, InterfaceController.prototype.OnDisableGambleButton = function () {
    var t = this.gambleButton.GetComponentsInChildren(ButtonEnabler, !0);
    if (null != t)
        for (var e = 0; e < t.length; e++) t[e].DisableButton()
}, InterfaceController.prototype.OnEnableGambleButton = function () {
    var t = this.gambleButton.GetComponentsInChildren(ButtonEnabler, !0);
    if (null != t)
        for (var e = 0; e < t.length; e++) t[e].EnableButton()
}, InterfaceController.prototype.OnCanSpinChanged = function () {
    if (this.internalState == VSGameState.Result || this.internalState == VSGameState.ResultBonusRounds) {
        var t = this.InternalCanSpin();
        this.spinBtn.SetActive(t), this.stopBtn.SetActive(!t), this.UpdateBetBtns(t && this.internalState == VSGameState.Result), XT.GetInt(Vars.AutoplaySpinsLeft) >= 0 ? this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Stop, !0) : this.UpdateAutoplayButtons(InterfaceController.AutoplayState.Normal, t)
    }
}, InterfaceController.prototype.HideWin = function (t) {
    for (var e = 0; e < this.toggledOnHideWin.length; e++) this.toggledOnHideWin[e].WinIsHidden()
}, InterfaceController.prototype.InternalCanSpin = function () {
    var t = XT.GetObject(Vars.RespinData);
    return XT.GetBool(Vars.CanSpin) && (null == t || t.IsDone || XT.GetBool(Vars.ManualRespin))
}, InterfaceController.prototype.ToggleFSMultiplier = function (t) {
    for (var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse), i = t ? Math.floor(e.TotalMultiplier) : 1, n = 0; n < this.fsMultiplierToggles.length; n++) this.fsMultiplierToggles[n].FSMultiplierChanged(i)
}, InterfaceController.prototype.UpdateBalanceContent = function (t) {
    var e = _number.otod(t);
    XT.GetBool(Vars.Jurisdiction_SplitBalance) && (this.balanceParent.SetActive(e <= 0), this.bonusBalanceParent.SetActive(e > 0))
}, InterfaceController.prototype.OnResultMinimumTimeBetweenSpins = function (t) {
    t && (XT.RegisterCallbackFloat(Vars.SpinDuration, this.OnSpinDuration, this), XT.RegisterCallbackBool(Vars.CanSpin, this.OnCanSpin, this))
}, InterfaceController.prototype.OnSpinDuration = function (t) {
    t > XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value) && (this.stopButtonEnabler.EnableButton(), this.stopButtonColliderEnabler.EnableCollider())
}, InterfaceController.prototype.OnCanSpin = function (t) {
    t ? (this.stopButtonEnabler.EnableButton(), this.stopButtonColliderEnabler.EnableCollider()) : (this.stopButtonEnabler.DisableButton(), this.stopButtonColliderEnabler.DisableCollider())
}, InterfaceController.prototype.OnDisableStopButton = function (t) {
    t && XT.RegisterCallbackBool(Vars.CanSpin, this.OnCanSpin, this)
}, goog.require("UHT.Engine"), SmallWinSkipper.prototype = Object.create(XTLink.prototype), SmallWinSkipper.prototype.constructor = SmallWinSkipper, SmallWinSkipper.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.LastWinIsCounting, this.OnWinCount, this)
}, SmallWinSkipper.prototype.OnDestroy = function () {
    XT.UnregisterCallbackBool(this.OnWinCount, this)
}, SmallWinSkipper.prototype.OnWinCount = function (t) {
    var e = t && !XT.GetBool(Vars.WaitInResultForBigWin);
    this.gameObject.SetActive(e)
}, SmallWinSkipper.prototype.SkipSmallWinCount = function () {
    XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), this.gameObject.SetActive(!1)
}, goog.require("UHT.Engine"), HotKeyClicker.prototype = Object.create(Component.prototype), HotKeyClicker.prototype.constructor = HotKeyClicker, HotKeyClicker.prototype.Update = function () {
    if (!Globals.InputBlocked && (Input.GetKeyDown(KeyCode.Space, !0) || Input.GetKeyDown(KeyCode.Return, !0))) {
        if (this.inactiveDuringBigWin && XT.GetBool(Vars.WaitInResultForBigWin)) return;
        var t = this.gameObject.GetComponent(ClickDelay);
        (null == t || t.CanClick()) && this.gameObject.SendMessage("OnClick")
    }
}, goog.require("UHT.Component"), goog.require("UHT.AudioClip");
var WhenToPlay = {
        OnClick: 0,
        OnHover: 1,
        Custom: 2
    },
    PlayMode = {
        OneShot: 0,
        Loop: 1
    };

function SoundPlayer() {
    Component.call(this), this.audioClip = null, this.whenToPlay = WhenToPlay.Custom, this.playMode = PlayMode.OneShot, this.playOnlyIfEnabled = !1, this.muteBackgroundMusic = !1, this.handler = -1, this.canPlayHoverSound = !0
}

function LabelGroupScaler() {
    Component.call(this), this.target = null, this.sources = null
}

function MultipleLabelAnchor() {
    Component.call(this), this.labels = null, this.spacing = 0, this.alignment = MultipleLabelAnchor.Alignment.Right, this.maxWidth = 0, this.ignoreInactiveLabels = !1, this.ignoreLabelsScale = !1, this.anyPivots = !1, this.scaleY = !0, this.cachedLabelWidths = [], this.cachedActiveState = [], this.mustForcedNextUpdate = !1, this.initialScale = null, this.isStarted = !1, this.width = 0
}

function CoinsSwitcher() {
    XTLink.call(this)
}

function GUIMessageTurboSpin() {
    GUIMessageBase.call(this), this.localized_SpaceToTurboSpin = null, this.turboSpinUsageCount = 0
}

function ValueControlledActive() {
    XTLink.call(this), this.vdVariable = null, this.visibleWhenPositive = null, this.visibleWhenZeroOrNegative = null
}

function HasCoinsSwitcher() {
    XTLink.call(this), this.visibleIfCoins = null, this.visibleIfNoCoins = null
}

function IdleSpinCounter() {
    XTLink.call(this), this.activeState = null, this.idleState = null, this.timeToIdleState = 5, this.timer = 0, this.isIdle = !1, this.isCounting = !1
}

function TimeToSpin() {
    XTLink.call(this), this.SBisActive = !1, this.SRisActive = !1, this.firstTimeInResult = !1, this.isPlaying = !1, this.lastNormalSpinUsedAutoplay = !1, this.targetTime = 0, this.currentTime = 0, this.contents, this.sprites, this.widgetMasks
}

function BuyFeature_BetButtons() {
    XTLink.call(this), this.showContent = null, this.hideContent = null, this.blockContent = null, this.unblockContent = null, this.betUp_btnEnabler = null, this.betDown_btnEnabler = null
}

function OrderedCATStarter() {
    Component.call(this), this.cats = null, this.resetAutomatically = !1, this.nextCAT = 0
}
SoundPlayer.prototype = Object.create(Component.prototype), SoundPlayer.prototype.constructor = SoundPlayer, SoundPlayer.prototype.OnDisable = function () {
    this.OnHover(!1)
}, SoundPlayer.prototype.PlaySound = function () {
    this.InternalPlayClip(this.audioClip)
}, SoundPlayer.prototype.StopPlayingSound = function () {
    if (this.handler >= 0) {
        var t = XT.GetObject(Vars.SoundManagerObject),
            e = {
                handle: this.handler
            };
        t.StopLoopingSound(e), this.handler = e.handle, this.muteBackgroundMusic && t.UnmuteMusic()
    }
}, SoundPlayer.prototype.OnClick = function () {
    null != this.gameObject.collider && this.gameObject.collider.enabled && this.whenToPlay == WhenToPlay.OnClick && this.InternalPlayClip(this.audioClip)
}, SoundPlayer.prototype.OnHover = function (t) {
    0 == t && (this.canPlayHoverSound = !0), null != this.gameObject.collider && this.gameObject.collider.enabled && t && this.whenToPlay == WhenToPlay.OnHover && this.canPlayHoverSound && (this.InternalPlayClip(this.audioClip), this.canPlayHoverSound = !1)
}, SoundPlayer.prototype.InternalPlayClip = function (t) {
    if (!this.playOnlyIfEnabled || this.gameObject.activeInHierarchy) {
        var e = XT.GetObject(Vars.SoundManagerObject);
        switch (this.muteBackgroundMusic && e.MuteMusic(), this.playMode) {
            case PlayMode.OneShot:
                e.PlaySimple(t);
                break;
            case PlayMode.Loop:
                this.handler = e.PlayLooping(t);
                break;
            default:
                break
        }
    }
}, goog.require("UHT.Engine"), LabelGroupScaler.prototype = Object.create(Component.prototype), LabelGroupScaler.prototype.constructor = LabelGroupScaler, LabelGroupScaler.prototype.Update = function () {
    for (var t = this.sources[0].localScale().x, e = 1; e < this.sources.length; ++e) this.sources[e].localScale().x < t && (t = this.sources[e].localScale().x);
    t != this.target.GetNormalizedTime() && this.target.Sample(UHTMath.clamp(t, 0, 1))
}, goog.require("UHT.Engine"), MultipleLabelAnchor.prototype = Object.create(Component.prototype), MultipleLabelAnchor.prototype.constructor = MultipleLabelAnchor, MultipleLabelAnchor.prototype.scriptUpdatePriority = 8, MultipleLabelAnchor.Alignment = {
    Right: 0,
    Left: 1,
    Center: 2
}, MultipleLabelAnchor.pivotLeft = 0, MultipleLabelAnchor.pivotCenter = .5, MultipleLabelAnchor.pivotRight = 1, MultipleLabelAnchor.prototype.IsPivot = function (t, e) {
    return Math.abs(t - e) < .1
}, MultipleLabelAnchor.prototype.Start = function () {
    if (!this.isStarted) {
        this.isStarted = !0, this.initialScale = this.gameObject.transform.localScale();
        for (var t = 0; t < this.labels.length; t++) this.cachedLabelWidths.push(-69), this.cachedActiveState.push(!1)
    }
}, MultipleLabelAnchor.prototype.Update = function () {
    this.Start();
    var t = 0,
        e = !1;
    for (t = 0; t < this.labels.length; t++) {
        var i = this.GetLabelWidth(this.labels[t]);
        (i != this.cachedLabelWidths[t] || this.ignoreInactiveLabels && this.labels[t].gameObject.activeInHierarchy != this.cachedActiveState[t]) && (this.cachedLabelWidths[t] = i, this.cachedActiveState[t] = this.labels[t].gameObject.activeInHierarchy, e = !0)
    }
    if (e || this.mustForcedNextUpdate) {
        this.mustForcedNextUpdate = !1;
        var n, o = 0;
        for (t = 0; t < this.labels.length; t++)
            if (!this.ignoreInactiveLabels || 0 != this.cachedActiveState[t]) {
                var s = (this.alignment == MultipleLabelAnchor.Alignment.Left ? -1 : 1) * o;
                n = this.labels[t].gameObject.transform.localPosition(), this.labels[t].gameObject.transform.localPosition(s, n.y, n.z), o += this.cachedLabelWidths[t] + this.spacing
            } var a = o - this.spacing;
        if (this.alignment == MultipleLabelAnchor.Alignment.Center) {
            var r = a / 2;
            for (t = 0; t < this.labels.length; t++)
                if (!this.ignoreInactiveLabels || 0 != this.cachedActiveState[t]) {
                    var l = this.labels[t].gameObject.transform.localPosition().x - r;
                    n = this.labels[t].gameObject.transform.localPosition(), this.labels[t].gameObject.transform.localPosition(l, n.y, n.z)
                }
        }
        if (this.anyPivots)
            for (t = 0; t < this.labels.length; t++) this.ignoreInactiveLabels && 0 == this.cachedActiveState[t] || (this.alignment == MultipleLabelAnchor.Alignment.Center || this.alignment == MultipleLabelAnchor.Alignment.Right ? this.IsPivot(MultipleLabelAnchor.pivotCenter, this.labels[t].anchorX) ? (n = this.labels[t].gameObject.transform.localPosition(), this.labels[t].gameObject.transform.localPosition(n.x + .5 * this.GetLabelWidth(this.labels[t]), n.y, n.z)) : this.IsPivot(MultipleLabelAnchor.pivotRight, this.labels[t].anchorX) && (n = this.labels[t].gameObject.transform.localPosition(), this.labels[t].gameObject.transform.localPosition(n.x + this.GetLabelWidth(this.labels[t]), n.y, n.z)) : this.IsPivot(MultipleLabelAnchor.pivotCenter, this.labels[t].anchorX) ? (n = this.labels[t].gameObject.transform.localPosition(), this.labels[t].gameObject.transform.localPosition(n.x - .5 * this.GetLabelWidth(this.labels[t]), n.y, n.z)) : this.IsPivot(MultipleLabelAnchor.pivotLeft, this.labels[t].anchorX) && (n = this.labels[t].gameObject.transform.localPosition(), this.labels[t].gameObject.transform.localPosition(n.x - this.GetLabelWidth(this.labels[t]), n.y, n.z)));
        if (this.maxWidth > 0 && a > this.maxWidth) {
            var u = this.maxWidth / a;
            this.gameObject.transform.localScale(u, this.scaleY ? u : this.initialScale.y, this.initialScale.z)
        } else this.gameObject.transform.localScale(this.initialScale);
        this.width = a
    }
}, MultipleLabelAnchor.prototype.GetLabelWidth = function (t) {
    return this.ignoreLabelsScale ? t.GetWidth() : Math.round(t.GetWidth() * t.transform.localScale().x)
}, MultipleLabelAnchor.prototype.ForceNextUpdate = function () {
    this.mustForcedNextUpdate = !0
}, MultipleLabelAnchor.prototype.DiscardCache = function () {
    this.cachedLabelWidths.splice(0), this.cachedActiveState.splice(0);
    for (var t = 0; t < this.labels.length; t++) this.cachedLabelWidths.push(-69), this.cachedActiveState.push(!1)
}, goog.require("UHT.XTLink"), CoinsSwitcher.prototype = Object.create(XTLink.prototype), CoinsSwitcher.prototype.constructor = CoinsSwitcher, CoinsSwitcher.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.FromServer_AllowCoins, this.OnAllowCoinsChanged, this)
}, CoinsSwitcher.prototype.OnAllowCoinsChanged = function (t) {
    this.gameObject.GetComponent(Collider).enabled = t
}, CoinsSwitcher.prototype.OnPress = function (t) {
    t && (XT.SetBool(Vars.HasCoins, !XT.GetBool(Vars.HasCoins)), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer))
}, goog.require("UHT.Engine"), goog.require("UHT.GUIMessageBase"), GUIMessageTurboSpin.prototype = Object.create(GUIMessageBase.prototype), GUIMessageTurboSpin.prototype.constructor = GUIMessageTurboSpin, GUIMessageTurboSpin.randomMessagesBetweenTurboSpinMessage = 0, GUIMessageTurboSpin.prototype.Show = function () {
    XT.GetBool(Vars.ContinuousSpin) && XT.SetInt(Vars.DesktopTurboSpinMessageShowCount, XT.GetInt(Vars.DesktopTurboSpinMessageShowCount) + 1);
    var t = !1;
    if (XT.GetInt(Vars.DesktopTurboSpinMessageShowCount) <= this.turboSpinUsageCount && GUIMessageTurboSpin.randomMessagesBetweenTurboSpinMessage % 3 == 0 && (this.label.text = this.localized_SpaceToTurboSpin.text, t = !0), !t && null != this.messages && this.messages.length > 0) {
        var e = Random.Range(0, this.messages.length);
        this.label.text = this.messages[e]
    }
    GUIMessageTurboSpin.randomMessagesBetweenTurboSpinMessage++, this.gameObject.SetActive(!0)
}, GUIMessageTurboSpin.prototype.Hide = function () {
    this.gameObject.SetActive(!1)
}, goog.require("UHT.XTLink"), ValueControlledActive.prototype = Object.create(XTLink.prototype), ValueControlledActive.prototype.constructor = ValueControlledActive, ValueControlledActive.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackDouble(this.vdVariable.variable.name, this.OnTargetValueChanged, this)
}, ValueControlledActive.prototype.OnTargetValueChanged = function (t) {
    for (var e = t > 0, i = 0; i < this.visibleWhenPositive.length; ++i) this.visibleWhenPositive[i].SetActive(e);
    for (i = 0; i < this.visibleWhenZeroOrNegative.length; ++i) this.visibleWhenZeroOrNegative[i].SetActive(!e)
}, goog.require("UHT.Engine"), HasCoinsSwitcher.prototype = Object.create(XTLink.prototype), HasCoinsSwitcher.prototype.constructor = HasCoinsSwitcher, HasCoinsSwitcher.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.HasCoins, this.OnHasCoinsChanged, this)
}, HasCoinsSwitcher.prototype.OnDestroy = function () {
    XT.UnregisterCallbackBool(this.OnHasCoinsChanged, this)
}, HasCoinsSwitcher.prototype.OnHasCoinsChanged = function (t) {
    var e = 0;
    for (e = 0; e < this.visibleIfCoins.length; e++) null != this.visibleIfCoins[e] && this.visibleIfCoins[e].SetActive(t);
    for (e = 0; e < this.visibleIfNoCoins.length; e++) null != this.visibleIfNoCoins[e] && this.visibleIfNoCoins[e].SetActive(!t)
}, goog.require("UHT.Engine"), IdleSpinCounter.prototype = Object.create(XTLink.prototype), IdleSpinCounter.prototype.constructor = IdleSpinCounter, IdleSpinCounter.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_StartIdleSpinCounter, this.StartCounter, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StopIdleSpinCounter, this.StopCounter, this)
}, IdleSpinCounter.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(Vars.IdleStateActive, !1)
}, IdleSpinCounter.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.StartCounter, this), XT.UnregisterCallbackEvent(this.StopCounter, this)
}, IdleSpinCounter.prototype.StopCounter = function () {
    this.isIdle && (this.idleState.IsRunning() && this.idleState.Stop(), this.activeState.Start()), this.isIdle = !1, this.isCounting = !1, XT.SetBool(Vars.IdleStateActive, !1), XT.TriggerEvent(Vars.Evt_Internal_ExitIdleSpinState)
}, IdleSpinCounter.prototype.StartCounter = function () {
    this.isCounting || (this.isCounting = !0, this.timer = 0)
}, IdleSpinCounter.prototype.Update = function () {
    this.isCounting && !this.isIdle && (this.timer += Time.deltaTime, this.timer >= this.timeToIdleState && (XT.SetBool(Vars.IdleStateActive, !0), XT.TriggerEvent(Vars.Evt_Internal_EnterIdleSpinState), this.isIdle = !0, this.idleState.Start()))
}, goog.require("UHT.XTLink"), TimeToSpin.prototype = Object.create(XTLink.prototype), TimeToSpin.prototype.constructor = TimeToSpin, TimeToSpin.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.Jurisdiction_ResultMinimumTime, this.OnResultMinimumTime, this), XT.RegisterCallbackBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins, this.OnResultMinimumTimeBetweenSpins, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop, this.OnDoLoop, this)
}, TimeToSpin.prototype.OnDoLoop = function () {
    if (!XT.GetBool(Vars.Logic_IsFreeSpin) && !XT.GetBool(Vars.IsDifferentSpinType) && this.SRisActive && this.firstTimeInResult) {
        this.currentTime = 0, this.targetTime = XT.GetFloat(Vars.Jurisdiction_ResultMinimumTime_Value), XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins) && (this.targetTime = Math.max(this.targetTime, XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value) - XT.GetFloat(Vars.SpinDuration)));
        for (var t = 0; t < this.sprites.length; t++) this.sprites[t].fillAmount = 0;
        this.isPlaying = !0;
        for (t = 0; t < this.contents.length; t++) this.contents[t].SetActive(!0);
        this.firstTimeInResult = !1
    }
}, TimeToSpin.prototype.OnResultMinimumTime = function (t) {
    this.SRisActive = t
}, TimeToSpin.prototype.OnResultMinimumTimeBetweenSpins = function (t) {
    this.SBisActive = t
}, TimeToSpin.prototype.OnSpinStarted = function () {
    if (!XT.GetBool(Vars.IsDifferentSpinType) || !this.lastNormalSpinUsedAutoplay) {
        this.firstTimeInResult = !0, this.lastNormalSpinUsedAutoplay = XT.GetInt(Vars.AutoplaySpinsLeft) >= 0 && !XT.GetBool(Vars.IsDifferentSpinType);
        var t = XT.GetObject(Vars.RespinData),
            e = null != t && !t.IsDone;
        if (!(XT.GetInt(Vars.AutoplaySpinsLeft) >= 0 || XT.GetBool(Vars.Logic_IsFreeSpin) || e) && this.SBisActive && !this.SRisActive) {
            this.currentTime = XT.GetFloat(Vars.SpinDuration), this.targetTime = XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value);
            for (var i = 0; i < this.sprites.length; i++) this.sprites[i].fillAmount = 0;
            this.isPlaying = !0;
            for (i = 0; i < this.contents.length; i++) this.contents[i].SetActive(!0)
        }
    }
}, TimeToSpin.prototype.Update = function () {
    if (this.isPlaying) {
        if (this.currentTime >= this.targetTime) {
            this.isPlaying = !1;
            for (var t = 0; t < this.contents.length; t++) this.contents[t].SetActive(!1)
        }
        this.currentTime += Time.deltaTime, this.currentTime >= this.targetTime && (this.currentTime = this.targetTime);
        for (t = 0; t < this.widgetMasks.length; t++) this.widgetMasks[t].shapes[0].arc_start = -Math.PI / 2, this.widgetMasks[t].shapes[0].arc_end = -Math.PI / 2 + 2 * Math.PI * this.currentTime / this.targetTime, this.widgetMasks[t].needUpdate = !0
    }
}, goog.require("UHT.Engine"), BuyFeature_BetButtons.prototype = Object.create(XTLink.prototype), BuyFeature_BetButtons.prototype.constructor = BuyFeature_BetButtons, BuyFeature_BetButtons.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(InterfaceVars.BUY_BetController_visible, this.OnVisibilityChanged, this), XT.RegisterCallbackBool(InterfaceVars.BUY_BetController_blocked, this.OnContentBlocked, this), XT.RegisterCallbackBool(InterfaceVars.BUY_BetController_canIncrease, this.OnUpdateButtonUp, this), XT.RegisterCallbackBool(InterfaceVars.BUY_BetController_canDecrease, this.OnUpdateButtonDown, this), XT.RegisterCallbackBool(Vars.MaxBetAndCoinValueReached, this.OnUpdateButtonUp, this), XT.RegisterCallbackBool(Vars.MinBetAndCoinValueReached, this.OnUpdateButtonDown, this)
}, BuyFeature_BetButtons.prototype.OnVisibilityChanged = function (t) {
    t ? this.showContent.Start() : this.hideContent.Start()
}, BuyFeature_BetButtons.prototype.OnUpdateButtonUp = function (t) {
    !XT.GetBool(Vars.MaxBetAndCoinValueReached) && XT.GetBool(InterfaceVars.BUY_BetController_canIncrease) ? this.betUp_btnEnabler.EnableButton() : this.betUp_btnEnabler.DisableButton()
}, BuyFeature_BetButtons.prototype.OnUpdateButtonDown = function (t) {
    !XT.GetBool(Vars.MinBetAndCoinValueReached) && XT.GetBool(InterfaceVars.BUY_BetController_canDecrease) ? this.betDown_btnEnabler.EnableButton() : this.betDown_btnEnabler.DisableButton()
}, BuyFeature_BetButtons.prototype.OnContentBlocked = function (t) {
    t ? this.blockContent.Start() : this.unblockContent.Start()
}, goog.require("UHT.Engine"), OrderedCATStarter.prototype = Object.create(Component.prototype), OrderedCATStarter.prototype.constructor = OrderedCATStarter, OrderedCATStarter.prototype.StartMextCAT = function () {
    this.resetAutomatically && this.nextCAT >= this.cats.length && this.ResetCATCount(), this.nextCAT >= this.cats.length || null == this.cats[this.nextCAT].cat || (this.cats[this.nextCAT].Start(), this.nextCAT++)
}, OrderedCATStarter.prototype.ResetCATCount = function () {
    this.nextCAT = 0
}, OrderedCATStarter.prototype.SetNextCAT = function (t) {
    this.nextCAT = t
}, goog.require("UHT.UHTEngine");
var V3AnimationProperty = {
        Position: 0,
        LocalScale: 1,
        LocalPosition: 2,
        LocalRotation: 3
    },
    V3AnimationMode = {
        Default: 0,
        Loop: 1,
        Clamp: 2
    },
    V3AnimatorAction = {
        NoAction: 0,
        Play: 1,
        PlayReversed: 2
    },
    V3AnimatorUpdateMethod = {
        Update: 0,
        LateUpdate: 1
    };

function V3Animator() {
    Component.call(this), this.target = null, this.from = null, this.to = null, this.animationTime = 0, this.animationCurve = AnimationCurve.linear(0, 0, 1, 1), this.animationProperty = V3AnimationProperty.Position, this.animationMode = V3AnimationMode.Default, this.staticFromAndTo = !1, this.staticFrom = !1, this.staticTo = !1, this.animationCurveX = null, this.animationCurveY = null, this.useXAndYCurves = !1, this.onEnable = V3AnimatorAction.NoAction, this.updateOn = V3AnimatorUpdateMethod.Update, this.callWhenFinished = null, this.callWhenNoChange = null, this.unclamped = !1, this.useMultipleTargets = !1, this.multipleTargets = null, this.useManualFrom = !1, this.manualFrom = null, this.useManualTo = !1, this.manualTo = null, this.affectX = !0, this.affectY = !0, this.affectZ = !0, this.timeScaleID = "", this.v3From = null, this.v3To = null, this.currentTime = 0, this.isPlaying = !1, this.isReversed = !1, this.isStuck = !1, this.stickTime = 0, this.prevValue = UHTMath.Vector3.zero, this.valueChanged = !1, this.canStartCallback = !0
}

function SoundSliderVolume2Cat() {
    this.value = 0, this.cat = null
}

function SoundSlider() {
    XTLink.call(this), this.thumb = null, this.localPositionMin = null, this.localPositionMax = null, this.scrollWheelMovement = null, this.scrollWheels = null, this.labels = null, this.bars = null, this.catMute = null, this.catUnmute = null, this.catVolume = null, this.cachedCamera = null, this.prevThumbPos = new UHTMath.Vector3(-1, -1, -1), this.soundManagerInit = !1, this.volumePercent = 0, this.mustUpdateVolume = !1
}

function SoundButtonControllerMobile() {
    XTLink.call(this), this.buttonOn = null, this.buttonOff = null, this.buttonDownload = null, this.waiting = null, this.mustUpdate = !0, this.enableSoundsWhenReady = !1
}

function BetGridManager() {
    XTLink.call(this), this.container, this.xButton, this.title, this.betCell, this.background, this.cellWidth, this.cellHeight, this.cellSpacingX, this.cellSpacingY, this.bkgMinWidth, this.bkgMinHeight, this.maxWidthBeforeScaling, this.maxHeightBeforeScaling, this.windowTitleSize, this.windowTitleOffset, this.lateralPadding, this.bottomPadding, this.isDesktop = !0, this.cells = []
}

function BetCell() {
    XTLink.call(this), this.bet = null, this.selected = null, this.betIndex = -1
}

function LabelTextCopy() {
    Component.call(this), this.source = null, this.myLabel = null
}

function GameHistoryButton() {
    XTLink.call(this), this.wasTouchMove = !1, this.touchStartHandler = null, this.touchMoveHandler = null, this.touchEndHandler = null
}

function GameHistoryWindow() {
    this.root = null, this.btn = null, this.resizeHandler = null, GameHistoryWindow.I = this
}

function JurisdictionPromoUrlButton() {
    XTLink.call(this), this.wasTouchMove = !1, this.touchStartHandler = null, this.touchMoveHandler = null, this.touchEndHandler = null
}

function JurisdictionPromoUrl() {
    XTLink.call(this), this.mobile = !1, this.newPos = null, this.newScale = null, this.settingWindows = []
}
V3Animator.prototype = Object.create(Component.prototype), V3Animator.prototype.constructor = V3Animator, V3Animator.prototype.Play = function () {
    this.currentTime = 0, this.isPlaying = !0, this.isReversed = !1, this.GetFromAndTo()
}, V3Animator.prototype.PlayReversed = function () {
    this.currentTime = 0, this.isPlaying = !0, this.isReversed = !0, this.GetFromAndTo()
}, V3Animator.prototype.Stop = function () {
    this.currentTime = 0, this.isPlaying = !1
}, V3Animator.prototype.Pause = function () {
    this.isPlaying = !1
}, V3Animator.prototype.Resume = function () {
    this.isPlaying = !0
}, V3Animator.prototype.IsPlaying = function () {
    return this.isPlaying
}, V3Animator.prototype.Sample = function (t) {
    this.isPlaying = !1, this.isReversed = !1, this.GetFromAndTo(), this.UpdateValue(Number(t))
}, V3Animator.prototype.SampleAndSetCurrentTime = function (t) {
    t = Number(t), this.Sample(t), this.currentTime = t * this.animationTime
}, V3Animator.prototype.Stick = function (t) {
    this.isStuck = !0, this.stickTime = Number(t)
}, V3Animator.prototype.Unstick = function () {
    this.isStuck = !1
}, V3Animator.prototype.InternalUpdate = function () {
    this.isPlaying && (this.GetFromAndTo(!0), this.UpdateValue(this.currentTime / this.animationTime), this.currentTime >= this.animationTime && (this.animationMode == V3AnimationMode.Default ? (this.isPlaying = !1, null != this.callWhenFinished && this.canStartCallback && this.callWhenFinished.Start()) : this.animationMode == V3AnimationMode.Loop && (this.currentTime -= this.animationTime, this.UpdateValue(this.currentTime / this.animationTime))), !this.valueChanged && this.currentTime > 0 && null != this.callWhenNoChange && null != this.callWhenNoChange.cat && this.callWhenNoChange.Start(), this.currentTime += TimeScaler.GetDeltaTime(this.timeScaleID)), this.isStuck && (this.GetFromAndTo(!0), this.UpdateValue(this.stickTime))
}, V3Animator.prototype.GetFromAndTo = function (t) {
    var e = UHTMath.Vector3.zero,
        i = UHTMath.Vector3.zero;
    switch (this.animationProperty) {
        case V3AnimationProperty.Position:
            this.useManualFrom || (e = this.from.transform.position()), this.useManualTo || (i = this.to.transform.position());
            break;
        case V3AnimationProperty.LocalPosition:
            this.useManualFrom || (e = this.from.transform.localPosition()), this.useManualTo || (i = this.to.transform.localPosition());
            break;
        case V3AnimationProperty.LocalRotation:
            this.useManualFrom || (e = this.from.transform.localEulerAngles()), this.useManualTo || (i = this.to.transform.localEulerAngles());
            break;
        case V3AnimationProperty.LocalScale:
            this.useManualFrom || (e = this.from.transform.localScale()), this.useManualTo || (i = this.to.transform.localScale());
            break
    }
    t = Boolean(t), this.useManualFrom ? this.v3From = this.manualFrom : t && this.staticFrom || (this.v3From = e), this.useManualTo ? this.v3To = this.manualTo : t && this.staticTo || (this.v3To = i)
}, V3Animator.prototype.Evaluate = function (t) {
    var e = UHTMath.clamp(t, 0, 1);
    this.isReversed && (e = 1 - e), e *= this.animationCurve.keys[this.animationCurve.keys.length - 1].time;
    var i, n, o, s = this.animationCurve,
        a = this.animationCurve,
        r = this.animationCurve;
    return this.useXAndYCurves && (s = this.animationCurveX, a = this.animationCurveY), this.unclamped ? (i = UHTMath.lerpUnclamped(this.v3From.x, this.v3To.x, s.Evaluate(e)), n = UHTMath.lerpUnclamped(this.v3From.y, this.v3To.y, a.Evaluate(e)), o = UHTMath.lerpUnclamped(this.v3From.z, this.v3To.z, r.Evaluate(e))) : (i = UHTMath.lerp(this.v3From.x, this.v3To.x, s.Evaluate(e)), n = UHTMath.lerp(this.v3From.y, this.v3To.y, a.Evaluate(e)), o = UHTMath.lerp(this.v3From.z, this.v3To.z, r.Evaluate(e))), new UHTMath.Vector3(i, n, o)
}, V3Animator.prototype.UpdateValue = function (t) {
    var e = this.Evaluate(t);
    switch (this.valueChanged = !this.prevValue.equals(e), this.prevValue = e, this.animationProperty) {
        case V3AnimationProperty.Position:
            if (this.useMultipleTargets)
                for (var i = 0; i < this.multipleTargets.length; ++i) this.multipleTargets[i].transform.position(this.GetValue(this.multipleTargets[i].transform.position(), e));
            else this.target.transform.position(this.GetValue(this.target.transform.position(), e));
            break;
        case V3AnimationProperty.LocalPosition:
            if (this.useMultipleTargets)
                for (i = 0; i < this.multipleTargets.length; ++i) this.multipleTargets[i].transform.localPosition(this.GetValue(this.multipleTargets[i].transform.localPosition(), e));
            else this.target.transform.localPosition(this.GetValue(this.target.transform.localPosition(), e));
            break;
        case V3AnimationProperty.LocalRotation:
            if (this.useMultipleTargets)
                for (i = 0; i < this.multipleTargets.length; ++i) this.multipleTargets[i].transform.localRotation(UHTMath.Quaternion.euler(this.GetValue(this.multipleTargets[i].transform.localEulerAngles(), e)));
            else this.target.transform.localRotation(UHTMath.Quaternion.euler(this.GetValue(this.target.transform.localEulerAngles(), e)));
            break;
        case V3AnimationProperty.LocalScale:
            if (this.useMultipleTargets)
                for (i = 0; i < this.multipleTargets.length; ++i) this.multipleTargets[i].transform.localScale(this.GetValue(this.multipleTargets[i].transform.localScale(), e));
            else this.target.transform.localScale(this.GetValue(this.target.transform.localScale(), e));
            break
    }
}, V3Animator.prototype.OnEnable = function () {
    switch (this.onEnable) {
        case V3AnimatorAction.Play:
            this.Play();
            break;
        case V3AnimatorAction.PlayReversed:
            this.PlayReversed();
            break
    }
}, V3Animator.prototype.Update = function () {
    this.updateOn == V3AnimatorUpdateMethod.Update && this.InternalUpdate()
}, V3Animator.prototype.LateUpdate = function () {
    this.updateOn == V3AnimatorUpdateMethod.LateUpdate && this.InternalUpdate()
}, V3Animator.prototype.Awake = function () {
    this.staticFromAndTo && (this.staticFrom = this.staticTo = this.staticFromAndTo)
}, V3Animator.prototype.GetValue = function (t, e) {
    var i = this.affectX ? e.x : t.x,
        n = this.affectY ? e.y : t.y,
        o = this.affectZ ? e.z : t.z;
    return new UHTMath.Vector3(i, n, o)
}, goog.require("UHT.XTLink"), SoundSlider.prototype = Object.create(XTLink.prototype), SoundSlider.prototype.constructor = SoundSlider, SoundSlider.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SoundManager, this.OnInitSoundManager, this, -1), XT.RegisterCallbackEvent(Vars.Evt_Internal_SoundStateChanged, this.OnSoundStateChanged, this)
}, SoundSlider.prototype.OnInitSoundManager = function () {
    this.thumb.limitPosition = !0, this.thumb.useScrollWheel = !0, this.thumb.localPositionLimitMin = this.localPositionMin, this.thumb.localPositionLimitMax = this.localPositionMax, this.thumb.scrollWheelMovement = this.scrollWheelMovement;
    for (var t = 0; t < this.scrollWheels.length; ++t) this.scrollWheels[t].limitPosition = !0, this.scrollWheels[t].useScrollWheel = !0, this.scrollWheels[t].useOnlyScrollWheel = !0, this.scrollWheels[t].localPositionLimitMin = this.localPositionMin, this.scrollWheels[t].localPositionLimitMax = this.localPositionMax, this.scrollWheels[t].scrollWheelMovement = this.scrollWheelMovement;
    this.UpdateVolume(XT.GetFloat(Vars.SoundVolume)), this.OnSoundStateChanged()
}, SoundSlider.prototype.LateUpdate = function () {
    var t = this.thumb.target.localPosition();
    t.equals(this.prevThumbPos) || this.UpdateVolume((t.x - this.thumb.localPositionLimitMin.x) / (this.thumb.localPositionLimitMax.x - this.thumb.localPositionLimitMin.x)), this.mustUpdateVolume && this.InternalUpdateVolume(XT.GetFloat(Vars.SoundVolume))
}, SoundSlider.prototype.InternalUpdateVolume = function (t) {
    SoundLoader.initialized ? (createjs.Sound.setVolume(t), this.mustUpdateVolume = !1) : this.mustUpdateVolume = !0
}, SoundSlider.prototype.UpdateVolume = function (t) {
    t = UHTMath.clamp(t, 1e-5, 1), this.InternalUpdateVolume(t), this.volumePercent = Math.round(100 * t);
    for (var e = String(this.volumePercent), i = 0; i < this.labels.length; ++i) this.labels[i].text = e;
    var n = 0;
    for (i = 0; i < this.catVolume.length; ++i) this.volumePercent >= this.catVolume[i].value && (n = i);
    this.catVolume[n].cat.Start();
    for (i = 0; i < this.bars.length; ++i) this.bars[i].transform.localScale(new UHTMath.Vector3(t, 1, 1));
    var o = UHTMath.Vector3.lerp(this.thumb.localPositionLimitMin, this.thumb.localPositionLimitMax, t);
    if (this.thumb.target.localPosition(o), this.prevThumbPos = o, this.soundManagerInit) {
        var s = XT.GetObject(Vars.SoundState).gameSoundIsOn;
        (s && 0 == this.volumePercent || !s && this.volumePercent > 0) && XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn)
    }
    XT.SetFloat(Vars.SoundVolume, t), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer), this.soundManagerInit = !0
}, SoundSlider.prototype.OnPress = function (t) {
    t && (null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject)), this.thumb.target.position(this.thumb.GetPosition(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition)))), this.thumb.OnPress(t)
}, SoundSlider.prototype.OnSoundStateChanged = function () {
    XT.GetObject(Vars.SoundState).gameSoundIsOn ? this.catUnmute.Start() : this.catMute.Start()
}, SoundSlider.prototype.SoundButtonPressed = function () {
    (XT.GetObject(Vars.SoundState).gameSoundIsOn || 0 != this.volumePercent) && XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn)
}, goog.provide("UHT.SoundButtonControllerMobile"), goog.require("UHT.Engine"), SoundButtonControllerMobile.prototype = Object.create(XTLink.prototype), SoundButtonControllerMobile.prototype.constructor = SoundButtonControllerMobile, SoundButtonControllerMobile.buttonsUpdatedAfterDownload = !1, SoundButtonControllerMobile.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_SoundStateChanged, this.OnSoundStateChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnSoundStateChanged, this)
}, SoundButtonControllerMobile.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnSoundStateChanged, this)
}, SoundButtonControllerMobile.prototype.OnSoundStateChanged = function () {
    UHTEngine.SoundsAreLoaded() && this.InternalUpdateButtons()
}, SoundButtonControllerMobile.prototype.Start = function () {
    this.buttonOn.SetActive(!1), this.buttonOff.SetActive(!1), this.buttonDownload.SetActive(!0), this.waiting.SetActive(!1)
}, SoundButtonControllerMobile.prototype.Update = function () {
    UHTEngine.SoundsAreLoading() && !this.waiting.activeInHierarchy ? (this.buttonDownload.SetActive(!1), this.waiting.SetActive(!0)) : UHTEngine.SoundsAreLoaded() && this.mustUpdate && (this.mustUpdate = !1, this.waiting.SetActive(!1), this.buttonDownload.SetActive(!1), this.InternalUpdateButtons(), SoundButtonControllerMobile.buttonsUpdatedAfterDownload = !0)
}, SoundButtonControllerMobile.prototype.SoundOffButtonClicked = function () {
    (XT.GetObject(Vars.SoundState).gameSoundIsOn || Globals.isMini) && XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn)
}, SoundButtonControllerMobile.prototype.SoundOnButtonClicked = function () {
    XT.GetObject(Vars.SoundState).gameSoundIsOn && !Globals.isMini || XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn)
}, SoundButtonControllerMobile.prototype.InternalUpdateButtons = function () {
    var t = XT.GetObject(Vars.SoundState).gameSoundIsOn;
    this.buttonOn.SetActive(t), this.buttonOff.SetActive(!t)
}, SoundButtonControllerMobile.prototype.SoundDownloadClicked = function () {
    UHTEngine.StartLoadingSounds(), this.enableSoundsWhenReady && XT.SetBool(InterfaceVars.EnableSoundsWhenReady, !0)
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink"), BetGridManager.prototype = Object.create(XTLink.prototype), BetGridManager.prototype.constructor = BetGridManager, BetGridManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.Bets, this.OnBetsChanged, this)
}, BetGridManager.prototype.OnBetsChanged = function (t) {
    for (var e = t; this.container.childCount() > 0;) this.container.children[0].GetComponent(BetCell).OnDestroy(), this.container.children[0].SetParent(null, !1);
    this.cells = [];
    for (var i = 0; i < e.length; i++) {
        var n = instantiate(this.betCell);
        n.SetActive(!0), n.transform.SetParent(this.container, !1), this.cells.push(n)
    }
    this.isDesktop ? this.GenerateGridDesktop() : this.GenerateGridMobile()
}, BetGridManager.prototype.GenerateGridDesktop = function () {
    var t = XT.GetInt(Vars.NextBetIndex),
        e = Math.ceil(Math.sqrt(this.cells.length)),
        i = -1;
    i = e * (e - 1) >= this.cells.length ? e - 1 : e;
    for (var n = new UHTMath.Vector3(-(e - 1) * (this.cellWidth + this.cellSpacingX) - .5 * this.cellWidth - this.cellSpacingX, (i - 1) * (this.cellHeight + this.cellSpacingY) + .5 * this.cellHeight + this.cellSpacingY, 0), o = 0; o < this.cells.length; o++) {
        this.cells[o].transform.localPosition(new UHTMath.Vector3(o % e * (this.cellWidth + this.cellSpacingX), -Math.floor(o / e) * (this.cellHeight + this.cellSpacingY), 0).add(n));
        var s = this.cells[o].GetComponent(BetCell);
        s.SetBetIndex(o), s.OnNextBetIndex(t)
    }
    this.background.width = -n.x + .5 * this.cellWidth + this.cellSpacingX, this.background.height = n.y + .5 * this.cellHeight + this.cellSpacingY, this.background.width < this.bkgMinWidth && (this.background.width = this.bkgMinWidth), this.background.height < this.bkgMinHeight && (this.background.height = this.bkgMinHeight);
    var a = 1;
    this.background.width > this.maxWidthBeforeScaling && (a = this.maxWidthBeforeScaling / this.background.width, this.background.width = this.maxWidthBeforeScaling, this.background.height = this.background.height * a), this.background.height > this.maxHeightBeforeScaling && (a = Math.min(this.maxHeightBeforeScaling / this.background.height, a), this.background.height = this.maxHeightBeforeScaling, this.background.width = this.background.width * a), this.background.width += 2 * this.lateralPadding, this.background.height += this.windowTitleSize + this.bottomPadding, this.container.localScale(new UHTMath.Vector3(a, a, 1)), this.container.localPosition(new UHTMath.Vector3(-this.lateralPadding * a, this.bottomPadding * a, 0)), 1 == this.cells.length && this.container.localPosition(new UHTMath.Vector3(-this.lateralPadding - .5 * this.cellWidth, this.bottomPadding * a, 0));
    var r = this.xButton.localPosition();
    r.y = this.background.height - .5 * this.windowTitleSize, this.xButton.localPosition(r);
    var l = this.title.localPosition();
    l.y = this.background.height - .5 * this.windowTitleSize, l.x = .5 * -this.background.width + this.windowTitleOffset, this.title.localPosition(l)
}, BetGridManager.prototype.GenerateGridMobile = function () {
    for (var t = XT.GetInt(Vars.NextBetIndex), e = 1, i = 1, n = 1, o = 3, s = !1; !s;) {
        var a = Math.floor(this.maxHeightBeforeScaling / ((this.cellHeight + this.cellSpacingY) * e));
        if (o * a >= this.cells.length) s = !0;
        else {
            var r = i * o * 1 / (o + 1),
                l = n * a * 1 / (a + 1);
            r > l ? (o++, e = r, i = r) : (e = l, n = l)
        }
    }
    for (var u = Math.ceil(this.cells.length / o), h = new UHTMath.Vector3(-(o - 1) * (this.cellWidth + this.cellSpacingX) * .5, (u - 1) * (this.cellHeight + this.cellSpacingY) * .5, 0), c = 0; c < this.cells.length; c++) {
        this.cells[c].transform.localPosition(new UHTMath.Vector3(c % o * (this.cellWidth + this.cellSpacingX), -Math.floor(c / o) * (this.cellHeight + this.cellSpacingY), 0).add(h));
        var p = this.cells[c].GetComponent(BetCell);
        p.SetBetIndex(c), p.OnNextBetIndex(t)
    }
    this.background.width = (2 * -h.x + this.cellWidth + this.cellSpacingX) * e + 2 * this.lateralPadding, this.background.height = (2 * h.y + this.cellHeight + this.cellSpacingY) * e + this.windowTitleSize + this.bottomPadding, this.background.width < this.bkgMinWidth && (this.background.width = this.bkgMinWidth), this.background.height < this.bkgMinHeight && (this.background.height = this.bkgMinHeight), this.container.localScale(new UHTMath.Vector3(e, e, 1)), this.container.localPosition(new UHTMath.Vector3(0, -.5 * (this.windowTitleSize - this.bottomPadding), 0)), 1 == this.cells.length && this.container.localPosition(new UHTMath.Vector3(this.cellWidth + this.cellSpacingX, -.5 * (this.windowTitleSize - this.bottomPadding), 0));
    var d = this.xButton.localPosition();
    d.y = .5 * this.background.height - .5 * this.windowTitleSize, this.xButton.localPosition(d);
    var m = this.title.localPosition();
    m.y = .5 * this.background.height - .5 * this.windowTitleSize, this.title.localPosition(m)
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink"), BetCell.prototype = Object.create(XTLink.prototype), BetCell.prototype.constructor = BetCell, BetCell.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.TotalBets, this.OnTotalBetsChanged, this), XT.RegisterCallbackInt(Vars.NextBetIndex, this.OnNextBetIndex, this)
}, BetCell.prototype.OnDestroy = function () {
    XT.UnregisterCallbackObject(this.OnTotalBetsChanged, this), XT.UnregisterCallbackInt(this.OnNextBetIndex, this)
}, BetCell.prototype.SetBetIndex = function (t) {
    this.betIndex = t
}, BetCell.prototype.OnTotalBetsChanged = function (t) {
    var e = t;
    null != e && -1 != this.betIndex && this.betIndex < e.length && (this.bet.text = LocaleManager.FormatValueWithCustomCurrency(e[this.betIndex], ServerOptions.currency))
}, BetCell.prototype.SelectBet = function () {
    CoinManager.SetBetIndex(this.betIndex)
}, BetCell.prototype.OnNextBetIndex = function (t) {
    this.selected.SetActive(t == this.betIndex)
}, goog.require("UHT.Engine"), LabelTextCopy.prototype = Object.create(Component.prototype), LabelTextCopy.prototype.constructor = LabelTextCopy, LabelTextCopy.prototype.Awake = function () {
    this.myLabel = this.gameObject.GetComponent(UILabel)
}, LabelTextCopy.prototype.Update = function () {
    this.source.text != this.myLabel.text && (this.myLabel.text = this.source.text)
}, goog.require("UHT.Engine"), GameHistoryButton.prototype = Object.create(XTLink.prototype), GameHistoryButton.prototype.constructor = GameHistoryButton, GameHistoryButton.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.HasGameHistory, this.OnValueChanged, this)
}, GameHistoryButton.prototype.OnDestroy = function () {
    XT.UnregisterCallbackBool(this.OnValueChanged, this)
}, GameHistoryButton.prototype.OnValueChanged = function (t) {
    var e = this.gameObject.GetComponent(ButtonEnabler);
    t ? e.EnableButton() : e.DisableButton()
}, GameHistoryButton.prototype.Awake = function () {
    createjs.BrowserDetect.isIOS && (this.touchStartHandler = new EventHandler(this, this.OnTouchStart), this.touchMoveHandler = new EventHandler(this, this.OnTouchMove), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonDown, this.touchStartHandler), globalColliderInputManager.addEventHandler(ColliderEvent.MouseMove, this.touchMoveHandler)), this.touchEndHandler = new EventHandler(this, this.OnTouchEnd), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp, this.touchEndHandler), this.cachedCamera = Globals.GetCameraForObject(this.gameObject)
}, GameHistoryButton.prototype.OnTouchStart = function () {
    this.wasTouchMove = !1
}, GameHistoryButton.prototype.OnTouchMove = function () {
    this.wasTouchMove = !0
}, GameHistoryButton.prototype.OnTouchEnd = function () {
    if (this.gameObject.activeInHierarchy && XT.GetBool(Vars.HasGameHistory)) {
        var t = new LayerMask;
        t.mask = 1 << this.gameObject.layer;
        var e = globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition), t);
        if (!this.wasTouchMove && e == this.gameObject.collider) {
            if (UHTInterfaceBOSS.HandleGameHistory()) return;
            UHT_GAME_CONFIG.openHistoryInTab ? window.open(ServerOptions.gameHistory) : GameHistoryWindow.IsOpen() || (new GameHistoryWindow).Open()
        }
    }
}, GameHistoryWindow.I = null, GameHistoryWindow.IsOpen = function () {
    return null != GameHistoryWindow.I
}, GameHistoryWindow.prototype.CreateElement = function (t, e, i) {
    var n = document.createElement(t);
    for (var o in e) n.setAttribute(o, e[o]);
    return i && document.body.appendChild(n), n
}, GameHistoryWindow.prototype.Open = function () {
    var t = this,
        e = t.CreateElement("iframe", {
            src: ServerOptions.gameHistory,
            class: "history-frame",
            frameborder: "0"
        }, !1);
    if (t.btn = t.CreateElement("div", {
            class: "history-button"
        }, !0), t.btn.addEventListener("click", (function () {
            t.Close()
        }), !1), t.root = t.CreateElement("div", {
            class: "history-root"
        }, !0), (null != window.safari || document.documentElement.className.indexOf("iOS") >= 0) && !window.OLD_GAMEHISTORY && (e.style.width = "100%", e.style.height = "100%", t.root.style.width = "100%", t.root.style.height = "100%"), t.root.appendChild(e), (null != window.safari || document.documentElement.className.indexOf("iOS") >= 0) && !window.OLD_GAMEHISTORY) {
        var i = window.frames[0];
        null != i && (document.getElementsByClassName("history-button")[0].style.cssText = "-moz-transform:scale(0.6369230769230769);-webkit-transform:scale(0.6369230769230769);-ms-transform:scale(0.6369230769230769);-o-transform:scale(0.6369230769230769);transform:scale(0.6369230769230769)", i.addEventListener("DOMContentLoaded", (function () {
            this.document.addEventListener("touchmove", (function (t) {
                1 !== t.scale && t.preventDefault()
            }), {
                passive: !1
            });
            var t = this.frames.historyFrame;
            if (null != t) {
                t.contentWindow.addEventListener("touchmove", (function (t) {
                    1 !== t.scale && t.preventDefault()
                }), {
                    passive: !1
                }), this.document.getElementsByClassName("last-history-container")[0].style.width = "100%", this.document.getElementsByClassName("history-detail-iframe")[0].style.width = "100%", this.document.getElementsByClassName("customScroll")[0].style.minHeight = "100px";
                var e = window.matchMedia("(orientation: portrait)"),
                    i = this;
                (n = function (t) {
                    t.matches ? (i.document.getElementsByClassName("history-detail-iframe")[0].style.height = "55vh", i.document.getElementsByClassName("history-detail-iframe")[0].style.minHeight = "30vh", i.document.getElementsByClassName("customScroll")[0].style.height = "30vh") : (i.document.getElementsByClassName("history-detail-iframe")[0].style.height = "50vh", i.document.getElementsByClassName("history-detail-iframe")[0].style.minHeight = "30vh", i.document.getElementsByClassName("customScroll")[0].style.height = "50vh")
                })(e), e.addListener(n)
            } else {
                var n;
                (n = function (t) {
                    t.matches ? (document.getElementsByClassName("history-frame")[0].style.height = "85%", document.getElementsByClassName("history-frame")[0].style.width = "100%") : (document.getElementsByClassName("history-frame")[0].style.height = "100%", document.getElementsByClassName("history-frame")[0].style.width = "85%")
                })(e = window.matchMedia("(orientation: portrait)")), e.addListener(n)
            }
        })))
    } else t.resizeHandler = function () {
        t.OnResize()
    }, window.addEventListener("resize", t.resizeHandler, !0), t.OnResize();
    t.SetVisible(!0), Globals.InputBlocked = !0
}, GameHistoryWindow.prototype.Close = function () {
    this.SetVisible(!1), document.body.removeChild(this.root), document.body.removeChild(this.btn), window.removeEventListener("resize", this.resizeHandler, !1), GameHistoryWindow.I = null, ServerOptions.isReplay || (Globals.InputBlocked = !1)
}, GameHistoryWindow.prototype.OnResize = function () {
    var t = 1;
    t = window.innerHeight / window.innerWidth > 650 / 600 ? window.innerWidth / 600 : window.innerHeight / 650;
    var e = "-moz-transform:scale(VAL);-webkit-transform:scale(VAL);-ms-transform:scale(VAL);-o-transform:scale(VAL);transform:scale(VAL)".replace(new RegExp("VAL", "g"), String(t));
    this.root.setAttribute("style", e), UHT_DEVICE_TYPE.DESKTOP || this.btn.setAttribute("style", e)
}, GameHistoryWindow.prototype.SetVisible = function (t) {
    var e = document.documentElement,
        i = "history-visible",
        n = String(e.className).replace(new RegExp(i, "g"), "").replace(/\s+/g, " ").replace(/^\s+|\s+$/g, "");
    t && (n = [n, i].join(" ")), e.className = n
}, goog.require("UHT.Engine"), JurisdictionPromoUrlButton.prototype = Object.create(XTLink.prototype), JurisdictionPromoUrlButton.prototype.constructor = JurisdictionPromoUrlButton, JurisdictionPromoUrlButton.prototype.Awake = function () {
    createjs.BrowserDetect.isIOS && (this.touchStartHandler = new EventHandler(this, this.OnTouchStart), this.touchMoveHandler = new EventHandler(this, this.OnTouchMove), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonDown, this.touchStartHandler), globalColliderInputManager.addEventHandler(ColliderEvent.MouseMove, this.touchMoveHandler)), this.touchEndHandler = new EventHandler(this, this.OnTouchEnd), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp, this.touchEndHandler), this.cachedCamera = Globals.GetCameraForObject(this.gameObject)
}, JurisdictionPromoUrlButton.prototype.OnTouchStart = function () {
    this.wasTouchMove = !1
}, JurisdictionPromoUrlButton.prototype.OnTouchMove = function () {
    this.wasTouchMove = !0
}, JurisdictionPromoUrlButton.prototype.OnTouchEnd = function () {
    if (this.gameObject.activeInHierarchy) {
        var t = new LayerMask;
        t.mask = 1 << this.gameObject.layer;
        var e = globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition), t);
        this.wasTouchMove || e != this.gameObject.collider || window.open(ServerOptions.promotionurl)
    }
}, goog.require("UHT.Engine"), JurisdictionPromoUrl.prototype = Object.create(XTLink.prototype), JurisdictionPromoUrl.prototype.constructor = JurisdictionPromoUrl, JurisdictionPromoUrl.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_CodeToData_SettingsWindowOpened, this.OnShowPromo, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_SettingsWindowClosed, this.OnHidePromo, this), this.settingWindows = [], this.mobile && (this.settingWindows.push(globalRuntime.sceneRoots[1].GetComponentsInChildren(MenuWindowControllerMobile, !0)[0].gameObject), this.settingWindows.push(globalRuntime.sceneRoots[1].GetComponentsInChildren(MenuWindowControllerMobile, !0)[1].gameObject))
}, JurisdictionPromoUrl.prototype.OnShowPromo = function () {
    XT.GetBool(Vars.Jurisdiction_PromotionURL) && null != ServerOptions.promotionurl && this.gameObject.SetActive(!0)
}, JurisdictionPromoUrl.prototype.OnEnable = function () {
    if (this.mobile)
        for (var t = 0; t < this.settingWindows.length; t++) this.settingWindows[t].activeInHierarchy && (this.settingWindows[t].transform.localPosition(this.newPos), this.settingWindows[t].transform.localScale(this.newScale))
}, JurisdictionPromoUrl.prototype.OnHidePromo = function () {
    this.gameObject.SetActive(!1)
}, goog.require("UHT.XTLink");
var SliderType = {
    Bool: 0,
    Int: 1,
    Double: 2,
    Float: 3
};

function Slider() {
    XTLink.call(this), this.thumb = null, this.thumbVisual = null, this.localPositionMin = null, this.localPositionMax = null, this.scrollWheelMovement = null, this.scrollWheels = null, this.valueDisplayers = null, this.bars = null, this.slicedBars = null, this.slicedBarsMinimumScale = null, this.colorAnimators = null, this.type = SliderType.Bool, this.minValue = 0, this.maxValue = 0, this.values = null, this.value = 0, this.valueIndex = 0, this.notifyWhenValueChanged = !0, this.autocomplete = !1, this.animator = null, this.animationTime = 0, this.inverseAnimationTime = 0, this.xtVariableName = "", this.xtVariableIsIndex = !1, this.soundPlayer = null, this.playClickSoundOnRelease = !1, this.cachedCamera = null, this.prevThumbPos = new UHTMath.Vector3(-1, -1, -1), this.isInit = !1, this.internalValue = 0, this.autocompleteFrameCount = 0
}

function SoundButtonControllerMobileV10() {
    SoundButtonControllerMobile.call(this), this.musicSlider = null, this.effectsSlider = null, this.soundSlider = null, this.soundSliderContent = null
}

function SkipIntroButtonController() {
    XTLink.call(this), this.buttonSkipToOn = null, this.buttonSkipToOff = null
}

function NoMoneyWindowController() {
    XTLink.call(this)
}

function Nike_XTEvent() {
    Component.call(this)
}

function SpinBlockEnabler() {
    Component.call(this)
}

function BonusRoundsTimeLeftDisplayer() {
    XTLink.call(this), this.timeLabel = null, this.localizedStartsInLabel_0 = null, this.localizedStartsInLabel_1 = null, this.localizedOpenLabel_0 = null, this.localizedOpenLabel_1 = null, this.localizedCloseLabel = null, this.localizedDayLabel_0 = null, this.localizedDayLabel_1 = null, this.localizedDaysLabel_0 = null, this.localizedDaysLabel_1 = null, this.localizedHourLabel_0 = null, this.localizedHourLabel_1 = null, this.localizedHoursLabel_0 = null, this.localizedHoursLabel_1 = null, this.localizedMinuteLabel_0 = null, this.localizedMinuteLabel_1 = null, this.localizedMinutesLabel_0 = null, this.localizedMinutesLabel_1 = null, this.localizedSecondLabel_0 = null, this.localizedSecondLabel_1 = null, this.localizedSecondsLabel_0 = null, this.localizedSecondsLabel_1 = null, this.maxDaysDisplayedInShortFormat = 99999, this.timeIsUp = null, this.synchedTime = 0
}

function AutoplayTypeSwitcher() {
    XTLink.call(this), this.simpleAutoplay = null, this.advancedAutoplay = null, this.isAllowed = !0, this.isAdvanced = !1
}

function AutoplayControllerMobile() {
    XTLink.call(this), this.windowShow = null, this.windowHide = null, this.content = null, this.increaseAutoSpinsButton = null, this.decreaseAutoSpinsButton = null, this.startAutoplayButton = null, this.quickStartAutoplayButtons = null, this.selectSpinsLabel = null, this.autoplayStartAllowed = !1, this.requestedAutoSpins = [10, 20, 30, 50, 70, 100, 500, 1e3]
}

function AutoplayControllerMobileV10() {
    AutoplayControllerMobile.call(this), this.sliderSpins = null
}

function CheckBoxControl() {
    Component.call(this), this.checkedGO = null, this.uncheckedGO = null, this.checkedByDefault = !1, this.isChecked = !1, this.needsInit = !0, this.allowChange = !0
}

function MobileKeyboard() {
    Component.call(this), this.titleLabel = null, this.input = null, this.origInput = null, this.isHacked = !1
}

function MobileKeyboardStarter() {
    Component.call(this), this.keyboard = null, this.titleLabel = null, this.input = null
}

function AutoplayControllerAdvanced() {
    XTLink.call(this), this.startAutoplayButton = null, this.fastPlayToOn = null, this.fastPlayToOff = null, this.turboSpinToOn = null, this.turboSpinToOff = null, this.checkSpins = null, this.checkOnAnyWin = null, this.checkIfAnyFeature = null, this.checkIfSingleWin = null, this.inputWin = null, this.checkIfCashIncreases = null, this.inputCashIncrease = null, this.checkIfCashDecreases = null, this.inputCashDecrease = null, this.requestedAutoSpins = [10, 20, 30, 50, 70, 100], this.mallHacked = !1, this.isCashDecreaseValid = !0, this.wasCashDecreaseSelected = !1, this.cashDecreaseValidColor = null, this.cashDecreasesUIButtons = null, this.cashDecreasesLabels = null, this.inputCashDecreaseSprite = null, this.startAutoplayButtonLabel = null, this.startAutoplayButtonSprite = null, this.startAutoplayUIButtons = null, this.startAutoplayUIButtonOnClick = null, this.cashDecreaseKeyboardStarter = null, this.validColor = null, this.validColorHover = null, this.validColorPressed = null, this.invalidColor = null, this.invalidColorHover = null, this.invalidColorPressed = null, this.startAutoplayInvalidColor = null
}

function AutoplayControllerAdvancedV10() {
    AutoplayControllerAdvanced.call(this), this.sliderSpins = null, this.sliderWinExceeds = null, this.sliderCashIncreases = null, this.sliderCashDecreases = null, this.startAutoplayButtonEnablers = null
}

function Interface_GambleCard() {
    XTLink.call(this), this.animatedObject = null, this.stopInLoops = 2, this.loopsBeforeStop = 0, this.isRed = !1, this.mustStop = !1
}

function VS_GambleVisual() {
    XTLink.call(this), this.colorMultiplier = 2, this.suitMultiplier = 4, this.currentWin = 0, this.openedResultWindow = ""
}

function GambleProgressObject() {
    this.itemIndex = 0, this.itemID = 0, this.isFromInit = !1
}

function VS_GambleProgressDisplayer() {
    XTLink.call(this)
}

function VS_GambleProgressItem() {
    XTLink.call(this), this.itemIndex = 0, this.Cat = null, this.EventSetRed = null, this.EventSetBlack = null, this.EventShowOnInit = null, this.EventShowAfterPick = null, this.EventReset = null
}

function QuickSpinWindowController() {
    XTLink.call(this), this.showWindow = null, this.disableWindow = null, this.numberOfSpinsBeforeWindow = 5, this.numberOfStopsBeforeWindow = 3, this.numberOfSpins = 0, this.numberOfStops = 0, this.isFreeSpin = !1, this.isAutoSpin = !1, this.spinStopped = !1
}

function RandomAwardsResponse() {
    this.awardIndex = -1, this.awardPositionInReel = -1, this.currentReelIndex = -1, this.nextReelIndex = -1
}

function FreeSpinsResponse() {
    this._currentSpin = 0, this._maxSpins = 0, this._oldMaxSpins = 0, this._additionalSpins = 0, this._totalSpins = 0, this._totalMultiplier = 1, this._currentWin = 0, this._currentWinMultiplied = 0, this._totalWin = 0, this._totalWinMultiplied = 0, this._pickedOptionIndex = -1, this._bonusGameData = null, this._mysteryScatter = [], this._needGetMysteryScatter = !1, this._isFreeSpin = !1, this._isFreeSpinsStart = !1, this._isFreeSpinsGambled = !1, Object.defineProperty(this, "CurrentSpin", {
        get: function () {
            return this._currentSpin
        }
    }), Object.defineProperty(this, "MaxSpins", {
        get: function () {
            return this._maxSpins
        }
    }), Object.defineProperty(this, "OldMaxSpins", {
        get: function () {
            return this._oldMaxSpins
        }
    }), Object.defineProperty(this, "AdditionalSpins", {
        get: function () {
            return this._additionalSpins
        }
    }), Object.defineProperty(this, "TotalSpins", {
        get: function () {
            return this._totalSpins
        },
        set: function (t) {
            this._totalSpins = t
        }
    }), Object.defineProperty(this, "TotalMultiplier", {
        get: function () {
            return this._totalMultiplier
        }
    }), Object.defineProperty(this, "CurrentWin", {
        get: function () {
            return this._currentWin
        },
        set: function (t) {
            this._currentWin = t
        }
    }), Object.defineProperty(this, "CurrentWinMultiplied", {
        get: function () {
            return this._currentWinMultiplied
        }
    }), Object.defineProperty(this, "TotalWin", {
        get: function () {
            return this._totalWin
        }
    }), Object.defineProperty(this, "TotalWinMultiplied", {
        get: function () {
            return this._totalWinMultiplied
        }
    }), Object.defineProperty(this, "PickedOptionIndex", {
        get: function () {
            return this._pickedOptionIndex
        }
    }), Object.defineProperty(this, "IsFreeSpin", {
        get: function () {
            return this._isFreeSpin
        }
    }), Object.defineProperty(this, "IsFreeSpinsStart", {
        get: function () {
            return this._isFreeSpinsStart || this.IsFreeSpinsCollected && null != this._bonusGameData
        }
    }), Object.defineProperty(this, "IsLastFreeSpin", {
        get: function () {
            return this.IsFreeSpin && this.TotalSpins > 0
        }
    }), Object.defineProperty(this, "IsFreeSpinsCollected", {
        get: function () {
            return this.IsFreeSpin && 0 == this._currentSpin && 0 == this._maxSpins && 0 == this._totalSpins
        }
    }), Object.defineProperty(this, "IsFreeSpinsGambled", {
        get: function () {
            return this._isFreeSpinsGambled
        },
        set: function (t) {
            this._isFreeSpinsGambled = t
        }
    }), Object.defineProperty(this, "IsNeedGetMysteryScatter", {
        get: function () {
            return this._needGetMysteryScatter
        }
    }), Object.defineProperty(this, "BonusGameData", {
        get: function () {
            return this._bonusGameData
        },
        set: function (t) {
            this._bonusGameData = t
        }
    }), Object.defineProperty(this, "MysteryScatter", {
        get: function () {
            return this._mysteryScatter
        }
    }), this.FreeSpinsType = -1
}

function BonusData() {
    this.Coef = 0, this.GameOver = !1, this.Level = 0, this.Life = 0, this.RealWin = 0, this.WinPoints = 0, this.PossibleWins = null, this.ItemsMarkers = null, this.ItemsStatus = null, this.ItemsWins = null, this.WinsMask = null, this.MultipliersMarkers = null, this.MultipliersStatus = null, this.MultipliersWins = null, this.LifeWins = null, this.MultiplierStep = !1, this.numberOfLevels = 0, this.isBonusGambled = !1, this.currentBonusRespin = 0, this.maxBonusRespins = 0, this.respinSymbols = null, this.PremultipliedWin = 0, this.MultipliedSymbolPositions = null, this.RespinsTotalMultiplier = -1, this.ExtraRespinsWon = -1, this.ExtraRetriggersWon = -1, this.BGItemValues = null, this.BGItemMasks = null, this.GameID = 0, this.GameType = 0, this.WheelOfFortune = null, this.Map = null, this.justReceived = !1
}
Slider.prototype = Object.create(XTLink.prototype), Slider.prototype.constructor = Slider, Slider.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this, -1)
}, Slider.prototype.OnGameInit = function () {
    this.thumb.limitPosition = !0, this.thumb.useScrollWheel = !0, this.thumb.localPositionLimitMin = this.localPositionMin, this.thumb.localPositionLimitMax = this.localPositionMax, this.thumb.scrollWheelMovement = this.scrollWheelMovement;
    for (var t = 0; t < this.scrollWheels.length; ++t) this.scrollWheels[t].limitPosition = !0, this.scrollWheels[t].useScrollWheel = !0, this.scrollWheels[t].useOnlyScrollWheel = !0, this.scrollWheels[t].localPositionLimitMin = this.localPositionMin, this.scrollWheels[t].localPositionLimitMax = this.localPositionMax, this.scrollWheels[t].scrollWheelMovement = this.scrollWheelMovement;
    this.OnEnable(), this.UpdateValue(this.value), this.isInit = !0
}, Slider.prototype.OnEnable = function () {
    if (!_string.IsNullOrEmpty(this.xtVariableName)) {
        var t = 0;
        this.type == SliderType.Bool ? t = XT.GetBool(this.xtVariableName) ? 1 : 0 : this.type == SliderType.Int ? t = XT.GetInt(this.xtVariableName) : this.type == SliderType.Float ? t = XT.GetFloat(this.xtVariableName) : this.type == SliderType.Double && (t = XT.GetDouble(this.xtVariableName)), this.notifyWhenValueChanged = !1, this.xtVariableIsIndex ? this.SetValueIndex(t) : this.SetValue(t), this.notifyWhenValueChanged = !0
    }
}, Slider.prototype.LateUpdate = function () {
    if (this.isInit) {
        var t = this.thumb.target.localPosition();
        t.equals(this.prevThumbPos) || this.UpdateValue((t.x - this.thumb.localPositionLimitMin.x) / (this.thumb.localPositionLimitMax.x - this.thumb.localPositionLimitMin.x))
    }
}, Slider.prototype.SetValue = function (t) {
    this.UpdateValue(UHTMath.inverseLerp(this.minValue, this.maxValue, t))
}, Slider.prototype.SetValueIndex = function (t) {
    this.UpdateValue(UHTMath.inverseLerp(0, this.values.length - 1, t))
}, Slider.prototype.UpdateValue = function (t) {
    var e = t;
    this.internalValue = t, this.type == SliderType.Bool ? this.value = Math.round(t) : this.values.length > 0 ? (this.valueIndex = Math.round(UHTMath.lerp(0, this.values.length - 1, t)), e = this.valueIndex / (this.values.length - 1), this.value = this.values[this.valueIndex]) : (this.value = UHTMath.lerp(this.minValue, this.maxValue, t), this.type == SliderType.Int && (this.value = Math.round(this.value)));
    for (var i = 0; i < this.valueDisplayers.length; ++i) this.valueDisplayers[i].callEventWhenValueChangedAllowed = this.notifyWhenValueChanged, this.valueDisplayers[i].SetValueManually(this.value);
    for (i = 0; i < this.bars.length; ++i) this.bars[i].transform.localScale(new UHTMath.Vector3(e, 1, 1));
    for (i = 0; i < this.slicedBars.length; ++i) this.slicedBars[i].Sample(e > this.slicedBarsMinimumScale[i] ? e : this.slicedBarsMinimumScale[i]);
    for (i = 0; i < this.colorAnimators.length; ++i) this.colorAnimators[i].Sample(e);
    var n = UHTMath.Vector3.lerp(this.thumb.localPositionLimitMin, this.thumb.localPositionLimitMax, t);
    this.thumb.target.localPosition(n), this.prevThumbPos = n, n = UHTMath.Vector3.lerp(this.thumb.localPositionLimitMin, this.thumb.localPositionLimitMax, e), this.thumbVisual.localPosition(n), _string.IsNullOrEmpty(this.xtVariableName) || (this.type == SliderType.Bool ? XT.SetBool(this.xtVariableName, this.value >= .5) : this.type == SliderType.Int ? XT.SetInt(this.xtVariableName, this.value) : this.type == SliderType.Float ? XT.SetFloat(this.xtVariableName, this.value) : this.type == SliderType.Double && XT.SetDouble(this.xtVariableName, this.value))
}, Slider.prototype.OnPress = function (t) {
    t ? (null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject)), this.thumb.target.position(this.thumb.GetPosition(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition)))) : (this.Autocomplete(), this.playClickSoundOnRelease && this.soundPlayer.OnClick()), this.thumb.OnPress(t)
}, Slider.prototype.Autocomplete = function () {
    if (this.autocomplete && this.type == SliderType.Bool) {
        var t = this.internalValue >= .5 ? 1 : 0,
            e = UHTMath.inverseLerp(this.thumb.localPositionLimitMin.x, this.thumb.localPositionLimitMax.x, this.thumb.target.localPosition().x);
        t != e && (this.animator.manualTo = this.internalValue >= .5 ? this.thumb.localPositionLimitMax : this.thumb.localPositionLimitMin, this.animator.animationTime = this.animationTime * Math.abs(t - e), this.animator.Play())
    }
    this.autocompleteFrameCount = Time.frameCount
}, Slider.prototype.InverseAutocomplete = function () {
    if (this.autocomplete && this.autocompleteFrameCount != Time.frameCount && this.type == SliderType.Bool) {
        var t = this.internalValue >= .5 ? 0 : 1,
            e = UHTMath.inverseLerp(this.thumb.localPositionLimitMin.x, this.thumb.localPositionLimitMax.x, this.thumb.target.localPosition().x);
        t != e && (this.animator.manualTo = 1 == t ? this.thumb.localPositionLimitMax : this.thumb.localPositionLimitMin, this.animator.animationTime = this.inverseAnimationTime * Math.abs(t - e), this.animator.Play())
    }
}, goog.require("UHT.SoundButtonControllerMobile"), SoundButtonControllerMobileV10.prototype = Object.create(SoundButtonControllerMobile.prototype), SoundButtonControllerMobileV10.prototype.constructor = SoundButtonControllerMobileV10, SoundButtonControllerMobileV10.prototype.OnEnable = function () {
    null != this.soundSlider && (this.soundSlider.notifyWhenValueChanged = !1, this.soundSlider.SetValue(XT.GetObject(Vars.SoundState).gameSoundIsOn ? 1 : 0), this.soundSlider.notifyWhenValueChanged = !0), null != this.musicSlider && (this.musicSlider.notifyWhenValueChanged = !1, this.musicSlider.SetValue(XT.GetObject(Vars.SoundState).musicIsOn ? 1 : 0), this.musicSlider.notifyWhenValueChanged = !0), null != this.effectsSlider && (this.effectsSlider.notifyWhenValueChanged = !1, this.effectsSlider.SetValue(XT.GetObject(Vars.SoundState).soundFXIsOn ? 1 : 0), this.effectsSlider.notifyWhenValueChanged = !0)
}, SoundButtonControllerMobileV10.prototype.Start = function () {
    SoundButtonControllerMobile.prototype.Start.call(this), null != this.soundSliderContent && this.soundSliderContent.SetActive(!1)
}, SoundButtonControllerMobileV10.prototype.InternalUpdateButtons = function () {
    SoundButtonControllerMobile.prototype.InternalUpdateButtons.call(this), null != this.soundSliderContent && (this.OnEnable(), this.soundSliderContent.SetActive(!0))
}, goog.require("UHT.Engine"), SkipIntroButtonController.prototype = Object.create(XTLink.prototype), SkipIntroButtonController.prototype.constructor = SkipIntroButtonController, SkipIntroButtonController.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.ShouldDisplayIntro, this.UpdateState, this)
}, SkipIntroButtonController.prototype.OnDestroy = function () {
    XT.UnregisterCallbackBool(this.UpdateState, this)
}, SkipIntroButtonController.prototype.UpdateState = function (t) {
    this.buttonSkipToOff.SetActive(!t), this.buttonSkipToOn.SetActive(t)
}, SkipIntroButtonController.prototype.OnClick = function () {
    XT.SetBool(Vars.ShouldDisplayIntro, !XT.GetBool(Vars.ShouldDisplayIntro)), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)
}, goog.require("UHT.Engine"), NoMoneyWindowController.prototype = Object.create(XTLink.prototype), NoMoneyWindowController.prototype.constructor = NoMoneyWindowController, NoMoneyWindowController.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdated, this.OnBalanceUpdated, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdatedFromResult, this.OnBalanceUpdated, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_NotEnoughMoney_pressedOK, this.OnNoMoneyPressedOK, this)
}, NoMoneyWindowController.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnBalanceUpdated, this)
}, NoMoneyWindowController.prototype.OnBalanceUpdated = function () {
    this.gameObject.activeSelf && CoinManager.GetNextTotalBet() <= XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived) && XT.TriggerEvent(Vars.Evt_CodeToData_HideNoMoneyWindow)
}, NoMoneyWindowController.prototype.OnNoMoneyPressedOK = function () {
    XT.TriggerEvent(Vars.Evt_CodeToData_HideNoMoneyWindow), 1 != window.UHT_DISABLEOPENCASHIEREVENT && UHTInterfaceBOSS.PostMessage("openCashier")
}, goog.require("UHT.Component"), Nike_XTEvent.prototype = Object.create(Component.prototype), Nike_XTEvent.prototype.constructor = Nike_XTEvent, Nike_XTEvent.prototype.JustDoIt = function (t) {
    XT.TriggerEvent(t)
}, goog.require("UHT.Engine"), SpinBlockEnabler.prototype = Object.create(Component.prototype), SpinBlockEnabler.prototype.constructor = SpinBlockEnabler, SpinBlockEnabler.prototype.BlockSpin = function () {
    XT.SetBool(Vars.SpinBlockingFeatureIsRunning, !0)
}, SpinBlockEnabler.prototype.UnblockSpin = function () {
    XT.SetBool(Vars.SpinBlockingFeatureIsRunning, !1)
}, SpinBlockEnabler.prototype.UnBlockSpinAndResumeResult = function () {
    this.UnblockSpin(), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone)
}, goog.require("UHT.Engine"), BonusRoundsTimeLeftDisplayer.prototype = Object.create(XTLink.prototype), BonusRoundsTimeLeftDisplayer.prototype.constructor = BonusRoundsTimeLeftDisplayer, BonusRoundsTimeLeftDisplayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackDouble(Vars.Jurisdiction_ServerTime, this.OnServerTimeChanged, this)
}, BonusRoundsTimeLeftDisplayer.prototype.OnServerTimeChanged = function (t) {
    this.synchedTime = .001 * t
}, BonusRoundsTimeLeftDisplayer.prototype.Update = function () {
    this.synchedTime += Time.deltaTimeInRealTime;
    var t = Math.floor(XT.GetDouble(Vars.BonusRoundEndDateTimestamp) - this.synchedTime),
        e = new Tournament.DHMS(t);
    this.timeLabel.text = this.SecondstoString(e)
}, BonusRoundsTimeLeftDisplayer.prototype.SecondstoString = function (t) {
    var e = "",
        i = t.d,
        n = t.h,
        o = t.m,
        s = t.s;
    if (1 == i ? e += this.localizedDayLabel_0.text + i.toString() + this.localizedDayLabel_1.text : i > 1 && (e += this.localizedDaysLabel_0.text + i.toString() + this.localizedDaysLabel_1.text), i > this.maxDaysDisplayedInShortFormat) return e = this.localizedDaysLabel_0.text + i.toString() + this.localizedDaysLabel_1.text;
    1 == n ? e += this.localizedHourLabel_0.text + n.toString() + this.localizedHourLabel_1.text : (i > 0 || n > 1) && (e += this.localizedHoursLabel_0.text + n.toString() + this.localizedHoursLabel_1.text);
    var a = 0 == i;
    return a && (1 == o ? e += this.localizedMinuteLabel_0.text + o.toString() + this.localizedMinuteLabel_1.text : (i > 0 || n > 0 || o > 1) && (e += this.localizedMinutesLabel_0.text + o.toString() + this.localizedMinutesLabel_1.text)), (a = 0 == i && 0 == n) && 0 == i && (1 == s ? e += this.localizedSecondLabel_0.text + s.toString() + this.localizedSecondLabel_1.text : (i > 0 || n > 0 || o > 0 || s > 1) && (e += this.localizedSecondsLabel_0.text + s.toString() + this.localizedSecondsLabel_1.text)), 0 == i && 0 == n && 0 == o && 0 == s && this.timeIsUp.Start(), e
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink"), AutoplayTypeSwitcher.prototype = Object.create(XTLink.prototype), AutoplayTypeSwitcher.prototype.constructor = AutoplayTypeSwitcher, AutoplayTypeSwitcher.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.HasAdvancedAutoplay, this.OnAdvancedAutoplay, this), XT.RegisterCallbackBool(Vars.Jurisdiction_DisableAutoplay, this.OnDisableAutoplay, this), XT.RegisterCallbackBool(Vars.Jurisdiction_Autoplay_StopOnFeatureWin, this.HideStopOnFeatureWin, this), XT.RegisterCallbackBool(Vars.Jurisdiction_Autoplay_NoSkipScreens, this.HideSkipScreens, this)
}, AutoplayTypeSwitcher.prototype.OnAdvancedAutoplay = function (t) {
    this.isAdvanced = t, this.DoIt()
}, AutoplayTypeSwitcher.prototype.OnDisableAutoplay = function (t) {
    this.isAllowed = !t, this.DoIt()
}, AutoplayTypeSwitcher.prototype.DoIt = function () {
    this.simpleAutoplay.SetActive(!this.isAdvanced && this.isAllowed), this.advancedAutoplay.SetActive(this.isAdvanced && this.isAllowed)
}, AutoplayTypeSwitcher.prototype.HideStopOnFeatureWin = function (t) {
    if (t) {
        this.HideObjects(["UI Root/XTRoot/Root/GUI/Interface/Windows/AutoplayAnimator/AutoplayWindow/AdvanceAutoplayWindow/StopAutoplay/Checkboxes/IfFeatureIsWon", "UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/Windows/AdvanceAutoplayAnimator/AdvanceAutoplayWindow/StopAutoplay/Checkboxes/IfFeatureIsWon", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AdvanceAutoplayAnimator/AdvanceAutoplayWindow/Clipped/Content/StopAutoplay/Checkboxes/IfFeatureIsWon", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AdvanceAutoplayWindow/CheckBoxes/Left/IfFeatureIsWon"])
    }
}, AutoplayTypeSwitcher.prototype.HideSkipScreens = function (t) {
    if (t) {
        this.HideObjects(["UI Root/XTRoot/Root/GUI/Interface/Windows/AutoplayAnimator/AutoplayWindow/AutoplaySimpleWindow/Content/Checkboxes/SkipScreens", "UI Root/XTRoot/Root/GUI/Interface/Windows/AutoplayAnimator/AutoplayWindow/AdvanceAutoplayWindow/Checkboxes/SkipScreens", "UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/Windows/AutoplaySimpleWindow/Content/Checkboxes/SkipScreens", "UI Root/XTRoot/Root/GUI_mobile/Interface_Landscape/ContentInterface/Windows/AdvanceAutoplayAnimator/AdvanceAutoplayWindow/Checkboxes/SkipScreens", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AutoplaySimpleWindow/Content/Checkboxes/SkipScreens", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AdvanceAutoplayAnimator/AdvanceAutoplayWindow/Clipped/Content/Checkboxes/SkipScreens", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AutoplaySimpleWindow/Content/SkipScreens", "UI Root/XTRoot/Root/GUI_mobile/Interface_Portrait/ContentInterface/Windows/AdvanceAutoplayWindow/SkipScreens"])
    }
}, AutoplayTypeSwitcher.prototype.HideObjects = function (t) {
    for (var e = globalRuntime.sceneRoots, i = e[1].transform.GetComponentsInChildren(LocalizationRoot, !0)[0].transform, n = 0; n < e.length; ++n)
        for (var o = 0; o < t.length; ++o) {
            var s = e[n].transform.Find(t[o]);
            if (null != s) s.gameObject.SetActive(!1);
            else {
                for (var a = t[o].split("/"), r = "", l = 3; l < a.length; l++) r += a[l] + (l < a.length - 1 ? "/" : "");
                null != (s = i.Find(r)) && s.gameObject.SetActive(!1)
            }
        }
}, goog.provide("UHT.AutoplayControllerMobile"), goog.require("UHT.XTLink"), AutoplayControllerMobile.prototype = Object.create(XTLink.prototype), AutoplayControllerMobile.prototype.constructor = AutoplayControllerMobile, AutoplayControllerMobile.prototype.XTInitVariablesAndEvents = function () {
    XT.SetInt(InterfaceVars.SelectedAutoSpinsIndex, 0)
}, AutoplayControllerMobile.prototype.ShowAutoplayWindow = function () {
    null != this.windowShow && null != this.windowShow.cat && this.windowShow.Start()
}, AutoplayControllerMobile.prototype.HideAutoplayWindow = function () {
    null != this.windowHide && null != this.windowHide.cat && this.windowHide.Start()
}, AutoplayControllerMobile.prototype.AllowAutoplay = function (t) {
    this.autoplayStartAllowed = t, this.UpdateAutoplaySelectionButtons()
}, AutoplayControllerMobile.prototype.UpdateAutospinsLabel = function () {
    this.selectSpinsLabel.text = this.requestedAutoSpins[XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex)]
}, AutoplayControllerMobile.prototype.IncreaseAutoSpins = function () {
    var t = XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex);
    t++, XT.SetInt(InterfaceVars.SelectedAutoSpinsIndex, t), this.UpdateAutoplaySelectionButtons(), this.UpdateAutospinsLabel(), this.SetNumberOfAutoSpins()
}, AutoplayControllerMobile.prototype.DecreaseAutoSpins = function () {
    var t = XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex);
    t--, XT.SetInt(InterfaceVars.SelectedAutoSpinsIndex, t), this.UpdateAutoplaySelectionButtons(), this.UpdateAutospinsLabel(), this.SetNumberOfAutoSpins()
}, AutoplayControllerMobile.prototype.SetNumberOfAutoSpins = function () {
    this.startAutoplayButton.GetComponent(XTButton).paramValue = this.requestedAutoSpins[XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex)]
}, AutoplayControllerMobile.prototype.UpdateAutoplaySelectionButtons = function () {
    var t, e = this.increaseAutoSpinsButton.GetComponent(ButtonEnabler),
        i = this.decreaseAutoSpinsButton.GetComponent(ButtonEnabler),
        n = this.startAutoplayButton.GetComponent(ButtonEnabler),
        o = [];
    for (t = 0; t < this.quickStartAutoplayButtons.length; t++) o.push(this.quickStartAutoplayButtons[t].GetComponent(ButtonEnabler));
    if (this.autoplayStartAllowed) {
        for (n.EnableButton(), t = 0; t < o.length; t++) o[t].EnableButton();
        XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex) <= 0 ? i.DisableButton() : i.EnableButton(), XT.GetInt(InterfaceVars.SelectedAutoSpinsIndex) >= this.requestedAutoSpins.length - 1 ? e.DisableButton() : e.EnableButton()
    } else
        for (e.DisableButton(), i.DisableButton(), n.DisableButton(), t = 0; t < o.length; t++) o[t].DisableButton()
}, AutoplayControllerMobile.prototype.UpdateAutoplayContent = function () {
    this.UpdateAutospinsLabel(), this.UpdateAutoplaySelectionButtons(), this.SetNumberOfAutoSpins()
}, goog.require("UHT.AutoplayControllerMobile"), AutoplayControllerMobileV10.prototype = Object.create(AutoplayControllerMobile.prototype), AutoplayControllerMobileV10.prototype.constructor = AutoplayControllerMobileV10, AutoplayControllerMobileV10.prototype.ShowAutoplayWindow = function () {
    AutoplayControllerMobile.prototype.ShowAutoplayWindow.call(this), this.sliderSpins.SetValueIndex(5), this.SliderValueChanged()
}, AutoplayControllerMobileV10.prototype.UpdateAutoplaySelectionButtons = function () {
    var t, e = this.startAutoplayButton.GetComponent(ButtonEnabler),
        i = [];
    for (t = 0; t < this.quickStartAutoplayButtons.length; t++) i.push(this.quickStartAutoplayButtons[t].GetComponent(ButtonEnabler));
    if (this.autoplayStartAllowed)
        for (e.EnableButton(), t = 0; t < i.length; t++) i[t].EnableButton();
    else
        for (e.DisableButton(), t = 0; t < i.length; t++) i[t].DisableButton()
}, AutoplayControllerMobileV10.prototype.UpdateAutoplayContent = function () {
    this.UpdateAutoplaySelectionButtons(), this.SetNumberOfAutoSpins()
}, AutoplayControllerMobileV10.prototype.SliderValueChanged = function () {
    var t = this.sliderSpins.valueIndex;
    XT.SetInt(InterfaceVars.SelectedAutoSpinsIndex, t), this.SetNumberOfAutoSpins()
}, goog.require("UHT.Engine"), CheckBoxControl.prototype = Object.create(Component.prototype), CheckBoxControl.prototype.constructor = CheckBoxControl, CheckBoxControl.prototype.Awake = function () {
    this.needsInit && this.SetValue(this.checkedByDefault)
}, CheckBoxControl.prototype.SetValue = function (t) {
    this.isChecked = t, this.needsInit = !1, this.checkedGO.SetActive(t), this.uncheckedGO.SetActive(!t)
}, CheckBoxControl.prototype.GetValue = function () {
    return this.isChecked
}, CheckBoxControl.prototype.OnClick = function () {
    this.allowChange && this.SetValue(!this.isChecked)
}, CheckBoxControl.prototype.Check = function () {
    this.isChecked || this.gameObject.SendMessage("OnClick")
}, goog.require("UHT.Engine"), MobileKeyboard.prototype = Object.create(Component.prototype), MobileKeyboard.prototype.constructor = MobileKeyboard, MobileKeyboard.prototype.OnEnable = function () {
    if (!this.isHacked) {
        this.isHacked = !0, this.input.validation = UIInput.Validation.Float;
        for (var t = this.gameObject.transform.Find("Keys/0").GetComponentsInChildren(UIButton, !0), e = null, i = 0; i < t.length; ++i)
            if ("Label" == t[i].target.gameObject.name) {
                e = t[i];
                break
            } var n = e.GetComponent(MessageSender),
            o = this.gameObject.transform.Find("Keys/Cancel/X/SpriteX").GetComponent(UISprite);
        o.color = e.color_normal, o.width = 200, o.height = 200, o.spriteType = UISprite.Type.Filled, o.fillDirection = UISprite.FillDirection.Custom, o.fillAmountTop = .7, o.fillAmountBottom = .4, o.fillAmountLeft = .6, o.fillAmountRight = .6, o.SetSpriteName("menuIcon_info"), o.transform.localPosition(new UHTMath.Vector3(0, -50, 0)), o.transform.parent.localPosition(UHTMath.Vector3.zero), o.transform.parent.localScale(UHTMath.Vector3.one), this.gameObject.transform.Find("Keys/Cancel/Bg/SpriteBG").GetComponent(UISprite).color = e.color_normal;
        var s = this.gameObject.transform.Find("Keys/Cancel").GetComponentsInChildren(UIButton, !0),
            a = new MessageData(n.onClickEvents[0].eventReceiver, n.onClickEvents[0].methodToCall, n.onClickEvents[0].useParam, "."),
            r = s[0].gameObject.AddComponent("MessageSender");
        r.onEnabledEvents = [], r.animationEvents = [], r.onClickEvents = [], r.onClickEvents.push(a);
        for (i = 0; i < s.length; ++i) "ContainerBorder" != s[i].normal && (s[i].normal = o.spriteName, s[i].hover = o.spriteName, s[i].pressed = o.spriteName, s[i].disabled = o.spriteName, s[i].color_pressed = e.color_pressed), s[i].color_normal = e.color_normal, s[i].color_hover = e.color_hover, null != s[i].onClick && s[i].onClick.splice(0)
    }
}, MobileKeyboard.prototype.OnDisable = function () {
    this.gameObject.SetActive(!1)
}, MobileKeyboard.prototype.ShowKeyboard = function (t, e) {
    this.gameObject.SetActive(!0), this.titleLabel.text = t.text, this.origInput = e, this.input.SetValue([null, "", "0"].indexOf(e.value) > -1 ? "" : e.value), this.input.Select(!0)
}, MobileKeyboard.prototype.CloseKeyboard = function () {
    this.gameObject.SetActive(!1)
}, MobileKeyboard.prototype.ApplyAndCloseKeyboard = function () {
    this.gameObject.SetActive(!1), this.origInput.SetValue(this.input.value)
}, goog.require("UHT.Engine"), MobileKeyboardStarter.prototype = Object.create(Component.prototype), MobileKeyboardStarter.prototype.constructor = MobileKeyboardStarter, MobileKeyboardStarter.prototype.OnClick = function () {
    this.keyboard.ShowKeyboard(this.titleLabel, this.input)
}, goog.provide("UHT.AutoplayControllerAdvanced"), goog.require("UHT.XTLink"), AutoplayControllerAdvanced.prototype = Object.create(XTLink.prototype), AutoplayControllerAdvanced.prototype.constructor = AutoplayControllerAdvanced, AutoplayControllerAdvanced.formatOptions = null, AutoplayControllerAdvanced.layoutMode = LayoutManager.Mode.Invalid, AutoplayControllerAdvanced.layoutSwitchedFrame = 0, AutoplayControllerAdvanced.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout, this.OnSwitchToLandscape, this, -1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide, this.OnSwitchToLandscape, this, -1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull, this.OnSwitchToLandscape, this, -1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutLLN, this.OnSwitchToLandscape, this, -1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutPLN, this.OnSwitchToPortrait, this, -1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayout, this.OnSwitchToPortrait, this, -1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone, this.OnSwitchToPortrait, this, -1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad, this.OnSwitchToPortrait, this, -1)
}, AutoplayControllerAdvanced.prototype.XTInitVariablesAndEvents = function () {
    XT.SetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced, 3), XT.SetObject(Vars.AdvancedAutoplaySettings, new AdvancedAutoplaySettings)
}, AutoplayControllerAdvanced.prototype.OnEnable = function () {
    if (!this.mallHacked) {
        if (this.mallHacked = !0, this.inputWin.validation = UIInput.Validation.Float, this.inputCashIncrease.validation = UIInput.Validation.Float, this.inputCashDecrease.validation = UIInput.Validation.Float, XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit)) {
            this.checkIfCashDecreases.SetValue(!0), this.checkIfCashDecreases.allowChange = !1, this.cashDecreaseValidColor = this.inputCashDecrease.activeTextColor;
            var t = this;
            this.inputCashDecrease.TextExtraHandler = function (e) {
                return t.ProcessCashDecreaseText(e)
            }, this.cashDecreasesLabels = this.checkIfCashDecreases.GetComponentsInChildren(UILabel, !0), this.cashDecreasesUIButtons = this.checkIfCashDecreases.GetComponentsInChildren(UIButton, !0), this.inputCashDecreaseSprite = this.inputCashDecrease.gameObject.transform.Find("Background/Sprite").GetComponent(UISprite), this.cashDecreaseKeyboardStarter = this.inputCashDecrease.GetComponent(MobileKeyboardStarter), this.startAutoplayUIButtons = this.startAutoplayButton.GetComponents(UIButton);
            for (var e = [], i = [], n = 0; n < this.startAutoplayUIButtons.length; ++n) {
                for (var o = this.startAutoplayUIButtons[n], s = 0; s < o.onClick.length; ++s) o.onClick[s].target == this ? e.push(o.onClick[s]) : i.push(o.onClick[s]);
                o.onClick = []
            }
            this.startAutoplayUIButtons[0].onClick = e, this.startAutoplayUIButtonOnClick = i, this.startAutoplayButtonSprite = this.startAutoplayButton.GetComponent(UISprite), this.startAutoplayButtonLabel = this.startAutoplayButton.transform.parent.GetComponentInChildren(UILabel), this.validColor = this.RGBToColor(1, 1, 1), this.validColorHover = this.RGBToColor(.5294117647058824, .8823529411764706, .0705882352941176), this.validColorPressed = this.RGBToColor(.3058823529411765, .5372549019607843, .007843137254902), this.invalidColor = this.RGBToColor(1, 0, 0), this.invalidColorHover = this.RGBToColor(1, .5568627450980392, .5568627450980392), this.invalidColorPressed = this.RGBToColor(1, .1607843137254902, .1607843137254902), this.startAutoplayInvalidColor = this.RGBToColor(.4862745098039216, .4862745098039216, .4862745098039216)
        }
        var a = this.GetComponent(Collider);
        if (null != a) {
            var r = a.center;
            a.center = new UHTMath.Vector3(r.x, r.y, 20), a.UpdateCachedMembers()
        }
    }
    this.wasCashDecreaseSelected = XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit), AutoplayControllerAdvanced.layoutSwitchedFrame != Time.frameCount && XT.SetObject(Vars.AdvancedAutoplaySettings, new AdvancedAutoplaySettings), this.UpdateAutoplayContent()
}, AutoplayControllerAdvanced.prototype.SetAutoSpinsIndex = function (t) {
    var e = _number.otoi(t);
    e < 0 || e >= this.requestedAutoSpins.length || (XT.SetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced, e), this.UpdateAutoplayContent())
}, AutoplayControllerAdvanced.prototype.StartAutoplayPressed = function () {
    if (!XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit) || this.isCashDecreaseValid) {
        if (this.FillAutoplaySettings(), XT.SetInt(Vars.AutoplaySpinsRequested, this.requestedAutoSpins[XT.GetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced)]), XT.TriggerEvent(Vars.Evt_DataToCode_StartAutoplay), null != this.startAutoplayUIButtonOnClick)
            for (var t = 0; t < this.startAutoplayUIButtonOnClick.length; t++) null != this.startAutoplayUIButtonOnClick[t].target && this.startAutoplayUIButtonOnClick[t].target[this.startAutoplayUIButtonOnClick[t].methodName]()
    } else Globals.isMobile ? this.cashDecreaseKeyboardStarter.OnClick() : this.inputCashDecrease.Select(!0)
}, AutoplayControllerAdvanced.prototype.UpdateAutoplayContent = function () {
    var t = XT.GetObject(Vars.AdvancedAutoplaySettings);
    this.checkOnAnyWin.SetValue(t.stopOnAnyWin), this.checkIfAnyFeature.SetValue(t.stopIfFeature), this.checkIfSingleWin.SetValue(t.stopIfSingleWinExceeds), this.inputWin.SetValue(String(t.singleWinValue > 0 ? t.singleWinValue : "")), this.checkIfCashIncreases.SetValue(t.stopIfCashIncreases), this.inputCashIncrease.SetValue(String(t.cashIncreasesValue > 0 ? t.cashIncreasesValue : "")), XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit) || this.checkIfCashDecreases.SetValue(t.stopIfCashDecreases), this.inputCashDecrease.SetValue(String(t.cashDecreasesValue > 0 ? t.cashDecreasesValue : ""));
    for (var e = XT.GetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced), i = 0; i < this.checkSpins.length; i++) this.checkSpins[i].SetValue(i == e);
    this.UpdateFastPlayButtons()
}, AutoplayControllerAdvanced.prototype.FillAutoplaySettings = function () {
    var t = new AdvancedAutoplaySettings;
    t.stopOnAnyWin = this.checkOnAnyWin.GetValue(), t.stopIfFeature = this.checkIfAnyFeature.GetValue(), t.stopIfSingleWinExceeds = this.checkIfSingleWin.GetValue(), t.singleWinValue = _number.otod(this.inputWin.value), t.stopIfCashIncreases = this.checkIfCashIncreases.GetValue(), t.cashIncreasesValue = _number.otod(this.inputCashIncrease.value), t.cashDecreasesValue = _number.otod(this.inputCashDecrease.value), t.stopIfCashDecreases = t.cashDecreasesValue > 0, t.initialBalance = XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived), XT.SetObject(Vars.AdvancedAutoplaySettings, t)
}, AutoplayControllerAdvanced.prototype.ProcessCashDecreaseText = function (t) {
    var e = 0;
    _string.IsNullOrEmpty(t) || (e = _number.otod(t));
    var i = t;
    !this.wasCashDecreaseSelected && this.inputCashDecrease.isSelected && (this.wasCashDecreaseSelected = !0), this.wasCashDecreaseSelected || (i = [null, "", "0"].indexOf(t) > -1 ? "∞" : t);
    var n = CoinManager.GetNextTotalBet(),
        o = XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived);
    if (this.isCashDecreaseValid = ("∞" == i || e > n || Math.abs(e - n) < UHTMath.numberError) && (e < o || Math.abs(e - o) < UHTMath.numberError), this.isCashDecreaseValid)
        if (this.inputCashDecrease.label.SetColor(this.cashDecreaseValidColor), this.startAutoplayButtonLabel.SetColor(this.validColor), this.startAutoplayButtonSprite.color = this.validColor, this.inputCashDecreaseSprite.color = this.validColor, this.UpdateUIButtonsColors(this.startAutoplayUIButtons, this.validColor, this.validColorHover, this.validColorPressed), Globals.isMobile)
            for (var s = 0; s < this.cashDecreasesLabels.length; ++s) this.cashDecreasesLabels[s].SetColor(this.cashDecreaseValidColor);
        else this.UpdateUIButtonsColors(this.cashDecreasesUIButtons, this.validColor, this.validColorHover, this.validColorPressed);
    else if (this.inputCashDecrease.label.SetColor(this.invalidColor), this.startAutoplayButtonLabel.SetColor(this.invalidColor), this.startAutoplayButtonSprite.color = this.invalidColor, this.inputCashDecreaseSprite.color = this.invalidColor, this.UpdateUIButtonsColors(this.startAutoplayUIButtons, this.startAutoplayInvalidColor, this.startAutoplayInvalidColor, this.startAutoplayInvalidColor), Globals.isMobile)
        for (s = 0; s < this.cashDecreasesLabels.length; ++s) this.cashDecreasesLabels[s].SetColor(this.invalidColor);
    else this.UpdateUIButtonsColors(this.cashDecreasesUIButtons, this.invalidColor, this.invalidColorHover, this.invalidColorPressed);
    return i
}, AutoplayControllerAdvanced.prototype.RGBToColor = function (t, e, i) {
    var n = new Color;
    return n.r = t, n.g = e, n.b = i, n.a = 1, n
}, AutoplayControllerAdvanced.prototype.UpdateUIButtonsColors = function (t, e, i, n) {
    for (var o = 0; o < t.length; ++o) {
        var s = t[o];
        s.color_normal = e, s.color_hover = i, s.color_pressed = n;
        var a = s.curState;
        a == UIButton.State.None && (a = null != s.gameObject.collider && s.gameObject.collider.enabled ? UIButton.State.Normal : UIButton.State.Disabled), t[o].InternalChangeState(a)
    }
}, AutoplayControllerAdvanced.prototype.UpdateFastPlayButtons = function () {
    var t = XT.GetBool(Vars.FastPlay);
    this.fastPlayToOn.SetActive(!t), this.fastPlayToOff.SetActive(t), t && XT.GetBool(Vars.AutoplayContinuousSpin) && this.UpdateTurboSpinButtons()
}, AutoplayControllerAdvanced.prototype.UpdateTurboSpinButtons = function () {
    XT.SetBool(Vars.AutoplayContinuousSpin, !XT.GetBool(Vars.AutoplayContinuousSpin));
    var t = XT.GetBool(Vars.AutoplayContinuousSpin),
        e = XT.GetBool(Vars.FastPlay);
    this.turboSpinToOn.SetActive(!t), this.turboSpinToOff.SetActive(t), t && e && (XT.SetBool(Vars.FastPlay, !e), this.fastPlayToOn.SetActive(e), this.fastPlayToOff.SetActive(!e))
}, AutoplayControllerAdvanced.prototype.OnSwitchToPortrait = function () {
    this.OnLayoutSwitched(LayoutManager.Mode.Portrait)
}, AutoplayControllerAdvanced.prototype.OnSwitchToLandscape = function () {
    this.OnLayoutSwitched(LayoutManager.Mode.Landscape)
}, AutoplayControllerAdvanced.prototype.OnLayoutSwitched = function (t) {
    AutoplayControllerAdvanced.layoutMode != t && (AutoplayControllerAdvanced.layoutMode = t, AutoplayControllerAdvanced.layoutSwitchedFrame = Time.frameCount)
}, goog.require("UHT.AutoplayControllerAdvanced"), AutoplayControllerAdvancedV10.prototype = Object.create(AutoplayControllerAdvanced.prototype), AutoplayControllerAdvancedV10.prototype.constructor = AutoplayControllerAdvancedV10, AutoplayControllerAdvancedV10.prototype.OnEnable = function () {
    var t = AutoplayControllerAdvanced.layoutSwitchedFrame != Time.frameCount;
    t && XT.SetObject(Vars.AdvancedAutoplaySettings, new AdvancedAutoplaySettings), this.UpdateAutoplayContent(), this.sliderSpins.SetValueIndex(t ? 3 : XT.GetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced)), this.SetAutoSpinsIndex()
}, AutoplayControllerAdvancedV10.prototype.SetAutoSpinsIndex = function () {
    XT.SetInt(InterfaceVars.SelectedAutoSpinsIndexAdvanced, this.sliderSpins.valueIndex), this.UpdateAutoplayContent()
}, AutoplayControllerAdvancedV10.prototype.UpdateAutoplayContent = function () {
    var t = XT.GetObject(Vars.AdvancedAutoplaySettings);
    this.checkOnAnyWin.SetValue(t.stopOnAnyWin), this.checkIfAnyFeature.SetValue(t.stopIfFeature);
    var e = CoinManager.GetNextTotalBet();
    this.sliderWinExceeds.maxValue = 500 * e, this.sliderWinExceeds.SetValue(t.singleWinValue), this.sliderCashIncreases.maxValue = 5e3 * e, this.sliderCashIncreases.SetValue(t.cashIncreasesValue), this.sliderCashDecreases.maxValue = XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived), this.sliderCashDecreases.SetValue(t.cashDecreasesValue), this.UpdateFastPlayButtons(), this.UpdateStartAutoplayButton(t)
}, AutoplayControllerAdvancedV10.prototype.FillAutoplaySettings = function () {
    var t = new AdvancedAutoplaySettings;
    t.stopOnAnyWin = this.checkOnAnyWin.GetValue(), t.stopIfFeature = this.checkIfAnyFeature.GetValue(), t.singleWinValue = Math.round(100 * this.sliderWinExceeds.value) / 100, t.stopIfSingleWinExceeds = t.singleWinValue > 0, t.cashIncreasesValue = Math.round(100 * this.sliderCashIncreases.value) / 100, t.stopIfCashIncreases = t.cashIncreasesValue > 0, t.cashDecreasesValue = Math.round(100 * this.sliderCashDecreases.value) / 100, t.stopIfCashDecreases = XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit) || t.cashDecreasesValue > 0, t.initialBalance = XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived), XT.SetObject(Vars.AdvancedAutoplaySettings, t), this.UpdateStartAutoplayButton(t)
}, AutoplayControllerAdvancedV10.prototype.UpdateStartAutoplayButton = function (t) {
    if (XT.GetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit))
        if (null == this.startAutoplayButtonEnablers && (this.startAutoplayButtonEnablers = this.startAutoplayButton.GetComponents(ButtonEnabler)), t.cashDecreasesValue < CoinManager.GetNextTotalBet())
            for (var e = 0; e < this.startAutoplayButtonEnablers.length; ++e) this.startAutoplayButtonEnablers[e].DisableButton();
        else
            for (e = 0; e < this.startAutoplayButtonEnablers.length; ++e) this.startAutoplayButtonEnablers[e].EnableButton()
}, goog.require("UHT.Engine"), Interface_GambleCard.prototype = Object.create(XTLink.prototype), Interface_GambleCard.prototype.constructor = Interface_GambleCard, Interface_GambleCard.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_PickResult_Handled, this.OnResultHandled, this), XT.RegisterCallbackBool(Vars.GameHasCustomGamble, this.OnGameHasCustomGamble, this)
}, Interface_GambleCard.prototype.OnGameHasCustomGamble = function (t) {
    t && this.OnDestroy()
}, Interface_GambleCard.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnResultHandled, this), XT.UnregisterCallbackBool(this.OnGameHasCustomGamble, this)
}, Interface_GambleCard.prototype.OnDisable = function () {
    XT.TriggerEvent(Vars.Evt_Internal_StopGambleShuffleCard)
}, Interface_GambleCard.prototype.OnResultHandled = function () {
    XT.GetInt(Vars.Gamble_PickResult_ItemID) < 26 ? this.SetAsBlack() : this.SetAsRed()
}, Interface_GambleCard.prototype.IsVisibleRed = function () {
    this.mustStop && this.loopsBeforeStop--, this.mustStop && this.isRed && this.loopsBeforeStop < 1 && (this.animatedObject.animation.GetAnimationState(this.animatedObject.animation.clip.name).speed = 0, XT.TriggerEvent(Vars.Evt_Internal_StopGambleShuffleCard), XT.TriggerEvent(Vars.Evt_Internal_PlayGambleShufflingStop))
}, Interface_GambleCard.prototype.IsVisibleBlack = function () {
    this.mustStop && this.loopsBeforeStop--, this.mustStop && !this.isRed && this.loopsBeforeStop < 1 && (this.animatedObject.animation.GetAnimationState(this.animatedObject.animation.clip.name).speed = 0, XT.TriggerEvent(Vars.Evt_Internal_StopGambleShuffleCard), XT.TriggerEvent(Vars.Evt_Internal_PlayGambleShufflingStop))
}, Interface_GambleCard.prototype.SetAsRed = function () {
    this.isRed = !0
}, Interface_GambleCard.prototype.SetAsBlack = function () {
    this.isRed = !1
}, Interface_GambleCard.prototype.StartShuffling = function () {
    this.mustStop = !1, this.loopsBeforeStop = this.stopInLoops, this.animatedObject.animation.isPlaying || this.animatedObject.animation.Play(), this.animatedObject.animation.GetAnimationState(this.animatedObject.animation.clip.name).speed = 1, XT.TriggerEvent(Vars.Evt_Internal_PlayGambleShuffleCard)
}, Interface_GambleCard.prototype.StopShuffling = function () {
    this.mustStop = !0
}, goog.require("UHT.Engine"), VS_GambleVisual.prototype = Object.create(XTLink.prototype), VS_GambleVisual.prototype.constructor = VS_GambleVisual, VS_GambleVisual.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackDouble(Vars.Gamble_CurrentBalance, this.OnGambleBalanceReceived, this), XT.RegisterCallbackDouble(Vars.Gamble_ColorMultiplier, this.OnColorMultiplierUpdate, this), XT.RegisterCallbackDouble(Vars.Gamble_SuitMultiplier, this.OnSuitMultiplierUpdate, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Gamble_UpdateDisplayedLabels, this.UpdateDisplayedLabels, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GambleCloseCurrentResultWindow, this.OnResultWindowClose, this), XT.RegisterCallbackBool(Vars.GameHasCustomGamble, this.OnGameHasCustomGamble, this)
}, VS_GambleVisual.prototype.OnGameHasCustomGamble = function (t) {
    t && this.OnDestroy()
}, VS_GambleVisual.prototype.OnDestroy = function () {
    XT.UnregisterCallbackDouble(this.OnGambleBalanceReceived, this), XT.UnregisterCallbackDouble(this.OnColorMultiplierUpdate, this), XT.UnregisterCallbackDouble(this.OnSuitMultiplierUpdate, this), XT.UnregisterCallbackEvent(this.UpdateDisplayedLabels, this), XT.UnregisterCallbackEvent(this.OnResultWindowClose, this), XT.UnregisterCallbackBool(this.OnGameHasCustomGamble, this)
}, VS_GambleVisual.prototype.UpdateDisplayedLabels = function () {
    XT.SetDouble(Vars.Gamble_CurrentBalanceDisplayed, this.currentWin), this.UpdatePossibleWins(this.currentWin)
}, VS_GambleVisual.prototype.UpdatePossibleWins = function (t) {
    XT.SetDouble(Vars.Gamble_ColorWinDisplayed, t * this.colorMultiplier), XT.SetDouble(Vars.Gamble_SuitWinDisplayed, t * this.suitMultiplier)
}, VS_GambleVisual.prototype.OnGambleBalanceReceived = function (t) {
    this.currentWin = t
}, VS_GambleVisual.prototype.OnColorMultiplierUpdate = function (t) {
    this.colorMultiplier = t
}, VS_GambleVisual.prototype.OnSuitMultiplierUpdate = function (t) {
    this.suitMultiplier = t
}, VS_GambleVisual.prototype.OnResultWindowClose = function () {
    "WIN" == this.openedResultWindow ? XT.TriggerEvent(Vars.Evt_CodeToData_GambleCloseResultWindowWin) : "LOSE" == this.openedResultWindow && XT.TriggerEvent(Vars.Evt_CodeToData_GambleCloseResultWindowLose), this.openedResultWindow = ""
}, VS_GambleVisual.prototype.ShowResultWindow = function (t) {
    this.openedResultWindow = t, "WIN" == t ? (XT.SetDouble(Vars.Gamble_FinalBalanceDisplayed, this.currentWin), XT.TriggerEvent(Vars.Evt_CodeToData_GambleShowResultWindowWin)) : XT.TriggerEvent(Vars.Evt_CodeToData_GambleShowResultWindowLose)
}, goog.require("UHT.Engine"), VS_GambleProgressDisplayer.prototype = Object.create(XTLink.prototype), VS_GambleProgressDisplayer.prototype.constructor = VS_GambleProgressDisplayer, VS_GambleProgressDisplayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_DisplayHistory, this.OnHistoryDisplayed, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Gamble_DisplayProgress, this.OnProgressDisplayed, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_ClearProgress, this.OnProgressClear, this), XT.RegisterCallbackBool(Vars.GameHasCustomGamble, this.OnGameHasCustomGamble, this)
}, VS_GambleProgressDisplayer.prototype.OnGameHasCustomGamble = function (t) {
    t && this.OnDestroy()
}, VS_GambleProgressDisplayer.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnHistoryDisplayed, this), XT.UnregisterCallbackEvent(this.OnProgressDisplayed, this), XT.UnregisterCallbackEvent(this.OnProgressClear, this), XT.UnregisterCallbackBool(this.OnGameHasCustomGamble, this)
}, VS_GambleProgressDisplayer.prototype.OnHistoryDisplayed = function () {
    for (var t = XT.GetObject(Vars.FromServer_GambleHistory).History, e = 0; e < t.length; e++) {
        var i = XT.GetObject(Vars.Gamble_CurrentProgressObject);
        i.isFromInit = !0, i.itemIndex = e + 1, i.itemID = t[e].GetCard(), XT.TriggerEvent(Vars.Evt_Internal_Gamble_UpdateCurrentProgress)
    }
}, VS_GambleProgressDisplayer.prototype.OnProgressDisplayed = function () {
    var t = XT.GetObject(Vars.Gamble_CurrentProgressObject);
    t.isFromInit = !1;
    var e = XT.GetObject(Vars.FromServer_GambleResult);
    t.itemID = e.GetCard(), t.itemIndex++, XT.TriggerEvent(Vars.Evt_Internal_Gamble_UpdateCurrentProgress)
}, VS_GambleProgressDisplayer.prototype.OnProgressClear = function () {
    XT.GetObject(Vars.Gamble_CurrentProgressObject).itemIndex = 0
}, goog.require("UHT.Engine"), VS_GambleProgressItem.prototype = Object.create(XTLink.prototype), VS_GambleProgressItem.prototype.constructor = VS_GambleProgressItem, VS_GambleProgressItem.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_ClearProgress, this.OnProgressClear, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_Gamble_UpdateCurrentProgress, this.OnProgressUpdate, this), XT.RegisterCallbackBool(Vars.GameHasCustomGamble, this.OnGameHasCustomGamble, this)
}, VS_GambleProgressItem.prototype.OnGameHasCustomGamble = function (t) {
    t && this.OnDestroy()
}, VS_GambleProgressItem.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnProgressClear, this), XT.UnregisterCallbackEvent(this.OnProgressUpdate, this), XT.UnregisterCallbackBool(this.OnGameHasCustomGamble, this)
}, VS_GambleProgressItem.prototype.OnProgressClear = function () {
    this.Cat.StartEvent(this.EventReset.id)
}, VS_GambleProgressItem.prototype.OnProgressUpdate = function () {
    var t = XT.GetObject(Vars.Gamble_CurrentProgressObject);
    if (this.itemIndex == t.itemIndex) {
        switch (Math.floor(t.itemID / 26)) {
            case 0:
                this.Cat.StartEvent(this.EventSetBlack.id);
                break;
            case 1:
                this.Cat.StartEvent(this.EventSetRed.id);
                break
        }
        t.isFromInit ? this.Cat.StartEvent(this.EventShowOnInit.id) : this.Cat.StartEvent(this.EventShowAfterPick.id)
    }
}, goog.require("UHT.XTLink"), QuickSpinWindowController.prototype = Object.create(XTLink.prototype), QuickSpinWindowController.prototype.constructor = QuickSpinWindowController, QuickSpinWindowController.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, QuickSpinWindowController.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(InterfaceVars.ShowFastPlayHint, !0)
}, QuickSpinWindowController.prototype.OnGameInit = function () {
    XT.GetBool(Vars.FastPlay) || !XT.GetBool(InterfaceVars.ShowFastPlayHint) || XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins) ? this.disableWindow.Start() : (XT.RegisterCallbackBool(Vars.Logic_IsFreeSpin, this.OnIsFreeSpinChanged, this), XT.RegisterCallbackBool(Vars.FastPlay, this.OnQuickSpinChanged, this), XT.RegisterCallbackBool(Vars.ContinuousSpin, this.OnQuickSpinChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded, this.OnSpinEnded, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin, this.OnStopSpin, this), XT.RegisterCallbackInt(Vars.AutoplaySpinsLeft, this.OnAutoplaySpinsLeftChanged, this))
}, QuickSpinWindowController.prototype.OnAutoplaySpinsLeftChanged = function (t) {
    this.isAutoSpin = t >= 0, this.isAutoSpin && (this.numberOfSpins = 0, this.numberOfStops = 0, this.spinStopped = !1)
}, QuickSpinWindowController.prototype.OnIsFreeSpinChanged = function (t) {
    this.isFreeSpin = t, this.isFreeSpin && (this.numberOfSpins = 0, this.numberOfStops = 0, this.spinStopped = !1)
}, QuickSpinWindowController.prototype.OnQuickSpinChanged = function (t) {
    t && (this.xtEnabled = !1)
}, QuickSpinWindowController.prototype.OnStopSpin = function () {
    this.isFreeSpin || this.isAutoSpin || (this.spinStopped = !0)
}, QuickSpinWindowController.prototype.OnSpinEnded = function () {
    this.isFreeSpin || this.isAutoSpin || (this.numberOfSpins++, this.spinStopped ? this.numberOfStops++ : this.numberOfStops = 0, this.spinStopped = !1, XT.GetDouble(Vars.WinReceived) <= 0 && this.numberOfSpins >= this.numberOfSpinsBeforeWindow && this.numberOfStops >= this.numberOfStopsBeforeWindow && (this.showWindow.Start(), this.xtEnabled = !1, XT.SetBool(InterfaceVars.ShowFastPlayHint, !1), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)))
}, RandomAwardsResponse.prototype.Clone = function () {
    var t = new RandomAwardsResponse;
    return t.awardIndex = this.awardIndex, t.awardPositionInReel = this.awardPositionInReel, t.currentReelIndex = this.currentReelIndex, t.nextReelIndex = this.nextReelIndex, t
}, goog.provide("UHT.FreeSpinsResponse"), FreeSpinsResponse.prototype.CurrentSpin = 0, FreeSpinsResponse.prototype.MaxSpins = 0, FreeSpinsResponse.prototype.OldMaxSpins = 0, FreeSpinsResponse.prototype.AdditionalSpins = 0, FreeSpinsResponse.prototype.TotalSpins = 0, FreeSpinsResponse.prototype.TotalMultiplier = 0, FreeSpinsResponse.prototype.CurrentWin = 0, FreeSpinsResponse.prototype.CurrentWinMultiplied = 0, FreeSpinsResponse.prototype.TotalWin = 0, FreeSpinsResponse.prototype.TotalWinMultiplied = 0, FreeSpinsResponse.prototype.PickedOptionIndex = 0, FreeSpinsResponse.prototype.IsFreeSpin = !1, FreeSpinsResponse.prototype.IsFreeSpinsStart = !1, FreeSpinsResponse.prototype.IsLastFreeSpin = !1, FreeSpinsResponse.prototype.IsFreeSpinsCollected = !1, FreeSpinsResponse.prototype.IsFreeSpinsGambled = !1, FreeSpinsResponse.prototype.IsNeedGetMysteryScatter = !1, FreeSpinsResponse.prototype.BonusGameData = null, FreeSpinsResponse.prototype.MysteryScatter = [], FreeSpinsResponse.prototype.SetFreeSpinsResponse = function (t) {
    if (null == t) return this._isFreeSpin = !1, this._isFreeSpinsStart = !1, void(this._isFreeSpinsGambled = !1);
    if (null != t.BonusGame) {
        var e = t.BonusGame.Clone();
        this._bonusGameData = new FreeSpinsResponse.BonusGame, this._bonusGameData.GameOver = e.GameOver, this._bonusGameData.Level = e.Level, this._bonusGameData.Lifes = e.Lifes, this._bonusGameData.MultipliersWin = e.MultipliersWin, this._bonusGameData.SpinsWin = e.SpinsWin, this._bonusGameData.SetBonusItems(e.BonusItems)
    } else this._bonusGameData = null;
    this._currentSpin = t.GetCurrentNumber(), 0 != this._maxSpins && (this._oldMaxSpins = this._maxSpins), this._maxSpins = t.GetMaxNumber(), this._totalSpins = t.GetTotalNumber(), this._totalMultiplier = t.GetTotalMultipl(), this._currentWin = t.GetCurrentWin(), this._currentWinMultiplied = t.GetCurrentWinMultiplied(), this._totalWin = t.GetTotalWin(), this._totalWinMultiplied = t.GetTotalWinMultiplied(), this._pickedOptionIndex = t.PickedOptionIndex, this._mysteryScatter = t.GetMysteryScatter(), this._needGetMysteryScatter = t.IsNeedGetMysteryScatter(), this._isFreeSpinsStart = 1 == this._currentSpin, this._isFreeSpin = !0, this.FreeSpinsType = t.fstype, this._isFreeSpinsStart ? (this._oldMaxSpins = 0, this._additionalSpins = 0) : (0 == this._oldMaxSpins && (this._oldMaxSpins = this._maxSpins), this._additionalSpins = this._maxSpins - this._oldMaxSpins)
}, FreeSpinsResponse.BonusGame = function () {
    this._gameOver = !1, this._level = 0, this._lifes = null, this._spinsWin = 0, this._multipliersWin = 0, this._bonusItems = [], Object.defineProperty(this, "GameOver", {
        get: function () {
            return this._gameOver
        },
        set: function (t) {
            this._gameOver = t
        }
    }), Object.defineProperty(this, "Level", {
        get: function () {
            return this._level
        },
        set: function (t) {
            this._level = t
        }
    }), Object.defineProperty(this, "Lifes", {
        get: function () {
            return this._lifes
        },
        set: function (t) {
            this._lifes = t
        }
    }), Object.defineProperty(this, "SpinsWin", {
        get: function () {
            return this._spinsWin
        },
        set: function (t) {
            this._spinsWin = t
        }
    }), Object.defineProperty(this, "MultipliersWin", {
        get: function () {
            return this._multipliersWin
        },
        set: function (t) {
            this._multipliersWin = t
        }
    }), Object.defineProperty(this, "BonusItems", {
        get: function () {
            return this._bonusItems
        },
        set: function (t) {
            this._bonusItems = t
        }
    })
}, FreeSpinsResponse.BonusGame.prototype.GameOver = !1, FreeSpinsResponse.BonusGame.prototype.Level = 0, FreeSpinsResponse.BonusGame.prototype.Lifes = null, FreeSpinsResponse.BonusGame.prototype.SpinsWin = 0, FreeSpinsResponse.BonusGame.prototype.MultipliersWin = 0, FreeSpinsResponse.BonusGame.prototype.BonusItems = null, FreeSpinsResponse.BonusGame.prototype.SetBonusItems = function (t) {
    this._bonusItems = [];
    for (var e = 0; e < t.length; ++e) {
        var i = t[e],
            n = new FreeSpinsResponse.BonusItem(i.Value, FreeSpinsResponse.BonusItem.ParseNgcBonusItemStatus(i.Status), FreeSpinsResponse.BonusItem.ParseNgcBonusItemType(i.Type));
        this._bonusItems.push(n)
    }
}, FreeSpinsResponse.BonusItem = function (t, e, i) {
    this._value = t, this._status = e, this._type = i, Object.defineProperty(this, "Status", {
        get: function () {
            return this._status
        },
        set: function (t) {
            this._status = t
        }
    }), Object.defineProperty(this, "Type", {
        get: function () {
            return this._type
        },
        set: function (t) {
            this._type = t
        }
    }), Object.defineProperty(this, "Value", {
        get: function () {
            return this._value
        },
        set: function (t) {
            this._value = t
        }
    })
}, FreeSpinsResponse.BonusItem.BonusItemStatus = {
    Available: 0,
    Selected: 1
}, FreeSpinsResponse.BonusItem.BonusItemType = {
    Spin: 0,
    Multiplier: 1
}, FreeSpinsResponse.BonusItem.ParseNgcBonusItemStatus = function (t) {
    switch (t) {
        case VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Selected:
            return FreeSpinsResponse.BonusItem.BonusItemStatus.Selected;
        default:
            return FreeSpinsResponse.BonusItem.BonusItemStatus.Available
    }
}, FreeSpinsResponse.BonusItem.ParseNgcBonusItemType = function (t) {
    switch (t) {
        case VsFreeSpinBonusGame.BonusItem.BonusItemType.Multiplier:
            return FreeSpinsResponse.BonusItem.BonusItemType.Multiplier;
        default:
            return FreeSpinsResponse.BonusItem.BonusItemType.Spin
    }
}, FreeSpinsResponse.BonusItem.prototype.Status = FreeSpinsResponse.BonusItem.BonusItemStatus.Available, FreeSpinsResponse.BonusItem.prototype.Type = FreeSpinsResponse.BonusItem.BonusItemType.Spin, FreeSpinsResponse.BonusItem.prototype.Value = 0, FreeSpinsResponse.BonusItem.prototype.ToString = function () {
    return "BonusItem {Status=" + this._status + ", Type=" + this._type + ", Value=" + this._value + "}"
}, BonusData.prototype.HasMultipliers = function () {
    return null != this.MultipliersStatus
}, BonusData.prototype.HasMultipleLevels = function () {
    return null != this.ItemsMarkers
}, BonusData.prototype.ConstrainedLevel = function () {
    return Math.min(this.numberOfLevels, this.GameOver ? this.Level + 1 : this.Level)
}, BonusData.prototype.GetCurrentLevelIndex = function () {
    var t = this.Level;
    return t >= this.numberOfLevels && (t = this.numberOfLevels - 1), t
}, goog.require("UHT.XTLink");
var FeatureManagerParamType = {
        None: 0,
        Bool: 1,
        Int: 2,
        Float: 3,
        Double: 4,
        String: 5,
        XT_Bool: 6,
        XT_Int: 7,
        XT_Float: 8,
        XT_Double: 9,
        XT_String: 10,
        XT_Object: 11
    },
    FeatureManagerCallbackType = {
        XT_Event: 0,
        XT_Object: 1,
        XT_String: 2,
        XT_Double: 3,
        XT_Float: 4,
        XT_Int: 5,
        XT_Bool: 6
    },
    FeatureManagerIDSource = {
        None: 0,
        Bonus: 1,
        FreeSpin: 2,
        RandomAward: 3,
        RandomAwardFreeSpin: 4
    };

function FeatureManagerMessage() {
    this.eventReceiver = null, this.methodToCall = "", this.paramType = FeatureManagerParamType.None, this.param = ""
}

function FeatureManagerXTCallback() {
    this.onlyDuringFeature = !0, this.type = FeatureManagerCallbackType.XT_Event, this.name = "", this.priority = 0, this.cat = null, this.messages = null, this.mng = null
}

function FeatureManager() {
    XTLink.call(this), this.featureID = 0, this.featureIDSources = null, this.XTCallbacks = null, this.awardsConfig = null, this.awardsResponse = null, this.freeSpinsResponse = null, this.bonusData = null
}

function RatingWindowController() {
    XTLink.call(this), this.showWindow = null, this.hideWindow = null, this.rateLucky = null, this.rateLuckyUpdateState = null, this.ratePretty = null, this.ratePrettyUpdateState = null, this.okButton = null, this.happyRating = 3, this.numberOfWinsBeforeRating = 30, this.disabled = !0, this.luckyRating = 0, this.prettyRating = 0, this.numberOfWins = 0, this.mustShowWindow = !1, this.numSkipClicked = 0, this.numClicksToSkip = 3
}

function DefaultGameWindowOverrideData() {
    this.customFSWinWindow = !1, this.customFSLoseWindow = !1
}

function GameWindowOverrider() {
    XTLink.call(this), this.FSWinWindow = null, this.FSLoseWindow = null
}

function GUI_SoundLogic() {
    XTLink.call(this), this.clipValueAnimator = null, this.gambleSounds = null, this.sndManager = null, this.enableSoundsWhenReady = !1
}
FeatureManagerXTCallback.prototype.RegisterCallback = function (t) {
    switch (this.mng = t, this.type) {
        case FeatureManagerCallbackType.XT_Event:
            XT.RegisterCallbackEvent(this.name, this.OnEvent, this, this.priority);
            break;
        case FeatureManagerCallbackType.XT_Object:
            XT.RegisterCallbackObject(this.name, this.OnObject, this);
            break;
        case FeatureManagerCallbackType.XT_String:
            XT.RegisterCallbackString(this.name, this.OnString, this);
            break;
        case FeatureManagerCallbackType.XT_Double:
            XT.RegisterCallbackDouble(this.name, this.OnDouble, this);
            break;
        case FeatureManagerCallbackType.XT_Float:
            XT.RegisterCallbackFloat(this.name, this.OnFloat, this);
            break;
        case FeatureManagerCallbackType.XT_Int:
            XT.RegisterCallbackInt(this.name, this.OnInt, this);
            break;
        case FeatureManagerCallbackType.XT_Bool:
            XT.RegisterCallbackBool(this.name, this.OnBool, this);
            break
    }
}, FeatureManagerXTCallback.prototype.OnEvent = function () {
    this.mng.XTCallback(this)
}, FeatureManagerXTCallback.prototype.OnObject = function (t) {
    this.mng.XTCallback(this)
}, FeatureManagerXTCallback.prototype.OnString = function (t) {
    this.mng.XTCallback(this)
}, FeatureManagerXTCallback.prototype.OnDouble = function (t) {
    this.mng.XTCallback(this)
}, FeatureManagerXTCallback.prototype.OnFloat = function (t) {
    this.mng.XTCallback(this)
}, FeatureManagerXTCallback.prototype.OnInt = function (t) {
    this.mng.XTCallback(this)
}, FeatureManagerXTCallback.prototype.OnBool = function (t) {
    this.mng.XTCallback(this)
}, FeatureManager.prototype = Object.create(XTLink.prototype), FeatureManager.prototype.constructor = FeatureManager, FeatureManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.RandomAwardsConfig, this.OnAwardsConfig, this), XT.RegisterCallbackObject(Vars.RandomAwardsResponse, this.OnAwardsResponse, this), XT.RegisterCallbackObject(Vars.ReceivedFreeSpinsResponse, this.OnFreeSpinsResponse, this), XT.RegisterCallbackObject(Vars.BonusData, this.OnBonusData, this);
    for (var t = 0; t < this.XTCallbacks.length; ++t) this.XTCallbacks[t].RegisterCallback(this)
}, FeatureManager.prototype.OnBonusData = function (t) {
    this.bonusData = t
}, FeatureManager.prototype.OnFreeSpinsResponse = function (t) {
    this.freeSpinsResponse = t
}, FeatureManager.prototype.OnAwardsConfig = function (t) {
    this.awardsConfig = t
}, FeatureManager.prototype.OnAwardsResponse = function (t) {
    this.awardsResponse = t
}, FeatureManager.prototype.XTCallback = function (t) {
    if (t.onlyDuringFeature) {
        for (var e = -1, i = 0; i < this.featureIDSources.length; ++i) switch (this.featureIDSources[i]) {
            case FeatureManagerIDSource.Bonus:
                null != this.bonusData && (e = this.bonusData.GameID);
                break;
            case FeatureManagerIDSource.FreeSpin:
                null != this.freeSpinsResponse && this.freeSpinsResponse.IsFreeSpin && (e = this.freeSpinsResponse.FreeSpinsType);
                break;
            case FeatureManagerIDSource.RandomAward:
                null != this.awardsConfig && null != this.awardsResponse && (e = this.awardsConfig.awardSymbolsNormal[this.awardsResponse.awardIndex].FeatureID);
                break;
            case FeatureManagerIDSource.RandomAwardFreeSpin:
                null != this.awardsConfig && null != this.awardsResponse && (e = this.awardsConfig.awardSymbolsFreeSpins[this.awardsResponse.awardIndex].FeatureID);
                break
        }
        if (this.featureID != e) return
    }
    null != t.cat && t.cat.Start();
    for (i = 0; i < t.messages.length; ++i) {
        var n = t.messages[i];
        switch (n.paramType) {
            case FeatureManagerParamType.Bool:
                n.eventReceiver.SendMessage(n.methodToCall, _bool.Parse(n.param));
                break;
            case FeatureManagerParamType.Int:
                n.eventReceiver.SendMessage(n.methodToCall, _number.otoi(n.param));
                break;
            case FeatureManagerParamType.Float:
                n.eventReceiver.SendMessage(n.methodToCall, _number.otod(n.param));
                break;
            case FeatureManagerParamType.Double:
                n.eventReceiver.SendMessage(n.methodToCall, _number.otod(n.param));
                break;
            case FeatureManagerParamType.String:
                n.eventReceiver.SendMessage(n.methodToCall, n.param);
                break;
            case FeatureManagerParamType.XT_Bool:
                n.eventReceiver.SendMessage(n.methodToCall, XT.GetBool(n.param));
                break;
            case FeatureManagerParamType.XT_Int:
                n.eventReceiver.SendMessage(n.methodToCall, XT.GetInt(n.param));
                break;
            case FeatureManagerParamType.XT_Float:
                n.eventReceiver.SendMessage(n.methodToCall, XT.GetFloat(n.param));
                break;
            case FeatureManagerParamType.XT_Double:
                n.eventReceiver.SendMessage(n.methodToCall, XT.GetDouble(n.param));
                break;
            case FeatureManagerParamType.XT_String:
                n.eventReceiver.SendMessage(n.methodToCall, XT.GetString(n.param));
                break;
            case FeatureManagerParamType.XT_Object:
                n.eventReceiver.SendMessage(n.methodToCall, XT.GetObject(n.param));
                break;
            default:
                n.eventReceiver.SendMessage(n.methodToCall);
                break
        }
    }
}, goog.require("UHT.Engine"), RatingWindowController.prototype = Object.create(XTLink.prototype), RatingWindowController.prototype.constructor = RatingWindowController, RatingWindowController.prototype.ShowWindow = function () {
    this.SwitchOkButton(), this.showWindow.Start()
}, RatingWindowController.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, RatingWindowController.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(Vars.GameIsRated, !1), XT.SetBool(Vars.RatingSkipped, !1)
}, RatingWindowController.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGameInit, this)
}, RatingWindowController.prototype.OnGameInit = function () {
    ServerOptions.noRating || this.disabled || XT.GetBool(Vars.GameIsRated) || XT.GetBool(Vars.RatingSkipped) || XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded, this.OnSpinEnded, this)
}, RatingWindowController.prototype.OnSpinEnded = function () {
    if (XT.GetDouble(Vars.WinReceived) > 0) this.numberOfWins++, this.numberOfWins >= this.numberOfWinsBeforeRating && (this.mustShowWindow = !0);
    else {
        var t = XT.GetObject(Vars.ReceivedFreeSpinsResponse),
            e = null != t && t.IsFreeSpin,
            i = XT.GetInt(Vars.AutoplaySpinsLeft) > 0;
        !this.mustShowWindow || e || i || (this.ShowWindow(), XT.UnregisterCallbackEvent(this.OnSpinEnded, this))
    }
}, RatingWindowController.prototype.RateLucky = function (t) {
    var e = _number.otoi(t),
        i = e + 1;
    this.luckyRating != i && (this.luckyRating >= this.happyRating && i < this.happyRating || this.luckyRating < this.happyRating && i >= this.happyRating) ? this.rateLuckyUpdateState[e].Start() : this.rateLucky[e].Start(), this.luckyRating = i, this.SwitchOkButton()
}, RatingWindowController.prototype.RatePretty = function (t) {
    var e = _number.otoi(t),
        i = e + 1;
    this.prettyRating != i && (this.prettyRating >= this.happyRating && i < this.happyRating || this.prettyRating < this.happyRating && i >= this.happyRating) ? this.ratePrettyUpdateState[e].Start() : this.ratePretty[e].Start(), this.prettyRating = i, this.SwitchOkButton()
}, RatingWindowController.prototype.SwitchOkButton = function () {
    for (var t = this.okButton.GetComponents(UIButton), e = this.luckyRating > 0 && this.prettyRating > 0, i = 0; i < t.length; ++i) t[i].SetEnabled(e)
}, RatingWindowController.prototype.OkButtonClicked = function () {
    globalTracking.SendTimer("Rating", "Lucky", 1e3 * this.luckyRating, "RatingTracker"), globalTracking.SendTimer("Rating", "Pretty", 1e3 * this.prettyRating, "RatingTracker"), XT.SetBool(Vars.GameIsRated, !0), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer), this.hideWindow.Start()
}, RatingWindowController.prototype.CloseButtonClicked = function () {
    globalTracking.SendTimer("Rating", "SkippedLucky", 1e3 * this.luckyRating, "RatingTracker"), globalTracking.SendTimer("Rating", "SkippedPretty", 1e3 * this.prettyRating, "RatingTracker"), XT.SetBool(Vars.RatingSkipped, !0), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer), this.hideWindow.Start()
}, RatingWindowController.prototype.SkipButtonClicked = function () {
    ++this.numSkipClicked, this.numSkipClicked >= this.numClicksToSkip && (XT.SetBool(Vars.GameIsRated, !0), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer), this.hideWindow.Start())
}, goog.require("UHT.Engine"), GameWindowOverrider.prototype = Object.create(XTLink.prototype), GameWindowOverrider.prototype.constructor = GameWindowOverrider, GameWindowOverrider.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this)
}, GameWindowOverrider.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGUIInit, this)
}, GameWindowOverrider.prototype.OnGUIInit = function () {
    var t = XT.GetObject(Vars.DefaultGameWindowOverrideData);
    null != this.FSWinWindow && (this.FSWinWindow.isEnabled = !t.customFSWinWindow), null != this.FSLoseWindow && (this.FSLoseWindow.isEnabled = !t.customFSLoseWindow)
}, goog.require("UHT.XTLink"), goog.require("UHT.SoundManager"), goog.require("UHT.AudioClassesUtils"), GUI_SoundLogic.prototype = Object.create(XTLink.prototype), GUI_SoundLogic.prototype.constructor = GUI_SoundLogic, GUI_SoundLogic.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(InterfaceVars.EnableSoundsWhenReady, !1)
}, GUI_SoundLogic.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.SoundManagerObject, this.OnSoundManagerChanged, this), XT.RegisterCallbackBool(Vars.MusicIsOn, this.OnMusicStateChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PlayValueAnimatorSound, this.OnValueAnimatorIsCounting, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StopValueAnimatorSound, this.OnValueAnimatorFinishedCounting, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PlayGambleShuffleCard, this.OnGambleShuffleStart, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PlayGambleShufflingStop, this.OnGambleShufflePlayStop, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StopGambleShuffleCard, this.OnGambleShuffleStop, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayGambleNewProgressItem, this.OnGambleNewProgressItem, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayGambleResultWin, this.OnGambleResultWindowWin, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayGambleResultLose, this.OnGambelResultWindowLose, this), XT.RegisterCallbackBool(InterfaceVars.EnableSoundsWhenReady, this.OnEnableSoundsWhenReadyChanged, this)
}, GUI_SoundLogic.prototype.OnDestroy = function () {
    XT.UnregisterCallbackObject(this.OnSoundManagerChanged, this), XT.UnregisterCallbackBool(this.OnMusicStateChanged, this), XT.UnregisterCallbackEvent(this.OnValueAnimatorIsCounting, this), XT.UnregisterCallbackEvent(this.OnValueAnimatorFinishedCounting, this), XT.UnregisterCallbackEvent(this.OnGambleShuffleStart, this), XT.UnregisterCallbackEvent(this.OnGambleShuffleStop, this), XT.UnregisterCallbackEvent(this.OnGambleNewProgressItem, this), XT.UnregisterCallbackEvent(this.OnGambleResultWindowWin, this), XT.UnregisterCallbackEvent(this.OnGambelResultWindowLose, this)
}, GUI_SoundLogic.prototype.OnSoundManagerChanged = function (t) {
    this.sndManager = t
}, GUI_SoundLogic.prototype.OnMusicStateChanged = function (t) {
    if (this.clipValueAnimator.IsPlaying()) {
        var e = {
            handle: this.clipValueAnimator.handler
        };
        this.sndManager.StopLoopingSound(e), this.clipValueAnimator.handler = e.handle, this.clipValueAnimator.handler = this.sndManager.PlayLooping(this.clipValueAnimator.GetClip(XT.GetInt(Vars.ValueAnimatorSoundIndex)))
    }
}, GUI_SoundLogic.prototype.OnGambleShuffleStart = function () {
    this.gambleSounds.shufflingCardLoopable.handler = this.sndManager.PlayLooping(this.gambleSounds.shufflingCardLoopable.GetClip())
}, GUI_SoundLogic.prototype.OnGambleShuffleStop = function () {
    if (this.gambleSounds.shufflingCardLoopable.IsPlaying()) {
        var t = {
            handle: this.gambleSounds.shufflingCardLoopable.handler
        };
        this.sndManager.StopLoopingSound(t), this.gambleSounds.shufflingCardLoopable.handler = t.handle
    }
}, GUI_SoundLogic.prototype.OnGambleShufflePlayStop = function () {
    this.sndManager.PlaySimple(this.gambleSounds.shufflingCardStop)
}, GUI_SoundLogic.prototype.OnGambleNewProgressItem = function () {
    this.sndManager.PlaySimple(this.gambleSounds.newProgressItem)
}, GUI_SoundLogic.prototype.OnGambleResultWindowWin = function () {
    this.sndManager.PlaySimple(this.gambleSounds.resultWindowWin)
}, GUI_SoundLogic.prototype.OnGambelResultWindowLose = function () {
    this.sndManager.PlaySimple(this.gambleSounds.resultWindowLose)
}, GUI_SoundLogic.prototype.OnValueAnimatorIsCounting = function () {
    if (this.clipValueAnimator.IsPlaying()) {
        var t = {
            handle: this.clipValueAnimator.handler
        };
        this.sndManager.StopLoopingSound(t), this.clipValueAnimator.handler = t.handle
    }
    this.clipValueAnimator.handler = this.sndManager.PlayLooping(this.clipValueAnimator.GetClip(XT.GetInt(Vars.ValueAnimatorSoundIndex)))
}, GUI_SoundLogic.prototype.OnValueAnimatorFinishedCounting = function () {
    if (this.clipValueAnimator.IsPlaying()) {
        var t = {
            handle: this.clipValueAnimator.handler
        };
        this.sndManager.StopLoopingSound(t), this.clipValueAnimator.handler = t.handle
    }
    this.sndManager.PlaySimple(this.clipValueAnimator.GetClip(ClipStage.finalStage))
}, GUI_SoundLogic.prototype.OnEnableSoundsWhenReadyChanged = function (t) {
    this.enableSoundsWhenReady = t
}, GUI_SoundLogic.prototype.Update = function () {
    this.enableSoundsWhenReady && UHTEngine.SoundsAreLoaded() && (this.enableSoundsWhenReady = !1, 0 == XT.GetObject(Vars.SoundState).gameSoundIsOn && XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_SoundBtn))
}, goog.require("UHT.XTLink");
var CoinManagerVars = {
    Evt_ComputedCoinValuesAndCurrentBet: "Evt_ComputedCoinValuesAndCurrentBet",
    Evt_DataToCode_SetMaxBet: "Evt_DataToCode_SetMaxBet"
};

function CoinManager() {
    XTLink.call(this)
}

function AutoplayReopen() {
    XTLink.call(this), this.shouldReopen = !1, this.reopenAutoplay = null, this.oldState = VSGameState.Invalid
}

function GUIArrangerSettings() {
    XTLink.call(this), this.applyToExtraElements = !1, this.commonTargets = null, this.logoTargetAnchorDesktop = null, this.logoTargetArrangeableDesktop = null, this.gameAnchorUpLeftDesktop = null, this.gameAnchorDownRightDesktop = null, this.ignoreGameAnchorsDesktopIfLNActive = !1, this.useGameAnchorsDesktopArrangeable = !1, this.TopBarSprite_base = null, this.logoTargetAnchorMobile = null, this.logoTargetArrangeableMobile = null, this.gameAnchorUpLeftMobile = null, this.gameAnchorDownRightMobile = null, this.ignoreGameAnchorsMobileIfLNActive = !1, this.portraitTargets = null, this.landscapeTargets = null
}

function GUIArrangerPortraitButtonArranger() {
    this.collider = null, this.animator = null
}

function GUIArrangerCommonObjects() {
    this.camerasArrangeable = null
}

function GUIArrangerPortraitObjectsBase() {
    this.DynamicContentV11 = null, this.TopBar = null, this.TopBarBackground = null, this.TournamentRankLocalPosition = null, this.AutoplaySimpleWindow = null, this.autoplayButton = null, this.betButton = null, this.spinButtonObstacles = null, this.bottomBar = null, this.bottomBarCollider = null, this.logoArrangeable = null
}

function GUIArrangerPortraitObjects() {
    GUIArrangerPortraitObjectsBase.call(this), this.TournamentRankBackgrounds = null, this.TopBarSprite_base = null, this.TopBarExtraSprite = null, this.BottomBarSprite_base = null, this.BottomBarExtraSprite = null, this.betButtonArranger = null, this.autoplayButtonArranger = null
}

function GUIArrangerSettingsPortraitObjects() {
    GUIArrangerPortraitObjectsBase.call(this), this.TournamentRankBackground = null, this.TopBarSprite_base = null, this.TopBarSprite_extra = null, this.BottomBarSprite_base = null, this.BottomBarSprite_extra = null, this.TopBarColor = null, this.BottomBarColor = null, this.useAutoplayButtonScale = !1, this.useBetButtonScale = !1
}

function GUIArrangerSettingsLandscapeObjects() {
    this.BottomBar = null, this.AnchoredLeftButtonsLocalPosition = null, this.AnchoredLeftButtonsScreenAnchor = null, this.AnchoredRightButtonsScreenAnchor = null, this.TopBarSprite_base = null
}

function GUIArrangerLandscapeObjects() {
    GUIArrangerSettingsLandscapeObjects.call(this), this.autoplayButton = null, this.autoplayCollider = null, this.betButton = null, this.betCollider = null
}

function BlackBands() {
    this.up = null, this.down = null, this.left = null, this.right = null
}

function GameAnchors(t, e) {
    this.upLeft = t, this.downRight = e
}
CoinManager.prototype = Object.create(XTLink.prototype), CoinManager.prototype.constructor = CoinManager, CoinManager.instance = null, CoinManager.isInited = !1, CoinManager.lastBet = -1, CoinManager.lastTotalBet = -1, CoinManager.lastIndicesPair = null, CoinManager.isStrictMode = !1, CoinManager.canStillGoToStrictMode = !1, CoinManager.desiredBetIndex = -1, CoinManager.desiredCoinIndex = -1, CoinManager.desiredBet = -1, CoinManager.savedDesiredBet = -1, CoinManager.defaultBet = -1, CoinManager.computedCoinValues = null, CoinManager.betsFromServer = null, CoinManager.initialBetsFromServer = null, CoinManager.prototype.XTInitVariablesAndEvents = function () {
    CoinManager.instance = this, XT.SetObject(Vars.TotalBets, null), XT.SetObject(Vars.CoinValues, []), XT.SetInt(Vars.CoinValueIndex, -1), XT.SetInt(Vars.NextBetIndex, 0), XT.SetDouble(Vars.MinTotalBetFromServer, 0), XT.SetDouble(Vars.MaxTotalBetFromServer, 0), XT.SetBool(Vars.AllowBetChange, !0)
}, CoinManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_IncreaseBet, this.IncreaseBet, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_DecreaseBet, this.DecreaseBet, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_IncreaseCoinValue, this.IncreaseCoinValue, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_DecreaseCoinValue, this.DecreaseCoinValue, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_SmartIncreaseBet, this.SmartIncreaseBet, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_SmartDecreaseBet, this.SmartDecreaseBet, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_RevertToLastBet, this.RevertToLastBet, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ForceUpdateBetValues, this.UpdateBetValues, this), XT.RegisterCallbackEvent(CoinManagerVars.Evt_DataToCode_SetMaxBet, this.OnSetMaxBet, this)
}, CoinManager.prototype.OnDestroy = function () {}, CoinManager.prototype.SmartIncreaseBet = function () {
    this.GetSmartIncreasedBet(!0)
}, CoinManager.prototype.SmartDecreaseBet = function () {
    this.GetSmartDecreasedBet(!0)
}, CoinManager.prototype.GetSmartIncreasedBet = function (t) {
    var e = XT.GetInt(Vars.NextBetIndex),
        i = XT.GetObject(Vars.Bets);
    if (!XT.GetBool(Vars.FromServer_AllowCoins)) return t && this.IncreaseBet(), i[e + 1];
    if (!XT.GetBool(Vars.HasCoins)) return this.SetSmartBet(!0, t);
    if (e < i.length - 1) return t && this.IncreaseBet(), i[e + 1];
    var n = XT.GetObject(Vars.CoinValues),
        o = XT.GetInt(Vars.CoinValueIndex);
    return o < n.length - 1 ? (t && this.IncreaseCoinValue(), (e + 1) * (1e3 * n[o + 1]) / 1e3) : -1
}, CoinManager.prototype.GetSmartDecreasedBet = function (t) {
    var e = XT.GetInt(Vars.NextBetIndex),
        i = XT.GetObject(Vars.Bets);
    if (!XT.GetBool(Vars.FromServer_AllowCoins)) return t && this.DecreaseBet(), i[e - 1];
    if (!XT.GetBool(Vars.HasCoins)) return this.SetSmartBet(!1, t);
    if (e > 0) return t && this.DecreaseBet(), i[e - 1];
    var n = XT.GetObject(Vars.CoinValues),
        o = XT.GetInt(Vars.CoinValueIndex);
    return o > 0 ? (t && this.DecreaseCoinValue(), (e + 1) * (1e3 * n[o - 1]) / 1e3) : void 0
}, CoinManager.prototype.DecreaseBet = function () {
    var t = XT.GetInt(Vars.NextBetIndex);
    XT.SetInt(Vars.NextBetIndex, t - 1), this.UpdateBetValues()
}, CoinManager.prototype.IncreaseBet = function () {
    var t = XT.GetInt(Vars.NextBetIndex);
    XT.SetInt(Vars.NextBetIndex, t + 1), this.UpdateBetValues()
}, CoinManager.SetBetIndex = function (t) {
    XT.SetInt(Vars.NextBetIndex, t), CoinManager.instance.UpdateBetValues()
}, CoinManager.prototype.UpdateBetValues = function () {
    if (0 != CoinManager.isInited) {
        var t = XT.GetInt(Vars.NextBetIndex),
            e = XT.GetObject(Vars.Bets);
        if (!(null == e || t < 0 || t >= e.length)) {
            XT.SetDouble(Vars.BetDisplayed, e[t]);
            for (var i = XT.GetInt(Vars.BetToTotalBetMultiplier), n = [], o = 0; o < e.length; o++) n.push(1e3 * e[o] * i / 1e3);
            XT.SetObject(Vars.TotalBets, n), XT.SetDouble(Vars.TotalBetDisplayed, n[t]), XT.SetBool(Vars.MinBetReached, 0 == t), XT.SetBool(Vars.MaxBetReached, t == e.length - 1), XT.GetBool(Vars.FromServer_AllowCoins) ? (XT.SetBool(Vars.MinBetAndCoinValueReached, XT.GetBool(Vars.MinBetReached) && XT.GetBool(Vars.MinCoinValueReached)), XT.SetBool(Vars.MaxBetAndCoinValueReached, XT.GetBool(Vars.MaxBetReached) && XT.GetBool(Vars.MaxCoinValueReached))) : (XT.SetBool(Vars.MinBetAndCoinValueReached, XT.GetBool(Vars.MinBetReached)), XT.SetBool(Vars.MaxBetAndCoinValueReached, XT.GetBool(Vars.MaxBetReached))), XT.TriggerEvent(Vars.Evt_Internal_BetChanged)
        }
    }
}, CoinManager.prototype.IncreaseCoinValue = function () {
    XT.GetBool(Vars.WaitInResultForBigWin) ? XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin) : this.SetCoinValueIndex(XT.GetInt(Vars.CoinValueIndex) + 1)
}, CoinManager.prototype.DecreaseCoinValue = function () {
    XT.GetBool(Vars.WaitInResultForBigWin) ? XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin) : this.SetCoinValueIndex(XT.GetInt(Vars.CoinValueIndex) - 1)
}, CoinManager.prototype.OnSpinStarted = function () {
    var t = CoinManager.lastBet,
        e = XT.GetInt(Vars.NextBetIndex),
        i = XT.GetObject(Vars.TotalBets);
    CoinManager.lastTotalBet = i[e];
    var n = XT.GetObject(Vars.Bets);
    CoinManager.lastBet = n[e];
    var o = !1;
    XT.GetBool(Vars.FromServer_AllowCoins) && (CoinManager.lastIndicesPair.betIndex == e && CoinManager.lastIndicesPair.coinIndex == XT.GetInt(Vars.CoinValueIndex) || (o = !0), CoinManager.lastIndicesPair.betIndex = e, CoinManager.lastIndicesPair.coinIndex = XT.GetInt(Vars.CoinValueIndex)), XT.TriggerEvent(Vars.Evt_Internal_LastBetsChanged), (t != CoinManager.lastBet || o) && (XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer))
}, CoinManager.IsInit = function () {
    return CoinManager.isInited
}, CoinManager.InitLastBets = function () {
    CoinManager.lastBet = CoinManager.GetNextBet(), CoinManager.lastTotalBet = CoinManager.GetNextTotalBet(), XT.TriggerEvent(Vars.Evt_Internal_LastBetsChanged)
}, CoinManager.GetLastBet = function () {
    return CoinManager.lastBet
}, CoinManager.GetNextBet = function () {
    return XT.GetObject(Vars.Bets)[XT.GetInt(Vars.NextBetIndex)]
}, CoinManager.GetLastTotalBet = function () {
    return CoinManager.lastTotalBet
}, CoinManager.GetNextTotalBet = function () {
    var t = XT.GetObject(Vars.TotalBets);
    if (null == t) return 0;
    var e = XT.GetInt(Vars.NextBetIndex),
        i = XT.GetDouble(Vars.AlternativeWager);
    return i >= 0 ? i : t[e]
}, CoinManager.GetLastBetIndices = function () {
    return CoinManager.lastIndicesPair
}, CoinManager.ConvertMoneyToCoins = function (t) {
    if (!CoinManager.isInited) return -69;
    var e = -1;
    if (XT.GetBool(Vars.FromServer_AllowCoins)) {
        var i = XT.GetObject(Vars.CoinValues);
        return e = XT.GetInt(Vars.CoinValueIndex), Math.round(t / i[e])
    }
    return Math.round(t / CoinManager.GetLastBet())
}, CoinManager.GetFormatedMoneyValue = function (t, e, i) {
    null == i && (i = !0);
    var n = t * e;
    if (XT.GetBool(Vars.HasCoins)) return CoinManager.ConvertMoneyToCoins(n).toString();
    var o = new FormatOptions;
    return o.hasDecimals = i, o.fontId = 1, LocaleManager.FormatValue(n, o)
}, CoinManager.prototype.SetCoinValueIndex = function (t) {
    var e = XT.GetObject(Vars.CoinValues);
    if (!(t < 0 || t >= e.length)) {
        var i = XT.GetInt(Vars.NumberOfBetLevels);
        CoinManager.isInited = !0;
        for (var n = [], o = 1; o <= i; o++) n.push(o * (1e3 * e[t]) / 1e3);
        XT.SetObject(Vars.Bets, n), XT.SetBool(Vars.MinCoinValueReached, 0 == t), XT.SetBool(Vars.MaxCoinValueReached, t == e.length - 1), XT.SetInt(Vars.CoinValueIndex, t), XT.SetDouble(Vars.CoinValueDisplayed, e[t]), this.UpdateBetValues(), XT.SetBool(Vars.MinBetAndCoinValueReached, XT.GetBool(Vars.MinBetReached) && XT.GetBool(Vars.MinCoinValueReached)), XT.SetBool(Vars.MaxBetAndCoinValueReached, XT.GetBool(Vars.MaxBetReached) && XT.GetBool(Vars.MaxCoinValueReached)), XT.TriggerEvent(Vars.Evt_Internal_CoinValueChanged)
    }
}, CoinManager.ComputeCoinValuesAndCurrentBet = function (t, e, i) {
    null == CoinManager.initialBetsFromServer && (CoinManager.initialBetsFromServer = t), XT.SetDouble(Vars.ExplicitMaxTotalBetFromServer + "AB", XT.GetDouble(Vars.ExplicitMaxTotalBetFromServer));
    var n = XT.GetInt(Vars.Jurisdiction_MaxBetCents);
    n > 0 && XT.SetDouble(Vars.ExplicitMaxTotalBetFromServer, n / 100);
    var o = n,
        s = 100 * XT.GetInt(Vars.Jurisdiction_MaxWin);
    if (s > 0) {
        var a = XT.GetInt("WinLimit_TotalBetMultiplier");
        a > 0 && (o = s / a, n > 0 && (o = Math.min(n, o)))
    }
    var r = XT.GetInt(Vars.LinesForMinBet),
        l = XT.GetInt(Vars.LinesForMaxBet);
    if (o > 0) {
        XT.SetDouble(Vars.ExplicitMaxTotalBetFromServer + "AB", o / 100);
        var u = 100 * t[0];
        u * r > o && (u = 1);
        var h = [];
        if (checkIsRequired("MWUSS"))
            for (var c = 0; c < t.length; c++) 100 * t[c] * r <= o && h.push(t[c]);
        else
            do {
                h.push(u / 100), u < 10 ? u++ : u += u < 100 ? 5 : 25
            } while (u * r <= o && u <= 100 * t[t.length - 1]);
        var p = Math.min(Math.floor(o / r), 100 * t[t.length - 1]);
        h[h.length - 1] != p / 100 && h.push(p / 100), t = h, e = UHTMath.clamp(e, h[0], h[h.length - 1]), i = UHTMath.clamp(i, h[0], h[h.length - 1])
    }
    if (XT.SetDouble(Vars.MinTotalBetFromServer, t[0] * r), XT.GetBool(Vars.FromServer_AllowCoins)) {
        for (var d = t[0], m = t[t.length - 1], S = [.05, .1, .2, .4], g = XT.GetInt(Vars.NumberOfBetLevels); d * g < m / g * S[0];) S.unshift(.2 * S[0]);
        m / d < g && (g = 1e3 * m / (1e3 * d) | 0, XT.SetInt(Vars.NumberOfBetLevels, g));
        var y = 1e3 * m / g / 1e3;
        if (checkIsRequired("ABL")) {
            for (; Math.floor(100 * (y + 1e-4)) / 100 * g < m;) y = 1e3 * m / --g / 1e3;
            XT.SetInt(Vars.NumberOfBetLevels, g)
        }
        checkIsRequired("RMCV") && (y = CoinManager.GetNiceCoinValue(y)), (y = Math.floor(100 * (y + 1e-4)) / 100) * g > m && (y = (100 * y | 0) / 100);
        var f = y - d,
            b = [];
        b.push(d);
        for (var T = 0; T < S.length; T++) {
            var C = CoinManager.GetNiceCoinValue(d + f * S[T]);
            C > d && C < y && b.push(C)
        }
        b.push(y);
        for (var A = 1; A < b.length; A++) Math.abs(b[A] - b[A - 1]) < .001 && (b.splice(A, 1), A--);
        XT.SetObject(Vars.CoinValues, b), CoinManager.computedCoinValues = b;
        var v = Math.round(100 * b[b.length - 1] * g * l);
        if (o > 0) {
            v = -1;
            for (var M = 1; M <= g; M++)
                for (var L = 0; L < b.length; L++) {
                    (P = Math.round(100 * b[L] * M * r)) <= o && P > v && (v = P), (R = Math.round(100 * b[L] * M * l)) <= o && R > v && (v = R)
                }
        }
        XT.SetDouble(Vars.MaxTotalBetFromServer, v / 100)
    } else {
        v = Math.round(100 * t[t.length - 1] * l);
        if (o > 0) {
            v = -1;
            for (var I = 0; I < t.length; I++) {
                var P, R;
                (P = Math.round(100 * t[I] * r)) <= o && P > v && (v = P), (R = Math.round(100 * t[I] * l)) <= o && R > v && (v = R)
            }
        }
        XT.SetDouble(Vars.MaxTotalBetFromServer, v / 100), CoinManager.betsFromServer = t
    }
    CoinManager.SetDesiredBet(e), CoinManager.SetDefaultBet(i), XT.TriggerEvent(CoinManagerVars.Evt_ComputedCoinValuesAndCurrentBet)
}, CoinManager.GetNiceCoinValue = function (t) {
    var e;
    if ("COINS_V2" == ServerOptions.amountType) {
        for (var i = Math.floor(Math.log10(t)), n = Math.pow(10, 0 | i), o = [1, 2, 5], s = [], a = 0; a < o.length; a++) s.push(n * o[a]);
        var r = Math.pow(10, i + 1),
            l = -1;
        for (a = 0; a < s.length; a++) {
            (u = Math.abs(t - s[a])) < r && (r = u, l = a)
        }
        e = s[l]
    } else if (t > 5) e = Math.floor(t);
    else if (t >= 1) e = Math.floor(4 * t) / 4;
    else {
        for (s = [.01, .02, .03, .05, .07, .1, .2, .3, .5, .75], r = 5, l = -1, a = 0; a < s.length; a++) {
            var u;
            (u = Math.abs(t - s[a])) < r && (r = u, l = a)
        }
        e = s[l]
    }
    return e
}, CoinManager.SetPreviousBetIndices = function (t, e) {
    CoinManager.desiredBetIndex = t, CoinManager.desiredCoinIndex = e
}, CoinManager.SetDesiredBet = function (t) {
    CoinManager.desiredBet = t, CoinManager.savedDesiredBet = t, CoinManager.canStillGoToStrictMode = !0
}, CoinManager.SetDefaultBet = function (t) {
    CoinManager.defaultBet = t
}, CoinManager.SetStrictBetMode = function (t) {
    t != CoinManager.isStrictMode && (CoinManager.smartBets = null);
    var e, i = !1;
    if (XT.GetBool(Vars.FromServer_AllowCoins)) {
        var n = 0,
            o = CoinManager.computedCoinValues.length > 3 ? 2 : 0,
            s = !1;
        if (null == CoinManager.lastIndicesPair && (CoinManager.lastIndicesPair = {}), -1 != CoinManager.desiredBetIndex && -1 != CoinManager.desiredCoinIndex && (CoinManager.desiredBetIndex >= 0 && CoinManager.desiredBetIndex < XT.GetInt(Vars.NumberOfBetLevels) && (n = CoinManager.desiredBetIndex), CoinManager.desiredCoinIndex >= 0 && CoinManager.desiredCoinIndex < CoinManager.computedCoinValues.length && (o = CoinManager.desiredCoinIndex), s = !0), t && CoinManager.canStillGoToStrictMode && (!CoinManager.isStrictMode || !CoinManager.isInited || CoinManager.desiredBet > 0)) {
            CoinManager.isInited = !0, CoinManager.canStillGoToStrictMode = !1, CoinManager.isStrictMode = !0;
            var a = [],
                r = 0,
                l = 0;
            if (a.push(CoinManager.savedDesiredBet), s && o == CoinManager.desiredCoinIndex && n == CoinManager.desiredBetIndex) {
                var u = CoinManager.computedCoinValues[o];
                if (Math.abs(CoinManager.savedDesiredBet / u - (n + 1)) <= .001) {
                    for (a = [], e = 0; e < CoinManager.computedCoinValues.length; e++) a.push(CoinManager.computedCoinValues[e]);
                    l = o, r = n
                }
            }
            XT.SetObject(Vars.CoinValues, a), XT.SetInt(Vars.NextBetIndex, r), CoinManager.lastIndicesPair.betIndex = r, CoinManager.lastIndicesPair.coinIndex = l, CoinManager.instance.SetCoinValueIndex(l)
        } else if (!t && (CoinManager.isStrictMode || !CoinManager.isInited || CoinManager.desiredBet > 0)) {
            CoinManager.isInited = !0, CoinManager.canStillGoToStrictMode = !1, CoinManager.isStrictMode = !1, XT.SetObject(Vars.CoinValues, CoinManager.computedCoinValues);
            var h = s && Math.abs(CoinManager.savedDesiredBet - CoinManager.computedCoinValues[o] * (n + 1)) < .001;
            if (CoinManager.defaultBet > 0 && -1 == CoinManager.desiredBetIndex || !h) {
                var c = h ? CoinManager.defaultBet : CoinManager.savedDesiredBet,
                    p = CoinManager.GetClosestIndices(c);
                n = p.betIndex, o = p.coinIndex, CoinManager.defaultBet = -1, i = !0
            } else if (CoinManager.desiredBet > 0)
                for (var d = XT.GetInt(Vars.NumberOfBetLevels), m = !1, S = 0; S < d; S++) {
                    for (var g = 0; g < CoinManager.computedCoinValues.length; g++)
                        if (Math.abs(CoinManager.desiredBet - CoinManager.computedCoinValues[g] * (S + 1)) <= .001) {
                            n = S, o = g, m = !0;
                            break
                        } if (m) break
                }
            XT.SetInt(Vars.NextBetIndex, n), CoinManager.lastIndicesPair.betIndex = n, CoinManager.lastIndicesPair.coinIndex = o, CoinManager.instance.SetCoinValueIndex(o)
        }
    } else if (t && CoinManager.canStillGoToStrictMode && (!CoinManager.isStrictMode || !CoinManager.isInited || CoinManager.desiredBet > 0)) {
        CoinManager.isInited = !0, CoinManager.canStillGoToStrictMode = !1, CoinManager.isStrictMode = !0, XT.SetInt(Vars.NextBetIndex, 0);
        var y = [];
        y.push(CoinManager.savedDesiredBet), XT.SetObject(Vars.Bets, y), CoinManager.instance.UpdateBetValues()
    } else if (!t && (CoinManager.isStrictMode || !CoinManager.isInited)) {
        CoinManager.isInited = !0, CoinManager.canStillGoToStrictMode = !1, CoinManager.isStrictMode = !1;
        var f = CoinManager.savedDesiredBet; - 1 == CoinManager.desiredBetIndex && CoinManager.defaultBet > 0 && (f = CoinManager.defaultBet);
        var b = CoinManager.betsFromServer.length > 2 ? 2 : CoinManager.betsFromServer.length - 1;
        for (e = 0; e < CoinManager.betsFromServer.length; e++)
            if (Math.abs(f - CoinManager.betsFromServer[e]) <= .001) {
                b = e;
                break
            } XT.SetInt(Vars.NextBetIndex, b), XT.SetObject(Vars.Bets, CoinManager.betsFromServer), CoinManager.instance.UpdateBetValues()
    }
    CoinManager.desiredBet = -1, i && (XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer))
}, CoinManager.GetClosestIndices = function (t) {
    for (var e = {}, i = 1e30, n = XT.GetInt(Vars.NumberOfBetLevels), o = 0; o < n; o++)
        for (var s = 0; s < CoinManager.computedCoinValues.length; s++) {
            var a = Math.abs(t - CoinManager.computedCoinValues[s] * (o + 1));
            a < i && (e.betIndex = o, e.coinIndex = s, i = a)
        }
    return e
}, CoinManager.prototype.RevertToLastBet = function () {
    if (XT.GetBool(Vars.FromServer_AllowCoins)) XT.SetInt(Vars.NextBetIndex, CoinManager.lastIndicesPair.betIndex), CoinManager.instance.SetCoinValueIndex(CoinManager.lastIndicesPair.coinIndex);
    else {
        for (var t = XT.GetObject(Vars.Bets), e = 0, i = 0; i < t.length; i++) CoinManager.lastBet == t[i] && (e = i);
        XT.SetInt(Vars.NextBetIndex, e), this.UpdateBetValues()
    }
}, CoinManager.SmartBet = function () {
    this.betIndex = -1, this.coinValueIndex = -1, this.betValue = 0
}, CoinManager.smartBets = null, CoinManager.prototype.InitSmartBets = function () {
    for (var t = XT.GetObject(Vars.CoinValues), e = XT.GetObject(Vars.Bets).length, i = [], n = [], o = 0; o < t.length; ++o)
        for (var s = e; s > 0; --s) {
            for (var a = t[o] * s, r = !0, l = 0; l < n.length; ++l)
                if (Math.abs(n[l] - a) < 1e-6) {
                    r = !1;
                    break
                } if (r) {
                var u = new CoinManager.SmartBet;
                u.coinValueIndex = o, u.betIndex = s - 1, u.betValue = a, i.push(u), n.push(a)
            }
        }
    CoinManager.smartBets = i.sort((function (t, e) {
        return t.betValue > e.betValue ? 1 : e.betValue > t.betValue ? -1 : 0
    }))
}, CoinManager.prototype.SetSmartBet = function (t, e) {
    null == CoinManager.smartBets && this.InitSmartBets(), null == e && (e = !0);
    var i = XT.GetInt(Vars.NextBetIndex),
        n = XT.GetObject(Vars.Bets)[i],
        o = CoinManager.smartBets,
        s = null;
    if (t) {
        for (var a = 0; a < o.length; ++a)
            if (n < o[a].betValue && Math.abs(n - o[a].betValue) > 1e-6) {
                s = o[a];
                break
            }
    } else
        for (a = o.length - 1; a >= 0; --a)
            if (n > o[a].betValue && Math.abs(n - o[a].betValue) > 1e-6) {
                s = o[a];
                break
            } if (null == s) return -1;
    if (e) {
        if (XT.GetInt(Vars.CoinValueIndex) != s.coinValueIndex) {
            if (XT.GetBool(Vars.WaitInResultForBigWin)) return XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), -1;
            this.SetCoinValueIndex(s.coinValueIndex)
        }
        i != s.betIndex && (XT.SetInt(Vars.NextBetIndex, s.betIndex), this.UpdateBetValues()), XT.TriggerEvent("Evt_SetSmartBetFinished")
    }
    return s.betValue
}, CoinManager.prototype.OnSetMaxBet = function () {
    if (!XT.GetBool(Vars.MaxBetAndCoinValueReached)) {
        var t = XT.GetObject(Vars.Bets),
            e = XT.GetObject(Vars.CoinValues);
        XT.GetBool(Vars.FromServer_AllowCoins) && this.SetCoinValueIndex(e.length - 1), CoinManager.SetBetIndex(t.length - 1), XT.TriggerEvent("Evt_SetSmartBetFinished")
    }
}, goog.require("UHT.Engine"), AutoplayReopen.prototype = Object.create(XTLink.prototype), AutoplayReopen.prototype.constructor = AutoplayReopen, AutoplayReopen.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StartAutoplay, this.OnStartAutoplay, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StopAutoplay, this.OnStopAutoplay, this), XT.RegisterCallbackBool(Vars.CanSpin, this.OnCanSpin, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnVSGameStateChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StoppedAutoplayByCondition, this.OnStopAutoplay, this)
}, AutoplayReopen.prototype.OnLastWinIsCountingChanged = function (t) {
    !t && XT.GetInt(Vars.AutoplaySpinsLeft) < 0 && this.shouldReopen && (this.reopenAutoplay.Start(), this.shouldReopen = !1, XT.UnregisterCallbackBool(this.OnLastWinIsCountingChanged, this))
}, AutoplayReopen.prototype.OnStartAutoplay = function () {
    this.shouldReopen = !0, window.globalMustStopAutoplay = !1
}, AutoplayReopen.prototype.OnStopAutoplay = function () {
    this.shouldReopen = !1
}, AutoplayReopen.prototype.OnCanSpin = function (t) {
    t && XT.GetInt(Vars.AutoplaySpinsLeft) < 0 && this.shouldReopen && (XT.GetDouble(Vars.WinReceived) <= 0 ? (this.reopenAutoplay.Start(), this.shouldReopen = !1) : XT.RegisterCallbackBool(Vars.LastWinIsCounting, this.OnLastWinIsCountingChanged, this))
}, AutoplayReopen.prototype.OnVSGameStateChanged = function () {
    var t = VSGameStateManager.GetState();
    this.oldState != VSGameState.Bonus && this.oldState != VSGameState.ResultFreeSpins && this.oldState != VSGameState.Gamble && this.oldState != VSGameState.GambleCustom && this.oldState != VSGameState.Jackpot || t != VSGameState.Result || (XT.UnregisterCallbackEvent(this.OnResultDisplayerLoopDone, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone, this.OnResultDisplayerLoopDone, this)), this.oldState = t
}, AutoplayReopen.prototype.OnResultDisplayerLoopDone = function () {
    XT.GetInt(Vars.AutoplaySpinsLeft) < 0 && this.shouldReopen && (this.reopenAutoplay.Start(), this.shouldReopen = !1, XT.UnregisterCallbackEvent(this.OnResultDisplayerLoopDone, this))
}, goog.provide("UHT.GUIArrangerSettings"), goog.require("UHT.XTLink"), GUIArrangerSettings.prototype = Object.create(XTLink.prototype), GUIArrangerSettings.prototype.constructor = GUIArrangerSettings, GUIArrangerSettings.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(InterfaceVars.GUIArrangerSettings, this)
}, goog.require("UHT.GUIArrangerSettings"), GUIArrangerPortraitButtonArranger.prototype.Arrange = function (t, e, i, n) {
    if (null != t && null != e) {
        if (i.CopyPosition(t, e), i.CopyPosition(t, this.collider), n) {
            var o = t.transform.localScale(),
                s = e.transform.localScale(),
                a = this.collider.transform.localScale();
            e.transform.localScale(new UHTMath.Vector3(o.x, o.y, s.z)), this.collider.transform.localScale(new UHTMath.Vector3(a.x / s.x * o.x, a.y / s.y * o.y, a.z))
        }
        this.animator.from = this.animator.to = e
    }
}, GUIArrangerPortraitObjects.prototype = Object.create(GUIArrangerPortraitObjectsBase.prototype), GUIArrangerPortraitObjects.prototype.constructor = GUIArrangerPortraitObjects, GUIArrangerSettingsPortraitObjects.prototype = Object.create(GUIArrangerPortraitObjectsBase.prototype), GUIArrangerSettingsPortraitObjects.prototype.constructor = GUIArrangerSettingsPortraitObjects, GUIArrangerLandscapeObjects.prototype = Object.create(GUIArrangerSettingsLandscapeObjects.prototype), GUIArrangerLandscapeObjects.prototype.constructor = GUIArrangerLandscapeObjects;
var GUIArrangerVars = {
    GUIArranger_GameSize: "GUIArranger_GameSize"
};

function GUIArranger() {
    XTLink.call(this), this.curWidth = -1, this.curHeight = -1, this.logoObjectAnchor = null, this.logoObjectArrangeable = null, this.TopBarSprite_base = null, this.commonObjects = null, this.portraitObjects = null, this.landscapeObjects = null, this.gameAnchorUpLeft = null, this.gameAnchorDownRight = null, this.screenAnchorUpLeft = null, this.screenAnchorDownRight = null, this.blackBands = null, this.gameTitles = null, this.settings = null, this.screenAnchorUpdated = !1, this.bPortraitPLNActiveOnUIRoot = !1, this.bLandscapeLLNActiveOnUIRoot = !1, this.bSpinBetAutoplayBtns_AnchoredOnPortLayouts = !1, this.fGameAnchorRatio_UpperLimit = -1, this.fSpinBetAutoplayBtns_RatioLowerLimitAfterAnchorApplies = 18.5, this.fSpinBetAutoplayBtns_MaxDiffY = 345
}

function UserNotification() {
    XTLink.call(this), this.currentNotificationId = 0, this.myNotificationId = -1, this.mustShow = !1
}

function TimedFreeRoundBonusManager() {
    UserNotification.call(this), this.currentTime = 0, this.timeLabels = null, this.isActive = !1, this.shouldUpdateTimer = !1, this.cachedStartEvent = [], this.cachedbetLevel = 0, this.bonusRoundsData = null, this.showTimedFRBInfo = null, this.countingInBackground = !1, this.hasDataToCheckShowWindow = !1
}

function GUIFreeSpinsLeft_Custom() {
    XTLink.call(this), this.replaceFrom = null, this.labels = null, this.catCustom = null, this.catDefault = null, this.defaultTexts = []
}

function VerifyGameAuthenticityManager() {
    ArrangeableBase.call(this), this.openIframe = null, this.iframeTitleLabels = null, this.mustOpen = !1, this.isIframeOpen = !1, this.buttons = null, this.iframeGameObject = null, this.iframeTitleText = "", this.anchorTopLeft = null, this.anchorBottomRight = null, this.styleLandscape = null, this.stylePortrait = null, this.wasTouchMove = !1, this.touchStartHandler = null, this.touchMoveHandler = null, this.touchEndHandler = null, this.posC = null, this.posTL = null, this.posBR = null, this.iframeParent = null, this.iframe = null, this.css = "width:{0}px;height:{1}px;left:{2}px;top:{3}px;border-radius:0 0 BRpx BRpx;", this.collidersCamera = null, this.notificationsCamera = null, this.notificationsCameraDepth = 0, this.isNotificationOpen = !1
}
GUIArranger.prototype = Object.create(XTLink.prototype), GUIArranger.prototype.constructor = GUIArranger, GUIArranger.I = null, GUIArranger.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(GUIArrangerVars.GUIArranger_GameSize, UHTMath.Vector3.zero), XT.SetObject(InterfaceVars.GameAnchors, new GameAnchors(this.gameAnchorUpLeft.transform, this.gameAnchorDownRight.transform))
}, GUIArranger.prototype.XTRegisterCallbacks = function () {
    var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0];
    this.bPortraitPLNActiveOnUIRoot = t.portraitPLNLayoutActive, this.bLandscapeLLNActiveOnUIRoot = t.landscapeLLNLayoutActive, this.fGameAnchorRatio_UpperLimit = t.gameAnchorRatio_UpperLimit, this.bSpinBetAutoplayBtns_AnchoredOnPortLayouts = t.SpinBetAutoplayBtns_AnchoredOnPortLayouts, XT.RegisterCallbackObject(InterfaceVars.GUIArrangerSettings, this.OnGUIArrangerSettingsChanged, this)
}, GUIArranger.prototype.OnGUIArrangerSettingsChanged = function (t) {
    this.settings = t, null != this.settings && this.DoIt()
}, GUIArranger.prototype.Awake = function () {
    XTLink.prototype.Awake.call(this), GUIArranger.I = this
}, GUIArranger.prototype.DoIt = function () {
    if (this.CopyArrangeableTransform(this.settings.commonTargets.camerasArrangeable, this.commonObjects.camerasArrangeable), Globals.isMobile) {
        this.CopyTransform(this.settings.portraitTargets.TopBar, this.portraitObjects.TopBar), this.CopyTransform(this.settings.portraitTargets.TopBarBackground, this.portraitObjects.TopBarBackground), this.CopyTransform(this.settings.portraitTargets.DynamicContentV11, this.portraitObjects.DynamicContentV11);
        var t = 0,
            e = !1;
        if (this.bPortraitPLNActiveOnUIRoot && this.bSpinBetAutoplayBtns_AnchoredOnPortLayouts) {
            var i = UHTScreen.width / UHTScreen.height;
            if (i = Math.max(i, 9 / this.fGameAnchorRatio_UpperLimit), LayoutManager.enforcedRatio > 0 && (i = LayoutManager.enforcedRatio), 9 / i > this.fSpinBetAutoplayBtns_RatioLowerLimitAfterAnchorApplies) {
                var n = LayoutManager.I.PortraitPLNRatio,
                    o = (i - n) / (.4 - n);
                t = UHTMath.lerp(0, this.fSpinBetAutoplayBtns_MaxDiffY, o), e = !0;
                var s = this.portraitObjects.DynamicContentV11.transform.localPosition().y - t;
                this.portraitObjects.DynamicContentV11.transform.localPosition(new UHTMath.Vector3(this.portraitObjects.DynamicContentV11.transform.localPosition().x, s, this.portraitObjects.DynamicContentV11.transform.localPosition().z))
            }
        }
        if (this.CopySprite(this.settings.portraitTargets.TopBarSprite_base, this.portraitObjects.TopBarSprite_base), this.CopySprite(this.settings.portraitTargets.TopBarSprite_extra, this.portraitObjects.TopBarExtraSprite), this.CopySprite(this.settings.portraitTargets.BottomBarSprite_base, this.portraitObjects.BottomBarSprite_base), this.CopySprite(this.settings.portraitTargets.BottomBarSprite_extra, this.portraitObjects.BottomBarExtraSprite), this.CopyColor(this.settings.portraitTargets.TopBarColor, this.portraitObjects.TopBarExtraSprite), this.CopyColor(this.settings.portraitTargets.BottomBarColor, this.portraitObjects.BottomBarExtraSprite), this.CopyTransform(this.settings.landscapeTargets.BottomBar, this.landscapeObjects.BottomBar), (this.bPortraitPLNActiveOnUIRoot || this.bLandscapeLLNActiveOnUIRoot) && this.settings.ignoreGameAnchorsMobileIfLNActive || (this.CopyArrangeableTransform(this.settings.gameAnchorUpLeftMobile, this.gameAnchorUpLeft), this.CopyArrangeableTransform(this.settings.gameAnchorDownRightMobile, this.gameAnchorDownRight)), null != this.settings.landscapeTargets.TopBarSprite_base && null != this.landscapeObjects.TopBarSprite_base && (this.CopySprite(this.settings.landscapeTargets.TopBarSprite_base, this.landscapeObjects.TopBarSprite_base), this.CopySpriteSize(this.settings.landscapeTargets.TopBarSprite_base, this.landscapeObjects.TopBarSprite_base), this.CopyColor(this.settings.landscapeTargets.TopBarSprite_base.color, this.landscapeObjects.TopBarSprite_base)), this.settings.applyToExtraElements) {
            this.CopyTransform(this.settings.portraitTargets.AutoplaySimpleWindow, this.portraitObjects.AutoplaySimpleWindow), this.CopyTransformLocalPosition(this.settings.portraitTargets.TournamentRankLocalPosition, this.portraitObjects.TournamentRankLocalPosition);
            for (var a = 0; a < this.portraitObjects.TournamentRankBackgrounds.length; ++a) this.CopyTransformLocalPosition(this.settings.portraitTargets.TournamentRankBackground, this.portraitObjects.TournamentRankBackgrounds[a])
        }
        var r = this.landscapeObjects.AnchoredLeftButtonsScreenAnchor,
            l = this.settings.landscapeTargets.AnchoredLeftButtonsScreenAnchor;
        null != r && null != l && this.CopyScreenAnchor(l, r);
        var u = this.landscapeObjects.AnchoredLeftButtonsLocalPosition,
            h = this.settings.landscapeTargets.AnchoredLeftButtonsLocalPosition;
        if (null != u && null != h && (this.CopyLocalPosition(h, u), this.CopyPosition(this.landscapeObjects.autoplayButton, this.landscapeObjects.autoplayCollider), this.CopyPosition(this.landscapeObjects.betButton, this.landscapeObjects.betCollider)), u = this.portraitObjects.spinButtonObstacles, h = this.settings.portraitTargets.spinButtonObstacles, null != u && null != h && this.CopyTransform(h, u), r = this.landscapeObjects.AnchoredRightButtonsScreenAnchor, l = this.settings.landscapeTargets.AnchoredRightButtonsScreenAnchor, null != r && null != l && this.CopyScreenAnchor(l, r), this.portraitObjects.betButtonArranger.Arrange(this.settings.portraitTargets.betButton, this.portraitObjects.betButton, this, this.settings.portraitTargets.useBetButtonScale), this.portraitObjects.autoplayButtonArranger.Arrange(this.settings.portraitTargets.autoplayButton, this.portraitObjects.autoplayButton, this, this.settings.portraitTargets.useAutoplayButtonScale), e) {
            var c = this.portraitObjects.betButton.transform.localPosition().y - t,
                p = this.portraitObjects.autoplayButton.transform.localPosition().y - t;
            this.portraitObjects.betButton.transform.localPosition(new UHTMath.Vector3(this.portraitObjects.betButton.transform.localPosition().x, c, this.portraitObjects.betButton.transform.localPosition().z)), this.portraitObjects.autoplayButton.transform.localPosition(new UHTMath.Vector3(this.portraitObjects.autoplayButton.transform.localPosition().x, p, this.portraitObjects.autoplayButton.transform.localPosition().z))
        }
        this.CopyTransform(this.settings.portraitTargets.bottomBar, this.portraitObjects.bottomBar), this.CopyTransform(this.settings.portraitTargets.bottomBarCollider, this.portraitObjects.bottomBarCollider), this.CopyArrangeableTransform(this.settings.portraitTargets.logoArrangeable, this.portraitObjects.logoArrangeable)
    } else null != this.settings.TopBarSprite_base && null != this.TopBarSprite_base && (this.bLandscapeLLNActiveOnUIRoot || (this.CopyTransformLocalPosition(this.settings.TopBarSprite_base.gameObject, this.TopBarSprite_base.gameObject), this.CopySprite(this.settings.TopBarSprite_base, this.TopBarSprite_base), this.CopyColor(this.settings.TopBarSprite_base.color, this.TopBarSprite_base), this.CopySpriteSize(this.settings.TopBarSprite_base, this.TopBarSprite_base))), this.bLandscapeLLNActiveOnUIRoot && this.settings.ignoreGameAnchorsDesktopIfLNActive || (this.CopyTransform(this.settings.gameAnchorUpLeftDesktop, this.gameAnchorUpLeft.gameObject), this.CopyTransform(this.settings.gameAnchorDownRightDesktop, this.gameAnchorDownRight.gameObject), this.gameAnchorUpLeft.xtEnabled = this.settings.useGameAnchorsDesktopArrangeable, this.gameAnchorDownRight.xtEnabled = this.settings.useGameAnchorsDesktopArrangeable)
}, GUIArranger.prototype.CopyTransform = function (t, e) {
    null != t && null != e && (e.transform.position(t.transform.position()), e.transform.localScale(t.transform.localScale()))
}, GUIArranger.prototype.CopyTransformLocalPosition = function (t, e) {
    null != t && (e.transform.localPosition(t.transform.localPosition()), e.transform.localScale(t.transform.localScale()))
}, GUIArranger.prototype.CopyPosition = function (t, e) {
    null != t && e.transform.position(t.transform.position())
}, GUIArranger.prototype.CopyLocalPosition = function (t, e) {
    null != t && e.transform.localPosition(t.transform.localPosition())
}, GUIArranger.prototype.CopyArrangeableTransform = function (t, e) {
    null != t && null != e && (this.CopyTransform(t.gameObject, e.gameObject), e.localPositionLandscape = t.localPositionLandscape, e.localScaleLandscape = t.localScaleLandscape, e.separateForPortraitPLN = t.separateForPortraitPLN, e.localPositionPortraitPLN = t.localPositionPortraitPLN, e.localScalePortraitPLN = t.localScalePortraitPLN, e.localPositionPortrait = t.localPositionPortrait, e.localScalePortrait = t.localScalePortrait, e.separateForIPhone = t.separateForIPhone, e.localPositionIPhonePortrait = t.localPositionIPhonePortrait, e.localScaleIPhonePortrait = t.localScaleIPhonePortrait, e.separateForIPad = t.separateForIPad, e.localPositionIPadPortrait = t.localPositionIPadPortrait, e.localScaleIPadPortrait = t.localScaleIPadPortrait, e.separateForLandscapeWide = t.separateForLandscapeWide, e.localPositionLandscapeWide = t.localPositionLandscapeWide, e.localScaleLandscapeWide = t.localScaleLandscapeWide, e.separateForLandscapeWideFull = t.separateForLandscapeWideFull, e.localPositionLandscapeWideFull = t.localPositionLandscapeWideFull, e.localScaleLandscapeWideFull = t.localScaleLandscapeWideFull, e.separateForLandscapeLLN = t.separateForLandscapeLLN, e.localPositionLandscapeLLN = t.localPositionLandscapeLLN, e.localScaleLandscapeLLN = t.localScaleLandscapeLLN)
}, GUIArranger.prototype.CopyScreenAnchor = function (t, e) {
    null != t && (this.CopyTransform(t.gameObject, e.gameObject), e.anchorLeft = t.anchorLeft, e.leftOffset = t.leftOffset, e.anchorRight = t.anchorRight, e.rightOffset = t.rightOffset, e.limitByGameAnchors = t.limitByGameAnchors)
}, GUIArranger.prototype.CopyColor = function (t, e) {
    null != e && (e.color = t)
}, GUIArranger.prototype.CopySprite = function (t, e) {
    null != t && null != e && (e.atlas = t.atlas, e.anchorX = t.anchorX, e.anchorY = t.anchorY, e.spriteType = t.spriteType, e.SetSpriteName(t.spriteName))
}, GUIArranger.prototype.CopySpriteSize = function (t, e) {
    null != t && null != e && (e.width = t.width, e.height = t.height)
}, GUIArranger.prototype.CopyBand = function (t, e) {
    null != t && null != e && (e.gameObject.SetActive(t.gameObject.activeSelf), e.gameObject.activeSelf && (this.CopySpriteSize(t, e), this.CopyTransform(t.gameObject, e.gameObject)))
}, GUIArranger.prototype.ArrangeBlackBands = function () {
    var t = this.gameAnchorUpLeft.transform.localPosition(),
        e = this.gameAnchorDownRight.transform.localPosition(),
        i = this.screenAnchorUpLeft.transform.localPosition(),
        n = this.screenAnchorDownRight.transform.localPosition(),
        o = Math.round(i.y - t.y),
        s = Math.round(n.y - e.y),
        a = Math.round(i.x - t.x),
        r = Math.round(n.x - e.x),
        l = Math.round(n.x - i.x),
        u = Math.round(i.y - n.y);
    this.blackBands.up.gameObject.SetActive(o > 0), this.blackBands.up.gameObject.activeSelf && (this.blackBands.up.width = l, this.blackBands.up.height = o), this.blackBands.down.gameObject.SetActive(s < 0), this.blackBands.down.gameObject.activeSelf && (this.blackBands.down.width = l, this.blackBands.down.height = -s), this.blackBands.left.gameObject.SetActive(a < 0), this.blackBands.left.gameObject.activeSelf && (this.blackBands.left.height = u, this.blackBands.left.width = -a), this.blackBands.right.gameObject.SetActive(r > 0), this.blackBands.right.gameObject.activeSelf && (this.blackBands.right.height = u, this.blackBands.right.width = r);
    var h = Math.round(e.x - t.x),
        c = Math.round(t.y - e.y);
    XT.SetObject(GUIArrangerVars.GUIArranger_GameSize, new UHTMath.Vector3(Math.min(l, h), Math.min(u, c), 0)), XT.TriggerEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated)
}, GUIArranger.InitBands = function (t) {
    var e = GUIArranger.I,
        i = e.blackBands;
    e.CopySprite(i.up, t.up), e.CopySprite(i.down, t.down), e.CopySprite(i.left, t.left), e.CopySprite(i.right, t.right)
}, GUIArranger.UpdateBands = function (t) {
    var e = GUIArranger.I,
        i = e.blackBands;
    e.CopyBand(i.up, t.up), e.CopyBand(i.down, t.down), e.CopyBand(i.left, t.left), e.CopyBand(i.right, t.right)
}, GUIArranger.prototype.ScreenAnchorUpdated = function () {
    this.screenAnchorUpdated = !0
}, GUIArranger.prototype.LateUpdate = function () {
    this.screenAnchorUpdated && (this.ArrangeBlackBands(), this.screenAnchorUpdated = !1)
}, GUIArranger.prototype.Update = function () {
    null != this.settings && (UHTScreen.width == this.curWidth && UHTScreen.height == this.curHeight || (this.curWidth = UHTScreen.width, this.curHeight = UHTScreen.height, this.DoIt()))
}, goog.require("UHT.Engine"), goog.provide("UHT.UserNotification"), UserNotification.prototype = Object.create(XTLink.prototype), UserNotification.prototype.constructor = UserNotification, UserNotification.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.ShowPendingNotifications, this.OnShowPendingNotifications, this)
}, UserNotification.prototype.OnShowPendingNotifications = function () {
    this.myNotificationId == this.currentNotificationId && this.mustShow && (this.mustShow = !1, this.Show())
}, UserNotification.prototype.RequestToShow = function () {
    this.currentNotificationId++, this.myNotificationId = this.currentNotificationId, this.mustShow = !0
}, UserNotification.prototype.Handled = function () {
    this.myNotificationId = -1, this.currentNotificationId--
}, UserNotification.prototype.Show = function () {}, goog.require("UHT.Engine"), goog.require("UHT.UserNotification"), TimedFreeRoundBonusManager.prototype = Object.create(UserNotification.prototype), TimedFreeRoundBonusManager.prototype.constructor = TimedFreeRoundBonusManager, TimedFreeRoundBonusManager.prototype.XTRegisterCallbacks = function () {
    UserNotification.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed, this.OnContinuePressed, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_GUI_TimedBonusRoundsFinished, this.OnTimedBonusRoundsFinished, this), XT.RegisterCallbackObject(Vars.BonusRoundsData, this.OnBonusRoundsData, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived, this.OnSpinResultReceived, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this)
}, TimedFreeRoundBonusManager.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(Vars.TimedBonusRoundIsOngoing, !1), XT.SetInt(Vars.TimedBonusRoundsSeconds, 0), XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer, !1)
}, TimedFreeRoundBonusManager.prototype.OnBonusRoundsData = function (t) {
    if (this.bonusRoundsData = t, null != t && this.bonusRoundsData.Type == VsFreeRound.RoundType.Timed) {
        var e = XT.GetObject(Vars.BonusRoundsEvents);
        if (null != e)
            for (var i = 0; i < e.length; i++)
                if (e[i].Type == VsFreeRoundEvent.EventType.Start) {
                    this.cachedStartEvent.push(e[i].Clone());
                    var n = XT.GetObject(FOXVars.FOX_Response);
                    null != n && null != n.c && (this.cachedbetLevel = parseFloat(n.c)), XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer, !0);
                    var o = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
                    1 != e.length || o.IsLastFreeSpin || this.RequestToShow(), XT.SetDouble(Vars.BonusRoundEndDateTimestamp, e[i].EndDateTimestamp), null == e || 1 != e.length || e[0].Type != VsFreeRoundEvent.EventType.Start || e[0].IsFreeRoundPending || (this.countingInBackground = !0, this.currentTime = this.bonusRoundsData.RoundsLeft)
                }
    }
}, TimedFreeRoundBonusManager.prototype.Update = function () {
    this.isActive ? this.shouldUpdateTimer && this.UpdateTimer() : this.countingInBackground && this.currentTime - Time.deltaTimeInRealTime > 0 && (this.currentTime -= Time.deltaTimeInRealTime)
}, TimedFreeRoundBonusManager.prototype.UpdateTimer = function () {
    null != this.bonusRoundsData && (this.currentTime - this.bonusRoundsData.RoundsLeft > 2 && (this.currentTime = this.bonusRoundsData.RoundsLeft));
    var t = Math.floor(this.currentTime);
    t < 0 && (t = 0);
    var e = Math.floor(t % 60).toString(),
        i = Math.floor(t / 60 % 60).toString();
    if (e.length < 2 && (e = "0" + e), i.length < 2 && (i = "0" + i), this.currentTime < 0 && !XT.GetBool(Vars.Logic_IsFreeSpin) && !XT.GetBool(Vars.IsDifferentSpinType) && this.hasDataToCheckShowWindow) {
        var n = XT.GetObject(Vars.RespinData);
        null != n && !n.IsDone || (this.shouldUpdateTimer = !1, this.cachedStartEvent.length > 0 && (this.cachedStartEvent[0].Type = VsFreeRoundEvent.EventType.Finish, this.cachedStartEvent[0].Bet = this.cachedbetLevel), XT.SetBool(Vars.SpinBlockingFeatureIsRunning, !0), this.RequestToShow())
    }
    for (var o = 0; o < this.timeLabels.length; o++) this.timeLabels[o].text = i + ":" + e;
    this.currentTime -= Time.deltaTimeInRealTime
}, TimedFreeRoundBonusManager.prototype.OnContinuePressed = function () {
    if (null == this.bonusRoundsData || this.bonusRoundsData.Type == VsFreeRound.RoundType.Timed) {
        var t = XT.GetObject(Vars.BonusRoundsEvents);
        if (0 != t.length && t[0].Type == VsFreeRoundEvent.EventType.Finish) return t[0].TurboSpinMode || this.EnableTurboSpin(), XT.SetBool(Vars.SpinBlockingFeatureIsRunning, !1), XT.SetInt(Vars.AutoplaySpinsLeft, -1), t.length > 1 && XT.SetInt(Vars.TimedBonusRoundsSeconds, this.bonusRoundsData.RoundsLeft), void this.Handled();
        0 != t.length && t[0].Type == VsFreeRoundEvent.EventType.Start && (this.isActive || (this.isActive = !0, this.countingInBackground || (this.currentTime = this.bonusRoundsData.RoundsLeft), this.countingInBackground = !1, this.UpdateTimer(), XT.SetBool(Vars.TimedBonusRoundIsOngoing, !0)), t[0].TurboSpinMode || this.DisableTurboSpin())
    }
}, TimedFreeRoundBonusManager.prototype.OnSpinResultReceived = function () {
    this.isActive && !this.shouldUpdateTimer && (this.shouldUpdateTimer = !0), this.hasDataToCheckShowWindow = !0
}, TimedFreeRoundBonusManager.prototype.OnSpinStarted = function () {
    this.hasDataToCheckShowWindow = !1
}, TimedFreeRoundBonusManager.prototype.OnTimedBonusRoundsFinished = function () {
    this.isActive = !1, XT.SetBool(Vars.TimedBonusRoundIsOngoing, !1)
}, TimedFreeRoundBonusManager.prototype.Show = function () {
    var t = [];
    this.cachedStartEvent.length > 0 && t.push(this.cachedStartEvent[0].Clone()), XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer, !1);
    var e = XT.GetObject(Vars.BonusRoundsEvents);
    null != e && e.length > 1 && e[1].Type == VsFreeRoundEvent.EventType.Start && t.push(e[1]), XT.SetObject(Vars.BonusRoundsEvents, t);
    BonusRoundsController.HandleNextEvent(!1, !1, !0);
    if (XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer, !0), null != e && 1 == e.length && e[0].Type == VsFreeRoundEvent.EventType.Start && !e[0].IsFreeRoundPending && (XT.TriggerEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed), this.shouldUpdateTimer = !0, null != this.showTimedFRBInfo))
        for (var i = 0; i < this.showTimedFRBInfo.length; i++) null != this.showTimedFRBInfo && this.showTimedFRBInfo[i].Start()
}, TimedFreeRoundBonusManager.prototype.DisableTurboSpin = function () {
    if (Globals.isMobile) {
        for (var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerMobile, !0), e = 0; e < t.length; ++e) {
            null != (a = t[e].transform.Find("Content/Checkboxes/TurboSpin")) && a.gameObject.SetActive(!1)
        }
        var i = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1, !0);
        for (e = 0; e < i.length; ++e) {
            null != (o = i[e].transform.Find("ContentInterface/DynamicContent/AnchoredRight/Normal/SpinButtons/StartSpin_Button/HoldToAutoplay")) && o.gameObject.SetActive(!1)
        }
        var n = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2, !0);
        for (e = 0; e < n.length; ++e) {
            var o;
            null != (o = n[e].transform.Find("ContentInterface/DynamicContent/ContentScale/Normal/SpinButtons/StartSpin_Button/HoldToAutoplay")) && o.gameObject.SetActive(!1)
        }
    } else {
        for (t = globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerMobile, !0), e = 0; e < t.length; ++e) {
            null != (a = t[e].transform.Find("Content/Checkboxes/TurboSpin")) && a.gameObject.SetActive(!1)
        }
        TimedFreeRoundBonusManager.OGMTS_Show = window.GUIMessageTurboSpin.prototype.Show, window.GUIMessageTurboSpin.prototype.Show = function () {
            if (null != this.messages && this.messages.length > 0) {
                var t = Random.Range(0, this.messages.length);
                this.label.text = this.messages[t]
            }
            this.gameObject.SetActive(!0)
        }
    }
    var s = globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerAdvanced, !0);
    for (e = 0; e < s.length; ++e) {
        var a;
        null != (a = s[e].transform.Find("Checkboxes/TurboSpin")) && a.gameObject.SetActive(!1), null != (a = s[e].transform.Find("Clipped/Content/Checkboxes/TurboSpin")) && a.gameObject.SetActive(!1)
    }
    if (!Globals.isMini) {
        var r = globalRuntime.sceneRoots[1].GetComponentsInChildren(QuickSpinWindowController, !0);
        for (e = 0; e < r.length; ++e) r[e].disableWindow.Start()
    }
    XT.RegisterCallbackBool(Vars.ContinuousSpin, this.OnXTContinuousSpinChanged, this)
}, TimedFreeRoundBonusManager.prototype.EnableTurboSpin = function () {
    if (Globals.isMobile) {
        for (var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerMobile, !0), e = 0; e < t.length; ++e) {
            null != (a = t[e].transform.Find("Content/Checkboxes/TurboSpin")) && a.gameObject.SetActive(!0)
        }
        var i = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1, !0);
        for (e = 0; e < i.length; ++e) {
            null != (o = i[e].transform.Find("ContentInterface/DynamicContent/AnchoredRight/Normal/SpinButtons/StartSpin_Button/HoldToAutoplay")) && o.gameObject.SetActive(!0)
        }
        var n = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2, !0);
        for (e = 0; e < n.length; ++e) {
            var o;
            null != (o = n[e].transform.Find("ContentInterface/DynamicContent/ContentScale/Normal/SpinButtons/StartSpin_Button/HoldToAutoplay")) && o.gameObject.SetActive(!0)
        }
    } else {
        for (t = globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerMobile, !0), e = 0; e < t.length; ++e) {
            null != (a = t[e].transform.Find("Content/Checkboxes/TurboSpin")) && a.gameObject.SetActive(!0)
        }
        null != TimedFreeRoundBonusManager.OGMTS_Show && (window.GUIMessageTurboSpin.prototype.Show = TimedFreeRoundBonusManager.OGMTS_Show)
    }
    var s = globalRuntime.sceneRoots[1].GetComponentsInChildren(AutoplayControllerAdvanced, !0);
    for (e = 0; e < s.length; ++e) {
        var a;
        null != (a = s[e].transform.Find("Checkboxes/TurboSpin")) && a.gameObject.SetActive(!0), null != (a = s[e].transform.Find("Clipped/Content/Checkboxes/TurboSpin")) && a.gameObject.SetActive(!0)
    }
    if (!Globals.isMini) {
        var r = globalRuntime.sceneRoots[1].GetComponentsInChildren(QuickSpinWindowController, !0);
        for (e = 0; e < r.length; ++e) r[e].disableWindow.Start()
    }
    XT.UnregisterCallbackBool(this.OnXTContinuousSpinChanged, this)
}, TimedFreeRoundBonusManager.prototype.OnXTContinuousSpinChanged = function (t) {
    t && XT.SetBool(Vars.ContinuousSpin, !1)
}, goog.require("UHT.Engine"), GUIFreeSpinsLeft_Custom.prototype = Object.create(XTLink.prototype), GUIFreeSpinsLeft_Custom.prototype.constructor = GUIFreeSpinsLeft_Custom, GUIFreeSpinsLeft_Custom.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackString(InterfaceVars.CustomFreeSpinsLeftMessage, this.OnCustomFSLeftMessage, this)
}, GUIFreeSpinsLeft_Custom.prototype.OnCustomFSLeftMessage = function (t) {
    if (null != this.labels)
        for (var e = 0 == this.defaultTexts.length, i = 0; i < this.labels.length; i++) e && this.defaultTexts.push(this.labels[i].text), this.labels[i].text = "default" == t ? this.defaultTexts[i] : t;
    XT.GetBool(InterfaceVars.CustomFreeSpinsLeft_UsesCATEvents) && ("default" == t && null != this.catDefault && this.catDefault.Start(), "default" != t && null != this.catCustom && this.catCustom.Start())
}, goog.require("UHT.Engine"), VerifyGameAuthenticityManager.prototype = Object.create(ArrangeableBase.prototype), VerifyGameAuthenticityManager.prototype.constructor = VerifyGameAuthenticityManager, VerifyGameAuthenticityManager.prototype.XTRegisterCallbacks = function () {
    ArrangeableBase.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated, this.OnGameSizeChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackBool(Vars.VerifyGameAuthenticity, this.OnVerifyGameAuthenticity, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowIntrusiveNotification, this.OnShowNotification, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowNonIntrusiveNotification, this.OnShowNotification, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideIntrusiveNotification, this.OnHideNotification, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideNonIntrusiveNotification, this.OnHideNotification, this), EventManager.AddHandler("EVT_UHT_RESIZE", this.OnGameSizeChanged, this)
}, VerifyGameAuthenticityManager.prototype.OnDestroy = function () {
    XT.UnregisterCallbackBool(this.OnVerifyGameAuthenticity, this)
}, VerifyGameAuthenticityManager.prototype.OnShowNotification = function () {
    this.isNotificationOpen = !0, this.UpdateCameras()
}, VerifyGameAuthenticityManager.prototype.OnHideNotification = function () {
    this.isNotificationOpen = !1, this.UpdateCameras()
}, VerifyGameAuthenticityManager.prototype.OnVerifyGameAuthenticity = function (t) {
    for (var e = 0; e < this.buttons.length; e++) this.buttons[e].SetActive(t)
}, VerifyGameAuthenticityManager.prototype.OnGameInit = function () {
    VerifyGameAuthenticityManager.UIRoot = globalRuntime.sceneRoots[1].GetComponentsInChildren(UIRoot, !0)[0], createjs.BrowserDetect.isIOS && (this.touchStartHandler = new EventHandler(this, this.OnTouchStart), this.touchMoveHandler = new EventHandler(this, this.OnTouchMove), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonDown, this.touchStartHandler), globalColliderInputManager.addEventHandler(ColliderEvent.MouseMove, this.touchMoveHandler)), this.touchEndHandler = new EventHandler(this, this.OnTouchEnd), globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp, this.touchEndHandler), this.cachedCamera = Globals.GetCameraForObject(this.buttons[0]), null != ServerOptions.gameVerificationUrl && (this.iframeTitleText = ServerOptions.gameVerificationUrl.split("/", 3).join("/"), this.InjectHtml())
}, VerifyGameAuthenticityManager.prototype.OnTouchStart = function () {
    this.wasTouchMove = !1
}, VerifyGameAuthenticityManager.prototype.OnTouchMove = function () {
    this.wasTouchMove = !0
};
var GA_SENT_AM_CLICKED = !1;
VerifyGameAuthenticityManager.prototype.OnTouchEnd = function () {
    if (XT.GetBool(Vars.VerifyGameAuthenticity))
        for (var t = 0; t < this.buttons.length; t++)
            if (this.buttons[t].activeInHierarchy) {
                var e = new LayerMask;
                e.mask = 1 << this.buttons[t].layer;
                var i = globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition), e);
                this.wasTouchMove || i != this.buttons[t].collider || (this.mustOpen = !0, GA_SENT_AM_CLICKED || (globalTracking.SendEvent("uht_behaviour", "VerifyGameAuthenticity_Clicked", 0, "BehaviourTracker"), GA_SENT_AM_CLICKED = !0))
            }
}, VerifyGameAuthenticityManager.prototype.OpenIframe = function () {
    if (XT.TriggerEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows), document.getElementById("verifyWindowContainer").classList.remove("inactive"), document.getElementById("verifyWindowContainer").classList.add("active"), Globals.isMobile) "land" == VerifyGameAuthenticityManager.style ? this.OnSwitchToLandscape() : this.OnSwitchToPortrait();
    else {
        var t = XT.GetObject(FOXVars.FOX_Response).rid || 0,
            e = UHT_GAME_CONFIG_SRC.currency,
            i = CoinManager.GetLastTotalBet(),
            n = XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived);
        VerifyGameAuthenticityManager.qrcode.makeCode(ServerOptions.mgckey + "||" + btoa(window.UHT_GAME_CONFIG_SRC.gameVerificationURL) + "||" + btoa(t + "||" + e + "||" + i + "||" + n)), document.getElementById("qrcode").title = ""
    }
}, VerifyGameAuthenticityManager.prototype.CloseIframe = function () {
    this.isIframeOpen && (_HTML.RemoveClass(document.documentElement, "replay-visible"), document.body.removeChild(this.iframeParent), this.isIframeOpen = !1, this.iframeParent = null, this.iframe = null, this.UpdateCameras())
};
var GA_SENT_AM_VISIBLE = !1;
VerifyGameAuthenticityManager.prototype.Update = function () {
    if (!GA_SENT_AM_VISIBLE)
        for (var t = 0; t < this.buttons.length; t++) this.buttons[t].activeInHierarchy && (globalTracking.SendEvent("uht_behaviour", "VerifyGameAuthenticity_Visible", 0, "BehaviourTracker"), GA_SENT_AM_VISIBLE = !0);
    this.mustOpen && (this.mustOpen = !1, this.OpenIframe())
}, VerifyGameAuthenticityManager.prototype.UpdateCameras = function () {}, VerifyGameAuthenticityManager.prototype.OnGameSizeChanged = function () {
    this.isIframeOpen && this.UpdateRoundSize(!0)
}, VerifyGameAuthenticityManager.prototype.UpdateRoundSize = function (t) {}, VerifyGameAuthenticityManager.prototype.OnSwitchToLandscape = function () {
    Globals.isMobile && (VerifyGameAuthenticityManager.style = "land", null != document.getElementById("verifyWindow") && (document.getElementById("verifyWindowContainer").width = VerifyGameAuthenticityManager.UIRoot.manualWidth + "px", document.getElementById("verifyWindowContainer").height = VerifyGameAuthenticityManager.UIRoot.manualHeight + "px", document.getElementById("verifyWindow").classList.remove("inactive"), document.getElementById("verifyWindow").classList.add("active"), document.getElementById("verifyWindowPort").classList.remove("active"), document.getElementById("verifyWindowPort").classList.add("inactive"), VerifyGameAuthenticityManager.scaleLoadingBar()))
}, VerifyGameAuthenticityManager.prototype.OnSwitchToPortrait = function () {
    Globals.isMobile && (VerifyGameAuthenticityManager.style = "port", null != document.getElementById("verifyWindow") && (document.getElementById("verifyWindowContainer").width = VerifyGameAuthenticityManager.UIRoot.manualWidth + "px", document.getElementById("verifyWindowContainer").height = VerifyGameAuthenticityManager.UIRoot.manualHeight + "px", document.getElementById("verifyWindowPort").classList.remove("inactive"), document.getElementById("verifyWindowPort").classList.add("active"), document.getElementById("verifyWindow").classList.remove("active"), document.getElementById("verifyWindow").classList.add("inactive"), VerifyGameAuthenticityManager.scaleLoadingBar()))
}, VerifyGameAuthenticityManager.prototype.IsWebView = function () {
    var t = window.navigator.standalone,
        e = window.navigator.userAgent.toLowerCase(),
        i = /safari/.test(e),
        n = !1;
    return /iphone|ipod|ipad/.test(e) ? t || i || (n = !0) : -1 != e.indexOf("wv") && (n = !0), n
}, VerifyGameAuthenticityManager.prototype.InjectHtml = function () {
    if (Globals.isMobile) {
        for (e = VerifyGameAuthenticityManager.htmlMobile.join("\n"), i = VerifyGameAuthenticityManager.textPayloadsMobile[UHT_CONFIG.LANGUAGE] || VerifyGameAuthenticityManager.textPayloadsMobile.en, n = Object.keys(i), o = 0; o < n.length; o++) e = e.replace(new RegExp("{" + n[o] + "}", "g"), i[n[o]]);
        a = (new DOMParser).parseFromString(e, "text/html");
        document.body.insertBefore(a.body.firstChild, document.getElementsByTagName("canvas")[0]), (s = document.createElement("style")).textContent = VerifyGameAuthenticityManager.styleMobile.join("\n").replace(/REPLACE_ME/g, globalRuntime.sceneRoots[1].GetComponentsInChildren(CoinsAndCashHint)[0].GetComponentsInChildren(UILabel, !0)[0].fontName), document.head.appendChild(s);
        r = function () {
            document.getElementById("verifyWindowContainer").classList.remove("active"), document.getElementById("verifyWindowContainer").classList.add("inactive")
        };
        document.getElementById("close").addEventListener("click", r, !1), document.getElementById("closePort").addEventListener("click", r, !1);
        var t = function () {
            var t = XT.GetObject(FOXVars.FOX_Response).rid || 0,
                e = UHT_GAME_CONFIG_SRC.currency,
                i = CoinManager.GetLastTotalBet(),
                n = XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived);
            _Clipboard.CopyText("PP||" + ServerOptions.mgckey + "||" + btoa(window.UHT_GAME_CONFIG_SRC.gameVerificationURL) + "||" + btoa(t + "||" + e + "||" + i + "||" + n))
        };
        document.getElementsByClassName("authButton")[0].addEventListener("click", t, !1), document.getElementsByClassName("authButtonPort")[0].addEventListener("click", t, !1), VerifyGameAuthenticityManager.scaleLoadingBar = function () {
            var t = VerifyGameAuthenticityManager.UIRoot.manualWidth / VerifyGameAuthenticityManager.UIRoot.manualHeight,
                e = window.innerWidth / window.innerHeight,
                i = 1,
                n = ["-moz-transform: scale(VAL)", "-webkit-transform: scale(VAL)", "-ms-transform: scale(VAL)", "-o-transform: scale(VAL)", "transform: scale(VAL)"];
            i = (i = Math.min(t, e) / t * 2 / VerifyGameAuthenticityManager.UIRoot.manualHeight) * window.innerHeight / 2;
            for (var o = 0; o < n.length; ++o) n[o] = n[o].replace("VAL", i);
            n.push("width:" + window.innerWidth / i + "px"), n.push("margin-top:" + (window.innerHeight - VerifyGameAuthenticityManager.UIRoot.manualHeight * i) / 2 + "px"), document.getElementById("verifyWindowContainer").setAttribute("style", n.join(";"))
        }, VerifyGameAuthenticityManager.scaleLoadingBar(), window.addEventListener("resize", VerifyGameAuthenticityManager.scaleLoadingBar, !1), window.addEventListener("click", (function (t) {
            "land" == VerifyGameAuthenticityManager.style ? document.getElementById("verifyWindow").contains(t.target) || r() : document.getElementById("verifyWindowPort").contains(t.target) || r()
        }))
    } else {
        for (var e = VerifyGameAuthenticityManager.htmlDesktop.join("\n"), i = VerifyGameAuthenticityManager.textPayloadsDesktop[UHT_CONFIG.LANGUAGE] || VerifyGameAuthenticityManager.textPayloadsDesktop.en, n = Object.keys(i), o = 0; o < n.length; o++) e = e.replace("{" + n[o] + "}", i[n[o]]);
        var s, a = (new DOMParser).parseFromString(e, "text/html");
        document.body.insertBefore(a.body.firstChild, document.getElementsByTagName("canvas")[0]), (s = document.createElement("style")).textContent = VerifyGameAuthenticityManager.styleDesktop.join("\n").replace(/REPLACE_ME/g, globalRuntime.sceneRoots[1].GetComponentsInChildren(CoinsAndCashHint)[0].GetComponentsInChildren(UILabel, !0)[0].fontName), document.head.appendChild(s), VerifyGameAuthenticityManager.qrcode = new QRCode(document.getElementById("qrcode"), {
            text: ServerOptions.mgckey + "||" + btoa(window.UHT_GAME_CONFIG_SRC.gameVerificationURL),
            width: 192,
            height: 192,
            colorDark: "#000000",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.L
        }), document.getElementById("qrcode").title = "";
        var r = function () {
            document.getElementById("verifyWindowContainer").classList.remove("active"), document.getElementById("verifyWindowContainer").classList.add("inactive")
        };
        document.getElementById("close").addEventListener("click", r, !1), VerifyGameAuthenticityManager.scaleLoadingBar = function () {
            var t = VerifyGameAuthenticityManager.UIRoot.manualWidth / VerifyGameAuthenticityManager.UIRoot.manualHeight,
                e = window.innerWidth / window.innerHeight,
                i = 1,
                n = ["-moz-transform: scale(VAL)", "-webkit-transform: scale(VAL)", "-ms-transform: scale(VAL)", "-o-transform: scale(VAL)", "transform: scale(VAL)"];
            i = (i = Math.min(t, e) / t * 2 / VerifyGameAuthenticityManager.UIRoot.manualHeight) * window.innerHeight / 2;
            for (var o = 0; o < n.length; ++o) n[o] = n[o].replace("VAL", i);
            n.push("width:" + window.innerWidth / i + "px"), n.push("margin-top:" + (window.innerHeight - VerifyGameAuthenticityManager.UIRoot.manualHeight * i) / 2 + "px"), document.getElementById("verifyWindowContainer").setAttribute("style", n.join(";"))
        }, VerifyGameAuthenticityManager.scaleLoadingBar(), window.addEventListener("resize", VerifyGameAuthenticityManager.scaleLoadingBar, !1), window.addEventListener("click", (function (t) {
            document.getElementById("verifyWindow").contains(t.target) || r()
        }))
    }
}, VerifyGameAuthenticityManager.scaleLoadingBar = function () {}, VerifyGameAuthenticityManager.styleDesktop = ["#verifyWindowContainer", "{", "    position: absolute;", "    top: 0;", "    left: 0;", "    width: 1444px;", "    height: 999px;", "    -moz-transform-origin: 0 0;", "    -o-transform-origin: 0 0;", "    -webkit-transform-origin: 0 0;", "    -ms-transform-origin: 0 0;", "    transform-origin: 0 0;", "    z-index: 69;", "    -webkit-user-select: none;", "    -ms-user-select: none;", "    user-select: none;", "}", "#verifyWindow", "{", "    position: absolute;", "    background-color: #000000F2;", "    width: 1200px;", "    height: 730px;", "    inset: 0px;", "    margin: auto;", "    margin-top: 80px;", "    border-radius: 15px;", "    color: white;", "    text-align: center;", "}", "#close", "{", "    color: #BEBEBEFF;", "    font-size: 80px;", "    position: absolute;", "    top: -10px;", "    right: 10px;", "}", "#close:hover", "{", "    color: #8C8C8CFF;", "}", "#close:active", "{", "    color: #8C8C8CFF;", "}", ".verifyParagraph", "{", "    font-size: 30px;", '    font-family: "REPLACE_ME";', "}", ".orange", "{", "    color: orange;", '    font-family: "REPLACE_ME";', "}", "#qrcode img{", "    inset: 0px;", "    margin: auto;", "    padding: 10px;", "    background-color: white;", "}", "#para1", "{", "    min-height: 39px;", "    max-height: 39px;", "    font-size: 24px;", "    padding-top: 25px;", "    padding-bottom: 50px;", "}", "#para3, #para4", "{", "    min-height: 78px;", "    max-height: 78px;", "    min-width: 1000px;", "    max-width: 1000px;", "    margin: auto;", "    font-size: 24px;", "}", ".active", "{", "    display: block;", "}", ".inactive", "{", "    display: none;", "}", "#appImg", "{", "    margin-bottom: -10px;", '    content: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALMAAAAoCAYAAAC1tctzAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TRSkVBzuIOmSoDmJFVMRRqlgEC6Wt0KqDyaVf0KQhSXFxFFwLDn4sVh1cnHV1cBUEwQ8QVxcnRRcp8X9JoUWMB8f9eHfvcfcOEOplppodE4CqWUYyFhUz2VWx6xUBDCKIUYxLzNTjqcU0PMfXPXx8vYvwLO9zf44eJWcywCcSzzHdsIg3iGc2LZ3zPnGIFSWF+Jx4zKALEj9yXXb5jXPBYYFnhox0cp44RCwW2lhuY1Y0VOJp4rCiapQvZFxWOG9xVstV1rwnf2Ewp62kuE5zCDEsIY4ERMioooQyLERo1UgxkaT9qId/wPEnyCWTqwRGjgVUoEJy/OB/8LtbMz816SYFo0Dni21/DANdu0CjZtvfx7bdOAH8z8CV1vJX6sDsJ+m1lhY+Anq3gYvrlibvAZc7QP+TLhmSI/lpCvk88H5G35QF+m6BwJrbW3Mfpw9AmrpavgEODoGRAmWve7y7u723f880+/sB6CBy1oErsw4AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnChsMLA7drvZoAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAEZpJREFUeNrtnXt0VOW5xn97JpnJzCSTC0yMuRMICaEJcifEBkMJhBrLJcipRy3BtlQFZNW2YIHaZREpyD+ntaicgmi91RqPF7SANECoCYoKxoYG0oTb5H6bzGSSmcyevc8fISNDJmFmEu1a58yz1l5r1uzv+/a79/vsdz/v++2LoNhXwY2QHpyXKMz97mrSpy0QIgwpsuSMRpKCCCCAfwcEQUR0tNDbXUf150fl8g9eUDx34gqA84E5XzUbIPO2plK2bNkSIiy8Z7uQXbCOxImqm25DllFJDrTdHRj6LCh7zEQ4bYhOJ92qUNBH0a7W063WYVOqkBACjglg5Lh83iGfOvSMfOT1zbIs2waRWXp4vkG4e+0h4Y5l0xAUQxMYCJEc6NuuYLhShaG7jdQxelITYomJiSEsLAyA7u5uGhsbqbnawEWThc7wGEzjp9KgGUOPIjjgkABGBllCPv72GfkvzyySbT2tAEEA0g+z1cJPtr0nzFowbTgSayQH8Y3nuaXmNHlpSRSsWkJGRgY6nQ6Fwv0EkGUZQRCQZRmr1cq5c+c4/OFRjpTX0Jg6k+b4yfQGqZEDbgnAL+mhQMhbPhWd/j1BEObJsmwXFPsqkN/8wy6h6OFfIHiWAQpkkrrqiSor4Uffnc/yZcsYM2YMguC7bDCZTJS89RYHDh2jcXYhlyMSkYSA/AjA3wgtI5fseVr64E8bBVTqBMXW/ReISwnx1FYliYw7/xF39DWyZeMviIuLG+G2+yN2c3Mzv/ntTkqdei5PWYBdCOSXAfiJ+jqb9OQDE5XCnavWCjMXLPLUJgyRlBOv8ci0cWzetImIiIhRSEz7o3BoaCiLFnwHg7mZfxx+F8f4LOwoAo4JwHfoI4OQpRalMH/FTiF2XMKN6zWyyITyErYV5XPP97+PUqkcdRsUCgWZmZkkhSioPPgXLEmT6ROUAecE4Du6TVqlMG/p04IhTuMmLWSJ1I/fZtOCmSxfvtwvbewLJk6cSIxS4uyxI5gTMhADrgnAV3S16xSCMijqxqpFWst5/jP1Fv5j5cpvzJbvfe973D8pnkmN/wiIjQD8KG4ooxTcUFJLUPRx69mjPLJuLQqF4muPytfj4Qd/QkLVCeIla8A7AfiqWd2DoEqAMX9/myd+toGQkBCvxxFFEYvFgtlsdlssFgui6L1o0Gg0PLn5MaLK30EVqNYF4CPc6mGJkpVp6j6mT5/udUQ2Go1s3boVs9mMLA+eAgkPD+fxxx8nJSXFq/EyMjKYEx6ExWGmNkgf8FAAvpNZACLPlfPj4lVeVy56e3tZv349q1atIicnZ7COEQROnz7Nhg0beOWVV9Drb05OQRD40Q/u5/S+N1FOvwvnCKcIiww68mLDCQtWUtXRw//Ud1FjH/5qsSY+nJyYflu97QOQqg4iz6Cj3S5S0upZKuXqQ0jXqznWah1yzDXx4cOOMdp25+pDKIjVExeqxuJwcqyha8htFxl0jFEPnhMYbn+G6gOw19g1+mSOUkpENNeRlZXlsWFVVRXHjh3D6XQCoFQqOXv2LLfddhtLly51ReXrI7osyyxevJiqqio2bNjAjBkzXP0B8vLyyMzMHLSt9PR0YjuvckVw0iYr/ZryTlUHUZKfxuToMLf/f+VwUnzonEdnvTgjgeWTYtAGu5/MO4DSujYerrg0LDm2Zt7KfVlx9DiclPzptMc2P5xo4L6sOD4xdpJ95LzHNs8unERVi4WSg1Ve7au/dhcZdPx6dvKgY/TQdGi12nn8o7pBZPPUfgCfGDvZfcY46NgO12fv/lOjT2a9qZm8276FWq0e1Ki8vJxt27axcuVK1Gq1i7gFBQUsXrzYReK+vj5MJhOCIBAeHo5KpUKWZdauXcv777+PKIqoVCoEQcDpdPLLX/6Sn/70p8yfP9/tJNBoNOTOmEptVyNiaDSdgsrnHRsg8s7yOjZXtwDwVHo062cmcaAgg8o3zrg5+MM7JjA/ZSxVLRZePtfkimpr4sNZnRHD/JSxHIrSUvD+uSEJvWj8WAC0wUqeSo92bdcTZsVHsjFlDLvq2kfkQH/tLjLoOFCQAcDLlfXsu9BKmdnmitIPTInj2YWTSL7u+LkCW4uFrGsn2sDVKGuMjlVZcbxxV6bbMffU52uXGaFNdUz/zhSPjV5++WW2bt3qUUrIsozNZmPfvn2cPHkSnU6HIAhYrVbmzJnDmjVrCAkJYcWKFXz22Wfs3bsXjUaDKIqsXbuWV199lby8vEEafW52Nn9+7QNiJtxGpy7W5x2bHB1GaV2b20HdXN2CXh1EbkIkeQYdNdeizoszEpifMpbSujbyj/9r0GVwr7GLF2ckcF9WHC/NG+8xoq6JD8egU/NyZT3LJ8WQlxgJw5C5qsXCr3JSvJYCQ0Vkf+xOVQe5iHzjVarMbKPMbOOFix0cujODTXNTuNRtH1IO1NjF/uNo7OK/qls4dGcG62cmcajBTJnZ9s0WNAZ+hJmaGDdu3JDVitDQUI/rOjo6KC4uxmKxkJ2djVarRaPRMHv2bOx2O8XFxbS2tvYfqLIyrFYr2dnZ1NfXU1dXh1Kp9Jg4pqamEtLZRES70S+JAWDpG0ySdV80kHWwyuWcVHUQ92XF0Wq1DyLE9Vj16VUeOvJPXjjX5HH93RMMADz5ZSOnrnYyKz7SZYcnrCurBeCleeP9ctxI7N45PR5tsJKfHbswpDausYusPnoBgNUZMV7ZVGMX2fnJZbTBSn41Lf6br865QrTVxNixY4ds6Ilwoijy85//nPz8fE6fPo3NZqO4uJji4mJEUeTUqVMUFhby6KOPYrfbKSgoICkpicrKSqZMmcLUqVPdNPT1CAsLI0LqQzDW+rxTNXax38njDayJDx+27epx/XNGb1Y333TcgWjnCXMSIvnE2EmNXeTDK50AbEiPHnKsMrONFyvrXXLDV4zE7rkJkbRa7TdNvsrMNqpaLMyKj/Tarr3GLlqtdjJvCfv3VTPGqIMJDvbtpvkBWVFRUcGDDz5Ifn6+i/TTp0/n+PHj7N+/n+joaI4fP86iRYvYvn27q//58+c9niT9NXAFWlUQzeZOv3ZsbekFDhRk8OzCSfzGaufLZgunm8y8cLHD7bIeF9qfI1S2+z9R81R6NNpgJceukXhXXTuPzkxk8fix8EXD0NH5iwZyEyL9khsjsdugU1PVYvGq7ZkmM5Ojw1gTH+515aHF2jco4YvWqXhxhvstQB81mUe1mvHVpIks+TTbJ8sypaWlTJo0CUEQyM/PdyWCA+Pcfvvt6HQ6xo8fT2lp6ZDEHQpKAWRHn187VtJqZdobZ9hZXseXzRYybwlj09wUqu+dwVtzk0c1IuQlRtLjcPLCxY6vkuarnSRHaCky6IbtOyA3SvLT/k/XgHWqIKbG6N2W5FD11xOZRUGBJEled5QkCZPJRGRkJGlpnh0RFBREWloaVquVrq4uJEnyuoYtyzJ2UUJQa/zeuRq72J8AXkvEcvUhvLBgIkvSY3iqo4fN1S3Ud9sB/D6wufoQZsVHUlrX5hZZX6lpZUl6DPemGoatFw/IjYemJ/LMlFjWDRPJr8dI7G612onWeVchmhilddWRvSfuYB9f7Oz52qsZrsjcYROx2+3ed1Qo0Gg0qFQq6uvrPZJRkiTq6+vRaDRoNBqfIr8kSfSITkLGRI/azpaZba6kJv2akw41mAEovJbA+YqV17Rr5i1hVBZOdi2/np3s0qc3w7ovGqhqsbAqK45cvXe3EYzE7i+bLRh06pvmE6nqIGbFR3LJ1OO1BMrVh5AcoeUTYyffNFxkFiPG0tjY6HVHQRDIycnBaDTS3NxMVVXVoPUXLlzg4sWLtLW1kZ2dPeg5weHQ3t5OV7CO3ljfs/1UdRCVhZM9yonGG5xSZrbxTnUTk6PDeGqYhO2p9GicD8yhsnCy2/+Lx4+lx+GkxTpYDl0y9WDQqb1K8AbkxjO5470+Mf21e9vnRnocTjbNShq24jJQaXn+bL3Xx37nnCSAIas+3wiZLZG3UltX55Nmzs/Pp7a2loKCAh577DH++te/YjKZMJvNHD16lI0bN7Js2TIqKyspKCgYMgJ7wrlz5+iLSaYz0vfHtGrsItE6FUvSY9yiT6o6iD3Z/QQ/dOWryLHpMyOXTD1smpvCW3OT3aJjqjqIF2cksGluCj0OJ098fMm1rsigIzlCy4e1rWQdrBq0DFwF8hMjvSLn709fHnKmzBP8tXtgW8kRWg7dmTHoZCsy6KgsnOyST95M7OTqQ6hYmMas+EjeqW4a1cTOZ81sjU2l/JMK7ios9EoOCIKAVqtlx44dPPLII6xYsYLS0lIOHDiALMskJCSwbNkyXn/9dXbv3k1YWJjr+b/rx/C0LVmWOX7yJJakWTSrw0dczdhk6sHa52RcpBZtsJKd5e7TtDV2kYL3z7EnO5kl6TEsSY+hx+HE2idi0PVr0qoWC098fMlN/96banDp4+FKW/NTxpJacemml+rN1S3kJUZ6XQrz1+6BbZn6nDw6M5Edd6Sy445ULpl6SI7ol189DifPfnbFo4YfF6l1i/TROhUGnZpWq93j7J+nPgMYTR3tInOnJoKK2qv09vai1WoHkWuoSsSECRN4/vnn2b17N11dXa6Jl6amJj799FP27NlDQkLCkFHZ6XQOInR3dzenqmtpTF5Et+zfrfolrVYq3zjD6nFRxIWqiQ1Vc6bJ7Jq29USM/OP/IvdzIyvHRRF23X0O717u8JjENVj7ePazK8MmeM+cNZIToydLr6amVeSjJvOwdv/gRC1bM291JXjeENpXuwewq66dXXXtbEwZw+QoLWEqJX+/0kl9t31QCXMAB//V6ioLeltmG6rPaENQPPacTGr/NPZM4+dsnZZIYWGhW6O3336b1157jfXr13ucsRMEAaVSSW9vL0ajEVmWiY+PR6fTIYqi2zs0BtpLksSePXsoKCjg/vvvdxvv8OHDbDlWydmJ3w68VyMAL7XlF+73M9cnfIs/vvZHFixY4HZz/pIlS5BlmVdffRVZlodN5AbIXlFR4RbZb4y+kiSxdOlSioqK3P4XRZH9f36TltvvCxA5AP9kBkCTrKI+KYt333uPlXff7RZ5ly1bxtKlS0f3suBBL//tb3/jQkQSjYKaAJsD8K2acV01QQIupeXwu7+8S3Nzs0fyjeZyI5qbm3nyuf00Zt6BFCByAL5AklDITrHj+v86nAJt8+5myxPb6O3t/cZscTgcPL59B13599ImB95uFIBvkCVnh4IeS/WNK2o1BiqiJvLkb3f69ECqv3A6nex8ejenwlOo1kQH1EUAvqPHUq2g4dLBQREbgZqUmbzvjGTHzl309fV9bTaIoshvdz3NW50C/xw3c8TP/AXw/xT1Fw8qqfvHFeG23IfRR7k93Coj0B4Ri7GhkX9+UMLc2bPQaDSjuv3Ozk5+ve1J3urVcmFSLmLgZeQB+EXkOpu8/zc/ViieO3FFPnXod1xXO5avLaKgoCZtLkcS53D3g49QWlo65M30vsqKkydPUrRmLSVhadSkfxtHgMgB+CWWZeRTh38v221XBcW+iv6XjT+0/YQwY/5sT+0FIMrRzdiPPyAnVOJH997DlClTXLVoT3VkT7Db7VRVVfHfL73Cxz0C9dMLaAsODTgkAP+5/Gnpx/KzW7562Thc+wzEyvWHhXlLpg71GQiFLHGLzURs7afEtF7kztwccm/PITY2FrVaTXBwsOt+ZUmScDgc2Gw2mpubOXaijCMfVVCni6Fhwkw69dE4hcBb5QLwu3yBfOKdM/Ibv3d9BsJF5u57pqDVajXCwu9vF7IXryNx4pDPUCmR0di6GdtSR2hjLYZeE7E6FZHh4YRpNQgKBeZuK10WC8ZuG126KGxJGbSMSaRDUAfelB/AyHDlgkMu/+AP8od/3izLsqt+7EbmAWjDI5KEud9dTdrUheij0pDlqKHGVSCjlkQMSgmVw4YhWMBkteJQaelRBNOlDMEmC0gIgZJbAP7D3ttBn+08588cufbptMvg/um0/wVIpBmDT1SwhwAAAABJRU5ErkJggg==");', "}", "#qrcode", "{", "    margin-bottom: 66px;", "    margin-top: 50px;", "}"], VerifyGameAuthenticityManager.htmlDesktop = ['<div id="verifyWindowContainer" class="inactive">', '<div id="verifyWindow">', '<span id="close">&times;</span>', '<h1 class="orange">{title}</h1>', '<p id="para1" class="verifyParagraph">{para1}</p>', '<p id="para3" class="verifyParagraph">{para3}</p>', '<div id="qrcode"></div>', '<p id="para4" class="verifyParagraph">{para4}</p>', "</div>", "</div>"], VerifyGameAuthenticityManager.styleMobile = ["#verifyWindowContainer", "{", "    position: fixed;", "    top: 0;", "    left: 0;", "    width: 1444px;", "    height: 2567px;", "    z-index: 69;", "    -moz-transform-origin: 0 0;", "    -o-transform-origin: 0 0;", "    -webkit-transform-origin: 0 0;", "    -ms-transform-origin: 0 0;", "    transform-origin: 0 0;", "    -webkit-user-select: none;", "    -ms-user-select: none;", "    user-select: none;", "}", "#verifyWindow", "{", "    position: absolute;", "    background-color: #000000F2;", "    width: 1200px;", "    height: 730px;", "    inset: 0px;", "    margin: auto;", "    margin-top: 84px;", "    border-radius: 15px;", "    color: white;", "    text-align: center;", "}", "#close", "{", "    color: #BEBEBEFF;", "    font-size: 80px;", "    position: absolute;", "    top: -10px;", "    right: 10px;", "}", "#close:hover", "{", "    color: #8C8C8CFF;", "}", "#close:active", "{", "    color: #8C8C8CFF;", "}", ".verifyParagraph", "{", "    font-size: 30px;", '    font-family: "REPLACE_ME";', "    margin-top: 60px;", "    margin-bottom: 60px;", "}", ".orange", "{", "    color: orange;", '    font-family: "REPLACE_ME";', "}", ".authButton", "{", "    text-decoration: none;", "    border: none;", "    padding: 12px 100px;", "    font-size: 40px;", '    font-family: "REPLACE_ME";', "    background-color: #00B764FF;", "    color: #fff;", "    border-radius: 10px;", "    box-shadow: 7px 6px 28px 1px rgba(0, 0, 0, 0.24);", "    cursor: pointer;", "    outline: none;", "    margin-top: 45px;", "    margin-bottom: 100px;", "}", ".authButton:active", "{", "    color: #C6BCC5FF;", "    background-color: #26C27BFF;", "}", "#verifyWindowPort", "{", "    position: absolute;", "    background-color: #000000F2;", "    width: 1420px;", "    height: 2237px;", "    inset: 0px;", "    margin: auto;", "    margin-top: 60px;", "    border-radius: 15px;", "    z-index: 69;", "    color: white;", "    text-align: center;", "}", "h1.port", "{", "    font-size: 80px;", "    margin-bottom: 250px;", "}", "#closePort", "{", "    color: #BEBEBEFF;", "    font-size: 140px;", "    position: absolute;", "    top: -20px;", "    right: 10px;", "}", "#closePort:hover", "{", "    color: #8C8C8CFF;", "}", "#closePort:active", "{", "    color: #8C8C8CFF;", "}", ".verifyParagraphPort", "{", "    font-size: 62px;", '    font-family: "REPLACE_ME";', "    margin-top: 150px;", "    margin-bottom: 150px;", "    min-width: 1400px;", "    max-width: 1400px;", "    margin-left: auto;", "    margin-right: auto;", "}", ".authButtonPort", "{", "    text-decoration: none;", "    border: none;", "    padding: 32px 420px;", "    font-size: 80px;", '    font-family: "REPLACE_ME";', "    background-color: #00B764FF;", "    color: #fff;", "    border-radius: 20px;", "    box-shadow: 7px 6px 28px 1px rgba(0, 0, 0, 0.24);", "    cursor: pointer;", "    outline: none;", "    margin-top: 110px;", "    margin-bottom: 300px;", "}  ", ".authButtonPort:active ", "{", "    color: #C6BCC5FF;", "    background-color: #26C27BFF;", "}", "#para1Port, #para2Port", "{", "    white-space: break-spaces;", "}", ".active", "{", "    display: block;", "}", ".inactive", "{", "    display: none;", "}"], VerifyGameAuthenticityManager.htmlMobile = ['<div id="verifyWindowContainer" class="inactive">', '    <div id="verifyWindow">', '        <span id="close">&times;</span>', '        <h1 class="orange">{title}</h1>', '        <p id="para1" class="verifyParagraph">{para1}</p>', '        <p id="para3" class="verifyParagraph">{para3}</p>', '        <p id="para4" class="verifyParagraph">{para4}</p>', '        <button class="authButton">{authenticate}</button>', "    </div>", '    <div id="verifyWindowPort">', '        <span id="closePort">&times;</span>', '        <h1 class="orange port">{title}</h1>', '        <p id="para1Port" class="verifyParagraphPort">{para1}</p>', '        <p id="para3Port" class="verifyParagraphPort">{para3}</p>', '        <p id="para4Port" class="verifyParagraphPort">{para4}</p>', '        <button class="authButtonPort">{authenticate}</button>', "    </div>", "<div/>"], VerifyGameAuthenticityManager.textPayloadsDesktop = {
    en: {
        title: "VERIFY GAME AUTHENTICITY",
        para1: '1. Install on your mobile phone the <span class="orange">PRAGMATIC PLAY AUTHENTICATOR</span> app from the AppStore or Google Play<br>Important: Before downloading, ensure that the publisher is listed as <span class="orange">PRAGMATIC PLAY</span>',
        para3: '2. Open the newly installed app on your mobile phone. Inside the app click <img id="appImg"> and the camera will open. Then scan the QR Code below.',
        para4: "Please complete the game verification on your phone."
    },
    ko: {
        title: "게임 정품 여부 확인",
        para1: '1. AppStore 또는 Google Play에서 휴대전화에 <span class="orange">PRAGMATIC PLAY</span> 인증 앱을 설치합니다.<br>중요: 다운로드하기 전에 게시자가 <span class="orange">PRAGMATIC PLAY</span>로 되어 있는지 확인하세요.',
        para3: '2. 휴대폰에 새로 설치된 앱을 엽니다. 앱 내에서 <img id="appImg">를 클릭하면 카메라가 열립니다. 그리고 아래의 QR코드를 스캔해보세요.',
        para4: "휴대폰에서 게임 인증을 완료해주세요."
    }
}, VerifyGameAuthenticityManager.textPayloadsMobile = {
    en: {
        title: "VERIFY GAME AUTHENTICITY",
        para1: '1. Install the <span class="orange">PRAGMATIC PLAY AUTHENTICATOR</span> app from the AppStore or Google Play.<br>Important: Before downloading, ensure that the publisher is listed as <span class="orange">PRAGMATIC PLAY</span>.',
        para3: "2. Once the app is installed, click the AUTHENTICATE button below.",
        para4: "3. After clicking the AUTHENTICATE button below, open the app and complete the game verification in the app. If prompted when opening the app, please allow paste.",
        authenticate: "AUTHENTICATE"
    },
    ko: {
        title: "게임 정품 여부 확인",
        para1: '1. 앱스토어 또는 구글플레이에서 <span class="orange">PRAGMATIC PLAY</span> 인증 앱을 설치합니다.<br>중요: 다운로드를 하시기 전에 게시자가 <span class="orange">PRAGMATIC PLAY</span>로 되어 있는지 확인하세요.',
        para3: "2. 앱이 설치되면 아래의 인증 버튼을 클릭하세요.",
        para4: "3. 아래의 인증 버튼을 클릭하신 후, 앱을 실행하시고 앱 내에서 게임 인증을 완료해 주세요. 앱을 열 때 메시지가 표시되면 붙여넣기를 허용해 주세요.",
        authenticate: "정품 인증"
    }
}, goog.require("UHT.Component");
var Nike_XTVariableType = {
    XT_Bool: 0,
    XT_Int: 1,
    XT_Float: 2,
    XT_Double: 3,
    XT_String: 4,
    None: 5
};

function Nike_XTVariable() {
    Component.call(this), this.variableType = Nike_XTVariableType.None, this.variableName = "", this.forcedValue = "", this.unforcedValue = ""
}

function PaytableScrollValues() {
    this.pagesOffset = new UHTMath.Vector3(0, -2385, 0), this.topPageExtraOffset = new UHTMath.Vector3(0, 0, 0), this.bottomPageExtraOffset = new UHTMath.Vector3(0, 1, 0), this.firstPageExtraDrag = new UHTMath.Vector3(0, -50, 0), this.lastPageExtraDrag = new UHTMath.Vector3(0, 1475, 0), this.scrollWheelMovement = new UHTMath.Vector3(0, 200, 0)
}

function Paytable_mobile() {
    XTLink.call(this), this.miniScrollValues = null, this.miniPageFlipper = null, this.miniDragObject = null, this.miniInitialPos = null, this.portraitScrollValues = null, this.portraitPageFlipper = null, this.portraitDragObject = null, this.landscapeScrollValues = null, this.landscapePageFlipper = null, this.landscapeDragObject = null, this.hasAutoplayPages = !0, this.noIntroScreenButtonPatched = !1
}
Nike_XTVariable.prototype = Object.create(Component.prototype), Nike_XTVariable.prototype.constructor = Nike_XTVariable, Nike_XTVariable.prototype.JustDoIt = function (t) {
    switch (this.variableType) {
        case Nike_XTVariableType.XT_Bool:
            XT.SetBool(this.variableName, _bool.Parse(t));
            break;
        case Nike_XTVariableType.XT_Int:
            XT.SetInt(this.variableName, _number.otoi(t));
            break;
        case Nike_XTVariableType.XT_Float:
            XT.SetFloat(this.variableName, _number.otod(t));
            break;
        case Nike_XTVariableType.XT_Double:
            XT.SetDouble(this.variableName, _number.otod(t));
            break;
        case Nike_XTVariableType.XT_String:
            XT.SetString(this.variableName, t);
            break
    }
}, Nike_XTVariable.prototype.ForceValue = function (t) {
    this.variableType == Nike_XTVariableType.XT_Bool ? (this.unforcedValue = String(XT.GetBool(this.variableName)), XT.RegisterCallbackBool(this.variableName, this.ForcedCallbackBool, this)) : this.variableType == Nike_XTVariableType.XT_Double ? (this.unforcedValue = String(XT.GetDouble(this.variableName)), XT.RegisterCallbackDouble(this.variableName, this.ForcedCallbackDouble, this)) : this.variableType == Nike_XTVariableType.XT_Float ? (this.unforcedValue = String(XT.GetFloat(this.variableName)), XT.RegisterCallbackFloat(this.variableName, this.ForcedCallbackFloat, this)) : this.variableType == Nike_XTVariableType.XT_Int ? (this.unforcedValue = String(XT.GetInt(this.variableName)), XT.RegisterCallbackInt(this.variableName, this.ForcedCallbackInt, this)) : this.variableType == Nike_XTVariableType.XT_String && (this.unforcedValue = XT.GetString(this.variableName), XT.RegisterCallbackString(this.variableName, this.ForcedCallbackString, this)), this.forcedValue = t, this.JustDoIt(t)
}, Nike_XTVariable.prototype.UnforceValue = function () {
    this.variableType == Nike_XTVariableType.XT_Bool ? XT.UnregisterCallbackBool(this.ForcedCallbackBool, this) : this.variableType == Nike_XTVariableType.XT_Double ? XT.UnregisterCallbackDouble(this.ForcedCallbackDouble, this) : this.variableType == Nike_XTVariableType.XT_Float ? XT.UnregisterCallbackFloat(this.ForcedCallbackFloat, this) : this.variableType == Nike_XTVariableType.XT_Int ? XT.UnregisterCallbackInt(this.ForcedCallbackInt, this) : this.variableType == Nike_XTVariableType.XT_String && XT.UnregisterCallbackString(this.ForcedCallbackString, this), this.JustDoIt(this.unforcedValue)
}, Nike_XTVariable.prototype.ForcedCallbackBool = function (t) {
    this.JustDoIt(this.forcedValue)
}, Nike_XTVariable.prototype.ForcedCallbackDouble = function (t) {
    this.JustDoIt(this.forcedValue)
}, Nike_XTVariable.prototype.ForcedCallbackFloat = function (t) {
    this.JustDoIt(this.forcedValue)
}, Nike_XTVariable.prototype.ForcedCallbackInt = function (t) {
    this.JustDoIt(this.forcedValue)
}, Nike_XTVariable.prototype.ForcedCallbackString = function (t) {
    this.JustDoIt(this.forcedValue)
}, goog.require("UHT.XTLink"), Paytable_mobile.prototype = Object.create(XTLink.prototype), Paytable_mobile.prototype.constructor = Paytable_mobile, Paytable_mobile.prototype.XTInitVariablesAndEvents = function () {
    this.UpdateZOrder(), XT.SetObject(Vars.MobilePaytableObject, this), Globals.isMini && this.transform.localPosition(new UHTMath.Vector3(0, 95, -550))
}, Paytable_mobile.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen, this.OnPressedPaytableOpen, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose, this.OnPressedPaytableClose, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpenHelp, this.OnShowGameHelp, this)
}, Paytable_mobile.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnPressedPaytableOpen, this), XT.UnregisterCallbackEvent(this.OnPressedPaytableClose, this)
};
var BT_PAYTABLE_MOBILE_SENT = !1;

function MiniPaytableScrollbar() {
    ArrangeableBase.call(this), this.scrollbar = null, this.scrollbarThumb = null, this.scrollbarThumbDragObject = null, this.visiblePartOfPage = 1, this.blackBandsPanel = null, this.activeInPortrait = !1, this.updatePaytableLayer = !1, this.paytableLayer = null, this.colliderProxy = null, this.hasInertia = !1, this.inertiaCurve = null, this.isSimpleScrollbar = !1, this.simpleDragObject = null, this.simpleLocalPositionLimitMin = null, this.simpleLocalPositionLimitMax = null, this.simpleUseScrollWheel = !1, this.simpleScrollWheelMovement = null, this.autoplayPaths = null, this.useYAxis = !0, this.useStaticScroll = !0, this.inertiaTime = 0, this.isInertia = !1, this.mobilePaytable = null, this.isInit = !1, this.prevThumbPos = null, this.prevPaytablePos = null, this.cachedCamera = null, this.scrollNonStatic = 0, this.scrollDelta = 0, this.isEnabled = !0
}

function PaytableArranger() {
    XTLink.call(this), this.panelOver = null, this.panelUnder = null, this.zOrderNearer = null, this.zOrderFarther = null, this.updatePaytableLayer = !1, this.paytableLayer = null, this.updatePaytablePosition = !1, this.paytableLocalPosition = null
}

function CATContentLooper() {
    Component.call(this), this.show = null, this.hide = null, this.duration = null, this.playAutomatically = !1, this.resetOnStart = !1, this.ignoreFirstShow = !1, this.isLooping = !0, this.index = 0, this.time = 0, this.internalIsLooping = !1, this.isHidden = !1
}
Paytable_mobile.prototype.OnPressedPaytableOpen = function () {
    if (!BT_PAYTABLE_MOBILE_SENT) {
        var t = globalTracking.GetTimerValue("uht_behaviour", "Session_timer", "BehaviourTracker");
        globalTracking.SendEvent("uht_behaviour", "PAYTABLE_opened_once", t, "BehaviourTracker"), BT_PAYTABLE_MOBILE_SENT = !0
    }
    if (Globals.isMini ? this.UpdateMini() : this.UpdateMobile(), this.gameObject.SetActive(!0), !this.noIntroScreenButtonPatched && XT.GetBool(Vars.DisableIntroScreen)) {
        for (var e = this.gameObject.GetComponentsInChildren(SkipIntroButtonController, !0), i = 0; i < e.length; i++) e[i].gameObject.SetActive(!1);
        this.noIntroScreenButtonPatched = !0
    }
}, Paytable_mobile.prototype.OnPressedPaytableClose = function () {
    this.gameObject.SetActive(!1)
}, Paytable_mobile.prototype.UpdateMini = function () {
    null == this.miniPageFlipper && this.InitMini(), this.miniDragObject.target.position(this.miniInitialPos)
}, Paytable_mobile.prototype.InitMini = function () {
    for (var t = this.GetComponentsInChildren(PageFlipper, !0), e = 0; e < t.length; ++e) {
        var i = t[e].GetComponent(ArrangeableActive);
        null != i && (i.activeInLandscape && (i.activeInLandscape = !1, i.gameObject.SetActive(!1)), i.activeInPortrait && (i.activeInLandscape = !0, i.gameObject.SetActive(!0), this.miniPageFlipper = t[e], this.miniDragObject = this.miniPageFlipper.GetComponent(CustomDragObject), this.miniInitialPos = this.miniDragObject.target.position(), (XT.GetBool(Vars.Jurisdiction_Show_X_Chance) || XT.GetBool("Jurisdiction_Show_NOK_Chance")) && (this.miniScrollValues.topPageExtraOffset.y -= 300, this.miniScrollValues.bottomPageExtraOffset.y -= 299, this.miniScrollValues.lastPageExtraDrag.y += 300), this.InitPageFlipper(this.miniPageFlipper, this.miniDragObject, this.miniScrollValues)))
    }
}, Paytable_mobile.prototype.UpdateMobile = function () {
    null == this.landscapePageFlipper && this.InitMobile(), this.landscapeDragObject.target.position(this.landscapeDragObject.target.parent.transformPoint(this.landscapeDragObject.localPositionLimitMin)), this.portraitDragObject.target.position(this.portraitDragObject.target.parent.transformPoint(this.portraitDragObject.localPositionLimitMin))
}, Paytable_mobile.prototype.InitMobile = function () {
    for (var t = this.GetComponentsInChildren(PageFlipper, !0), e = 0; e < t.length; ++e) {
        var i = t[e].GetComponent(ArrangeableActive);
        null != i && (i.activeInLandscape && (this.landscapePageFlipper = t[e], this.landscapeDragObject = this.landscapePageFlipper.GetComponent(CustomDragObject), this.landscapeScrollValues.pagesOffset = new UHTMath.Vector3(0, -854, 0), this.landscapeScrollValues.firstPageExtraDrag = new UHTMath.Vector3(0, -50, 0), this.hasAutoplayPages && !XT.GetBool(Vars.Jurisdiction_DisableAutoplay) ? this.landscapeScrollValues.lastPageExtraDrag = XT.GetBool(Vars.HasAdvancedAutoplay) ? new UHTMath.Vector3(0, -73, 0) : new UHTMath.Vector3(0, -483, 0) : this.landscapeScrollValues.lastPageExtraDrag = new UHTMath.Vector3(0, -56, 0), XT.GetBool(Vars.ShowIncompleteGame) && (this.landscapeScrollValues.lastPageExtraDrag = new UHTMath.Vector3(0, -433, 0)), (XT.GetBool(Vars.Jurisdiction_Show_X_Chance) || XT.GetBool("Jurisdiction_Show_NOK_Chance")) && (this.landscapeScrollValues.topPageExtraOffset.y -= 120, this.landscapeScrollValues.bottomPageExtraOffset.y -= 119, this.landscapeScrollValues.lastPageExtraDrag.y += 120), this.landscapeScrollValues.scrollWheelMovement = new UHTMath.Vector3(0, 7.95, 0), this.InitPageFlipper(this.landscapePageFlipper, this.landscapeDragObject, this.landscapeScrollValues)), i.activeInPortrait && (this.portraitPageFlipper = t[e], this.portraitDragObject = this.portraitPageFlipper.GetComponent(CustomDragObject), this.portraitScrollValues.firstPageExtraDrag = new UHTMath.Vector3(0, 8.5, 0), this.hasAutoplayPages && !XT.GetBool(Vars.Jurisdiction_DisableAutoplay) ? this.portraitScrollValues.lastPageExtraDrag = XT.GetBool(Vars.HasAdvancedAutoplay) ? new UHTMath.Vector3(0, 0, 0) : new UHTMath.Vector3(0, -1450, 0) : this.portraitScrollValues.lastPageExtraDrag = new UHTMath.Vector3(0, 0, 0), XT.GetBool(Vars.ShowIncompleteGame) && (this.portraitScrollValues.lastPageExtraDrag = new UHTMath.Vector3(0, -1450, 0)), (XT.GetBool(Vars.Jurisdiction_Show_X_Chance) || XT.GetBool("Jurisdiction_Show_NOK_Chance")) && (this.portraitScrollValues.topPageExtraOffset.y -= 300, this.portraitScrollValues.bottomPageExtraOffset.y -= 299, this.portraitScrollValues.lastPageExtraDrag.y += 300), this.portraitScrollValues.scrollWheelMovement = new UHTMath.Vector3(0, 23.85, 0), this.InitPageFlipper(this.portraitPageFlipper, this.portraitDragObject, this.portraitScrollValues)))
    }
}, Paytable_mobile.prototype.InitPageFlipper = function (t, e, i) {
    var n = UHTMath.Vector3;
    t.isFlippingEnabled = !1, Globals.isMini || t.transform.localScale(new n(.93, .93, 1)), e.movement = new n(0, 1, 0), e.target = t.transform, e.cachedCamera = null, e.limitPosition = !0;
    var o = e.target.localPosition();
    e.localPositionLimitMin = n.add(o, i.firstPageExtraDrag), e.localPositionLimitMax = n.add(o, n.add(i.lastPageExtraDrag, n.scale(n.scale(n.scale(i.pagesOffset, -1), e.target.localScale()), t.topPages.length - 1))), e.useScrollWheel = !0, e.scrollWheelMovement = this.transform.transformPoint(i.scrollWheelMovement);
    for (var s = t.topPages[0].localPosition(), a = 0; a < t.topPages.length; ++a) t.topPages[a].gameObject.SetActive(!0), t.topPages[a].localPosition(n.add(n.add(s, i.topPageExtraOffset), n.scale(i.pagesOffset, a))), t.bottomPages[a].gameObject.SetActive(!0), t.bottomPages[a].localPosition(n.add(n.add(s, i.bottomPageExtraOffset), n.scale(i.pagesOffset, a)));
    var r = t.GetComponent(Collider);
    r.size = new n(r.size.x, Math.abs(i.pagesOffset.y) * t.topPages.length, r.size.z), r.center = new n(r.center.x, i.pagesOffset.y / 2 * (t.topPages.length - 1), r.center.z);
    var l = t.transform.Find("middleLine").gameObject;
    null != l && l.SetActive(!1);
    for (var u = 0; u < t.topPages.length; ++u) t.topPages[u].Find("Content/Background").gameObject.SetActive(!1);
    for (u = 0; u < t.bottomPages.length; ++u) t.bottomPages[u].Find("Content/Background").gameObject.SetActive(!1)
}, Paytable_mobile.prototype.UpdateZOrder = function () {
    for (var t = this.GetComponentsInChildren(Collider, !0), e = 0; e < t.length; ++e) {
        var i = t[e].transform.localPosition();
        t[e].transform.localPosition(new UHTMath.Vector3(i.x, i.y, 0)), null == t[e].GetComponent(Paytable_mobile) && null == t[e].GetComponent(PageFlipper) || (t[e].enabled = !1)
    }
}, Paytable_mobile.prototype.OnShowGameHelp = function () {
    XT.TriggerEvent(Vars.Evt_Internal_PaytableOpen);
    var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_1),
        e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.InterfaceControllerMobile_2);
    if (t.length > 0 && t[0].Pressed_Paytable_Open(), e.length > 0 && e[0].Pressed_Paytable_Open(), t.length > 0)
        if (Globals.isMobile) {
            if (this.landscapePageFlipper.topPages.length > 3) {
                var i = 1591 + this.landscapeScrollValues.lastPageExtraDrag.y;
                this.landscapeDragObject.gameObject.transform.localPosition(0, this.landscapeDragObject.localPositionLimitMax.y - i, 0)
            }
        } else this.miniPageFlipper.topPages.length > 3 && this.miniDragObject.gameObject.transform.localPosition(0, this.miniDragObject.localPositionLimitMax.y - 5949, 0);
    if (e.length > 0 && this.portraitPageFlipper.topPages.length > 3) {
        i = 4411 + this.portraitScrollValues.lastPageExtraDrag.y;
        this.portraitDragObject.gameObject.transform.localPosition(0, this.portraitDragObject.localPositionLimitMax.y - i, 0)
    }
}, goog.require("UHT.ArrangeableBase"), MiniPaytableScrollbar.prototype = Object.create(ArrangeableBase.prototype), MiniPaytableScrollbar.prototype.constructor = MiniPaytableScrollbar, MiniPaytableScrollbar.scrollStatic = 0, MiniPaytableScrollbar.prototype.XTRegisterCallbacks = function () {
    if (ArrangeableBase.prototype.XTRegisterCallbacks.call(this), !this.isSimpleScrollbar && (XT.RegisterCallbackObject(Vars.MobilePaytableObject, this.OnMobilePaytableChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen, this.OnPressedPaytableOpen, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose, this.OnPressedPaytableClose, this), Globals.isMini)) {
        var t = this.gameObject.GetComponent(UIPanel);
        null != t && (t.depth = 69)
    }
}, MiniPaytableScrollbar.prototype.OnMobilePaytableChanged = function (t) {
    if (this.mobilePaytable = t, null != this.autoplayPaths && this.autoplayPaths.length > 0) {
        for (var e = globalRuntime.sceneRoots, i = 0, n = 0; n < e.length; ++n)
            for (var o = 0; o < this.autoplayPaths.length; ++o) null != e[n].transform.Find(this.autoplayPaths[o]) && i++;
        this.mobilePaytable.hasAutoplayPages = this.autoplayPaths.length == i
    }
    this.updatePaytableLayer && Globals.SetLayerRecursively(this.mobilePaytable.gameObject, this.paytableLayer.value());
    var s = this.mobilePaytable.GetComponentsInChildren(Collider, !0),
        a = 0;
    for (o = 0; o < s.length; ++o) {
        var r = this.transform.inverseTransformPoint(s[o].transform.position()).z + s[o].center.z;
        (0 == o || r < a) && (a = r)
    }
    if (a <= 0) {
        var l = this.transform.localPosition();
        this.transform.localPosition(new UHTMath.Vector3(l.x, l.y, l.z + a - 10))
    }
    if (Globals.isMini) {
        var u = this.mobilePaytable.GetComponentsInChildren(PageFlipper, !0);
        for (o = 0; o < u.length; ++o) {
            var h = u[o].GetComponent(ArrangeableActive);
            if (null != h && !h.activeInLandscape) {
                var c = Math.max(u[o].flippingPanelDepth, u[o].staticPanelDepth);
                this.blackBandsPanel.depth <= c && (this.blackBandsPanel.depth = c + 1)
            }
        }
    } else {
        var p = this.blackBandsPanel.depth;
        for (u = this.mobilePaytable.GetComponentsInChildren(PageFlipper, !0), o = 0; o < u.length; ++o) {
            var d = Math.max(u[o].flippingPanelDepth, u[o].staticPanelDepth);
            d > p && (p = d)
        }
        var m = this.mobilePaytable.GetComponentsInChildren(UIPanel, !0);
        for (o = 0; o < m.length; ++o) m[o].depth > p && (p = m[o].depth);
        this.blackBandsPanel.depth <= p && (this.blackBandsPanel.depth = p + 1)
    }
}, MiniPaytableScrollbar.prototype.OnPressedPaytableOpen = function () {
    this.gameObject.SetActive(!0)
}, MiniPaytableScrollbar.prototype.OnPressedPaytableClose = function () {
    this.gameObject.SetActive(!1)
}, MiniPaytableScrollbar.prototype.LateUpdate = function () {
    if (this.isEnabled) {
        var t = this.GetDragObject(),
            e = this.scrollbarThumbDragObject;
        if (!this.isInit) {
            if (this.isSimpleScrollbar) t.limitPosition = !0, t.localPositionLimitMin = this.simpleLocalPositionLimitMin, t.localPositionLimitMax = this.simpleLocalPositionLimitMax, t.useScrollWheel = this.simpleUseScrollWheel, t.scrollWheelMovement = this.transform.transformVector(this.simpleScrollWheelMovement);
            else {
                var i = this.GetPageFlipper();
                if (null == i) return;
                this.scrollbarThumb.height = this.scrollbar.height * this.visiblePartOfPage / (2 * i.topPages.length), null != this.colliderProxy && this.colliderProxy.boxColliders.push(t.GetComponent(Collider))
            }
            e.limitPosition = !0, e.localPositionLimitMin = new UHTMath.Vector3(0, -(this.scrollbar.height - this.scrollbarThumb.height), 0), e.localPositionLimitMax = UHTMath.Vector3.zero, this.isInit = !0
        }
        var n = t.target.localPosition(),
            o = e.target.localPosition(),
            s = this.GetScroll(),
            a = s;
        null != this.prevPaytablePos && n.equals(this.prevPaytablePos) ? o.equals(this.prevThumbPos) ? this.isInertia ? (this.inertiaTime > this.inertiaCurve.keys[this.inertiaCurve.keys.length - 1].time && (this.isInertia = !1, this.scrollDelta = 0), this.isInertia && (s += this.inertiaCurve.Evaluate(this.inertiaTime) * this.scrollDelta, s = UHTMath.clamp(s, 0, 1), n = UHTMath.Vector3.lerp(t.localPositionLimitMin, t.localPositionLimitMax, s), t.target.position(t.target.parent.transformPoint(n)), o = UHTMath.Vector3.lerp(e.localPositionLimitMax, e.localPositionLimitMin, s), e.target.position(e.target.parent.transformPoint(o)), this.inertiaTime += Time.deltaTime)) : this.scrollDelta = 0 : (s = this.GetAxisValue(UHTMath.Vector3.sub(o, e.localPositionLimitMax)) / this.GetAxisValue(UHTMath.Vector3.sub(e.localPositionLimitMin, e.localPositionLimitMax)), this.scrollDelta = s - a, n = UHTMath.Vector3.lerp(t.localPositionLimitMin, t.localPositionLimitMax, s), t.target.position(t.target.parent.transformPoint(n))) : (s = this.GetAxisValue(UHTMath.Vector3.sub(n, t.localPositionLimitMin)) / this.GetAxisValue(UHTMath.Vector3.sub(t.localPositionLimitMax, t.localPositionLimitMin)), this.scrollDelta = s - a, o = UHTMath.Vector3.lerp(e.localPositionLimitMax, e.localPositionLimitMin, s), e.target.position(e.target.parent.transformPoint(o))), this.prevThumbPos = o, this.prevPaytablePos = n, this.SetScroll(s)
    }
}, MiniPaytableScrollbar.prototype.ScrollbarClicked = function () {
    null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
    var t = this.GetDragObject(),
        e = this.scrollbarThumbDragObject,
        i = this.cachedCamera.ScreenToWorldPoint(Input.mousePosition),
        n = e.target.position();
    t.ScrollWheel(this.GetAxisValue(i) < this.GetAxisValue(n) ? 1 : -1)
}, MiniPaytableScrollbar.prototype.GetPageFlipper = function () {
    return Globals.isMini ? this.mobilePaytable.miniPageFlipper : this.activeInPortrait ? this.mobilePaytable.portraitPageFlipper : this.mobilePaytable.landscapePageFlipper
}, MiniPaytableScrollbar.prototype.GetDragObject = function () {
    return this.isSimpleScrollbar ? this.simpleDragObject : Globals.isMini ? this.mobilePaytable.miniDragObject : this.activeInPortrait ? this.mobilePaytable.portraitDragObject : this.mobilePaytable.landscapeDragObject
}, MiniPaytableScrollbar.prototype.OnSwitchToPortrait = function () {
    Globals.isMini || (this.isEnabled = this.activeInPortrait, this.OnLayoutChanged())
}, MiniPaytableScrollbar.prototype.OnSwitchToLandscape = function () {
    Globals.isMini || (this.isEnabled = !this.activeInPortrait, this.OnLayoutChanged())
}, MiniPaytableScrollbar.prototype.OnLayoutChanged = function () {
    if (this.isEnabled && this.gameObject.activeInHierarchy) {
        this.isInertia = !1;
        var t = this.GetDragObject(),
            e = UHTMath.Vector3.lerp(t.localPositionLimitMin, t.localPositionLimitMax, this.GetScroll());
        t.target.position(t.target.parent.transformPoint(e))
    }
}, MiniPaytableScrollbar.prototype.OnColliderReleased = function () {
    this.isEnabled && this.hasInertia && 0 != this.scrollDelta && (this.inertiaTime = 0, this.isInertia = !0)
}, MiniPaytableScrollbar.prototype.OnColliderPressed = function () {
    this.isEnabled && this.hasInertia && (this.isInertia = !1, this.scrollDelta = 0)
}, MiniPaytableScrollbar.prototype.SetScroll = function (t) {
    this.useStaticScroll ? MiniPaytableScrollbar.scrollStatic = t : this.scrollNonStatic = t
}, MiniPaytableScrollbar.prototype.GetScroll = function () {
    return this.useStaticScroll ? MiniPaytableScrollbar.scrollStatic : this.scrollNonStatic
}, MiniPaytableScrollbar.prototype.GetAxisValue = function (t) {
    return this.useYAxis ? t.y : t.x
}, goog.require("UHT.XTLink"), PaytableArranger.prototype = Object.create(XTLink.prototype), PaytableArranger.prototype.constructor = PaytableArranger, PaytableArranger.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.MobilePaytableObject, this.OnPaytableChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen, this.OnPressedPaytableOpen, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose, this.OnPressedPaytableClose, this)
}, PaytableArranger.prototype.OnPaytableChanged = function (t) {
    this.updatePaytablePosition && t.transform.localPosition(this.paytableLocalPosition);
    var e = t.transform.Find("Background");
    null != e && e.gameObject.SetActive(!1);
    for (var i = t.GetComponentsInChildren(Collider, !0), n = 0, o = 0, s = 0; s < i.length; ++s) {
        var a = i[s].transform.position(),
            r = this.zOrderNearer.inverseTransformPoint(a).z + i[s].center.z;
        (0 == s || r < n) && (n = r), r = this.zOrderFarther.inverseTransformPoint(a).z + i[s].center.z, (0 == s || r > o) && (o = r)
    }
    var l = this.zOrderNearer.localPosition();
    this.zOrderNearer.localPosition(new UHTMath.Vector3(l.x, l.y, n - 1)), l = this.zOrderFarther.localPosition(), this.zOrderFarther.localPosition(new UHTMath.Vector3(l.x, l.y, o + 1));
    var u = this.panelUnder.depth,
        h = this.panelOver.depth,
        c = t.GetComponentsInChildren(UIPanel, !0);
    for (s = 0; s < c.length; ++s) c[s].depth > h && (h = c[s].depth), c[s].depth < u && (u = c[s].depth);
    this.panelOver.depth <= h && (this.panelOver.depth = h + 1), this.panelUnder.depth >= u && (this.panelUnder.depth = u - 1), this.updatePaytableLayer && Globals.SetLayerRecursively(t.gameObject, this.paytableLayer.value())
}, PaytableArranger.prototype.OnPressedPaytableOpen = function () {
    this.gameObject.SetActive(!0)
}, PaytableArranger.prototype.OnPressedPaytableClose = function () {
    this.gameObject.SetActive(!1)
}, goog.require("UHT.Engine"), CATContentLooper.prototype = Object.create(Component.prototype), CATContentLooper.prototype.constructor = CATContentLooper, CATContentLooper.prototype.SwitchTo = function (t) {
    t = _number.otoi(t), t %= this.show.length, this.index != t && (this.Hide(), this.InternalShow(t))
}, CATContentLooper.prototype.Awake = function () {
    this.ignoreFirstShow || (this.isHidden = !0)
}, CATContentLooper.prototype.Update = function () {
    this.internalIsLooping && (this.time += Time.deltaTime, this.time > this.duration[this.index] && this.SwitchTo(this.index + 1))
}, CATContentLooper.prototype.OnEnable = function () {
    this.playAutomatically && this.StartLooping()
}, CATContentLooper.prototype.StartLooping = function () {
    this.isHidden && this.InternalShow(this.resetOnStart ? 0 : this.index), this.internalIsLooping = this.isLooping
}, CATContentLooper.prototype.StopLooping = function () {
    this.Hide(), this.internalIsLooping = !1
}, CATContentLooper.prototype.InternalShow = function (t) {
    this.index = t, this.Show()
}, CATContentLooper.prototype.Show = function () {
    this.show[this.index].IsRunning() && this.show[this.index].Stop(), this.show[this.index].Start(), this.isHidden = !1, this.time = 0
}, CATContentLooper.prototype.Hide = function () {
    this.hide[this.index].IsRunning() && this.hide[this.index].Stop(), this.hide[this.index].Start(), this.isHidden = !0
}, CATContentLooper.prototype.ResetTime = function () {
    this.time = 0
}, CATContentLooper.prototype.SetLooping = function (t) {
    this.isLooping = t
}, goog.provide("UHT.FOXLink"), goog.require("UHT.XTLink");
var FOXVars = {
    FOX_Response: "FOX_Response",
    Evt_FOX_InitReceived: "Evt_FOX_InitReceived",
    Evt_FOX_SpinReceived: "Evt_FOX_SpinReceived",
    Evt_FOX_CollectReceived: "Evt_FOX_CollectReceived",
    Evt_FOX_InitBonusReceived: "Evt_FOX_InitBonusReceived",
    Evt_FOX_PickBonusReceived: "Evt_FOX_PickBonusReceived",
    Evt_FOX_BonusRespinReceived: "Evt_FOX_BonusRespinReceived",
    Evt_FOX_CollectBonusReceived: "Evt_FOX_CollectBonusReceived",
    Evt_FOX_GambleReceived: "Evt_FOX_GambleReceived",
    Evt_FOX_GambleCollectReceived: "Evt_FOX_GambleCollectReceived",
    Evt_FOX_JackpotCollectReceived: "Evt_FOX_JackpotCollectReceived",
    Evt_FOX_PlayJackpotReceived: "Evt_FOX_PlayJackpotReceived",
    Evt_FOX_PickFSOptionReceived: "Evt_FOX_PickFSOptionReceived",
    Evt_FOX_InitFSBGReceived: "Evt_FOX_InitFSBGReceived",
    Evt_FOX_PickFSBGReceived: "Evt_FOX_PickFSBGReceived",
    Evt_FOX_GetMysteryScatterReceived: "Evt_FOX_GetMysteryScatterReceived",
    Evt_FOX_AfterInitReceived: "Evt_FOX_AfterInitReceived",
    Evt_FOX_AfterSpinReceived: "Evt_FOX_AfterSpinReceived",
    Evt_FOX_AfterCollectReceived: "Evt_FOX_AfterCollectReceived",
    Evt_FOX_AfterInitBonusReceived: "Evt_FOX_AfterInitBonusReceived",
    Evt_FOX_AfterPickBonusReceived: "Evt_FOX_AfterPickBonusReceived",
    Evt_FOX_AfterBonusRespinReceived: "Evt_FOX_AfterBonusRespinReceived",
    Evt_FOX_AfterCollectBonusReceived: "Evt_FOX_AfterCollectBonusReceived",
    Evt_FOX_AfterGambleReceived: "Evt_FOX_AfterGambleReceived",
    Evt_FOX_AfterGambleCollectReceived: "Evt_FOX_AfterGambleCollectReceived",
    Evt_FOX_AfterJackpotCollectReceived: "Evt_FOX_AfterJackpotCollectReceived",
    Evt_FOX_AfterPlayJackpotReceived: "Evt_FOX_AfterPlayJackpotReceived",
    Evt_FOX_AfterPickFSOptionReceived: "Evt_FOX_AfterPickFSOptionReceived",
    Evt_FOX_AfterInitFSBGReceived: "Evt_FOX_AfterInitFSBGReceived",
    Evt_FOX_AfterPickFSBGReceived: "Evt_FOX_AfterPickFSBGReceived",
    Evt_FOX_AfterGetMysteryScatterReceived: "Evt_FOX_AfterGetMysteryScatterReceived",
    Evt_FOX_TriggerAfterEvent: "Evt_FOX_TriggerAfterEvent"
};

function FOXLink() {
    XTLink.call(this), this.afterResponseProcessed = !1, this.priority = 0
}

function TournamentConnectionXTLayer() {
    FOXLink.call(this), this.connection = null, this.isFirstResult = !0, this.useResultDisplayerDoLoop = !0, this.isPrizeDrop = !1
}

function TournamentPointsNotification() {
    FOXLink.call(this), this.notificationQueue = [], this.canShowNextNotification = !0, this.notificationIsShowing = !1, this.landscapeNotificationMessage = null, this.portraitNotificationMessage = null, this.localizedLabels = [], this.showNotification = null, this.minimise = null, this.minimisedNotification = null, this.isMinimised = !1, this.lastNotification = null
}
FOXLink.prototype = Object.create(XTLink.prototype), FOXLink.prototype.constructor = FOXLink, FOXLink.prototype.XTRegisterCallbacks = function () {
    this.afterResponseProcessed ? (XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterInitReceived, this.OnInitReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterSpinReceived, this.OnSpinReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterCollectReceived, this.OnCollectReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterInitBonusReceived, this.OnInitBonusReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterPickBonusReceived, this.OnPickBonusReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterBonusRespinReceived, this.OnBonusRespinReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterCollectBonusReceived, this.OnCollectBonusReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterGambleReceived, this.OnGambleReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterGambleCollectReceived, this.OnGambleCollectReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterJackpotCollectReceived, this.OnJackpotCollectReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterPickFSOptionReceived, this.OnPickFSOptionReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterInitFSBGReceived, this.OnInitFSBGReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterPickFSBGReceived, this.OnPickFSBGReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_AfterGetMysteryScatterReceived, this.OnGetMysteryScatterReceived, this, this.priority)) : (XT.RegisterCallbackEvent(FOXVars.Evt_FOX_InitReceived, this.OnInitReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_SpinReceived, this.OnSpinReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_CollectReceived, this.OnCollectReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_InitBonusReceived, this.OnInitBonusReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_PickBonusReceived, this.OnPickBonusReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_BonusRespinReceived, this.OnBonusRespinReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_CollectBonusReceived, this.OnCollectBonusReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_GambleReceived, this.OnGambleReceived, this), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_GambleCollectReceived, this.OnGambleCollectReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_JackpotCollectReceived, this.OnJackpotCollectReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_PickFSOptionReceived, this.OnPickFSOptionReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_InitFSBGReceived, this.OnInitFSBGReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_PickFSBGReceived, this.OnPickFSBGReceived, this, this.priority), XT.RegisterCallbackEvent(FOXVars.Evt_FOX_GetMysteryScatterReceived, this.OnGetMysteryScatterReceived, this, this.priority))
}, FOXLink.prototype.GetResponse = function () {
    return XT.GetObject(FOXVars.FOX_Response)
}, FOXLink.prototype.OnInitReceived = function () {
    this.HandleInitResponse(this.GetResponse())
}, FOXLink.prototype.OnSpinReceived = function () {
    this.HandleSpinResponse(this.GetResponse())
}, FOXLink.prototype.OnCollectReceived = function () {
    this.HandleCollectResponse(this.GetResponse())
}, FOXLink.prototype.OnInitBonusReceived = function () {
    this.HandleInitBonusResponse(this.GetResponse())
}, FOXLink.prototype.OnPickBonusReceived = function () {
    this.HandlePickBonusResponse(this.GetResponse())
}, FOXLink.prototype.OnBonusRespinReceived = function () {
    this.HandleBonusRespinResponse(this.GetResponse())
}, FOXLink.prototype.OnCollectBonusReceived = function () {
    this.HandleBonusCollectResponse(this.GetResponse())
}, FOXLink.prototype.OnGambleReceived = function () {
    this.HandleGambleResponse(this.GetResponse())
}, FOXLink.prototype.OnGambleCollectReceived = function () {
    this.HandleGambleCollectResponse(this.GetResponse())
}, FOXLink.prototype.OnJackpotCollectReceived = function () {
    this.HandleJackpotCollectResponse(this.GetResponse())
}, FOXLink.prototype.OnPickFSOptionReceived = function () {
    this.HandlePickFSOptionResponse(this.GetResponse())
}, FOXLink.prototype.OnInitFSBGReceived = function () {
    this.HandleInitFSBGResponse(this.GetResponse())
}, FOXLink.prototype.OnPickFSBGReceived = function () {
    this.HandlePickFSBGResponse(this.GetResponse())
}, FOXLink.prototype.OnGetMysteryScatterReceived = function () {
    this.HandleGetMysteryScatterResponse(this.GetResponse())
}, FOXLink.prototype.HandleInitResponse = function (t) {}, FOXLink.prototype.HandleSpinResponse = function (t) {}, FOXLink.prototype.HandleCollectResponse = function (t) {}, FOXLink.prototype.HandleInitBonusResponse = function (t) {}, FOXLink.prototype.HandlePickBonusResponse = function (t) {}, FOXLink.prototype.HandleBonusRespinResponse = function (t) {}, FOXLink.prototype.HandleBonusCollectResponse = function (t) {}, FOXLink.prototype.HandleGambleResponse = function (t) {}, FOXLink.prototype.HandleGambleCollectResponse = function (t) {}, FOXLink.prototype.HandleJackpotCollectResponse = function (t) {}, FOXLink.prototype.HandlePickFSOptionResponse = function (t) {}, FOXLink.prototype.HandleInitFSBGResponse = function (t) {}, FOXLink.prototype.HandlePickFSBGResponse = function (t) {}, FOXLink.prototype.HandleGetMysteryScatterResponse = function (t) {}, goog.require("UHT.FOXLink"), goog.require("UHT.TournamentConnection"), TournamentConnectionXTLayer.prototype = Object.create(FOXLink.prototype), TournamentConnectionXTLayer.prototype.constructor = TournamentConnectionXTLayer, TournamentConnectionXTLayer.prototype.XTRegisterCallbacks = function () {
    FOXLink.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_Prepare, this.OnResultDisplayerPrepare, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop, this.OnResultDisplayerDoLoop, this), XT.RegisterCallbackBool(Vars.LastWinIsCounting, this.OnLastWinIsCountingChanged, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_WinShown, this.OnPromotionWinShown, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsOpen, this.OnPromotionsOpen, this), XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsClosed, this.OnPromotionsClosed, this), XT.RegisterCallbackEvent(TournamentVars.Evt_DataToCode_LeaderboardOpen, this.OnLeaderboardOpen, this), XT.RegisterCallbackEvent(TournamentVars.Evt_DataToCode_LeaderboardClosed, this.OnLeaderboardClosed, this), XT.RegisterCallbackString(TournamentVars.SelectedTournamentID, this.OnSelectedTournamentIDChanged, this)
}, TournamentConnectionXTLayer.prototype.XTInitVariablesAndEvents = function () {
    XT.SetString(TournamentVars.Promotion_WinID, ""), XT.SetDouble(TournamentVars.Promotion_WinReceived, 0), XT.SetString(TournamentVars.Promotion_GiftReceived, ""), XT.SetDouble(TournamentVars.PrizeDropWin_Bet, 0), XT.SetInt(TournamentVars.PrizeDropWin_BetMultiplier, 0), XT.SetInt(TournamentVars.PrizeDropWin_PrizeType, TournamentProtocol.PrizeType.Invalid), XT.SetBool(TournamentVars.PrizeDropManuallyCredited, !1), XT.SetBool(TournamentVars.TournamentEnforced_Jurisdiction_TournamentOptOut, !1), XT.SetString(TournamentVars.PrizeDropWin_FreeRoundsType, "N"), XT.SetBool(TournamentVars.PromotionsInOtherGamesArePresent, !1), XT.SetBool(TournamentVars.DisplayingPromotionsInOtherGames, !1), this.SetTournaments(null)
}, TournamentConnectionXTLayer.prototype.OnGameInit = function () {
    UHT_GAME_CONFIG.demoMode || (this.connection = new TournamentConnection, this.connection.xtLayer = this)
}, TournamentConnectionXTLayer.prototype.OnResultDisplayerPrepare = function () {
    null != this.connection && (this.isPrizeDrop && XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_PrepareForWin), this.connection.hasUpdates && (this.useResultDisplayerDoLoop = !1, XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Prepare)), this.UpdatePromotions(), this.isFirstResult && (this.isFirstResult = !1, this.OnLastWinIsCountingChanged(XT.GetBool(Vars.LastWinIsCounting))))
}, TournamentConnectionXTLayer.prototype.OnResultDisplayerDoLoop = function () {
    this.useResultDisplayerDoLoop && null != this.connection && this.connection.hasUpdates && this.OnResultDisplayerPrepare()
}, TournamentConnectionXTLayer.prototype.OnLastWinIsCountingChanged = function (t) {}, TournamentConnectionXTLayer.prototype.UpdatePromotions = function () {
    this.isPrizeDrop ? XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_ShowWin) : this.connection.canUpdate = !0
}, TournamentConnectionXTLayer.prototype.OnPromotionWinShown = function () {
    this.connection.canUpdate = !0, this.isPrizeDrop = !1
}, TournamentConnectionXTLayer.prototype.Update = function () {
    null != this.connection && this.connection.Update()
}, TournamentConnectionXTLayer.prototype.SetServerTime = function (t) {
    XT.SetInt(TournamentVars.ServerTime, t)
}, TournamentConnectionXTLayer.prototype.SetTournaments = function (t) {
    XT.SetObject(TournamentVars.Tournaments, t), XT.TriggerEvent(TournamentVars.Evt_Internal_TournamentsUpdated)
}, TournamentConnectionXTLayer.prototype.SetDetails = function (t) {
    XT.SetObject(TournamentVars.TournamentDetails, t)
}, TournamentConnectionXTLayer.prototype.SetLeaderboards = function (t) {
    XT.SetObject(TournamentVars.TournamentLeaderboards, t)
}, TournamentConnectionXTLayer.prototype.AnnouncePromotions = function () {
    XT.TriggerEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Announce)
}, TournamentConnectionXTLayer.prototype.HandleSpinResponse = function (t) {
    this.isPrizeDrop = !1;
    var e = "",
        i = 0,
        n = "",
        o = 0,
        s = 0,
        a = TournamentProtocol.PrizeType.Invalid,
        r = "N",
        l = -1;
    if (null != t.ev) {
        var u = t.ev.split("~");
        if (u.length > 1 && "MR" == u[0] && (u = u[1].split(",")).length > 1) {
            var h = PromotionsHelper.GetUID(_number.otoi(u[0]), TournamentProtocol.PromoType.Race),
                c = PromotionsHelper.FindPromotion(h);
            null != c && c.clientMode == TournamentProtocol.ClientMode.Visible && ("A" == u[1] ? i = _number.otod(u[2]) : "G" == u[1] ? n = decodeURIComponent(atob(u[2]).split("").map((function (t) {
                return "%" + ("00" + t.charCodeAt(0).toString(16)).slice(-2)
            })).join("")) : "BM" == u[1] ? (i = _number.otod(u[2]), o = _number.otod(u[3]), s = _number.otoi(u[4])) : "FR" == u[1] && (r = u[3], o = _number.otod(u[2]), l = _number.otoi(u[4])), e = h, this.isPrizeDrop = !0, this.connection.racePrizesTimer = this.connection.reloadRacePrizesInterval, this.connection.raceWinnersTimer = this.connection.reloadRaceWinnersInterval, a = TournamentProtocol.PrizeTypeConverter.Convert(u[1]))
        }
    }
    XT.SetString(TournamentVars.Promotion_WinID, e), XT.SetDouble(TournamentVars.Promotion_WinReceived, i), XT.SetString(TournamentVars.Promotion_GiftReceived, n), XT.SetDouble(TournamentVars.PrizeDropWin_Bet, o), XT.SetInt(TournamentVars.PrizeDropWin_BetMultiplier, s), XT.SetInt(TournamentVars.PrizeDropWin_PrizeType, a), XT.SetString(TournamentVars.PrizeDropWin_FreeRoundsType, r), XT.SetInt(TournamentVars.PrizeDropWin_FreeRoundsAmount, l)
}, TournamentConnectionXTLayer.prototype.OnPromotionsOpen = function () {
    this.connection.PromotionsOpen(), this.connection.SelectedTournamentIDChanged(XT.GetString(TournamentVars.SelectedTournamentID))
}, TournamentConnectionXTLayer.prototype.OnPromotionsClosed = function () {
    this.connection.PromotionsClosed()
}, TournamentConnectionXTLayer.prototype.OnLeaderboardOpen = function () {
    this.connection.LeaderboardOpen()
}, TournamentConnectionXTLayer.prototype.OnLeaderboardClosed = function () {
    this.connection.LeaderboardClosed()
}, TournamentConnectionXTLayer.prototype.OnSelectedTournamentIDChanged = function (t) {
    null != this.connection && this.connection.SelectedTournamentIDChanged(t)
}, goog.require("UHT.FOXLink"), TournamentPointsNotification.prototype = Object.create(FOXLink.prototype), TournamentPointsNotification.prototype.constructor = TournamentPointsNotification;
var TournamentPointsVars = {
    ShowTournamentPointsNotification: "ShowTournamentPointsNotification"
};
TournamentPointsNotification.TournamentGeneralPoints = function () {
    this.tournamentId = -1, this.winMultiplier = -1, this.consecutiveWinsCounter = -1, this.consecutiveWinsScore = -1, this.consecutiveLossesCounter = -1, this.consecutiveLossesScore = -1
}, TournamentPointsNotification.prototype.XTRegisterCallbacks = function () {
    ServerOptions.isReplay || (FOXLink.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent("ShowTournamentPointsNotification", this.OnShowNextNotification, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackBool(TournamentVars.DisplayingPromotionsInOtherGames, this.OnDisplayingPromotionsInOtherGames, this))
}, TournamentPointsNotification.prototype.XTInitVariablesAndEvents = function () {}, TournamentPointsNotification.prototype.Minimise = function () {
    this.isMinimised || (this.isMinimised = !0, this.minimise.Start(), this.notificationQueue = [], null != this.lastNotification && this.notificationQueue.push(this.lastNotification))
}, TournamentPointsNotification.prototype.Restore = function () {
    this.isMinimised && (this.isMinimised = !1)
}, TournamentPointsNotification.prototype.OnDisplayingPromotionsInOtherGames = function (t) {
    t && (this.canShowNextNotification = !1)
}, TournamentPointsNotification.prototype.OnSpinStarted = function () {
    XT.GetBool(TournamentVars.DisplayingPromotionsInOtherGames) || (this.canShowNextNotification = !1)
}, TournamentPointsNotification.prototype.OnShowNextNotification = function () {
    XT.GetBool(TournamentVars.DisplayingPromotionsInOtherGames) || (this.canShowNextNotification = !0)
}, TournamentPointsNotification.prototype.HandleInitResponse = function (t) {
    this.ParseTournamentGeneralPoints(t)
}, TournamentPointsNotification.prototype.HandleSpinResponse = function (t) {
    this.ParseTournamentGeneralPoints(t)
}, TournamentPointsNotification.prototype.HandleCollectResponse = function (t) {
    this.ParseTournamentGeneralPoints(t)
}, TournamentPointsNotification.prototype.ParseTournamentGeneralPoints = function (t) {
    if (null != t.tgp)
        for (var e = t.tgp.split(";"), i = 0; i < e.length; ++i) {
            var n = e[i].split("~"),
                o = new TournamentPointsNotification.TournamentGeneralPoints;
            if (n.length > 1) {
                o.tournamentId = _number.otoi(n[0]);
                var s = n[1].split(",");
                o.winMultiplier = _number.otoi(s[0]), o.consecutiveWinsCounter = _number.otoi(s[1]), o.consecutiveWinsScore = _number.otoi(s[2]), o.consecutiveLossesCounter = _number.otoi(s[3]), o.consecutiveLossesScore = _number.otoi(s[4]);
                var a = TournamentConnection.instance.FindPromoHolderInternal(o.tournamentId, TournamentProtocol.PromoType.Tournament);
                null != a && null != a.score && 1 == a.score.roundsOverLimit && (o.tournamentId = -1)
            }
            var r = this.GetTournamentName(o.tournamentId);
            if ("" != r) {
                if (o.winMultiplier > 0) {
                    var l = this.localizedLabels[0].text;
                    this.GenerateNotificationMessage(l, r, o.winMultiplier.toString())
                }
                if (o.consecutiveWinsScore > 0) {
                    l = this.localizedLabels[1].text;
                    this.GenerateNotificationMessage(l, r, o.consecutiveWinsScore.toString())
                }
                if (o.consecutiveLossesScore > 0) {
                    l = this.localizedLabels[2].text;
                    this.GenerateNotificationMessage(l, r, o.consecutiveLossesScore.toString())
                }
            }
        }
}, TournamentPointsNotification.prototype.GenerateNotificationMessage = function (t, e, i) {
    var n = e + "REPLACE_ME" + t.replace("{0}", i);
    this.isMinimised && (this.minimisedNotification.Start(), this.notificationQueue = []), this.notificationQueue.push(n), this.lastNotification = n
}, TournamentPointsNotification.prototype.GetTournamentName = function (t) {
    var e = XT.GetObject(TournamentVars.Tournaments);
    if (null != e)
        for (var i = 0; i < e.length; i++)
            if (e[i].id == t) return e[i].name;
    return ""
}, TournamentPointsNotification.prototype.SetNotificationState = function (t) {
    this.notificationIsShowing = t
}, TournamentPointsNotification.prototype.ShowNextNotification = function () {
    this.notificationQueue.length > 0 ? (null != this.landscapeNotificationMessage && (this.landscapeNotificationMessage.text = this.notificationQueue[0].replace("REPLACE_ME", " - ")), null != this.portraitNotificationMessage && (this.portraitNotificationMessage.text = this.notificationQueue[0].replace("REPLACE_ME", "\n")), this.notificationQueue.shift(), this.showNotification.IsRunning() && this.showNotification.Stop(), this.showNotification.Start()) : this.canShowNextNotification = !1
}, TournamentPointsNotification.prototype.Update = function () {
    this.canShowNextNotification && !this.notificationIsShowing && (this.isMinimised || this.ShowNextNotification())
};
var InterfaceVars = {
    IsMobileGUI: "IsMobileGUI",
    SelectedAutoSpinsIndex: "SelectedAutoSpinsIndex",
    SelectedAutoSpinsIndexAdvanced: "SelectedAutoSpinsIndexAdvanced",
    ExtraWinMultiplier: "ExtraWinMultiplier",
    PayingSymbolsDisplayServerID: "PayingSymbolsDisplayServerID",
    ShowInterfaceThumbnailsCount: "ShowInterfaceThumbnailsCount",
    GUIMessageZoneSettings: "GUIMessageZoneSettings",
    HasGUIMessageBeforeWinCount: "HasGUIMessageBeforeWinCount",
    GUIDynamicMessageDelay: "GUIDynamicMessageDelay",
    GUIMessage_RandomSpin: "GUIMessage_RandomSpin",
    GUIMessage_RandomResultTeaser: "GUIMessage_RandomResultTeaser",
    LastResultHasNoWin: "LastResultHasNoWin",
    FSWinIsCounting: "FSWinIsCounting",
    Evt_DataToCode_CloseAllInterfaceWindows: "Evt_DataToCode_CloseAllInterfaceWindows",
    Evt_CodeToData_InterfaceWindowOpen: "Evt_CodeToData_InterfaceWindowOpen",
    EnableSoundsWhenReady: "EnableSoundsWhenReady",
    GUIArrangerSettings: "GUIArrangerSettings",
    Evt_DataToCode_HidePortraitMiddleBar: "Evt_DataToCode_HidePortraitMiddleBar",
    Evt_DataToCode_ShowPortraitMiddleBar: "Evt_DataToCode_ShowPortraitMiddleBar",
    ShowCoinsAndCashHint: "ShowCoinsAndCashHint",
    ShowFastPlayHint: "ShowFastPlayHint",
    Evt_Internal_BlackBandsUpdated: "Evt_Internal_BlackBandsUpdated",
    Interface_UpdateMoveSourceComponents: "Interface_UpdateMoveSourceComponents",
    GameAnchors: "GameAnchors",
    SpinButtonPositionLandscape: "SpinButtonPositionLandscape",
    SpinButtonPositionPortrait: "SpinButtonPositionPortrait",
    SpinButtonPositionLocked: "SpinButtonPositionLocked",
    Evt_DataToCode_ToggleSpinButtonPositionLocked: "Evt_DataToCode_ToggleSpinButtonPositionLocked",
    LimitSpinButtonPositionByGameAnchors: "LimitSpinButtonPositionByGameAnchors",
    ShowGamePaysAsWinTeaser: "ShowGamePaysAsWinTeaser",
    CustomMessage: "CustomMessage",
    ShowCustomMessage: "ShowCustomMessage",
    HideCustomMessage: "HideCustomMessage",
    AllLinesMessageCustom: "AllLinesMessageCustom",
    AllLinesMessageCustomRule: "AllLinesMessageCustomRule",
    CustomFreeSpinsLeftMessage: "CustomFreeSpinsLeftMessage",
    CustomFreeSpinsLeft_UsesCATEvents: "CustomFreeSpinsLeft_UsesCATEvents",
    ShowExplicitResult: "ShowExplicitResult",
    BUY_BetController_visible: "BUY_BetController_visible",
    BUY_BetController_blocked: "BUY_BetController_blocked",
    BUY_BetController_canIncrease: "BUY_BetController_canIncrease",
    BUY_BetController_canDecrease: "BUY_BetController_canDecrease"
};

function TournamentSimpleOptIn() {
    XTLink.call(this), this.enableOptOut = null, this.disableOptOut = null, this.enableOptOutDDW = null, this.disableOptOutDDW = null, this.isMergedDDW = !1
}

function BlackBandsArranger() {
    XTLink.call(this), this.bands = null, this.isInit = !1
}
goog.require("UHT.Engine"), goog.require("UHT.XTLink"), TournamentSimpleOptIn.prototype = Object.create(XTLink.prototype), TournamentSimpleOptIn.prototype.constructor = TournamentSimpleOptIn, TournamentSimpleOptIn.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(TournamentVars.Evt_Internal_PromotionsAnnouncer_Announce, this.OnAnnounce, this, 1)
}, TournamentSimpleOptIn.prototype.OnAnnounce = function () {
    XT.GetBool(Vars.Jurisdiction_TournamentOptOut) || XT.GetBool(TournamentVars.TournamentEnforced_Jurisdiction_TournamentOptOut) ? this.isMergedDDW ? this.enableOptOutDDW.Start() : this.enableOptOut.Start() : this.isMergedDDW ? this.disableOptOutDDW.Start() : this.disableOptOut.Start()
}, goog.require("UHT.XTLink"), BlackBandsArranger.prototype = Object.create(XTLink.prototype), BlackBandsArranger.prototype.constructor = BlackBandsArranger, BlackBandsArranger.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(InterfaceVars.Evt_Internal_BlackBandsUpdated, this.OnBlackBandsUpdated, this)
}, BlackBandsArranger.prototype.OnBlackBandsUpdated = function (t) {
    this.isInit || (GUIArranger.InitBands(this.bands), this.isInit = !0), GUIArranger.UpdateBands(this.bands)
}, goog.require("UHT.FOXLink");
var GameInfoVars = {
    GameInfo: "GameInfo",
    Evt_Internal_GameInfoChanged: "Evt_Internal_GameInfoChanged"
};

function GameInfoFOX() {
    FOXLink.call(this)
}

function Variable() {
    this.type = VarType.XT_Int, this.variable = null, this.gameInfo_Name = "", this.gameInfo_Key = "", this.value = "", this.valid = !1, this.parent = null, this.isDisplayingCoins = !1, this.isDisplayingDecimals = !1, this.formatOptions = null, this.forceHasCoins = !1
}

function AddVariablesToText() {
    XTLink.call(this), this.baseLabel = null, this.initialString = null, this.someVariables = []
}
GameInfoFOX.prototype = Object.create(FOXLink.prototype), GameInfoFOX.prototype.constructor = GameInfoFOX, GameInfoFOX.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(GameInfoVars.GameInfo, null)
}, GameInfoFOX.prototype.HandleInitResponse = function (t) {
    var e = {};
    if (t.gameInfo && (e = JSON5.parse(t.gameInfo)), XT.GetBool(Vars.Jurisdiction_DisableAnteBet) && e.rtps && e.rtps.ante && delete e.rtps.ante, XT.GetBool(Vars.Jurisdiction_DisableBuyFeature) && e.rtps && e.rtps.purchase && delete e.rtps.purchase, null != e.rtps) {
        for (var i = Object.keys(e.rtps), n = [], o = 0; o < i.length; o++) n.push(parseFloat(e.rtps[i[o]]));
        n.length > 0 && (n.sort(), XT.SetDouble(Vars.ReturnToPlayer, n[n.length - 1]), n.length > 1 && XT.SetDouble(Vars.ReturnToPlayerMin, n[0]))
    }
    XT.SetObject(GameInfoVars.GameInfo, e), XT.TriggerEvent(GameInfoVars.Evt_Internal_GameInfoChanged)
}, goog.require("UHT.XTLink"), AddVariablesToText.prototype = Object.create(XTLink.prototype), AddVariablesToText.prototype.constructor = AddVariablesToText, Variable.prototype.OnTargetValueChangedInt = function (t) {
    this.value = t.toString(), this.valid = !0, this.parent.OnValuesUpdate()
}, Variable.prototype.OnTargetValueChangedFloat = function (t) {
    this.value = t.toString(), this.valid = !0, this.parent.OnValuesUpdate()
}, Variable.prototype.OnTargetValueChangedString = function (t) {
    this.value = t, this.valid = !_string.IsNullOrEmpty(t), this.parent.OnValuesUpdate()
}, Variable.prototype.OnLocaleChanged = function () {
    this.isDisplayingCoins && XT.GetBool(Vars.HasCoins) || (LocaleManager.ApplyFontToLabel(this.formatOptions.fontId, this.parent.baseLabel), this.parent.OnValuesUpdate())
}, Variable.prototype.OnCoinValueChanged = function () {
    this.isDisplayingCoins && XT.GetBool(Vars.HasCoins) && this.parent.OnValuesUpdate()
}, Variable.prototype.OnHasCoinsChanged = function () {
    this.parent.OnValuesUpdate()
}, Variable.prototype.OnGameInfoChanged = function () {
    var t = XT.GetObject(GameInfoVars.GameInfo);
    if (null != t && !_string.IsNullOrEmpty(this.gameInfo_Name)) {
        if (!t[this.gameInfo_Name]) return;
        if (!t[this.gameInfo_Name][this.gameInfo_Key]) return;
        this.value = t[this.gameInfo_Name][this.gameInfo_Key], this.valid = !0, this.parent.OnValuesUpdate()
    }
}, AddVariablesToText.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this);
    for (var t = 0; t < this.someVariables.length; t++) {
        switch (this.someVariables[t].parent = this, this.someVariables[t].type) {
            case VarType.XT_Int:
                XT.RegisterCallbackInt(this.someVariables[t].variable.name, this.someVariables[t].OnTargetValueChangedInt, this.someVariables[t]);
                break;
            case VarType.XT_Float:
                XT.RegisterCallbackFloat(this.someVariables[t].variable.name, this.someVariables[t].OnTargetValueChangedFloat, this.someVariables[t]);
                break;
            case VarType.XT_Double:
                XT.RegisterCallbackDouble(this.someVariables[t].variable.name, this.someVariables[t].OnTargetValueChangedFloat, this.someVariables[t]);
                break;
            case VarType.XT_String:
                XT.RegisterCallbackString(this.someVariables[t].variable.name, this.someVariables[t].OnTargetValueChangedString, this.someVariables[t]);
                break;
            case VarType.XT_GameInfo:
                XT.RegisterCallbackEvent(GameInfoVars.Evt_Internal_GameInfoChanged, this.someVariables[t].OnGameInfoChanged, this.someVariables[t]);
                break;
            default:
                break
        }
        XT.RegisterCallbackEvent(Vars.Evt_Internal_LocaleChanged, this.someVariables[t].OnLocaleChanged, this.someVariables[t]), XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinValueChanged, this.someVariables[t].OnCoinValueChanged, this.someVariables[t]), XT.RegisterCallbackBool(Vars.HasCoins, this.someVariables[t].OnHasCoinsChanged, this.someVariables[t])
    }
}, AddVariablesToText.prototype.OnGameInit = function () {
    this.initialString = this.baseLabel.text, this.OnValuesUpdate()
}, AddVariablesToText.prototype.OnValuesUpdate = function () {
    if (null != this.initialString) {
        this.baseLabel.text = this.initialString;
        for (var t = 0; t < this.someVariables.length; t++) {
            if (!this.someVariables[t].valid) return void(this.baseLabel.text = " ");
            var e;
            e = "{" + t.toString() + "}", this.someVariables[t].isDisplayingCoins && XT.GetBool(Vars.HasCoins) ? isNaN(this.someVariables[t].value) || (this.baseLabel.text = this.baseLabel.text.replace(e, "" + CoinManager.ConvertMoneyToCoins(parseFloat(this.someVariables[t].value)))) : this.someVariables[t].isDisplayingDecimals ? isNaN(this.someVariables[t].value) || (this.baseLabel.text = this.baseLabel.text.replace(e, "" + LocaleManager.FormatValue(parseFloat(this.someVariables[t].value), this.someVariables[t].formatOptions))) : this.baseLabel.text = this.baseLabel.text.replace(e, this.someVariables[t].value)
        }
    }
}, goog.require("UHT.Engine");
var BoxColliderAnchorPivot = {
    Left: 0,
    Center: 1,
    Right: 2
};

function BoxColliderAnchorToWidgets() {
    Component.call(this), this.boxCollider = null, this.labels = null, this.sprites = null, this.extraSizeLeft = 0, this.extraSizeRight = 0, this.pivot = BoxColliderAnchorPivot.Center, this.labelWidths = null, this.spriteWidths = null
}

function CustomNotificationButton() {
    Component.call(this), this.label = null, this.cachedCamera = null, this.handlers = null
}
BoxColliderAnchorToWidgets.prototype = Object.create(Component.prototype), BoxColliderAnchorToWidgets.prototype.constructor = BoxColliderAnchorToWidgets, BoxColliderAnchorToWidgets.prototype.Start = function () {
    this.labelWidths = [];
    for (var t = 0; t < this.labels.length; ++t) this.labelWidths.push(-1);
    this.spriteWidths = [];
    for (t = 0; t < this.sprites.length; ++t) this.spriteWidths.push(-1)
}, BoxColliderAnchorToWidgets.prototype.Update = function () {
    for (var t = !1, e = 0; e < this.labels.length; ++e)
        if (this.labels[e].GetWidth() != this.labelWidths[e]) {
            t = !0;
            break
        } for (e = 0; e < this.sprites.length; ++e)
        if (this.sprites[e].width != this.spriteWidths[e]) {
            t = !0;
            break
        } if (t) {
        var i = 0;
        for (e = 0; e < this.labels.length; ++e) {
            var n = this.labels[e].GetWidth();
            i += n, this.labelWidths[e] = n
        }
        for (e = 0; e < this.sprites.length; ++e) i += this.sprites[e].width, this.spriteWidths[e] = this.sprites[e].width;
        var o = .5 * i,
            s = .5 * (this.extraSizeRight - this.extraSizeLeft);
        this.pivot == BoxColliderAnchorPivot.Left ? s -= o : this.pivot == BoxColliderAnchorPivot.Right && (s += o), this.boxCollider.center = new UHTMath.Vector3(s, this.boxCollider.center.y, this.boxCollider.center.z), this.boxCollider.size = new UHTMath.Vector3(this.extraSizeLeft + i + this.extraSizeRight, this.boxCollider.size.y, this.boxCollider.size.z)
    }
}, goog.require("UHT.Engine"), CustomNotificationButton.prototype = Object.create(Component.prototype), CustomNotificationButton.prototype.constructor = CustomNotificationButton, CustomNotificationButton.touchEndFrame = 0, CustomNotificationButton.prototype.Awake = function () {
    globalColliderInputManager.addEventHandler(ColliderEvent.ButtonUp, new EventHandler(this, this.OnTouchEnd))
}, CustomNotificationButton.prototype.UpdateButton = function (t) {
    var e = null != t;
    e && (this.handlers = t.handlers, this.label.text = _string.IsNullOrEmpty(t.label) ? "" : t.label), this.gameObject.SetActive(e), this.label.gameObject.SetActive(e)
}, CustomNotificationButton.prototype.OnTouchEnd = function () {
    if (CustomNotificationButton.touchEndFrame != Time.frameCount && this.gameObject.activeInHierarchy && null != this.handlers) {
        null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject));
        var t = new LayerMask;
        if (t.mask = 1 << this.gameObject.layer, this.gameObject.collider == globalColliderInputManager.getHoveredCollider(this.cachedCamera.ScreenToWorldPoint(Input.mousePosition), t)) {
            for (var e = 0; e < this.handlers.length; ++e) this.handlers[e]();
            CustomNotificationButton.touchEndFrame = Time.frameCount
        }
    }
}, goog.require("UHT.XTLink");
var CustomNotificationVars = {
    CustomNotification: "CustomNotification",
    Evt_Internal_ShowIntrusiveNotification: "Evt_Internal_ShowIntrusiveNotification",
    Evt_Internal_HideIntrusiveNotification: "Evt_Internal_HideIntrusiveNotification",
    Evt_Internal_ShowNonIntrusiveNotification: "Evt_Internal_ShowNonIntrusiveNotification",
    Evt_Internal_HideNonIntrusiveNotification: "Evt_Internal_HideNonIntrusiveNotification"
};

function CustomNotificationParser() {
    TournamentRule.call(this)
}

function CustomNotificationButtonsGroup() {
    this.buttons = null
}

function CustomNotificationExtraLayout() {
    this.scrollableList = null, this.parser = null, this.title = null, this.buttons = null, this.buttonsCat = null, this.textAnimator = null, this.responsiveLinesCat = null
}

function CustomNotificationController() {
    XTLink.call(this), this.defaultDelay = 7, this.lineDelay = 1.5, this.showShort = null, this.showLong = null, this.expandLong = null, this.hide = null, this.scrollableList = null, this.autoClicker = null, this.parser = null, this.title = null, this.buttons = null, this.useButtonsGroups = !1, this.buttonsGroups = null, this.isIntrusive = !1, this.textAnimator = null, this.hasExtraLayout = !1, this.extraLayout = null, this.isResponsive = !1, this.responsiveLinesCat = null, this.responsiveButtonsCat = null, this.responsiveMaxLabelWidths = null, this.ellipsis = " ...", this.mustHide = !1, this.mustIgnoreInputBlocked = !1, this.cachedCamera = null, this.notification = null
}

function VS_Symbol() {
    Component.call(this), this.symbolId = 0, this.willHighlightOffAfterExciteWin = !0, this.eventNormal = null, this.eventSpinStart = null, this.eventSpinLoop = null, this.eventSpinStop = null, this.eventHighlightOff = null, this.eventHighlightOn = null, this.eventExcited = null, this.eventWinExcited = null, this.eventWinning = null, this.eventSpinLoopExcited = null, this.eventSpinLoopExcitedImportant = null, this.eventFSHighlightOff = null, this.eventStart = null, this.eventStop = null, this.currentStateForInspector = VS_Symbol.State.Invalid, this.internalState = VS_Symbol.State.Invalid, this.lastQueuedState = VS_Symbol.State.Invalid, this.commands = [], this.stopEventSent = !1, this.canProcessNextCommand = !0
}

function VS_SymbolsManager() {
    XTLink.call(this), this.SpecialLoopsManager = null, this.hasOnlyLoops = !1, this.pool = null, this.symbols = [], this.symbolIdToIndexMap = [], this.pooledSymbols = [], this.disablePoolNextFrame = !1, this.defaultBufferAmount = 10, this.currentInitSymbol = -1
}

function SymbolsManager_CheckAndSendTrackingInit() {
    VS_SymbolsManager.initializing + Special_SymbolsManager.initializing == 0 && globalTracking.StartTimer("uht_loading", "_X_symbolsManager_duration", "LoadingTracker")
}

function SymbolsManager_CheckAndSendTrackingEnd() {
    VS_SymbolsManager.initializing + Special_SymbolsManager.initializing == 0 && globalTracking.StopTimerAndSend("uht_loading", "_X_symbolsManager_duration", "LoadingTracker")
}

function SymbolSorterManager() {
    XTLink.call(this), this.sortOrder = SymbolSorterManager.SortOrder.topLeft, this.symbolHoldersOffset = 1, this.reelHolderOffset = 1, this.rm = null, this.vs = null, this.sps = null, this.newDepth = 0
}

function SymbolPanelSorter() {
    Component.call(this), this.startingDepth = 0, this.orderedPanels = null, this.sortingDepth = 0
}

function VS_ReelSymbolHolder() {
    XTLink.call(this), this.startAnimation = null, this.startAnimationFastPlay = null, this.loopAnimation = null, this.stopAnimation = null, this.stopAnimationFastPlay = null, this.positionInReel = 0, this.orderedSymbolIdx = 0, this.parentReel = null, this.currentSymbol = null, this.eventStartDelay = 0, this.eventStartDelayFastPlay = 0, this.eventStopDelay = 0, this.eventStopDelayFastPlay = 0, this.canFireStartEvent = !1, this.canFireStopEvent = !1, this.animationState = null, this.animationTime = 0, this.animationIsUpdated = !1, this.symbolIsLooper = !1, this.speed = 1, this.linkedLooper = null, this.linkedLooperShouldBeDiscarded = !1, this.linkedLooperOffsetY = 0, this.lastSymbolId = -1, this.rememberToChangeSymbolState = !1, this.usingFastStartAnimation = !1, this.usingFastStopAnimation = !1, this.state = VS_ReelSymbolHolder.State.IDLE, this.posLayer
}

function VS_Reel() {
    Component.call(this), this.reelsManager = null, this.symbolHolders = [], this.symbolLoopHolders = [], this.sortedSymbolHolders = [], this.replaceEmptySymbol = !1, this.emptySymbolReplacements = [], this.stopOffset = 1, this.spinInPlace = !1, this.useFastAnimationsInTurboSpin = !1, this.loopDelayAfterStart = 0, this.loopDelayAfterFastStart = 0, this.reelIndex = 0, this.isExcited = !1, this.ExcitedImportantSymbols = null, this.randomStop = !1, this.randomStopDelay = .25, this.lastPosLeftIdx = -1, this.mustStop = !1, this.stopIdx = 0, this.symbolList = [], this.stopPosition = 0, this.rememberedStopPosition = 0, this.currentPosition = 0, this.holdersSpinning = 0, this.internalCounterInPlace = 0, this.randomizedStopIdx = [], this.willRandomStopIdx = 0, this.randomStopTimer = 0, this.cs_stopCounter = 0, this.mustSortHolders = !1, this.lastSymbolEntered = -1, this.delayStopToAvoidStacks = ReelDelayStopType.NO, this.speedCurveTimer = 0, this.speedCurve = null, this.needToUpdateSymbolsDepth = !1, this.reelScreenSymbols = [], this.applySpinInPlaceExtraSettings = !1, this.lastLooperIndexForHolder = []
}
CustomNotificationParser.prototype = Object.create(TournamentRule.prototype), CustomNotificationParser.prototype.constructor = CustomNotificationParser, CustomNotificationController.prototype = Object.create(XTLink.prototype), CustomNotificationController.prototype.constructor = CustomNotificationController, CustomNotificationButtonsGroup.prototype.UpdateButtons = function (t) {
    if (null == t)
        for (var e = 0; e < this.buttons.length; ++e) this.buttons[e].UpdateButton(null);
    else
        for (e = 0; e < this.buttons.length; ++e) this.buttons[e].UpdateButton(t[e])
}, CustomNotificationController.prototype.XTRegisterCallbacks = function () {
    this.isIntrusive ? (XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowIntrusiveNotification, this.ShowNotification, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideIntrusiveNotification, this.HideNotification, this)) : (XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_ShowNonIntrusiveNotification, this.ShowNotification, this), XT.RegisterCallbackEvent(CustomNotificationVars.Evt_Internal_HideNonIntrusiveNotification, this.HideNotification, this))
}, CustomNotificationController.prototype.Update = function () {
    if (null != this.notification && (this.InternalShowNotification(), this.mustHide = !1, this.notification = null), this.mustHide && (this.mustHide = !1, this.hide.Start(), this.isIntrusive && (this.GetCamera().ignoreInputBlocked = !1), null != this.autoClicker && (this.autoClicker.enabled = !1)), this.mustIgnoreInputBlocked) {
        var t = this.GetCamera();
        null != t && (this.mustIgnoreInputBlocked = !1, t.ignoreInputBlocked = !0)
    }
}, CustomNotificationController.prototype.HideNotification = function () {
    this.mustHide = !0
}, CustomNotificationController.prototype.ShowNotification = function () {
    this.notification = XT.GetObject(CustomNotificationVars.CustomNotification)
}, CustomNotificationController.prototype.InternalShowNotification = function () {
    var t = 0;
    if (null != this.notification.buttons) {
        if (t = Math.min(this.useButtonsGroups ? this.buttonsGroups.length : this.buttons.length, this.notification.buttons.length), this.useButtonsGroups && t > 0) this.buttonsGroups[t - 1].UpdateButtons(this.notification.buttons);
        else
            for (var e = 0; e < t; ++e) this.buttons[e].UpdateButton(this.notification.buttons[e]);
        if (this.hasExtraLayout)
            for (e = 0; e < t; ++e) this.extraLayout.buttons[e].UpdateButton(this.notification.buttons[e])
    }
    var i = _string.IsNullOrEmpty(this.notification.title) ? "" : this.notification.title;
    if (this.hasExtraLayout) {
        this.extraLayout.title.text = i;
        for (e = t; e < this.extraLayout.buttons.length; ++e) this.extraLayout.buttons[e].UpdateButton(null);
        for (this.extraLayout.parser.rules = "", this.extraLayout.parser.UpdateRules(this.notification.text); !this.extraLayout.parser.isSplit;) this.extraLayout.parser.Split();
        this.extraLayout.scrollableList.SetValues(this.extraLayout.parser.splitRules), this.extraLayout.buttonsCat.StartEvent(t), this.extraLayout.textAnimator.Sample(this.extraLayout.parser.splitRules.length / this.extraLayout.parser.maxNumberOfLines), this.isResponsive && this.extraLayout.responsiveLinesCat.StartEvent(Math.min(this.extraLayout.parser.splitRules.length, this.extraLayout.parser.maxNumberOfLines))
    }
    if (this.useButtonsGroups) {
        for (e = 0; e < t - 1; ++e) this.buttonsGroups[e].UpdateButtons(null);
        for (e = t; e < this.buttonsGroups.length; ++e) this.buttonsGroups[e].UpdateButtons(null)
    } else
        for (e = t; e < this.buttons.length; ++e) this.buttons[e].UpdateButton(null);
    for (this.isResponsive && (this.parser.maxLabelWidth = this.responsiveMaxLabelWidths[t], this.title.width = this.responsiveMaxLabelWidths[t]), this.title.text = i, this.parser.rules = "", this.parser.UpdateRules(this.notification.text); !this.parser.isSplit;) this.parser.Split();
    var n = Math.min(this.showShort.length, this.parser.splitRules.length),
        o = [];
    for (e = 0; e < n; ++e) o.push(this.parser.splitRules[e]);
    var s = this.parser.splitRules.length > this.showShort.length;
    s && n > 0 && (o[n - 1] = this.GetTextWithEllipsis(o[n - 1])), this.UpdateAutoClickerDelay(this.defaultDelay), this.scrollableList.SetValues(o.length > 0 ? o : this.parser.splitRules), (s ? this.showLong : this.showShort[this.parser.splitRules.length - 1]).Start(), null != this.textAnimator && this.textAnimator.Sample(this.parser.splitRules.length / this.parser.maxNumberOfLines), this.isResponsive && (this.responsiveLinesCat.StartEvent(Math.min(this.parser.splitRules.length, this.parser.maxNumberOfLines)), this.responsiveButtonsCat.StartEvent(t)), this.isIntrusive && (this.mustIgnoreInputBlocked = !0)
}, CustomNotificationController.prototype.ShowMore = function () {
    this.UpdateAutoClickerDelay(Math.max(this.defaultDelay, this.lineDelay * this.parser.splitRules.length)), this.scrollableList.SetValues(this.parser.splitRules), this.expandLong[UHTMath.clamp(this.parser.splitRules.length - 1, 0, this.expandLong.length - 1)].Start()
}, CustomNotificationController.prototype.UpdateAutoClickerDelay = function (t) {
    null != this.autoClicker && (this.autoClicker.delay = t, this.autoClicker.delayInAutoplay = t, this.autoClicker.enabled = !0, this.autoClicker.gameObject.SetActive(!1), this.autoClicker.gameObject.SetActive(!0))
}, CustomNotificationController.prototype.GetTextWithEllipsis = function (t) {
    if (this.parser.sampleLabel.text = t + this.ellipsis, this.parser.sampleLabel.width <= this.parser.maxLabelWidth) return this.parser.sampleLabel.text;
    var e = t.split(" "),
        i = null;
    if (e.length > 1)
        for (var n = [], o = 0; o < e.length && (n.push(e[o]), this.parser.sampleLabel.text = n.join(" ") + this.ellipsis, !(this.parser.sampleLabel.width > this.parser.maxLabelWidth)); ++o) i = this.parser.sampleLabel.text;
    return null == i && (i = t.substr(0, t.length - this.ellipsis.length) + this.ellipsis), i
}, CustomNotificationController.prototype.CloseButtonClicked = function () {
    window.SystemMessageManager.CloseMessage()
}, CustomNotificationController.prototype.GetCamera = function () {
    return null == this.cachedCamera && (this.cachedCamera = Globals.GetCameraForObject(this.gameObject)), this.cachedCamera
}, goog.provide("UHT.VS_Symbol"), goog.require("UHT.Engine"), goog.require("UHT.CAT_Event"), VS_Symbol.prototype = Object.create(Component.prototype), VS_Symbol.prototype.constructor = VS_Symbol, VS_Symbol.State = {
    Invalid: 0,
    Normal: 1,
    HighlightOn: 2,
    HighlightOff: 3,
    SpinStart: 4,
    SpinLoop: 5,
    SpinStop: 6,
    Excited: 7,
    WinExcited: 8,
    SpinLoopExcited: 9,
    Winning: 10,
    FSHighlightOff: 11,
    SpinLoopExcitedImportant: 12
}, VS_Symbol.prototype.ChangeToState = function (t) {
    this.commands.push(t), this.lastQueuedState = t, this.ProcessCommands()
}, VS_Symbol.prototype.Start = function () {
    this.eventNormal.UnregisterCallback(this.Callback_EventEnded, this), this.eventHighlightOn.UnregisterCallback(this.Callback_EventEnded, this), this.eventHighlightOff.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinStart.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinLoop.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinStop.UnregisterCallback(this.Callback_EventEnded, this), this.eventExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventWinExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinLoopExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinLoopExcitedImportant.UnregisterCallback(this.Callback_EventEnded, this), this.eventWinning.UnregisterCallback(this.Callback_EventEnded, this), this.eventFSHighlightOff.UnregisterCallback(this.Callback_EventEnded, this), this.eventNormal.RegisterCallback(this.Callback_EventEnded, this), this.eventHighlightOn.RegisterCallback(this.Callback_EventEnded, this), this.eventHighlightOff.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinStart.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinLoop.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinStop.RegisterCallback(this.Callback_EventEnded, this), this.eventExcited.RegisterCallback(this.Callback_EventEnded, this), this.eventWinExcited.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinLoopExcited.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinLoopExcitedImportant.RegisterCallback(this.Callback_EventEnded, this), this.eventWinning.RegisterCallback(this.Callback_EventEnded, this), this.eventFSHighlightOff.RegisterCallback(this.Callback_EventEnded, this)
}, VS_Symbol.prototype.ProcessCommands = function () {
    if (this.commands.length > 0)
        if (this.canProcessNextCommand) {
            var t = this.commands[0];
            switch (this.commands.splice(0, 1), this.canProcessNextCommand = !1, t) {
                case VS_Symbol.State.Normal:
                    this.eventNormal.Start();
                    break;
                case VS_Symbol.State.HighlightOn:
                    this.eventHighlightOn.Start();
                    break;
                case VS_Symbol.State.HighlightOff:
                    this.eventHighlightOff.Start();
                    break;
                case VS_Symbol.State.SpinStart:
                    this.eventSpinStart.Start();
                    break;
                case VS_Symbol.State.SpinLoop:
                    this.eventSpinLoop.Start();
                    break;
                case VS_Symbol.State.SpinStop:
                    this.eventSpinStop.Start();
                    break;
                case VS_Symbol.State.Excited:
                    this.eventExcited.Start();
                    break;
                case VS_Symbol.State.WinExcited:
                    this.eventWinExcited.Start();
                    break;
                case VS_Symbol.State.Winning:
                    this.eventWinning.Start();
                    break;
                case VS_Symbol.State.SpinLoopExcited:
                    this.eventSpinLoopExcited.Start();
                    break;
                case VS_Symbol.State.SpinLoopExcitedImportant:
                    this.eventSpinLoopExcitedImportant.Start();
                    break;
                case VS_Symbol.State.FSHighlightOff:
                    this.eventFSHighlightOff.Start();
                    break;
                case VS_Symbol.State.Invalid:
                default:
                    this.canProcessNextCommand = !0;
                    break
            }
            this.internalState = t, this.currentStateForInspector = this.internalState
        } else 0 == this.stopEventSent && this.StopAllRunningEvents()
}, VS_Symbol.prototype.Update = function () {
    this.ProcessCommands()
}, VS_Symbol.prototype.Callback_EventEnded = function (t, e) {
    t == CAT_Event.CallbackType.EndOfEvent && (this.canProcessNextCommand = !0)
}, VS_Symbol.prototype.StopAllRunningEvents = function () {
    this.eventNormal.IsRunning() && this.eventNormal.Stop(), this.eventHighlightOn.IsRunning() && this.eventHighlightOn.Stop(), this.eventHighlightOff.IsRunning() && this.eventHighlightOff.Stop(), this.eventSpinStart.IsRunning() && this.eventSpinStart.Stop(), this.eventSpinLoop.IsRunning() && this.eventSpinLoop.Stop(), this.eventSpinStop.IsRunning() && this.eventSpinStop.Stop(), this.eventExcited.IsRunning() && this.eventExcited.Stop(), this.eventWinExcited.IsRunning() && this.eventWinExcited.Stop(), this.eventWinning.IsRunning() && this.eventWinning.Stop(), this.eventSpinLoopExcited.IsRunning() && this.eventSpinLoopExcited.Stop(), this.eventSpinLoopExcitedImportant.IsRunning() && this.eventSpinLoopExcitedImportant.Stop(), this.eventFSHighlightOff.IsRunning() && this.eventFSHighlightOff.Stop()
}, VS_Symbol.prototype.SpinStart = function () {
    this.ChangeToState(VS_Symbol.State.SpinStart)
}, VS_Symbol.prototype.SpinLoop = function () {
    this.ChangeToState(VS_Symbol.State.SpinLoop)
}, VS_Symbol.prototype.SpinStop = function () {
    this.ChangeToState(VS_Symbol.State.SpinStop)
}, VS_Symbol.prototype.SetHighlightOn = function () {
    this.ChangeToState(VS_Symbol.State.HighlightOn)
}, VS_Symbol.prototype.SetHighlightOff = function () {
    (this.internalState != VS_Symbol.State.WinExcited && this.internalState != VS_Symbol.State.Winning || this.willHighlightOffAfterExciteWin) && (XT.GetBool(Vars.Logic_IsFreeSpin) ? this.ChangeToState(VS_Symbol.State.FSHighlightOff) : this.ChangeToState(VS_Symbol.State.HighlightOff))
}, VS_Symbol.prototype.SetNormal = function () {
    this.ChangeToState(VS_Symbol.State.Normal)
}, VS_Symbol.prototype.SetExcited = function () {
    this.ChangeToState(VS_Symbol.State.Excited)
}, VS_Symbol.prototype.SetWinExcited = function () {
    this.ChangeToState(VS_Symbol.State.WinExcited)
}, VS_Symbol.prototype.SpinLoopExcited = function () {
    this.ChangeToState(VS_Symbol.State.SpinLoopExcited)
}, VS_Symbol.prototype.SpinLoopExcitedImportant = function () {
    this.ChangeToState(VS_Symbol.State.SpinLoopExcitedImportant)
}, VS_Symbol.prototype.SetWinning = function () {
    this.ChangeToState(VS_Symbol.State.Winning)
}, VS_Symbol.prototype.EventStart = function () {
    this.eventStart.Start()
}, VS_Symbol.prototype.EventStop = function () {
    this.eventStop.Start()
}, VS_Symbol.prototype.Reset = function () {
    this.commands = [], this.StopAllRunningEvents(), this.canProcessNextCommand = !0
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink"), goog.require("UHT.VS_Symbol"), VS_SymbolsManager.prototype = Object.create(XTLink.prototype), VS_SymbolsManager.prototype.constructor = VS_SymbolsManager, VS_SymbolsManager.initializing = 0, VS_SymbolsManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SymbolManager, this.OnSymbolManagerInit, this)
}, VS_SymbolsManager.prototype.XTInitVariablesAndEvents = function () {
    this.hasOnlyLoops || XT.SetObject(Vars.SymbolsManagerObject, this)
}, VS_SymbolsManager.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnSymbolManagerInit, this)
}, VS_SymbolsManager.prototype.OnSymbolManagerInit = function () {
    SymbolsManager_CheckAndSendTrackingInit(), VS_SymbolsManager.initializing++, this.currentInitSymbol = 0, this.BuildSymbolIdToIndexMap(), this.pooledSymbols = [], this.pool.SetActive(!0), -1 == LoaderProgress.SymbolsManagers_Total ? LoaderProgress.SymbolsManagers_Total = this.symbols.length : LoaderProgress.SymbolsManagers_Total += this.symbols.length
}, VS_SymbolsManager.prototype.Update = function () {
    if (this.currentInitSymbol >= 0) {
        if (this.currentInitSymbol < this.symbols.length) {
            var t = this.symbols[this.currentInitSymbol].symbolId;
            this.pooledSymbols[t] = [];
            for (var e = 0; e < this.defaultBufferAmount; e++) {
                var i = instantiate(this.symbols[this.currentInitSymbol].gameObject);
                i.SetActive(!0), this.PoolSymbol(t, i.GetComponent(VS_Symbol))
            }
            this.currentInitSymbol++, LoaderProgress.SymbolsManagers_Current++
        }
        this.currentInitSymbol == this.symbols.length && (this.disablePoolNextFrame = !1, VS_SymbolsManager.initializing--, SymbolsManager_CheckAndSendTrackingEnd(), this.currentInitSymbol++)
    }
}, VS_SymbolsManager.prototype.BuildSymbolIdToIndexMap = function () {
    for (var t = -1, e = 0; e < this.symbols.length; e++) this.symbols[e].symbolId > t && (t = this.symbols[e].symbolId);
    this.symbolIdToIndexMap = new Array(t + 1);
    for (var i = 0; i < this.symbols.length; i++) this.symbolIdToIndexMap[this.symbols[i].symbolId] = i
}, VS_SymbolsManager.prototype.GetFromPool = function (t, e) {
    0 == this.pooledSymbols[t].length && (this.pooledSymbols[t].push(instantiate(this.symbols[this.symbolIdToIndexMap[t]].gameObject).GetComponent(VS_Symbol)), this.pooledSymbols[t][this.pooledSymbols[t].length - 1].gameObject.SetActive(!0));
    var i = this.pooledSymbols[t][0];
    return this.pooledSymbols[t].splice(0, 1), i.gameObject.transform.SetParent(e.transform, !1), i.gameObject.transform.localPosition(UHTMath.Vector3.zero), i.gameObject.transform.localRotation(UHTMath.Quaternion.euler(UHTMath.Vector3.zero)), i.gameObject.transform.localScale(UHTMath.Vector3.one), i
}, VS_SymbolsManager.prototype.PoolSymbol = function (t, e) {
    e.Reset(), e.gameObject.transform.SetParent(this.pool.transform, !1), this.pooledSymbols[t].push(e)
}, VS_SymbolsManager.prototype.GetSymbol = function (t, e, i) {
    return 1 == i && null != this.SpecialLoopsManager ? this.SpecialLoopsManager.GetSymbol(t, e) : this.GetFromPool(t, e)
}, VS_SymbolsManager.prototype.RecycleSymbol = function (t, e) {
    1 == e && null != this.SpecialLoopsManager ? this.SpecialLoopsManager.RecycleSymbol(t) : this.PoolSymbol(t.symbolId, t)
}, VS_SymbolsManager.prototype.LateUpdate = function () {
    if (this.pool.activeSelf && this.currentInitSymbol > this.symbols.length) {
        if (!this.disablePoolNextFrame) return void(this.disablePoolNextFrame = !0);
        this.pool.SetActive(!1)
    }
}, goog.require("UHT.Engine"), SymbolSorterManager.prototype = Object.create(XTLink.prototype), SymbolSorterManager.prototype.constructor = SymbolSorterManager, SymbolSorterManager.SortOrder = {
    topLeft: 0,
    topRight: 1,
    bottomLeft: 2,
    bottomRight: 3
}, SymbolSorterManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateSymbolsDepth, this.SortSymbols, this)
}, SymbolSorterManager.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGameInit, this), XT.UnregisterCallbackEvent(this.SortSymbols, this)
}, SymbolSorterManager.prototype.OnGameInit = function () {
    this.rm = XT.GetObject(Vars.ReelsManagerObject), this.SortSymbols()
}, SymbolSorterManager.prototype.SortSymbols = function () {
    if (null != this.rm)
        for (var t = 0; t < this.rm.reels.length; t++)
            for (var e = 0, i = 0; i < this.rm.reels[t].sortedSymbolHolders.length; i++)
                if (this.vs = this.rm.reels[t].sortedSymbolHolders[i].currentSymbol, null != this.vs) {
                    if (this.sps = this.vs.GetComponent(SymbolPanelSorter), null != this.sps) {
                        switch (this.sortOrder) {
                            case SymbolSorterManager.SortOrder.topLeft:
                                this.newDepth = t * this.reelHolderOffset + e * this.symbolHoldersOffset;
                                break;
                            case SymbolSorterManager.SortOrder.topRight:
                                this.newDepth = (this.rm.reels.length - t - 1) * this.reelHolderOffset + e * this.symbolHoldersOffset;
                                break;
                            case SymbolSorterManager.SortOrder.bottomLeft:
                                this.newDepth = t * this.reelHolderOffset + (this.rm.reels[t].sortedSymbolHolders.length - e - 1) * this.symbolHoldersOffset;
                                break;
                            case SymbolSorterManager.SortOrder.bottomRight:
                                this.newDepth = (this.rm.reels.length - t - 1) * this.reelHolderOffset + (this.rm.reels[t].sortedSymbolHolders.length - e - 1) * this.symbolHoldersOffset;
                                break;
                            default:
                                this.newDepth = 0;
                                break
                        }
                        this.sps.UpdateDepth(this.newDepth)
                    }
                    e++
                }
}, goog.require("UHT.Engine"), SymbolPanelSorter.prototype = Object.create(Component.prototype), SymbolPanelSorter.prototype.constructor = SymbolPanelSorter, SymbolPanelSorter.prototype.UpdateDepth = function (t) {
    this.sortingDepth = this.startingDepth + t;
    for (var e = 0; e < this.orderedPanels.length; e++) this.orderedPanels[e].depth = this.sortingDepth + e
}, SymbolPanelSorter.prototype.SetAlpha = function (t) {
    for (var e = 0; e < this.orderedPanels.length; e++) this.orderedPanels[e].alpha = t
}, goog.require("UHT.Engine"), goog.require("UHT.VS_Symbol"), goog.provide("UHT.VS_ReelSymbolHolder"), VS_ReelSymbolHolder.prototype = Object.create(XTLink.prototype), VS_ReelSymbolHolder.prototype.constructor = VS_ReelSymbolHolder, VS_ReelSymbolHolder.State = {
    IDLE: 0,
    START: 1,
    LOOP: 2,
    STOP: 3
}, VS_ReelSymbolHolder.prototype.SetPositionInReel = function (t) {
    this.positionInReel = t
}, VS_ReelSymbolHolder.prototype.SetOrderedSymbolIdx = function (t) {
    this.orderedSymbolIdx = t
}, VS_ReelSymbolHolder.prototype.GetOrderedSymbolIdx = function () {
    return this.orderedSymbolIdx
}, VS_ReelSymbolHolder.prototype.SetParentReel = function (t) {
    this.parentReel = t
}, VS_ReelSymbolHolder.prototype.DiscardSymbol = function () {
    null != this.currentSymbol && this.parentReel.reelsManager.symbolsManager.RecycleSymbol(this.currentSymbol, this.symbolIsLooper), this.currentSymbol = null
}, VS_ReelSymbolHolder.prototype.ReplaceSymbol = function (t, e) {
    this.symbolIsLooper = 1 == e, this.DiscardSymbol(), this.currentSymbol = this.parentReel.reelsManager.symbolsManager.GetSymbol(t, this.gameObject, this.symbolIsLooper), this.lastSymbolId = this.currentSymbol.symbolId
}, VS_ReelSymbolHolder.prototype.ReplaceSymbol_RestoreSorting = function (t) {
    var e = this.currentSymbol.internalState,
        i = this.currentSymbol.GetComponent(SymbolPanelSorter),
        n = i.orderedPanels[0].depth - i.startingDepth;
    this.ReplaceSymbol(t), this.currentSymbol.ChangeToState(e), (i = this.currentSymbol.GetComponent(SymbolPanelSorter)).UpdateDepth(n)
}, VS_ReelSymbolHolder.prototype.UpdateLinkedLooperPosition = function () {
    null != this.linkedLooper && XT.GetBool(Vars.CanUpdateLinkedLoopersPosition) && this.linkedLooper.transform.localPosition(UHTMath.Vector3.sub(this.transform.localPosition(), new UHTMath.Vector3(0, this.linkedLooperOffsetY, 0)))
}, VS_ReelSymbolHolder.prototype.SampleAnimation = function () {
    this.animationState.enabled = !0, this.animationState.weight = 1, this.animationState.time = this.animationTime, this.gameObject.animation.Sample(), this.animationState.enabled = !1
}, VS_ReelSymbolHolder.prototype.UpdateVisual = function () {
    switch (this.animationIsUpdated ? this.animationIsUpdated = !1 : this.animationTime += Time.deltaTime * this.speed, this.rememberToChangeSymbolState && this.animationTime > 0 && (this.rememberToChangeSymbolState = !1, this.ChangeSymbolState()), this.state) {
        case VS_ReelSymbolHolder.State.START:
            this.canFireStartEvent && this.animationTime >= (this.usingFastStartAnimation ? this.eventStartDelayFastPlay : this.eventStartDelay) && (this.canFireStartEvent = !1, this.currentSymbol.EventStart()), this.animationTime > this.animationState.length ? (this.state = VS_ReelSymbolHolder.State.IDLE, this.DiscardSymbol(), this.parentReel.SymbolLeftTheReel(this.positionInReel, this.animationTime - this.animationState.length), this.linkedLooperShouldBeDiscarded && (this.linkedLooper.DiscardSymbol(), this.linkedLooperShouldBeDiscarded = !1), this.linkedLooper = null) : this.SampleAnimation();
            break;
        case VS_ReelSymbolHolder.State.LOOP:
            this.animationTime > this.animationState.length ? (this.state = VS_ReelSymbolHolder.State.IDLE, this.DiscardSymbol(), this.parentReel.SymbolLeftTheReel(this.positionInReel, this.animationTime - this.animationState.length)) : this.SampleAnimation();
            break;
        case VS_ReelSymbolHolder.State.STOP:
            this.canFireStopEvent && this.animationTime >= (this.usingFastStopAnimation ? this.eventStopDelayFastPlay : this.eventStopDelay) && (this.canFireStopEvent = !1, this.currentSymbol.EventStop()), this.animationTime > this.animationState.length && (this.animationTime = this.animationState.length, this.state = VS_ReelSymbolHolder.State.IDLE, this.parentReel.StopFinished(this.positionInReel)), this.SampleAnimation();
            break;
        default:
            break
    }
}, VS_ReelSymbolHolder.prototype.AfterUpdateVisual = function () {
    this.animationIsUpdated = !1, this.UpdateLinkedLooperPosition()
}, VS_ReelSymbolHolder.prototype.StartAnimation = function (t, e) {
    this.gameObject.animation.clip = t, this.animationState = this.gameObject.animation.GetAnimationState(t.name), this.animationTime = e, this.SampleAnimation(), this.animationIsUpdated = !0, this.parentReel.UpdateSortedSymbolHolders()
}, VS_ReelSymbolHolder.prototype.PlayStart = function () {
    this.rememberToChangeSymbolState = !1, this.canFireStartEvent = !0, this.state = VS_ReelSymbolHolder.State.START, this.StartAnimation(this.GetStartAnimation(), 0), this.currentSymbol.SpinStart(), null != this.linkedLooper && this.linkedLooper.currentSymbol.SpinStart()
}, VS_ReelSymbolHolder.prototype.PlayLoop = function (t) {
    this.rememberToChangeSymbolState = !1, this.state = VS_ReelSymbolHolder.State.LOOP, this.StartAnimation(this.loopAnimation, t), this.parentReel.reelsManager.showTopBottomSymbols && t < 0 ? this.rememberToChangeSymbolState = !0 : this.ChangeSymbolState()
}, VS_ReelSymbolHolder.prototype.ChangeSymbolState = function () {
    null != this.currentSymbol && (this.parentReel.isExcited ? this.parentReel.ExcitedImportantSymbols[this.currentSymbol.symbolId] ? this.currentSymbol.SpinLoopExcitedImportant() : this.currentSymbol.SpinLoopExcited() : this.currentSymbol.SpinLoop())
}, VS_ReelSymbolHolder.prototype.PlayStop = function (t) {
    this.rememberToChangeSymbolState = !1, this.canFireStopEvent = !0, this.state = VS_ReelSymbolHolder.State.STOP, this.StartAnimation(this.GetStopAnimation(), t), this.currentSymbol.SpinStop(), null != this.linkedLooper && this.linkedLooper.currentSymbol.SpinStop()
}, VS_ReelSymbolHolder.prototype.GetStartAnimation = function () {
    return this.usingFastStartAnimation = this.parentReel.useFastAnimationsInTurboSpin && XT.GetBool(Vars.ContinuousSpin) || this.parentReel.reelsManager.isFastStart, this.usingFastStartAnimation ? this.startAnimationFastPlay : this.startAnimation
}, VS_ReelSymbolHolder.prototype.GetEventStartDelay = function () {
    return this.parentReel.useFastAnimationsInTurboSpin && XT.GetBool(Vars.ContinuousSpin) || this.parentReel.reelsManager.isFastStart ? this.eventStartDelayFastPlay : this.eventStartDelay
}, VS_ReelSymbolHolder.prototype.GetStopAnimation = function () {
    return null == this.stopAnimationFastPlay ? this.stopAnimation : (this.usingFastStopAnimation = this.parentReel.reelsManager.isFastStart || this.parentReel.reelsManager.fastStop, this.usingFastStopAnimation ? this.stopAnimationFastPlay : this.stopAnimation)
}, goog.require("UHT.Engine"), goog.require("UHT.VS_ReelSymbolHolder"), goog.provide("UHT.VS_Reel"), VS_Reel.prototype = Object.create(Component.prototype), VS_Reel.prototype.constructor = VS_Reel;
var ReelDelayStopType = {
    NO: 0,
    ALWAYS: 1,
    EXCITEDONLY: 2
};

function SpinAnimationsSpeedCurves() {
    this.startNormal = null, this.startFS = null, this.stopNormal = null, this.stopFS = null, this.stopCustom = null, this.stopExcitedNormal = null, this.stopExcitedFS = null, this.excitedNormal = null, this.excitedFS = null, this.excitedCustom = null
}

function VS_ReelsManager() {
    XTLink.call(this), this.symbolsManager = null, this.reels = [], this.reelsStartOrder = null, this.reelsStopOrder = null, this.reelDelayStart = .1, this.reelDelayStop = .15, this.extraReelDelayStop = null, this.extraReelDelayStart = null, this.validateReelSpin = [], this.autoStopDelay = 1.5, this.stopOnScreenSymbols = !0, this.stopOnInitialScreenSymbols = !1, this.forceStopOnScreenSymbols = !1, this.instantStop = !1, this.startFasterInFastPlay = !1, this.startFasterForced = !1, this.isFastStart = !1, this.useCustomSpinCurves = null, this.autoStopTimer = 0, this.reelsSpinning = 0, this.startTimer = 0, this.reelToStart = 0, this.stopTimer = 0, this.reelToStop = 0, this.fastStop = !1, this.rememberToStop = !1, this.resultReceived = !1, this.isStoppingFast = !1, this.mustStopStoppingReels = !1, this.reelIdxList = [], this.exciter = null, this.nextReels = [], this.fastStopTimers = null, this.fastStopTimeUntilFinish = 0, this.showTopBottomSymbols = !1, this.justVisualSymbols = 0, this.blankSymbolId = 0, this.dragSettings = null, this.continuousSpinTimer = 0, this.logicIsFS = !1, this.state = VS_ReelsManager.State.IDLE, this.spinCurves = null
}

function LineInfo() {
    this.isRightToLeft = !1, this.symbolIndices = null
}

function VS_LinesDefinitions() {
    XTLink.call(this), this.reels = 5, this.symbols = 3, this.symbolSquares = null, this.lines = null
}

function SubstitutingIDs() {
    this.realID = 0, this.substituteIDs = []
}
VS_Reel.prototype.InitReel = function () {
    this.lastLooperIndexForHolder = [];
    for (var t = 0; t < this.symbolHolders.length; t++) this.lastLooperIndexForHolder[t] = -1;
    for (t = 0; t < this.symbolHolders.length; t++) this.symbolHolders[t].SetParentReel(this), this.symbolHolders[t].SetPositionInReel(t), this.sortedSymbolHolders.push(this.symbolHolders[t]);
    1 != this.symbolHolders.length && (this.symbolHolders[this.symbolHolders.length - 1].linkedLooperOffsetY = this.symbolHolders[this.symbolHolders.length - 2].transform.localPosition().y - this.symbolHolders[this.symbolHolders.length - 1].transform.localPosition().y, this.symbolHolders[0].linkedLooperOffsetY = this.symbolHolders[1].transform.localPosition().y - this.symbolHolders[0].transform.localPosition().y);
    for (var e = 0; e < this.symbolLoopHolders.length; e++) {
        if (this.symbolLoopHolders[e].SetParentReel(this), this.applySpinInPlaceExtraSettings)
            if (e >= this.symbolHolders.length && e < this.symbolLoopHolders.length) {
                var i = e % this.symbolHolders.length;
                this.symbolLoopHolders[e].SetPositionInReel(i)
            } else this.symbolLoopHolders[e].SetPositionInReel(e);
        else this.symbolLoopHolders[e].SetPositionInReel(e);
        this.sortedSymbolHolders.push(this.symbolLoopHolders[e])
    }
    this.UpdateSortedSymbolHolders(), this.randomizedStopIdx = new Array(this.symbolHolders.length)
}, VS_Reel.prototype.SetScreenSymbols = function (t) {
    for (var e = 0; e < this.symbolHolders.length; e++) null != this.symbolHolders[this.symbolHolders.length - 1 - e].currentSymbol && this.symbolHolders[this.symbolHolders.length - 1 - e].currentSymbol.symbolId == t[this.reelIndex][e] || (this.symbolHolders[this.symbolHolders.length - 1 - e].ReplaceSymbol(t[this.reelIndex][e]), this.symbolHolders[e].SetOrderedSymbolIdx(e * this.reelsManager.reels.length + this.reelIndex));
    for (var i, n, o = this.currentPosition, s = 0; s < this.symbolHolders.length; s++) this.currentPosition--;
    (this.currentPosition += t[this.reelIndex].length, this.currentPosition %= t[this.reelIndex].length, XT.GetBool(Vars.HiddenMathematics)) ? (i = XT.GetObject(Vars.SymbolsAboveReels)[this.reelIndex], n = XT.GetObject(Vars.SymbolsBelowReels)[this.reelIndex]) : (i = t[this.reelIndex][o % t[this.reelIndex].length], n = t[this.reelIndex][this.currentPosition % t[this.reelIndex].length]);
    this.AddBottomLinkedLooperSymbol(n), this.AddTopLinkedLooperSymbol(i), this.UpdateSortedSymbolHolders()
}, VS_Reel.prototype.GetNextSymbol = function () {
    if (this.mustStop) {
        if (this.reelsManager.stopOnScreenSymbols || this.reelsManager.forceStopOnScreenSymbols) return this.stopPosition--, this.stopPosition += this.symbolList.length, this.stopPosition %= this.symbolList.length, this.GetReelScreenSymbols(XT.GetObject(Vars.ResultScreenSymbols))[this.cs_stopCounter++];
        if (this.reelsManager.stopOnInitialScreenSymbols) {
            this.stopPosition--, this.stopPosition += this.symbolList.length, this.stopPosition %= this.symbolList.length;
            var t = this.GetReelScreenSymbols(XT.GetObject(Vars.InitialResultScreenSymbols))[this.cs_stopCounter++];
            return this.replaceEmptySymbol && t == this.reelsManager.blankSymbolId && (t = this.emptySymbolReplacements[Math.floor(Math.random() * this.emptySymbolReplacements.length)]), t
        }
        var e = this.stopPosition;
        return this.stopPosition--, this.stopPosition += this.symbolList.length, this.stopPosition %= this.symbolList.length, this.symbolList[e % this.symbolList.length]
    }
    var i = this.currentPosition;
    return this.currentPosition--, this.currentPosition += this.symbolList.length, this.currentPosition %= this.symbolList.length, this.lastSymbolEntered = this.symbolList[i % this.symbolList.length], this.lastSymbolEntered
}, VS_Reel.prototype.GetNextSymbolInPlace = function (t) {
    if (this.mustStop) {
        if (this.reelsManager.stopOnScreenSymbols || this.reelsManager.forceStopOnScreenSymbols) return this.GetReelScreenSymbols(XT.GetObject(Vars.ResultScreenSymbols))[this.symbolHolders.length - 1 - t];
        if (this.reelsManager.stopOnInitialScreenSymbols) return this.GetReelScreenSymbols(XT.GetObject(Vars.InitialResultScreenSymbols))[this.symbolHolders.length - 1 - t];
        var e = this.stopPosition - (this.symbolHolders.length - 1 - t);
        return e += this.symbolList.length, e %= this.symbolList.length, this.symbolList[e]
    }
    this.internalCounterInPlace++, this.internalCounterInPlace == this.symbolHolders.length && (this.internalCounterInPlace = 0, this.currentPosition -= this.symbolHolders.length, this.currentPosition += this.symbolList.length, this.currentPosition %= this.symbolList.length);
    var i = this.currentPosition - t;
    return i += this.symbolList.length, i %= this.symbolList.length, this.symbolList[i]
}, VS_Reel.prototype.RandomizeStops = function () {
    for (var t = [], e = 0; e < this.randomizedStopIdx.length; e++) t.push(e);
    for (var i = 0; i < this.randomizedStopIdx.length; i++) {
        var n = Random.Range(0, t.length);
        this.randomizedStopIdx[i] = t[n];
        for (var o = 0; o < t.length; o++) t[o] == t[n] && t.splice(o, 1)
    }
}, VS_Reel.prototype.SetPosition = function (t) {
    this.currentPosition = Random.Range(0, this.symbolList.length) % this.symbolList.length
}, VS_Reel.prototype.SetStopPosition = function (t) {
    this.stopPosition = (t + this.stopOffset) % this.symbolList.length, this.rememberedStopPosition = this.stopPosition
}, VS_Reel.prototype.SetSymbolList = function (t) {
    this.symbolList = [];
    for (var e = 0; e < t.length; e++) this.symbolList.push(t[e])
}, VS_Reel.prototype.Start = function () {}, VS_Reel.prototype.SetSpeedCurve = function (t) {
    this.speedCurveTimer = 0, this.speedCurve = t
}, VS_Reel.prototype.Update = function () {
    var t, e = 1;
    for (null != this.speedCurve && (e = this.speedCurve.Evaluate(this.speedCurveTimer), this.speedCurveTimer += Time.deltaTime), t = this.symbolHolders.length - 1; t >= 0; t--) this.symbolHolders[t].speed = e, this.symbolHolders[t].UpdateVisual();
    for (var i = this.symbolLoopHolders.length, n = (this.lastPosLeftIdx - 1 + this.symbolLoopHolders.length) % this.symbolLoopHolders.length; i > 0;) this.symbolLoopHolders[n].speed = e, this.symbolLoopHolders[n].UpdateVisual(), n = (n - 1 + this.symbolLoopHolders.length) % this.symbolLoopHolders.length, i--;
    for (var o = 0; o < this.symbolHolders.length; o++) this.symbolHolders[o].AfterUpdateVisual();
    for (var s = 0; s < this.symbolLoopHolders.length; s++) this.symbolLoopHolders[s].AfterUpdateVisual();
    this.randomStopTimer += Time.deltaTime
}, VS_Reel.prototype.GetNextLooperIndexForPosition = function (t) {
    var e = this.lastLooperIndexForHolder[t];
    return -1 == e ? (this.lastLooperIndexForHolder[t] = t, t) : (e = e + this.symbolHolders.length > this.symbolLoopHolders.length - 1 ? t : e + this.symbolHolders.length, this.lastLooperIndexForHolder[t] = e, e)
}, VS_Reel.prototype.NewLoop = function (t, e) {
    var i;
    this.spinInPlace ? (i = this.applySpinInPlaceExtraSettings ? this.symbolLoopHolders[this.GetNextLooperIndexForPosition(t)] : this.symbolLoopHolders[t]).ReplaceSymbol(this.GetNextSymbolInPlace(t), !0) : -1 == t && null != this.symbolHolders[0].linkedLooper ? i = this.symbolHolders[0].linkedLooper : (i = -1 == t ? this.symbolLoopHolders[this.symbolLoopHolders.length - 1] : this.symbolLoopHolders[t]).ReplaceSymbol(this.GetNextSymbol(), !0), i.PlayLoop(e)
}, VS_Reel.prototype.StartSpin = function () {
    this.mustStop = !1, this.holdersSpinning = this.symbolHolders.length;
    for (var t = 0; t < this.symbolHolders.length; t++) this.symbolHolders[t].PlayStart(), this.applySpinInPlaceExtraSettings && this.NewLoop(t, -this.symbolHolders[t].GetEventStartDelay());
    this.spinInPlace || this.SymbolLeftTheReel(-1, -this.GetLoopDelayAfterStart()), this.internalCounterInPlace = 0, this.RandomizeStops(), this.willRandomStopIdx = 0, this.randomStopTimer = this.randomStopDelay
}, VS_Reel.prototype.AddLinkedLooper = function (t, e, i, n) {
    this.reelsManager.showTopBottomSymbols && (this.symbolLoopHolders[e].rememberToChangeSymbolState = !1, this.symbolLoopHolders[e].ReplaceSymbol(i), this.symbolLoopHolders[e].currentSymbol.SpinStop(), this.symbolHolders[t].linkedLooper = this.symbolLoopHolders[e], this.symbolHolders[t].UpdateLinkedLooperPosition(), this.symbolHolders[t].linkedLooperShouldBeDiscarded = n)
}, VS_Reel.prototype.AddTopLinkedLooperSymbol = function (t) {
    this.AddLinkedLooper(0, this.symbolLoopHolders.length - 1, t, !1)
}, VS_Reel.prototype.AddBottomLinkedLooperSymbol = function (t) {
    this.AddLinkedLooper(this.symbolHolders.length - 1, 0, t, !0)
}, VS_Reel.prototype.AddTopLinkedLooper = function () {
    var t;
    XT.GetBool(Vars.HiddenMathematics) ? t = XT.GetObject(Vars.SymbolsAboveReels)[this.reelIndex] : t = this.symbolList[this.currentPosition % this.symbolList.length];
    this.AddTopLinkedLooperSymbol(t)
}, VS_Reel.prototype.AddBottomLinkedLooper = function () {
    var t;
    XT.GetBool(Vars.HiddenMathematics) ? t = XT.GetObject(Vars.SymbolsBelowReels)[this.reelIndex] : t = this.symbolList[(this.currentPosition + this.symbolHolders.length) % this.symbolList.length];
    this.AddBottomLinkedLooperSymbol(t)
}, VS_Reel.prototype.GetLooperTimersAndCleanUp = function (t) {
    var e, i = [],
        n = this.symbolLoopHolders[0].loopAnimation.length,
        o = -1;
    for (e = 0; e < this.symbolHolders.length; e++) {
        if (this.symbolHolders[e].state == VS_ReelSymbolHolder.State.START) {
            var s = this.symbolHolders[e].animationTime;
            s < this.GetLoopDelayAfterStart() && (s = this.GetLoopDelayAfterStart());
            var a = n - (this.symbolHolders[e].GetStartAnimation().length - s);
            a < 0 && (a = 0), i.push(a), o = this.symbolHolders[e].currentSymbol.symbolId, this.symbolHolders[e].DiscardSymbol(), this.symbolHolders[e].state = VS_ReelSymbolHolder.State.IDLE
        }
        this.symbolHolders[e].state == VS_ReelSymbolHolder.State.STOP && (i.push(this.symbolHolders[e].animationTime), this.symbolHolders[e].DiscardSymbol(), this.symbolHolders[e].state = VS_ReelSymbolHolder.State.IDLE), this.symbolHolders[e].linkedLooper && this.symbolHolders[e].linkedLooperShouldBeDiscarded && this.symbolHolders[e].linkedLooper.DiscardSymbol(), this.symbolHolders[e].linkedLooper = null
    }
    var r = -1,
        l = -1;
    for (e = 0; e < this.symbolLoopHolders.length; e++)
        if (this.symbolLoopHolders[e].state == VS_ReelSymbolHolder.State.LOOP) {
            var u = this.symbolLoopHolders[e].animationTime;
            u < 0 && (u = 0), i.push(u), u > l && (r = this.symbolLoopHolders[e].currentSymbol.symbolId, l = u)
        } for (e = 0; e < this.symbolLoopHolders.length; e++) this.symbolLoopHolders[e].DiscardSymbol(), this.symbolLoopHolders[e].state = VS_ReelSymbolHolder.State.IDLE;
    if (null != t ? i = t : (i.sort((function (t, e) {
            return t - e
        })), this.reelsManager.fastStopTimeUntilFinish = this.symbolHolders[0].stopAnimation.length - i[0]), i.length > this.symbolHolders.length && !this.reelsManager.showTopBottomSymbols) {
        var h = !0; - 1 != o ? this.symbolLoopHolders[0].ReplaceSymbol(o) : -1 != r ? this.symbolLoopHolders[0].ReplaceSymbol(r) : h = !1, h && this.symbolLoopHolders[0].PlayLoop(i[this.symbolHolders.length])
    }
    return this.AddBottomLinkedLooper(), this.AddTopLinkedLooper(), i
}, VS_Reel.prototype.StopSpin = function (t, e) {
    if (this.cs_stopCounter = 0, this.stopPosition = this.rememberedStopPosition, this.mustStop = !0, this.stopIdx = this.symbolHolders.length - 1, this.reelsManager.instantStop && t && this.holdersSpinning == this.symbolHolders.length) {
        for (var i = this.GetLooperTimersAndCleanUp(e), n = this.stopIdx; n >= 0;) this.symbolHolders[n].ReplaceSymbol(this.GetNextSymbol()), this.needToUpdateSymbolsDepth = !0, this.symbolHolders[n].PlayStop(i[n]), n--;
        return this.stopIdx = -1, i
    }
    return null
}, VS_Reel.prototype.SymbolLeftTheReel = function (t, e) {
    if (this.lastPosLeftIdx = t, this.mustStop)
        if (this.spinInPlace) this.randomStop ? this.randomStop && this.randomStopTimer >= this.randomStopDelay && t == this.randomizedStopIdx[this.willRandomStopIdx] ? (this.symbolHolders[t].ReplaceSymbol(this.GetNextSymbolInPlace(t)), this.symbolHolders[t].PlayStop(e), this.willRandomStopIdx++, this.randomStopTimer = 0) : this.NewLoop(t, e) : (this.symbolHolders[t].ReplaceSymbol(this.GetNextSymbolInPlace(t)), this.symbolHolders[t].PlayStop(e));
        else if (this.stopIdx >= 0) this.symbolHolders[this.stopIdx].ReplaceSymbol(this.GetNextSymbol()), this.symbolHolders[this.stopIdx].PlayStop(e), this.stopIdx--;
    else {
        var i, n;
        if (XT.GetBool(Vars.HiddenMathematics)) i = XT.GetObject(Vars.SymbolsAboveReels)[this.reelIndex], n = XT.GetObject(Vars.SymbolsBelowReels)[this.reelIndex];
        else i = this.symbolList[this.currentPosition % this.symbolList.length], n = this.symbolLoopHolders[t].lastSymbolId;
        this.AddBottomLinkedLooperSymbol(n), this.AddTopLinkedLooperSymbol(i)
    } else this.NewLoop(t, e)
}, VS_Reel.prototype.StopFinished = function (t) {
    this.holdersSpinning--, 0 == this.holdersSpinning && (this.reelsManager.StopFinished(this.reelIndex), this.currentPosition = this.stopPosition, this.speedCurve = null)
}, VS_Reel.prototype.GetLoopDelayAfterStart = function () {
    return this.useFastAnimationsInTurboSpin && XT.GetBool(Vars.ContinuousSpin) || this.reelsManager.isFastStart ? this.loopDelayAfterFastStart : this.loopDelayAfterStart
}, VS_Reel.prototype.UpdateSortedSymbolHolders = function () {
    if (null != this.sortedSymbolHolders && this.mustSortHolders) {
        for (var t = 0; t < this.sortedSymbolHolders.length - 1; t++)
            for (var e = t + 1; e < this.sortedSymbolHolders.length; e++)
                if (this.sortedSymbolHolders[e].transform._dangerous_get_localPosition().y > this.sortedSymbolHolders[t].transform._dangerous_get_localPosition().y) {
                    var i = this.sortedSymbolHolders[e];
                    this.sortedSymbolHolders[e] = this.sortedSymbolHolders[t], this.sortedSymbolHolders[t] = i, this.needToUpdateSymbolsDepth = !0
                } this.needToUpdateSymbolsDepth && (this.needToUpdateSymbolsDepth = !1, XT.TriggerEvent(Vars.Evt_Internal_UpdateSymbolsDepth))
    }
}, VS_Reel.prototype.SetSymbolsToNormal = function () {
    for (var t = 0; t < this.symbolHolders.length; t++) null != this.symbolHolders[t].currentSymbol && this.symbolHolders[t].currentSymbol.SetNormal()
}, VS_Reel.prototype.GetReelScreenSymbols = function (t) {
    if (XT.GetBool(Vars.HiddenMathematics) && this.symbolHolders.length > t[this.reelIndex].length) {
        if (0 == this.cs_stopCounter) {
            this.reelScreenSymbols.splice(0), this.reelScreenSymbols.push(XT.GetObject(Vars.SymbolsAboveReels)[this.reelIndex]);
            for (var e = 0; e < t[this.reelIndex].length; ++e) this.reelScreenSymbols.push(t[this.reelIndex][e]);
            this.reelScreenSymbols.push(XT.GetObject(Vars.SymbolsBelowReels)[this.reelIndex])
        }
        return this.reelScreenSymbols
    }
    return t[this.reelIndex]
}, VS_Reel.prototype.NeedToKeepSpinning = function () {
    if (this.delayStopToAvoidStacks == ReelDelayStopType.ALWAYS || this.delayStopToAvoidStacks == ReelDelayStopType.EXCITEDONLY && this.isExcited) {
        var t = -1;
        if (t = this.reelsManager.stopOnScreenSymbols || this.reelsManager.forceStopOnScreenSymbols ? this.GetReelScreenSymbols(XT.GetObject(Vars.ResultScreenSymbols))[0] : this.reelsManager.stopOnInitialScreenSymbols ? this.GetReelScreenSymbols(XT.GetObject(Vars.InitialResultScreenSymbols))[0] : this.symbolList[this.stopPosition % this.symbolList.length], this.lastSymbolEntered == t) return !0
    }
    return !1
}, goog.require("UHT.XTLink"), goog.require("UHT.VS_Reel"), goog.provide("UHT.VS_ReelsManager"), VS_ReelsManager.prototype = Object.create(XTLink.prototype), VS_ReelsManager.prototype.constructor = VS_ReelsManager, VS_ReelsManager.prototype.scriptUpdatePriority = 3, VS_ReelsManager.State = {
    IDLE: 0,
    STARTING: 1,
    SPINNING: 2,
    STOPPING: 3
}, VS_ReelsManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.ReelSymbols, this.OnReelSymbols, this), XT.RegisterCallbackObject(Vars.NextReelSymbols, this.OnNextReelSymbols, this), XT.RegisterCallbackObject(Vars.ReelInitialPositions, this.OnReelPositions, this), XT.RegisterCallbackObject(Vars.ExcitedImportantSymbols, this.OnExcitedImportantSymbols, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_ReelsManager, this.OnReelsManagerInit, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnStartSpin, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin, this.OnStopSpin, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived, this.OnSpinResultReceived, this), XT.RegisterCallbackBool(Vars.AllowFastStop, this.SetAllowFastStop, this)
}, VS_ReelsManager.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.ReelsManagerObject, this), XT.SetObject(Vars.ReelsStartOrder, this.reelsStartOrder), XT.SetObject(Vars.ReelsStartOrderDefault, this.reelsStartOrder), XT.SetObject(Vars.ReelsStopOrder, this.reelsStopOrder), XT.SetObject(Vars.ReelsStopOrderDefault, this.reelsStopOrder), XT.SetObject(Vars.ExtraReelDelayStop, this.extraReelDelayStop), XT.SetObject(Vars.ExtraReelDelayStopDefault, this.extraReelDelayStop), XT.SetObject(Vars.ExtraReelDelayStart, this.extraReelDelayStart), XT.SetObject(Vars.ExtraReelDelayStartDefault, this.extraReelDelayStart), XT.SetBool(Vars.ContinuousSpin, !1), XT.SetBool(Vars.AllowContinuousSpin, !0), XT.SetBool(Vars.ForceContinuousSpin, !1), XT.SetBool(Vars.AutoplayContinuousSpin, !1), XT.SetBool(Vars.CanUpdateLinkedLoopersPosition, !0), null != this.useCustomSpinCurves && 0 != this.useCustomSpinCurves.length || (this.useCustomSpinCurves = _array.create(this.reels.length, !1));
    var t = _array.create(this.reels.length, !0);
    XT.SetObject(Vars.ReelsCanBeExcited, t), this.PrepareVariables()
}, VS_ReelsManager.prototype.PrepareVariables = function () {
    var t = 0;
    if (this.reelsStartOrder.length < this.reels.length) {
        for (this.reelsStartOrder = _array.create(this.reels.length, 0), t = 0; t < this.reelsStartOrder.length; t++) this.reelsStartOrder[t] = t;
        XT.SetObject(Vars.ReelsStartOrder, this.reelsStartOrder), XT.SetObject(Vars.ReelsStartOrderDefault, this.reelsStartOrder)
    }
    if (this.reelsStopOrder.length < this.reels.length) {
        for (this.reelsStopOrder = _array.create(this.reels.length, 0), t = 0; t < this.reelsStopOrder.length; t++) this.reelsStopOrder[t] = t;
        XT.SetObject(Vars.ReelsStopOrder, this.reelsStopOrder), XT.SetObject(Vars.ReelsStopOrderDefault, this.reelsStopOrder)
    }
    if (this.extraReelDelayStop.length < this.reels.length) {
        for (this.extraReelDelayStop = _array.create(this.reels.length, 0), t = 0; t < this.extraReelDelayStop.length; t++) this.extraReelDelayStop[t] = 0;
        XT.SetObject(Vars.ExtraReelDelayStop, this.extraReelDelayStop), XT.SetObject(Vars.ExtraReelDelayStopDefault, this.extraReelDelayStop)
    }
    if (this.extraReelDelayStart.length < this.reels.length) {
        for (this.extraReelDelayStart = _array.create(this.reels.length, 0), t = 0; t < this.extraReelDelayStart.length; t++) this.extraReelDelayStart[t] = 0;
        XT.SetObject(Vars.ExtraReelDelayStart, this.extraReelDelayStart), XT.SetObject(Vars.ExtraReelDelayStartDefault, this.extraReelDelayStart)
    }
    if (this.validateReelSpin.length < this.reels.length)
        for (this.validateReelSpin = _array.create(this.reels.length), t = 0; t < this.validateReelSpin.length; t++) this.validateReelSpin[t] = !0
}, VS_ReelsManager.prototype.OnReelsManagerInit = function () {
    XT.GetBool(Vars.HiddenMathematics) && (this.stopOnScreenSymbols || (this.stopOnInitialScreenSymbols = !0));
    for (var t = 0; t < this.reels.length; t++) this.reels[t].reelsManager = this, this.reels[t].reelIndex = t, this.reels[t].InitReel();
    this.InitFirstScreenSymbols(), this.BuildOrderedHoldersList(), this.SetAllSymbolsToNormal(), XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins) && 3 == this.reels.length && (this.autoStopDelay = Math.max(this.autoStopDelay, XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value) - (this.reels.length - 1) * this.reelDelayStop))
}, VS_ReelsManager.prototype.OnReelSymbols = function (t) {
    for (var e = 0; e < this.reels.length; e++) this.reels[e].SetSymbolList(t[e]);
    this.exciter = XT.GetObject(Vars.SpinExciterObject)
}, VS_ReelsManager.prototype.OnNextReelSymbols = function (t) {
    this.nextReels = [];
    for (var e = 0; e < t.length; e++) this.nextReels.push(t[e])
}, VS_ReelsManager.prototype.OnReelPositions = function (t) {
    for (var e = 0; e < this.reels.length; e++) this.reels[e].SetPosition(t[e])
}, VS_ReelsManager.prototype.OnExcitedImportantSymbols = function (t) {
    for (var e = 0; e < this.reels.length; e++) this.reels[e].ExcitedImportantSymbols = t[e]
}, VS_ReelsManager.prototype.OnSpinResultReceived = function () {
    this.forceStopOnScreenSymbols = XT.GetBool(Vars.IsNoMoneySpin);
    var t = XT.GetObject(Vars.ReelStopPositions);
    if (null != t) {
        this.resultReceived = !0;
        for (var e = 0; e < this.reels.length; e++) this.reels[e].SetStopPosition(t[e])
    }
}, VS_ReelsManager.prototype.InitFirstScreenSymbols = function () {
    var t = XT.GetObject(Vars.FirstScreenSymbols);
    if (1 == this.justVisualSymbols)
        for (var e = 0; e < t.length; e++) {
            var i = t[e][0] != this.blankSymbolId ? this.blankSymbolId : this.blankSymbolId - 1;
            t[e].unshift(i), t[e].push(i)
        }
    for (var n = 0; n < this.reels.length; n++) this.reels[n].SetScreenSymbols(t);
    this.BuildOrderedSymbolList()
}, VS_ReelsManager.prototype.SetAllSymbolsToNormal = function () {
    for (var t = 0; t < this.reels.length; t++) this.reels[t].SetSymbolsToNormal()
}, VS_ReelsManager.prototype.OnStartSpin = function () {
    this.state == VS_ReelsManager.State.IDLE && (this.resultReceived = !1, XT.GetBool(Vars.IsDifferentSpinType) ? XT.TriggerEvent(Vars.StartDifferentSpin) : (this.startFasterInFastPlay && (this.isFastStart = this.IsFastPlayOn()), this.startFasterForced && (this.isFastStart = !0), this.PrepareStart()))
}, VS_ReelsManager.prototype.OnStopSpin = function () {
    this.isStoppingFast = !0, this.fastStop = !0, this.rememberToStop = !0, this.mustStopStoppingReels = !0
}, VS_ReelsManager.prototype.SetAllowFastStop = function (t) {
    t || (this.fastStop = !1)
}, VS_ReelsManager.prototype.PrepareStart = function () {
    for (var t = 0, e = 0; e < this.validateReelSpin.length; e++) this.validateReelSpin[e] && t++;
    this.startTimer = this.reelDelayStart, (this.IsFastPlayOn() || XT.GetBool(Vars.ContinuousSpin) || this.startFasterForced) && (this.startTimer = this.reelDelayStart * t);
    var i = XT.GetObject(Vars.ReelsStartOrder);
    if (-1 == XT.GetInt(Vars.ReelToBeSpun)) {
        this.reelsSpinning = t;
        for (e = 0; e < i.length; e++)
            if (this.validateReelSpin[i[e]]) {
                this.reelToStart = i[e];
                break
            }
    } else this.reelToStart = XT.GetInt(Vars.ReelToBeSpun), this.reelsSpinning = 1;
    if (this.autoStopTimer = 0, (this.IsFastPlayOn() || this.startFasterForced) && (this.autoStopTimer = this.autoStopDelay), this.state = VS_ReelsManager.State.STARTING, this.nextReels.length > 0 && XT.SetObject(Vars.ReelSymbols, this.nextReels), XT.GetBool(Vars.HiddenMathematics))
        for (e = 0; e < this.reels.length; e++) this.reels[e].SetPosition(0);
    this.nextReels = [], this.isStoppingFast = !1, this.rememberToStop = !1, this.mustStopStoppingReels = !1, this.fastStop = !1, this.fastStopTimers = null, this.logicIsFS = XT.GetBool(Vars.Logic_IsFreeSpin)
}, VS_ReelsManager.prototype.PrepareStop = function () {
    this.stopTimer = this.reelDelayStop, (this.IsFastPlayOn() || this.fastStop) && (this.stopTimer = this.reelDelayStop * this.reels.length);
    var t = XT.GetObject(Vars.ReelsStopOrder);
    if (-1 == XT.GetInt(Vars.ReelToBeSpun)) {
        this.reelToStop = t[0];
        for (var e = 0; e < t.length; e++)
            if (this.validateReelSpin[t[e]]) {
                this.reelToStop = t[e];
                break
            }
    } else this.reelToStop = XT.GetInt(Vars.ReelToBeSpun);
    this.state = VS_ReelsManager.State.STOPPING
}, VS_ReelsManager.prototype.Start = function () {}, VS_ReelsManager.prototype.Init = function () {}, VS_ReelsManager.prototype.CheckAndSetContinuousSpin = function () {
    XT.GetBool(Vars.ForceContinuousSpin) && (Input.GetMouseButton(0) || XT.GetInt(Vars.AutoplaySpinsLeft) < 0 && XT.SetBool(Vars.ForceContinuousSpin, !1));
    var t = Input.GetKey(KeyCode.Space) || Input.GetKey(KeyCode.Return),
        e = XT.GetBool(Vars.AutoplayContinuousSpin) && XT.GetInt(Vars.AutoplaySpinsLeft) >= 0;
    !Globals.InputBlocked && XT.GetBool(Vars.AllowContinuousSpin) && (t || XT.GetBool(Vars.ForceContinuousSpin) || e) ? (this.continuousSpinTimer += Time.deltaTime, (this.continuousSpinTimer > .8 || XT.GetBool(Vars.ForceContinuousSpin) || XT.GetBool(Vars.AutoplayContinuousSpin) && XT.GetInt(Vars.AutoplaySpinsLeft) >= 0) && (XT.GetBool(Vars.Jurisdiction_DisableContinousSpin) || XT.SetBool(Vars.ContinuousSpin, !0))) : (XT.SetBool(Vars.ContinuousSpin, !1), this.continuousSpinTimer = 0)
}, VS_ReelsManager.prototype.Update = function () {
    if (XT.SetFloat(Vars.SpinDuration, XT.GetFloat(Vars.SpinDuration) + Time.deltaTime), this.CheckAndSetContinuousSpin(), this.state == VS_ReelsManager.State.SPINNING && (this.autoStopTimer += Time.deltaTime, this.autoStopTimer > this.autoStopDelay && this.resultReceived && !XT.GetBool(Vars.KeepSpinning) && (this.PrepareStop(), this.autoStopTimer = 0)), this.state == VS_ReelsManager.State.SPINNING && this.resultReceived && !XT.GetBool(Vars.KeepSpinning) && this.rememberToStop && this.PrepareStop(), this.state == VS_ReelsManager.State.STARTING) {
        this.startTimer += Time.deltaTime, this.reelIdxList = [];
        for (var t = XT.GetObject(Vars.ExtraReelDelayStart), e = this.GetIndexOfReelToStart(this.reelToStart); this.startTimer > this.reelDelayStart + t[e];) {
            this.startTimer -= this.reelDelayStart + t[e], this.logicIsFS ? this.reels[this.reelToStart].SetSpeedCurve(this.spinCurves.startFS) : this.reels[this.reelToStart].SetSpeedCurve(this.spinCurves.startNormal), this.ShouldSpinReel() && this.validateReelSpin[this.reelToStart] && (this.reels[this.reelToStart].StartSpin(), this.reelIdxList.push(this.reelToStart));
            for (var i = XT.GetObject(Vars.ReelsStartOrder), n = !0, o = e + 1; o < i.length; o++)
                if (this.validateReelSpin[i[o]]) {
                    this.reelToStart = i[o], e = this.GetIndexOfReelToStart(this.reelToStart), n = !1;
                    break
                } if (n || -1 != XT.GetInt(Vars.ReelToBeSpun)) {
                this.state = VS_ReelsManager.State.SPINNING;
                break
            }
        }
        this.reelIdxList.length > 0 && (XT.SetObject(Vars.LastStartedReelIndices, this.reelIdxList), XT.TriggerEvent(Vars.Evt_Internal_ReelStarted))
    }
    if (this.state == VS_ReelsManager.State.STOPPING && this.resultReceived) {
        this.reelIdxList = [];
        var s = XT.GetObject(Vars.ExtraReelDelayStop),
            a = XT.GetObject(Vars.ReelsStopOrder),
            r = this.GetIndexOfReelToStop(this.reelToStop);
        if (this.NeedToKeepReelSpinning(r) ? this.stopTimer + Time.deltaTime <= this.reelDelayStop + s[r] ? this.stopTimer += Time.deltaTime : this.CanStop(this.reelToStop) : (this.stopTimer + Time.deltaTime <= this.reelDelayStop + s[r] || this.CanStop(this.reelToStop)) && (this.stopTimer += Time.deltaTime), this.instantStop && this.mustStopStoppingReels) {
            for (o = 0; o < r; o++) {
                var l = a[o];
                this.fastStopTimers = this.reels[l].StopSpin(this.fastStop, this.fastStopTimers)
            }
            this.mustStopStoppingReels = !1
        }
        for (; this.stopTimer > this.reelDelayStop + s[r] || this.fastStop;) {
            this.stopTimer -= this.reelDelayStop + s[r], this.reels[this.reelToStop].isExcited && !this.fastStop ? (this.stopTimer -= this.exciter.extraStopDelayForNextReelOnExcite, this.logicIsFS ? this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopExcitedFS) : this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopExcitedNormal)) : this.useCustomSpinCurves[this.reelToStop] ? this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopCustom) : this.logicIsFS ? this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopFS) : this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.stopNormal), this.fastStopTimers = this.reels[this.reelToStop].StopSpin(this.fastStop, this.fastStopTimers), this.reelIdxList.push(this.reelToStop);
            var u = !0;
            for (o = r + 1; o < a.length; o++)
                if (this.validateReelSpin[a[o]]) {
                    this.reelToStop = a[o], r = this.GetIndexOfReelToStop(this.reelToStop), u = !1;
                    break
                } if (u || -1 != XT.GetInt(Vars.ReelToBeSpun)) {
                this.state = VS_ReelsManager.State.IDLE;
                break
            }
            null != this.exciter && this.exciter.Excite(this.reelToStop) ? (XT.SetInt(Vars.LastExcitedReelIndex, this.reelToStop), XT.TriggerEvent(Vars.Evt_Internal_ExcitedReel), this.stopTimer = -this.exciter.extraExciteTime, this.reels[this.reelToStop].isExcited = !0, this.logicIsFS ? this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.excitedFS) : this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.excitedNormal)) : this.useCustomSpinCurves[this.reelToStop] && this.reels[this.reelToStop].SetSpeedCurve(this.spinCurves.excitedCustom)
        }
        if (this.reelIdxList.length > 0) {
            XT.SetObject(Vars.LastStoppedReelIndices, this.reelIdxList), XT.TriggerEvent(Vars.Evt_Internal_ReelStopStarted);
            for (var h = 0; h < this.reelIdxList.length; h++) this.reels[this.reelIdxList[h]].isExcited = !1
        }
    }
}, VS_ReelsManager.prototype.NeedToKeepReelSpinning = function (t) {
    var e = XT.GetObject(Vars.ReelsStopOrder);
    return !!this.reels[e[t]].NeedToKeepSpinning()
}, VS_ReelsManager.prototype.StopFinished = function (t) {
    null != this.exciter && this.exciter.ReelStopped(t, this.isStoppingFast), this.reelsSpinning--, XT.SetInt(Vars.LastStopEndedReelIndex, t), XT.TriggerEvent(Vars.Evt_Internal_ReelStopEnded), 0 == this.reelsSpinning && (this.resultReceived = !1, this.BuildOrderedSymbolList(), XT.TriggerEvent(Vars.Evt_Internal_ReelManager_SpinEnded))
}, VS_ReelsManager.prototype.BuildOrderedHoldersList = function () {
    for (var t = this.reels.length, e = this.reels[0].symbolHolders.length, i = [], n = this.justVisualSymbols; n < e; n++)
        for (var o = 0; o < t; o++) i.push(this.reels[o].symbolHolders[n]);
    XT.SetObject(Vars.OrderedSymbolHoldersList, i)
}, VS_ReelsManager.prototype.BuildOrderedSymbolList = function () {
    for (var t = this.reels.length, e = this.reels[0].symbolHolders.length, i = [], n = 0; n < e; n++)
        for (var o = 0; o < t; o++) i.push(this.reels[o].symbolHolders[n].currentSymbol);
    XT.SetObject(Vars.OrderedSymbolList, i)
}, VS_ReelsManager.prototype.IsFastPlayOn = function () {
    return XT.GetBool(Vars.FastPlay)
}, VS_ReelsManager.prototype.GetIndexOfReelToStop = function (t) {
    for (var e = XT.GetObject(Vars.ReelsStopOrder), i = -1, n = 0; n < e.length; n++) t == e[n] && (i = n);
    return i
}, VS_ReelsManager.prototype.GetIndexOfReelToStart = function (t) {
    for (var e = XT.GetObject(Vars.ReelsStartOrder), i = -1, n = 0; n < e.length; n++) t == e[n] && (i = n);
    return i
}, VS_ReelsManager.prototype.ShouldSpinReel = function () {
    return -1 == XT.GetInt(Vars.ReelToBeSpun) || this.reelToStart == XT.GetInt(Vars.ReelToBeSpun)
}, VS_ReelsManager.prototype.CanStop = function (t) {
    return !0
}, VS_ReelsManager.prototype.ChangeReelNumberOfReelSpinning = function (t) {
    this.reelsSpinning = t
}, goog.provide("UHT.LineInfo"), goog.provide("UHT.VS_LinesDefinitions"), goog.require("UHT.XTLink"), goog.require("UHT.LineInfo"), VS_LinesDefinitions.prototype = Object.create(XTLink.prototype), VS_LinesDefinitions.prototype.constructor = VS_LinesDefinitions, VS_LinesDefinitions.prototype.XTRegisterCallbacks = function () {}, VS_LinesDefinitions.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.LinesDefinitionsObject, this)
}, goog.require("UHT.XTLink"), goog.require("UHT.VS_LinesDefinitions"), goog.require("UHT.System.Misc.Utils");
var SpecialSymbolPayType = {
        Everywhere: 0,
        OnActivePayline: 1,
        OnActivePaylineLeftToRight: 2
    },
    ScatterSymbolPayType = {
        Nowhere: 0,
        Everywhere: 1,
        OnActivePayline: 2,
        OnActivePaylineLeftToRight: 3,
        OnAdjacentReelsBothWays: 4
    },
    ScreenSymbolsToUse = {
        initialScreenSymbols: 0,
        finalScreenSymbols: 1,
        customScreenSymbols: 2
    };

function WinLineInfo() {
    this.Id = 0, this.Positions = null, this.dominatingSymbol = 0, this.containsWild = !1
}

function VS_SpinExciter() {
    XTLink.call(this), this.symbolList = [], this.allReelsSymbolList = [], this.PossibleWinCombo = null, this.AccumulatedPossibleWin = null, this.PossibleWinComboSymbols = null, this.StillPossibleWinComboPerSymbol = null, this.PossibleWinComboBonus = null, this.PossibleWinComboScatter = null, this.ActualWinCombo = null, this.ActualWinComboBonus = null, this.ActualWinComboScatter = null, this.StillPossibleWinComboBonus = null, this.StillPossibleWinComboScatter = null, this.StillPossibleWinComboWild = null, this.ShouldAnimateBonus = null, this.ShouldAnimateScatter = null, this.ExcitedImportantSymbols = null, this.symbolPaying = null, this.exciteOn = ScreenSymbolsToUse.finalScreenSymbols, this.symbolExciting = null, this.canHighlightOff = null, this.extraScatters = null, this.extraWilds = null, this.symbolIDSubstitutes = [], this.BonusPays = SpecialSymbolPayType.Everywhere, this.BonusMinCombo = 3, this.exciteForBonusSymbols = !0, this.forceBonusOnReels = [], this.forceScattersOnReels = [], this.WildSubstitutesScatter = !1, this.ScatterExcites = !1, this.ScatterMustBeStacked = !1, this.ScatterIsStacked = !1, this.ScatterPays = SpecialSymbolPayType.Everywhere, this.ScatterMinCombo = 3, this.ScatterMinComboFreeSpins = -1, this.exciteForScatterSymbols = !0, this.MysteryScatterMinCombo = 3, this.ScatterPaysMoney = ScatterSymbolPayType.Nowhere, this.ScatterPaysMoneyMinCombo = 3, this.extraExciteTime = 1.5, this.extraStopDelayForNextReelOnExcite = 0, this.betLines = null, this.betLinesServer = [], this.linesDef = null, this.reelsManager = null, this.firstExcitedReel = 2, this.hasLoopExciteImportant = !1, this.payoutThreshold = 3, this.payoutData = null
}

function ReelDragSettings() {
    this.isEnabled = !1, this.percentageOfSymbolVisible = 0, this.isCustom = !1, this.customLayer = null, this.customZ = 0
}

function ReelDragController() {
    XTLink.call(this), this.reelId = -1, this.boxCollider = null, this.dragObject = null, this.animator = null, this.animatorReel = null, this.animationTime = 0, this.movementCurve = null, this.spinButtons = null, this.catDragStart = null, this.reelsManager = null, this.reel = null, this.reelLocalPos = null, this.reelOffset = null, this.prevPos = null, this.targetPos = null, this.minPos = null, this.maxPos = null, this.isEnabled = !1, this.checkSpinButtonsActiveState = !1, this.isDragStarted = !1, this.extraVisible = 0, this.screenWidth = -69, this.screenHeight = -69, this.screenChangedFrame = -69, this.numberError = .001
}

function MenuButton() {
    Component.call(this), this.label = null, this.icon = null, this.button = null
}
VS_SpinExciter.prototype = Object.create(XTLink.prototype), VS_SpinExciter.prototype.constructor = VS_SpinExciter, VS_SpinExciter.prototype.XTRegisterCallbacks = function () {
    switch (XT.RegisterCallbackObject(Vars.FirstScreenSymbols, this.OnFirstScreenSymbols, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytablePayoutUpdate, this.UpdateSymbolPayoutInformation, this), XT.RegisterCallbackObject(Vars.ReelSymbols, this.OnReelSymbols, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived, this.ComputeBetLinesFromServer, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived, this.ComputeBetLinesFromServer, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived, this.ComputeBetLinesFromServer, this), this.exciteOn) {
        case ScreenSymbolsToUse.initialScreenSymbols:
            XT.RegisterCallbackObject(Vars.InitialResultScreenSymbols, this.OnScreenSymbols, this);
            break;
        case ScreenSymbolsToUse.finalScreenSymbols:
            XT.RegisterCallbackObject(Vars.ResultScreenSymbols, this.OnScreenSymbols, this);
            break;
        case ScreenSymbolsToUse.customScreenSymbols:
            XT.RegisterCallbackObject(Vars.CustomResultScreenSymbols, this.OnScreenSymbols, this);
            break
    }
}, VS_SpinExciter.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.SpinExciterObject, this), XT.SetObject(Vars.ExtraScatters, this.extraScatters), XT.SetObject(Vars.AdditionalBonusScatters, null)
}, VS_SpinExciter.prototype.OnReelSymbols = function (t) {
    this.allReelsSymbolList = [];
    for (var e = 0; e < t.length; e++) this.allReelsSymbolList.push(t[e])
}, VS_SpinExciter.prototype.SymbolsPresentAnywhereOnReel = function (t, e) {
    for (var i = 0, n = 0; n < this.allReelsSymbolList[e].length; n++) this.IsSameID(t, this.allReelsSymbolList[e][n]) && i++;
    return 0 == i && this.forceBonusOnReels.length > e && this.forceBonusOnReels[e] && i++, 0 == i && this.forceScattersOnReels.length > e && this.forceScattersOnReels[e] && i++, i
}, VS_SpinExciter.prototype.IsSameID = function (t, e) {
    if (t == e) return !0;
    if (null != this.symbolIDSubstitutes)
        for (var i = 0; i < this.symbolIDSubstitutes.length; i++)
            if (this.symbolIDSubstitutes[i].realID == t && -1 != this.symbolIDSubstitutes[i].substituteIDs.indexOf(e)) return !0;
    return !1
}, VS_SpinExciter.prototype.OnFirstScreenSymbols = function (t) {
    var e = t;
    this.symbolList = [];
    for (var i = 0; i < e.length; i++) this.symbolList.push([]);
    var n = this.symbolList.length;
    this.PossibleWinCombo = _array.create(n, !1), this.AccumulatedPossibleWin = _array.create(n, !1), this.PossibleWinComboSymbols = _array.create(n, !1), this.PossibleWinComboBonus = _array.create(n, !1), this.PossibleWinComboScatter = _array.create(n, !1), this.ActualWinCombo = _array.create(n, !1), this.ActualWinComboBonus = _array.create(n, !1), this.ActualWinComboScatter = _array.create(n, !1), this.StillPossibleWinComboBonus = _array.create(n, !1), this.StillPossibleWinComboScatter = _array.create(n, !1), this.StillPossibleWinComboWild = _array.create(n, !1), this.ShouldAnimateBonus = _array.create(n * e[0].length, !1), this.ShouldAnimateScatter = _array.create(n * e[0].length, !1);
    var o = XT.GetObject(Vars.SymbolsManagerObject).symbols,
        s = -1;
    for (i = 0; i < o.length; ++i) o[i].symbolId > s && (s = o[i].symbolId);
    var a = s + 1;
    this.ExcitedImportantSymbols = [];
    for (i = 0; i < n; i++) this.ExcitedImportantSymbols.push(_array.create(a, !1));
    XT.SetObject(Vars.ExcitedImportantSymbols, this.ExcitedImportantSymbols), this.linesDef = XT.GetObject(Vars.LinesDefinitionsObject), this.reelsManager = XT.GetObject(Vars.ReelsManagerObject), this.StillPossibleWinComboPerSymbol = [];
    for (i = 0; i < n; ++i) this.StillPossibleWinComboPerSymbol[i] = new Array(a)
}, VS_SpinExciter.prototype.OnScreenSymbols = function (t) {
    for (var e = t, i = 0; i < e.length; i++) {
        this.symbolList[i] = [];
        for (var n = 0; n < e[i].length; n++) this.symbolList[i].push(e[i][e[i].length - 1 - n])
    }
    this.ResetPossibleWins(), this.ComputePossibleWins(), XT.TriggerEvent(Vars.Evt_Internal_ExciterComputeEnded)
}, VS_SpinExciter.prototype.UpdateSymbolPayoutInformation = function () {
    var t = XT.GetObject(Vars.PaytablePayoutData);
    null != t && (this.payoutData = t)
}, VS_SpinExciter.prototype.ResetPossibleWins = function () {
    for (var t = 0; t < this.PossibleWinCombo.length; t++) this.PossibleWinCombo[t] = !1, this.AccumulatedPossibleWin[t] = 0, this.PossibleWinComboSymbols[t] = !1, this.PossibleWinComboBonus[t] = !1, this.PossibleWinComboScatter[t] = !1, this.ActualWinCombo[t] = !1, this.ActualWinComboBonus[t] = !1, this.ActualWinComboScatter[t] = !1, this.StillPossibleWinComboBonus[t] = !1, this.StillPossibleWinComboScatter[t] = !1, this.StillPossibleWinComboWild[t] = !1;
    for (t = 0; t < this.StillPossibleWinComboPerSymbol.length; ++t)
        for (var e = 0; e < this.StillPossibleWinComboPerSymbol[t].length; e++) this.StillPossibleWinComboPerSymbol[t][e] = !1;
    for (t = 0; t < this.ShouldAnimateBonus.length; t++) this.ShouldAnimateBonus[t] = !1;
    for (t = 0; t < this.ShouldAnimateScatter.length; t++) this.ShouldAnimateScatter[t] = !1;
    for (t = 0; t < this.ExcitedImportantSymbols.length; t++)
        for (e = 0; e < this.ExcitedImportantSymbols[t].length; e++) this.ExcitedImportantSymbols[t][e] = !1
}, VS_SpinExciter.prototype.SymbolAppearencesOnReel = function (t, e) {
    for (var i = 0, n = 0; n < this.symbolList[e].length; n++) this.IsSameID(t, this.symbolList[e][n]) && i++;
    var o = XT.GetObject(Vars.AdditionalBonusScatters);
    if (null != o)
        for (n = 0; n < o[e].length; n++) this.IsSameID(t, o[e][n]) && i++;
    return i
}, VS_SpinExciter.prototype.GetSymbolFromReel = function (t, e, i) {
    var n = this.symbolList[e][t];
    if (0 == i) {
        var o = XT.GetObject(Vars.AdditionalBonusScatters);
        null != o && o[e][t] >= 0 && (n = o[e][t])
    }
    return n
}, VS_SpinExciter.prototype.ComputePossibleWins = function () {
    var t = XT.GetInt(Vars.Lines),
        e = this.symbolList.length;
    this.betLines = _array.create(t, null);
    for (var i = 0; i < t; i++) {
        this.betLines[i] = new WinLineInfo, this.betLines[i].Id = i + 1, this.betLines[i].Positions = _array.create(e, 0), this.betLines[i].containsWild = !1;
        for (var n = 0; n < e; n++) this.betLines[i].Positions[n] = this.linesDef.lines[i].symbolIndices[n]
    }
    if (this.BonusPays == SpecialSymbolPayType.Everywhere) {
        var o = 0;
        for (i = 0; i < e; i++) {
            var s = !1,
                a = 0,
                r = !1;
            for (n = i; n < e; n++) this.SymbolsPresentAnywhereOnReel(0, n) > 0 && (s = !0, n != i ? a++ : r = !0);
            i > 1 && o >= this.BonusMinCombo - 1 && s && r && (this.PossibleWinCombo[i] = !0, this.PossibleWinComboBonus[i] = !0), (o += this.SymbolAppearencesOnReel(0, i)) >= this.BonusMinCombo && (this.ActualWinCombo[i] = !0, this.ActualWinComboBonus[i] = !0), o + a >= this.BonusMinCombo && (this.StillPossibleWinComboBonus[i] = !0)
        }
        if (o >= this.BonusMinCombo)
            for (i = 0; i < this.ShouldAnimateBonus.length; i++) this.ShouldAnimateBonus[i] = !0
    }
    if (this.BonusPays == SpecialSymbolPayType.OnActivePayline || this.BonusPays == SpecialSymbolPayType.OnActivePaylineLeftToRight)
        for (var l = 0; l < this.betLines.length; ++l) {
            var u = this.betLines[l];
            for (o = 0, i = 0; i < u.Positions.length; i++) {
                for (s = !1, a = 0, r = !1, n = i; n < u.Positions.length; n++) this.SymbolsPresentAnywhereOnReel(0, n) > 0 && (s = !0, n != i ? a++ : r = !0);
                var h = (A = u.Positions[i]) % e,
                    c = Math.floor(A / e),
                    p = this.GetSymbolFromReel(c, h, !1);
                if (i > 1 && o >= this.BonusMinCombo - 1 && s && r && (this.PossibleWinCombo[i] = !0, this.PossibleWinComboBonus[i] = !0), 0 == p) o++;
                else if (this.BonusPays == SpecialSymbolPayType.OnActivePaylineLeftToRight) break;
                if (o >= this.BonusMinCombo) {
                    this.ActualWinCombo[i] = !0, this.ActualWinComboBonus[i] = !0;
                    for (n = 0; n <= i; n++) this.ShouldAnimateBonus[u.Positions[n]] = !0
                }
                o + a >= this.BonusMinCombo && (this.StillPossibleWinComboBonus[i] = !0)
            }
        }
    if (this.ScatterPays == SpecialSymbolPayType.Everywhere) {
        var d = 0;
        for (i = 0; i < e; i++) {
            var m = !1,
                S = 0,
                g = !1;
            for (n = i; n < e; n++) this.SymbolsPresentAnywhereOnReel(1, n) > 0 && (m = !0, n != i ? this.ScatterIsStacked ? S += this.symbolList[i].length : S++ : g = !0);
            if (i > 1 && d >= this.ScatterMinCombo - 1 && m && g && (this.PossibleWinCombo[i] = !0, this.PossibleWinComboScatter[i] = !0), this.ScatterMustBeStacked) d += this.SymbolAppearencesOnReel(1, i) == this.reelsManager.reels[i].symbolHolders.length ? 1 : 0;
            else if (d += this.SymbolAppearencesOnReel(1, i), null != this.extraScatters && this.extraScatters.length > 0)
                for (var y = 0; y < this.extraScatters.length; y++) d += this.SymbolAppearencesOnReel(this.extraScatters[y], i);
            d >= this.ScatterMinCombo && (this.ActualWinCombo[i] = !0, this.ActualWinComboScatter[i] = !0), this.ScatterMustBeStacked ? d + S >= this.GetScatterMinCombo() && this.SymbolAppearencesOnReel(1, i) == this.reelsManager.reels[i].symbolHolders.length && (this.StillPossibleWinComboScatter[i] = !0) : d + S >= this.GetScatterMinCombo() && (this.StillPossibleWinComboScatter[i] = !0)
        }
        if (d >= this.GetScatterMinCombo())
            for (i = 0; i < this.ShouldAnimateScatter.length; i++) this.ShouldAnimateScatter[i] = !0
    }
    if (this.ScatterPays == SpecialSymbolPayType.OnActivePayline || this.ScatterPays == SpecialSymbolPayType.OnActivePaylineLeftToRight)
        for (l = 0; l < this.betLines.length; ++l)
            for (u = this.betLines[l], d = 0, i = 0; i < u.Positions.length; i++) {
                for (m = !1, S = 0, g = !1, n = i; n < u.Positions.length; n++) this.SymbolsPresentAnywhereOnReel(1, n) > 0 && (m = !0, n != i ? S++ : g = !0);
                h = (A = u.Positions[i]) % e, c = Math.floor(A / e), p = this.GetSymbolFromReel(c, h, !1);
                if (i > 1 && d >= this.ScatterMinCombo - 1 && m && g && (this.PossibleWinCombo[i] = !0, this.PossibleWinComboScatter[i] = !0), 1 == p || 2 == p && this.WildSubstitutesScatter) d++;
                else if (this.ScatterPays == SpecialSymbolPayType.OnActivePaylineLeftToRight) break;
                if (d >= this.GetScatterMinCombo()) {
                    this.ActualWinCombo[i] = !0, this.ActualWinComboScatter[i] = !0;
                    for (n = 0; n <= i; n++) this.ShouldAnimateScatter[u.Positions[n]] = !0
                }
                d + S >= this.GetScatterMinCombo() && (this.StillPossibleWinComboScatter[i] = !0)
            }
    for (l = 0; l < this.betLines.length; ++l) {
        u = this.betLines[l];
        var f = XT.GetBool(Vars.ScatterSymbolIsWild),
            b = 2,
            T = -1,
            C = 0;
        for (i = 0; i < u.Positions.length; i++) {
            var A;
            h = (A = u.Positions[i]) % e, c = Math.floor(A / e), p = this.GetSymbolFromReel(c, h);
            if (-1 == T && (T = p), f)
                if (this.SymbolIsWild(p) || 1 == p) this.StillPossibleWinComboWild[i] = !0;
                else if (p != b && !this.SymbolIsWild(b) && 1 != b || p < 2) {
                var v = i,
                    M = _array.create(v, 0);
                for (n = 0; n < v; n++) M[n] = u.Positions[n];
                u.Positions = M
            } else b = p, T = p;
            else if (this.SymbolIsWild(p)) this.StillPossibleWinComboWild[i] = !0, C == i && C++;
            else if (p != b && !this.SymbolIsWild(b) || p < 2) {
                v = i;
                C > 0 && this.payoutData[2][C - 1] > this.payoutData[b][v - 1] && (v = C, b = 2);
                for (M = _array.create(v, 0), n = 0; n < v; n++) M[n] = u.Positions[n];
                u.Positions = M
            } else b = p, T = p;
            u.containsWild || (u.containsWild = this.SymbolIsWild(p))
        }
        if (u.dominatingSymbol = b, -1 != T) {
            var L = u.Positions.length;
            for (i = 0; i < L; i++) this.StillPossibleWinComboPerSymbol[i][T] = !0
        }
        if (b > (f ? 0 : 1) && (this.symbolExciting[b] || this.payoutThreshold > .001)) {
            for (L = u.Positions.length, i = 0; i < L; i++) this.ActualWinCombo[i] = !0;
            L > e - 1 && (L = e - 1);
            for (i = 0; i <= L; i++) null != this.payoutData && (this.AccumulatedPossibleWin[i] += this.payoutData[b][i] * XT.GetDouble(Vars.CurrentWinMultiplier));
            for (i = 0; i <= L; i++) this.PossibleWinCombo[i] = !0, this.PossibleWinComboSymbols[i] = !0, this.hasLoopExciteImportant && (this.ExcitedImportantSymbols[i][b] = !0)
        }
    }
    this.SetWinComboSounds()
}, VS_SpinExciter.prototype.SetWinComboSounds = function () {
    XT.SetObject(Vars.PossibleWinComboSymbols, this.PossibleWinComboSymbols), XT.SetObject(Vars.StillPossibleWinComboPerSymbol, this.StillPossibleWinComboPerSymbol), XT.SetObject(Vars.StillPossibleWinComboBonus, this.StillPossibleWinComboBonus), XT.SetObject(Vars.StillPossibleWinComboScatter, this.StillPossibleWinComboScatter), XT.SetObject(Vars.StillPossibleWinComboWild, this.StillPossibleWinComboWild), XT.SetObject(Vars.ReelsWinInfo, this.ActualWinCombo)
}, VS_SpinExciter.prototype.Excite = function (t) {
    if (this.extraExciteTime < 0 || !XT.GetObject(Vars.ReelsCanBeExcited)[t]) return !1;
    if (t >= this.firstExcitedReel) {
        if (this.PossibleWinComboScatter[t] && this.exciteForScatterSymbols || this.PossibleWinComboBonus[t] && this.exciteForBonusSymbols) return !0;
        var e = !1;
        if (null == this.payoutData) e = !0;
        else {
            var i = XT.GetInt(Vars.Lines);
            this.AccumulatedPossibleWin[t] >= this.payoutThreshold * i && (e = !0)
        }
        if (this.PossibleWinCombo[t] && e) return !0
    }
    return !1
}, VS_SpinExciter.prototype.CanHighlightOff = function (t) {
    return this.canHighlightOff[t]
}, VS_SpinExciter.prototype.UpdateSymbol = function (t, e, i) {
    var n = t.currentSymbol.symbolId,
        o = XT.GetBool(Vars.ScatterSymbolIsWild);
    if (this.CanHighlightOff(n) || o && 1 == n)
        if (1 == n && this.ScatterExcites && i) {
            for (var s = !1, a = e < this.reelsManager.reels.length - 1 && this.PossibleWinComboScatter[e + 1], r = 0; r <= e; r++) this.ActualWinComboScatter[r] && (s = !0);
            s && a ? t.currentSymbol.SetWinExcited() : s ? t.currentSymbol.SetWinning() : a ? t.currentSymbol.SetExcited() : this.CanHighlightOff(n) ? t.currentSymbol.SetHighlightOff() : t.currentSymbol.SetNormal()
        } else {
            for (var l = t.GetOrderedSymbolIdx(), u = -1, h = 0; h < this.betLines.length; ++h)
                for (var c = this.betLines[h], p = 0; p < c.Positions.length; p++) p <= e && c.Positions[p] == l && u < c.Positions.length && (u = c.Positions.length);
            var d = !1,
                m = !1;
            u >= this.firstExcitedReel && u > e && (d = !0), u >= this.symbolPaying[n] && e + 1 >= this.symbolPaying[n] && (m = !0), m && d ? t.currentSymbol.SetWinExcited() : m ? t.currentSymbol.SetWinning() : d ? t.currentSymbol.SetExcited() : !this.CanHighlightOff(n) && o && 1 == n ? t.currentSymbol.SetNormal() : t.currentSymbol.SetHighlightOff()
        }
}, VS_SpinExciter.prototype.ReelStopped = function (t, e) {
    if (!(e || t < this.firstExcitedReel - 1)) {
        for (var i = !1, n = Math.min(t + 1, this.reelsManager.reels.length - 1), o = 0; o <= n; o++) this.Excite(o) && this.PossibleWinComboSymbols[o] && (i = !0);
        if (i)
            for (o = 0; o <= t; o++)
                for (var s = this.reelsManager.reels[o], a = 0; a < s.symbolHolders.length; a++) this.UpdateSymbol(s.symbolHolders[a], t, !1);
        if (this.ScatterExcites)
            for (o = 0; o <= t; o++)
                for (s = this.reelsManager.reels[o], a = 0; a < s.symbolHolders.length; a++) 1 == s.symbolHolders[a].currentSymbol.symbolId && this.UpdateSymbol(s.symbolHolders[a], t, !0)
    }
}, VS_SpinExciter.prototype.GetScattersThatNeedToBeAnimated = function () {
    return this.ShouldAnimateScatter
}, VS_SpinExciter.prototype.GetBonusesThatNeedToBeAnimated = function () {
    return this.ShouldAnimateBonus
}, VS_SpinExciter.prototype.GetScatterMinCombo = function () {
    return XT.GetBool(Vars.Logic_IsFreeSpin) && this.ScatterMinComboFreeSpins > 0 ? this.ScatterMinComboFreeSpins : this.ScatterMinCombo
}, VS_SpinExciter.prototype.SymbolIsWild = function (t) {
    return 2 == t || this.extraWilds.indexOf(t) > -1
}, VS_SpinExciter.prototype.ComputeBetLinesFromServer = function () {
    this.betLinesServer.splice(0);
    var t = XT.GetObject(Vars.ReceivedWinLines);
    if (null != t)
        for (var e = this.symbolList.length, i = 2, n = 0; n < t.length; n++) {
            var o = new WinLineInfo;
            o.Id = t[n].LineNumber, o.Positions = t[n].WinPositions, o.containsWild = !1;
            for (var s = [], a = 0; a < o.Positions.length; ++a) {
                var r = this.GetSymbolFromReel(_number.otoi(o.Positions[a] / e), _number.otoi(o.Positions[a] % e));
                s.indexOf(r) < 0 && s.push(r), this.SymbolIsWild(r) && (i = r, o.containsWild = !0)
            }
            o.containsWild && (o.dominatingSymbol = i);
            for (a = 0; a < s.length; ++a) this.SymbolIsWild(s[a]) || (o.dominatingSymbol = s[a]);
            this.betLinesServer.push(o)
        }
}, VS_SpinExciter.prototype.BetLinesFromServer = function (t) {
    for (var e = 0; e < this.betLinesServer.length; ++e)
        if (t == this.betLinesServer[e].Id) return this.betLinesServer[e];
    return null
}, goog.require("UHT.XTLink"), ReelDragController.prototype = Object.create(XTLink.prototype), ReelDragController.prototype.constructor = ReelDragController, ReelDragController.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.ReelsManagerObject, this.OnReelsManagerObject, this)
}, ReelDragController.prototype.ScreenChanged = function () {
    this.isEnabled && ((this.isDragStarted || this.animator.IsPlaying()) && (this.animator.Stop(), this.animatorReel.Stop(), this.reel.transform.localPosition(this.reelLocalPos)), this.isDragStarted && this.dragObject.OnPress(!1), this.boxCollider.enabled = !1, this.screenWidth = UHTScreen.width, this.screenHeight = UHTScreen.height, this.screenChangedFrame = Time.frameCount)
}, ReelDragController.prototype.OnReelsManagerObject = function (t) {
    if (this.reelsManager = t, this.reelsManager.dragSettings.isEnabled && (this.isEnabled = this.reelsManager.showTopBottomSymbols && this.reelId < this.reelsManager.reels.length && this.reelsManager.reels.length > 1, this.isEnabled && (this.reel = this.reelsManager.reels[this.reelId], this.isEnabled = this.isEnabled && this.reel.symbolHolders.length > 1, this.isEnabled))) {
        if (this.dragObject.limitPosition = !0, this.animatorReel.target = this.animatorReel.from = this.reel.gameObject, this.reelsManager.dragSettings.isCustom) {
            var e = this.transform.localPosition();
            this.transform.localPosition(new UHTMath.Vector3(e.x, e.y, this.reelsManager.dragSettings.customZ)), Globals.SetLayerRecursively(this.gameObject, this.reelsManager.dragSettings.customLayer.value())
        }
        this.UpdatePositionSizeAndDragLimits()
    }
}, ReelDragController.prototype.UpdatePositionSizeAndDragLimits = function () {
    var t, e, i = this.reel.symbolHolders[0].transform.position().y,
        n = this.reel.symbolHolders[this.reel.symbolHolders.length - 1].transform.position().y,
        o = i - this.reel.symbolHolders[1].transform.position().y,
        s = 0 == this.reelId,
        a = this.reelId == this.reelsManager.reels.length - 1;
    if (s || a) t = new UHTMath.Vector3(this.reel.transform.position().x, .5 * (i + n), this.transform.position().z), e = s ? this.reelsManager.reels[this.reelId + 1].transform.position().x - this.reel.transform.position().x : this.reel.transform.position().x - this.reelsManager.reels[this.reelId - 1].transform.position().x;
    else {
        var r = this.reelsManager.reels[this.reelId - 1].transform.position().x,
            l = this.reelsManager.reels[this.reelId + 1].transform.position().x;
        t = new UHTMath.Vector3(.5 * (l + r), .5 * (i + n), this.transform.position().z), e = .5 * (l - r)
    }
    this.prevPos = this.targetPos = this.transform.position(t), this.reelOffset = UHTMath.Vector3.sub(this.reel.transform.position(), t), this.reelLocalPos = this.reel.transform.localPosition();
    var u = this.TransformPoint(new UHTMath.Vector3(e, i - n + o, 0));
    this.boxCollider.size = new UHTMath.Vector3(u.x, u.y, this.boxCollider.size.z), this.extraVisible = o * this.reelsManager.dragSettings.percentageOfSymbolVisible, this.minPos = new UHTMath.Vector3(t.x, t.y - this.extraVisible, t.z), this.maxPos = new UHTMath.Vector3(t.x, t.y + this.extraVisible, t.z), this.dragObject.localPositionLimitMin = this.TransformPoint(this.minPos), this.dragObject.localPositionLimitMax = this.TransformPoint(this.maxPos)
}, ReelDragController.prototype.TransformPoint = function (t) {
    return this.transform.parent.inverseTransformPoint(t)
}, ReelDragController.prototype.DragStarted = function () {
    this.isDragStarted = !0, this.catDragStart.Start(), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup)
}, ReelDragController.prototype.DragEnded = function () {
    this.isDragStarted = !1;
    var t = this.transform.position();
    this.VectorsEqual(this.targetPos, t) || (this.animator.manualTo = this.targetPos, this.animator.animationTime = this.animationTime * UHTMath.inverseLerp(0, this.extraVisible, Math.abs(t.y - this.targetPos.y)), this.animatorReel.manualTo = UHTMath.Vector3.add(this.targetPos, this.reelOffset), this.animatorReel.animationTime = this.animator.animationTime, this.boxCollider.enabled ? (this.animator.Play(), this.animatorReel.Play()) : (this.animator.Sample(1), this.animatorReel.Sample(1)))
}, ReelDragController.prototype.AnimationFinished = function () {
    this.boxCollider.enabled && (XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_Prepare), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop))
}, ReelDragController.prototype.SpinButtonActiveStateChanged = function () {
    this.checkSpinButtonsActiveState = !0
}, ReelDragController.prototype.LateUpdate = function () {
    if (this.isEnabled && (this.screenWidth == UHTScreen.width && this.screenHeight == UHTScreen.height || this.ScreenChanged(), this.screenChangedFrame != Time.frameCount)) {
        if (this.screenChangedFrame + 1 == Time.frameCount && (this.UpdatePositionSizeAndDragLimits(), this.checkSpinButtonsActiveState = !0), this.checkSpinButtonsActiveState) {
            for (var t = !1, e = 0; e < this.spinButtons.length; ++e) this.spinButtons[e].activeInHierarchy && (t = !0);
            this.boxCollider.enabled = t, this.checkSpinButtonsActiveState = !1, t || this.dragObject.OnPress(!1)
        }
        var i = this.transform.position();
        if (this.isDragStarted && !this.VectorsEqual(this.prevPos, i)) {
            var n = i.y - this.targetPos.y,
                o = UHTMath.inverseLerp(0, this.extraVisible, Math.abs(n));
            this.prevPos = i, this.reel.transform.position(UHTMath.Vector3.add(UHTMath.Vector3.lerp(this.targetPos, n > 0 ? this.maxPos : this.minPos, this.movementCurve.Evaluate(o)), this.reelOffset))
        }
    }
}, ReelDragController.prototype.VectorsEqual = function (t, e) {
    return Math.abs(t.x - e.x) < this.numberError && Math.abs(t.y - e.y) < this.numberError && Math.abs(t.z - e.z) < this.numberError
}, goog.require("UHT.Engine"), MenuButton.prototype = Object.create(Component.prototype), MenuButton.prototype.constructor = MenuButton, MenuButton.prototype.UpdateValue = function (t, e) {
    this.label.text = t.text, this.label.fontName = t.fontName, this.label.Prepare(), GUIArranger.I.CopySprite(e, this.icon), GUIArranger.I.CopySpriteSize(e, this.icon);
    for (var i = this.button.gameObject.GetComponents(UIButton), n = 0; n < i.length; n++) i[n].target == this.icon && (i[n].normal = e.spriteName)
}, goog.require("UHT.ArrangeableBase");
var MenuButtonType = {
    Invalid: 0,
    Lobby: 1,
    Tournament: 2,
    PrizeDrop: 3,
    Replay: 4
};

function MenuControllerTransform() {
    this.localPosition = null, this.localScale = null
}

function MenuController() {
    ArrangeableBase.call(this), this.order = null, this.icons = null, this.labels = null, this.click = null, this.button = null, this.buttons = null, this.count = null, this.countArrangeable = null, this.countArrangementLandscape = null, this.countArrangementPortrait = null, this.collapse = null, this.singleArrangementCATS = null, this.isEnabled = null, this.isEnabledPrev = null, this.internalOrder = [], this.promotions = null, this.isCollapsed = !0, this.isCollapsedChangedInFrame = -1, this.updateCountArrangement = !1, this.countArrangement = null
}

function DemoLabelPosition() {
    ArrangeableBase.call(this), this.mobileLandscapeScale = new UHTMath.Vector3(1, 1, 1), this.mobilePortraitScale = new UHTMath.Vector3(1, 1, 1), this.defaultPosition = new UHTMath.Vector3(0, 0, 0), this.topBarReference = null, this.portraitOffSet = new UHTMath.Vector3(0, 0, 0), this.showDemoCAT = null
}

function PayingSymbol() {
    this.id, this.amount, this.positions = []
}
MenuController.prototype = Object.create(ArrangeableBase.prototype), MenuController.prototype.constructor = MenuController, MenuController.prototype.Awake = function () {
    ArrangeableBase.prototype.Awake.call(this), this.isEnabled = [], this.isEnabledPrev = [];
    for (var t = 0; t < this.order.length; ++t) this.isEnabled[t] = !1, this.isEnabledPrev[t] = !0;
    this.UpdateButtons()
}, MenuController.prototype.LateUpdate = function () {
    if (this.updateCountArrangement && (this.updateCountArrangement = !1, null != this.countArrangement && this.countArrangement.length > 0)) {
        var t = this.countArrangement[this.internalOrder.length];
        this.countArrangeable.localPosition(t.localPosition), this.countArrangeable.localScale(t.localScale)
    }
}, MenuController.prototype.XTRegisterCallbacks = function () {
    ArrangeableBase.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackObject(TournamentVars.Tournaments, this.OnPromotions, this), XT.RegisterCallbackObject(LobbyVars.LobbyCategorySymbols, this.OnLobbyCategories, this), XT.RegisterCallbackBool(ReplayVars.Replay_WinningsEnabled, this.OnReplayWinningsEnabled, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen, this.Collapse, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows, this.OnCloseAllInterfaceWindows, this)
}, MenuController.prototype.OnSwitchToPortrait = function () {
    this.countArrangement = this.countArrangementPortrait, this.updateCountArrangement = !0
}, MenuController.prototype.OnSwitchToLandscape = function () {
    this.countArrangement = this.countArrangementLandscape, this.updateCountArrangement = !0
}, MenuController.prototype.OnCloseAllInterfaceWindows = function () {
    this.isCollapsedChangedInFrame < Time.frameCount && this.Collapse()
}, MenuController.prototype.OnPromotions = function (t) {
    if (this.promotions = t, this.isEnabled[this.order.indexOf(MenuButtonType.PrizeDrop)] = !1, this.isEnabled[this.order.indexOf(MenuButtonType.Tournament)] = !1, null != this.promotions && 0 != this.promotions.length) {
        for (var e = 0; e < this.promotions.length; ++e) this.promotions[e].type == TournamentProtocol.PromoType.Race ? this.isEnabled[this.order.indexOf(MenuButtonType.PrizeDrop)] = !0 : this.promotions[e].type == TournamentProtocol.PromoType.Tournament && (this.isEnabled[this.order.indexOf(MenuButtonType.Tournament)] = !0);
        this.UpdateButtons()
    } else this.UpdateButtons()
}, MenuController.prototype.OnLobbyCategories = function (t) {
    null == t || 0 == t.length ? this.isEnabled[this.order.indexOf(MenuButtonType.Lobby)] = !1 : this.isEnabled[this.order.indexOf(MenuButtonType.Lobby)] = !0, this.UpdateButtons()
}, MenuController.prototype.OnReplayWinningsEnabled = function (t) {
    this.isEnabled[this.order.indexOf(MenuButtonType.Replay)] = t, this.UpdateButtons()
}, MenuController.prototype.UpdateButtons = function () {
    for (var t = !1, e = 0; e < this.isEnabled.length; ++e) this.isEnabledPrev[e] != this.isEnabled[e] && (t = !0, this.isEnabledPrev[e] = this.isEnabled[e]);
    if (t) {
        this.internalOrder.splice(0);
        for (e = 0; e < this.isEnabled.length; ++e) this.isEnabled[e] && this.internalOrder.push(this.order[e]);
        var i = this.internalOrder.length;
        if (1 == i) {
            var n = this.order.indexOf(this.internalOrder[0]);
            this.internalOrder[0] != MenuButtonType.Tournament && this.internalOrder[0] != MenuButtonType.PrizeDrop ? this.button.UpdateValue(this.labels[n], this.icons[n]) : i = 0, this.singleArrangementCATS[n].Start()
        } else
            for (e = 0; e < this.internalOrder.length; ++e) {
                n = this.order.indexOf(this.internalOrder[e]);
                this.buttons[e].UpdateValue(this.labels[n], this.icons[n])
            }
        this.count[i].Start(), this.updateCountArrangement = !0
    }
}, MenuController.prototype.ButtonClicked = function (t) {
    var e = this.internalOrder[t];
    if (e == MenuButtonType.Tournament || e == MenuButtonType.PrizeDrop) {
        var i = PromotionsHelper.GetPromotionType(XT.GetString(TournamentVars.SelectedTournamentID)),
            n = e == MenuButtonType.Tournament ? TournamentProtocol.PromoType.Tournament : TournamentProtocol.PromoType.Race;
        XT.SetInt(TournamentVars.MenuPromotionType, n), i != n && this.SelectPromotionOfType(n)
    }
    e == MenuButtonType.Lobby && XT.TriggerEvent(LobbyVars.Evt_DataToCode_ShowLobbyCategories), this.click[this.order.indexOf(e)].Start()
}, MenuController.prototype.SelectPromotionOfType = function (t) {
    if (null != this.promotions)
        for (var e = 0; e < this.promotions.length; ++e)
            if (this.promotions[e].type == t) {
                XT.SetString(TournamentVars.SelectedTournamentID, this.promotions[e].uid);
                break
            }
}, MenuController.prototype.Collapse = function () {
    this.isCollapsed || this.collapse.Start()
}, MenuController.prototype.SetCollapsed = function (t) {
    this.isCollapsed = t, this.isCollapsedChangedInFrame = Time.frameCount
}, goog.require("UHT.ArrangeableBase"), DemoLabelPosition.prototype = Object.create(ArrangeableBase.prototype), DemoLabelPosition.prototype.constructor = DemoLabelPosition, DemoLabelPosition.prototype.XTRegisterCallbacks = function () {
    (this.useOnMobile && Globals.isMobile || this.useOnDesktop && !Globals.isMobile) && (XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout, this.OnSwitchToLandscape, this, 10), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide, this.OnSwitchToLandscapeWide, this, 10), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull, this.OnSwitchToLandscapeWideFull, this, 10), this.useOnMobile && Globals.isMobile && (XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayout, this.OnSwitchToPortrait, this, 10), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone, this.OnSwitchToPortraitIPhone, this, 10), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad, this.OnSwitchToPortraitIPad, this, 10))), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, DemoLabelPosition.prototype.OnGameInit = function () {
    ServerOptions.isDemoMode && this.showDemoCAT.Start()
}, DemoLabelPosition.prototype.OnSwitchToPortrait = function () {
    this.transform.localScale(this.mobilePortraitScale), this.transform.position(this.topBarReference.transform.position()), this.transform.localPosition(UHTMath.Vector3.add(this.transform.localPosition(), this.portraitOffSet))
}, DemoLabelPosition.prototype.OnSwitchToLandscape = function () {
    this.transform.localScale(this.mobileLandscapeScale), this.transform.position(this.defaultPosition)
}, goog.require("UHT.FOXLink");
var PayingSymbolVars = {
    PayingSymbols: "PayingSymbols",
    PayingSymbolIsScatter: "PayingSymbolIsScatter",
    PayingSymbolsScatterIndex: "PayingSymbolsScatterIndex",
    CurrentDisplayedPayingSymbolIndex: "CurrentDisplayedPayingSymbolIndex",
    Evt_Internal_ShowPayingSymbol: "Evt_Internal_ShowPayingSymbol",
    Evt_Internal_HidePayingSymbol: "Evt_Internal_HidePayingSymbol"
};

function PayingSymbolFOX() {
    FOXLink.call(this), this.payingSymbols = []
}
PayingSymbolFOX.prototype = Object.create(FOXLink.prototype), PayingSymbolFOX.prototype.constructor = PayingSymbolFOX, PayingSymbolFOX.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(PayingSymbolVars.PayingSymbols, this.payingSymbols)
}, PayingSymbolFOX.prototype.HandleResponse = function (t) {
    this.payingSymbols.splice(0);
    var e = -1;
    if (null != t.psym) {
        var i = null;
        null != t.s && (i = _array.ConvertAll(t.s.split(","), _number.otoi));
        for (var n = t.psym.split(";"), o = 0; o < n.length; ++o) {
            var s = n[o].split("~");
            if (s.length > 1) {
                var a = new PayingSymbol;
                a.id = _number.otoi(s[0]), a.amount = _number.otod(s[1]), a.positions = s.length > 2 ? _array.ConvertAll(s[2].split(","), _number.otoi) : this.FindPositions(i, a.id), this.payingSymbols.push(a), 1 == a.id && (e = o)
            }
        }
    }
    XT.SetInt(PayingSymbolVars.PayingSymbolsScatterIndex, e), XT.SetBool(PayingSymbolVars.PayingSymbolIsScatter, 1 == this.payingSymbols.length && 0 == e)
}, PayingSymbolFOX.prototype.FindPositions = function (t, e) {
    var i = [];
    if (null != t)
        for (var n = 0; n < t.length; ++n) t[n] == e && i.push(n);
    return i
}, PayingSymbolFOX.prototype.HandleInitResponse = function (t) {
    this.HandleResponse(t)
}, PayingSymbolFOX.prototype.HandleSpinResponse = function (t) {
    this.HandleResponse(t)
}, goog.require("UHT.FOXLink");
var DefaultStateVars = {
    DefaultSymbolsAbove: "DefaultSymbolsAbove",
    DefaultSymbolsBelow: "DefaultSymbolsBelow"
};

function DefaultStateFOX() {
    FOXLink.call(this), this.initResponse = null
}

function ClockDisplayer() {
    XTLink.call(this), this.hoursLabel = null, this.separatorLabel = null, this.minutesLabel = null, this.initialTimeZone = "", this.synchedTime = 0, this.useSynchedTime = !1, this.isSynched = !1
}

function JurisdictionClock() {
    XTLink.call(this)
}

function JurisdictionClientRevision() {
    XTLink.call(this), this.valueLabel = null, this.isActive = !1, this.shouldShowGameEngineVersion = !1
}

function JurisdictionGameSymbol() {
    XTLink.call(this), this.valueLabel = null, this.isActive = !1
}
DefaultStateFOX.prototype = Object.create(FOXLink.prototype), DefaultStateFOX.prototype.constructor = DefaultStateFOX, DefaultStateFOX.Keys = {
    symbols: "def_s",
    symbolsAbove: "def_sa",
    symbolsBelow: "def_sb",
    awardIndex: "def_aw",
    awardPosition: "def_aw_p"
}, DefaultStateFOX.prototype.XTRegisterCallbacks = function () {
    FOXLink.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived, this.OnInitReceivedFromServer, this)
}, DefaultStateFOX.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(DefaultStateVars.DefaultSymbolsAbove, null), XT.SetObject(DefaultStateVars.DefaultSymbolsBelow, null)
}, DefaultStateFOX.prototype.HandleInitResponse = function (t) {
    this.initResponse = t
}, DefaultStateFOX.prototype.OnInitReceivedFromServer = function () {
    if (null != this.initResponse[DefaultStateFOX.Keys.symbols]) {
        var t = GameProtocolDictionary.winSymbols;
        GameProtocolDictionary.winSymbols = DefaultStateFOX.Keys.symbols;
        var e = VSProtocolParser.ParseWinScreenSymbols(this.initResponse, GameConnection.prototype.SlotHeight, GameProtocolDictionary.winSymbols);
        e.length > 0 && XT.SetObject(Vars.InitialScreen, e), GameProtocolDictionary.winSymbols = t
    }
    if (null != this.initResponse[DefaultStateFOX.Keys.symbolsAbove] && XT.SetObject(DefaultStateVars.DefaultSymbolsAbove, GameProtocolCommonParser.ParseIntList(this.initResponse, DefaultStateFOX.Keys.symbolsAbove)), null != this.initResponse[DefaultStateFOX.Keys.symbolsBelow] && XT.SetObject(DefaultStateVars.DefaultSymbolsBelow, GameProtocolCommonParser.ParseIntList(this.initResponse, DefaultStateFOX.Keys.symbolsBelow)), null != this.initResponse[DefaultStateFOX.Keys.awardIndex] || null != this.initResponse[DefaultStateFOX.Keys.awardPosition]) {
        var i = XT.GetObject(Vars.InitialRandomAward);
        null == i && (i = new RandomAwardsResponse, XT.SetObject(Vars.InitialRandomAward, i)), null != this.initResponse[DefaultStateFOX.Keys.awardIndex] && (i.awardIndex = _number.otoi(this.initResponse[DefaultStateFOX.Keys.awardIndex])), null != this.initResponse[DefaultStateFOX.Keys.awardPosition] && (i.awardPositionInReel = _number.otoi(this.initResponse[DefaultStateFOX.Keys.awardPosition]))
    }
    this.initResponse = null
}, goog.require("UHT.XTLink"), ClockDisplayer.prototype = Object.create(XTLink.prototype), ClockDisplayer.prototype.constructor = ClockDisplayer, ClockDisplayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.Jurisdiction_Clock_Server, this.OnJurisdictionClockServerChanged, this), XT.RegisterCallbackDouble(Vars.Jurisdiction_ServerTime, this.OnServerTimeChanged, this), null != window.Intl && (this.initialTimeZone = (new Intl.DateTimeFormat).resolvedOptions().timeZone)
}, ClockDisplayer.prototype.OnJurisdictionClockServerChanged = function (t) {
    this.useSynchedTime = t
}, ClockDisplayer.prototype.OnServerTimeChanged = function (t) {
    this.synchedTime = t, this.isSynched = !0
}, ClockDisplayer.prototype.UpdateTime = function () {
    var t = new Date;
    this.useSynchedTime && this.isSynched && (t = "" == this.initialTimeZone || null == this.initialTimeZone || null == window.Date.toLocaleString ? new Date(this.synchedTime) : new Date(new Date(this.synchedTime).toLocaleString("en-US", {
        timeZone: this.initialTimeZone
    }))), this.hoursLabel.text = t.getHours();
    var e = t.getMinutes();
    this.minutesLabel.text = e > 9 ? e : "0" + e
}, ClockDisplayer.prototype.Update = function () {
    this.UpdateTime(), this.synchedTime += 1e3 * Time.deltaTime
}, goog.require("UHT.XTLink"), JurisdictionClock.prototype = Object.create(XTLink.prototype), JurisdictionClock.prototype.constructor = JurisdictionClock, JurisdictionClock.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.Jurisdiction_Clock, this.OnJurisdictionClockChanged, this)
}, JurisdictionClock.prototype.OnJurisdictionClockChanged = function (t) {
    this.gameObject.SetActive(t)
}, goog.require("UHT.XTLink"), JurisdictionClientRevision.prototype = Object.create(XTLink.prototype), JurisdictionClientRevision.prototype.constructor = JurisdictionClientRevision, JurisdictionClientRevision.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen, this.OnPressedPaytableOpen, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose, this.OnPressedPaytableClose, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackBool(Vars.Jurisdiction_ClientRevision, this.OnJurisdictionInfoChanged, this), XT.RegisterCallbackBool(Vars.Jurisdiction_GameEngineVersion, this.OnJurisdictionGameEngineVersionChanged, this)
}, JurisdictionClientRevision.prototype.OnJurisdictionInfoChanged = function (t) {
    this.isActive = t
}, JurisdictionClientRevision.prototype.OnJurisdictionGameEngineVersionChanged = function (t) {
    this.shouldShowGameEngineVersion = t
}, JurisdictionClientRevision.prototype.OnPressedPaytableOpen = function () {
    (this.isActive || this.shouldShowGameEngineVersion) && this.gameObject.SetActive(!0)
}, JurisdictionClientRevision.prototype.OnPressedPaytableClose = function () {
    this.gameObject.SetActive(!1)
}, JurisdictionClientRevision.prototype.OnGameInit = function () {
    if (this.valueLabel.text = UHT_REVISION.common, this.shouldShowGameEngineVersion) {
        var t = XT.GetObject(FOXVars.FOX_Response);
        null != t.gever && (this.valueLabel.text = t.gever, "Portrait" == this.transform.parent.gameObject.name && this.valueLabel.transform.localPosition(-20, 0, 0), this.valueLabel.effectStyle = 2, this.valueLabel.effectHeight = 2, this.valueLabel.effectWidth = 2, this.valueLabel.init(!0))
    }
}, goog.require("UHT.XTLink"), JurisdictionGameSymbol.prototype = Object.create(XTLink.prototype), JurisdictionGameSymbol.prototype.constructor = JurisdictionGameSymbol, JurisdictionGameSymbol.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen, this.OnPressedPaytableOpen, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose, this.OnPressedPaytableClose, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackBool(Vars.Jurisdiction_GameSymbol, this.OnJurisdictionInfoChanged, this)
}, JurisdictionGameSymbol.prototype.OnJurisdictionInfoChanged = function (t) {
    this.isActive = t
}, JurisdictionGameSymbol.prototype.OnPressedPaytableOpen = function () {
    this.isActive && this.gameObject.SetActive(!0)
}, JurisdictionGameSymbol.prototype.OnPressedPaytableClose = function () {
    this.isActive && this.gameObject.SetActive(!1)
}, JurisdictionGameSymbol.prototype.OnGameInit = function () {
    this.valueLabel.text = UHT_GAME_CONFIG.GAME_SYMBOL
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink");
var LineByLineSkipperVars = {
    LineByLineSkipper: "LineByLineSkipper",
    Evt_LineByLineSkipper_Enabled: "Evt_LineByLineSkipper_Enabled"
};

function LineByLineSkipper() {
    XTLink.call(this)
}

function SB_JurisdictionCustomization() {
    XTLink.call(this), this.disableQuickSpin = null, this.wasApplied = !1, this.patchLabels = []
}

function BonusGameMultiplePicks() {
    XTLink.call(this), this.show = null, this.resume = null, this.close = null, this.reset = null, this.indicatorShow = null, this.indicatorGameOver = null, this.indicatorResume = null, this.indicatorReset = null, this.pickItems = []
}

function PickableItemBase() {
    XTLink.call(this), this.showPicked = null, this.resumePicked = null, this.resetPick = null, this.myCollider = null
}

function NetPositionFOX() {
    FOXLink.call(this), this.netPositionLabel = null, this.currentNetPosition = 0, this.lastTotalWin = 0, this.ignoreFirstTumble = !0, this.formatOptions = new FormatOptions
}

function JurisdictionSessionUptime() {
    XTLink.call(this), this.contents = null, this.hoursLabels = null, this.minutesLabels = null, this.hoursSeparators = null, this.secondsLabels = null, this.currentTime = 0
}

function JurisdictionShowOdds() {
    FOXLink.call(this), this.chanceLabel = null
}

function FeaturePurchaseDisplayer() {
    XTLink.call(this), this.purchaseShowAsDisabled = null, this.purchaseShowAsEnabled = null, this.purchaseHideAsEnabled = null, this.purchaseHideAsDisabled = null, this.purchaseEnabled = null, this.purchaseDisabled = null, this.purchaseCosts = null, this.ftPurchaseItems = null, this.isPurchaseEnabled = null
}

function FeaturePurchaseItem() {
    this.cat = null, this.costLabel = null, this.costLabels = null, this.isShown = null, this.optionIsOnScreen = !1
}
LineByLineSkipper.prototype = Object.create(XTLink.prototype), LineByLineSkipper.prototype.constructor = LineByLineSkipper, LineByLineSkipper.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.LastWinIsCounting, this.OnLastWinIsCounting, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowAllLinesWin, this.OnShowAllLinesWin, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this)
}, LineByLineSkipper.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(LineByLineSkipperVars.LineByLineSkipper, this)
}, LineByLineSkipper.prototype.OnDestroy = function () {
    XT.UnregisterCallbackBool(this.OnLastWinIsCounting, this), XT.UnregisterCallbackEvent(this.OnSpinStarted, this)
}, LineByLineSkipper.prototype.OnLastWinIsCounting = function (t) {
    t && this.OnShowAllLinesWin()
}, LineByLineSkipper.prototype.OnShowAllLinesWin = function () {
    (XT.GetBool(Vars.Jurisdiction_LineByLineGlobal) || XT.GetBool(Vars.Jurisdiction_LineByLineFreespin)) && ((XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin || -1 != XT.GetInt(Vars.AutoplaySpinsLeft) || null != XT.GetObject(Vars.TumblingData)) && this.gameObject.SetActive(!0), XT.TriggerEvent(LineByLineSkipperVars.Evt_LineByLineSkipper_Enabled))
}, LineByLineSkipper.prototype.ClickedLineByLineSkipperCollider = function () {
    for (var t = XT.GetObject(Vars.RQManagerObject), e = [], i = 0; i < t.rqiList.length; i++) "RQIMarker" == t.rqiList[i].constructor.name && e.push(i);
    for (; e.length > 0;) {
        t.rqiList[e[0]].type == RQIMarker.MarkerType.StartLineByLine ? (t.rqiList.splice(e[0], e[1] - e[0] + 1), e.splice(0, 2)) : (t.rqiList.splice(0, e[0]), e.splice(0, 1))
    }
    XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), (XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin || null != XT.GetObject(Vars.TumblingData)) && XT.TriggerEvent(Vars.Evt_DataToCode_Pressed_Spin), this.gameObject.SetActive(!1)
}, LineByLineSkipper.prototype.OnSpinStarted = function () {
    this.gameObject.SetActive(!1)
}, LineByLineSkipper.prototype.ActivateOnFSResume = function () {
    XT.GetBool(Vars.Jurisdiction_LineByLineGlobal) || XT.GetBool(Vars.Jurisdiction_LineByLineFreespin) || this.gameObject.SetActive(!1)
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink"), SB_JurisdictionCustomization.prototype = Object.create(XTLink.prototype), SB_JurisdictionCustomization.prototype.constructor = SB_JurisdictionCustomization, SB_JurisdictionCustomization.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins, this.OnDisableFastPlay, this), XT.RegisterCallbackBool(Vars.DisableFastPlay, this.OnDisableFastPlay, this), XT.RegisterCallbackBool(Vars.Jurisdiction_DisableAnteBet, this.OnDisableAnteBet, this)
}, SB_JurisdictionCustomization.prototype.OnDisableFastPlay = function (t) {
    t && !this.wasApplied && (XT.RegisterCallbackBool(Vars.FastPlay, this.OnFastPlay, this), this.RemoveQuickSpinReferences(), this.wasApplied = !0)
}, SB_JurisdictionCustomization.prototype.OnFastPlay = function (t) {
    XT.SetBool(Vars.FastPlay, !1)
}, SB_JurisdictionCustomization.prototype.RemoveQuickSpinReferences = function () {
    this.disableQuickSpin.Start()
}, SB_JurisdictionCustomization.prototype.OnDisableAnteBet = function (t) {
    if (t) {
        XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this);
        var e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.Paytable, !0);
        if (0 == e.length && (e = globalRuntime.sceneRoots[1].GetComponentsInChildren(window.Paytable_mobile, !0)), e.length > 0) {
            for (var i = e[0].GetComponentsInChildren(Transform, !0), n = 0; n < i.length; n++)(i[n].gameObject.name.indexOf("PreBetHolder") > -1 || i[n].gameObject.name.indexOf("AnteBetHolder") > -1 || i[n].gameObject.name.indexOf("AnteHolder") > -1) && (i[n].gameObject.SetActive(!1), i[n].gameObject.name += "MMWillNeverFindMe");
            var o = e[0].GetComponentsInChildren(UILabel, !0);
            for (n = 0; n < o.length; n++)
                if ("ante bet" == o[n].text.toLowerCase().trim() && (o[n].gameObject.SetActive(!1), o[n].gameObject.name += "MMWillNeverFindMe"), o[n].text.toLowerCase().indexOf("ante bet") > -1 && -1 == o[n].text.toLowerCase().indexOf("rtp")) {
                    var s = o[n].text.split(".");
                    if (s.length > 1) {
                        for (var a = 0; a < s.length; a++) s[a].toLowerCase().indexOf("ante bet") > -1 && (null == o[n].NOAB_sentenceToRemoveIndex && (o[n].NOAB_sentenceToRemoveIndex = []), o[n].NOAB_sentenceToRemoveIndex.push(a));
                        o[n].NOAB_sentenceToRemoveIndex && (o[n].NOAB_sentencesCount = s.length, this.patchLabels.push(o[n]))
                    }
                }
        }
    }
}, SB_JurisdictionCustomization.prototype.OnGameInit = function () {
    for (var t = 0; t < this.patchLabels.length; t++)
        for (var e = [".", "。"], i = 0; i < e.length; i++) {
            var n = this.patchLabels[t].text.split(e[i]);
            if (n.length > 1 && n.length == this.patchLabels[t].NOAB_sentencesCount) {
                for (var o = this.patchLabels[t].NOAB_sentenceToRemoveIndex.length - 1; o >= 0; o--) n.splice(this.patchLabels[t].NOAB_sentenceToRemoveIndex[o], 1);
                this.patchLabels[t].text = n.join(e[i]);
                break
            }
        }
}, goog.provide("UHT.BonusGameMultiplePicks"), goog.require("UHT.XTLink"), BonusGameMultiplePicks.prototype = Object.create(XTLink.prototype), BonusGameMultiplePicks.prototype.constructor = BonusGameMultiplePicks, BonusGameMultiplePicks.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(BGVars.Evt_Internal_ShowLevel, this.ShowBonusGame, this), XT.RegisterCallbackEvent(BGVars.Evt_Internal_ResumeLevel, this.ResumeBonusGame, this), XT.RegisterCallbackEvent(BGVars.Evt_DataToCode_BonusPickItemClicked, this.OnPickableItemClick, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BonusResponseReceived, this.OnLevelResponseReceived, this)
}, BonusGameMultiplePicks.prototype.XTInitVariablesAndEvents = function () {
    null != this.indicatorGameOver && null != this.indicatorGameOver.cat || (this.indicatorGameOver = this.indicatorShow)
}, BonusGameMultiplePicks.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.ShowBonusGame, this), XT.UnregisterCallbackEvent(this.ResumeBonusGame, this), XT.UnregisterCallbackEvent(this.OnPickableItemClick, this), XT.UnregisterCallbackEvent(this.OnLevelResponseReceived, this)
}, BonusGameMultiplePicks.prototype.ActivatePicks = function (t, e) {
    t == CAT_Event.CallbackType.EndOfEvent && this.indicatorShow.cat.UnregisterCallback(this.indicatorShow.id, this.ActivatePicks, this);
    var i = XT.GetObject(Vars.BonusData);
    XT.SetInt(Vars.BonusTotalWinDisplayed, i.WinPoints);
    for (var n = 0; n < this.pickItems.length; n++) n >= i.ItemsStatus.length || this.pickItems[n].ActivateInput(i.ItemsStatus[n] <= 0)
}, BonusGameMultiplePicks.prototype.GameOver = function (t, e) {
    t == CAT_Event.CallbackType.EndOfEvent && (this.indicatorGameOver.cat.UnregisterCallback(this.indicatorGameOver.id, this.GameOver, this), this.AnnounceGameOver())
}, BonusGameMultiplePicks.prototype.UpdatePickableItems = function (t) {
    for (var e = XT.GetObject(Vars.BonusData), i = 0; i < this.pickItems.length; i++) i >= e.ItemsStatus.length || (t ? e.ItemsStatus[i] > 0 && this.pickItems[i].ItemResume(e, i) : (!e.GameOver && e.ItemsStatus[i] > 0 && e.ItemsStatus[i] == e.Level || e.GameOver && e.ItemsStatus[i] == e.Level + 1) && this.pickItems[i].ItemShow(e, i))
}, BonusGameMultiplePicks.prototype.AnnounceGameOver = function () {
    var t = XT.GetObject(Vars.BonusData);
    XT.SetInt(Vars.BonusTotalWinDisplayed, t.WinPoints);
    for (var e = 0; e < this.pickItems.length; e++) this.pickItems[e].ActivateInput(!1);
    XT.GetBool(BGVars.ShowResultAfterBigWin) && (XT.SetDouble(Vars.BonusRealWinDisplayed, 0), XT.SetDouble(Vars.BonusRealWinDisplayed, t.RealWin)), XT.TriggerEvent(BGVars.Evt_CodeToData_BonusResultWindowShow)
}, BonusGameMultiplePicks.prototype.IsResume = function (t) {
    return t.Level > 0
}, BonusGameMultiplePicks.prototype.ShowBonusGame = function () {
    var t = XT.GetObject(Vars.BonusData);
    if (this.IsResume(t)) this.ResumeBonusGame();
    else {
        this.indicatorReset.Start(), this.reset.Start(), this.show.Start();
        for (var e = 0; e < this.pickItems.length; e++) this.pickItems[e].ResetItem()
    }
}, BonusGameMultiplePicks.prototype.ResumeBonusGame = function () {
    var t = XT.GetObject(Vars.BonusData);
    this.UpdatePickableItems(!0), this.resume.Start(), t.GameOver && this.AnnounceGameOver()
}, BonusGameMultiplePicks.prototype.OnLevelResponseReceived = function () {
    var t = XT.GetObject(Vars.BonusData);
    this.UpdatePickableItems(!1), t.GameOver ? (this.indicatorGameOver.cat.RegisterCallback(this.indicatorGameOver.id, this.GameOver, this), this.indicatorGameOver.Start()) : (this.indicatorShow.cat.RegisterCallback(this.indicatorShow.id, this.ActivatePicks, this), this.indicatorShow.Start())
}, BonusGameMultiplePicks.prototype.OnPickableItemClick = function () {
    XT.GetInt(BGVars.BonusPickItemIndex);
    for (var t = 0; t < this.pickItems.length; t++) this.pickItems[t].ActivateInput(!1);
    XT.TriggerEvent(BGVars.Evt_ToServer_BonusPickedItem)
}, goog.provide("UHT.PickableItemBase"), goog.require("UHT.Engine"), PickableItemBase.prototype = Object.create(XTLink.prototype), PickableItemBase.prototype.constructor = PickableItemBase, PickableItemBase.prototype.ItemShow = function (t, e) {}, PickableItemBase.prototype.ItemResume = function (t, e) {
    this.ActivateInput(!1)
}, PickableItemBase.prototype.ActivateInput = function (t) {
    if (null == this.myCollider) {
        var e = this.GetComponentsInChildren(Collider, !0);
        if (null == e || e.length < 1) return;
        this.myCollider = e[0]
    }
    this.myCollider.enabled = t
}, PickableItemBase.prototype.ResetItem = function () {
    this.ActivateInput(!0)
}, goog.require("UHT.FOXLink"), NetPositionFOX.prototype = Object.create(FOXLink.prototype), NetPositionFOX.prototype.constructor = NetPositionFOX, NetPositionFOX.prototype.XTInitVariablesAndEvents = function () {
    XT.RegisterCallbackBool(Vars.ShowNetPosition, this.OnShowNetPosition, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI, this.OnUpdateDisplayedWin, this), XT.RegisterCallbackDouble(Vars.ExtraSessionWin, this.OnExtraWinAndUpdate, this), XT.RegisterCallbackDouble(Vars.PlayJackpot_JackpotAmountWonDisplayed, this.OnExtraWin, this), XT.RegisterCallbackDouble(Vars.PlayJackpot_MultiplierAmountWonDisplayed, this.OnExtraWin, this)
}, NetPositionFOX.prototype.OnShowNetPosition = function (t) {
    this.gameObject.SetActive(t)
}, NetPositionFOX.prototype.OnUpdateDisplayedWin = function () {
    this.netPositionLabel.text = LocaleManager.FormatValue(this.currentNetPosition, this.formatOptions)
}, NetPositionFOX.prototype.HandleInitResponse = function (t) {
    this.netPositionLabel.text = LocaleManager.FormatValue(this.currentNetPosition, this.formatOptions)
}, NetPositionFOX.prototype.HandleSpinResponse = function (t) {
    if (null != t[GameProtocolDictionary.spinCycleWin] && (this.lastTotalWin = _number.otod(t[GameProtocolDictionary.spinCycleWin])), !XT.GetBool(Vars.Logic_IsFreeSpin)) {
        if (XT.GetBool(Vars.IsDifferentSpinType)) {
            if (!this.ignoreFirstTumble) return;
            this.ignoreFirstTumble = !1
        }
        var e = XT.GetObject(Vars.RespinData);
        if (!(null != e && !e.IsDone)) {
            var i = -1,
                n = -1;
            i = null != t[GameProtocolDictionary.line] ? _number.otoi(t[GameProtocolDictionary.line]) : XT.GetInt(Vars.BetToTotalBetMultiplier), null != t[GameProtocolDictionary.coin] && (n = _number.otod(t[GameProtocolDictionary.coin])), -1 != n && -1 != i && null == t[GameProtocolDictionary.FreeRound.TotalWin] && (this.currentNetPosition -= n * i), this.OnUpdateDisplayedWin()
        }
    }
}, NetPositionFOX.prototype.HandleCollectResponse = function (t) {
    this.ignoreFirstTumble = !0, this.currentNetPosition += this.lastTotalWin
}, NetPositionFOX.prototype.HandlePickBonusResponse = function (t) {
    null != t[GameProtocolDictionary.spinCycleWin] && (this.lastTotalWin = _number.otod(t[GameProtocolDictionary.spinCycleWin]))
}, NetPositionFOX.prototype.HandleBonusRespinResponse = function (t) {
    null != t[GameProtocolDictionary.spinCycleWin] && (this.lastTotalWin = _number.otod(t[GameProtocolDictionary.spinCycleWin]))
}, NetPositionFOX.prototype.HandleBonusCollectResponse = function (t) {
    this.currentNetPosition += this.lastTotalWin, this.OnUpdateDisplayedWin()
}, NetPositionFOX.prototype.HandleGambleResponse = function (t) {
    null != t[GameProtocolDictionary.spinCycleWin] && (this.lastTotalWin = _number.otod(t[GameProtocolDictionary.spinCycleWin]))
}, NetPositionFOX.prototype.HandleGambleCollectResponse = function (t) {
    this.currentNetPosition += this.lastTotalWin
}, NetPositionFOX.prototype.OnExtraWin = function (t) {
    this.currentNetPosition += t
}, NetPositionFOX.prototype.OnExtraWinAndUpdate = function (t) {
    this.currentNetPosition += t, this.OnUpdateDisplayedWin()
}, goog.require("UHT.XTLink"), JurisdictionSessionUptime.prototype = Object.create(XTLink.prototype), JurisdictionSessionUptime.prototype.constructor = JurisdictionSessionUptime, JurisdictionSessionUptime.prototype.Awake = function () {
    null == UHT_GAME_CONFIG_SRC.s_elapsed || (this.currentTime = 60 * UHT_GAME_CONFIG_SRC.s_elapsed)
}, JurisdictionSessionUptime.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.Jurisdiction_ShowSessionUptime, this.OnJurisdictionSessionUptimeChanged, this), XT.RegisterCallbackBool(Vars.Jurisdiction_Clock, this.OnJurisdictionClockChanged, this)
}, JurisdictionSessionUptime.prototype.OnJurisdictionSessionUptimeChanged = function (t) {
    for (var e = 0; e < this.contents.length; e++) this.contents[e].SetActive(t)
}, JurisdictionSessionUptime.prototype.OnJurisdictionClockChanged = function (t) {
    var e = this.gameObject.GetComponentsInChildren(ScreenAnchor, !0);
    e.length > 0 && (e[0].leftOffset = t ? 75 : 15, e[0].updateIsNeeded = !0)
}, JurisdictionSessionUptime.prototype.Update = function (t) {
    this.currentTime += Time.deltaTimeInRealTime;
    for (var e = Math.floor(this.currentTime / 3600), i = Math.floor(this.currentTime / 60) - 60 * e, n = this.currentTime % 60 | 0, o = 0; o < this.minutesLabels.length; o++)(e > 0 || XT.GetBool(Vars.Jurisdiction_ShowHoursInSessionUptime)) && (this.hoursLabels[o].gameObject.SetActive(!0), this.hoursSeparators[o].SetActive(!0), this.hoursLabels[o].text = (1 == e.toString().length ? "0" : "") + e.toString()), this.minutesLabels[o].text = (1 == i.toString().length ? "0" : "") + i.toString(), this.secondsLabels[o].text = (1 == n.toString().length ? "0" : "") + n.toString()
}, goog.require("UHT.FOXLink"), JurisdictionShowOdds.prototype = Object.create(FOXLink.prototype), JurisdictionShowOdds.prototype.constructor = JurisdictionShowOdds, JurisdictionShowOdds.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool("Jurisdiction_ShowOddsOnScreen", !1)
}, JurisdictionShowOdds.prototype.HandleInitResponse = function (t) {
    if (XT.GetBool("Jurisdiction_ShowOddsOnScreen")) {
        var e = null;
        if (t.gameInfo && (e = JSON5.parse(t.gameInfo)), e.props && null == e.props.max_rnd_hr) {
            var i = -1;
            for (var n in e.props)
                if (0 == n.indexOf("max_rnd_hr")) {
                    var o = _number.otod(e.props[n]);
                    o > i && (i = o)
                } i > 0 && (e.props.max_rnd_hr = i.toString())
        }
        if (null != e && null != e.props && null != e.props.max_rnd_win && null != e.props.max_rnd_hr) {
            var s = new FormatOptions;
            s.hasDecimals = !1, s.hasCurrency = !1;
            var a = LocaleManager.FormatValue(e.props.max_rnd_win, s),
                r = LocaleManager.FormatValue(e.props.max_rnd_hr, s);
            this.chanceLabel.text = this.chanceLabel.text.replace("{0}", a), this.chanceLabel.text = this.chanceLabel.text.replace("{1}", r), this.gameObject.SetActive(!0)
        }
    }
}, goog.require("UHT.Engine"), FeaturePurchaseDisplayer.prototype = Object.create(XTLink.prototype), FeaturePurchaseDisplayer.prototype.constructor = FeaturePurchaseDisplayer, FeaturePurchaseDisplayer.prototype.UpdateFeaturePurchaseOptions = function (t) {
    if (null != t)
        for (var e = 0; e < this.ftPurchaseItems.length; e++) this.ftPurchaseItems[e].UpdateCostLabels(t[e]), this.purchaseCosts.length > e && (this.purchaseCosts[e].text = t[e])
}, FeaturePurchaseDisplayer.prototype.EnableFeaturePurchaseOptions = function (t) {
    for (var e = Math.min(t.length, this.ftPurchaseItems.length), i = 0; i < e; i++) t[i] && 1 != this.ftPurchaseItems[i].isShown ? (this.ftPurchaseItems[i].cat.show.Start(), this.ftPurchaseItems[i].isShown = !0) : t[i] || 0 == this.ftPurchaseItems[i].isShown || (this.ftPurchaseItems[i].cat.hide.Start(), this.ftPurchaseItems[i].isShown = !1)
}, FeaturePurchaseDisplayer.prototype.EnableFeaturePurchase = function (t) {
    t ? null != this.isPurchaseEnabled && this.isPurchaseEnabled || (this.purchaseEnabled.Start(), this.isPurchaseEnabled = !0) : (null == this.isPurchaseEnabled || this.isPurchaseEnabled) && (this.purchaseDisabled.Start(), this.isPurchaseEnabled = !1)
}, FeaturePurchaseDisplayer.prototype.ShowFeatureButton = function (t, e) {
    0 == t ? 0 == e ? (this.purchaseShowAsEnabled.Start(), this.isPurchaseEnabled = !0) : (this.purchaseShowAsDisabled.Start(), this.isPurchaseEnabled = !1) : (0 == e ? this.purchaseHideAsEnabled.Start() : this.purchaseHideAsDisabled.Start(), this.isPurchaseEnabled = !1)
}, FeaturePurchaseItem.prototype.UpdateCostLabels = function (t) {
    if (this.costLabel.text = t, null != this.costLabels)
        for (var e = 0; e < this.costLabels.length; e++) this.costLabels[e].text = t
}, goog.require("UHT.Engine"), FeaturePurchaseManager.prototype = Object.create(FOXLink.prototype), FeaturePurchaseManager.prototype.constructor = FeaturePurchaseManager;
var FeaturePurchaseVars = {
    Evt_FeaturePurchase_UpdateFeaturePurchaseOptions: "Evt_FeaturePurchase_UpdateFeaturePurchaseOptions",
    Evt_FeaturePurchase_EnableFeaturePurchaseOptions: "Evt_FeaturePurchase_EnableFeaturePurchaseOptions",
    FeaturePurchase_SelectedOption: "FeaturePurchase_SelectedOption"
};

function FeaturePurchaseData() {
    this.purchaseIndex = -2, this.purchaseCosts = null, this.purchaseOptionIsAvailable = null
}

function FeaturePurchaseManager() {
    FOXLink.call(this), this.purchaseDisplayer = null, this.purchaseCosts = [], this.purchaseOptionIsAvailable = [], this.betValueSeparator = ",", this.otherBetValSeparators = null, this.useBetValueSeparators = !1, this.betValueSeparators = null, this.checkIfAnyFeatureAvailable = !1, this.useManagedEnabling = !1, this.waitBigWinFinish = !1, this.isSuperSpin = !1, this.disableDuringRespins = !1, this.resumePurchase = !1, this.purchaseIndices = null, this.buyFSBtnCollider = null, this.bSpinRequested = !1, this.showBuyFSWindowCAT = null, this.buttonIsHidden = !1, this.buttonIsDisabled = !1, this.enabledRequested = !1, this.disableCount = 0, this.bigWinEnded = !1, this.mustEnableOnBigWinFinish = !1, this.featurePurchaseIsEnabled = !0, this.isFreeBonusRound = !1
}

function FreeSpinsPurchaseDisplayer() {
    XTLink.call(this), this.purchaseEnabled = null, this.purchaseDisabled = null, this.fsPurchaseCosts = null, this.fsPurchaseCount = null, this.fsPurchaseItems = null, this.isPurchaseEnabled = null, this.localizedTexts = [], this.cachedCosts = [], this.cachedfsCount = [], this.gameInitiated = !1
}

function FSPurchaseItem() {
    this.cat = null, this.costLabel = null, this.fsCountLabel = null, this.localizedLabel = null
}

function FeaturePurchaseV2() {
    FOXLink.call(this), this.initKey = "purInit", this.purchasedOptionKey = "puri", this.isSuperSpin = !1, this.featureIsAvailable = null, this.useMainButton = !1, this.enableMainButton = null, this.featureWasPurchased = null, this.purchaseOptions = null, this.featurePurchaseData = null, this.featureAvailable = !1, this.isFreeSpin = !1, this.isBonus = !1, this.mainButtonEnabled = !0, this.frbActive = !1, this.fsPurchased = !1, this.spinBlockersCounter = 0, this.purchaseBlockCounter = 0
}

function FPOption() {
    this.enable = null, this.disable = null, this.optionIsAvailable = null, this.activeOnBetLevel = 0, this.cost = null, this.forceDisabled = !1, this.isAvailable = null, this.isEnabled = null
}

function FeaturePurchaseWindow() {
    XTLink.call(this), this.content = null, this.idleEvents = null, this.hideEvent = null, this.showEvent = null, this.showFrame = 0
}
FeaturePurchaseManager.Params = {
    purchaseInit: "purInit",
    purchaseIndex: "puri"
}, FeaturePurchaseManager.prototype.XTInitVariablesAndEvents = function () {
    FOXLink.prototype.XTInitVariablesAndEvents.call(this), XT.SetObject(FeaturePurchaseVars.FeaturePurchase_SelectedOption, null)
}, FeaturePurchaseManager.prototype.XTRegisterCallbacks = function () {
    FOXLink.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StopAutoplay, this.OnStopAutoplay, this, 5e3), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BigWinHasFinished, this.OnBigWinFinished, this), XT.RegisterCallbackBool(Vars.Jurisdiction_DisableSuperSpin, this.OnJurisdictionDisable, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsStarted, this.OnBonusRoundsStarted, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsFinished, this.OnBonusRoundsFinished, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed, this.OnBonusRoundsOnContinuePressed, this), XT.RegisterCallbackEvent(CoinManagerVars.Evt_ComputedCoinValuesAndCurrentBet, this.OnComputedCoinValuesAndCurrentBet, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinRequested, this.OnSpinRequested, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_SpinEnded, this.OnSpinEnded, this)
}, FeaturePurchaseManager.prototype.OnComputedCoinValuesAndCurrentBet = function () {
    for (var t = !1, e = 0; e < this.purchaseCosts.length; e++) {
        var i = this.purchaseCosts[e] * (1e3 * CoinManager.initialBetsFromServer[0]) / 1e3,
            n = XT.GetInt(Vars.Jurisdiction_MaxBetCents) / 100;
        n <= 0 && (n = XT.GetDouble(Vars.ExplicitMaxTotalBetFromServer)), i <= n && (t = !0)
    }
    t || (this.isSuperSpin ? XT.SetBool(Vars.Jurisdiction_DisableSuperSpin, !0) : XT.SetBool(Vars.Jurisdiction_DisableBuyFeature, !0), this.gameObject.SetActive(!1), this.xtEnabled = !1)
}, FeaturePurchaseManager.prototype.OnSpinStarted = function () {
    this.bigWinEnded = !1
}, FeaturePurchaseManager.prototype.OnStopAutoplay = function () {
    this.enabledRequested && this.EnableFeaturePurchases()
}, FeaturePurchaseManager.prototype.HandleInitResponse = function (t) {
    var e = null != t[FeaturePurchaseManager.Params.purchaseInit];
    if (this.isSuperSpin && XT.GetBool(Vars.Jurisdiction_DisableSuperSpin) && (e = !1), !this.isSuperSpin && XT.GetBool(Vars.Jurisdiction_DisableBuyFeature) && (e = !1), e) {
        for (var i = t[FeaturePurchaseManager.Params.purchaseInit]; i.indexOf("bet:") > -1;) {
            var n = 99,
                o = (i = i.substring(i.indexOf("bet:") + 4)).indexOf(this.betValueSeparator);
            if (o > -1 && o < n && (n = o), null != this.otherBetValSeparators)
                for (var s = 0; s < this.otherBetValSeparators.length; s++)(o = i.indexOf(this.otherBetValSeparators[s])) > -1 && o < n && (n = o);
            if (this.useBetValueSeparators) {
                for (s = 0; s < this.betValueSeparators.length; ++s)
                    if (!((o = i.indexOf(this.betValueSeparators[s])) < 0)) {
                        this.purchaseCosts.push(_number.otoi(i.substring(0, o)));
                        break
                    }
            } else this.purchaseCosts.push(_number.otoi(i.substring(0, n)))
        }
        var a = new FeaturePurchaseData;
        a.purchaseIndex = -2, a.purchaseCosts = this.purchaseCosts, a.purchaseOptionIsAvailable = this.purchaseOptionIsAvailable, XT.SetObject(Vars.FeaturePurchase, a), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
    } else this.isSuperSpin ? XT.SetBool(Vars.Jurisdiction_DisableSuperSpin, !0) : XT.SetBool(Vars.Jurisdiction_DisableBuyFeature, !0), this.gameObject.SetActive(!1), this.xtEnabled = !1;
    if (this.resumePurchase && null != t[FeaturePurchaseManager.Params.purchaseIndex]) {
        var r = _number.otoi(t[FeaturePurchaseManager.Params.purchaseIndex]);
        this.purchaseIndices[r].Start()
    }
}, FeaturePurchaseManager.prototype.EnableFeaturePurchases = function () {
    this.enabledRequested = !0, XT.GetInt(Vars.AutoplaySpinsLeft) > 0 || this.xtEnabled && (1 == this.waitBigWinFinish && 0 == this.bigWinEnded && 1 == XT.GetBool(Vars.SpinResultIsBigWin) ? this.mustEnableOnBigWinFinish = !0 : (this.featurePurchaseIsEnabled = !0, this.purchaseDisplayer.EnableFeaturePurchase(this.CanPurchaseFeature()), this.UpdateActivePurchaseOptions()))
}, FeaturePurchaseManager.prototype.OnBigWinFinished = function () {
    this.bigWinEnded = !0, 1 == this.mustEnableOnBigWinFinish && (this.featurePurchaseIsEnabled = !0, this.purchaseDisplayer.EnableFeaturePurchase(this.CanPurchaseFeature()), this.UpdateActivePurchaseOptions(), this.mustEnableOnBigWinFinish = !1)
}, FeaturePurchaseManager.prototype.DisableFeaturePurchases = function () {
    this.enabledRequested = !1, this.xtEnabled && (this.purchaseDisplayer.EnableFeaturePurchase(!1), this.featurePurchaseIsEnabled = !1, this.UpdateActivePurchaseOptions())
}, FeaturePurchaseManager.prototype.OnGameInit = function () {
    XT.RegisterCallbackBool(Vars.HasCoins, this.OnHasCoinsChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged, this.OnBetChanged, this), XT.RegisterCallbackDouble(Vars.BalanceDisplayed, this.OnBalanceChanged, this), this.OnBetChanged()
}, FeaturePurchaseManager.prototype.UpdateDisplayedOptions = function () {
    for (var t = _array.create(this.purchaseCosts.length), e = 0; e < t.length; e++) t[e] = CoinManager.GetFormatedMoneyValue(this.purchaseCosts[e], CoinManager.GetNextBet(), !1);
    this.purchaseDisplayer.UpdateFeaturePurchaseOptions(t), XT.TriggerEvent(FeaturePurchaseVars.Evt_FeaturePurchase_UpdateFeaturePurchaseOptions)
}, FeaturePurchaseManager.prototype.CanPurchaseFeature = function () {
    if (XT.GetObject(Vars.FeaturePurchase).purchaseIndex > -1) return !1;
    if (this.buttonIsHidden || this.buttonIsDisabled || !this.featurePurchaseIsEnabled) return !1;
    if (this.checkIfAnyFeatureAvailable)
        for (var t = 0; t < this.purchaseCosts.length && !this.EnoughMoney(this.purchaseCosts[t]); t++)
            if (t == this.purchaseCosts.length - 1) return !1;
    var e = XT.GetObject(Vars.BonusData),
        i = XT.GetObject(Vars.ReceivedFreeSpinsResponse),
        n = XT.GetObject(Vars.RespinData);
    return !(i.IsFreeSpin && !i.IsLastFreeSpin || null != e && !e.GameOver) && (!this.isFreeBonusRound && !(this.disableDuringRespins && null != n && !n.IsDone))
}, FeaturePurchaseManager.prototype.PurchaseFeature = function (t) {
    XT.GetObject(Vars.FeaturePurchase).purchaseIndex = t
}, FeaturePurchaseManager.prototype.OnBetChanged = function () {
    this.UpdateDisplayedOptions(), this.UpdateActivePurchaseOptions(), this.UpdateFeatureState(!1)
}, FeaturePurchaseManager.prototype.OnBalanceChanged = function (t) {
    this.UpdateActivePurchaseOptions(), this.UpdateFeatureState(!0)
}, FeaturePurchaseManager.prototype.UpdateFeatureState = function (t) {
    for (var e = 0; e < this.purchaseDisplayer.ftPurchaseItems.length; e++)
        if (1 == this.purchaseDisplayer.ftPurchaseItems[e].optionIsOnScreen) return;
    var i = !1;
    if (this.CanPurchaseFeature() || !t)
        for (e = 0; e < this.purchaseCosts.length; e++)
            if (this.EnoughMoney(this.purchaseCosts[e])) {
                i = !0;
                break
            } i ? this.EnableFeaturePurchases() : this.DisableFeaturePurchases()
}, FeaturePurchaseManager.prototype.UpdateActivePurchaseOptions = function () {
    if (this.xtEnabled) {
        this.purchaseOptionIsAvailable.splice(0);
        for (var t = 0; t < this.purchaseCosts.length; t++) this.purchaseOptionIsAvailable.push(this.EnoughMoney(this.purchaseCosts[t]) && this.CanPurchaseFeature());
        this.purchaseDisplayer.EnableFeaturePurchaseOptions(this.purchaseOptionIsAvailable), XT.TriggerEvent(FeaturePurchaseVars.Evt_FeaturePurchase_EnableFeaturePurchaseOptions)
    }
}, FeaturePurchaseManager.prototype.EnoughMoney = function (t) {
    if (!CoinManager.IsInit() || this.isFreeBonusRound) return !1;
    var e = t * (1e3 * CoinManager.GetNextBet()) / 1e3,
        i = XT.GetInt(Vars.Jurisdiction_MaxBetCents) / 100;
    return i <= 0 && (i = XT.GetDouble(Vars.ExplicitMaxTotalBetFromServer)), !(e > i) && e <= XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived)
}, FeaturePurchaseManager.prototype.OnHasCoinsChanged = function (t) {
    this.UpdateDisplayedOptions()
}, FeaturePurchaseManager.prototype.HideButton = function () {
    0 != this.xtEnabled && 0 == this.buttonIsHidden && (this.buttonIsHidden = !0, this.purchaseDisplayer.ShowFeatureButton(this.buttonIsHidden, this.buttonIsDisabled))
}, FeaturePurchaseManager.prototype.ShowButton = function () {
    0 != this.xtEnabled && 1 == this.buttonIsHidden && (this.buttonIsHidden = !1, this.purchaseDisplayer.ShowFeatureButton(this.buttonIsHidden, !this.CanPurchaseFeature()), this.UpdateOptionsVisualState(), this.UpdateActivePurchaseOptions())
}, FeaturePurchaseManager.prototype.EnableButton = function () {
    if (0 == this.disableCount && this.useManagedEnabling, this.disableCount > 1) {
        if (this.disableCount--, this.useManagedEnabling) return
    } else this.disableCount = 0;
    this.buttonIsDisabled = !1, this.EnableFeaturePurchases()
}, FeaturePurchaseManager.prototype.DisableButton = function () {
    this.disableCount++, this.buttonIsDisabled = !0, this.DisableFeaturePurchases()
}, FeaturePurchaseManager.prototype.UpdateOptionsVisualState = function () {
    for (var t = 0; t < this.purchaseCosts.length; t++) this.purchaseDisplayer.ftPurchaseItems[t].optionIsOnScreen && (this.purchaseDisplayer.ftPurchaseItems[t].isShown = this.EnoughMoney(this.purchaseCosts[t]) && this.CanPurchaseFeature())
}, FeaturePurchaseManager.prototype.OnJurisdictionDisable = function () {
    this.isSuperSpin && XT.GetBool(Vars.Jurisdiction_DisableSuperSpin) && XT.SetBool(Vars.HasAnteBet, !1)
}, FeaturePurchaseManager.prototype.OnBonusRoundsStarted = function () {
    this.isFreeBonusRound = !0, this.OnBetChanged(), this.isFreeBonusRound = !1
}, FeaturePurchaseManager.prototype.OnBonusRoundsFinished = function () {
    this.isFreeBonusRound = !0, this.OnBetChanged()
}, FeaturePurchaseManager.prototype.OnBonusRoundsOnContinuePressed = function () {
    XT.GetBool(Vars.UserChoseToPlayLater) && (this.isFreeBonusRound = !0), this.isFreeBonusRound = !this.isFreeBonusRound, this.EnableFeaturePurchases(), this.OnBetChanged()
}, FeaturePurchaseManager.prototype.OnSpinRequested = function () {
    this.bSpinRequested = !0, null != this.buyFSBtnCollider && (this.buyFSBtnCollider.enabled = !1)
}, FeaturePurchaseManager.prototype.OnSpinEnded = function () {
    this.bSpinRequested = !1
}, FeaturePurchaseManager.prototype.CheckIfCanShowBuyFSPurchaseWindow = function () {
    this.bSpinRequested || this.showBuyFSWindowCAT.Start()
}, goog.require("UHT.Engine"), FreeSpinsPurchaseDisplayer.prototype = Object.create(XTLink.prototype), FreeSpinsPurchaseDisplayer.prototype.constructor = FreeSpinsPurchaseDisplayer, FreeSpinsPurchaseDisplayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, FreeSpinsPurchaseDisplayer.prototype.UpdateFSPurchaseOptions = function (t, e) {
    if (null != t && null != e) {
        if (!this.gameInitiated) return this.cachedCosts = t.slice(), void(this.cachedfsCount = e.slice());
        for (var i = 0; i < this.fsPurchaseItems.length; i++) {
            this.fsPurchaseItems[i].costLabel.text = t[i], this.fsPurchaseItems[i].fsCountLabel.text = e[i], this.fsPurchaseCosts[i].text = t[i], this.fsPurchaseCount[i].text = e[i], this.fsPurchaseItems[i].localizedLabel.text = this.localizedTexts[i];
            var n = "{" + i.toString() + "}";
            this.fsPurchaseItems[i].localizedLabel.text = this.fsPurchaseItems[i].localizedLabel.text.replace(n, "" + t[i]);
            var o = "(" + i.toString() + ")";
            this.fsPurchaseItems[i].localizedLabel.text = this.fsPurchaseItems[i].localizedLabel.text.replace(o, "" + e[i])
        }
    }
}, FreeSpinsPurchaseDisplayer.prototype.EnableFSPurchaseOptions = function (t) {
    for (var e = 0; e < this.fsPurchaseItems.length; e++) t[e] ? this.fsPurchaseItems[e].cat.show.Start() : this.fsPurchaseItems[e].cat.hide.Start()
}, FreeSpinsPurchaseDisplayer.prototype.EnableFSPurchase = function (t) {
    t ? (null == this.isPurchaseEnabled || !this.isPurchaseEnabled) && XT.GetInt(Vars.AutoplaySpinsLeft) <= 0 && (this.purchaseEnabled.Start(), this.isPurchaseEnabled = !0) : (null == this.isPurchaseEnabled || this.isPurchaseEnabled) && (this.purchaseDisabled.Start(), this.isPurchaseEnabled = !1)
}, FreeSpinsPurchaseDisplayer.prototype.OnGameInit = function () {
    this.gameInitiated = !0;
    for (var t = 0; t < this.fsPurchaseItems.length; t++) this.localizedTexts.push(this.fsPurchaseItems[t].localizedLabel.text);
    this.UpdateFSPurchaseOptions(this.cachedCosts, this.cachedfsCount)
}, goog.require("UHT.Engine"), FeaturePurchaseV2.prototype = Object.create(FOXLink.prototype), FeaturePurchaseV2.prototype.constructor = FeaturePurchaseV2, FeaturePurchaseV2.prototype.ForceBlockFeaturePurchase = function (t) {
    t ? this.purchaseBlockCounter++ : this.purchaseBlockCounter > 0 && this.purchaseBlockCounter--, this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.MarkOptionOnScreen = function (t) {
    this.purchaseOptions[t].forceDisabled = !1, this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.MarkOptionNotOnScreen = function (t) {
    this.purchaseOptions[t].forceDisabled = !0, this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.XTRegisterCallbacks = function () {
    FOXLink.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackEvent(CoinManagerVars.Evt_ComputedCoinValuesAndCurrentBet, this.OnComputedCoinValuesAndCurrentBet, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BlockSpin, this.OnBlockSpin, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_UnblockSpin, this.OnUnblockSpin, this), XT.RegisterCallbackBool(Vars.CanSpin, this.OnCanSpin, this), XT.RegisterCallbackBool(Vars.SpinBlockingFeatureIsRunning, this.OnSpinBlockingFeature, this), XT.RegisterCallbackBool(Vars.WaitInResultForBigWin, this.OnWaitForBigWin, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsStarted, this.OnBonusRoundsStarted, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsFinished, this.OnBonusRoundsFinished, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsError, this.OnBonusRoundsFinished, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed, this.OnBonusRoundsOnContinuePressed, this)
}, FeaturePurchaseV2.prototype.PurchaseFeature = function (t) {
    XT.GetObject(Vars.FeaturePurchase).purchaseIndex = t, this.fsPurchased = !0, this.featureWasPurchased.show.Start()
}, FeaturePurchaseV2.prototype.OnBonusRoundsStarted = function () {
    this.frbActive = !0, this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.OnBonusRoundsFinished = function () {
    this.frbActive = !1, this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.OnBonusRoundsOnContinuePressed = function () {
    XT.GetBool(Vars.UserChoseToPlayLater) && (this.frbActive = !1), this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.HandleInitResponse = function (t) {
    if (this.featureAvailable = null != t[this.initKey], this.isSuperSpin && XT.GetBool(Vars.Jurisdiction_DisableSuperSpin) && (this.featureAvailable = !1), !this.isSuperSpin && XT.GetBool(Vars.Jurisdiction_DisableBuyFeature) && (this.featureAvailable = !1), this.featureAvailable) {
        this.featurePurchaseData = new FeaturePurchaseData, this.featurePurchaseData.purchaseIndex = -2, this.featurePurchaseData.purchaseCosts = [], this.featurePurchaseData.purchaseOptionIsAvailable = [], XT.SetObject(Vars.FeaturePurchase, this.featurePurchaseData);
        for (var e = JSON5.parse(t[this.initKey]), i = 0; i < e.length; i++) this.featurePurchaseData.purchaseCosts.push(_number.otoi(e[i].bet.toString())), this.featurePurchaseData.purchaseOptionIsAvailable.push(!1);
        this.featureIsAvailable.show.Start(), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), null != t[this.purchasedOptionKey] && (this.fsPurchased = !0, this.featureWasPurchased.show.Start())
    } else this.isSuperSpin ? XT.SetBool(Vars.Jurisdiction_DisableSuperSpin, !0) : XT.SetBool(Vars.Jurisdiction_DisableBuyFeature, !0), this.featureIsAvailable.hide.Start(), this.xtEnabled = !1
}, FeaturePurchaseV2.prototype.OnGameInit = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged, this.OnBetChanged, this), XT.RegisterCallbackDouble(Vars.BalanceDisplayed, this.OnBalanceChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnGameStateChanged, this), this.OnBetChanged()
}, FeaturePurchaseV2.prototype.OnBetChanged = function () {
    for (var t = 0; t < this.purchaseOptions.length; t++) this.purchaseOptions[t].SetCost(this.featurePurchaseData.purchaseCosts[t] * CoinManager.GetNextBet());
    this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.OnComputedCoinValuesAndCurrentBet = function () {
    for (var t = !1, e = 0; e < this.featurePurchaseData.purchaseCosts.length; e++) {
        var i = this.featurePurchaseData.purchaseCosts[e] * (1e3 * CoinManager.initialBetsFromServer[0]) / 1e3,
            n = XT.GetInt(Vars.Jurisdiction_MaxBetCents) / 100;
        n <= 0 && (n = XT.GetDouble(Vars.ExplicitMaxTotalBetFromServer)), i <= n ? (this.purchaseOptions[e].SetAvailable(!0), t = !0) : this.purchaseOptions[e].SetAvailable(!1)
    }
    t || (this.isSuperSpin ? XT.SetBool(Vars.Jurisdiction_DisableSuperSpin, !0) : XT.SetBool(Vars.Jurisdiction_DisableBuyFeature, !0), this.featureIsAvailable.hide.Start(), this.featureAvailable = !1, this.xtEnabled = !1)
}, FeaturePurchaseV2.prototype.OnGameStateChanged = function () {
    if (this.fsPurchased && (VSGameStateManager.GetState() == VSGameState.Result || VSGameStateManager.GetState() == VSGameState.ResultAutoplay || VSGameStateManager.GetState() == VSGameState.ResultBonusRounds || VSGameStateManager.GetState() == VSGameState.ResultBonusRoundsAutoplay)) {
        var t = XT.GetObject(Vars.RespinData);
        (null == t || t.IsDone) && (this.fsPurchased = !1, this.featureWasPurchased.hide.Start())
    }
    this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.UpdateActiveOptions = function () {
    for (var t = !1, e = this.CanEnablePurchase(), i = XT.GetObject(Vars.BetLevelSettings), n = 0; n < this.purchaseOptions.length; n++) {
        var o = null == i || i.betLevelIndex == this.purchaseOptions[n].activeOnBetLevel;
        e && o && this.EnoughMoney(this.featurePurchaseData.purchaseCosts[n]) && !this.purchaseOptions[n].forceDisabled ? (t = !0, this.purchaseOptions[n].SetEnabled(!0)) : this.purchaseOptions[n].SetEnabled(!1)
    }
    this.useMainButton && (this.mainButtonEnabled && !t ? (this.mainButtonEnabled = !1, this.enableMainButton.hide.Start()) : !this.mainButtonEnabled && t && (this.mainButtonEnabled = !0, this.enableMainButton.show.Start()))
}, FeaturePurchaseV2.prototype.OnBalanceChanged = function (t) {
    this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.OnCanSpin = function (t) {
    this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.OnSpinBlockingFeature = function (t) {
    this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.OnWaitForBigWin = function (t) {
    this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.OnBlockSpin = function () {
    this.spinBlockersCounter++, this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.OnUnblockSpin = function () {
    this.spinBlockersCounter--, this.UpdateActiveOptions()
}, FeaturePurchaseV2.prototype.CanEnablePurchase = function () {
    if (!this.featureAvailable) return !1;
    if (XT.GetObject(Vars.FeaturePurchase).purchaseIndex > -1) return !1;
    if (this.spinBlockersCounter > 0) return !1;
    if (this.purchaseBlockCounter > 0) return !1;
    if (VSGameStateManager.GetState() != VSGameState.Result && VSGameStateManager.GetState() != VSGameState.ResultBuyWindowOpen) return !1;
    if (!XT.GetBool(Vars.CanSpin)) return !1;
    if (XT.GetBool(Vars.SpinBlockingFeatureIsRunning)) return !1;
    if (XT.GetInt(Vars.AutoplaySpinsLeft) > 0) return !1;
    if (XT.GetBool(Vars.WaitInResultForBigWin)) return !1;
    if (this.frbActive) return !1;
    var t = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    if (t.IsFreeSpin && !t.IsFreeSpinsCollected) return !1;
    var e = XT.GetObject(Vars.BonusData);
    if (null != e && !e.GameOver) return !1;
    var i = XT.GetObject(Vars.RespinData);
    return !(null != i && !i.IsDone)
}, FeaturePurchaseV2.prototype.EnoughMoney = function (t) {
    var e = t * CoinManager.GetNextBet(),
        i = XT.GetInt(Vars.Jurisdiction_MaxBetCents) / 100;
    return i <= 0 && (i = XT.GetDouble(Vars.ExplicitMaxTotalBetFromServer)), !(e > i) && e - (XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived)) <= 1e-6
}, FPOption.prototype.SetCost = function (t) {
    for (var e = 0; e < this.cost.length; e++) this.cost[e].SetValueManually(t)
}, FPOption.prototype.SetEnabled = function (t) {
    this.isEnabled != t && (this.isEnabled = t, this.isEnabled ? this.enable.Start() : this.disable.Start())
}, FPOption.prototype.SetAvailable = function (t) {
    this.isAvailable != t && null != this.optionIsAvailable && null != this.optionIsAvailable.show && (this.isAvailable = t, this.isAvailable ? this.optionIsAvailable.show.Start() : this.optionIsAvailable.hide.Start())
}, goog.require("UHT.XTLink"), FeaturePurchaseWindow.prototype = Object.create(XTLink.prototype), FeaturePurchaseWindow.prototype.constructor = FeaturePurchaseWindow, FeaturePurchaseWindow.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.Hide, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_CodeToData_InterfaceWindowOpen, this.Hide, this), XT.RegisterCallbackEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows, this.OnCloseAllInterfaceWindows, this)
}, FeaturePurchaseWindow.prototype.Hide = function () {
    if (this.content.activeInHierarchy) {
        for (var t = 0; t < this.idleEvents.length; ++t)
            if (this.idleEvents[t].IsRunning()) return;
        this.hideEvent.Start()
    }
}, FeaturePurchaseWindow.prototype.Show = function () {
    this.showFrame = Time.frameCount, this.showEvent.Start(), XT.TriggerEvent(InterfaceVars.Evt_DataToCode_CloseAllInterfaceWindows)
}, FeaturePurchaseWindow.prototype.OnCloseAllInterfaceWindows = function () {
    this.showFrame < Time.frameCount && this.Hide()
}, goog.require("UHT.XTLink");
var FeaturePurchaseOptionType = {
    Default: 0,
    Selected: 1
};

function FeaturePurchaseOption() {
    XTLink.call(this), this.purchaseIndex = 0, this.type = FeaturePurchaseOptionType.Default, this.enable = null, this.disable = null, this.click = null, this.costLabels = null, this.customLabels = null, this.customTexts = null, this.purchaseData = null
}

function BuyFeature_InterfaceLink() {
    XTLink.call(this), this.betBlockTime_afterClick = 1, this.betCloseTimer = .3, this.betCloseTimerOnlyOnMultiOptions = !0, this.windowOption = null, this.purchaseType = null, this.featureBought = -2, this.allFPLabels = [], this.initiallyActiveFPLabels = [], this.defaultFPLabelsCount = [], this.currentFPLabelsCount = [], this.optionsOnScreen = 0, this.betLimitedByIndex = -1, this.mustCheckBet = !1, this.blockTimer = -1, this.closeTimer = -1, this.initialBet = -1, this.initialCoinIndex = -1, this.initialBetIndex = -1
}

function BigWin() {
    XTLink.call(this), this.catContainter = null, this.hideLevelsIndividually = !1, this.skipJackpotWin = !1, this.showOnlyJackpotWin = !1, this.nextLevelToShow = -1, this.isAnyLevelActive = !1
}
FeaturePurchaseOption.prototype = Object.create(XTLink.prototype), FeaturePurchaseOption.prototype.constructor = FeaturePurchaseOption, FeaturePurchaseOption.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.FeaturePurchase, this.OnFeaturePurchase, this), XT.RegisterCallbackEvent(FeaturePurchaseVars.Evt_FeaturePurchase_UpdateFeaturePurchaseOptions, this.UpdateOption, this), XT.RegisterCallbackEvent(FeaturePurchaseVars.Evt_FeaturePurchase_EnableFeaturePurchaseOptions, this.EnableOption, this), this.type == FeaturePurchaseOptionType.Selected && XT.RegisterCallbackObject(FeaturePurchaseVars.FeaturePurchase_SelectedOption, this.OnSelectedOption, this)
}, FeaturePurchaseOption.prototype.OnFeaturePurchase = function (t) {
    this.purchaseData = t
}, FeaturePurchaseOption.prototype.OnSelectedOption = function (t) {
    null != t && (this.purchaseIndex = t.purchaseIndex, this.customTexts = t.customTexts, this.UpdateOption())
}, FeaturePurchaseOption.prototype.UpdateOption = function () {
    if (null != this.purchaseData) {
        var t = this.purchaseData.purchaseCosts;
        if (null != t) {
            for (var e = CoinManager.GetFormatedMoneyValue(t[this.purchaseIndex], CoinManager.GetNextBet(), !1), i = 0; i < this.costLabels.length; i++) this.costLabels[i].text = e;
            if (null != this.customLabels)
                for (i = 0; i < this.customLabels.length; i++) this.customLabels[i].text = this.customTexts[i]
        }
    }
}, FeaturePurchaseOption.prototype.EnableOption = function () {
    if (null != this.purchaseData) {
        var t = this.purchaseData.purchaseOptionIsAvailable;
        null != t && (t[this.purchaseIndex] ? this.enable : this.disable).Start()
    }
}, FeaturePurchaseOption.prototype.OnClick = function () {
    XT.SetObject(FeaturePurchaseVars.FeaturePurchase_SelectedOption, this), this.click.Start()
}, FeaturePurchaseOption.prototype.PurchaseFeature = function () {
    this.purchaseData.purchaseIndex = this.purchaseIndex
}, goog.require("UHT.Engine"), BuyFeature_InterfaceLink.prototype = Object.create(XTLink.prototype), BuyFeature_InterfaceLink.prototype.constructor = BuyFeature_InterfaceLink, BuyFeature_InterfaceLink.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(InterfaceVars.BUY_BetController_visible, !1), XT.SetBool(InterfaceVars.BUY_BetController_blocked, !1), XT.SetBool(InterfaceVars.BUY_BetController_canIncrease, !0), XT.SetBool(InterfaceVars.BUY_BetController_canDecrease, !0)
}, BuyFeature_InterfaceLink.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(InterfaceVars.BUY_BetController_visible, this.OnBuyBetControllerVisible, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestSpin, this.OnRequestSpinToServer, this, -69), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_IntroClosedOrSkipped, this.OnIntroClosedOrSkipped, this);
    for (var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(CATButton, !0), e = 0; e < t.length; e++)
        if (null != t[e].catEventClick && null != t[e].catEventClick.cat)
            for (var i = t[e].catEventClick.cat, n = 0; n < i.events.length; n++)
                if (i.events[n].id == t[e].catEventClick.id) {
                    var o = new CAT_Action_SendMessage;
                    o.data = new MessageData(this.gameObject, "OnAnyCATButtonClick", !1, ""), i.events[n].actions.push(o);
                    break
                }
}, BuyFeature_InterfaceLink.prototype.Start = function () {
    var t, e = null,
        i = null;
    if (null != (t = globalRuntime.sceneRoots[1].GetComponentsInChildren(FeaturePurchaseDisplayer, !0)[0])) {
        this.purchaseType = "fp_V1";
        for (var n = 0; n < t.ftPurchaseItems.length; n++) {
            var o = [],
                s = 0;
            this.allFPLabels.push(o);
            var a = null;
            if (t.purchaseCosts.length > n && null != t.purchaseCosts[n] && (a = t.purchaseCosts[n], o.indexOf(a) < 0 && (o.push(a), (a.gameObject.activeInHierarchy || this.WouldBeActiveInOtherLayout(a.gameObject.transform)) && (s++, this.initiallyActiveFPLabels.push(a)))), null != (a = t.ftPurchaseItems[n].costLabel) && o.indexOf(a) < 0 && (o.push(a), (a.gameObject.activeInHierarchy || this.WouldBeActiveInOtherLayout(a.gameObject.transform)) && (s++, this.initiallyActiveFPLabels.push(a))), null != t.ftPurchaseItems[n].costLabels)
                for (var r = 0; r < t.ftPurchaseItems[n].costLabels.length; r++) null != (a = t.ftPurchaseItems[n].costLabels[r]) && o.indexOf(a) < 0 && (o.push(a), (a.gameObject.activeInHierarchy || this.WouldBeActiveInOtherLayout(a.gameObject.transform)) && (s++, this.initiallyActiveFPLabels.push(a)));
            this.currentFPLabelsCount.push(s), this.defaultFPLabelsCount.push(s)
        }
        var l = globalRuntime.sceneRoots[1].GetComponentsInChildren(FeaturePurchaseOption, !0);
        for (n = 0; n < l.length; n++)
            if (1 != l[n].type) {
                for (var u = l[n].purchaseIndex; this.allFPLabels.length <= u;) this.allFPLabels.push([]), this.defaultFPLabelsCount.push(0), this.currentFPLabelsCount.push(0);
                for (o = this.allFPLabels[u], s = 0, a = null, r = 0; r < l[n].costLabels.length; r++) null != (a = l[n].costLabels[r]) && o.indexOf(a) < 0 && (o.push(a), (a.gameObject.activeInHierarchy || this.WouldBeActiveInOtherLayout(a.gameObject.transform)) && (s++, this.initiallyActiveFPLabels.push(a)));
                this.currentFPLabelsCount[u] += s, this.defaultFPLabelsCount[u] += s
            } else this.windowOption = l[n], XT.RegisterCallbackObject(FeaturePurchaseVars.FeaturePurchase_SelectedOption, this.OnSelectedOption, this)
    } else if (null != (e = globalRuntime.sceneRoots[1].GetComponentsInChildren(FeaturePurchaseV2, !0)[0])) {
        this.purchaseType = "fp_V2";
        for (n = 0; n < e.purchaseOptions.length; n++) {
            o = [], s = 0;
            this.allFPLabels.push(o);
            for (a = null, r = 0; r < e.purchaseOptions[n].cost.length; r++) {
                var h = e.purchaseOptions[n].cost[r];
                null != h && (a = h.label), null != a && o.indexOf(a) < 0 && (o.push(a), (a.gameObject.activeInHierarchy || this.WouldBeActiveInOtherLayout(a.gameObject.transform)) && (s++, this.initiallyActiveFPLabels.push(a)))
            }
            this.currentFPLabelsCount.push(s), this.defaultFPLabelsCount.push(s)
        }
    } else if (null != (i = globalRuntime.sceneRoots[1].GetComponentsInChildren(FreeSpinsPurchaseDisplayer, !0)[0])) {
        this.purchaseType = "fsp";
        for (n = 0; n < i.fsPurchaseCosts.length; n++) {
            o = [], s = 0;
            this.allFPLabels.push(o), null != (a = i.fsPurchaseCosts[n]) && o.indexOf(a) < 0 && (o.push(a), (a.gameObject.activeInHierarchy || this.WouldBeActiveInOtherLayout(a.gameObject.transform)) && (s++, this.initiallyActiveFPLabels.push(a))), null != (a = i.fsPurchaseItems[n].costLabel) && o.indexOf(a) < 0 && (o.push(a), (a.gameObject.activeInHierarchy || this.WouldBeActiveInOtherLayout(a.gameObject.transform)) && (s++, this.initiallyActiveFPLabels.push(a))), this.currentFPLabelsCount.push(s), this.defaultFPLabelsCount.push(s)
        }
    }
}, BuyFeature_InterfaceLink.prototype.OnAnyCATButtonClick = function () {
    XT.GetBool(InterfaceVars.BUY_BetController_visible) && (this.blockTimer = this.betBlockTime_afterClick, XT.SetBool(InterfaceVars.BUY_BetController_blocked, !0))
}, BuyFeature_InterfaceLink.prototype.OnSelectedOption = function (t) {
    if (null == t) {
        var e = this.allFPLabels[this.windowOption.purchaseIndex].length - this.windowOption.costLabels.length;
        this.allFPLabels[this.windowOption.purchaseIndex].splice(e)
    } else
        for (var i = t.purchaseIndex, n = 0; n < this.windowOption.costLabels.length; n++) this.allFPLabels[i].push(this.windowOption.costLabels[n])
}, BuyFeature_InterfaceLink.prototype.WouldBeActiveInOtherLayout = function (t) {
    if (null != t) {
        var e = t.GetComponent(ArrangeableActive);
        if (null != e && (e.useOnMobile && (e.activeInLandscape || e.activeInPortrait) || e.useOnDesktop && e.activeInLandscape)) return null != t.parent && t.parent.gameObject.activeInHierarchy;
        if (t.gameObject.activeSelf) return this.WouldBeActiveInOtherLayout(t.parent)
    }
    return !1
}, BuyFeature_InterfaceLink.prototype.OnIntroClosedOrSkipped = function () {
    var t = globalRuntime.sceneRoots[1].GetComponentsInChildren(FeaturePurchaseWindow, !0);
    if (null != t)
        for (var e = 0; e < t.length; e++) XT.UnregisterCallbackEvent(t[e].Hide, this, InterfaceVars.Evt_CodeToData_InterfaceWindowOpen)
}, BuyFeature_InterfaceLink.prototype.GetOptionCost = function (t) {
    switch (this.purchaseType) {
        case "fp_V1":
            return null == XT.GetObject(Vars.FeaturePurchase).purchaseCosts ? 9999999 : XT.GetObject(Vars.FeaturePurchase).purchaseCosts[t];
        case "fp_V2":
            return XT.GetObject(Vars.FeaturePurchase).purchaseCosts[t];
        case "fsp":
            return XT.GetObject(Vars.FreeSpinsPurchaseConfig).purchaseOptions[t].bet
    }
    return 9999999
}, BuyFeature_InterfaceLink.prototype.EnoughMoneyAfterBetIncrease = function (t) {
    if (XT.GetBool(Vars.MaxBetAndCoinValueReached)) return !1;
    var e = CoinManager.instance.GetSmartIncreasedBet(!1),
        i = this.GetOptionCost(t) * e,
        n = XT.GetInt(Vars.Jurisdiction_MaxBetCents) / 100;
    return n <= 0 && (n = XT.GetDouble(Vars.ExplicitMaxTotalBetFromServer)), !(i > n) && i - (XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived)) <= 1e-6
}, BuyFeature_InterfaceLink.prototype.OnBetChanged = function () {
    this.mustCheckBet = !0
}, BuyFeature_InterfaceLink.prototype.RevertToInitialBet = function () {
    this.initialBet != CoinManager.GetNextBet() && (XT.GetBool(Vars.FromServer_AllowCoins) ? (XT.SetInt(Vars.NextBetIndex, this.initialBetIndex), CoinManager.instance.SetCoinValueIndex(this.initialCoinIndex)) : CoinManager.SetBetIndex(this.initialBetIndex))
}, BuyFeature_InterfaceLink.prototype.CheckFeatureBought = function () {
    switch (this.purchaseType) {
        case "fp_V1":
        case "fp_V2":
            this.featureBought = XT.GetObject(Vars.FeaturePurchase).purchaseIndex;
            break;
        case "fsp":
            this.featureBought = XT.GetObject(Vars.FreeSpinsPurchaseConfig).optionIndex;
            break
    }
}, BuyFeature_InterfaceLink.prototype.OnRequestSpinToServer = function () {
    XT.GetBool(InterfaceVars.BUY_BetController_visible) && (XT.SetBool(InterfaceVars.BUY_BetController_visible, !1), this.CheckFeatureBought(), this.featureBought > -1 ? this.featureBought = -2 : this.RevertToInitialBet())
}, BuyFeature_InterfaceLink.prototype.OnBuyBetControllerVisible = function (t) {
    t ? (this.initialBet = CoinManager.GetNextBet(), this.initialCoinIndex = XT.GetInt(Vars.CoinValueIndex), this.initialBetIndex = XT.GetInt(Vars.NextBetIndex), this.mustCheckBet = !0) : (this.betLimitedByIndex >= 0 && XT.UnregisterCallbackEvent(this.OnBetChanged, this, Vars.Evt_Internal_BetChanged), this.closeTimer = -1, this.betLimitedByIndex = -1, null != this.windowOption && XT.SetObject(FeaturePurchaseVars.FeaturePurchase_SelectedOption, null))
}, BuyFeature_InterfaceLink.prototype.CloseBetController = function () {
    XT.SetBool(InterfaceVars.BUY_BetController_visible, !1), this.featureBought < 0 && this.CheckFeatureBought(), this.featureBought > -1 ? this.featureBought = -2 : (this.RevertToInitialBet(), VSGameStateManager.ChangeTo(VSGameState.Result))
}, BuyFeature_InterfaceLink.prototype.Update = function () {
    if (null != this.purchaseType) {
        var t = !1,
            e = this.optionsOnScreen;
        this.optionsOnScreen = 0, this.closeTimer > 0 && (this.closeTimer -= Time.deltaTime, this.closeTimer <= 0 && (this.closeTimer = -1, this.CloseBetController())), this.blockTimer > 0 && (this.blockTimer -= Time.deltaTime, this.blockTimer <= 0 && (this.blockTimer = -1, XT.SetBool(InterfaceVars.BUY_BetController_blocked, !1)));
        for (var i = 0; i < this.allFPLabels.length; i++) {
            var n = this.currentFPLabelsCount[i];
            this.currentFPLabelsCount[i] = 0;
            for (var o = 0; o < this.allFPLabels[i].length; o++)(this.allFPLabels[i][o].gameObject.activeInHierarchy || this.initiallyActiveFPLabels.indexOf(this.allFPLabels[i][o]) >= 0) && this.currentFPLabelsCount[i]++;
            this.currentFPLabelsCount[i] > this.defaultFPLabelsCount[i] && this.optionsOnScreen++, this.currentFPLabelsCount[i] != n && (t = !0)
        }
        if (t) {
            var s = this.betLimitedByIndex;
            if (this.optionsOnScreen > 0) {
                XT.GetBool(InterfaceVars.BUY_BetController_visible) || (XT.SetBool(InterfaceVars.BUY_BetController_visible, !0), VSGameStateManager.ChangeTo(VSGameState.ResultBuyWindowOpen));
                var a = 0;
                this.betLimitedByIndex = 0, this.closeTimer = -1;
                for (i = 0; i < this.currentFPLabelsCount.length; i++) {
                    var r = this.currentFPLabelsCount[i] - this.defaultFPLabelsCount[i];
                    (r > a || r == a && this.GetOptionCost(i) < this.GetOptionCost(this.betLimitedByIndex)) && (a = r, this.betLimitedByIndex = i)
                }
                this.betLimitedByIndex != s && (s < 0 && XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged, this.OnBetChanged, this), this.mustCheckBet = !0)
            } else XT.GetBool(InterfaceVars.BUY_BetController_visible) && (!this.betCloseTimerOnlyOnMultiOptions || e > 1 ? this.closeTimer = this.betCloseTimer : this.CloseBetController())
        }
        XT.GetBool(InterfaceVars.BUY_BetController_visible) && this.mustCheckBet && (this.mustCheckBet = !1, XT.GetBool(InterfaceVars.BUY_BetController_canIncrease) && !this.EnoughMoneyAfterBetIncrease(this.betLimitedByIndex) ? XT.SetBool(InterfaceVars.BUY_BetController_canIncrease, !1) : !XT.GetBool(InterfaceVars.BUY_BetController_canIncrease) && this.EnoughMoneyAfterBetIncrease(this.betLimitedByIndex) && XT.SetBool(InterfaceVars.BUY_BetController_canIncrease, !0))
    }
}, goog.require("UHT.Engine"), BigWin.prototype = Object.create(XTLink.prototype), BigWin.prototype.constructor = BigWin, BigWin.CatEvents = {
    hide: 0,
    lvl_1: 1,
    lvl_2: 2,
    lvl_3: 3,
    lvl_4: 4,
    lvl_5: 5,
    jackpot: 6,
    counter: 7,
    hide_lvl_1: 8,
    hide_lvl_2: 9,
    hide_lvl_3: 10,
    hide_lvl_4: 11,
    hide_lvl_5: 12
}, BigWin.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackInt(Vars.BigWinLevel, this.OnShowBigWinLevel, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ShowBigWin, this.OnShowBigWin, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ClearBigWin, this.OnClearBigWin, this)
}, BigWin.prototype.OnDestroy = function () {
    XT.UnregisterCallbackInt(this.OnShowBigWinLevel, this), XT.UnregisterCallbackEvent(this.OnShowBigWin, this), XT.UnregisterCallbackEvent(this.OnClearBigWin, this)
}, BigWin.prototype.OnShowBigWinLevel = function (t) {
    this.nextLevelToShow = t
};
var GA_BW_SENDONESKIP = !1;

function BigWinJackpotActivator() {
    XTLink.call(this), this.orderedClassicJackpotRoots = [], this.singleJackpotRoot = null, this.isManual = !1
}

function BigWinSkipper() {
    XTLink.call(this)
}

function JPOnReelsCatLinks() {
    this.cat = null, this.ids = null
}
BigWin.prototype.OnShowBigWin = function () {
    var t = XT.GetBool(Vars.FromServer_IsJackpotWin);
    this.skipJackpotWin && t || this.showOnlyJackpotWin && !t || (this.isAnyLevelActive = !0, this.catContainter.StartEvent(this.nextLevelToShow), this.nextLevelToShow > 0 && this.nextLevelToShow < 6 && (globalTracking.SendEvent("uht_behaviour_BigWin", "GotLevel_" + this.nextLevelToShow.toString(), this.nextLevelToShow, "BehaviourTracker"), GA_BW_SENDONESKIP = !0))
}, BigWin.prototype.OnClearBigWin = function () {
    this.isAnyLevelActive && (this.hideLevelsIndividually ? this.catContainter.StartEvent(this.nextLevelToShow + 7) : this.catContainter.StartEvent(BigWin.CatEvents.hide), this.isAnyLevelActive = !1)
}, goog.require("UHT.XTLink"), BigWinJackpotActivator.prototype = Object.create(XTLink.prototype), BigWinJackpotActivator.prototype.constructor = BigWinJackpotActivator, BigWinJackpotActivator.prototype.XTRegisterCallbacks = function () {
    this.isManual || XT.RegisterCallbackEvent(Vars.Evt_Internal_ShowBigWin, this.ShowBigWin, this)
}, BigWinJackpotActivator.prototype.OnDestroy = function () {
    this.isManual || XT.UnregisterCallbackEvent(this.ShowBigWin, this)
}, BigWinJackpotActivator.prototype.ShowBigWin = function () {
    if (XT.GetBool(Vars.FromServer_IsJackpotWin)) {
        var t = XT.GetObject(Vars.FromServer_LastValidJackpotsInformation);
        if (null == t || 1 == t.length && "S" == t[0].JackpotGroupType) {
            this.singleJackpotRoot.SetActive(!0);
            for (var e = 0; e < this.orderedClassicJackpotRoots.length; e++) this.orderedClassicJackpotRoots[e].SetActive(!1)
        } else {
            this.singleJackpotRoot.SetActive(!1);
            for (e = 0; e < this.orderedClassicJackpotRoots.length; e++) this.orderedClassicJackpotRoots[e].SetActive(e == XT.GetInt(Vars.FromServer_JackpotWonOrder))
        }
    }
}, goog.require("UHT.Engine"), BigWinSkipper.prototype = Object.create(XTLink.prototype), BigWinSkipper.prototype.constructor = BigWinSkipper, BigWinSkipper.timeOfFirstClick = -1, BigWinSkipper.prototype.OnClick = function () {
    if (UHT_DEVICE_TYPE.MOBILE) {
        if (!(BigWinSkipper.timeOfFirstClick > 0)) return void(BigWinSkipper.timeOfFirstClick = Time.time);
        if (Time.time - BigWinSkipper.timeOfFirstClick > 4) return void(BigWinSkipper.timeOfFirstClick = Time.time)
    }
    BigWinSkipper.timeOfFirstClick = -1, XT.GetBool(Vars.WaitInResultForBigWin) && XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)
}, goog.require("UHT.XTLink");
var JPOnReelsSwitchMode = {
    FIFO: 0,
    FILO: 1,
    LIFO: 2,
    LILO: 3
};

function ShowMysteryJackpotOnReels() {
    XTLink.call(this), this.miniJackpotSymbolId = -1, this.maxiJackpotSymbolId = -1, this.majorJackpotSymbolId = -1, this.megaJackpotSymbolId = -1, this.singleJackpotSymbolId = -1, this.jackpotWinSound = null, this.jackpotCounterEndSound = null, this.showJackpotWin = null, this.hideJackpotWin = null, this.showJackpotWonDuration = 2, this.hideJackpotWonDuration = 2, this.showOneByOne = !1, this.forceSymbolAlpha = !1, this.switchMode = JPOnReelsSwitchMode.FILO, this.switchToJpDelay = 0, this.switchToJpDuration = 0, this.switchFromJpDelay = 0, this.switchFromJpDuration = 0, this.switchSymbolToJp = null, this.switchSymbolFromJp = null, this.switchReelToJp = null, this.switchReelFromJp = null, this.switchReelSymbolId = null, this.rm = null, this.sm = null, this.oldSymbolsIds = null
}

function MysteryJackpotManager() {
    XTLink.call(this), this.afterJackpotCounterEndedDelay = 2, this.rq = null, this.jackpotOnReels = null, this.useRoutineQueue = !1, this.routineQueue = null
}
ShowMysteryJackpotOnReels.prototype = Object.create(XTLink.prototype), ShowMysteryJackpotOnReels.prototype.constructor = ShowMysteryJackpotOnReels, ShowMysteryJackpotOnReels.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_JackpotCounterStart, this.JackpotCounterStart, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_JackpotCounterEnded, this.JackpotCounterEnded, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BigWinHasFinished, this.BigWinHasFinished, this)
}, ShowMysteryJackpotOnReels.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGameInit, this)
}, ShowMysteryJackpotOnReels.prototype.OnGameInit = function () {
    this.rm = XT.GetObject(Vars.ReelsManagerObject), this.sm = XT.GetObject(Vars.SoundManagerObject), this.oldSymbolsIds = [];
    for (var t = 0; t < this.rm.reels.length; ++t) {
        this.oldSymbolsIds.push([]);
        for (var e = 0; e < this.rm.reels[t].symbolHolders.length; ++e) this.oldSymbolsIds[t].push(-1)
    }
}, ShowMysteryJackpotOnReels.prototype.SwitchSymbolsToJackpot = function (t) {
    var e = t.split(",");
    if (2 == e.length) {
        var i = e[0],
            n = e[1];
        this.oldSymbolsIds[i][n] = this.rm.reels[i].symbolHolders[n].currentSymbol.symbolId;
        var o = this.rm.reels[i].symbolHolders[n].currentSymbol;
        o.StopAllRunningEvents(), o.SetNormal(), this.rm.reels[i].symbolHolders[n].ReplaceSymbol(this.GetWinningJpSymbolID()), this.rm.reels[i].symbolHolders[n].currentSymbol.SetNormal(), this.rm.reels[i].symbolHolders[n].currentSymbol.SetHighlightOn(), this.forceSymbolAlpha && (this.UpdateSymbolAlpha(o, 1), this.UpdateSymbolAlpha(this.rm.reels[i].symbolHolders[n].currentSymbol, 0))
    }
}, ShowMysteryJackpotOnReels.prototype.SwitchSymbolsFromJackpot = function (t) {
    var e = t.split(",");
    if (2 == e.length) {
        var i = e[0],
            n = e[1],
            o = this.oldSymbolsIds[i][n],
            s = this.rm.reels[i].symbolHolders[n].currentSymbol;
        s.StopAllRunningEvents(), s.SetNormal(), this.rm.reels[i].symbolHolders[n].ReplaceSymbol(o), this.rm.reels[i].symbolHolders[n].currentSymbol.SetNormal(), this.forceSymbolAlpha && (this.UpdateSymbolAlpha(s, 1), this.UpdateSymbolAlpha(this.rm.reels[i].symbolHolders[n].currentSymbol, 0))
    }
}, ShowMysteryJackpotOnReels.prototype.JackpotCounterStart = function () {
    this.jackpotWinSound.handler = this.sm.PlayLooping(this.jackpotWinSound.GetClip())
}, ShowMysteryJackpotOnReels.prototype.JackpotCounterEnded = function () {
    if (null != this.jackpotCounterEndSound && this.jackpotWinSound.IsPlaying()) {
        var t = {
            handle: this.jackpotWinSound.handler
        };
        this.sm.StopLoopingSound(t), this.sm.PlaySimple(this.jackpotCounterEndSound)
    }
}, ShowMysteryJackpotOnReels.prototype.BigWinHasFinished = function () {
    if (this.jackpotWinSound.IsPlaying()) {
        var t = {
            handle: this.jackpotWinSound.handler
        };
        this.sm.StopLoopingSound(t)
    }
}, ShowMysteryJackpotOnReels.prototype.GetWinningJpSymbolID = function () {
    var t = XT.GetInt(Vars.FromServer_JackpotWonOrder),
        e = XT.GetObject(Vars.FromServer_LastValidJackpotsInformation);
    if (null == e || 1 == e.length && "S" == e[0].JackpotGroupType) return this.singleJackpotSymbolId;
    switch (t) {
        case 0:
            return this.miniJackpotSymbolId;
        case 1:
            return this.maxiJackpotSymbolId;
        case 2:
            return this.majorJackpotSymbolId;
        case 3:
            return this.megaJackpotSymbolId
    }
    return -1
}, ShowMysteryJackpotOnReels.prototype.InjectSwitchOneByOneRQI = function (t, e) {
    for (var i = t ? this.switchSymbolToJp : this.switchSymbolFromJp, n = t ? this.switchReelToJp : this.switchReelFromJp, o = t ? this.switchToJpDelay : this.switchFromJpDelay, s = XT.GetObject(Vars.ResultScreenSymbols), a = [], r = 0; r < s.length; ++r) {
        var l = !1,
            u = this.switchReelSymbolId.indexOf(s[r][0]);
        if (u > -1) {
            for (var h = !0, c = 1; c < s[r].length; ++c)
                if (s[r][c] != s[r][c - 1]) {
                    h = !1;
                    break
                } l = h
        }
        if (l) {
            var p = new CATLink;
            p.cat = n[u].cat, p.id = n[u].ids[r], a.push(new RQITriggerCallback(this.StartCATLink, p, this)), a.push(new RQIWaitForSeconds(o))
        } else
            for (c = 0; c < s[r].length; ++c) a.push(new RQITriggerCallback(this.StartCATLink, i[r * s[r].length + c], this)), a.push(new RQIWaitForSeconds(o))
    }
    if (t && (this.switchMode == JPOnReelsSwitchMode.LIFO || this.switchMode == JPOnReelsSwitchMode.LILO) || !t && (this.switchMode == JPOnReelsSwitchMode.FILO || this.switchMode == JPOnReelsSwitchMode.LILO))
        for (var d = a.length - 1; d >= 0; --d) e.AddRoutineQueueItem(a[d]);
    else
        for (d = 0; d < a.length; ++d) e.AddRoutineQueueItem(a[d])
}, ShowMysteryJackpotOnReels.prototype.UpdateSymbolAlpha = function (t, e) {
    t.gameObject.GetComponent(UIPanel).alpha = e;
    for (var i = t.gameObject.GetComponentsInChildren(UIPanel, !0), n = 0; n < i.length; n++) i[n].alpha = e
}, ShowMysteryJackpotOnReels.prototype.StartCATLink = function (t) {
    null != t && t.Start()
}, ShowMysteryJackpotOnReels.prototype.InjectShowMysteryJackpotWonRQI = function (t) {
    t.AddRoutineQueueItem(new RQITriggerCallback(this.StartCATLink, this.showJackpotWin, this)), t.AddRoutineQueueItem(new RQIWaitForSeconds(this.showJackpotWonDuration)), this.showOneByOne && (this.InjectSwitchOneByOneRQI(!0, t), t.AddRoutineQueueItem(new RQIWaitForSeconds(this.switchToJpDuration)))
}, ShowMysteryJackpotOnReels.prototype.InjectHideMysteryJackpotWonRQI = function (t) {
    t.AddRoutineQueueItem(new RQITriggerCallback(this.StartCATLink, this.hideJackpotWin, this)), t.AddRoutineQueueItem(new RQIWaitForSeconds(this.hideJackpotWonDuration)), this.showOneByOne && (this.InjectSwitchOneByOneRQI(!1, t), t.AddRoutineQueueItem(new RQIWaitForSeconds(this.switchFromJpDuration)))
}, goog.require("UHT.XTLink"), MysteryJackpotManager.prototype = Object.create(XTLink.prototype), MysteryJackpotManager.prototype.constructor = MysteryJackpotManager, MysteryJackpotManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIForMysteryJackpotWin, this.JackpotWon, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_JackpotCounterStart, this.SetJackpotWonAmount, this)
}, MysteryJackpotManager.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGameInit, this), XT.UnregisterCallbackEvent(this.JackpotWon, this), XT.UnregisterCallbackEvent(this.SetJackpotWonAmount, this)
}, MysteryJackpotManager.prototype.OnGameInit = function () {
    this.rq = this.useRoutineQueue ? this.routineQueue : XT.GetObject(Vars.RQManagerObject)
}, MysteryJackpotManager.prototype.JackpotWon = function () {
    XT.GetBool(Vars.CanAnimateValues) && (this.jackpotOnReels.InjectShowMysteryJackpotWonRQI(this.rq), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_JackpotCounterStart)), this.rq.AddRoutineQueueItem(new RQIWaitForXTEvent(Vars.Evt_Internal_JackpotCounterEnded)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.afterJackpotCounterEndedDelay)), this.jackpotOnReels.InjectHideMysteryJackpotWonRQI(this.rq)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_DataToCode_CollectJackpotPressed))
}, MysteryJackpotManager.prototype.SetJackpotWonAmount = function () {
    XT.SetDouble(Vars.JackpotAmountWonDisplayed, 0), XT.SetDouble(Vars.JackpotAmountWonDisplayed, XT.GetDouble(Vars.FromServer_JackpotAmountWon))
};
var Vars = {
    Evt_Internal_GameInit: "Evt_Internal_GameInit",
    Evt_Internal_Init_SoundManager: "Evt_Internal_Init_SoundManager",
    Evt_Internal_Init_SymbolManager: "Evt_Internal_Init_SymbolManager",
    Evt_Internal_Init_ReelsManager: "Evt_Internal_Init_ReelsManager",
    Evt_Internal_GUIInit: "Evt_Internal_GUIInit",
    GameHasCustomGamble: "GameHasCustomGamble",
    ScatterSymbolIsWild: "ScatterSymbolIsWild",
    DefaultGameWindowOverrideData: "DefaultGameWindowOverrideData",
    Evt_Internal_Init_CustomData: "Evt_Internal_Init_CustomData",
    Evt_Internal_CustomDataIsInitialized: "Evt_Internal_CustomDataIsInitialized",
    GameHasIntro: "GameHasIntro",
    ShouldDisplayIntro: "ShouldDisplayIntro",
    Evt_DataToCode_IntroClosePressed: "Evt_DataToCode_IntroClosePressed",
    MobileTapToStopMessageShowCount: "MobileTapToStopMessageShowCount",
    DesktopTurboSpinMessageShowCount: "DesktopTurboSpinMessageShowCount",
    GameIsRated: "GameIsRated",
    RatingSkipped: "RatingSkipped",
    BrowserWarningShown: "BrowserWarningShown",
    Evt_ToServer_UpdateSettingsOnServer: "Evt_ToServer_UpdateSettingsOnServer",
    SkipCooldownWhenUpdatingSettingsOnServer: "SkipCooldownWhenUpdatingSettingsOnServer",
    HasGameHistory: "HasGameHistory",
    VerifyGameAuthenticity: "VerifyGameAuthenticity",
    Jurisdiction_LineByLineFreespin: "Jurisdiction_LineByLineFreespin",
    Jurisdiction_LineByLineGlobal: "Jurisdiction_LineByLineGlobal",
    Jurisdiction_ClientRevision: "Jurisdiction_ClientRevision",
    Jurisdiction_GameSymbol: "Jurisdiction_GameSymbol",
    HasAdvancedAutoplay: "HasAdvancedAutoplay",
    Jurisdiction_SpinLimit: "Jurisdiction_SpinLimit",
    Jurisdiction_SpinLimit_Value: "Jurisdiction_SpinLimit_Value",
    Jurisdiction_MandatoryAutoplayLossLimit: "Jurisdiction_MandatoryAutoplayLossLimit",
    Jurisdiction_ResultMinimumTime: "Jurisdiction_ResultMinimumTime",
    Jurisdiction_ResultMinimumTime_Value: "Jurisdiction_ResultMinimumTime_Value",
    Jurisdiction_ResultMinimumTimeTurbo: "Jurisdiction_ResultMinimumTimeTurbo",
    Jurisdiction_ResultMinimumTimeTurbo_Value: "Jurisdiction_ResultMinimumTimeTurbo_Value",
    Jurisdiction_MaxBetCents: "Jurisdiction_MaxBetCents",
    Jurisdiction_MaxWin: "Jurisdiction_MaxWin",
    Jurisdiction_ResultMinimumTimeBetweenSpins: "Jurisdiction_ResultMinimumTimeBetweenSpins",
    Jurisdiction_ResultMinimumTimeBetweenSpins_Value: "Jurisdiction_ResultMinimumTimeBetweenSpins_Value",
    Jurisdiction_GameEngineVersion: "Jurisdiction_GameEngineVersion",
    Jurisdiction_NoSpinToWin: "Jurisdiction_NoSpinToWin",
    Jurisdiction_NoSmallWinCount: "Jurisdiction_NoSmallWinCount",
    SpinDuration: "SpinDuration",
    Jurisdiction_FinishCountersBeforeSpin: "Jurisdiction_FinishCountersBeforeSpin",
    Jurisdiction_Clock: "Jurisdiction_Clock",
    Jurisdiction_Clock_Server: "Jurisdiction_Clock_Server",
    Jurisdiction_ServerTime: "Jurisdiction_ServerTime",
    Jurisdiction_DisableAutoplay: "Jurisdiction_DisableAutoplay",
    Jurisdiction_GameTitle: "Jurisdiction_GameTitle",
    Jurisdiction_SplitBalance: "Jurisdiction_SplitBalance",
    Jurisdiction_PromotionURL: "Jurisdiction_PromotionURL",
    Jurisdiction_CLMBcurrency: "Jurisdiction_CLMBcurrency",
    AdvancedAutoplaySettings: "AdvancedAutoplaySettings",
    BatterySaver: "BatterySaver",
    HasCoins: "HasCoins",
    FromServer_AllowCoins: "FromServer_AllowCoins",
    AlternativeFreeRoundsText: "AlternativeFreeRoundsText",
    DontShowFRBEndWindowOnInit: "DontShowFRBEndWindowOnInit",
    Jurisdiction_TournamentOptOut: "Jurisdiction_TournamentOptOut",
    Jurisdiction_DisableBuyFeature: "Jurisdiction_DisableBuyFeature",
    Jurisdiction_GameLobbyInfoVisible: "Jurisdiction_GameLobbyInfoVisible",
    Jurisdiction_GameHistoryInfoVisible: "Jurisdiction_GameHistoryInfoVisible",
    Jurisdiction_Text_DE: "Jurisdiction_Text_DE",
    Jurisdiction_Show_X_Chance: "Jurisdiction_Show_X_Chance",
    Jurisdiction_Autoplay_StopOnFeatureWin: "Jurisdiction_Autoplay_StopOnFeatureWin",
    Jurisdiction_Autoplay_NoSkipScreens: "Jurisdiction_Autoplay_NoSkipScreens",
    DisableIntroScreen: "DisableIntroScreen",
    DisableStopButton: "DisableStopButton",
    DisableFastPlay: "DisableFastPlay",
    DisableNoMoneyMessageFromServer: "DisableNoMoneyMessageFromServer",
    ShowIncompleteGame: "ShowIncompleteGame",
    ShowNetPosition: "ShowNetPosition",
    Jurisdiction_DisableAnteBet: "Jurisdiction_DisableAnteBet",
    Jurisdiction_DisableSuperSpin: "Jurisdiction_DisableSuperSpin",
    Jurisdiction_ShowSessionUptime: "Jurisdiction_ShowSessionUptime",
    Jurisdiction_ShowHoursInSessionUptime: "Jurisdiction_ShowHoursInSessionUptime",
    Jurisdiction_DisableContinousSpin: "Jurisdiction_DisableContinousSpin",
    Jurisdiction_WinUp_Text: "Jurisdiction_WinUp_Text",
    Evt_Internal_ChangeVSGameState: "Evt_Internal_ChangeVSGameState",
    UpdateVSGameStateOnSpin: "UpdateVSGameStateOnSpin",
    ResetProgressMode: "ResetProgressMode",
    KeepSpinning: "KeepSpinning",
    Evt_Internal_SpinRequested: "Evt_Internal_SpinRequested",
    Evt_Internal_SpinStarted: "Evt_Internal_SpinStarted",
    Evt_Internal_SpinEnded: "Evt_Internal_SpinEnded",
    SpinNeedsConfirmation: "SpinNeedsConfirmation",
    CanUpdateLinkedLoopersPosition: "CanUpdateLinkedLoopersPosition",
    IsDifferentSpinType: "IsDifferentSpinType",
    StartDifferentSpin: "StartDifferentSpin",
    Evt_CodeToData_ShowSpinConfirmationWindow: "Evt_CodeToData_ShowSpinConfirmationWindow",
    Evt_DataToCode_ConfirmSpinStart: "Evt_DataToCode_ConfirmSpinStart",
    Evt_Internal_UpdateSymbolsDepth: "Evt_Internal_UpdateSymbolsDepth",
    Evt_Internal_StartIdleSpinCounter: "Evt_Internal_StartIdleSpinCounter",
    Evt_Internal_StopIdleSpinCounter: "Evt_Internal_StopIdleSpinCounter",
    Evt_Internal_EnterIdleSpinState: "Evt_Internal_EnterIdleSpinState",
    Evt_Internal_ExitIdleSpinState: "Evt_Internal_ExitIdleSpinState",
    IdleStateActive: "IdleStateActive",
    LastExcitedReelIndex: "LastExcitedReelIndex",
    ReelsCanBeExcited: "ReelsCanBeExcited",
    LastStopEndedReelIndex: "LastStopEndedReelIndex",
    LastStartedReelIndices: "LastStartedReelIndices",
    LastStoppedReelIndices: "LastStoppedReelIndices",
    ReelsStartOrder: "ReelsStartOrder",
    ReelsStopOrder: "ReelsStopOrder",
    ReelsStartOrderDefault: "ReelsStartOrderDefault",
    ReelsStopOrderDefault: "ReelsStopOrderDefault",
    ReelsWinInfo: "ReelsWinInfo",
    ExtraReelDelayStop: "ExtraReelDelayStop",
    ExtraReelDelayStopDefault: "ExtraReelDelayStopDefault",
    ExtraReelDelayStart: "ExtraReelDelayStart",
    ExtraReelDelayStartDefault: "ExtraReelDelayStartDefault",
    PossibleWinComboSymbols: "PossibleWinComboSymbols",
    StillPossibleWinComboPerSymbol: "StillPossibleWinComboPerSymbol",
    StillPossibleWinComboBonus: "StillPossibleWinComboBonus",
    StillPossibleWinComboScatter: "StillPossibleWinComboScatter",
    StillPossibleWinComboWild: "StillPossibleWinComboWild",
    ExcitedImportantSymbols: "ExcitedImportantSymbols",
    Evt_Internal_ReelStarted: "Evt_Internal_ReelStarted",
    Evt_Internal_ReelStopStarted: "Evt_Internal_ReelStopStarted",
    Evt_Internal_ReelStopEnded: "Evt_Internal_ReelStopEnded",
    Evt_Internal_ExcitedReel: "Evt_Internal_ExcitedReel",
    ResultSymbolWinID: "ResultSymbolWinID",
    Evt_Internal_ResultSymbolWinPlaySound: "Evt_Internal_ResultSymbolWinPlaySound",
    Evt_Internal_StartVSLogicSounds: "Evt_Internal_StartVSLogicSounds",
    Evt_Internal_StopVSLogicSounds: "Evt_Internal_StopVSLogicSounds",
    Evt_Internal_StartBGLogicSounds: "Evt_Internal_StartBGLogicSounds",
    Evt_Internal_StopBGLogicSounds: "Evt_Internal_StopBGLogicSounds",
    Evt_Internal_StartFSBGLogicSounds: "Evt_Internal_StartFSBGLogicSounds",
    Evt_Internal_StopFSBGLogicSounds: "Evt_Internal_StopFSBGLogicSounds",
    ValueAnimatorSoundIndex: "ValueAnimatorSoundIndex",
    Evt_Internal_PlayValueAnimatorSound: "Evt_Internal_PlayValueAnimatorSound",
    Evt_Internal_StopValueAnimatorSound: "Evt_Internal_StopValueAnimatorSound",
    Evt_Internal_PlayGambleShuffleCard: "Evt_Internal_PlayGambleShuffleCard",
    Evt_Internal_PlayGambleShufflingStop: "Evt_Internal_PlayGambleShufflingStop",
    Evt_Internal_StopGambleShuffleCard: "Evt_Internal_StopGambleShuffleCard",
    Evt_DataToCode_PlayGambleNewProgressItem: "Evt_DataToCode_PlayGambleNewProgressItem",
    Evt_DataToCode_PlayGambleResultWin: "Evt_DataToCode_PlayGambleResultWin",
    Evt_DataToCode_PlayGambleResultLose: "Evt_DataToCode_PlayGambleResultLose",
    SoundManagerObject: "SoundManagerObject",
    TRexManagerObject: "TRexManagerObject",
    MusicLogicObject: "MusicLogicObject",
    MusicDuckByOneShotObject: "MusicDuckByOneShotObject",
    OneShotCooldownObject: "OneShotCooldownObject",
    SoundState: "SoundState",
    MusicIsOn: "MusicIsOn",
    CanPlayReelStopSounds: "CanPlayReelStopSounds",
    Evt_Internal_SoundStateChanged: "Evt_Internal_SoundStateChanged",
    Evt_Internal_SwitchToFSSounds: "Evt_Internal_SwitchToFSSounds",
    Evt_CodeToData_SettingsWindowOpened: "Evt_CodeToData_SettingsWindowOpened",
    Evt_CodeToData_SettingsWindowClosed: "Evt_CodeToData_SettingsWindowClosed",
    Evt_Internal_MuteMusic: "Evt_Internal_MuteMusic",
    Evt_Internal_UnmuteMusic: "Evt_Internal_UnmuteMusic",
    Evt_DataToCode_Pressed_SoundBtn: "Evt_DataToCode_Pressed_SoundBtn",
    Evt_DataToCode_Pressed_MusicBtn: "Evt_DataToCode_Pressed_MusicBtn",
    Evt_DataToCode_Pressed_SoundFXBtn: "Evt_DataToCode_Pressed_SoundFXBtn",
    VSSoundLogic_IgnoreFastStop: "VSSoundLogic_IgnoreFastStop",
    Evt_Internal_LocaleChanged: "Evt_Internal_LocaleChanged",
    CustomGameStoredData: "CustomGameStoredData",
    Evt_Internal_CustomGameStoredDataReceived: "Evt_Internal_CustomGameStoredDataReceived",
    TotalNumberOfLines: "TotalNumberOfLines",
    Lines: "Lines",
    GameHasWaysInsteadOfLines: "GameHasWaysInsteadOfLines",
    GameHasLinesWithBetMultiplier: "GameHasLinesWithBetMultiplier",
    LinesPaysBothWays: "LinesPaysBothWays",
    HasReelAwareSymbolContent: "HasReelAwareSymbolContent",
    HiddenMathematics: "HiddenMathematics",
    LinesForMinBet: "LinesForMinBet",
    LinesForMaxBet: "LinesForMaxBet",
    FastPlay: "FastPlay",
    FastPlayChangesBetweenSpins: "FastPlayChangesBetweenSpins",
    ContinuousSpin: "ContinuousSpin",
    AllowContinuousSpin: "AllowContinuousSpin",
    ForceContinuousSpin: "ForceContinuousSpin",
    AutoplayContinuousSpin: "AutoplayContinuousSpin",
    DifferentSpinRushedByTurboSpin: "DifferentSpinRushedByTurboSpin",
    AutoplaySpinsRequested: "AutoplaySpinsRequested",
    AutoplaySpinsLeft: "AutoplaySpinsLeft",
    AutoplaySpinsLeftDisplayed: "AutoplaySpinsLeftDisplayed",
    InstantAutoplay: "InstantAutoplay",
    Evt_DataToCode_StartAutoplay: "Evt_DataToCode_StartAutoplay",
    Evt_DataToCode_StopAutoplay: "Evt_DataToCode_StopAutoplay",
    Evt_Internal_StoppedAutoplayByCondition: "Evt_Internal_StoppedAutoplayByCondition",
    WinReceived: "WinReceived",
    WinDisplayed: "WinDisplayed",
    SpinCycleWinReceived: "SpinCycleWinReceived",
    SpinCycleWinDisplayed: "SpinCycleWinDisplayed",
    ExtraAwardWin: "ExtraAwardWin",
    RespinCycleWin: "RespinCycleWin",
    RespinCycleWinDisplayed: "RespinCycleWinDisplayed",
    TotalLinesWinReceived: "TotalLinesWinReceived",
    TotalLinesWinDisplayed: "TotalLinesWinDisplayed",
    TotalScattersWinDisplayed: "TotalScattersWinDisplayed",
    MysteryScatterWinDisplayed: "MysteryScatterWinDisplayed",
    CanUpdateBalanceDisplayed: "CanUpdateBalanceDisplayed",
    BalanceReceived: "BalanceReceived",
    BalanceDisplayed: "BalanceDisplayed",
    BonusBalance: "BonusBalance",
    BonusBalanceReceived: "BonusBalanceReceived",
    BalanceDisplayedIsAnimating: "BalanceDisplayedIsAnimating",
    Evt_FromServer_BalanceUpdated: "Evt_FromServer_BalanceUpdated",
    IgnoreServerBalanceRequest: "IgnoreServerBalanceRequest",
    Evt_FromServer_BalanceUpdatedFromResult: "Evt_FromServer_BalanceUpdatedFromResult",
    Evt_Internal_FinalizeDisplayedWin: "Evt_Internal_FinalizeDisplayedWin",
    Evt_Internal_UpdateDisplayedWinInUI: "Evt_Internal_UpdateDisplayedWinInUI",
    Evt_Internal_UpdateDisplayedWin: "Evt_Internal_UpdateDisplayedWin",
    RespinData: "RespinData",
    ManualRespin: "ManualRespin",
    RespinsLeft: "RespinsLeft",
    RespinsAmountWon: "RespinsAmountWon",
    RespinInProgress: "RespinInProgress",
    ProgressiveFeatureConfig: "ProgressiveFeatureConfig",
    ProgressiveFeatureData: "ProgressiveFeatureData",
    MoneySymbolConfig: "MoneySymbolConfig",
    MoneySymbolData: "MoneySymbolData",
    StickySymbolsData: "StickySymbolsData",
    MergingSymbolsData: "MergingSymbolsData",
    Bets: "Bets",
    TotalBets: "TotalBets",
    BetToTotalBetMultiplier: "BetToTotalBetMultiplier",
    NextBetIndex: "NextBetIndex",
    NumberOfBetLevels: "NumberOfBetLevels",
    CoinValues: "CoinValues",
    CoinValueIndex: "CoinValueIndex",
    Evt_Internal_CoinValueChanged: "Evt_Internal_CoinValueChanged",
    Evt_Internal_LastBetsChanged: "Evt_Internal_LastBetsChanged",
    Evt_Internal_BetChanged: "Evt_Internal_BetChanged",
    TotalBetDisplayed: "TotalBetDisplayed",
    BetDisplayed: "BetDisplayed",
    CoinValueDisplayed: "CoinValueDisplayed",
    AccumulatedWinProgress: "AccumulatedWinProgress",
    Evt_DataToCode_RevertToLastBet: "Evt_DataToCode_RevertToLastBet",
    Evt_Internal_ForceUpdateBetValues: "Evt_Internal_ForceUpdateBetValues",
    MaxBetReached: "MaxBetReached",
    MinBetReached: "MinBetReached",
    MaxTotalBetFromServer: "MaxTotalBetFromServer",
    ExplicitMaxTotalBetFromServer: "ExplicitMaxTotalBetFromServer",
    MinTotalBetFromServer: "MinTotalBetFromServer",
    Evt_DataToCode_IncreaseBet: "Evt_DataToCode_IncreaseBet",
    Evt_DataToCode_DecreaseBet: "Evt_DataToCode_DecreaseBet",
    MaxCoinValueReached: "MaxCoinValueReached",
    MinCoinValueReached: "MinCoinValueReached",
    Evt_DataToCode_IncreaseCoinValue: "Evt_DataToCode_IncreaseCoinValue",
    Evt_DataToCode_DecreaseCoinValue: "Evt_DataToCode_DecreaseCoinValue",
    Evt_DataToCode_SmartIncreaseBet: "Evt_DataToCode_SmartIncreaseBet",
    Evt_DataToCode_SmartDecreaseBet: "Evt_DataToCode_SmartDecreaseBet",
    MaxBetAndCoinValueReached: "MaxBetAndCoinValueReached",
    MinBetAndCoinValueReached: "MinBetAndCoinValueReached",
    AlternativeWager: "AlternativeWager",
    AllowBetChange: "AllowBetChange",
    StackedSymbolIndex: "StackedSymbolIndex",
    ReelSets: "ReelSets",
    ReelSetIndexPrevious: "ReelSetIndexPrevious",
    ReelSetIndexCurrent: "ReelSetIndexCurrent",
    ReelSymbols: "ReelSymbols",
    NextReelSymbols: "NextReelSymbols",
    ReelInitialPositions: "ReelInitialPositions",
    ReelStopPositions: "ReelStopPositions",
    FirstScreenSymbols: "FirstScreenSymbols",
    ResultScreenSymbols: "ResultScreenSymbols",
    InitialResultScreenSymbols: "InitialResultScreenSymbols",
    CustomResultScreenSymbols: "CustomResultScreenSymbols",
    SymbolsAboveReels: "SymbolsAboveReels",
    SymbolsBelowReels: "SymbolsBelowReels",
    NextReelsSymbolsList: "NextReelsSymbolsList",
    ExtraScatters: "ExtraScatters",
    MarkedSymbolPositions: "MarkedSymbolPositions",
    AdditionalBonusScatters: "AdditionalBonusScatters",
    NudgedSymbols: "NudgedSymbols",
    LinesDefinitionsObject: "LinesDefinitionsObject",
    SpinExciterObject: "SpinExciterObject",
    Evt_Internal_ExciterComputeEnded: "Evt_Internal_ExciterComputeEnded",
    FloatingWinEventsObject: "FloatingWinEventsObject",
    ReelsManagerObject: "ReelsManagerObject",
    SymbolsManagerObject: "SymbolsManagerObject",
    ReceivedWinLines: "ReceivedWinLines",
    ProcessedWinLines: "ProcessedWinLines",
    RQManagerObject: "RQManagerObject",
    Evt_Internal_InjectRQIOnResultDisplayerLoopStarts: "Evt_Internal_InjectRQIOnResultDisplayerLoopStarts",
    Evt_Internal_InjectRQIAfterBonusAnimate: "Evt_Internal_InjectRQIAfterBonusAnimate",
    Evt_Internal_InjectRQIBeforeLinesShow: "Evt_Internal_InjectRQIBeforeLinesShow",
    Evt_Internal_InjectRQIAfterLinesShow: "Evt_Internal_InjectRQIAfterLinesShow",
    Evt_Internal_InjectRQIBeforeEndOfDisplayLoop: "Evt_Internal_InjectRQIBeforeEndOfDisplayLoop",
    Evt_Internal_InjectRQIWhileShowingAllLines: "Evt_Internal_InjectRQIWhileShowingAllLines",
    SpinRoutineQueue: "SpinRoutineQueue",
    Evt_Internal_InjectRQIBeforeSpinStart: "Evt_Internal_InjectRQIBeforeSpinStart",
    StackedSymbolsData: "StackedSymbolsData",
    Evt_ToServer_OnShowResult: "Evt_ToServer_OnShowResult",
    Evt_ToServer_RequestInit: "Evt_ToServer_RequestInit",
    Evt_ToServer_RequestSpin: "Evt_ToServer_RequestSpin",
    ToServer_RequestExtraParams: "ToServer_RequestExtraParams",
    Evt_FromServer_InitReceived: "Evt_FromServer_InitReceived",
    Evt_FromServer_SpinResultReceived: "Evt_FromServer_SpinResultReceived",
    NASymbolId: "NASymbolId",
    WildRandomLineMpConfig: "WildRandomLineMpConfig",
    WRLMResponse: "WRLMResponse",
    WRLMCurrentSets: "WRLMCurrentSets",
    RandomAwardsConfig: "RandomAwardsConfig",
    RandomAwardsResponse: "RandomAwardsResponse",
    FreeSpinsPurchaseConfig: "FreeSpinsPurchaseConfig",
    FreeSpinsPurchaseData: "FreeSpinsPurchaseData",
    FeaturePurchase: "FeaturePurchase",
    FeaturePurchaseWindowIsOpen: "FeaturePurchaseWindowIsOpen",
    BetLevelSettings: "BetLevelSettings",
    BetLevelChanged: "BetLevelChanged",
    HasAnteBet: "HasAnteBet",
    RandomSymbolMultipliers: "RandomSymbolMultipliers",
    PossibleRandomSymbolMultipliers: "PossibleRandomSymbolMultipliers",
    FreeSpinsChainData: "FreeSpinsChainData",
    OpeningSymbolsData: "OpeningSymbolsData",
    RandomMysterySymbolId: "RandomMysterySymbolId",
    InitialMysterySymbolId: "InitialMysterySymbolId",
    InitBGItemValues: "InitBGItemValues",
    InitBGItemMasks: "InitBGItemMasks",
    InitBGIData: "InitBGIData",
    PatternedMysterySymbols: "PatternedMysterySymbols",
    SpinOneReelData: "SpinOneReelData",
    ReelToBeSpun: "ReelToBeSpun",
    TumblingData: "TumblingData",
    TumblingWin: "TumblingWin",
    TumblingWinDisplayed: "TumblingWinDisplayed",
    RandomWildsData: "RandomWildsData",
    UpSymbols_RandomWilds: "UpSymbols_RandomWilds",
    Evt_Internal_RandomWildsDataSet: "Evt_Internal_RandomWildsDataSet",
    WildRandomMultipliers: "WildRandomMultipliers",
    Evt_Internal_WildRandomMultipliersReceived: "Evt_Internal_WildRandomMultipliersReceived",
    Evt_Internal_ShowStackedSymbols: "Evt_Internal_ShowStackedSymbols",
    Evt_Internal_ResumeStackedSymbols: "Evt_Internal_ResumeStackedSymbols",
    CurrentAnimatingStackedReel: "CurrentAnimatingStackedReel",
    ExpandingSymbolsData: "ExpandingSymbolsData",
    ExpandableDelayNeededAtTheEnd: "ExpandableDelayNeededAtTheEnd",
    Evt_Internal_ExpandingSymbolsDataSet: "Evt_Internal_ExpandingSymbolsDataSet",
    Evt_Internal_ShowExpandingSymbol: "Evt_Internal_ShowExpandingSymbol",
    CurrentAnimatingExpandingSymbolID: "CurrentAnimatingExpandingSymbolID",
    FreeSpinOptions: "FreeSpinOptions",
    MustResumeFreeSpinOptions: "MustResumeFreeSpinOptions",
    Logic_IsFreeSpin: "Logic_IsFreeSpin",
    Evt_CodeToData_ShowFSWonBeforeResult: "Evt_CodeToData_ShowFSWonBeforeResult",
    FreeSpinsEndedOverride: "FreeSpinsEndedOverride",
    FSStartNeedsConfirmation: "FSStartNeedsConfirmation",
    Evt_DataToCode_ConfirmFSStart: "Evt_DataToCode_ConfirmFSStart",
    Evt_Internal_FreeSpinsStarted: "Evt_Internal_FreeSpinsStarted",
    Evt_CodeToData_FreeSpinsShowWindowWin: "Evt_CodeToData_FreeSpinsShowWindowWin",
    Evt_CodeToData_FreeSpinsShowWindowLose: "Evt_CodeToData_FreeSpinsShowWindowLose",
    Evt_CodeToData_FreeSpinsCloseWindowWin: "Evt_CodeToData_FreeSpinsCloseWindowWin",
    Evt_CodeToData_FreeSpinsCloseWindowLose: "Evt_CodeToData_FreeSpinsCloseWindowLose",
    Evt_DataToCode_FreeSpinsWindowWinCollectPressed: "Evt_DataToCode_FreeSpinsWindowWinCollectPressed",
    Evt_DataToCode_FreeSpinsWindowLoseCollectPressed: "Evt_DataToCode_FreeSpinsWindowLoseCollectPressed",
    Evt_Internal_FreeSpinsEnded: "Evt_Internal_FreeSpinsEnded",
    Evt_ToServer_OnFreeSpinsClosed: "Evt_ToServer_OnFreeSpinsClosed",
    ReceivedFreeSpinsResponse: "ReceivedFreeSpinsResponse",
    TruncatedFreeSpinsResponse: "TruncatedFreeSpinsResponse",
    TruncateFSResponseDuringRespin: "TruncateFSResponseDuringRespin",
    UpdateFSResponseOnBonusPick: "UpdateFSResponseOnBonusPick",
    PartiallyUpdateSpinResponseOnBonusPick: "PartiallyUpdateSpinResponseOnBonusPick",
    UpdateBonusPickDataDuringRespins: "UpdateBonusPickDataDuringRespins",
    UpdateRespinDataOnBonusPick: "UpdateRespinDataOnBonusPick",
    NoInitBonusGameTypes: "NoInitBonusGameTypes",
    NoInitBonusGameIds: "NoInitBonusGameIds",
    CurrentFreeSpinDisplayed: "CurrentFreeSpinDisplayed",
    FreeSpinsLeftDisplayed: "FreeSpinsLeftDisplayed",
    MaxFreeSpinsDisplayed: "MaxFreeSpinsDisplayed",
    AdditionalFreeSpinsWon: "AdditionalFreeSpinsWon",
    AdditionalFreeSpinsWonDisplayed: "AdditionalFreeSpinsWonDisplayed",
    TotalFreeSpinsDisplayed: "TotalFreeSpinsDisplayed",
    TotalFreeSpinsChainDisplayed: "TotalFreeSpinsChainDisplayed",
    FreeSpinsTotalMultiplierDisplayed: "FreeSpinsTotalMultiplierDisplayed",
    FreeSpinsWinDisplayed: "FreeSpinsWinDisplayed",
    FreeSpinsLastWinDisplayed: "FreeSpinsLastWinDisplayed",
    FreeSpinsWinMultipliedDisplayed: "FreeSpinsWinMultipliedDisplayed",
    FreeSpinsTotalWinDisplayed: "FreeSpinsTotalWinDisplayed",
    FreeSpinsTotalWinMultipliedDisplayed: "FreeSpinsTotalWinMultipliedDisplayed",
    FSResultWindowTotalWinMultipliedDisplayed: "FSResultWindowTotalWinMultipliedDisplayed",
    FreeSpinsConsolationPrize: "FreeSpinsConsolationPrize",
    Evt_Internal_ReelManager_StopSpin: "Evt_Internal_ReelManager_StopSpin",
    Evt_Internal_ReelManager_SpinEnded: "Evt_Internal_ReelManager_SpinEnded",
    AllowFastStop: "AllowFastStop",
    Evt_DataToCode_Pressed_Spin: "Evt_DataToCode_Pressed_Spin",
    Evt_DataToCode_Pressed_Stop: "Evt_DataToCode_Pressed_Stop",
    Evt_CodeToData_NotEnoughMoneyForSpin: "Evt_CodeToData_NotEnoughMoneyForSpin",
    Evt_CodeToData_HideNoMoneyWindow: "Evt_CodeToData_HideNoMoneyWindow",
    Evt_DataToCode_NotEnoughMoney_pressedOK: "Evt_DataToCode_NotEnoughMoney_pressedOK",
    CurrentDisplayedWinLineId: "CurrentDisplayedWinLineId",
    Evt_Internal_ShowWinLine: "Evt_Internal_ShowWinLine",
    Evt_Internal_HideWinLine: "Evt_Internal_HideWinLine",
    ShowSymbolSquaresOnLineVisual: "ShowSymbolSquaresOnLineVisual",
    ResultDisplayerMinimalMode: "ResultDisplayerMinimalMode",
    ForceResultMinimalMode: "ForceResultMinimalMode",
    Evt_Internal_ResultDisplayer_SkipNextLoopOccasion: "Evt_Internal_ResultDisplayer_SkipNextLoopOccasion",
    ResultDisplayer_CanAnimateScatters: "ResultDisplayer_CanAnimateScatters",
    ResultDisplayer_CanAnimateBonuses: "ResultDisplayer_CanAnimateBonuses",
    Evt_Internal_ResultDisplayer_Prepare: "Evt_Internal_ResultDisplayer_Prepare",
    Evt_Internal_ResultDisplayer_DoLoop: "Evt_Internal_ResultDisplayer_DoLoop",
    Evt_Internal_ResultDisplayer_DoCleanup: "Evt_Internal_ResultDisplayer_DoCleanup",
    Evt_Internal_ResultDisplayer_LoopDone: "Evt_Internal_ResultDisplayer_LoopDone",
    Evt_CodeToData_ShowAllLinesWin: "Evt_CodeToData_ShowAllLinesWin",
    Evt_CodeToData_HideAllLinesWin: "Evt_CodeToData_HideAllLinesWin",
    Evt_QueueDisplayAllLines_Alternative: "Evt_QueueDisplayAllLines_Alternative",
    Evt_CodeToData_ShowJackpotWin: "Evt_CodeToData_ShowJackpotWin",
    Evt_CodeToData_HideJackpotWin: "Evt_CodeToData_HideJackpotWin",
    CurrentDisplayedWinLineIndex: "CurrentDisplayedWinLineIndex",
    CurrentDisplayedWinLineWin: "CurrentDisplayedWinLineWin",
    CurrentWinMultiplier: "CurrentWinMultiplier",
    Evt_CodeToData_ShowScattersWin: "Evt_CodeToData_ShowScattersWin",
    Evt_CodeToData_HideScattersWin: "Evt_CodeToData_HideScattersWin",
    Evt_Internal_UpdateCurrentDisplayedWinLineIndex: "Evt_Internal_UpdateCurrentDisplayedWinLineIndex",
    Evt_Internal_StartDisplayWinLine: "Evt_Internal_StartDisplayWinLine",
    Evt_Internal_StopDisplayWinLine: "Evt_Internal_StopDisplayWinLine",
    Evt_CodeToData_ShowMysteryScatterWin: "Evt_CodeToData_ShowMysteryScatterWin",
    Evt_CodeToData_HideMysteryScatterWin: "Evt_CodeToData_HideMysteryScatterWin",
    OrderedSymbolList: "OrderedSymbolList",
    OrderedSymbolHoldersList: "OrderedSymbolHoldersList",
    FromServer_CanGambleSpinWin: "FromServer_CanGambleSpinWin",
    ForceDisableGambleSpinWin: "ForceDisableGambleSpinWin",
    Evt_Internal_EnableGambleButton: "Evt_Internal_EnableGambleButton",
    Evt_Internal_DisableGambleButton: "Evt_Internal_DisableGambleButton",
    CanGamble_Spin: "CanGamble_Spin",
    CanGamble_FreeSpin: "CanGamble_FreeSpin",
    CanGamble_Bonus: "CanGamble_Bonus",
    Gamble_ColorMultiplier: "Gamble_ColorMultiplier",
    Gamble_SuitMultiplier: "Gamble_SuitMultiplier",
    Gamble_CurrentBalance: "Gamble_CurrentBalance",
    Gamble_CurrentBalanceDisplayed: "Gamble_CurrentBalanceDisplayed",
    Gamble_FinalBalanceDisplayed: "Gamble_FinalBalanceDisplayed",
    Gamble_ColorWinDisplayed: "Gamble_ColorWinDisplayed",
    Gamble_SuitWinDisplayed: "Gamble_SuitWinDisplayed",
    Evt_DataToCode_Pressed_Gamble: "Evt_DataToCode_Pressed_Gamble",
    Evt_DataToCode_Pressed_Gamble_FreeSpinsResult: "Evt_DataToCode_Pressed_Gamble_FreeSpinsResult",
    Evt_DataToCode_Pressed_Gamble_BonusResult: "Evt_DataToCode_Pressed_Gamble_BonusResult",
    Evt_DataToCode_Pressed_GamblePick: "Evt_DataToCode_Pressed_GamblePick",
    Evt_DataToCode_Pressed_GambleCollect: "Evt_DataToCode_Pressed_GambleCollect",
    FromServer_GambleResult: "FromServer_GambleResult",
    FromServer_GambleHistory: "FromServer_GambleHistory",
    Evt_Internal_Gamble_DisplayHistory: "Evt_Internal_Gamble_DisplayHistory",
    Evt_DataToCode_Gamble_DisplayProgress: "Evt_DataToCode_Gamble_DisplayProgress",
    Evt_Internal_Gamble_ClearProgress: "Evt_Internal_Gamble_ClearProgress",
    Gamble_CurrentProgressObject: "Gamble_CurrentProgressObject",
    Evt_Internal_Gamble_UpdateCurrentProgress: "Evt_Internal_Gamble_UpdateCurrentProgress",
    Evt_DataToCode_Gamble_UpdateDisplayedLabels: "Evt_DataToCode_Gamble_UpdateDisplayedLabels",
    Evt_CodeToData_Gamble_PickResult_Win: "Evt_CodeToData_Gamble_PickResult_Win",
    Evt_CodeToData_Gamble_PickResult_Lose: "Evt_CodeToData_Gamble_PickResult_Lose",
    Evt_CodeToData_Gamble_PickResult_WinLimit: "Evt_CodeToData_Gamble_PickResult_WinLimit",
    Gamble_PickResult_ItemID: "Gamble_PickResult_ItemID",
    Evt_Internal_Gamble_PickResult_Handled: "Evt_Internal_Gamble_PickResult_Handled",
    Gamble_Choice: "Gamble_Choice",
    Evt_ToServer_GamblePicked: "Evt_ToServer_GamblePicked",
    Evt_ToServer_RequestGambleOpen: "Evt_ToServer_RequestGambleOpen",
    Evt_ToServer_RequestGambleClose: "Evt_ToServer_RequestGambleClose",
    Evt_FromServer_GambleOpen: "Evt_FromServer_GambleOpen",
    Evt_FromServer_GambleClose: "Evt_FromServer_GambleClose",
    Evt_CodeToData_GambleShowResultWindowWin: "Evt_CodeToData_GambleShowResultWindowWin",
    Evt_CodeToData_GambleCloseResultWindowWin: "Evt_CodeToData_GambleCloseResultWindowWin",
    Evt_CodeToData_GambleShowResultWindowLose: "Evt_CodeToData_GambleShowResultWindowLose",
    Evt_CodeToData_GambleCloseResultWindowLose: "Evt_CodeToData_GambleCloseResultWindowLose",
    Evt_Internal_GambleCloseCurrentResultWindow: "Evt_Internal_GambleCloseCurrentResultWindow",
    Evt_CodeToData_ShowBonusWonBeforeResult: "Evt_CodeToData_ShowBonusWonBeforeResult",
    TriggerBonusBeforeResult: "TriggerBonusBeforeResult",
    BonusWinIsSeparated: "BonusWinIsSeparated",
    BonusData: "BonusData",
    BonusItemsIndexes: "BonusItemsIndexes",
    MustOpenBonus: "MustOpenBonus",
    InstantlyCollectBonus: "InstantlyCollectBonus",
    MustOpenAnotherBonus: "MustOpenAnotherBonus",
    Evt_FromServer_BonusInitDone: "Evt_FromServer_BonusInitDone",
    Evt_BonusAfterInit: "Evt_BonusAfterInit",
    Evt_FromServer_BonusResponseReceived: "Evt_FromServer_BonusResponseReceived",
    Evt_DataToCode_Pressed_BonusPickItem: "Evt_DataToCode_Pressed_BonusPickItem",
    Evt_DataToCode_BonusGameLevelChange: "Evt_DataToCode_BonusGameLevelChange",
    Evt_DataToCode_BonusGameActNext: "Evt_DataToCode_BonusGameActNext",
    BonusPickItemIndex: "BonusPickItemIndex",
    Evt_ToServer_BonusPickItem: "Evt_ToServer_BonusPickItem",
    Evt_ToServer_BonusGameFinished: "Evt_ToServer_BonusGameFinished",
    BonusPickItemIndexLocal: "BonusPickItemIndexLocal",
    Evt_DataToCode_BonusResultShowWindow: "Evt_DataToCode_BonusResultShowWindow",
    Evt_DataToCode_BonusResultWindow_PressedCollect: "Evt_DataToCode_BonusResultWindow_PressedCollect",
    Evt_CodeToData_BonusResultShowWindow: "Evt_CodeToData_BonusResultShowWindow",
    Evt_CodeToData_BonusResultCloseWindow: "Evt_CodeToData_BonusResultCloseWindow",
    BonusRealWinDisplayed: "BonusRealWinDisplayed",
    BonusBetPerLine: "BonusBetPerLine",
    BonusTotalWinDisplayed: "BonusTotalWinDisplayed",
    BonusFSPremultipliedWinDisplayed: "BonusFSPremultipliedWinDisplayed",
    BonusFSPickMultiplierDisplayed: "BonusFSPickMultiplierDisplayed",
    BonusTriggersFSBG: "BonusTriggersFSBG",
    BonusTriggeredFSBGIsMystery: "BonusTriggeredFSBGIsMystery",
    OpenFSBGForMysteryScatter: "OpenFSBGForMysteryScatter",
    SendSeparateMysteryScatter: "SendSeparateMysteryScatter",
    Evt_ToServer_SendGetMysteryScatter: "Evt_ToServer_SendGetMysteryScatter",
    PaytablePayoutData: "PaytablePayoutData",
    CombineWildsInPaytableById: "CombineWildsInPaytableById",
    Evt_Internal_PaytablePayoutUpdate: "Evt_Internal_PaytablePayoutUpdate",
    Evt_Internal_PaytableOpen: "Evt_Internal_PaytableOpen",
    Evt_Internal_PaytableClose: "Evt_Internal_PaytableClose",
    Evt_Internal_PaytableOpenHelp: "Evt_Internal_PaytableOpenHelp",
    Evt_DataToCode_Pressed_PaytableClosed: "Evt_DataToCode_Pressed_PaytableClosed",
    Evt_DataToCode_Pressed_PaytableNext: "Evt_DataToCode_Pressed_PaytableNext",
    Evt_DataToCode_Pressed_PaytablePrevious: "Evt_DataToCode_Pressed_PaytablePrevious",
    Evt_Internal_PaytableMobileUpdatePages: "Evt_Internal_PaytableMobileUpdatePages",
    Evt_Internal_PlaySpinEndedBWSound: "Evt_Internal_PlaySpinEndedBWSound",
    SpinResultIsBigWin: "SpinResultIsBigWin",
    SpinResultBigWinLevel: "SpinResultBigWinLevel",
    SpinResultWinLevel: "SpinResultWinLevel",
    BigWinLevel: "BigWinLevel",
    Evt_Internal_ShowBigWin: "Evt_Internal_ShowBigWin",
    Evt_Internal_ClearBigWin: "Evt_Internal_ClearBigWin",
    Evt_DataToCode_BigWinHasFinished: "Evt_DataToCode_BigWinHasFinished",
    WaitInResultForBigWin: "WaitInResultForBigWin",
    VAWBWCounters: "VAWBWCounters",
    LastWinIsCounting: "LastWinIsCounting",
    BalanceIsCounting: "BalanceIsCounting",
    SkipNextBigWin: "SkipNextBigWin",
    CanAnimateValues: "CanAnimateValues",
    CurrentCoinCountTarget: "CurrentCoinCountTarget",
    Evt_Internal_CoinCounterStart: "Evt_Internal_CoinCounterStart",
    Evt_Internal_CoinCounterStop: "Evt_Internal_CoinCounterStop",
    CoinCounterObject: "CoinCounterObject",
    CanTriggerBigWinBeforeBonus: "CanTriggerBigWinBeforeBonus",
    FromStageName: "FromStageName",
    ToStageName: "ToStageName",
    Evt_Internal_UpdateJackpotUI: "Evt_Internal_UpdateJackpotUI",
    CurrentlyDisplayedJackpot: "CurrentlyDisplayedJackpot",
    FromServer_IsJackpotWin: "FromServer_IsJackpotWin",
    FromServer_JackpotAmountWon: "FromServer_JackpotAmountWon",
    FromServer_JackpotWonID: "FromServer_JackpotWonID",
    FromServer_JackpotWonOrder: "FromServer_JackpotWonOrder",
    FromServer_JackpotsInformation: "FromServer_JackpotsInformation",
    FromServer_LastValidJackpotsInformation: "FromServer_LastValidJackpotsInformation",
    DisplayedJackpotAmount: "DisplayedJackpotAmount",
    JackpotAmountWonDisplayed: "JackpotAmountWonDisplayed",
    Evt_DataToCode_CollectJackpotPressed: "Evt_DataToCode_CollectJackpotPressed",
    Evt_DataToCode_ContinueWithJackpot: "Evt_DataToCode_ContinueWithJackpot",
    Evt_Internal_InjectRQIForMysteryJackpotWin: "Evt_Internal_InjectRQIForMysteryJackpotWin",
    Evt_Internal_JackpotCounterStart: "Evt_Internal_JackpotCounterStart",
    Evt_Internal_JackpotCounterEnded: "Evt_Internal_JackpotCounterEnded",
    Evt_Internal_ShowMysteryJackpotWon: "Evt_Internal_ShowMysteryJackpotWon",
    Evt_Internal_HideMysteryJackpotWon: "Evt_Internal_HideMysteryJackpotWon",
    MustShowJackpotWon: "MustShowJackpotWon",
    CurrentJackpotAmountDisplayedMini: "CurrentJackpotAmountDisplayedMini",
    CurrentJackpotAmountDisplayedMaxi: "CurrentJackpotAmountDisplayedMaxi",
    CurrentJackpotAmountDisplayedMajor: "CurrentJackpotAmountDisplayedMajor",
    CurrentJackpotAmountDisplayedMega: "CurrentJackpotAmountDisplayedMega",
    MinimumJackpotBigWinDuration: "MinimumJackpotBigWinDuration",
    JackpotMinBetEligible: "JackpotMinBetEligible",
    ReturnToPlayerWithJackpot: "ReturnToPlayerWithJackpot",
    ReturnToPlayerMinWithJackpot: "ReturnToPlayerMinWithJackpot",
    CurrentJackpotCommunityWinnerAmountDisplayedMini: "CurrentJackpotCommunityWinnerAmountDisplayedMini",
    CurrentJackpotCommunityWinnerAmountDisplayedMaxi: "CurrentJackpotCommunityWinnerAmountDisplayedMaxi",
    CurrentJackpotCommunityWinnerAmountDisplayedMajor: "CurrentJackpotCommunityWinnerAmountDisplayedMajor",
    CurrentJackpotCommunityWinnerAmountDisplayedMega: "CurrentJackpotCommunityWinnerAmountDisplayedMega",
    CurrentJackpotCommunitySharedPercentageDisplayedMini: "CurrentJackpotCommunitySharedPercentageDisplayedMini",
    CurrentJackpotCommunitySharedPercentageDisplayedMaxi: "CurrentJackpotCommunitySharedPercentageDisplayedMaxi",
    CurrentJackpotCommunitySharedPercentageDisplayedMajor: "CurrentJackpotCommunitySharedPercentageDisplayedMajor",
    CurrentJackpotCommunitySharedPercentageDisplayedMega: "CurrentJackpotCommunitySharedPercentageDisplayedMega",
    PrevJackpotAmountWonDisplayedMini: "PrevJackpotAmountWonDisplayedMini",
    PrevJackpotAmountWonDisplayedMaxi: "PrevJackpotAmountWonDisplayedMaxi",
    PrevJackpotAmountWonDisplayedMajor: "PrevJackpotAmountWonDisplayedMajor",
    PrevJackpotAmountWonDisplayedMega: "PrevJackpotAmountWonDisplayedMega",
    PlayJackpotData: "PlayJackpotData",
    MustPlayJackpot: "MustPlayJackpot",
    Evt_ToServer_RequestPlayJackpot: "Evt_ToServer_RequestPlayJackpot",
    Evt_FromServer_PlayJackpotResponse: "Evt_FromServer_PlayJackpotResponse",
    PlayJackpot_MultiplierInstance: "PlayJackpot_MultiplierInstance",
    PlayJackpot_JackpotInstance: "PlayJackpot_JackpotInstance",
    PlayJackpot_JackpotInformation: "PlayJackpot_JackpotInformation",
    PlayJackpot_JackpotAmountWonDisplayed: "PlayJackpot_JackpotAmountWonDisplayed",
    PlayJackpot_MultiplierWonDisplayed: "PlayJackpot_MultiplierWonDisplayed",
    PlayJackpot_MultiplierAmountWonDisplayed: "PlayJackpot_MultiplierAmountWonDisplayed",
    ExtraSessionWin: "ExtraSessionWin",
    Evt_Internal_UpdatePlayJackpotData: "Evt_Internal_UpdatePlayJackpotData",
    Evt_CodeToData_ConfirmPlayJackpot: "Evt_CodeToData_ConfirmPlayJackpot",
    Evt_DataToCode_PlayJackpotConfirmed: "Evt_DataToCode_PlayJackpotConfirmed",
    Evt_CodeToData_ShowPlayJackpot: "Evt_CodeToData_ShowPlayJackpot",
    Evt_CodeToData_ShowPlayJackpotResult: "Evt_CodeToData_ShowPlayJackpotResult",
    Evt_DataToCode_PlayJackpotResultShown: "Evt_DataToCode_PlayJackpotResultShown",
    Evt_CodeToData_PlayJackpot_ShowMysteryJackpot: "Evt_CodeToData_PlayJackpot_ShowMysteryJackpot",
    Evt_CodeToData_ShowPlayJackpotWinJackpot: "Evt_CodeToData_ShowPlayJackpotWinJackpot",
    Evt_CodeToData_ShowPlayJackpotWinNoJackpot: "Evt_CodeToData_ShowPlayJackpotWinNoJackpot",
    Evt_DataToCode_PlayJackpotWinShown: "Evt_DataToCode_PlayJackpotWinShown",
    Evt_CodeToData_ClosePlayJackpot: "Evt_CodeToData_ClosePlayJackpot",
    Evt_DataToCode_PlayJackpotClosed: "Evt_DataToCode_PlayJackpotClosed",
    Evt_DataToCode_PlayJackpot_UpdateJackpotVisual: "Evt_DataToCode_PlayJackpot_UpdateJackpotVisual",
    Evt_DataToCode_PlayJackpot_ShowJackpotVisualWin: "Evt_DataToCode_PlayJackpot_ShowJackpotVisualWin",
    Evt_DataToCode_PlayJackpot_HideJackpotVisualWin: "Evt_DataToCode_PlayJackpot_HideJackpotVisualWin",
    JackpotVisualization: "JackpotVisualization",
    GoldSymbol: "GoldSymbol",
    SymbolReplacementData: "SymbolReplacementData",
    FromServer_MustOpenFSBG: "FromServer_MustOpenFSBG",
    Internal_FSBGJustClosed: "Internal_FSBGJustClosed",
    Evt_CodeToData_StartMysteryFSBG_Resume: "Evt_CodeToData_StartMysteryFSBG_Resume",
    Evt_CodeToData_StartMysteryFSBG: "Evt_CodeToData_StartMysteryFSBG",
    Evt_CodeToData_StopMysteryFSBG: "Evt_CodeToData_StopMysteryFSBG",
    Evt_CodeToData_MysteryScatterIsVisible: "Evt_CodeToData_MysteryScatterIsVisible",
    Evt_DataToCode_StopMysteryFSBG: "Evt_DataToCode_StopMysteryFSBG",
    MysteryScatterSymbolIds: "MysteryScatterSymbolIds",
    MysteryScatterSymbol_GameObject: "MysteryScatterSymbol_GameObject",
    MysteryScatterSymbol_ParentGameObject: "MysteryScatterSymbol_ParentGameObject",
    Evt_Internal_MysteryScatterSymbol_Show: "Evt_Internal_MysteryScatterSymbol_Show",
    Evt_Internal_MysteryScatterSymbol_Hide: "Evt_Internal_MysteryScatterSymbol_Hide",
    NextGameActionIsMysteryScatter: "NextGameActionIsMysteryScatter",
    PickedItemIndexLocal_FSBGPick: "PickedItemIndexLocal_FSBGPick",
    SpinsWon_FSBGPick: "SpinsWon_FSBGPick",
    MultiplierWon_FSBGPick: "MultiplierWon_FSBGPick",
    Evt_FromServer_InitFSBGPick: "Evt_FromServer_InitFSBGPick",
    Evt_FromServer_ResponseFSBGPick: "Evt_FromServer_ResponseFSBGPick",
    Evt_ToServer_ItemPickedFSBGPick: "Evt_ToServer_ItemPickedFSBGPick",
    Evt_CodeToData_ShowFSBGPick: "Evt_CodeToData_ShowFSBGPick",
    Evt_CodeToData_ResumeFSBGPick: "Evt_CodeToData_ResumeFSBGPick",
    Evt_CodeToData_InitReceivedFSBGPick: "Evt_CodeToData_InitReceivedFSBGPick",
    Evt_CodeToData_EndGameFSBGPick: "Evt_CodeToData_EndGameFSBGPick",
    Evt_DataToCode_InfoClosedFSBGPick: "Evt_DataToCode_InfoClosedFSBGPick",
    Evt_DataToCode_ShowGameOverFSBGPick: "Evt_DataToCode_ShowGameOverFSBGPick",
    Evt_DataToCode_ItemPickedFSBGPick: "Evt_DataToCode_ItemPickedFSBGPick",
    Evt_DataToCode_EndGameFSBGPick: "Evt_DataToCode_EndGameFSBGPick",
    Evt_DataToCode_FSBG_CloseConfirmation: "Evt_DataToCode_FSBG_CloseConfirmation",
    Evt_ToServer_OpenCashier: "Evt_ToServer_OpenCashier",
    Evt_ToServer_CloseGame: "Evt_ToServer_CloseGame",
    Evt_ToServer_ReloadGame: "Evt_ToServer_ReloadGame",
    CanSpin: "CanSpin",
    CanSpinAfterResultMinimumTime: "CanSpinAfterResultMinimumTime",
    SpinBlockingFeatureIsRunning: "SpinBlockingFeatureIsRunning",
    DynamicColorSet: "DynamicColorSet",
    BonusRoundsLeftDisplayed: "BonusRoundsLeftDisplayed",
    BonusRoundsWinDisplayed: "BonusRoundsWinDisplayed",
    BonusRoundsEvents: "BonusRoundsEvents",
    BonusRoundsData: "BonusRoundsData",
    Evt_Internal_BonusRoundsInfoUpdated: "Evt_Internal_BonusRoundsInfoUpdated",
    Evt_CodeToData_GUI_BonusRoundsStarted: "Evt_CodeToData_GUI_BonusRoundsStarted",
    Evt_CodeToData_GUI_BonusRoundsFinished: "Evt_CodeToData_GUI_BonusRoundsFinished",
    Evt_CodeToData_GUI_BonusRoundsError: "Evt_CodeToData_GUI_BonusRoundsError",
    Evt_CodeToData_GUI_TimedBonusRoundsStarted: "Evt_CodeToData_GUI_TimedBonusRoundsStarted",
    Evt_CodeToData_GUI_TimedBonusRoundsFinished: "Evt_CodeToData_GUI_TimedBonusRoundsFinished",
    Evt_CodeToData_GUI_TimedBonusRoundsError: "Evt_CodeToData_GUI_TimedBonusRoundsError",
    Evt_CodeToData_GUI_BoostBonusRoundsStarted: "Evt_CodeToData_GUI_BoostBonusRoundsStarted",
    Evt_CodeToData_GUI_BoostBonusRoundsFinished: "Evt_CodeToData_GUI_BoostBonusRoundsFinished",
    Evt_CodeToData_GUI_BoostBonusRoundsError: "Evt_CodeToData_GUI_BoostBonusRoundsError",
    Evt_CodeToData_BonusRoundsStarted: "Evt_CodeToData_BonusRoundsStarted",
    Evt_CodeToData_BonusRoundsFinished: "Evt_CodeToData_BonusRoundsFinished",
    Evt_CodeToData_BonusRoundsError: "Evt_CodeToData_BonusRoundsError",
    Evt_CodeToData_TimedBonusRoundsStarted: "Evt_CodeToData_TimedBonusRoundsStarted",
    Evt_CodeToData_TimedBonusRoundsFinished: "Evt_CodeToData_TimedBonusRoundsFinished",
    Evt_CodeToData_TimedBonusRoundsError: "Evt_CodeToData_TimedBonusRoundsError",
    TimedBonusRoundIsOngoing: "TimedBonusRoundIsOngoing",
    TimedBonusRoundsSeconds: "TimedBonusRoundsSeconds",
    ShouldIgnoreNextFinishEventFromServer: "ShouldIgnoreNextFinishEventFromServer",
    BonusRoundCanBePlayedLater: "BonusRoundCanBePlayedLater",
    UserChoseToPlayLater: "UserChoseToPlayLater",
    BonusRoundEndDateTimestamp: "BonusRoundEndDateTimestamp",
    BonusRoundWonFromDDW: "BonusRoundWonFromDDW",
    BonusRoundPromoType: "BonusRoundPromoType",
    InitBonusCode: "InitBonusCode",
    Evt_CodeToData_CloseOtherOpenedBonusRoundsWindows: "Evt_CodeToData_CloseOtherOpenedBonusRoundsWindows",
    Evt_DataToCode_BonusRoundsOnContinuePressed: "Evt_DataToCode_BonusRoundsOnContinuePressed",
    ReturnToPlayer: "ReturnToPlayer",
    ReturnToPlayerMin: "ReturnToPlayerMin",
    LevelSymbolIndex: "LevelSymbolIndex",
    Evt_AnimateLevelIndicatorOnReel: "Evt_AnimateLevelIndicatorOnReel",
    LevelIndicatorAnimTarget: "LevelIndicatorAnimTarget",
    Autoplay_SkipScreens: "Autoplay_SkipScreens",
    Evt_CodeToData_IntroClosedOrSkipped: "Evt_CodeToData_IntroClosedOrSkipped",
    OpaqueInterface: "OpaqueInterface",
    ShowInGameTutorial: "ShowInGameTutorial",
    Evt_Internal_ProgressiveFeaturePickedSymbolPositionUpdated: "Evt_Internal_ProgressiveFeaturePickedSymbolPositionUpdated",
    ProgressiveFeaturePointsWon: "ProgressiveFeaturePointsWon",
    GambleV2Data: "GambleV2Data",
    MustOpenGambleV2: "MustOpenGambleV2",
    Evt_FromServer_GambleV2Response: "Evt_FromServer_GambleV2Response",
    Evt_Internal_GambleV2Closed: "Evt_Internal_GambleV2Closed",
    GoldenReelsIndexes: "GoldenReelsIndexes",
    ShowedRandomWildPosition: "ShowedRandomWildPosition",
    Evt_Internal_ShowedRandomWild: "Evt_Internal_ShowedRandomWild",
    MobilePaytableObject: "MobilePaytableObject",
    SoundVolume: "SoundVolume",
    Evt_DataToCode_BlockSpin: "Evt_DataToCode_BlockSpin",
    Evt_DataToCode_UnblockSpin: "Evt_DataToCode_UnblockSpin",
    InitialScreen: "InitialScreen",
    IsNoMoneySpin: "IsNoMoneySpin",
    InitialRandomAward: "InitialRandomAward",
    GameTitle: "GameTitle",
    ShowPendingNotifications: "ShowPendingNotifications",
    WinLimitReached: "WinLimitReached"
};

function JackpotVisualBase() {
    Component.call(this), this.currentJackpotInformation = null
}
goog.provide("UHT.JackpotVisualBase"), goog.require("UHT.Component"), JackpotVisualBase.prototype = Object.create(Component.prototype), JackpotVisualBase.prototype.constructor = JackpotVisualBase, JackpotVisualBase.prototype.ShowJackpotVisual = function () {}, JackpotVisualBase.prototype.HideJackpotVisual = function () {}, JackpotVisualBase.prototype.SetJackpotInformation = function (t) {}, goog.require("UHT.JackpotVisualBase");
var JackpotVars = {
    ContributePercentJackpotMini: "ContributePercentJackpotMini",
    ContributePercentJackpotMaxi: "ContributePercentJackpotMaxi",
    ContributePercentJackpotMajor: "ContributePercentJackpotMajor",
    ContributePercentJackpotMega: "ContributePercentJackpotMega",
    BiggestWinAmountJackpotMinor: "BiggestWinAmountJackpotMinor",
    BiggestWinAmountJackpotMajor: "BiggestWinAmountJackpotMajor",
    BiggestWinAmountJackpotMega: "BiggestWinAmountJackpotMega",
    BiggestWinAmountJackpotGrand: "BiggestWinAmountJackpotGrand",
    BiggestWinDateJackpotMinor: "BiggestWinDateJackpotMinor",
    BiggestWinDateJackpotMajor: "BiggestWinDateJackpotMajor",
    BiggestWinDateJackpotMega: "BiggestWinDateJackpotMega",
    BiggestWinDateJackpotGrand: "BiggestWinDateJackpotGrand",
    BiggestWinIDJackpotMinor: "BiggestWinIDJackpotMinor",
    BiggestWinIDJackpotMajor: "BiggestWinIDJackpotMajor",
    BiggestWinIDJackpotMega: "BiggestWinIDJackpotMega",
    BiggestWinIDJackpotGrand: "BiggestWinIDJackpotGrand",
    LatestWinAmountJackpotMinor: "LatestWinAmountJackpotMinor",
    LatestWinAmountJackpotMajor: "LatestWinAmountJackpotMajor",
    LatestWinAmountJackpotMega: "LatestWinAmountJackpotMega",
    LatestWinAmountJackpotGrand: "LatestWinAmountJackpotGrand",
    LatestWinDateJackpotMinor: "LatestWinDateJackpotMinor",
    LatestWinDateJackpotMajor: "LatestWinDateJackpotMajor",
    LatestWinDateJackpotMega: "LatestWinDateJackpotMega",
    LatestWinDateJackpotGrand: "LatestWinDateJackpotGrand",
    LatestWinIDJackpotMinor: "LatestWinIDJackpotMinor",
    LatestWinIDJackpotMajor: "LatestWinIDJackpotMajor",
    LatestWinIDJackpotMega: "LatestWinIDJackpotMega",
    LatestWinIDJackpotGrand: "LatestWinIDJackpotGrand",
    TotalWinCountJackpotMinor: "TotalWinCountJackpotMinor",
    TotalWinCountJackpotMajor: "TotalWinCountJackpotMajor",
    TotalWinCountJackpotMega: "TotalWinCountJackpotMega",
    TotalWinCountJackpotGrand: "TotalWinCountJackpotGrand"
};

function JackpotVisualMystery() {
    JackpotVisualBase.call(this), this.contents = null, this.contentAmount = null, this.contentShut = null, this.community = null, this.communityWinnerAmount = null, this.communityShow = null, this.communityHide = null, this.singleJackpotContent = null, this.singleJackpotAmount = null, this.singleJackpotShut = null, this.singleCommunity = null, this.singleCommunityWinnerAmount = null, this.singleCommunityShow = null, this.singleCommunityHide = null, this.showJackpotVisual = null, this.hideJackpotVisual = null, this.showJackpotVisualWin = null, this.hideJackpotVisualWin = null, this.useShowJackpotVisualWinIfRunning = !1, this.showJackpotVisualWinIfRunningStop = null, this.showJackpotVisualWinIfRunningStart = null, this.useJackpotDecreased = !1, this.jackpotDecreased = null, this.singleJackpotDecreased = null, this.jackpotDecreasedAmount = null, this.singleJackpotDecreasedAmount = null, this.jackpotDecreasedAmountCommunity = null, this.singleJackpotDecreasedAmountCommunity = null, this.displayedVarName = "", this.communityWinnerAmountDisplayedVarName = "", this.communitySharedPercentageDisplayedVarName = "", this.skipUpdate = !1, this.displayedContributionVarName = "", this.displayedBiggestWinAmountVarName = "", this.displayedBiggestWinDateVarName = "", this.displayedBiggestWinIDVarName = "", this.displayedLatestWinAmountVarName = "", this.displayedLatestWinDateVarName = "", this.displayedLatestWinIDVarName = "", this.displayedTotalWinCountVarName = ""
}

function JackpotVisualManager() {
    XTLink.call(this), this.showTitle = null, this.hideTitle = null, this.backgrounds = null, this.backgroundSingle = null, this.visuals = null, this.extraValueDisplayers, this.animators = null, this.communityWinnerAmountAnimators = null, this.positions_4_jackpots = null, this.positions_3_jackpots = null, this.positions_2_jackpots = null, this.positions_1_jackpot = null, this.hideWhileCountingJackpot = !0, this.skipUpdateInPlayJackpot = !1, this.activeJackpots = [], this.jackpotCounting = !1, this.skipJackpotUpdate = !0, this.arrangeableOnMobile = !1, this.arrangeableOnDesktop = !1, this.useLocalizedLabels = !1, this.patchWonJPDataWithAmount = !1, this.shouldHideDuringFeatures = !0, this.shouldUsePowerJackpotRTPCalculation = !1, this.localizedDayLabel_0 = null, this.localizedDayLabel_1 = null, this.localizedDaysLabel_0 = null, this.localizedDaysLabel_1 = null, this.localizedHourLabel_0 = null, this.localizedHourLabel_1 = null, this.localizedHoursLabel_0 = null, this.localizedHoursLabel_1 = null, this.localizedMinuteLabel_0 = null, this.localizedMinuteLabel_1 = null, this.localizedMinutesLabel_0 = null, this.localizedMinutesLabel_1 = null, this.localizedSecondLabel_0 = null, this.localizedSecondLabel_1 = null, this.localizedSecondsLabel_0 = null, this.localizedSecondsLabel_1 = null, this.visualWin = null, this.currentJackpot = -1, this.currentJackpotWin = -1, this.freezeValuesForJackpotPlay = !1, this.jpValueV3Animator = null
}

function JackpotMinigameLink() {
    XTLink.call(this), this.startMinigame = null, this.formatOptions = null, this.jpAmountLabel = null, this.ignoreOnInit = !1, this.jackpotMusic, this.jackpotMusicEnd, this.drumRollMusic, this.drumRollEnd
}

function FakeItemMatchingPicks() {
    Component.call(this), this.reset = null, this.picked = null, this.inputCollider = null
}

function FakeBGMatchingPicks() {
    XTLink.call(this), this.itemsToMatch = 3, this.show = null, this.reset = null, this.gameOver = null, this.pickItems = null, this.winningItem = 0, this.pickResultSequence = null
}

function OrderedAudioClipPlayer() {
    Component.call(this), this.audioClips = null, this.cycleAudioClips = !1, this.soundManager = null, this.nextClip = 0
}

function InterfaceStateChanger() {
    XTLink.call(this), this.gameStates = null, this.currentState = VSGameState.Invalid, this.shouldStickToCurrentState = !1
}

function V3AnimatorRatioController() {
    XTLink.call(this), this.ratioFrom = 0, this.ratioTo = 0, this.animators = null, this.useGameSize = !1, this.ratioPercent = 0, this.screenWidth = 0, this.screenHeight = 0, this.gameSizeChanged = !1
}

function FreeRoundsBonusConnection() {
    this.updateInterval = 180, this.updateTimer = 0, this.endpointUrl = "/gs2c/promo/frb/available/", this.shouldUpdate = !1, this.isGettingData = !1, this.retryCount = 0, this.bonusRoundShown = !1, this.cachedInitBonusCode = "", this.isEnabled = !0, this.playLaterSelectedForNormalFRB = !1, this.shouldUpdatePlayLater = !0, this.duringFS = !1
}
JackpotVisualMystery.prototype = Object.create(JackpotVisualBase.prototype), JackpotVisualMystery.prototype.constructor = JackpotVisualMystery, JackpotVisualMystery.possibleVarNames = [Vars.CurrentJackpotAmountDisplayedMini, Vars.CurrentJackpotAmountDisplayedMaxi, Vars.CurrentJackpotAmountDisplayedMajor, Vars.CurrentJackpotAmountDisplayedMega], JackpotVisualMystery.communityWinnerAmountPossibleVarNames = [Vars.CurrentJackpotCommunityWinnerAmountDisplayedMini, Vars.CurrentJackpotCommunityWinnerAmountDisplayedMaxi, Vars.CurrentJackpotCommunityWinnerAmountDisplayedMajor, Vars.CurrentJackpotCommunityWinnerAmountDisplayedMega], JackpotVisualMystery.communitySharedPercentagePossibleVarNames = [Vars.CurrentJackpotCommunitySharedPercentageDisplayedMini, Vars.CurrentJackpotCommunitySharedPercentageDisplayedMaxi, Vars.CurrentJackpotCommunitySharedPercentageDisplayedMajor, Vars.CurrentJackpotCommunitySharedPercentageDisplayedMega], JackpotVisualMystery.prevAmountWonOrderedVarNames = [Vars.PrevJackpotAmountWonDisplayedMini, Vars.PrevJackpotAmountWonDisplayedMaxi, Vars.PrevJackpotAmountWonDisplayedMajor, Vars.PrevJackpotAmountWonDisplayedMega], JackpotVisualMystery.possibleContributionVarNames = [JackpotVars.ContributePercentJackpotMini, JackpotVars.ContributePercentJackpotMaxi, JackpotVars.ContributePercentJackpotMajor, JackpotVars.ContributePercentJackpotMega], JackpotVisualMystery.possibleBiggestWinAmountVarNames = [JackpotVars.BiggestWinAmountJackpotMinor, JackpotVars.BiggestWinAmountJackpotMajor, JackpotVars.BiggestWinAmountJackpotMega, JackpotVars.BiggestWinAmountJackpotGrand], JackpotVisualMystery.possibleBiggestWinDateVarNames = [JackpotVars.BiggestWinDateJackpotMinor, JackpotVars.BiggestWinDateJackpotMajor, JackpotVars.BiggestWinDateJackpotMega, JackpotVars.BiggestWinDateJackpotGrand], JackpotVisualMystery.possibleBiggestWinIDVarNames = [JackpotVars.BiggestWinIDJackpotMinor, JackpotVars.BiggestWinIDJackpotMajor, JackpotVars.BiggestWinIDJackpotMega, JackpotVars.BiggestWinIDJackpotGrand], JackpotVisualMystery.possibleLatestWinAmountVarNames = [JackpotVars.LatestWinAmountJackpotMinor, JackpotVars.LatestWinAmountJackpotMajor, JackpotVars.LatestWinAmountJackpotMega, JackpotVars.LatestWinAmountJackpotGrand], JackpotVisualMystery.possibleLatestWinDateVarNames = [JackpotVars.LatestWinDateJackpotMinor, JackpotVars.LatestWinDateJackpotMajor, JackpotVars.LatestWinDateJackpotMega, JackpotVars.LatestWinDateJackpotGrand], JackpotVisualMystery.possibleLatestWinIDVarNames = [JackpotVars.LatestWinIDJackpotMinor, JackpotVars.LatestWinIDJackpotMajor, JackpotVars.LatestWinIDJackpotMega, JackpotVars.LatestWinIDJackpotGrand], JackpotVisualMystery.possibleTotalWinCountVarNames = [JackpotVars.TotalWinCountJackpotMinor, JackpotVars.TotalWinCountJackpotMajor, JackpotVars.TotalWinCountJackpotMega, JackpotVars.TotalWinCountJackpotGrand], JackpotVisualMystery.prototype.ShowJackpotVisual = function () {
    if (!this.showJackpotVisual.IsRunning()) {
        if (!this.skipUpdate) {
            XT.GetDouble(this.displayedVarName) > this.currentJackpotInformation.JackpotAmount && (XT.SetDouble(this.displayedVarName, 0), this.StartJackpotDecreased()), XT.SetDouble(this.displayedVarName, this.currentJackpotInformation.JackpotAmount);
            var t = this.currentJackpotInformation.JackpotCommunityDetails;
            null != t && (XT.GetDouble(this.communityWinnerAmountDisplayedVarName) > t.winnerAmount && XT.SetDouble(this.communityWinnerAmountDisplayedVarName, 0), XT.SetDouble(this.communityWinnerAmountDisplayedVarName, t.winnerAmount), XT.GetDouble(this.communitySharedPercentageDisplayedVarName) > t.sharedPercentage && XT.SetDouble(this.communitySharedPercentageDisplayedVarName, 0), XT.SetDouble(this.communitySharedPercentageDisplayedVarName, t.sharedPercentage))
        }
        this.showJackpotVisual.Start()
    }
}, JackpotVisualMystery.prototype.HideJackpotVisual = function () {
    this.hideJackpotVisual.IsRunning() || this.hideJackpotVisual.Start()
}, JackpotVisualMystery.prototype.SetJackpotInformation = function (t) {
    if (!this.skipUpdate) {
        this.currentJackpotInformation = t;
        var e = t.JackpotOrder;
        if (this.displayedVarName = JackpotVisualMystery.possibleVarNames[e], this.communityWinnerAmountDisplayedVarName = JackpotVisualMystery.communityWinnerAmountPossibleVarNames[e], this.communitySharedPercentageDisplayedVarName = JackpotVisualMystery.communitySharedPercentagePossibleVarNames[e], this.displayedContributionVarName = JackpotVisualMystery.possibleContributionVarNames[e], XT.SetDouble(this.displayedContributionVarName, t.contributePercent), null != t.JackpotWinInfo ? (this.displayedBiggestWinAmountVarName = JackpotVisualMystery.possibleBiggestWinAmountVarNames[e], XT.SetDouble(this.displayedBiggestWinAmountVarName, t.JackpotWinInfo.biggestWinAmount), this.displayedBiggestWinDateVarName = JackpotVisualMystery.possibleBiggestWinDateVarNames[e], XT.SetString(this.displayedBiggestWinDateVarName, t.JackpotWinInfo.biggestWinDate), this.displayedBiggestWinIDVarName = JackpotVisualMystery.possibleBiggestWinIDVarNames[e], XT.SetString(this.displayedBiggestWinIDVarName, t.JackpotWinInfo.biggestWinnerID), this.displayedLatestWinAmountVarName = JackpotVisualMystery.possibleLatestWinAmountVarNames[e], XT.SetDouble(this.displayedLatestWinAmountVarName, t.JackpotWinInfo.latestWinAmount), this.displayedLatestWinDateVarName = JackpotVisualMystery.possibleLatestWinDateVarNames[e], XT.SetString(this.displayedLatestWinDateVarName, t.JackpotWinInfo.latestWinDate), this.displayedLatestWinIDVarName = JackpotVisualMystery.possibleLatestWinIDVarNames[e], XT.SetString(this.displayedLatestWinIDVarName, t.JackpotWinInfo.latestWinnerID), this.displayedTotalWinCountVarName = JackpotVisualMystery.possibleTotalWinCountVarNames[e], XT.SetInt(this.displayedTotalWinCountVarName, t.JackpotWinInfo.totalWinCount), this.EnableTooltipInfo()) : this.DisableTooltipInfo(), "S" == t.JackpotGroupType) {
            if (null != this.singleJackpotContent) {
                this.singleJackpotContent.SetActive(!0);
                var i = "A" == t.JackpotStatus;
                if (this.singleJackpotAmount.SetActive(i), this.singleJackpotShut.SetActive(!i), null != this.singleCommunity) {
                    var n = null != t.JackpotCommunityDetails;
                    this.singleCommunity.SetActive(n), (n ? this.singleCommunityShow : this.singleCommunityHide).Start()
                }
            }
            for (var o = 0; o < this.contents.length; o++) this.contents[o].SetActive(!1)
        } else {
            null != this.singleJackpotContent && this.singleJackpotContent.SetActive(!1);
            for (o = 0; o < this.contents.length; o++) {
                var s = o == e;
                if (this.contents[o].SetActive(s), s) {
                    i = "A" == t.JackpotStatus;
                    if (this.contentAmount[o].SetActive(i), this.contentShut[o].SetActive(!i), null != this.community && o < this.community.length) {
                        n = null != t.JackpotCommunityDetails;
                        this.community[o].SetActive(n), (n ? this.communityShow[o] : this.communityHide[o]).Start()
                    }
                }
            }
        }
    }
}, JackpotVisualMystery.prototype.ShowJackpotVisualWin = function () {
    this.useShowJackpotVisualWinIfRunning && this.showJackpotVisualWinIfRunningStop.IsRunning() && (this.showJackpotVisualWinIfRunningStop.Stop(), this.StartCATLink(this.showJackpotVisualWinIfRunningStart, !0)), this.showJackpotVisualWin.Start()
}, JackpotVisualMystery.prototype.HideJackpotVisualWin = function () {
    this.hideJackpotVisualWin.Start()
}, JackpotVisualMystery.prototype.StartJackpotDecreased = function () {
    if (this.useJackpotDecreased) {
        var t = this.currentJackpotInformation,
            e = JackpotsManager.I.GetJackpotStatus(t.JackpotID),
            i = null == e ? 0 : e.prevWonAmount;
        XT.SetDouble(JackpotVisualMystery.prevAmountWonOrderedVarNames[t.JackpotOrder], i), this.StartCATLink(this.GetJackpotDecreasedCAT(t, i > 1e-4, null != t.JackpotCommunityDetails), !0)
    }
}, JackpotVisualMystery.prototype.GetJackpotDecreasedCAT = function (t, e, i) {
    return "S" == t.JackpotGroupType ? e ? i ? this.singleJackpotDecreasedAmountCommunity : this.singleJackpotDecreasedAmount : this.singleJackpotDecreased : (e ? i ? this.jackpotDecreasedAmountCommunity : this.jackpotDecreasedAmount : this.jackpotDecreased)[t.JackpotOrder]
}, JackpotVisualMystery.prototype.StartCATLink = function (t, e) {
    null != t && null != t.cat && (t.IsRunning() && e && t.Stop(), t.Start())
}, JackpotVisualMystery.prototype.EnableTooltipInfo = function () {
    if (!checkIsRequired("NOJPT")) {
        for (var t = 0; t < this.contents.length; t++)
            if (null != this.contents[t])
                for (var e = this.contents[t].GetComponentsInChildren(Collider, !0), i = 0; i < e.length; i++) e[i].enabled = !0;
        if (null != this.singleJackpotContent)
            for (e = this.singleJackpotContent.GetComponentsInChildren(Collider, !0), i = 0; i < e.length; i++) e[i].enabled = !0
    }
}, JackpotVisualMystery.prototype.DisableTooltipInfo = function () {
    if (!checkIsRequired("NOJPT")) {
        for (var t = 0; t < this.contents.length; t++)
            if (null != this.contents[t])
                for (var e = this.contents[t].GetComponentsInChildren(Collider, !0), i = 0; i < e.length; i++) e[i].enabled = !1;
        if (null != this.singleJackpotContent)
            for (e = this.singleJackpotContent.GetComponentsInChildren(Collider, !0), i = 0; i < e.length; i++) e[i].enabled = !1
    }
}, goog.require("UHT.XTLink"), JackpotVisualManager.prototype = Object.create(XTLink.prototype), JackpotVisualManager.prototype.constructor = JackpotVisualManager, JackpotVisualManager.I = null, JackpotVisualManager.prototype.XTInitVariablesAndEvents = function () {
    JackpotVisualManager.I = this, XT.SetDouble(Vars.JackpotMinBetEligible, 0), XT.SetDouble(Vars.ReturnToPlayerWithJackpot, -69), XT.SetDouble(Vars.ReturnToPlayerMinWithJackpot, -69)
}, JackpotVisualManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.FromServer_JackpotsInformation, this.JackpotsInformationReceived, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_JackpotCounterStart, this.JackpotCountingStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_JackpotCounterEnded, this.JackpotCountingEnded, this), EventManager.AddHandler(JackpotEvents.evtJackpotStateChanged, this.OnJackpotStateChanged, this), (this.arrangeableOnMobile && Globals.isMobile || this.arrangeableOnDesktop && !Globals.isMobile) && (XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayout, this.OnLayoutChanged, this, 1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWide, this.OnLayoutChanged, this, 1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutWideFull, this.OnLayoutChanged, this, 1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToLandscapeLayoutLLN, this.OnLayoutChanged, this, 1), this.arrangeableOnMobile && Globals.isMobile && (XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutPLN, this.OnLayoutChanged, this, 1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayout, this.OnLayoutChanged, this, 1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPhone, this.OnLayoutChanged, this, 1), XT.RegisterCallbackEvent(LMVars.Evt_Internal_SwitchToPortraitLayoutIPad, this.OnLayoutChanged, this, 1))), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowPlayJackpot, this.OnShowPlayJackpot, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayJackpotClosed, this.OnPlayJackpotClosed, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayJackpot_ShowJackpotVisualWin, this.OnShowJackpotVisualWin, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_PlayJackpot_HideJackpotVisualWin, this.OnHideJackpotVisualWin, this)
}, JackpotVisualManager.prototype.OnDestroy = function () {
    XT.UnregisterCallbackObject(this.JackpotsInformationReceived, this), XT.UnregisterCallbackEvent(this.JackpotCountingStarted, this), XT.UnregisterCallbackEvent(this.JackpotCountingEnded, this)
}, JackpotVisualManager.prototype.JackpotsInformationReceived = function (t) {
    if (!this.freezeValuesForJackpotPlay) {
        if (null == this.activeJackpots && null != t) {
            for (var e = 0; e < this.animators.length; e++) this.animators[e].animateWhenIncreasing = !1;
            if (null != this.communityWinnerAmountAnimators)
                for (e = 0; e < this.communityWinnerAmountAnimators.length; e++) this.communityWinnerAmountAnimators[e].animateWhenIncreasing = !1
        } else if (null != this.activeJackpots && null != t) {
            for (var i = 0; i < this.animators.length; i++) this.animators[i].animateWhenIncreasing = !0;
            if (null != this.communityWinnerAmountAnimators)
                for (e = 0; e < this.communityWinnerAmountAnimators.length; e++) this.communityWinnerAmountAnimators[e].animateWhenIncreasing = !0
        }
        if (this.activeJackpots = t, null != this.activeJackpots) {
            var n = null;
            n = 4 == this.activeJackpots.length ? this.positions_4_jackpots : 3 == this.activeJackpots.length ? this.positions_3_jackpots : 2 == this.activeJackpots.length ? this.positions_2_jackpots : this.positions_1_jackpot;
            var o = 0,
                s = 0;
            for (e = 0; e < this.activeJackpots.length; e++) - 1 != this.currentJackpot && -1 != this.currentJackpotWin && this.activeJackpots[e].JackpotOrder == this.currentJackpot && (this.activeJackpots[e].JackpotAmount = this.currentJackpotWin), this.visuals[e].SetJackpotInformation(this.activeJackpots[e]), this.visuals[e].transform.localPosition(n[e].localPosition()), this.visuals[e].transform.localScale(n[e].localScale()), XT.SetDouble(Vars.JackpotMinBetEligible, this.activeJackpots[e].JackpotMinBet), this.shouldUsePowerJackpotRTPCalculation ? (o += 1e3 * this.activeJackpots[e].contributePercent, s += 1e3 * this.activeJackpots[e].multipliersRTP) : o += 1e3 * this.activeJackpots[e].JackpotRTP;
            if (this.shouldUsePowerJackpotRTPCalculation) o += s / this.activeJackpots.length, XT.SetDouble(Vars.ReturnToPlayerMinWithJackpot, (o + 1e3 * XT.GetDouble(Vars.ReturnToPlayerMin)) / 1e3), XT.SetDouble(Vars.ReturnToPlayerWithJackpot, (o + 1e3 * XT.GetDouble(Vars.ReturnToPlayer)) / 1e3);
            else {
                XT.SetDouble(Vars.ReturnToPlayerMinWithJackpot, (o + 1e3 * XT.GetDouble(Vars.ReturnToPlayerMin)) / 1e3);
                var a = XT.GetDouble(Vars.ReturnToPlayer),
                    r = XT.GetObject("GameInfo");
                null != r && null != r.rtps && null != r.rtps.regular && (a = _number.otod(r.rtps.regular)), XT.SetDouble(Vars.ReturnToPlayerWithJackpot, (o + 1e3 * a) / 1e3)
            }
        }
        this.UpdateJackpots()
    }
}, JackpotVisualManager.prototype.UpdateJackpots = function () {
    null == this.activeJackpots || this.jackpotCounting && this.hideWhileCountingJackpot ? (this.ShowJackpotVisuals(!1), this.showTitle.Start()) : (this.hideTitle.Start(), this.ShowJackpotVisuals(!0)), this.ShowBackgrounds()
}, JackpotVisualManager.prototype.JackpotCountingStarted = function () {
    this.jackpotCounting = !0, this.UpdateJackpots()
}, JackpotVisualManager.prototype.JackpotCountingEnded = function () {
    this.jackpotCounting = !1, this.freezeValuesForJackpotPlay && (this.freezeValuesForJackpotPlay = !1, JackpotsManager.I.reloadJpTimer = JackpotsManager.I.reloadJpInterval), this.currentJackpot = -1, this.currentJackpotWin = -1;
    for (var t = 0; t < this.visuals.length; t++) this.visuals[t].skipUpdate = !1;
    this.UpdateJackpots()
}, JackpotVisualManager.prototype.ShowJackpotVisuals = function (t) {
    for (var e = null != this.activeJackpots ? this.activeJackpots.length : 0, i = 0; i < e; i++) t ? this.visuals[i].ShowJackpotVisual() : this.visuals[i].HideJackpotVisual();
    if (this.shouldHideDuringFeatures) {
        var n = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
        if (XT.GetBool(Vars.IsDifferentSpinType) || null != n && n.IsFreeSpin) return
    }
    for (var o = e; o < this.visuals.length; o++) this.visuals[o].HideJackpotVisual()
}, JackpotVisualManager.prototype.ShowBackgrounds = function () {
    var t = null == this.activeJackpots || this.jackpotCounting && this.hideWhileCountingJackpot ? -1 : this.activeJackpots.length - 1;
    if (t < 0) {
        null != this.backgroundSingle && this.backgroundSingle.SetActive(!1);
        for (var e = 0; e < this.backgrounds.length; e++) this.backgrounds[e].SetActive(!1)
    } else if ("S" == this.activeJackpots[t].JackpotGroupType) {
        null != this.backgroundSingle && this.backgroundSingle.SetActive(!0);
        for (e = 0; e < this.backgrounds.length; e++) this.backgrounds[e].SetActive(!1)
    } else {
        null != this.backgroundSingle && this.backgroundSingle.SetActive(!1);
        for (e = 0; e < this.backgrounds.length; e++) this.backgrounds[e].SetActive(e == t)
    }
}, JackpotVisualManager.prototype.OnLayoutChanged = function () {
    if (null != this.activeJackpots) {
        var t = null;
        t = 4 == this.activeJackpots.length ? this.positions_4_jackpots : 3 == this.activeJackpots.length ? this.positions_3_jackpots : 2 == this.activeJackpots.length ? this.positions_2_jackpots : this.positions_1_jackpot;
        for (var e = 0; e < this.activeJackpots.length; e++) this.visuals[e].transform.localPosition(t[e].localPosition()), this.visuals[e].transform.localScale(t[e].localScale())
    }
}, JackpotVisualManager.prototype.OnJackpotStateChanged = function (t) {
    var e = t;
    !e.IsWin || e.IsWin && this.skipJackpotUpdate ? this.skipJackpotUpdate = !1 : (this.currentJackpot = e.JackpotOrder, this.currentJackpot >= 0 && (this.patchWonJPDataWithAmount ? this.currentJackpotWin = e.WinJackpotAmount : (this.currentJackpot < this.animators.length && this.animators[this.currentJackpot].Stop(), this.visuals[this.currentJackpot].skipUpdate = !0, this.visuals[this.currentJackpot].contentAmount[this.currentJackpot].GetComponent(ValueDisplayer).SetValueManually(e.WinJackpotAmount), this.currentJackpot < this.extraValueDisplayers.length && this.extraValueDisplayers[this.currentJackpot].SetValueManually(e.WinJackpotAmount))))
}, JackpotVisualManager.prototype.OnShowJackpotVisualWin = function () {
    this.visualWin = null;
    var t = XT.GetObject(Vars.PlayJackpotData),
        e = XT.GetObject(Vars.PlayJackpot_JackpotInformation),
        i = t.JackpotOrder;
    if (!(i < 0)) {
        i < this.animators.length && this.animators[i].Stop(), null != this.communityWinnerAmountAnimators && i < this.communityWinnerAmountAnimators.length && this.communityWinnerAmountAnimators[i].Stop(), this.visualWin = this.visuals[i], this.visualWin.skipUpdate = !0;
        var n = t.WinJackpotAmount,
            o = n,
            s = null != e.JackpotCommunityDetails;
        if (s) {
            var a = e.JackpotCommunityDetails.sharedPercentage;
            o = a / (100 - a) * n + n
        }
        "S" == e.JackpotGroupType ? (null != this.visualWin.singleJackpotAmount && this.visualWin.singleJackpotAmount.GetComponent(ValueDisplayer).SetValueManually(o), s && null != this.visualWin.singleCommunityWinnerAmount && this.visualWin.singleCommunityWinnerAmount.SetValueManually(n)) : (this.visualWin.contentAmount[i].GetComponent(ValueDisplayer).SetValueManually(o), s && null != this.visualWin.communityWinnerAmount && i < this.visualWin.communityWinnerAmount.length && this.visualWin.communityWinnerAmount[i].SetValueManually(n)), this.visualWin.ShowJackpotVisualWin()
    }
}, JackpotVisualManager.prototype.OnHideJackpotVisualWin = function () {
    null != this.visualWin && (this.visualWin.skipUpdate = !1, this.visualWin.HideJackpotVisualWin())
}, JackpotVisualManager.prototype.OnShowPlayJackpot = function () {
    if (this.skipUpdateInPlayJackpot)
        for (var t = 0; t < this.visuals.length; ++t) this.visuals[t].skipUpdate = !0
}, JackpotVisualManager.prototype.OnPlayJackpotClosed = function () {
    if (this.skipUpdateInPlayJackpot)
        for (var t = 0; t < this.visuals.length; ++t) this.visuals[t].skipUpdate = !1
}, JackpotVisualManager.prototype.FormatSeconds = function (t) {
    if (!this.useLocalizedLabels) return t.toString();
    var e = "",
        i = new Tournament.DHMS(t),
        n = i.d,
        o = i.h,
        s = i.m,
        a = i.s;
    return 1 == n ? e += this.localizedDayLabel_0.text + n.toString() + this.localizedDayLabel_1.text : n > 1 && (e += this.localizedDaysLabel_0.text + n.toString() + this.localizedDaysLabel_1.text), 1 == o ? e += this.localizedHourLabel_0.text + o.toString() + this.localizedHourLabel_1.text : o > 1 && (e += this.localizedHoursLabel_0.text + o.toString() + this.localizedHoursLabel_1.text), 1 == s ? e += this.localizedMinuteLabel_0.text + s.toString() + this.localizedMinuteLabel_1.text : s > 1 && (e += this.localizedMinutesLabel_0.text + s.toString() + this.localizedMinutesLabel_1.text), 1 == a ? e += this.localizedSecondLabel_0.text + a.toString() + this.localizedSecondLabel_1.text : a > 1 && (e += this.localizedSecondsLabel_0.text + a.toString() + this.localizedSecondsLabel_1.text), _string.Trim(e)
}, JackpotVisualManager.prototype.FreezeJackpotValues = function () {
    for (var t = 0; t < this.animators.length; t++) this.animators[t].Stop();
    if (this.currentJackpot >= 0 && this.currentJackpotWin >= 0) {
        for (var e = this.visuals[this.currentJackpot].contentAmount[this.currentJackpot].GetComponentsInChildren(ValueDisplayer), i = 0; i < e.length; i++) e[i].SetValueManually(this.currentJackpotWin);
        this.freezeValuesForJackpotPlay = !0, null != this.jpValueV3Animator && this.jpValueV3Animator.Play()
    }
}, goog.require("UHT.XTLink"), JackpotMinigameLink.prototype = Object.create(XTLink.prototype), JackpotMinigameLink.prototype.constructor = JackpotMinigameLink, JackpotMinigameLink.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived, this.OnResultReceived, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts, this.OnResultDisplayerLoopStarts, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this)
}, JackpotMinigameLink.prototype.OnSpinStarted = function () {
    this.ignoreOnInit = !1
}, JackpotMinigameLink.prototype.OnResultReceived = function () {
    if (XT.GetBool(Vars.FromServer_IsJackpotWin) && XT.GetBool(Vars.MustShowJackpotWon)) {
        var t = XT.GetObject(Vars.FromServer_JackpotsInformation);
        if (null == t) return;
        for (var e = 0; e < this.jpAmountLabel.length; e++) e < t.length ? (t[e].JackpotOrder == XT.GetInt(Vars.FromServer_JackpotWonOrder) ? this.SetJPAmount(this.jpAmountLabel[e], XT.GetDouble(Vars.FromServer_JackpotAmountWon)) : this.SetJPAmount(this.jpAmountLabel[e], t[e].JackpotAmount), this.jpAmountLabel[e].gameObject.SetActive(!0)) : this.jpAmountLabel[e].gameObject.SetActive(!1)
    }
}, JackpotMinigameLink.prototype.SetJPAmount = function (t, e) {
    t.text = LocaleManager.FormatValue(e, this.formatOptions)
}, JackpotMinigameLink.prototype.OnResultDisplayerLoopStarts = function () {
    if (!this.ignoreOnInit && !ServerOptions.isReplay && XT.GetBool(Vars.FromServer_IsJackpotWin) && XT.GetBool(Vars.MustShowJackpotWon)) {
        var t = XT.GetObject(Vars.RQManagerObject);
        t.AddRoutineQueueItem(new RQITriggerCallback(this.StartMinigame, XT.GetInt(Vars.FromServer_JackpotWonOrder), this)), t.AddRoutineQueueItem(new RQIWaitForXTEvent(Vars.Evt_DataToCode_ContinueWithJackpot))
    }
}, JackpotMinigameLink.prototype.StartMinigame = function (t) {
    this.startMinigame[_number.otoi(t)].Start()
}, JackpotMinigameLink.prototype.MinigameEnded = function () {
    XT.TriggerEvent(Vars.Evt_DataToCode_ContinueWithJackpot)
}, JackpotMinigameLink.prototype.StartJackpotMusic = function () {
    var t = XT.GetObject(Vars.SoundManagerObject);
    this.jackpotMusic.handler = t.PlayLooping(this.jackpotMusic.GetClip())
}, JackpotMinigameLink.prototype.StopJackpotMusic = function () {
    var t = XT.GetObject(Vars.SoundManagerObject);
    if (this.jackpotMusic.IsPlaying()) {
        var e = {
            handle: this.jackpotMusic.handler
        };
        t.StopLoopingSound(e)
    }
    null != this.jackpotMusicEnd && t.PlaySimple(this.jackpotMusicEnd)
}, JackpotMinigameLink.prototype.StartDrumRoll = function () {
    var t = XT.GetObject(Vars.SoundManagerObject);
    this.drumRollMusic.handler = t.PlayLooping(this.drumRollMusic.GetClip())
}, JackpotMinigameLink.prototype.StopDrumRoll = function () {
    var t = XT.GetObject(Vars.SoundManagerObject);
    if (this.drumRollMusic.IsPlaying()) {
        var e = {
            handle: this.drumRollMusic.handler
        };
        t.StopLoopingSound(e)
    }
    null != this.drumRollEnd && t.PlaySimple(this.drumRollEnd)
}, goog.require("UHT.Engine"), FakeItemMatchingPicks.prototype = Object.create(Component.prototype), FakeItemMatchingPicks.prototype.constructor = FakeItemMatchingPicks, FakeItemMatchingPicks.prototype.ResetItem = function () {
    for (var t = 0; t < this.picked.length; t++) this.picked[t].SetActive(!1);
    this.reset.SetActive(!0)
}, FakeItemMatchingPicks.prototype.ShowItem = function (t) {
    this.reset.SetActive(!1), this.picked[t].SetActive(!0)
}, FakeItemMatchingPicks.prototype.ActivateInput = function (t) {
    this.inputCollider.enabled = t
}, FakeItemMatchingPicks.prototype.IsPicked = function () {
    return !this.reset.activeSelf
}, goog.require("UHT.XTLink"), FakeBGMatchingPicks.prototype = Object.create(XTLink.prototype), FakeBGMatchingPicks.prototype.constructor = FakeBGMatchingPicks, FakeBGMatchingPicks.prototype.ShowBonusGame = function () {
    this.reset.Start(), this.ResetPickSequence();
    for (var t = 0; t < this.pickItems.length; t++) this.pickItems[t].ResetItem(), this.pickItems[t].ActivateInput(!0);
    this.show.Start()
}, FakeBGMatchingPicks.prototype.SetWinningItem = function (t) {
    this.winningItem = _number.otoi(t)
}, FakeBGMatchingPicks.prototype.OnPickableItemClick = function (t) {
    for (var e = 0; e < this.pickItems.length; e++) this.pickItems[e].ActivateInput(!1);
    this.pickItems[_number.otoi(t)].ShowItem(this.pickResultSequence[0]), this.pickResultSequence.splice(0, 1)
}, FakeBGMatchingPicks.prototype.ItemShowEnded = function () {
    if (this.IsGameOver()) this.gameOver.Start();
    else
        for (var t = 0; t < this.pickItems.length; t++) this.pickItems[t].ActivateInput(!this.pickItems[t].IsPicked())
}, FakeBGMatchingPicks.prototype.ResetPickSequence = function () {
    var t, e = this.pickItems[0].picked.length;
    this.pickResultSequence = [];
    var i = [];
    if (null != JackpotsManager.I.jackpots)
        for (t = 0; t < JackpotsManager.I.jackpots.length; t++) i.push(JackpotsManager.I.jackpots[t].JackpotOrder);
    for (t = 0; t < e; t++)
        if (i.indexOf(t) > -1 || 0 == i.length && t == this.winningItem)
            for (var n = t == this.winningItem ? this.itemsToMatch : this.itemsToMatch - 1, o = 0; o < n; o++) this.pickResultSequence.push(t);
    for (t = 0; t < this.pickResultSequence.length; t++) {
        var s = Random.Range(0, this.pickResultSequence.length),
            a = this.pickResultSequence[t];
        this.pickResultSequence[t] = this.pickResultSequence[s], this.pickResultSequence[s] = a
    }
}, FakeBGMatchingPicks.prototype.IsGameOver = function () {
    return -1 == this.pickResultSequence.indexOf(this.winningItem)
}, goog.require("UHT.Engine"), OrderedAudioClipPlayer.prototype = Object.create(Component.prototype), OrderedAudioClipPlayer.prototype.constructor = OrderedAudioClipPlayer, OrderedAudioClipPlayer.prototype.PlayNextClip = function () {
    null == this.soundManager && (this.soundManager = XT.GetObject(Vars.SoundManagerObject), null == this.soundManager) || (this.soundManager.PlaySimple(this.audioClips[this.nextClip]), this.IncreaseClipIndex())
}, OrderedAudioClipPlayer.prototype.ResetClipCount = function () {
    this.nextClip = 0
}, OrderedAudioClipPlayer.prototype.IncreaseClipIndex = function () {
    ++this.nextClip >= this.audioClips.length && (this.nextClip = this.cycleAudioClips ? 0 : this.audioClips.length - 1)
}, goog.require("UHT.XTLink"), InterfaceStateChanger.prototype = Object.create(XTLink.prototype), InterfaceStateChanger.prototype.constructor = InterfaceStateChanger, InterfaceStateChanger.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_ChangeVSGameState, this.OnVSGameStateChanged, this, 10)
}, InterfaceStateChanger.prototype.OnVSGameStateChanged = function () {
    this.shouldStickToCurrentState && VSGameStateManager.GetState() != this.currentState && VSGameStateManager.ChangeTo(this.currentState)
}, InterfaceStateChanger.prototype.LockToState = function (t) {
    this.currentState = this.gameStates[_number.otoi(t)], VSGameStateManager.ChangeTo(this.currentState), this.shouldStickToCurrentState = !0
}, InterfaceStateChanger.prototype.UnlockAndChangeToPreviousState = function () {
    this.shouldStickToCurrentState = !1, VSGameStateManager.ChangeTo(VSGameStateManager.GetPreviousState())
}, InterfaceStateChanger.prototype.UnlockAndChangeToState = function (t) {
    this.shouldStickToCurrentState = !1, this.currentState = this.gameStates[_number.otoi(t)], VSGameStateManager.ChangeTo(this.currentState)
}, goog.require("UHT.XTLink"), V3AnimatorRatioController.prototype = Object.create(XTLink.prototype), V3AnimatorRatioController.prototype.constructor = V3AnimatorRatioController, V3AnimatorRatioController.prototype.XTRegisterCallbacks = function () {
    this.useGameSize && XT.RegisterCallbackObject(GUIArrangerVars.GUIArranger_GameSize, this.OnGameSizeChanged, this)
}, V3AnimatorRatioController.prototype.OnGameSizeChanged = function (t) {
    this.gameSizeChanged = !0, this.Update(), this.gameSizeChanged = !1
}, V3AnimatorRatioController.prototype.GetSize = function () {
    return this.useGameSize ? XT.GetObject(GUIArrangerVars.GUIArranger_GameSize) : new UHTMath.Vector3(UHTScreen.width, UHTScreen.height, 0)
}, V3AnimatorRatioController.prototype.Update = function () {
    if ((!this.useGameSize || this.gameSizeChanged) && (this.gameSizeChanged || this.screenWidth != UHTScreen.width || this.screenHeight != UHTScreen.height)) {
        var t = this.GetSize(),
            e = t.x / Math.max(t.y, .001);
        this.ratioPercent = UHTMath.inverseLerp(this.ratioFrom, this.ratioTo, e);
        for (var i = 0; i < this.animators.length; ++i) this.animators[i].Sample(this.ratioPercent);
        this.screenWidth = UHTScreen.width, this.screenHeight = UHTScreen.height
    }
}, goog.require("UHT.Engine"), FreeRoundsBonusConnection.prototype.Init = function () {
    this.endpointUrl = ServerOptions.serverUrl + this.endpointUrl + "?mgckey=" + ServerOptions.mgckey, XT.SetString(Vars.InitBonusCode, ""), XT.SetBool("UserChoseToPlayLaterInstantFRB", !1), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackBool(Vars.UserChoseToPlayLater, this.OnUserChoseToPlayLater, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsStarted, this.OnBonusRoundStarted, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsFinished, this.OnBonusRoundFinished, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_BonusRoundsError, this.OnBonusRoundFinished, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed, this.OnContinuePressed, this), XT.RegisterCallbackObject(Vars.ReceivedFreeSpinsResponse, this.OnReceivedFreeSpinsResponse, this)
}, FreeRoundsBonusConnection.prototype.OnReceivedFreeSpinsResponse = function (t) {
    null != t && (this.duringFS = t.IsFreeSpin)
}, FreeRoundsBonusConnection.prototype.OnGameInit = function () {
    var t = UHT_GAME_CONFIG_SRC;
    if (null != t && null != t.instantFrbEnabled && null != t.instantFrbUpdateSeconds && (this.isEnabled = t.instantFrbEnabled, this.isEnabled)) {
        var e = t.instantFrbUpdateSeconds;
        e > 0 && (this.updateInterval = e)
    }
    null == XT.GetObject(Vars.BonusRoundsEvents) && (this.shouldUpdate = !0)
}, FreeRoundsBonusConnection.prototype.OnBonusRoundStarted = function () {
    this.bonusRoundShown = !0
}, FreeRoundsBonusConnection.prototype.OnBonusRoundFinished = function () {
    this.bonusRoundShown = !1
}, FreeRoundsBonusConnection.prototype.OnContinuePressed = function () {
    this.bonusRoundShown && (XT.SetString(Vars.InitBonusCode, this.cachedInitBonusCode), this.cachedInitBonusCode = ""), this.shouldUpdate = !this.bonusRoundShown, this.shouldUpdate && (this.updateTimer = 0)
}, FreeRoundsBonusConnection.prototype.OnUserChoseToPlayLater = function (t) {
    t && (this.shouldUpdatePlayLater ? this.playLaterSelectedForNormalFRB = t : this.isEnabled = !1, this.shouldUpdate = !1, this.bonusRoundShown = !1, "" != this.cachedInitBonusCode && XT.SetBool("UserChoseToPlayLaterInstantFRB", !0), this.cachedInitBonusCode = "")
}, FreeRoundsBonusConnection.prototype.GetFreeRoundsData = function () {
    var t = new ServerRequest;
    t.Url = this.endpointUrl, this.playLaterSelectedForNormalFRB && (t.Url += "&playLaterSelected=true"), t.Handler = new EventHandler(this, this.OnFreeRoundsData), t.Method = "GET", RequestManager.AddRequest(t)
}, FreeRoundsBonusConnection.prototype.OnFreeRoundsData = function (t, e) {
    if (200 != e && this.retryCount++ < 5) this.GetFreeRoundsData();
    else {
        var i;
        try {
            i = JSON.parse(t)
        } catch (t) {
            return
        }
        if (null != i) {
            var n = i.freeRounds;
            null != n && n.length > 0 && this.ParseFreeRoundData(n[0]), this.updateTimer = 0, this.isGettingData = !1
        }
    }
}, FreeRoundsBonusConnection.prototype.ParseFreeRoundData = function (t) {
    if (null == XT.GetObject(Vars.BonusRoundsEvents)) {
        var e = new VsFreeRound,
            i = new VsFreeRoundEvent;
        switch (i.PromoType = null != t.promoType ? t.promoType : "", e.Type = VsFreeRound.RoundType.Spins, t.freeRoundsType) {
            case "N":
                e.Type = VsFreeRound.RoundType.Spins;
                break;
            case "T":
                e.Type = VsFreeRound.RoundType.Timed;
                break;
            case "F":
                e.Type = VsFreeRound.RoundType.BonusBoost;
                break;
            default:
                break
        }
        e.RoundsLeft = _number.otoi(t.freeRoundsNumber), i.RoundsLeft = _number.otoi(t.freeRoundsNumber), i.Bet = _number.otod(t.betPerLine), i.Lines = _number.otoi(t.numberOfLines), i.TurboSpinMode = _bool.Parse(t.turboSpinMode), i.PlayLaterAvailable = _bool.Parse(t.playLaterAvailable), i.EndDateTimestamp = _number.otod(t.expirationDate), i.IsFreeRoundPending = _bool.Parse(t.freeRoundPending), i.PromoLocalizedName = null != t.promoLocalizedName ? t.promoLocalizedName : "", i.Type = VsFreeRoundEvent.EventType.Start, this.cachedInitBonusCode = t.bonusCode;
        var n = [];
        n.push(i), XT.SetObject(Vars.BonusRoundsData, e), XT.SetObject(Vars.BonusRoundsEvents, n), this.shouldUpdatePlayLater = !1, XT.SetBool(Vars.UserChoseToPlayLater, !1), XT.TriggerEvent(Vars.Evt_Internal_BonusRoundsInfoUpdated)
    }
}, FreeRoundsBonusConnection.prototype.Update = function () {
    this.isEnabled && this.shouldUpdate && !this.duringFS && (this.updateTimer > this.updateInterval && !this.isGettingData && (this.isGettingData = !0, this.GetFreeRoundsData()), this.updateTimer += Time.deltaTime)
};
var BGVars = {
    Evt_Internal_ShowLevel: "Evt_Internal_ShowLevel",
    Evt_Internal_ResumeLevel: "Evt_Internal_ResumeLevel",
    Evt_DataToCode_BonusPickItemClicked: "Evt_DataToCode_BonusPickItemClicked",
    Evt_DataToCode_BonusMultiplierItemClicked: "Evt_DataToCode_BonusMultiplierItemClicked",
    Evt_ToServer_BonusPickedItem: "Evt_ToServer_BonusPickedItem",
    Evt_ToServer_BonusPickedCustomItem: "Evt_ToServer_BonusPickedCustomItem",
    Evt_ToServer_SendBonusRespin: "Evt_ToServer_SendBonusRespin",
    Evt_ToServer_BonusGameFinished: "Evt_ToServer_BonusGameFinished",
    BonusPickItemIndex: "BonusPickItemIndex",
    Evt_CodeToData_BonusResultWindowShow: "Evt_CodeToData_BonusResultWindowShow",
    Evt_DataToCode_BonusResultWindowCollect: "Evt_DataToCode_BonusResultWindowCollect",
    Evt_DataToCode_BonusResultWindowClosed: "Evt_DataToCode_BonusResultWindowClosed",
    Evt_CodeToData_BonusResultWindowClose: "Evt_CodeToData_BonusResultWindowClose",
    BonusRealWinDisplayed: "BonusRealWinDisplayed",
    BonusBetPerLine: "BonusBetPerLine",
    BonusDataReceived: "BonusDataReceived",
    HasMultipleLevelsNoItemMarkers: "HasMultipleLevelsNoItemMarkers",
    ShowResultAfterBigWin: "ShowResultAfterBigWin"
};

function SoundState() {
    this.globalSoundIsOn = !0, this.gameSoundIsOn = !0, this.musicIsOn = !0, this.soundFXIsOn = !0, this.oldMusicIsOn = !1, this.oldSoundFXIsOn = !1
}
goog.provide("UHT.Paytable"), goog.require("UHT.Engine"), Paytable.prototype = Object.create(XTLink.prototype), Paytable.prototype.constructor = Paytable;
var PageContentType = {
    Normal: 0,
    Jackpot: 1,
    JackpotPlay: 2
};

function Paytable() {
    XTLink.call(this), this.cat = null, this.paytable = null, this.pages = [], this.pageContentType = [], this.gamblePageIndex = -1, this.jackpotPageCounter = 0, this.currentPageIndex = 1, this.pagesCount = 0, this.pageIndexLabel = null, this.paytableActive = !1, this.pageIdx = 0, this.pageRoot = [], this.hasFeatureDependentPages = !1, this.hasRequirementAwarePages = !1, this.jpData = null, this.firstHelpPageIdx = -1, this.jackpotPlayIsActive = !1
}

function CAT_Set() {
    this.show = null, this.hide = null
}
Paytable.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen, this.OnPressedPaytableOpen, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableClose, this.OnPressedPaytableClose, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytableNext, this.OnPressedPaytableNext, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytablePrevious, this.OnPressedPaytablePrevious, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GUIInit, this.OnGUIInit, this), EventManager.AddHandler(JackpotEvents.evtJackpotStateChanged, this.OnJackpotStateChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpenHelp, this.OnShowGameHelp, this)
}, Paytable.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.MobilePaytableObject, this)
}, Paytable.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnPressedPaytableOpen, this), XT.UnregisterCallbackEvent(this.OnPressedPaytableClose, this), XT.UnregisterCallbackEvent(this.OnPressedPaytableNext, this), XT.UnregisterCallbackEvent(this.OnPressedPaytablePrevious, this), XT.UnregisterCallbackEvent(this.OnGUIInit, this)
}, Paytable.prototype.OnJackpotStateChanged = function (t) {
    this.jpData = t
}, Paytable.prototype.OnGUIInit = function () {
    0 == XT.GetBool(Vars.CanGamble_Spin) && this.gamblePageIndex >= 0 && this.pages.splice(this.gamblePageIndex, 1), this.pageRoot = [];
    for (var t = 0; t < this.pages.length; t++)
        for (var e = 0; e < this.cat.events.length; e++)
            if (this.cat.events[e].id == this.pages[t].show.id) {
                var i = this.cat.events[e].actions[0];
                i.ToEnableList.length > 0 && this.pageRoot.push(i.ToEnableList[0]), -1 != i.ToEnableList[0].name.indexOf("Info1") && (this.firstHelpPageIdx = t);
                break
            } this.ProcessJackpotPages(), this.ProcessRequirementChecker()
}, Paytable.prototype.ProcessJackpotPages = function () {
    if (0 == window.UHT_GAME_CONFIG.GAME_SYMBOL.indexOf("vsprg") && (this.jackpotPlayIsActive = !0), !(this.hasFeatureDependentPages || null == this.jpData || this.jpData.IsActive || -1 == this.pageContentType.indexOf(PageContentType.Jackpot) && -1 == this.pageContentType.indexOf(PageContentType.JackpotPlay))) {
        this.hasFeatureDependentPages = !0;
        for (var t = 0, e = 0; e < this.pageRoot.length; e++)
            for (var i = this.pageRoot[e].transform.children, n = 0; n < i.length; n++)
                if ("PageIndicator" == i[n].gameObject.name)
                    for (var o = this.jackpotPageCounter, s = !1, a = i[n].transform.children, r = 0; r < a.length; r++)
                        if (o > 0) a[r].transform.gameObject.SetActive(!1), o--;
                        else if (this.pageContentType[e] == PageContentType.Normal) {
            var l = a[r].transform.gameObject.GetComponentsInChildren(UISprite, !0)[0];
            if (null == l) break;
            o + t == 0 ? (l.spriteName = "PaytablePageDot_Over", t++, s = !0) : l.spriteName = "PaytablePageDot_Normal", s || o--
        }
    }
    this.jackpotPageCounter = 0;
    for (var u = 0; u < this.pageContentType.length; u++) this.hasFeatureDependentPages ? this.pageContentType[u] != PageContentType.Jackpot && this.pageContentType[u] != PageContentType.JackpotPlay || this.jackpotPageCounter++ : (this.pageContentType[u] == PageContentType.Jackpot && this.jackpotPlayIsActive && this.jackpotPageCounter++, this.pageContentType[u] != PageContentType.JackpotPlay || this.jackpotPlayIsActive || this.jackpotPageCounter++);
    this.pagesCount = this.pages.length - this.jackpotPageCounter, null != this.gameObject.transform.Find("PaytableCommonExtra/PageIndexHolder/PageIndexLabel") && (this.pageIndexLabel = this.gameObject.transform.Find("PaytableCommonExtra/PageIndexHolder/PageIndexLabel").GetComponent(UILabel))
}, Paytable.prototype.ChangePaytableStatus = function (t) {
    this.paytableActive != t && (this.paytableActive = t, this.cat.StartEvent(t ? this.paytable.show.id : this.paytable.hide.id))
};
var BT_PAYTABLE_SENT = !1;
Paytable.prototype.OnPressedPaytableOpen = function () {
    if (!BT_PAYTABLE_SENT) {
        var t = globalTracking.GetTimerValue("uht_behaviour", "Session_timer", "BehaviourTracker");
        globalTracking.SendEvent("uht_behaviour", "PAYTABLE_opened_once", t, "BehaviourTracker"), BT_PAYTABLE_SENT = !0
    }
    this.ChangePaytableStatus(!0), this.currentPageIndex = 1, null != this.pageIndexLabel && (this.pageIndexLabel.text = this.currentPageIndex + "/" + this.pagesCount)
}, Paytable.prototype.OnPressedPaytableClose = function () {
    this.ChangePaytableStatus(!1)
}, Paytable.prototype.OnPressedPaytableNext = function () {
    this.ShowPageInt(this.pageIdx + 1), this.currentPageIndex + 1 > this.pagesCount ? this.currentPageIndex = 1 : this.currentPageIndex = this.currentPageIndex + 1, null != this.pageIndexLabel && (this.pageIndexLabel.text = this.currentPageIndex + "/" + this.pagesCount)
}, Paytable.prototype.OnPressedPaytablePrevious = function () {
    this.ShowPageInt(this.pageIdx - 1), this.currentPageIndex - 1 <= 0 ? this.currentPageIndex = this.pagesCount : this.currentPageIndex = this.currentPageIndex - 1, null != this.pageIndexLabel && (this.pageIndexLabel.text = this.currentPageIndex + "/" + this.pagesCount)
}, Paytable.prototype.ShowPageInt = function (t) {
    if (this.hasFeatureDependentPages || this.hasRequirementAwarePages) {
        var e = 1;
        t < this.pageIdx && (e *= -1), this.pageIdx = t < 0 ? this.pageRoot.length - 1 : t % this.pageRoot.length;
        var i = !1,
            n = this.pageRoot[this.pageIdx].GetComponent(window.RequirementChecker);
        if (null != n && (i = !n.isActive), i) return void this.ShowPageInt(this.pageIdx + e);
        if (this.hasFeatureDependentPages && this.pageContentType.length > this.pageIdx && this.pageContentType[this.pageIdx] != PageContentType.Normal) return void this.ShowPageInt(this.pageIdx + e);
        if (this.pageContentType.length > this.pageIdx && this.pageContentType[this.pageIdx] == PageContentType.Jackpot && this.jackpotPlayIsActive) return void this.ShowPageInt(this.pageIdx + e);
        if (this.pageContentType.length > this.pageIdx && this.pageContentType[this.pageIdx] == PageContentType.JackpotPlay && !this.jackpotPlayIsActive) return void this.ShowPageInt(this.pageIdx + e);
        for (var o = 0; o < this.pageRoot.length; o++) this.pageRoot[o].SetActive(o == this.pageIdx)
    } else this.cat.StartEvent(this.pages[this.pageIdx].hide.id), this.pageIdx = t < 0 ? this.pages.length - 1 : t % this.pages.length, this.cat.StartEvent(this.pages[this.pageIdx].show.id)
}, Paytable.prototype.ShowPage = function (t) {
    this.ShowPageInt(_number.otoi(t))
}, Paytable.prototype.ProcessRequirementChecker = function () {
    for (var t = 0, e = 0; e < this.pageRoot.length; e++) {
        null == (h = this.pageRoot[e].GetComponent(window.RequirementChecker)) || h.isActive || t++
    }
    t > 0 && (this.hasRequirementAwarePages = !0);
    for (var i = 0, n = 0; n < this.pageRoot.length; n++)
        for (var o = this.pageRoot[n].transform.children, s = 0; s < o.length; s++)
            if ("PageIndicator" == o[s].gameObject.name)
                for (var a = t, r = !1, l = o[s].transform.children, u = 0; u < l.length; u++)
                    if (a > 0) l[u].transform.gameObject.SetActive(!1), a--;
                    else {
                        var h;
                        if (null != (h = this.pageRoot[n].GetComponent(window.RequirementChecker)) && h.isActive) {
                            var c = l[u].transform.gameObject.GetComponentsInChildren(UISprite, !0)[0];
                            if (null == c) break;
                            a + i == 0 ? (c.spriteName = "PaytablePageDot_Over", i++, r = !0) : c.spriteName = "PaytablePageDot_Normal", r || a--
                        }
                    } this.pagesCount -= t, null != this.gameObject.transform.Find("PaytableCommonExtra/PageIndexHolder/PageIndexLabel") && (this.pageIndexLabel = this.gameObject.transform.Find("PaytableCommonExtra/PageIndexHolder/PageIndexLabel").GetComponent(UILabel))
}, Paytable.prototype.OnShowGameHelp = function () {
    -1 != this.firstHelpPageIdx && (XT.TriggerEvent(Vars.Evt_Internal_PaytableOpen), this.ChangePaytableStatus(!0), this.currentPageIndex = this.firstHelpPageIdx + 1, null != this.pageIndexLabel && (this.pageIndexLabel.text = this.currentPageIndex + "/" + this.pagesCount), this.ShowPage(this.firstHelpPageIdx.toString()))
}, goog.provide("UHT.VideoSlotsConnection"), goog.require("UHT.Engine"), goog.require("UHT.JackpotHelpers");
var VSCStagedHandler = {
        None: 0,
        Spin: 1
    },
    VSCHandlerStage = {
        Stage_0: 0,
        Stage_1: 1,
        Stage_2: 2
    };

function VideoSlotsConnection() {
    Component.call(this), this.xtLayer = null, this.serverRequestSent = !1, this.realMoney = !1, this.isInit = !0, this.lastResponse = null, this.fsbgLastResponse = null, this.fsgbResponse = null, this.storedPaytable = null, this.storedMaxFS = -1, this.Bets = null, this.gambleResponse = null, this.gambleColorMultiplier = -1, this.gambleSuitMultiplier = -1, this.gambleDiceMultiplier = -1, this.gambleCardHistory = null, this.canGamble = !1, this.stagedHandler = VSCStagedHandler.None, this.handlerStage = VSCHandlerStage.Stage_0
}

function BonusPickConnection() {
    Component.call(this), this.lastResponse = null, this.vsResponse = null, this.xtLayer = null
}

function VideoSlotsConnectionXTLayer() {
    XTLink.call(this), this.vsc = null, this.bonusConnection = null, this.gameSymbol = null, this.fsr = null, this.bonusData = null, this.needToSendSettingsToServer = !1, this.isInCoolDown = !1, this.timeInCooldown = 0, this.internalGlobalSoundIsOn = !1, this.handlerGameInitReceived = !1, this.settingsReceived = !1, this.resourcesLoaded = !1, this.mustTriggerDelayedGameLoadingFinished = !1, this.delayedGameLoadingFinishedFrameCount = 0
}
VideoSlotsConnection.prototype = Object.create(Component.prototype), VideoSlotsConnection.prototype.constructor = VideoSlotsConnection, VideoSlotsConnection.cleanupPreviousWin = !1, VideoSlotsConnection.isUnfinishedGame = !1, VideoSlotsConnection.prototype.Awake = function () {
    this.Bets = [.01, .02, .05, .1, .25, .5, 1, 3, 5]
}, VideoSlotsConnection.prototype.Update = function () {
    if (this.stagedHandler != VSCStagedHandler.None) switch (this.stagedHandler) {
        case VSCStagedHandler.Spin:
            this.HandlerSpinResult(this.lastResponse);
            break
    }
}, VideoSlotsConnection.prototype.AddServerCallbacks = function () {
    EventManager.AddHandler(GameEvents.evtInitResponse + this.xtLayer.gameSymbol, this.HandlerGameInit, this), EventManager.AddHandler(GameEvents.evtSpinResponse + this.xtLayer.gameSymbol, this.HandlerSpinResult, this), EventManager.AddHandler(GameEvents.evtNoMoneySpinResponse, this.HandlerNoMoneySpinResult, this), EventManager.AddHandler(GameEvents.evtConfigSwitchedResponse + this.xtLayer.gameSymbol, this.HandlerConfigSwitched, this), EventManager.AddHandler(GameEvents.evtGambleResponse + this.xtLayer.gameSymbol, this.HandlerGambleV2Response, this), EventManager.AddHandler(GameEvents.evtMustPlayJackpot + this.xtLayer.gameSymbol, this.HandlerMustPlayJackpot, this), EventManager.AddHandler(GameEvents.evtPlayJackpotResponse + this.xtLayer.gameSymbol, this.HandlerPlayJackpotResponse, this), EventManager.AddHandler(JackpotEvents.evtJackpotsUpdated, this.HandlerJackpotsUpdated, this), EventManager.AddHandler(GameEvents.evtFSBGInitResponse + this.xtLayer.gameSymbol, this.HandlerFSBGInit, this), EventManager.AddHandler(GameEvents.evtFSBGPickResponse + this.xtLayer.gameSymbol, this.HandlerFSBGResponse, this), EventManager.AddHandler(GameEvents.evtMysteryScatterResponse + this.xtLayer.gameSymbol, this.HandlerMysteryScatter, this), EventManager.AddHandler(GameEvents.evtFreeRoundsUpdate, this.HandlerFreeRoundUpdate, this), EventManager.AddHandler(GameEvents.evtFSOptionsUpdate + this.xtLayer.gameSymbol, this.HandlerFreeSpinOptionsUpdate, this), EventManager.AddHandler(GameEvents.evtServerTimeUpdate, this.HandlerServerTimeUpdate, this), EventManager.AddHandler(ApplicationEvents.evtServerOptionsParsed, this.OnServerOptionsParsed, this)
}, VideoSlotsConnection.prototype.OnServerOptionsParsed = function () {
    this.xtLayer.RequirementsSetup()
}, VideoSlotsConnection.prototype.SpinPressed = function (t, e) {
    var i = new VsRequest;
    i.Symbol = String(this.xtLayer.gameSymbol), i.Bet = e, i.Line = t;
    var n = XT.GetObject(Vars.ProgressiveFeatureConfig);
    null != n && -1 != n.pickedSymbolPosition && (i.ProgressPick = n.pickedSymbolPosition), this.serverRequestSent = !0, EventManager.Trigger(GameEvents.evtSpinRequest + this.xtLayer.gameSymbol, i)
}, VideoSlotsConnection.prototype.InitReels = function () {
    if (this.xtLayer.InitReelSymbols(this.lastResponse.VsInitData.ReelSymbols), null == this.lastResponse.ReelPositions) {
        XT.SetBool(Vars.HiddenMathematics, !0), this.lastResponse.ReelPositions = [];
        for (var t = 0; t < this.lastResponse.WinScreenSymbols.length; t++) this.lastResponse.ReelPositions.push(0)
    }
    this.xtLayer.InitReelsPositions(this.lastResponse.ReelPositions), this.xtLayer.SetReelStopPositions(this.lastResponse.ReelPositions)
}, VideoSlotsConnection.prototype.InitNextReels = function () {
    var t = [];
    this.lastResponse.ReelSetIndex >= 0 ? t = XT.GetObject(Vars.ReelSets)[this.lastResponse.ReelSetIndex] : t = this.lastResponse.VsInitData.NextReelSymbols;
    this.xtLayer.InitNextReelSymbols(t)
}, VideoSlotsConnection.prototype.InitReelSets = function () {
    this.xtLayer.UpdateReelSetIndexes(this.lastResponse.ReelSetIndexCurrent), this.xtLayer.SetReelSets(this.lastResponse.VsInitData.ReelSets)
}, VideoSlotsConnection.prototype.Start = function () {}, VideoSlotsConnection.prototype.Init = function () {}, VideoSlotsConnection.prototype.OnDestroy = function () {}, VideoSlotsConnection.prototype.OnShowResult = function () {}, VideoSlotsConnection.prototype.OnFreeSpinsClosed = function () {
    EventManager.Trigger(GameEvents.evtFreespinsFinished + this.xtLayer.gameSymbol, null)
}, VideoSlotsConnection.prototype.IsInit = function () {
    return this.isInit
}, VideoSlotsConnection.prototype.Vs_InitData = function () {
    return this.lastResponse.VsInitData
}, VideoSlotsConnection.prototype.GetSymbolPaytable = function (t) {
    return this.storedPaytable[t]
}, VideoSlotsConnection.prototype.WonTheJackpot = function () {
    return null != this.lastResponse && this.lastResponse.IsJackpotWin()
}, VideoSlotsConnection.prototype.IsFreeSpin = function () {
    return this.lastResponse.IsFreeSpins() && 0 != this.lastResponse.VsFreeSpin.GetMaxNumber()
}, VideoSlotsConnection.prototype.IsNeedMysteryScatter = function () {
    return this.lastResponse.VsFreeSpin.IsNeedGetMysteryScatter()
}, VideoSlotsConnection.prototype.HasMysteryScatter = function () {
    return this.lastResponse.IsFreeSpins() && this.lastResponse.VsFreeSpin.GetMysteryScatter().length > 0
}, VideoSlotsConnection.prototype.GetMysteryScatter = function () {
    return this.lastResponse.VsFreeSpin.GetMysteryScatter()
}, VideoSlotsConnection.prototype.SetLastFreesSpinsNull = function () {
    this.lastResponse.SetVsFreeSpin(null)
}, VideoSlotsConnection.prototype.GetWinValue = function () {
    return this.lastResponse.Win
}, VideoSlotsConnection.prototype.IsFreeSpinWin = function () {
    return this.IsFreeSpin() ? this.FreeSpinMaxNumber() > 0 && this.storedMaxFS < this.FreeSpinMaxNumber() && (this.storedMaxFS = this.FreeSpinMaxNumber(), !0) : (this.storedMaxFS = -1, !1)
}, VideoSlotsConnection.prototype.IsLastFreeSpin = function () {
    return this.lastResponse.IsFreeSpins() && this.lastResponse.VsFreeSpin.IsLastFreeSpin()
}, VideoSlotsConnection.prototype.FreeSpinTotalNumber = function () {
    return this.lastResponse.VsFreeSpin.GetTotalNumber()
}, VideoSlotsConnection.prototype.FreeSpinCurrentNumber = function () {
    return this.lastResponse.VsFreeSpin.GetCurrentNumber()
}, VideoSlotsConnection.prototype.FreeSpinMaxNumber = function () {
    return this.lastResponse.VsFreeSpin.GetMaxNumber()
}, VideoSlotsConnection.prototype.FreeSpinTotalMultipl = function () {
    return this.lastResponse.VsFreeSpin.GetTotalMultipl()
}, VideoSlotsConnection.prototype.FreeSpinCurrentWin = function () {
    return this.lastResponse.VsFreeSpin.GetCurrentWin()
}, VideoSlotsConnection.prototype.FreeSpinTotalWin = function () {
    return this.lastResponse.VsFreeSpin.GetTotalWin()
}, VideoSlotsConnection.prototype.FreeSpinCurrentWinMultiplied = function () {
    return this.lastResponse.VsFreeSpin.GetCurrentWinMultiplied()
}, VideoSlotsConnection.prototype.FreeSpinTotalWinMultiplied = function () {
    return this.lastResponse.VsFreeSpin.GetTotalWinMultiplied()
}, VideoSlotsConnection.prototype.GambleGetBalance = function () {
    return this.gambleResponse.Balance
}, VideoSlotsConnection.prototype.GambleGetCard = function () {
    return this.gambleResponse.Card
}, VideoSlotsConnection.prototype.GambleGetDice1 = function () {
    return this.gambleResponse.Dice1
}, VideoSlotsConnection.prototype.GambleGetDice2 = function () {
    return this.gambleResponse.Dice2
}, VideoSlotsConnection.prototype.GambleIsNoMoney = function () {
    return this.gambleResponse.NoMoney
}, VideoSlotsConnection.prototype.HasFreeSpinOptions = function () {
    return this.lastResponse.HasFreeSpinOptions()
}, VideoSlotsConnection.prototype.IsFreeSpinsBonusGame = function () {
    return this.lastResponse.IsFreeSpinBonusGame()
}, VideoSlotsConnection.prototype.FSBG_GameOver = function () {
    return this.fsbgLastResponse.VsFreeSpin.BonusGame.GameOver
}, VideoSlotsConnection.prototype.FSBG_Lives = function () {
    return Number(this.fsbgLastResponse.VsFreeSpin.BonusGame.Lifes)
}, VideoSlotsConnection.prototype.FSBG_Level = function () {
    return this.fsbgLastResponse.VsFreeSpin.BonusGame.Level
}, VideoSlotsConnection.prototype.FSBG_Items = function () {
    return this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems
}, VideoSlotsConnection.prototype.FSBG_Close = function () {
    var t = this.fsbgLastResponse.VsFreeSpin;
    t.SetCurrentNumber(1), t.SetMaxNumber(t.BonusGame.SpinsWin), t.SetTotalMultipl(t.BonusGame.MultipliersWin), t.BonusGame = null, this.lastResponse.SetVsFreeSpin(t), this.IsFreeSpinWin()
}, VideoSlotsConnection.prototype.FSBG_WinMultipliers = function () {
    return this.fsbgLastResponse.VsFreeSpin.BonusGame.MultipliersWin
}, VideoSlotsConnection.prototype.FSBG_WinSpins = function () {
    return this.fsbgLastResponse.VsFreeSpin.BonusGame.SpinsWin
}, VideoSlotsConnection.prototype.FSBG_InProgress = function () {
    if (null != this.fsbgLastResponse) {
        if (this.fsbgLastResponse.VsFreeSpin.BonusGame.GameOver) return !0;
        if (null != this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems && this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems.length > 0)
            for (var t = 0; t < this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems.length; ++t)
                if (this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems[t].Status == VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Selected) return !0
    }
    return !1
}, VideoSlotsConnection.prototype.InitFakeGambleState = function () {
    null == this.gambleResponse && (this.gambleResponse = new VsGamblingResponse), this.gambleResponse.State = GamblingState.Win
}, VideoSlotsConnection.prototype.SendGambleOpen = function () {
    this.InitFakeGambleState(), XT.TriggerEvent(Vars.Evt_FromServer_GambleOpen)
}, VideoSlotsConnection.prototype.SendGambleBack = function () {
    XT.TriggerEvent(Vars.Evt_FromServer_GambleClose), EventManager.Trigger(GameEvents.evtGambleClose + this.xtLayer.gameSymbol, null)
}, VideoSlotsConnection.prototype.SendGambleChoice = function (t) {
    var e = new VsGamblingRequest;
    e.Choice = t, this.serverRequestSent = !0, EventManager.Trigger(GameEvents.evtGambleRequest + this.xtLayer.gameSymbol, e)
}, VideoSlotsConnection.prototype.FSOption_SendPick = function (t) {
    var e = new VsBonusGamePlayerChoice(t);
    EventManager.Trigger(GameEvents.evtFSOptionPickRequest + this.xtLayer.gameSymbol, e)
}, VideoSlotsConnection.prototype.FSBG_SendPick = function (t) {
    var e = new VsBonusGamePlayerChoice(t);
    EventManager.Trigger(GameEvents.evtFSBGPickRequest + this.xtLayer.gameSymbol, e)
}, VideoSlotsConnection.prototype.SendGetJackpots = function () {}, VideoSlotsConnection.prototype.SendGetJackpotsGames = function () {}, VideoSlotsConnection.prototype.HandlerJackpotsUpdated = function (t) {
    this.xtLayer.SetJackpotsInfo(t)
}, VideoSlotsConnection.prototype.HandlerGameInit = function (t) {
    if (this.isInit = !0, this.lastResponse = t, null != this.lastResponse) {
        VideoSlotsConnection.cleanupPreviousWin && (null != this.lastResponse.VsBonusGame && (this.lastResponse.VsBonusGame.currentBonusRespin != this.lastResponse.VsBonusGame.maxBonusRespins || 0 == this.lastResponse.VsBonusGame.currentBonusRespin || this.lastResponse.VsBonusGame.ExtraRespinsWon > 0 || this.lastResponse.VsBonusGame.ExtraRetriggersWon > 0 || (this.lastResponse.VsBonusGame = null)), this.IsLastFreeSpin() && (this.lastResponse.VsFreeSpin = null, this.lastResponse.StickySymbols = null), this.lastResponse.Win = 0, this.lastResponse.VsWinLines = [], VideoSlotsConnection.isUnfinishedGame || (this.lastResponse.SpinCycleWin = 0)), this.storedPaytable = this.lastResponse.VsInitData.Paytable, this.xtLayer.SetPaytableInfo(this.storedPaytable);
        var e = this.lastResponse.VsInitData.GamblingSettings;
        if (null != e) {
            null != e.GetGamblingSettings(GamblingType.CardColor) && (this.gambleColorMultiplier = Number(e.GetGamblingSettings(GamblingType.CardColor))), null != e.GetGamblingSettings(GamblingType.Suit) && (this.gambleSuitMultiplier = Number(e.GetGamblingSettings(GamblingType.Suit)));
            var i = e.IsOccasionEnable(GamblingOccasions.Spin),
                n = e.IsOccasionEnable(GamblingOccasions.FreeSpin),
                o = e.IsOccasionEnable(GamblingOccasions.Bonus);
            this.xtLayer.SetGambleSettings(i, n, o, this.gambleColorMultiplier, this.gambleSuitMultiplier)
        }
        var s = this.lastResponse.VsInitData.GamblingHistory;
        if (null != s) {
            var a = s.History;
            this.gambleCardHistory = [];
            for (var r = 0; r < a.length; ++r) this.gambleCardHistory[r] = a[r].Card;
            this.gambleResponse = s.History[s.History.length - 1], this.gambleResponse.Balance = s.WinAmount
        }
        this.xtLayer.SetGambleHistory(s), this.canGamble = this.lastResponse.VsGamblingButtonState.GamblingOnSpinAvailable, this.canGamble && null != s && e.InitGamblingOccasion == GamblingOccasions.Spin && (this.canGamble = !1), this.xtLayer.SetCanGambleSpinWin(this.canGamble), (e.IsOccasionEnable(GamblingOccasions.Bonus) || e.IsOccasionEnable(GamblingOccasions.Spin) || e.IsOccasionEnable(GamblingOccasions.FreeSpin)) && (e.SkipGambleOnInit || this.lastResponse.Win <= 0) && this.xtLayer.SkipResultDisplayOnInit(), this.IsFreeSpin() && (this.storedMaxFS = this.FreeSpinMaxNumber()), this.InitReels(), this.InitReelSets(), (null != this.lastResponse.VsInitData && null != this.lastResponse.VsInitData.NextReelSymbols || this.lastResponse.ReelSetIndex >= 0) && this.InitNextReels(), this.xtLayer.SetStackedSymbolIndex(this.lastResponse.StackedSymbolIndex), this.xtLayer.SetBetLines(this.lastResponse.VsInitData.Line), this.xtLayer.SetRandomWildsData(this.lastResponse.RandomWildsData, this.lastResponse.UpSymbols), this.xtLayer.SetWildRandomLineMpConfig(this.lastResponse.VsInitData.WildRandomLineMpConfig), this.xtLayer.SetNASymbolId(this.lastResponse.VsInitData.naSymbolId), this.xtLayer.SetWRLMResponse(this.lastResponse.WRLMResponse), this.xtLayer.SetWRLMCurrentSets(this.lastResponse.WRLMCurrentSets), this.xtLayer.SetRandomAwardsConfig(this.lastResponse.VsInitData.RandomAwardConfig), this.xtLayer.SetRandomAwardResponse(this.lastResponse.RandomAwardResponse), this.xtLayer.SetRandomSymbolMultipliers(this.lastResponse.RandomSymbolMultipliers), this.xtLayer.SetPossibleRandomSymbolMultipliers(this.lastResponse.PossibleRandomSymbolMultipliers), this.xtLayer.SetFreeSpinsChainData(this.lastResponse.FreeSpinsChainData), this.xtLayer.SetOpeningSymbolsData(this.lastResponse.OpeningSymbolsData), this.xtLayer.SetRandomMysterySymbolsIds(this.lastResponse.RandomMysterySymbolId), this.xtLayer.SetPatternedMysterySymbols(this.lastResponse.PatternedMysterySymbols), this.xtLayer.SetInitialMysterySymbolsIds(this.lastResponse.VsInitData.InitialMysterySymbolId), this.xtLayer.SetInitialBGItemValues(this.lastResponse.VsInitData.BGItemValues), this.xtLayer.SetInitialBGItemMasks(this.lastResponse.VsInitData.BGItemMasks), this.xtLayer.InitFirstScreenSymbols(this.lastResponse.WinScreenSymbols), null != this.lastResponse.SymbolsBeforeExpanding && this.lastResponse.SymbolsBeforeExpanding.length > 0 ? this.xtLayer.SetInitialResultScreenSymbols(this.lastResponse.SymbolsBeforeExpanding) : this.xtLayer.SetInitialResultScreenSymbols(this.lastResponse.WinScreenSymbols), this.xtLayer.SetGoldSymbol(this.lastResponse.GoldSymbol), this.xtLayer.SetSymbolReplacementData(this.lastResponse.SymbolReplacementData), this.xtLayer.SetResultScreenSymbols(this.lastResponse.WinScreenSymbols), this.xtLayer.SetSymbolsAbove(this.lastResponse.SymbolsAbove), this.xtLayer.SetSymbolsBelow(this.lastResponse.SymbolsBelow), this.xtLayer.SetNextReelsSymbolsList(this.lastResponse.NextReelsSymbolsList), this.xtLayer.SetHasCoins("CURRENCY" != ServerOptions.amountType), this.Bets = this.lastResponse.VsInitData.Bets, this.xtLayer.SetExplicitMaxTotalBet(this.lastResponse.VsInitData.ExplicitMaxTotalBet), ServerOptions.isReplay && (this.Bets = [this.lastResponse.VsInitData.Bet], this.lastResponse.VsInitData.DefaultBet = this.lastResponse.VsInitData.Bet), this.xtLayer.SetBets(this.Bets, this.lastResponse.VsInitData.Bet, this.lastResponse.VsInitData.DefaultBet), this.xtLayer.SetBalance(this.lastResponse.Balance, !1), this.xtLayer.SetWinValue(this.lastResponse.Win), this.xtLayer.SetSpinCycleWinValue(this.lastResponse.SpinCycleWin), this.xtLayer.SetExtraAwardWin(this.lastResponse.ExtraAwardWin), this.xtLayer.SetRespinCycleWin(this.lastResponse.RespinCycleWin);
        var l = 0;
        for (r = 0; r < this.lastResponse.VsWinLines.length; ++r) {
            l += this.lastResponse.VsWinLines[r].WinAmount
        }
        this.xtLayer.SetLinesWinValue(l), this.xtLayer.SetWinLines(this.lastResponse.VsWinLines);
        var u = this.lastResponse.isGambleV2();
        if (this.xtLayer.SetGambleV2Response(this.lastResponse.gambleV2Data), this.xtLayer.SetMustOpenGambleV2(u), this.xtLayer.SetMustOpenBonus(this.lastResponse.IsBonus() && !u, this.lastResponse.IsBonusGameOver() && this.lastResponse.NextGameActions.indexOf(NextGameAction.Bonus) > -1), this.isInit = !1, this.xtLayer.SetExpandingSymbolsData(this.lastResponse.ExpandingSymbolsData), this.xtLayer.SetRespinData(this.lastResponse.Respin), this.xtLayer.SetProgressiveFeatureConfig(this.lastResponse.VsInitData.ProgressiveConfig), this.xtLayer.SetProgressiveFeatureData(this.lastResponse.ProgressiveData), this.xtLayer.SetMoneySymbolConfig(this.lastResponse.VsInitData.MoneySymbolConfig), this.xtLayer.SetMoneySymbolData(this.lastResponse.MoneySymbolData), this.xtLayer.SetStickySymbolsData(this.lastResponse.StickySymbols), this.xtLayer.SetMergingSymbolsData(this.lastResponse.MergingSymbols), this.xtLayer.SetJackpotState(this.lastResponse.VsJackpotData), this.WonTheJackpot()) {
            var h = this.lastResponse.VsJackpotData;
            this.xtLayer.SetJackpotWon(h.JackpotID, h.JackpotOrder, h.WinJackpotAmount)
        }
        if (this.xtLayer.SetJackpotVisualization(this.lastResponse.JackpotVisualisation), this.HasFreeSpinOptions() && this.xtLayer.MustOpenFSOptions(this.lastResponse.FreeSpinsOptions), this.IsFreeSpinsBonusGame() && this.lastResponse.VsFreeSpin.BonusGame.GameOver ? (this.fsgbResponse = this.lastResponse.Clone(), this.fsgbResponse.VsFreeSpin.SetTotalMultipl(this.lastResponse.VsFreeSpin.BonusGame.MultipliersWin), this.fsgbResponse.VsFreeSpin.SetMaxNumber(this.lastResponse.VsFreeSpin.BonusGame.SpinsWin), this.fsgbResponse.VsFreeSpin.SetCurrentNumber(1), this.xtLayer.SetFreeSpinResponseReceived(this.fsgbResponse.VsFreeSpin)) : (this.xtLayer.SetFreeSpinResponseReceived(this.lastResponse.VsFreeSpin), XT.GetBool(Vars.TruncateFSResponseDuringRespin) && this.xtLayer.SetTruncatedFSResponseReceived(this.lastResponse.TruncatedVsFreeSpin)), (null != this.lastResponse.GetVsFreeSpin() && this.lastResponse.GetVsFreeSpin().IsLastFreeSpin() || null == this.lastResponse.GetVsFreeSpin()) && XT.GetBool(Vars.OpenFSBGForMysteryScatter) && this.xtLayer.SetStartFSBG(!1), null != this.lastResponse.VsFreeSpin) {
            var c = this.lastResponse.VsFreeSpin.GetMysteryScatter();
            c.length > 0 && this.xtLayer.SetMysteryScatterSymbolIds(c)
        }
        this.IsFreeSpin() && this.IsNeedMysteryScatter() ? (this.fsgbResponse = this.lastResponse.Clone(), this.xtLayer.SetStartFSBG(!0)) : this.IsFreeSpinsBonusGame() && !this.lastResponse.VsFreeSpin.BonusGame.GameOver && (this.fsgbResponse = this.lastResponse.Clone(), this.xtLayer.SetStartFSBG(!1)), this.xtLayer.SetWildRandomMultipliers(this.lastResponse.WildRandomMultipliers), this.xtLayer.UpdateBonusRoundsInfo(this.lastResponse), this.xtLayer.SetReturnToPlayer(this.lastResponse.ReturnToPlayer), this.xtLayer.SetReturnToPlayerMin(this.lastResponse.ReturnToPlayerMin), this.xtLayer.SetNudgedSymbolsData(this.lastResponse.NudgedSymbolsData), this.xtLayer.SetSpinOneReelValues(this.lastResponse.SpinOneReelData), this.xtLayer.SetTumblingWin(this.lastResponse.TumblingWin), this.xtLayer.SetTumblingData(this.lastResponse.TumblingData), this.xtLayer.SetBetLevelSettings(this.lastResponse.VsInitData.BetLevelSettings), this.xtLayer.SetFSPurchaseConfig(this.lastResponse.VsInitData.FreeSpinsPurchaseConfig), this.xtLayer.SetFSPurchaseData(this.lastResponse.FreeSpinsPurchaseData), XT.TriggerEvent(FOXVars.Evt_FOX_AfterInitReceived), this.xtLayer.InitReceived(), this.xtLayer.SetBonusBalance(this.lastResponse.BonusBalance)
    }
}, VideoSlotsConnection.prototype.HandlerConfigSwitched = function (t) {
    if (this.lastResponse = t, null != this.lastResponse) {
        this.storedPaytable = this.lastResponse.VsInitData.Paytable, this.xtLayer.SetPaytableInfo(this.storedPaytable);
        var e = this.lastResponse.VsInitData.GamblingSettings;
        if (null != e) {
            null != e.GetGamblingSettings(GamblingType.CardColor) && (this.gambleColorMultiplier = Number(e.GetGamblingSettings(GamblingType.CardColor))), null != e.GetGamblingSettings(GamblingType.Suit) && (this.gambleSuitMultiplier = Number(e.GetGamblingSettings(GamblingType.Suit)));
            var i = e.IsOccasionEnable(GamblingOccasions.Spin),
                n = e.IsOccasionEnable(GamblingOccasions.FreeSpin),
                o = e.IsOccasionEnable(GamblingOccasions.Bonus);
            this.xtLayer.SetGambleSettings(i, n, o, this.gambleColorMultiplier, this.gambleSuitMultiplier)
        }
        this.InitReels(), this.InitReelSets(), (null != this.lastResponse.VsInitData && null != this.lastResponse.VsInitData.NextReelSymbols || this.lastResponse.ReelSetIndex >= 0) && this.InitNextReels(), this.xtLayer.SetStackedSymbolIndex(this.lastResponse.StackedSymbolIndex), this.xtLayer.SetReturnToPlayer(this.lastResponse.ReturnToPlayer), this.xtLayer.SetReturnToPlayerMin(this.lastResponse.ReturnToPlayerMin)
    }
}, VideoSlotsConnection.prototype.HandlerSpinResult = function (t) {
    if (this.serverRequestSent = !1, this.lastResponse = t, null != this.lastResponse) switch (this.handlerStage) {
        case VSCHandlerStage.Stage_0:
            if (null != this.lastResponse.VsInitData && null != this.lastResponse.VsInitData.ReelSymbols && this.InitReels(), this.lastResponse.ReelSetIndexCurrent >= 0 && (this.xtLayer.UpdateReelSetIndexes(this.lastResponse.ReelSetIndexCurrent), this.xtLayer.InitReelSymbols(XT.GetObject(Vars.ReelSets)[this.lastResponse.ReelSetIndexCurrent])), (null != this.lastResponse.VsInitData && null != this.lastResponse.VsInitData.NextReelSymbols || this.lastResponse.ReelSetIndex >= 0) && this.InitNextReels(), this.canGamble = this.lastResponse.VsGamblingButtonState.GamblingOnSpinAvailable, this.xtLayer.SetStackedSymbolIndex(this.lastResponse.StackedSymbolIndex), this.xtLayer.SetCanGambleSpinWin(this.canGamble), this.xtLayer.SetWRLMResponse(this.lastResponse.WRLMResponse), this.xtLayer.SetWinLines(this.lastResponse.VsWinLines), null == this.lastResponse.ReelPositions) {
                this.lastResponse.ReelPositions = [];
                for (var e = 0; e < this.lastResponse.WinScreenSymbols.length; e++) this.lastResponse.ReelPositions.push(0)
            }
            this.xtLayer.SetReelStopPositions(this.lastResponse.ReelPositions), this.xtLayer.SetExpandingSymbolsData(this.lastResponse.ExpandingSymbolsData), this.xtLayer.SetRandomWildsData(this.lastResponse.RandomWildsData, this.lastResponse.UpSymbols), this.xtLayer.SetWRLMCurrentSets(this.lastResponse.WRLMCurrentSets), this.xtLayer.SetRandomAwardResponse(this.lastResponse.RandomAwardResponse), this.xtLayer.SetRandomSymbolMultipliers(this.lastResponse.RandomSymbolMultipliers), this.xtLayer.SetPossibleRandomSymbolMultipliers(this.lastResponse.PossibleRandomSymbolMultipliers), this.xtLayer.SetFreeSpinsChainData(this.lastResponse.FreeSpinsChainData), this.xtLayer.SetOpeningSymbolsData(this.lastResponse.OpeningSymbolsData), this.xtLayer.SetSpinOneReelValues(this.lastResponse.SpinOneReelData), this.xtLayer.SetTumblingWin(this.lastResponse.TumblingWin), this.xtLayer.SetTumblingData(this.lastResponse.TumblingData), this.xtLayer.SetRandomMysterySymbolsIds(this.lastResponse.RandomMysterySymbolId), this.xtLayer.SetPatternedMysterySymbols(this.lastResponse.PatternedMysterySymbols), null != this.lastResponse.SymbolsBeforeExpanding && this.lastResponse.SymbolsBeforeExpanding.length > 0 ? this.xtLayer.SetInitialResultScreenSymbols(this.lastResponse.SymbolsBeforeExpanding) : this.xtLayer.SetInitialResultScreenSymbols(this.lastResponse.WinScreenSymbols), this.xtLayer.SetGoldSymbol(this.lastResponse.GoldSymbol), this.xtLayer.SetSymbolReplacementData(this.lastResponse.SymbolReplacementData), this.xtLayer.SetResultScreenSymbols(this.lastResponse.WinScreenSymbols), this.xtLayer.SetSymbolsAbove(this.lastResponse.SymbolsAbove), this.xtLayer.SetSymbolsBelow(this.lastResponse.SymbolsBelow), this.xtLayer.SetNextReelsSymbolsList(this.lastResponse.NextReelsSymbolsList), this.stagedHandler = VSCStagedHandler.Spin, this.handlerStage = VSCHandlerStage.Stage_1;
            break;
        case VSCHandlerStage.Stage_1:
            if (this.xtLayer.SetRespinData(this.lastResponse.Respin), this.xtLayer.SetProgressiveFeatureData(this.lastResponse.ProgressiveData), this.xtLayer.SetMoneySymbolData(this.lastResponse.MoneySymbolData), this.xtLayer.SetStickySymbolsData(this.lastResponse.StickySymbols), this.xtLayer.SetMergingSymbolsData(this.lastResponse.MergingSymbols), this.xtLayer.SetJackpotState(this.lastResponse.VsJackpotData), this.WonTheJackpot()) {
                var i = this.lastResponse.VsJackpotData;
                this.xtLayer.SetJackpotWon(i.JackpotID, i.JackpotOrder, i.WinJackpotAmount)
            }
            this.xtLayer.SetJackpotVisualization(this.lastResponse.JackpotVisualisation), this.xtLayer.SetBalance(this.lastResponse.Balance, !0), this.xtLayer.SetBonusBalance(this.lastResponse.BonusBalance), this.xtLayer.SetWinValue(this.lastResponse.Win), this.xtLayer.SetSpinCycleWinValue(this.lastResponse.SpinCycleWin), this.xtLayer.SetExtraAwardWin(this.lastResponse.ExtraAwardWin), this.xtLayer.SetRespinCycleWin(this.lastResponse.RespinCycleWin);
            var n = 0;
            for (var o in this.lastResponse.VsWinLines) n += this.lastResponse.VsWinLines[o].WinAmount;
            this.xtLayer.SetLinesWinValue(n), this.HasFreeSpinOptions() && this.xtLayer.MustOpenFSOptions(this.lastResponse.FreeSpinsOptions), this.xtLayer.SetFreeSpinResponseReceived(this.lastResponse.GetVsFreeSpin()), this.xtLayer.SetFSPurchaseData(this.lastResponse.FreeSpinsPurchaseData), XT.GetBool(Vars.TruncateFSResponseDuringRespin) && this.xtLayer.SetTruncatedFSResponseReceived(this.lastResponse.TruncatedVsFreeSpin), (null != this.lastResponse.GetVsFreeSpin() && this.lastResponse.GetVsFreeSpin().IsLastFreeSpin() || null == this.lastResponse.GetVsFreeSpin()) && XT.GetBool(Vars.OpenFSBGForMysteryScatter) && this.xtLayer.SetStartFSBG(!1), this.IsFreeSpin() && this.IsNeedMysteryScatter() ? (this.fsgbResponse = this.lastResponse.Clone(), this.xtLayer.SetStartFSBG(!0)) : this.IsFreeSpinsBonusGame() && (this.fsgbResponse = this.lastResponse.Clone(), this.xtLayer.SetStartFSBG(!1)), this.xtLayer.SetWildRandomMultipliers(this.lastResponse.WildRandomMultipliers), this.xtLayer.SetMustOpenBonus(this.lastResponse.IsBonus(), !1), this.xtLayer.UpdateBonusRoundsInfo(this.lastResponse), this.xtLayer.SetGambleV2Response(this.lastResponse.gambleV2Data), this.xtLayer.SetNudgedSymbolsData(this.lastResponse.NudgedSymbolsData), this.handlerStage = VSCHandlerStage.Stage_2;
            break;
        case VSCHandlerStage.Stage_2:
            XT.TriggerEvent(FOXVars.Evt_FOX_AfterSpinReceived), this.xtLayer.SpinResultReceived(), this.stagedHandler = VSCStagedHandler.None, this.handlerStage = VSCHandlerStage.Stage_0;
            break
    }
}, VideoSlotsConnection.prototype.HandlerNoMoneySpinResult = function (t) {
    var e = new VsResponse;
    e.ReelPositions = this.lastResponse.ReelPositions, e.SymbolsAbove = this.lastResponse.SymbolsAbove, e.SymbolsBelow = this.lastResponse.SymbolsBelow, e.RandomAwardResponse = this.lastResponse.RandomAwardResponse, e.ProgressiveData = this.lastResponse.ProgressiveData, e.WinScreenSymbols = XT.GetObject(Vars.InitialScreen), null == e.WinScreenSymbols && (e.WinScreenSymbols = XT.GetObject(Vars.FirstScreenSymbols));
    var i = XT.GetObject(DefaultStateVars.DefaultSymbolsAbove);
    null != i && (e.SymbolsAbove = i), null != (i = XT.GetObject(DefaultStateVars.DefaultSymbolsBelow)) && (e.SymbolsBelow = i);
    var n = XT.GetObject(Vars.InitialRandomAward);
    null != n && null != e.RandomAwardResponse && (e.RandomAwardResponse.awardIndex = n.awardIndex, e.RandomAwardResponse.awardPositionInReel = n.awardPositionInReel), XT.SetBool(Vars.IsNoMoneySpin, !0);
    var o = t;
    if (null != o) {
        var s = GameProtocolCommonParser.ParseBalance(o);
        null != s && (e.Balance = s.Balance, e.BonusBalance = s.BonusBalance);
        var a = VSProtocolParser.ParseVsFreeRoundEvents(o);
        e.FreeRoundEvents = a
    }
    this.HandlerSpinResult(e), this.HandlerSpinResult(e), this.HandlerSpinResult(e), XT.SetBool(Vars.IsNoMoneySpin, !1), window.globalMustStopAutoplay = !0
}, VideoSlotsConnection.prototype.HandlerMysteryScatter = function (t) {
    this.fsbgLastResponse = t, null != this.fsbgLastResponse && (this.fsbgLastResponse.VsFreeSpin.BonusGame = new VsFreeSpinBonusGame, this.fsbgLastResponse.VsFreeSpin.BonusGame.SpinsWin = this.fsbgLastResponse.VsFreeSpin.GetMaxNumber(), this.fsbgLastResponse.VsFreeSpin.BonusGame.MultipliersWin = this.fsbgLastResponse.VsFreeSpin.GetTotalMultipl(), this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems = [], this.fsbgLastResponse.VsFreeSpin.BonusGame.BonusItems.push(new VsFreeSpinBonusGame.BonusItem(this.fsbgLastResponse.VsFreeSpin.GetMysteryScatter().length > 0 ? this.fsbgLastResponse.VsFreeSpin.GetMysteryScatter()[0] : -1, VsFreeSpinBonusGame.BonusItem.BonusItemStatus.Available, VsFreeSpinBonusGame.BonusItem.BonusItemType.Spin)), null == this.fsgbResponse && (this.fsgbResponse = this.fsbgLastResponse.Clone()), this.fsgbResponse.VsFreeSpin.SetMysteryScatter(this.fsbgLastResponse.VsFreeSpin.GetMysteryScatter()), this.fsgbResponse.VsFreeSpin.SetNeedGetMysteryScatter(!1), this.xtLayer.SetMysteryScatterSymbolIds(this.fsbgLastResponse.VsFreeSpin.GetMysteryScatter()), this.xtLayer.SetFreeSpinResponseReceived(this.fsgbResponse.VsFreeSpin), XT.TriggerEvent(FOXVars.Evt_FOX_AfterGetMysteryScatterReceived))
}, VideoSlotsConnection.prototype.SendGetMysteryScatter = function () {
    EventManager.Trigger(GameEvents.evtMysteryScatterRequest + this.xtLayer.gameSymbol, null)
}, VideoSlotsConnection.prototype.HandlerGambleResponse = function (t) {
    this.serverRequestSent = !1, this.gambleResponse = t, null != this.gambleResponse && this.xtLayer.SetGambleResponse(this.gambleResponse)
}, VideoSlotsConnection.prototype.HandlerGambleStatus = function (t) {}, VideoSlotsConnection.prototype.HandlerResourceLoadingStarted = function (t) {}, VideoSlotsConnection.prototype.HandlerResourceLoadingFinished = function (t) {}, VideoSlotsConnection.prototype.HandlerResourceLoadingError = function (t) {
    throw new Error("There was an error during resources loading!")
}, VideoSlotsConnection.prototype.HandlerFSBGInit = function (t) {
    this.fsbgLastResponse = t, null != this.fsbgLastResponse && (this.fsgbResponse.VsFreeSpin.BonusGame = this.fsbgLastResponse.VsFreeSpin.Clone().BonusGame, this.xtLayer.SetFreeSpinResponseReceived(this.fsgbResponse.VsFreeSpin), XT.TriggerEvent(FOXVars.Evt_FOX_AfterInitFSBGReceived), this.xtLayer.SendFSBGInitDone())
}, VideoSlotsConnection.prototype.HandlerFSBGResponse = function (t) {
    if (this.fsbgLastResponse = t, null != this.fsbgLastResponse) {
        var e = this.fsbgLastResponse.VsFreeSpin.Clone().BonusGame;
        this.fsgbResponse.VsFreeSpin.BonusGame = e, e.GameOver && (this.fsgbResponse.VsFreeSpin.SetTotalMultipl(e.MultipliersWin), this.fsgbResponse.VsFreeSpin.SetMaxNumber(e.SpinsWin), this.fsgbResponse.VsFreeSpin.SetCurrentNumber(1)), this.xtLayer.SetFreeSpinResponseReceived(this.fsgbResponse.VsFreeSpin), XT.TriggerEvent(FOXVars.Evt_FOX_AfterPickFSBGReceived), this.xtLayer.SendFSBGResponseReceived()
    }
}, VideoSlotsConnection.prototype.HandlerFreeRoundUpdate = function (t) {
    var e = t;
    null != e && this.xtLayer.UpdateBonusRoundsInfo(e)
}, VideoSlotsConnection.prototype.HandlerFreeSpinOptionsUpdate = function (t) {
    var e = t;
    null != e && this.xtLayer.FreeSpinOptionsResponseReceived(e)
}, VideoSlotsConnection.prototype.UpdateBonusFSResponseValues = function (t) {
    null != t && (this.fsgbResponse = t.Clone())
}, VideoSlotsConnection.prototype.SendGambleV2Choice = function (t) {
    EventManager.Trigger(GameEvents.evtGambleRequest + this.xtLayer.gameSymbol, t)
}, VideoSlotsConnection.prototype.HandlerGambleV2Response = function (t) {
    this.xtLayer.SetGambleV2Response(t)
}, VideoSlotsConnection.prototype.HandlerMustPlayJackpot = function (t) {
    this.xtLayer.MustPlayJackpot()
}, VideoSlotsConnection.prototype.SendPlayJackpotRequest = function () {
    EventManager.Trigger(GameEvents.evtPlayJackpotRequest + this.xtLayer.gameSymbol, null)
}, VideoSlotsConnection.prototype.HandlerPlayJackpotResponse = function (t) {
    this.xtLayer.PlayJackpotResponse(t)
}, VideoSlotsConnection.prototype.HandlerServerTimeUpdate = function (t) {
    this.xtLayer.SetServerTime(t)
}, goog.provide("UHT.BonusPickConnection"), goog.require("UHT.Component"), BonusPickConnection.prototype = Object.create(Component.prototype), BonusPickConnection.prototype.constructor = BonusPickConnection, BonusPickConnection.prototype.Init = function () {}, BonusPickConnection.prototype.Coef = function () {
    return this.lastResponse.Coef
}, BonusPickConnection.prototype.GameOver = function () {
    return this.lastResponse.GameOver
}, BonusPickConnection.prototype.Level = function () {
    return -1 != this.lastResponse.Level ? this.lastResponse.GameOver ? this.lastResponse.Level - 1 : Number(this.lastResponse.Level) : 0
}, BonusPickConnection.prototype.CurrentBonusRespin = function () {
    return this.lastResponse.currentBonusRespin
}, BonusPickConnection.prototype.MaxBonusRespins = function () {
    return this.lastResponse.maxBonusRespins
}, BonusPickConnection.prototype.RespinSymbols = function () {
    return this.lastResponse.respinSymbols
}, BonusPickConnection.prototype.Life = function () {
    var t = 0;
    return null != this.lastResponse.Life && (t = this.lastResponse.Life), t
}, BonusPickConnection.prototype.RealWin = function () {
    return this.lastResponse.RealWin
}, BonusPickConnection.prototype.WinPoints = function () {
    return this.lastResponse.WinPoints
}, BonusPickConnection.prototype.PossibleWins = function () {
    return this.lastResponse.IWins
}, BonusPickConnection.prototype.ItemsMarkers = function () {
    return null != this.lastResponse.BonusTable.Markers ? this.lastResponse.BonusTable.Markers : null
}, BonusPickConnection.prototype.ItemStatus = function (t) {
    return this.lastResponse.BonusTable.Status[t]
}, BonusPickConnection.prototype.ItemsStatus = function () {
    return null != this.lastResponse.BonusTable.Status ? this.lastResponse.BonusTable.Status : null
}, BonusPickConnection.prototype.ItemWin = function (t) {
    return this.lastResponse.BonusTable.Wins[t]
}, BonusPickConnection.prototype.ItemsWins = function () {
    return null != this.lastResponse.BonusTable.Status ? this.lastResponse.BonusTable.Wins : null
}, BonusPickConnection.prototype.WinsMask = function () {
    return this.lastResponse.BonusTable.WinsMask
}, BonusPickConnection.prototype.LifeWins = function () {
    return this.lastResponse.lifeWins
}, BonusPickConnection.prototype.MultipliersMarkers = function () {
    return this.lastResponse.MultipliersTable.Markers
}, BonusPickConnection.prototype.MultiplierStatus = function (t) {
    return this.lastResponse.MultipliersTable.Status[t]
}, BonusPickConnection.prototype.MultipliersStatus = function () {
    return this.lastResponse.MultipliersTable.Status
}, BonusPickConnection.prototype.MultiplierWin = function (t) {
    return this.lastResponse.MultipliersTable.Wins[t]
}, BonusPickConnection.prototype.MultipliersWins = function () {
    return this.lastResponse.MultipliersTable.Wins
}, BonusPickConnection.prototype.MultiplierStep = function () {
    return this.lastResponse.MultiplierStep
}, BonusPickConnection.prototype.MultipliedSymbolPositions = function () {
    return this.lastResponse.MultipliedSymbolPositions
}, BonusPickConnection.prototype.SendItemPick = function (t) {
    if (this.lastResponse.GameOver);
    else {
        var e = new VsBonusGamePlayerChoice(t);
        EventManager.Trigger(GameEvents.evtBonusPickRequest + this.xtLayer.gameSymbol, e)
    }
}, BonusPickConnection.prototype.SendCustomItemPick = function (t, e) {
    if (this.lastResponse.GameOver);
    else {
        var i = new VsBonusGamePlayerChoice(t);
        i.PickType = e, EventManager.Trigger(GameEvents.evtBonusPickRequest + this.xtLayer.gameSymbol, i)
    }
}, BonusPickConnection.prototype.SendBonusRespin = function () {
    this.lastResponse.GameOver || this.lastResponse.currentBonusRespin == this.lastResponse.maxBonusRespins && this.lastResponse.ExtraRetriggersWon <= 0 || EventManager.Trigger(GameEvents.evtBonusRespinRequest + this.xtLayer.gameSymbol, null)
}, BonusPickConnection.prototype.OnBonusGameFinished = function () {
    (this.GameOver() || this.lastResponse.currentBonusRespin == this.lastResponse.maxBonusRespins && 0 != this.lastResponse.currentBonusRespin && 0 != this.lastResponse.maxBonusRespins) && EventManager.Trigger(GameEvents.evtBonusFinishRequest + this.xtLayer.gameSymbol, null)
}, BonusPickConnection.prototype.SetupHandlers = function () {
    EventManager.AddHandler(GameEvents.evtBonusInitResponse + this.xtLayer.gameSymbol, this.HandlerBonusGameInit, this), EventManager.AddHandler(GameEvents.evtBonusPickResponse + this.xtLayer.gameSymbol, this.HandlerPlayerSelection, this), EventManager.AddHandler(GameEvents.evtBonusRespinResponse + this.xtLayer.gameSymbol, this.HandlerBonusRespin, this)
}, BonusPickConnection.prototype.OnDestroy = function () {}, BonusPickConnection.prototype.HandlerBonusGameInit = function (t) {
    this.vsResponse = t, this.lastResponse = t.GetVsBonusGameData(), null != this.lastResponse && (this.xtLayer.SetSpinCycleWinValue(t.SpinCycleWin), this.xtLayer.SendBonusInitDone())
}, BonusPickConnection.prototype.HandlerPlayerSelection = function (t) {
    if (this.vsResponse = t, this.xtLayer.SetProgressiveFeatureData(t.ProgressiveData), XT.GetBool(Vars.UpdateFSResponseOnBonusPick) && this.xtLayer.SetFreeSpinResponseReceived(t.GetVsFreeSpin()), this.lastResponse = t.GetVsBonusGameData(), null != this.lastResponse) {
        t.IsBonusGameOver() && t.NextGameActions.indexOf(NextGameAction.Bonus) > -1 && this.xtLayer.SetMustOpenBonus(!0, !1), XT.GetBool(Vars.PartiallyUpdateSpinResponseOnBonusPick) && this.SetPartialSpinResponseInBonus(), XT.GetBool(Vars.UpdateRespinDataOnBonusPick) && this.xtLayer.SetRespinData(t.Respin), this.xtLayer.SetOpeningSymbolsData(t.OpeningSymbolsData), this.xtLayer.SetSpinCycleWinValue(t.SpinCycleWin), this.xtLayer.SendBonusResponse(), this.xtLayer.UpdateBonusFSResponseValues(t);
        var e = XT.GetObject(Vars.ReelSets);
        null != e && t.ReelSetIndex >= 0 && this.xtLayer.InitNextReelSymbols(e[t.ReelSetIndex]), this.xtLayer.SetGambleV2Response(t.gambleV2Data), t.HasFreeSpinOptions() && this.xtLayer.MustOpenFSOptions(t.FreeSpinsOptions), XT.TriggerEvent(FOXVars.Evt_FOX_AfterPickBonusReceived)
    }
}, BonusPickConnection.prototype.SetPartialSpinResponseInBonus = function () {
    if (null == this.vsResponse.SymbolsBeforeExpanding || 0 == this.vsResponse.SymbolsBeforeExpanding.length) {
        this.vsResponse.SymbolsBeforeExpanding = [];
        for (var t = 0; t < this.vsResponse.WinScreenSymbols.length; t++) this.vsResponse.SymbolsBeforeExpanding.push(this.vsResponse.WinScreenSymbols[t].slice())
    }
    if (this.xtLayer.SetResultScreenSymbols(this.vsResponse.WinScreenSymbols), this.xtLayer.SetInitialResultScreenSymbols(this.vsResponse.SymbolsBeforeExpanding), this.xtLayer.SetWinLines(this.vsResponse.VsWinLines), this.xtLayer.SetWinValue(this.lastResponse.RealWin), this.xtLayer.SetExtraAwardWin(this.vsResponse.ExtraAwardWin), this.lastResponse.currentBonusRespin == this.lastResponse.maxBonusRespins) {
        var e = 0;
        for (var i in this.vsResponse.VsWinLines) e += this.vsResponse.VsWinLines[i].WinAmount;
        this.xtLayer.SetLinesWinValue(e)
    }
}, BonusPickConnection.prototype.HandlerBonusRespin = function (t) {
    if (this.vsResponse = t, this.lastResponse = t.GetVsBonusGameData(), null != this.lastResponse) {
        if (this.xtLayer.SetSpinCycleWinValue(t.SpinCycleWin), this.xtLayer.SetResultScreenSymbols(null != this.lastResponse.winSymbols && this.lastResponse.winSymbols.length > 0 ? this.lastResponse.winSymbols : t.WinScreenSymbols), this.xtLayer.SetWinLines(t.VsWinLines), this.xtLayer.SetWinValue(this.lastResponse.RealWin), this.xtLayer.SetExtraAwardWin(t.ExtraAwardWin), this.xtLayer.SendBonusResponse(), this.xtLayer.SetMoneySymbolData(t.MoneySymbolData), this.lastResponse.currentBonusRespin == this.lastResponse.maxBonusRespins) {
            var e = 0;
            for (var i in t.VsWinLines) e += t.VsWinLines[i].WinAmount;
            this.xtLayer.SetLinesWinValue(e)
        }
        t.IsFreeSpins() && 0 != t.GetVsFreeSpin().GetMaxNumber() && t.GetVsFreeSpin().IsNeedGetMysteryScatter() && this.xtLayer.SetStartFSBG(!0), XT.TriggerEvent(FOXVars.Evt_FOX_AfterBonusRespinReceived)
    }
}, goog.require("UHT.XTLink"), goog.require("UHT.ServerOptions"), goog.require("UHT.ResourceHelpers"), goog.require("UHT.VideoSlotsConnection"), goog.require("UHT.BonusPickConnection"), goog.require("UHT.FreeSpinsResponse"), goog.require("UHT.Paytable"), VideoSlotsConnectionXTLayer.prototype = Object.create(XTLink.prototype), VideoSlotsConnectionXTLayer.prototype.constructor = VideoSlotsConnectionXTLayer, VideoSlotsConnectionXTLayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_ToServer_OnShowResult, this.OnShowResult, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_OnFreeSpinsClosed, this.OnFreeSpinClosed, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestInit, this.OnRequestInit, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestSpin, this.OnRequestSpin, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_GamblePicked, this.OnGambleV2Pick, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestGambleOpen, this.OnRequestGambleOpen, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestGambleClose, this.OnRequestGambleClose, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_BonusPickItem, this.OnBonusPick, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_BonusGameFinished, this.OnBonusGameFinished, this), XT.RegisterCallbackEvent(BGVars.Evt_ToServer_BonusPickedItem, this.OnBonusPick, this), XT.RegisterCallbackEvent(BGVars.Evt_ToServer_BonusPickedCustomItem, this.OnBonusCustomPick, this), XT.RegisterCallbackEvent(BGVars.Evt_ToServer_SendBonusRespin, this.OnSendBonusRespin, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_UpdateSettingsOnServer, this.OnUpdateSettingsOnServer, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_OpenCashier, this.OnRequestToOpenCashier, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_CloseGame, this.OnRequestToCloseGame, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_ReloadGame, this.OnRequestToReloadGame, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_ItemPickedFSBGPick, this.OnItemPickedFSBGPick, this), XT.RegisterCallbackBool(Vars.BatterySaver, this.OnBatterySaverStateChanged, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_SendGetMysteryScatter, this.SendGetMysteryScatter, this), XT.RegisterCallbackEvent(Vars.Evt_ToServer_RequestPlayJackpot, this.OnRequestPlayJackpot, this)
}, VideoSlotsConnectionXTLayer.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.ReceivedWinLines, null), XT.SetObject(Vars.PaytablePayoutData, null), XT.SetBool(Vars.FastPlay, !1), XT.SetObject(Vars.SoundState, new SoundState), XT.SetBool(Vars.ShouldDisplayIntro, !0), XT.SetInt(Vars.MobileTapToStopMessageShowCount, 0), XT.SetInt(Vars.DesktopTurboSpinMessageShowCount, 0), XT.SetBool(Vars.FromServer_IsJackpotWin, !1), XT.SetObject(Vars.BonusData, null), XT.SetInt(Vars.Lines, 0), XT.SetObject(Vars.ExpandingSymbolsData, null), XT.SetObject(Vars.FromServer_JackpotsInformation, null), XT.SetObject(Vars.ReelStopPositions, null), XT.SetBool(Vars.IgnoreServerBalanceRequest, !1), XT.SetBool(Vars.CanAnimateValues, !1), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !1), XT.SetDouble(Vars.SpinCycleWinReceived, 0), XT.SetDouble(Vars.WinReceived, 0), XT.SetObject(Vars.ReceivedFreeSpinsResponse, null), XT.SetObject(Vars.TruncatedFreeSpinsResponse, null), XT.SetObject(Vars.MarkedSymbolPositions, []), XT.SetObject(Vars.SpinOneReelData, null), XT.SetInt(Vars.ReelToBeSpun, -1), XT.SetBool(Vars.HasGameHistory, !1), XT.SetBool(Vars.VerifyGameAuthenticity, !1), XT.SetBool(Vars.HasAdvancedAutoplay, !1), XT.SetBool(Vars.BatterySaver, !1), XT.SetBool(Vars.HasCoins, !1), XT.SetDouble(Vars.AlternativeWager, -1), XT.SetBool(Vars.Jurisdiction_Clock, !1), XT.SetBool(Vars.Jurisdiction_DisableAutoplay, !1), XT.SetBool(Vars.Jurisdiction_GameTitle, !1), XT.SetBool(Vars.Jurisdiction_SplitBalance, !1), XT.SetBool(Vars.Jurisdiction_PromotionURL, !1), XT.SetBool(Vars.Autoplay_SkipScreens, !0), XT.SetBool(Vars.ShowInGameTutorial, !0), XT.SetBool(Vars.KeepSpinning, !1), XT.SetBool(Vars.Jurisdiction_SpinLimit, !1), XT.SetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit, !1), XT.SetBool(Vars.Jurisdiction_ResultMinimumTime, !1), XT.SetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins, !1), XT.SetBool(Vars.Jurisdiction_ResultMinimumTimeTurbo, !1), XT.SetBool(Vars.Jurisdiction_FinishCountersBeforeSpin, !1), XT.SetBool(Vars.Jurisdiction_LineByLineFreespin, !1), XT.SetBool(Vars.Jurisdiction_LineByLineGlobal, !1), XT.SetBool(Vars.Jurisdiction_ClientRevision, !1), XT.SetBool(Vars.Jurisdiction_GameSymbol, !1), XT.SetBool(Vars.Jurisdiction_CLMBcurrency, !1), XT.SetBool(Vars.AlternativeFreeRoundsText, !1), XT.SetBool(Vars.DontShowFRBEndWindowOnInit, !1), XT.SetBool(Vars.Jurisdiction_TournamentOptOut, !1), XT.SetBool(Vars.Jurisdiction_DisableBuyFeature, !1), XT.SetBool(Vars.Jurisdiction_GameLobbyInfoVisible, !0), XT.SetBool(Vars.Jurisdiction_GameHistoryInfoVisible, !0), XT.SetFloat(Vars.Jurisdiction_SpinLimit_Value, 3), XT.SetFloat(Vars.Jurisdiction_ResultMinimumTime_Value, 3), XT.SetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value, 3), XT.SetFloat(Vars.Jurisdiction_ResultMinimumTimeTurbo_Value, 3), XT.SetInt(Vars.Jurisdiction_MaxBetCents, 0), XT.SetInt(Vars.Jurisdiction_MaxWin, 0), XT.SetBool(Vars.Jurisdiction_Text_DE, !1), XT.SetBool(Vars.Jurisdiction_Show_X_Chance, !1), XT.SetBool(Vars.Jurisdiction_Autoplay_StopOnFeatureWin, !1), XT.SetBool(Vars.Jurisdiction_Autoplay_NoSkipScreens, !1), XT.SetObject(Vars.CustomGameStoredData, {}), XT.SetInt(Vars.ReelSetIndexPrevious, -1), XT.SetInt(Vars.ReelSetIndexCurrent, -1), XT.SetBool(Vars.BonusTriggersFSBG, !1), XT.SetBool(Vars.BonusTriggeredFSBGIsMystery, !1), XT.SetBool(Vars.OpenFSBGForMysteryScatter, !1), XT.SetFloat(Vars.SoundVolume, 1), XT.SetBool(Vars.IsNoMoneySpin, !1), XT.SetObject(Vars.InitialScreen, null), XT.SetObject(Vars.InitialRandomAward, null), XT.SetDouble(Vars.BalanceReceived, 0), XT.SetDouble(Vars.BonusBalanceReceived, 0), XT.SetBool(Vars.InstantAutoplay, !1), XT.SetObject(InterfaceVars.SpinButtonPositionLandscape, null), XT.SetObject(InterfaceVars.SpinButtonPositionPortrait, null), XT.SetBool(InterfaceVars.SpinButtonPositionLocked, !0), XT.SetBool(Vars.DisableIntroScreen, !1), XT.SetBool(Vars.BonusRoundCanBePlayedLater, !1), XT.SetBool(Vars.UserChoseToPlayLater, !1), XT.SetBool(Vars.DisableStopButton, !1), XT.SetBool(Vars.DisableFastPlay, !1), XT.SetBool(Vars.DisableNoMoneyMessageFromServer, !1), XT.SetBool(Vars.ShowIncompleteGame, !1), XT.SetBool(Vars.ShowNetPosition, !1), XT.SetBool(Vars.Jurisdiction_DisableAnteBet, !1), XT.SetBool(Vars.Jurisdiction_DisableSuperSpin, !1), XT.SetBool(Vars.Jurisdiction_ShowSessionUptime, !1), XT.SetBool(Vars.Jurisdiction_ShowHoursInSessionUptime, !1), XT.SetBool(Vars.Jurisdiction_DisableContinousSpin, !1), XT.SetBool(Vars.Jurisdiction_WinUp_Text, !1), XT.SetDouble(Vars.BonusRoundEndDateTimestamp, -1), XT.SetBool(Vars.BonusRoundWonFromDDW, !1), XT.SetString(Vars.BonusRoundPromoType, ""), XT.SetBool(Vars.Jurisdiction_GameEngineVersion, !1), XT.SetBool(Vars.Jurisdiction_NoSpinToWin, !1), XT.SetBool(Vars.Jurisdiction_NoSmallWinCount, !1), XT.SetObject(Vars.MysteryScatterSymbolIds, []), XT.SetObject(Vars.BonusRoundsEvents, null), XT.SetObject(Vars.PlayJackpotData, null), XT.SetBool(Vars.MustPlayJackpot, !1), XT.SetDouble(Vars.ExtraSessionWin, 0)
}, VideoSlotsConnectionXTLayer.prototype.AddServerCallbacks = function () {
    EventManager.AddHandler(GameEvents.evtSoundState + this.gameSymbol, this.OnSoundState, this), EventManager.AddHandler(GameEvents.evtGameStatus + this.gameSymbol, this.OnGameStatus, this), EventManager.AddHandler(BalanceEvents.evtBalanceUpdated, this.OnServerBalanceUpdated, this), EventManager.AddHandler(GameEvents.evtSettingsUpdated + this.gameSymbol, this.OnSettingsUpdated, this), EventManager.AddHandler(GameEvents.evtSettingsNotSaved, this.OnSettingsNotSaved, this), EventManager.AddHandler(ResourceEvents.evtResourcesCompleted + this.gameSymbol, this.OnResourcesCompleted, this)
}, VideoSlotsConnectionXTLayer.prototype.OnConnectionReady = function (t) {
    this.gameSymbol = t, this.vsc = this.gameObject.AddComponent("VideoSlotsConnection"), this.vsc.xtLayer = this, this.bonusConnection = this.gameObject.AddComponent("BonusPickConnection"), this.bonusConnection.xtLayer = this, this.AddServerCallbacks(), this.vsc.AddServerCallbacks(), this.bonusConnection.SetupHandlers(), this.SetInitialSoundState(ServerOptions.isExternal), EventManager.Trigger(GameEvents.evtInitRequest + t, null), EventManager.Trigger(ResourceEvents.evtRequestResources, t)
}, VideoSlotsConnectionXTLayer.prototype.OnServerBalanceUpdated = function (t) {
    this.SetBalance(t.Balance, !1), this.SetBonusBalance(t.BonusBalance)
}, VideoSlotsConnectionXTLayer.prototype.OnBatterySaverStateChanged = function (t) {
    UHTEngine.SetBatterySaverState(t)
}, VideoSlotsConnectionXTLayer.prototype.OnSettingsUpdated = function (t) {
    this.UpdateSettings(!0, t), this.settingsReceived = !0, this.CanTriggerInitReady() && this.TriggerInitReady()
}, VideoSlotsConnectionXTLayer.prototype.OnSettingsNotSaved = function (t) {}, VideoSlotsConnectionXTLayer.prototype.OnUpdateSettingsOnServer = function () {
    this.timeInCooldown = 0, this.needToSendSettingsToServer = !0, XT.GetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer) && (XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !1), this.isInCoolDown = !1)
}, VideoSlotsConnectionXTLayer.prototype.OnResourcesCompleted = function (t) {
    LoaderProgress.Localize_Current = 1;
    for (var e = 0; e < t.assetBundles.length; ++e) {
        var i = UHTEngine.LoadAssetBundle(t.assetBundles[e].mainAsset, ServerOptions.gameUrl + "packages/"),
            n = i.GetComponent(ModificationsManager),
            o = i.GetComponent(CurrencyPatch);
        null != n && n.Init(), null != o && (o.currencyName = ServerOptions.currency, o.languageName = ServerOptions.language, XT.GetBool(Vars.Jurisdiction_CLMBcurrency) && (o.languageName += "_COP"), o.localeName = null != UHT_GAME_CONFIG_SRC.locale ? UHT_GAME_CONFIG_SRC.locale : ServerOptions.language, XT.GetBool(Vars.Jurisdiction_CLMBcurrency) && (o.localeName += "_COP"), LocaleManager.Init(o))
    }
    t.assetBundles = [], null != XT.GetObject(Vars.PaytablePayoutData) && XT.TriggerEvent(Vars.Evt_Internal_PaytablePayoutUpdate), this.resourcesLoaded = !0, ModificationsManager.Applied = !0, this.CanTriggerInitReady() && this.TriggerInitReady()
}, VideoSlotsConnectionXTLayer.prototype.UpdateSettings = function (t, e) {
    var i, n = !1;
    if (t || (e.Settings = {}), ServerOptions.isReplay && t && (e.Settings.SoundState = "false_false_false_true_true"), t && null != e.Settings.SoundState) {
        var o = (i = e.Settings.SoundState).split("_");
        this.SetSoundState(_bool.Parse(o[0]), _bool.Parse(o[1]), _bool.Parse(o[2]), _bool.Parse(o[3]), _bool.Parse(o[4]))
    } else {
        var s = XT.GetObject(Vars.SoundState);
        e.Settings.SoundState = [s.gameSoundIsOn.toString(), s.musicIsOn.toString(), s.soundFXIsOn.toString(), s.oldMusicIsOn.toString(), s.oldSoundFXIsOn.toString()].join("_"), n = !0, this.SetSoundState(s.gameSoundIsOn, s.musicIsOn, s.soundFXIsOn, s.oldMusicIsOn, s.oldSoundFXIsOn)
    }
    if (t && null != e.Settings.FastPlay) i = e.Settings.FastPlay, XT.SetBool(Vars.FastPlay, _bool.Parse(i));
    else {
        var a = XT.GetBool(Vars.FastPlay);
        e.Settings.FastPlay = String(a), n = !0
    }
    if (t && null != e.Settings.Intro) i = e.Settings.Intro, XT.SetBool(Vars.ShouldDisplayIntro, _bool.Parse(i));
    else {
        var r = XT.GetBool(Vars.ShouldDisplayIntro);
        e.Settings.Intro = String(r), n = !0
    }
    t && null != e.Settings.StopMsg ? (i = e.Settings.StopMsg, XT.SetInt(Vars.MobileTapToStopMessageShowCount, _number.otoi(i))) : (i = XT.GetInt(Vars.MobileTapToStopMessageShowCount).toString(), e.Settings.StopMsg = i, n = !0);
    t && null != e.Settings.TurboSpinMsg ? (i = e.Settings.TurboSpinMsg, XT.SetInt(Vars.DesktopTurboSpinMessageShowCount, _number.otoi(i))) : (i = XT.GetInt(Vars.DesktopTurboSpinMessageShowCount).toString(), e.Settings.TurboSpinMsg = i, n = !0);
    if (t && null != e.Settings.BetInfo) {
        var l = (i = e.Settings.BetInfo).split("_");
        CoinManager.SetPreviousBetIndices(_number.otoi(l[0]), _number.otoi(l[1]))
    } else {
        var u = XT.GetInt(Vars.NextBetIndex),
            h = XT.GetInt(Vars.CoinValueIndex);
        i = (u.toString() + "_" + h.toString()).toString(), e.Settings.BetInfo = i, n = !0
    }
    if (t && null != e.Settings.Rated) {
        var c = _bool.Parse(e.Settings.Rated);
        XT.SetBool(Vars.GameIsRated, c), XT.SetBool(Vars.RatingSkipped, !c)
    } else {
        c = XT.GetBool(Vars.GameIsRated);
        var p = XT.GetBool(Vars.RatingSkipped);
        (c || p) && (e.Settings.Rated = String(c), n = !0)
    }
    if (t && null != e.Settings.BrowserWarningShown) {
        var d = _bool.Parse(e.Settings.BrowserWarningShown);
        XT.SetBool(Vars.BrowserWarningShown, d)
    } else {
        (d = XT.GetBool(Vars.BrowserWarningShown)) && (e.Settings.BrowserWarningShown = String(d), n = !0)
    }
    if (t && null != e.Settings.BatterySaver ? XT.SetBool(Vars.BatterySaver, _bool.Parse(e.Settings.BatterySaver)) : (e.Settings.BatterySaver = XT.GetBool(Vars.BatterySaver).toString(), n = !0), t && null != e.Settings.ShowIGT) XT.SetBool(Vars.ShowInGameTutorial, _bool.Parse(e.Settings.ShowIGT));
    else {
        var m = XT.GetBool(Vars.ShowInGameTutorial);
        m || (e.Settings.ShowIGT = String(m), n = !0)
    }
    if (t && null != e.Settings.ShowCCH ? XT.SetBool(InterfaceVars.ShowCoinsAndCashHint, _bool.Parse(e.Settings.ShowCCH)) : (e.Settings.ShowCCH = String(XT.GetBool(InterfaceVars.ShowCoinsAndCashHint)), n = !0), t && null != e.Settings.ShowFPH ? XT.SetBool(InterfaceVars.ShowFastPlayHint, _bool.Parse(e.Settings.ShowFPH)) : (e.Settings.ShowFPH = String(XT.GetBool(InterfaceVars.ShowFastPlayHint)), n = !0), t && null != e.Settings.CustomGameStoredData) {
        var S = e.BuildDictionaryFromString(e.Settings.CustomGameStoredData, "~", ":");
        XT.SetObject(Vars.CustomGameStoredData, S), XT.TriggerEvent(Vars.Evt_Internal_CustomGameStoredDataReceived)
    } else {
        var g = XT.GetObject(Vars.CustomGameStoredData);
        e.Settings.CustomGameStoredData = e.DictionaryToString(g, "~", ":"), n = !0
    }
    if (t) {
        var y = !1;
        "CURRENCY" != ServerOptions.amountType && null != e.Settings.Coins && (y = _bool.Parse(e.Settings.Coins)), XT.SetBool(Vars.HasCoins, y)
    } else e.Settings.Coins = String(XT.GetBool(Vars.HasCoins)), n = !0;
    if (t && null != e.Settings.Volume ? XT.SetFloat(Vars.SoundVolume, _number.otod(e.Settings.Volume)) : (e.Settings.Volume = String(XT.GetFloat(Vars.SoundVolume)), n = !0), t && null != e.Settings.InitialScreen) {
        for (var f = [], b = e.Settings.InitialScreen.split("_"), T = 0; T < b.length; ++T) f.push(_array.ConvertAll(b[T].split(","), _number.otoi));
        XT.SetObject(Vars.InitialScreen, f)
    } else if (this.handlerGameInitReceived) {
        null == (f = XT.GetObject(Vars.InitialScreen)) && (f = XT.GetObject(Vars.FirstScreenSymbols), XT.SetObject(Vars.InitialScreen, f));
        for (b = [], T = 0; T < f.length; ++T) b.push(f[T].join(","));
        e.Settings.InitialScreen = b.join("_"), n = !0
    }
    if (t && null != e.Settings.InitialRandomAward) {
        var C = new RandomAwardsResponse,
            A = (b = e.Settings.InitialRandomAward.split("_"), parseInt(b[0], 10));
        isFinite(A) && !isNaN(A) && (C.awardIndex = A), A = parseInt(b[1], 10), isFinite(A) && !isNaN(A) && (C.awardPositionInReel = A), XT.SetObject(Vars.InitialRandomAward, C)
    } else if (this.handlerGameInitReceived) {
        if (null == (C = XT.GetObject(Vars.InitialRandomAward)) && (C = XT.GetObject(Vars.RandomAwardsResponse), XT.SetObject(Vars.InitialRandomAward, C)), null != C)(b = []).push(C.awardIndex.toString()), b.push(C.awardPositionInReel.toString()), e.Settings.InitialRandomAward = b.join("_"), n = !0
    }
    if (t && null != e.Settings.SBPLock ? XT.SetBool(InterfaceVars.SpinButtonPositionLocked, _bool.Parse(e.Settings.SBPLock)) : (e.Settings.SBPLock = String(XT.GetBool(InterfaceVars.SpinButtonPositionLocked)), n = !0), t && null != e.Settings.SBPLand) {
        var v = e.Settings.SBPLand.split("_");
        XT.SetObject(InterfaceVars.SpinButtonPositionLandscape, new UHTMath.Vector3(_number.otod(v[0]), _number.otod(v[1]), 0))
    } else {
        if (null != (L = XT.GetObject(InterfaceVars.SpinButtonPositionLandscape))) {
            var M = L;
            e.Settings.SBPLand = String(M.x) + "_" + String(M.y), n = !0
        }
    }
    if (t && null != e.Settings.SBPPort) {
        v = e.Settings.SBPPort.split("_");
        XT.SetObject(InterfaceVars.SpinButtonPositionPortrait, new UHTMath.Vector3(_number.otod(v[0]), _number.otod(v[1]), 0))
    } else {
        var L;
        if (null != (L = XT.GetObject(InterfaceVars.SpinButtonPositionPortrait))) {
            M = L;
            e.Settings.SBPPort = String(M.x) + "_" + String(M.y), n = !0
        }
    }
    n && EventManager.Trigger(GameEvents.evtUpdateSettingsRequest + this.gameSymbol, e)
}, VideoSlotsConnectionXTLayer.prototype.OnGameStatus = function (t) {}, VideoSlotsConnectionXTLayer.prototype.OnSoundState = function (t) {
    this.internalGlobalSoundIsOn = t.state == CasinoSoundState.SoundOn, XT.GetObject(Vars.SoundState).globalSoundIsOn = this.internalGlobalSoundIsOn, XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged)
}, VideoSlotsConnectionXTLayer.prototype.UpdateReelSetIndexes = function (t) {
    XT.SetInt(Vars.ReelSetIndexPrevious, XT.GetInt(Vars.ReelSetIndexCurrent)), XT.SetInt(Vars.ReelSetIndexCurrent, t)
}, VideoSlotsConnectionXTLayer.prototype.InitReelSymbols = function (t) {
    XT.SetObject(Vars.ReelSymbols, t)
}, VideoSlotsConnectionXTLayer.prototype.InitNextReelSymbols = function (t) {
    XT.SetObject(Vars.NextReelSymbols, t)
}, VideoSlotsConnectionXTLayer.prototype.SetReelSets = function (t) {
    XT.SetObject(Vars.ReelSets, t)
}, VideoSlotsConnectionXTLayer.prototype.SetStackedSymbolIndex = function (t) {
    XT.SetInt(Vars.StackedSymbolIndex, t)
}, VideoSlotsConnectionXTLayer.prototype.InitReelsPositions = function (t) {
    XT.SetObject(Vars.ReelInitialPositions, t)
}, VideoSlotsConnectionXTLayer.prototype.SetReelStopPositions = function (t) {
    XT.SetObject(Vars.ReelStopPositions, t)
}, VideoSlotsConnectionXTLayer.prototype.RequirementsSetup = function () {
    var t = ServerOptions.jurisdictionRequirements + "," + ServerOptions.brandRequirements;
    XT.SetBool(Vars.HasGameHistory, null != ServerOptions.gameHistory), XT.SetBool(Vars.VerifyGameAuthenticity, null != ServerOptions.gameVerificationUrl), "UK" == ServerOptions.jurisdiction && XT.SetBool(Vars.Jurisdiction_GameTitle, !0), "PT" == ServerOptions.jurisdiction && XT.SetBool(Vars.Jurisdiction_Clock, !0);
    for (var e = t.split(","), i = 0; i < e.length; ++i)
        if ("AAP" == e[i]) XT.SetBool(Vars.HasAdvancedAutoplay, !0);
        else if (0 == e[i].indexOf("SS")) {
        var n = e[i].substr(2),
            o = _number.otoi(n) / 10;
        XT.SetBool(Vars.Jurisdiction_SpinLimit, !0), XT.SetFloat(Vars.Jurisdiction_SpinLimit_Value, o)
    } else if (0 == e[i].indexOf("SR")) {
        n = e[i].substr(2), o = _number.otoi(n) / 10;
        XT.SetBool(Vars.Jurisdiction_ResultMinimumTime, !0), XT.SetFloat(Vars.Jurisdiction_ResultMinimumTime_Value, o)
    } else if (0 == e[i].indexOf("ST")) {
        n = e[i].substr(2), o = _number.otoi(n) / 10;
        XT.SetBool(Vars.Jurisdiction_ResultMinimumTimeTurbo, !0), XT.SetFloat(Vars.Jurisdiction_ResultMinimumTimeTurbo_Value, o)
    } else if (0 == e[i].indexOf("SB")) {
        n = e[i].substr(2), o = _number.otoi(n) / 10;
        XT.SetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins, !0), XT.SetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value, o), XT.SetFloat(Vars.SpinDuration, o)
    } else if (0 == e[i].indexOf("MAX" + ServerOptions.currency + "BET")) {
        var s = "MAX" + ServerOptions.currency + "BET";
        n = e[i].substr(s.length), o = _number.otoi(n);
        XT.SetInt(Vars.Jurisdiction_MaxBetCents, o)
    } else if (0 == e[i].indexOf("MAX" + ServerOptions.currency + "WIN")) {
        s = "MAX" + ServerOptions.currency + "WIN", n = e[i].substr(s.length), o = _number.otoi(n);
        XT.SetInt(Vars.Jurisdiction_MaxWin, o)
    } else "CLK" == e[i] ? XT.SetBool(Vars.Jurisdiction_Clock, !0) : "CLS" == e[i] ? XT.SetBool(Vars.Jurisdiction_Clock_Server, !0) : "GT" == e[i] ? XT.SetBool(Vars.Jurisdiction_GameTitle, !0) : "NOAP" == e[i] ? XT.SetBool(Vars.Jurisdiction_DisableAutoplay, !0) : "MALL" == e[i] ? XT.SetBool(Vars.Jurisdiction_MandatoryAutoplayLossLimit, !0) : "LBLFS" == e[i] ? XT.SetBool(Vars.Jurisdiction_LineByLineFreespin, !0) : "LBLG" == e[i] ? XT.SetBool(Vars.Jurisdiction_LineByLineGlobal, !0) : "BALS" == e[i] ? XT.SetBool(Vars.Jurisdiction_SplitBalance, !0) : "PURL" == e[i] ? XT.SetBool(Vars.Jurisdiction_PromotionURL, !0) : "CREV" == e[i] ? XT.SetBool(Vars.Jurisdiction_ClientRevision, !0) : "GSYM" == e[i] ? XT.SetBool(Vars.Jurisdiction_GameSymbol, !0) : "FCBS" == e[i] ? XT.SetBool(Vars.Jurisdiction_FinishCountersBeforeSpin, !0) : "COCA" == e[i] ? (ServerOptions.amountType = "CURRENCY", this.SetHasCoins(!1)) : "CLMB" == e[i] ? XT.SetBool(Vars.Jurisdiction_CLMBcurrency, !0) : "PORC" == e[i] ? XT.SetBool(Vars.Jurisdiction_TournamentOptOut, !0) : "NOBF" == e[i] ? XT.SetBool(Vars.Jurisdiction_DisableBuyFeature, !0) : "NOI" == e[i] ? XT.SetBool(Vars.GameHasIntro, !1) : "NOST" == e[i] ? XT.SetBool(Vars.DisableStopButton, !0) : "NOFP" == e[i] ? XT.SetBool(Vars.DisableFastPlay, !0) : "NOMM" == e[i] ? XT.SetBool(Vars.DisableNoMoneyMessageFromServer, !0) : "DETXT" == e[i] ? XT.SetBool(Vars.Jurisdiction_Text_DE, !0) : "SHOXC" == e[i] ? XT.SetBool(Vars.Jurisdiction_Show_X_Chance, !0) : "NORP" == e[i] ? window.UHT_REPLAY_DISABLED = !0 : "AP_STFW" == e[i] ? XT.SetBool(Vars.Jurisdiction_Autoplay_StopOnFeatureWin, !0) : "AP_NOSKP" == e[i] ? (XT.SetBool(Vars.Jurisdiction_Autoplay_NoSkipScreens, !0), XT.SetBool(Vars.Autoplay_SkipScreens, !1)) : "SHOIG" == e[i] ? XT.SetBool(Vars.ShowIncompleteGame, !0) : "SHONP" == e[i] ? XT.SetBool(Vars.ShowNetPosition, !0) : "NOAB" == e[i] ? XT.SetBool(Vars.Jurisdiction_DisableAnteBet, !0) : "SISU" == e[i] ? XT.SetBool(Vars.Jurisdiction_ShowSessionUptime, !0) : "GEV" == e[i] ? XT.SetBool(Vars.Jurisdiction_GameEngineVersion, !0) : "NOSTW" == e[i] ? XT.SetBool(Vars.Jurisdiction_NoSpinToWin, !0) : "NOSWC" == e[i] ? XT.SetBool(Vars.Jurisdiction_NoSmallWinCount, !0) : "NOSS" == e[i] ? XT.SetBool(Vars.Jurisdiction_DisableSuperSpin, !0) : "SISUH" == e[i] ? XT.SetBool(Vars.Jurisdiction_ShowHoursInSessionUptime, !0) : "HODOR" == e[i] ? XT.SetBool(Vars.Jurisdiction_DisableContinousSpin, !0) : "WINUPTXT" == e[i] ? XT.SetBool(Vars.Jurisdiction_WinUp_Text, !0) : "SHOEXC" == e[i] ? XT.SetBool("Jurisdiction_ShowOddsOnScreen", !0) : "NWTXT" == e[i] ? XT.SetBool("Jurisdiction_ShowNWText", !0) : "HIDAB" == e[i] && XT.SetBool("Jurisdiction_HideAnteBet", !0)
}, VideoSlotsConnectionXTLayer.prototype.InitReceived = function () {
    this.handlerGameInitReceived = !0, this.CanTriggerInitReady() && this.TriggerInitReady()
};
var GLOBAL_TIME_RESPONSE_RECEIVED = -1;

function ServerInterface() {
    Component.call(this), this.userName = "", this.userPass = "", this.domain = "", this.isExternal = !1, this.xtLayer = null, this.configFile = null, this.counter = 0
}

function Special_Symbol() {
    Component.call(this), this.symbolId = 0, this.willHighlightOffAfterExciteWin = !0, this.eventNormal = null, this.eventSpinStart = null, this.eventSpinLoop = null, this.eventSpinStop = null, this.eventHighlightOff = null, this.eventHighlightOn = null, this.eventExcited = null, this.eventWinExcited = null, this.eventWinning = null, this.eventSpinLoopExcited = null, this.eventFSHighlightOff = null, this.eventStart = null, this.eventStop = null, this.currentStateForInspector = Special_Symbol.State.Invalid, this.internalState = Special_Symbol.State.Invalid, this.lastQueuedState = Special_Symbol.State.Invalid, this.commands = [], this.stopEventSent = !1, this.canProcessNextCommand = !0
}

function Special_SymbolsManager() {
    XTLink.call(this), this.pool = null, this.symbols = [], this.symbolIdToIndexMap = [], this.pooledSymbols = [], this.disablePoolNextFrame = !1, this.defaultBufferAmount = 10, this.currentInitSymbol = -1
}

function StageInit() {
    UHTStage.call(this), this.initShow = null, this.introShow = null, this.introHide = null, this.XTRoot = null, this.manualRespin = !1, this.totalNumberOfLines = -1, this.linesForMinBet = -1, this.linesForMaxBet = -1, this.hasWaysInsteadOfLines = !1, this.hasLinesWithBetMultiplier = !1, this.hasAnteBet = !1, this.paysBothWays = !1, this.hasCustomGamble = !1, this.hasIntro = !1, this.triggerBonusBeforeResult = !1, this.scatterIsWild = !1, this.freeSpinsStartNeedsConfirmation = !1, this.bonusWinIsSeparated = !1, this.instantlyCollectBonusWin = !1, this.opaqueInterface = !0, this.hasReelAwareSymbolContent = !1, this.truncateFSResponseDuringRespin = !1, this.updateFSResponseOnBonusPick = !0, this.partiallyUpdateSpinResponseOnBonusPick = !1, this.allowBonusPickDuringBonusRespin = !1, this.combineWildsInPaytableById = !1, this.updateRespinDataOnBonusPick = !1, this.noInitBonusGameTypes = [], this.noInitBonusGameIds = [], this.payingSymbolsDisplayServerID = !1, this.canTriggerBigWinBeforeBonus = !1, this.forcedGoToSpin = !1, this.numberOfBetLevels = 10, this.minimumJackpotBigWinDuration = 99999, this.defaultGameWindowOverride = null, this.showGamePaysAsWinTeaser = !1, this.GUIDynamicMessagesDelay = .5, this.GUICustomFSLeftMessage = "default", this.GUICustomFSLeft_usesCATEvents = !0, this.showExplicitResult = !1, this.initReceived = !1, this.introClosed = !1, this.canGoToNextStage = !1, this.fastPlayChangesBetweenSpins = !1, this.bFastPlayRequestedValue = !1, this.bFastPlayBeforeSpinValue = !1, this.bFastPlayManuallySet = !1, this.bSpinInProgress = !1, this.waitForCustomDataInit = 0, this.differentSpinGetsRushedByTurboSpin = !0
}
VideoSlotsConnectionXTLayer.prototype.SpinResultReceived = function () {
    XT.TriggerEvent(Vars.Evt_FromServer_SpinResultReceived), GLOBAL_TIME_RESPONSE_RECEIVED = globalTracking.GetTimerValue("uht_spin", "time_response_received", "SpinTracker"), globalTracking.StopTimerAndSend("uht_spin", "time_response_received", "SpinTracker")
}, VideoSlotsConnectionXTLayer.prototype.InitFirstScreenSymbols = function (t) {
    XT.SetObject(Vars.FirstScreenSymbols, t)
}, VideoSlotsConnectionXTLayer.prototype.SetNASymbolId = function (t) {
    XT.SetInt(Vars.NASymbolId, t)
}, VideoSlotsConnectionXTLayer.prototype.SetWildRandomLineMpConfig = function (t) {
    XT.SetObject(Vars.WildRandomLineMpConfig, t)
}, VideoSlotsConnectionXTLayer.prototype.SetWRLMResponse = function (t) {
    XT.SetObject(Vars.WRLMResponse, t)
}, VideoSlotsConnectionXTLayer.prototype.SetWRLMCurrentSets = function (t) {
    XT.SetObject(Vars.WRLMCurrentSets, t)
}, VideoSlotsConnectionXTLayer.prototype.SetRandomAwardsConfig = function (t) {
    XT.SetObject(Vars.RandomAwardsConfig, t)
}, VideoSlotsConnectionXTLayer.prototype.SetRandomAwardResponse = function (t) {
    XT.SetObject(Vars.RandomAwardsResponse, t)
}, VideoSlotsConnectionXTLayer.prototype.SetBetLevelSettings = function (t) {
    XT.SetObject(Vars.BetLevelSettings, t)
}, VideoSlotsConnectionXTLayer.prototype.SetFSPurchaseConfig = function (t) {
    XT.SetObject(Vars.FreeSpinsPurchaseConfig, t)
}, VideoSlotsConnectionXTLayer.prototype.SetFSPurchaseData = function (t) {
    XT.SetObject(Vars.FreeSpinsPurchaseData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetRandomSymbolMultipliers = function (t) {
    XT.SetObject(Vars.RandomSymbolMultipliers, t)
}, VideoSlotsConnectionXTLayer.prototype.SetPossibleRandomSymbolMultipliers = function (t) {
    XT.SetObject(Vars.PossibleRandomSymbolMultipliers, t)
}, VideoSlotsConnectionXTLayer.prototype.SetFreeSpinsChainData = function (t) {
    XT.SetObject(Vars.FreeSpinsChainData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetOpeningSymbolsData = function (t) {
    XT.SetObject(Vars.OpeningSymbolsData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetRandomMysterySymbolsIds = function (t) {
    XT.SetObject(Vars.RandomMysterySymbolId, t)
}, VideoSlotsConnectionXTLayer.prototype.SetInitialMysterySymbolsIds = function (t) {
    XT.SetObject(Vars.InitialMysterySymbolId, t)
}, VideoSlotsConnectionXTLayer.prototype.SetInitialBGItemValues = function (t) {
    XT.SetObject(Vars.InitBGItemValues, t)
}, VideoSlotsConnectionXTLayer.prototype.SetInitialBGItemMasks = function (t) {
    XT.SetObject(Vars.InitBGItemMasks, t)
}, VideoSlotsConnectionXTLayer.prototype.SetSpinOneReelValues = function (t) {
    XT.SetObject(Vars.SpinOneReelData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetPatternedMysterySymbols = function (t) {
    XT.SetObject(Vars.PatternedMysterySymbols, t)
}, VideoSlotsConnectionXTLayer.prototype.SetTumblingWin = function (t) {
    XT.SetDouble(Vars.TumblingWin, t)
}, VideoSlotsConnectionXTLayer.prototype.SetTumblingData = function (t) {
    XT.SetObject(Vars.TumblingData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetRandomWildsData = function (t, e) {
    XT.SetObject(Vars.RandomWildsData, t), XT.SetObject(Vars.UpSymbols_RandomWilds, e), XT.TriggerEvent(Vars.Evt_Internal_RandomWildsDataSet)
}, VideoSlotsConnectionXTLayer.prototype.SetExpandingSymbolsData = function (t) {
    XT.SetObject(Vars.ExpandingSymbolsData, t), XT.TriggerEvent(Vars.Evt_Internal_ExpandingSymbolsDataSet)
}, VideoSlotsConnectionXTLayer.prototype.SetResultScreenSymbols = function (t) {
    XT.SetObject(Vars.ResultScreenSymbols, t)
}, VideoSlotsConnectionXTLayer.prototype.SetInitialResultScreenSymbols = function (t) {
    XT.SetObject(Vars.InitialResultScreenSymbols, t)
}, VideoSlotsConnectionXTLayer.prototype.SetSymbolsAbove = function (t) {
    XT.SetObject(Vars.SymbolsAboveReels, t)
}, VideoSlotsConnectionXTLayer.prototype.SetSymbolsBelow = function (t) {
    XT.SetObject(Vars.SymbolsBelowReels, t)
}, VideoSlotsConnectionXTLayer.prototype.SetNextReelsSymbolsList = function (t) {
    XT.SetObject(Vars.NextReelsSymbolsList, t)
}, VideoSlotsConnectionXTLayer.prototype.SetWinValue = function (t) {
    t >= 0 && XT.SetDouble(Vars.WinReceived, t)
}, VideoSlotsConnectionXTLayer.prototype.SetExtraAwardWin = function (t) {
    XT.SetDouble(Vars.ExtraAwardWin, t)
}, VideoSlotsConnectionXTLayer.prototype.SetRespinCycleWin = function (t) {
    XT.SetDouble(Vars.RespinCycleWin, t)
}, VideoSlotsConnectionXTLayer.prototype.SetSpinCycleWinValue = function (t) {
    t >= 0 && XT.SetDouble(Vars.SpinCycleWinReceived, t)
}, VideoSlotsConnectionXTLayer.prototype.SetLinesWinValue = function (t) {
    XT.SetDouble(Vars.TotalLinesWinReceived, t)
}, VideoSlotsConnectionXTLayer.prototype.SetHasCoins = function (t) {
    var e = XT.GetBool(Vars.HasCoins);
    XT.SetBool(Vars.HasCoins, !e), XT.SetBool(Vars.HasCoins, e), XT.SetBool(Vars.FromServer_AllowCoins, t)
}, VideoSlotsConnectionXTLayer.prototype.SetBets = function (t, e, i) {
    CoinManager.ComputeCoinValuesAndCurrentBet(t, e, i)
}, VideoSlotsConnectionXTLayer.prototype.SetExplicitMaxTotalBet = function (t) {
    t > 0 ? XT.SetDouble(Vars.ExplicitMaxTotalBetFromServer, t) : XT.SetDouble(Vars.ExplicitMaxTotalBetFromServer, 9007199254740991)
}, VideoSlotsConnectionXTLayer.prototype.SetBetLines = function (t) {
    XT.SetInt(Vars.BetToTotalBetMultiplier, t), XT.SetInt(Vars.Lines, XT.GetBool(Vars.GameHasWaysInsteadOfLines) ? XT.GetInt(Vars.TotalNumberOfLines) : t)
}, VideoSlotsConnectionXTLayer.prototype.SetWinLines = function (t) {
    if (XT.GetBool(Vars.GameHasWaysInsteadOfLines) && !XT.GetBool(Vars.GameHasLinesWithBetMultiplier))
        for (var e = 0; e < t.length; e++) t[e].LineNumber = e;
    XT.SetObject(Vars.ReceivedWinLines, t)
}, VideoSlotsConnectionXTLayer.prototype.SetBalance = function (t, e) {
    XT.SetDouble(Vars.BalanceReceived, t), e ? XT.TriggerEvent(Vars.Evt_FromServer_BalanceUpdatedFromResult) : XT.GetBool(Vars.IgnoreServerBalanceRequest) || (XT.TriggerEvent(Vars.Evt_FromServer_BalanceUpdated), UHTInterfaceBOSS.PostMessage("post_updateBalance"))
}, VideoSlotsConnectionXTLayer.prototype.SetBonusBalance = function (t) {
    XT.SetDouble(Vars.BonusBalanceReceived, t)
}, VideoSlotsConnectionXTLayer.prototype.SetCanGambleSpinWin = function (t) {
    XT.SetBool(Vars.FromServer_CanGambleSpinWin, t)
}, VideoSlotsConnectionXTLayer.prototype.SetGambleResponse = function (t) {
    XT.SetObject(Vars.FromServer_GambleResult, t)
}, VideoSlotsConnectionXTLayer.prototype.SetGambleHistory = function (t) {
    XT.SetObject(Vars.FromServer_GambleHistory, t)
}, VideoSlotsConnectionXTLayer.prototype.SetInitialSoundState = function (t) {
    this.internalGlobalSoundIsOn = t
}, VideoSlotsConnectionXTLayer.prototype.SetSoundState = function (t, e, i, n, o) {
    var s = new SoundState;
    s.gameSoundIsOn = t, UHT_DEVICE_TYPE.MOBILE ? (s.musicIsOn = s.gameSoundIsOn, s.soundFXIsOn = s.gameSoundIsOn, s.oldMusicIsOn = !s.gameSoundIsOn, s.oldSoundFXIsOn = !s.gameSoundIsOn) : (s.musicIsOn = e, s.soundFXIsOn = i, s.oldMusicIsOn = n, s.oldSoundFXIsOn = o), s.globalSoundIsOn = this.internalGlobalSoundIsOn, XT.SetObject(Vars.SoundState, s), XT.SetBool(Vars.MusicIsOn, s.musicIsOn), XT.TriggerEvent(Vars.Evt_Internal_SoundStateChanged)
}, VideoSlotsConnectionXTLayer.prototype.SetFreeSpinResponseReceived = function (t) {
    null == this.fsr && (this.fsr = new FreeSpinsResponse), this.fsr.SetFreeSpinsResponse(t), XT.SetObject(Vars.ReceivedFreeSpinsResponse, this.fsr)
}, VideoSlotsConnectionXTLayer.prototype.SetTruncatedFSResponseReceived = function (t) {
    var e = new FreeSpinsResponse;
    e.SetFreeSpinsResponse(t), XT.SetObject(Vars.TruncatedFreeSpinsResponse, e)
}, VideoSlotsConnectionXTLayer.prototype.SetMysteryScatterSymbolIds = function (t) {
    XT.SetObject(Vars.MysteryScatterSymbolIds, t)
}, VideoSlotsConnectionXTLayer.prototype.SetStartFSBG = function (t) {
    t && this.SendGetMysteryScatter(), XT.SetBool(Vars.FromServer_MustOpenFSBG, !0)
}, VideoSlotsConnectionXTLayer.prototype.SendGetMysteryScatter = function () {
    this.vsc.SendGetMysteryScatter()
}, VideoSlotsConnectionXTLayer.prototype.SendFSBGInitDone = function () {
    XT.TriggerEvent(Vars.Evt_FromServer_InitFSBGPick)
}, VideoSlotsConnectionXTLayer.prototype.SendFSBGResponseReceived = function () {
    XT.TriggerEvent(Vars.Evt_FromServer_ResponseFSBGPick)
}, VideoSlotsConnectionXTLayer.prototype.OnShowResult = function () {
    this.vsc.OnShowResult()
}, VideoSlotsConnectionXTLayer.prototype.OnFreeSpinClosed = function () {
    this.vsc.OnFreeSpinsClosed(), this.fsr = new FreeSpinsResponse, XT.SetObject(Vars.ReceivedFreeSpinsResponse, this.fsr)
}, VideoSlotsConnectionXTLayer.prototype.OnRequestInit = function () {
    EventManager.AddHandler(GameEvents.evtConnectionReady, this.OnConnectionReady, this)
}, VideoSlotsConnectionXTLayer.prototype.OnRequestSpin = function () {
    this.vsc.SpinPressed(XT.GetInt(Vars.Lines), CoinManager.GetNextBet()), XT.SetBool(Vars.CanAnimateValues, !0);
    var t = XT.GetObject(Vars.BonusData);
    null != t && (t.justReceived = !1)
}, VideoSlotsConnectionXTLayer.prototype.OnRequestGambleOpen = function () {
    this.vsc.SendGambleOpen()
}, VideoSlotsConnectionXTLayer.prototype.OnRequestGambleClose = function () {
    XT.SetObject(Vars.FromServer_GambleHistory, null), this.vsc.SendGambleBack()
}, VideoSlotsConnectionXTLayer.prototype.OnGamblePick = function () {
    var t;
    switch (XT.SetBool(Vars.CanAnimateValues, !0), XT.GetInt(Vars.Gamble_Choice)) {
        case 0:
            t = VsGamblingRequest.GamblingChoices.Red;
            break;
        case 1:
            t = VsGamblingRequest.GamblingChoices.Black;
            break;
        case 2:
            t = VsGamblingRequest.GamblingChoices.Clubs;
            break;
        case 3:
            t = VsGamblingRequest.GamblingChoices.Spades;
            break;
        case 4:
            t = VsGamblingRequest.GamblingChoices.Diamond;
            break;
        case 5:
            t = VsGamblingRequest.GamblingChoices.Heart;
            break;
        case 6:
            t = VsGamblingRequest.GamblingChoices.Dices;
            break;
        default:
            t = VsGamblingRequest.GamblingChoices.None;
            break
    }
    this.vsc.SendGambleChoice(t)
}, VideoSlotsConnectionXTLayer.prototype.OnBonusPick = function () {
    var t = XT.GetInt(Vars.BonusPickItemIndex);
    this.bonusConnection.SendItemPick(t), XT.SetBool(Vars.CanAnimateValues, !0)
}, VideoSlotsConnectionXTLayer.prototype.OnSendBonusRespin = function () {
    this.bonusConnection.SendBonusRespin(), XT.SetBool(Vars.CanAnimateValues, !0)
}, VideoSlotsConnectionXTLayer.prototype.OnBonusCustomPick = function () {
    var t = XT.GetInt(Vars.BonusPickItemIndex);
    this.bonusConnection.SendCustomItemPick(t, -1), XT.SetBool(Vars.CanAnimateValues, !0)
}, VideoSlotsConnectionXTLayer.prototype.OnBonusGameFinished = function () {
    this.bonusConnection.OnBonusGameFinished(), XT.GetBool(Vars.BonusTriggersFSBG) && this.SetStartFSBG(XT.GetBool(Vars.BonusTriggeredFSBGIsMystery))
}, VideoSlotsConnectionXTLayer.prototype.SendBonusInitDone = function () {
    this.UpdateBonusVars(), XT.TriggerEvent(FOXVars.Evt_FOX_AfterInitBonusReceived), XT.TriggerEvent(Vars.Evt_FromServer_BonusInitDone)
}, VideoSlotsConnectionXTLayer.prototype.SendBonusResponse = function () {
    this.UpdateBonusVars(), XT.TriggerEvent(Vars.Evt_FromServer_BonusResponseReceived)
}, VideoSlotsConnectionXTLayer.prototype.UpdateBonusVars = function () {
    null == this.bonusData && (this.bonusData = new BonusData), this.bonusData.justReceived = !0, this.bonusData.GameID = this.bonusConnection.lastResponse.id, this.bonusData.GameType = this.bonusConnection.lastResponse.type, this.bonusData.WheelOfFortune = this.bonusConnection.lastResponse.wheelOfFortune, this.bonusData.Coef = this.bonusConnection.Coef(), this.bonusData.GameOver = this.bonusConnection.GameOver(), this.bonusData.Level = this.bonusConnection.Level(), this.bonusData.Life = this.bonusConnection.Life(), this.bonusData.RealWin = this.bonusConnection.RealWin(), this.bonusData.WinPoints = this.bonusConnection.WinPoints(), this.bonusData.PossibleWins = this.bonusConnection.PossibleWins(), this.bonusData.PremultipliedWin = this.bonusConnection.lastResponse.PremultipliedWin, this.bonusData.MultipliedSymbolPositions = this.bonusConnection.MultipliedSymbolPositions(), this.bonusData.RespinsTotalMultiplier = this.bonusConnection.lastResponse.RespinsTotalMultiplier, this.bonusData.ExtraRespinsWon = this.bonusConnection.lastResponse.ExtraRespinsWon, this.bonusData.ExtraRetriggersWon = this.bonusConnection.lastResponse.ExtraRetriggersWon, (XT.GetBool(Vars.UpdateBonusPickDataDuringRespins) || (0 == this.bonusConnection.lastResponse.currentBonusRespin || null != this.bonusData.MultipliedSymbolPositions) && null == this.bonusConnection.lastResponse.respinSymbols) && (this.bonusData.ItemsMarkers = this.bonusConnection.ItemsMarkers(), this.bonusData.ItemsStatus = this.bonusConnection.ItemsStatus(), this.bonusData.ItemsWins = this.bonusConnection.ItemsWins(), this.bonusData.WinsMask = this.bonusConnection.WinsMask()), this.bonusData.LifeWins = this.bonusConnection.LifeWins(), this.bonusData.currentBonusRespin = this.bonusConnection.CurrentBonusRespin(), this.bonusData.maxBonusRespins = this.bonusConnection.MaxBonusRespins(), this.bonusData.respinSymbols = this.bonusConnection.RespinSymbols(), null != this.bonusConnection.lastResponse.MultipliersTable.Markers && (this.bonusData.MultipliersMarkers = this.bonusConnection.MultipliersMarkers(), this.bonusData.MultipliersStatus = this.bonusConnection.MultipliersStatus(), this.bonusData.MultipliersWins = this.bonusConnection.MultipliersWins()), this.bonusData.MultiplierStep = this.bonusConnection.MultiplierStep(), this.bonusData.numberOfLevels = this.bonusConnection.lastResponse.numberOfLevels, null != this.bonusConnection.lastResponse.BonusTable.BGItemValues && (this.bonusData.BGItemValues = this.bonusConnection.lastResponse.BonusTable.BGItemValues), null != this.bonusConnection.lastResponse.BonusTable.BGItemMasks && (this.bonusData.BGItemMasks = this.bonusConnection.lastResponse.BonusTable.BGItemMasks), null != this.bonusConnection.lastResponse.map && (this.bonusData.Map = this.bonusConnection.lastResponse.map), XT.SetObject(Vars.BonusData, this.bonusData), XT.SetBool(BGVars.BonusDataReceived, !0)
}, VideoSlotsConnectionXTLayer.prototype.SetMustOpenBonus = function (t, e) {
    XT.SetBool(Vars.MustOpenBonus, t), XT.SetBool(Vars.MustOpenAnotherBonus, e)
}, VideoSlotsConnectionXTLayer.prototype.MustOpenFSOptions = function (t) {
    XT.SetObject(Vars.FreeSpinOptions, t), XT.SetBool(Vars.FromServer_MustOpenFSBG, !0)
}, VideoSlotsConnectionXTLayer.prototype.FreeSpinOptionsResponseReceived = function (t) {
    null == this.fsr && (this.fsr = new FreeSpinsResponse), this.fsr.SetFreeSpinsResponse(t.GetVsFreeSpin()), XT.SetObject(Vars.ReceivedFreeSpinsResponse, this.fsr), XT.SetInt(Vars.StackedSymbolIndex, t.StackedSymbolIndex), XT.SetObject(Vars.FreeSpinOptions, t.FreeSpinsOptions);
    var e = XT.GetObject(Vars.ReelSets);
    null != e && t.ReelSetIndex >= 0 && this.InitNextReelSymbols(e[t.ReelSetIndex]), XT.TriggerEvent(FOXVars.Evt_FOX_AfterPickFSOptionReceived), XT.TriggerEvent(Vars.Evt_FromServer_ResponseFSBGPick)
}, VideoSlotsConnectionXTLayer.prototype.OnItemPickedFSBGPick = function () {
    XT.SetBool(Vars.CanAnimateValues, !0);
    var t = XT.GetInt(Vars.PickedItemIndexLocal_FSBGPick),
        e = null != this.bonusConnection.vsResponse && this.bonusConnection.vsResponse.HasFreeSpinOptions();
    this.vsc.HasFreeSpinOptions() || e ? this.vsc.FSOption_SendPick(t) : this.vsc.FSBG_SendPick(t)
}, VideoSlotsConnectionXTLayer.prototype.SetJackpotState = function (t) {
    var e = -1;
    null != t && t.JackpotID > 0 && (e = 0), XT.SetInt(Vars.CurrentlyDisplayedJackpot, e)
}, VideoSlotsConnectionXTLayer.prototype.SetJackpotWon = function (t, e, i) {
    XT.SetDouble(Vars.FromServer_JackpotAmountWon, i), XT.SetInt(Vars.FromServer_JackpotWonID, t), XT.SetInt(Vars.FromServer_JackpotWonOrder, e), XT.SetBool(Vars.FromServer_IsJackpotWin, !0), XT.SetBool(Vars.MustShowJackpotWon, !0)
}, VideoSlotsConnectionXTLayer.prototype.SetJackpotsInfo = function (t) {
    var e = XT.GetObject(Vars.FromServer_JackpotsInformation);
    null != e ? XT.SetObject(Vars.FromServer_LastValidJackpotsInformation, e) : XT.SetObject(Vars.FromServer_LastValidJackpotsInformation, t), XT.SetObject(Vars.FromServer_JackpotsInformation, t)
}, VideoSlotsConnectionXTLayer.prototype.SetJackpotVisualization = function (t) {
    XT.SetObject(Vars.JackpotVisualization, t)
}, VideoSlotsConnectionXTLayer.prototype.SetGoldSymbol = function (t) {
    XT.SetObject(Vars.GoldSymbol, t)
}, VideoSlotsConnectionXTLayer.prototype.SetSymbolReplacementData = function (t) {
    XT.SetObject(Vars.SymbolReplacementData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetPaytableInfo = function (t) {
    XT.SetObject(Vars.PaytablePayoutData, t), XT.TriggerEvent(Vars.Evt_Internal_PaytablePayoutUpdate)
}, VideoSlotsConnectionXTLayer.prototype.SetRespinData = function (t) {
    null != t && null != t.TotalRespins && (t.IsDone = !0), XT.SetObject(Vars.RespinData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetProgressiveFeatureConfig = function (t) {
    XT.SetObject(Vars.ProgressiveFeatureConfig, t)
}, VideoSlotsConnectionXTLayer.prototype.SetProgressiveFeatureData = function (t) {
    XT.SetObject(Vars.ProgressiveFeatureData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetMoneySymbolConfig = function (t) {
    XT.SetObject(Vars.MoneySymbolConfig, t)
}, VideoSlotsConnectionXTLayer.prototype.SetMoneySymbolData = function (t) {
    XT.SetObject(Vars.MoneySymbolData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetStickySymbolsData = function (t) {
    XT.SetObject(Vars.StickySymbolsData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetMergingSymbolsData = function (t) {
    XT.SetObject(Vars.MergingSymbolsData, t)
}, VideoSlotsConnectionXTLayer.prototype.SetNudgedSymbolsData = function (t) {
    XT.SetObject(Vars.NudgedSymbols, t)
}, VideoSlotsConnectionXTLayer.prototype.Update = function () {
    if (this.isInCoolDown && (this.timeInCooldown += Time.deltaTime, this.timeInCooldown > 3 && (this.isInCoolDown = !1)), !this.isInCoolDown && this.needToSendSettingsToServer) {
        var t = new GameSettings;
        this.UpdateSettings(!1, t), this.needToSendSettingsToServer = !1, this.isInCoolDown = !0, this.timeInCooldown = 0
    }
    this.mustTriggerDelayedGameLoadingFinished && Time.frameCount - this.delayedGameLoadingFinishedFrameCount > 5 && (EventManager.Trigger(ApplicationEvents.evtGameLoadingFinished, this.gameSymbol), ServerOptions.isReplay || (Globals.InputBlocked = !1), this.mustTriggerDelayedGameLoadingFinished = !1)
}, VideoSlotsConnectionXTLayer.prototype.OnRequestToOpenCashier = function () {
    EventManager.Trigger(AdapterEvents.evtOpenCashier, null)
}, VideoSlotsConnectionXTLayer.prototype.OnRequestToCloseGame = function () {
    UHTInterfaceBOSS.PostMessage("gameQuit"), EventManager.Trigger(AdapterEvents.evtCloseGame, null)
}, VideoSlotsConnectionXTLayer.prototype.OnRequestToReloadGame = function () {
    EventManager.Trigger(AdapterEvents.evtReload, null)
}, VideoSlotsConnectionXTLayer.prototype.SetGambleSettings = function (t, e, i, n, o) {
    XT.SetBool(Vars.CanGamble_Spin, t), XT.SetBool(Vars.CanGamble_FreeSpin, e), XT.SetBool(Vars.CanGamble_Bonus, i), XT.SetDouble(Vars.Gamble_ColorMultiplier, n), XT.SetDouble(Vars.Gamble_SuitMultiplier, o)
}, VideoSlotsConnectionXTLayer.prototype.SetReturnToPlayer = function (t) {
    XT.SetDouble(Vars.ReturnToPlayer, t)
}, VideoSlotsConnectionXTLayer.prototype.SetReturnToPlayerMin = function (t) {
    XT.SetDouble(Vars.ReturnToPlayerMin, t)
}, VideoSlotsConnectionXTLayer.prototype.SkipResultDisplayOnInit = function () {
    XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion, !0)
}, VideoSlotsConnectionXTLayer.prototype.CanTriggerInitReady = function () {
    return this.handlerGameInitReceived && this.settingsReceived && (this.resourcesLoaded || !ServerOptions.isOnline)
}, VideoSlotsConnectionXTLayer.prototype.TriggerInitReady = function () {
    XT.TriggerEvent(Vars.Evt_FromServer_InitReceived), this.mustTriggerDelayedGameLoadingFinished = !0, this.delayedGameLoadingFinishedFrameCount = Time.frameCount
}, VideoSlotsConnectionXTLayer.prototype.UpdateBonusRoundsInfo = function (t) {
    null != t.FreeRoundEvents && XT.SetObject(Vars.BonusRoundsEvents, t.FreeRoundEvents);
    var e = XT.GetObject(Vars.BonusRoundsEvents);
    (null != t.FreeRound || null != e && 0 == e.length) && XT.SetObject(Vars.BonusRoundsData, t.FreeRound), XT.TriggerEvent(Vars.Evt_Internal_BonusRoundsInfoUpdated)
}, VideoSlotsConnectionXTLayer.prototype.UpdateBonusFSResponseValues = function (t) {
    null != t.GetVsFreeSpin() && this.SetFreeSpinResponseReceived(t.GetVsFreeSpin()), this.SetWinValue(t.Win), this.vsc.UpdateBonusFSResponseValues(t)
}, VideoSlotsConnectionXTLayer.prototype.SetWildRandomMultipliers = function (t) {
    XT.SetObject(Vars.WildRandomMultipliers, t), XT.TriggerEvent(Vars.Evt_Internal_WildRandomMultipliersReceived)
}, VideoSlotsConnectionXTLayer.prototype.OnGambleV2Pick = function () {
    XT.SetBool(Vars.CanAnimateValues, !0), this.vsc.SendGambleV2Choice(XT.GetInt(Vars.Gamble_Choice))
}, VideoSlotsConnectionXTLayer.prototype.SetGambleV2Response = function (t) {
    XT.SetObject(Vars.GambleV2Data, t), XT.TriggerEvent(FOXVars.Evt_FOX_AfterGambleReceived), XT.TriggerEvent(Vars.Evt_FromServer_GambleV2Response)
}, VideoSlotsConnectionXTLayer.prototype.SetMustOpenGambleV2 = function (t) {
    XT.SetBool(Vars.MustOpenGambleV2, t)
}, VideoSlotsConnectionXTLayer.prototype.MustPlayJackpot = function () {
    XT.SetObject(Vars.PlayJackpotData, null), XT.SetBool(Vars.MustPlayJackpot, !0)
}, VideoSlotsConnectionXTLayer.prototype.OnRequestPlayJackpot = function () {
    this.vsc.SendPlayJackpotRequest()
}, VideoSlotsConnectionXTLayer.prototype.PlayJackpotResponse = function (t) {
    XT.SetObject(Vars.PlayJackpotData, t), XT.TriggerEvent(FOXVars.Evt_FOX_AfterPlayJackpotReceived), XT.TriggerEvent(Vars.Evt_FromServer_PlayJackpotResponse)
}, VideoSlotsConnectionXTLayer.prototype.SetServerTime = function (t) {
    XT.SetDouble(Vars.Jurisdiction_ServerTime, t)
}, goog.require("UHT.Engine"), ServerInterface.prototype = Object.create(Component.prototype), ServerInterface.prototype.constructor = ServerInterface, ServerInterface.prototype.Awake = function () {
    UHT_LOCAL && (ServerOptions.logLevel = LogLevel.Debug), this.ParseConfigFile()
}, ServerInterface.prototype.Start = function () {}, ServerInterface.prototype.Update = function () {
    if (this.counter < 4 && this.counter++, 2 == this.counter) {
        // if (UHT_LOCAL ? ServerOptions.serverUrl = "https://" + this.domain : ServerOptions.serverUrl = location.protocol + "//" + ServerInterface.GetDomain(), UHT_LOCAL && (_string.IsNullOrEmpty(this.userName) || _string.IsNullOrEmpty(this.userPass))) return;
        UHT_LOCAL && UHT_ONLINE ? ServerHelpers.CookiesRequest(new EventHandler(this, this.OnCookieResponse)) : EventManager.Trigger(ApplicationEvents.evtRequestInitApplication, null)
    }
}, ServerInterface.prototype.OnCookieResponse = function (t, e) {
    ServerHelpers.LoginRequest(this.userName, this.userPass, new EventHandler(this, this.OnLoginResponse))
}, ServerInterface.prototype.OnLoginResponse = function (t, e) {
    -1 != t.indexOf("log=1") && EventManager.Trigger(ApplicationEvents.evtRequestInitApplication, null)
}, ServerInterface.prototype.ParseConfigFile = function () {
    var t = this.configFile.text.split("\n"); - 1 != this.configFile.text.indexOf("external") && (this.isExternal = !0), t.length < 6 || this.isExternal && t.length < 8 || (this.userName = t[0], this.userPass = t[1], this.domain = t[2], ServerOptions.styleName = t[3], ServerOptions.gameSymbol = t[4], ServerOptions.language = t[5], this.isExternal && (ServerOptions.gameServiceUri = t[6], ServerOptions.tokenUrl = t[7], ServerOptions.serverDomain = this.domain), -1 != this.configFile.text.indexOf("online") && (ServerOptions.isOnline = !0), ServerInterface.domain = this.domain), ServerOptions.isOnline = UHT_ONLINE, 1 == UHT_GAME_CONFIG_SRC.replayMode && (ServerOptions.isOnline = !1, ServerOptions.isReplay = !0)
}, ServerInterface.domain = "", ServerInterface.GetDomain = function () {
    return UHT_LOCAL ? ServerInterface.domain : location.host
}, goog.provide("UHT.Special_Symbol"), goog.require("UHT.Engine"), goog.require("UHT.CAT_Event"), Special_Symbol.prototype = Object.create(Component.prototype), Special_Symbol.prototype.constructor = Special_Symbol, Special_Symbol.State = {
    Invalid: 0,
    Normal: 1,
    HighlightOn: 2,
    HighlightOff: 3,
    SpinStart: 4,
    SpinLoop: 5,
    SpinStop: 6,
    Excited: 7,
    WinExcited: 8,
    SpinLoopExcited: 9,
    Winning: 10,
    FSHighlightOff: 11
}, Special_Symbol.prototype.ChangeToState = function (t) {
    this.commands.push(t), this.lastQueuedState = t, this.ProcessCommands()
}, Special_Symbol.prototype.Start = function () {
    this.eventNormal.UnregisterCallback(this.Callback_EventEnded, this), this.eventHighlightOn.UnregisterCallback(this.Callback_EventEnded, this), this.eventHighlightOff.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinStart.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinLoop.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinStop.UnregisterCallback(this.Callback_EventEnded, this), this.eventExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventWinExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventSpinLoopExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventWinning.UnregisterCallback(this.Callback_EventEnded, this), this.eventFSHighlightOff.UnregisterCallback(this.Callback_EventEnded, this), this.eventNormal.RegisterCallback(this.Callback_EventEnded, this), this.eventHighlightOn.RegisterCallback(this.Callback_EventEnded, this), this.eventHighlightOff.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinStart.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinLoop.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinStop.RegisterCallback(this.Callback_EventEnded, this), this.eventExcited.RegisterCallback(this.Callback_EventEnded, this), this.eventWinExcited.RegisterCallback(this.Callback_EventEnded, this), this.eventSpinLoopExcited.RegisterCallback(this.Callback_EventEnded, this), this.eventWinning.RegisterCallback(this.Callback_EventEnded, this), this.eventFSHighlightOff.RegisterCallback(this.Callback_EventEnded, this)
}, Special_Symbol.prototype.ProcessCommands = function () {
    if (this.commands.length > 0)
        if (this.canProcessNextCommand) {
            var t = this.commands[0];
            switch (this.commands.splice(0, 1), this.canProcessNextCommand = !1, t) {
                case Special_Symbol.State.Normal:
                    this.eventNormal.Start();
                    break;
                case Special_Symbol.State.HighlightOn:
                    this.eventHighlightOn.Start();
                    break;
                case Special_Symbol.State.HighlightOff:
                    this.eventHighlightOff.Start();
                    break;
                case Special_Symbol.State.SpinStart:
                    this.eventSpinStart.Start();
                    break;
                case Special_Symbol.State.SpinLoop:
                    this.eventSpinLoop.Start();
                    break;
                case Special_Symbol.State.SpinStop:
                    this.eventSpinStop.Start();
                    break;
                case Special_Symbol.State.Excited:
                    this.eventExcited.Start();
                    break;
                case Special_Symbol.State.WinExcited:
                    this.eventWinExcited.Start();
                    break;
                case Special_Symbol.State.Winning:
                    this.eventWinning.Start();
                    break;
                case Special_Symbol.State.SpinLoopExcited:
                    this.eventSpinLoopExcited.Start();
                    break;
                case Special_Symbol.State.FSHighlightOff:
                    this.eventFSHighlightOff.Start();
                    break;
                case Special_Symbol.State.Invalid:
                default:
                    this.canProcessNextCommand = !0;
                    break
            }
            this.internalState = t, this.currentStateForInspector = this.internalState
        } else 0 == this.stopEventSent && this.StopAllRunningEvents()
}, Special_Symbol.prototype.Update = function () {
    this.ProcessCommands()
}, Special_Symbol.prototype.Callback_EventEnded = function (t, e) {
    t == CAT_Event.CallbackType.EndOfEvent && (this.canProcessNextCommand = !0)
}, Special_Symbol.prototype.StopAllRunningEvents = function () {
    this.eventNormal.IsRunning() && this.eventNormal.Stop(), this.eventHighlightOn.IsRunning() && this.eventHighlightOn.Stop(), this.eventHighlightOff.IsRunning() && this.eventHighlightOff.Stop(), this.eventSpinStart.IsRunning() && this.eventSpinStart.Stop(), this.eventSpinLoop.IsRunning() && this.eventSpinLoop.Stop(), this.eventSpinStop.IsRunning() && this.eventSpinStop.Stop(), this.eventExcited.IsRunning() && this.eventExcited.Stop(), this.eventWinExcited.IsRunning() && this.eventWinExcited.Stop(), this.eventWinning.IsRunning() && this.eventWinning.Stop(), this.eventSpinLoopExcited.IsRunning() && this.eventSpinLoopExcited.Stop(), this.eventFSHighlightOff.IsRunning() && this.eventFSHighlightOff.Stop()
}, Special_Symbol.prototype.SpinStart = function () {
    this.ChangeToState(Special_Symbol.State.SpinStart)
}, Special_Symbol.prototype.SpinLoop = function () {
    this.ChangeToState(Special_Symbol.State.SpinLoop)
}, Special_Symbol.prototype.SpinStop = function () {
    this.ChangeToState(Special_Symbol.State.SpinStop)
}, Special_Symbol.prototype.SetHighlightOn = function () {
    this.ChangeToState(Special_Symbol.State.HighlightOn)
}, Special_Symbol.prototype.SetHighlightOff = function () {
    (this.internalState != Special_Symbol.State.WinExcited && this.internalState != Special_Symbol.State.Winning || this.willHighlightOffAfterExciteWin) && (XT.GetBool(Vars.Logic_IsFreeSpin) ? this.ChangeToState(Special_Symbol.State.FSHighlightOff) : this.ChangeToState(Special_Symbol.State.HighlightOff))
}, Special_Symbol.prototype.SetNormal = function () {
    this.ChangeToState(Special_Symbol.State.Normal)
}, Special_Symbol.prototype.SetExcited = function () {
    this.ChangeToState(Special_Symbol.State.Excited)
}, Special_Symbol.prototype.SetWinExcited = function () {
    this.ChangeToState(Special_Symbol.State.WinExcited)
}, Special_Symbol.prototype.SpinLoopExcited = function () {
    this.ChangeToState(Special_Symbol.State.SpinLoopExcited)
}, Special_Symbol.prototype.SetWinning = function () {
    this.ChangeToState(Special_Symbol.State.Winning)
}, Special_Symbol.prototype.EventStart = function () {
    this.eventStart.Start()
}, Special_Symbol.prototype.EventStop = function () {
    this.eventStop.Start()
}, goog.require("UHT.Engine"), goog.require("UHT.XTLink"), goog.require("UHT.Special_Symbol"), Special_SymbolsManager.prototype = Object.create(XTLink.prototype), Special_SymbolsManager.prototype.constructor = Special_SymbolsManager, Special_SymbolsManager.initializing = 0, Special_SymbolsManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_SymbolManager, this.OnSymbolManagerInit, this)
}, Special_SymbolsManager.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnSymbolManagerInit, this)
}, Special_SymbolsManager.prototype.OnSymbolManagerInit = function () {
    SymbolsManager_CheckAndSendTrackingInit(), Special_SymbolsManager.initializing++, this.currentInitSymbol = 0, this.BuildSymbolIdToIndexMap(), this.pooledSymbols = [], this.pool.SetActive(!0), -1 == LoaderProgress.SymbolsManagers_Total ? LoaderProgress.SymbolsManagers_Total = this.symbols.length : LoaderProgress.SymbolsManagers_Total += this.symbols.length
}, Special_SymbolsManager.prototype.Update = function () {
    if (this.currentInitSymbol >= 0)
        if (this.currentInitSymbol < this.symbols.length) {
            var t = this.symbols[this.currentInitSymbol].symbolId;
            this.pooledSymbols[t] = [];
            for (var e = 0; e < this.defaultBufferAmount; e++) {
                var i = instantiate(this.symbols[this.currentInitSymbol].gameObject);
                i.SetActive(!0), this.PoolSymbol(t, i.GetComponent(Special_Symbol))
            }
            this.currentInitSymbol++, LoaderProgress.SymbolsManagers_Current++
        } else this.currentInitSymbol == this.symbols.length && (this.disablePoolNextFrame = !1, Special_SymbolsManager.initializing--, SymbolsManager_CheckAndSendTrackingEnd(), this.currentInitSymbol++)
}, Special_SymbolsManager.prototype.BuildSymbolIdToIndexMap = function () {
    for (var t = -1, e = 0; e < this.symbols.length; e++) this.symbols[e].symbolId > t && (t = this.symbols[e].symbolId);
    this.symbolIdToIndexMap = new Array(t + 1);
    for (var i = 0; i < this.symbols.length; i++) this.symbolIdToIndexMap[this.symbols[i].symbolId] = i
}, Special_SymbolsManager.prototype.GetFromPool = function (t, e) {
    0 == this.pooledSymbols[t].length && (this.pooledSymbols[t].push(instantiate(this.symbols[this.symbolIdToIndexMap[t]].gameObject).GetComponent(Special_Symbol)), this.pooledSymbols[t][this.pooledSymbols[t].length - 1].gameObject.SetActive(!0));
    var i = this.pooledSymbols[t][0];
    return this.pooledSymbols[t].splice(0, 1), i.gameObject.transform.SetParent(e.transform, !1), i.gameObject.transform.localPosition(UHTMath.Vector3.zero), i.gameObject.transform.localRotation(UHTMath.Quaternion.euler(UHTMath.Vector3.zero)), i.gameObject.transform.localScale(UHTMath.Vector3.one), i
}, Special_SymbolsManager.prototype.PoolSymbol = function (t, e) {
    e.gameObject.transform.SetParent(this.pool.transform, !1), this.pooledSymbols[t].push(e)
}, Special_SymbolsManager.prototype.GetSymbol = function (t, e) {
    return this.GetFromPool(t, e)
}, Special_SymbolsManager.prototype.RecycleSymbol = function (t) {
    this.PoolSymbol(t.symbolId, t)
}, Special_SymbolsManager.prototype.LateUpdate = function () {
    if (this.pool.activeSelf && this.currentInitSymbol > this.symbols.length) {
        if (!this.disablePoolNextFrame) return void(this.disablePoolNextFrame = !0);
        this.pool.SetActive(!1)
    }
}, goog.require("UHT.UHTStage"), StageInit.prototype = Object.create(UHTStage.prototype), StageInit.prototype.constructor = StageInit, StageInit.prototype.GetStageName = function () {
    return UHTStageName.Init
}, StageInit.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(Vars.GameHasIntro, this.hasIntro), XT.SetBool(Vars.GameHasCustomGamble, this.hasCustomGamble), XT.SetBool(Vars.ScatterSymbolIsWild, this.scatterIsWild), XT.SetBool(Vars.UpdateVSGameStateOnSpin, !0), XT.SetBool(Vars.TruncateFSResponseDuringRespin, this.truncateFSResponseDuringRespin), XT.SetBool(Vars.UpdateFSResponseOnBonusPick, this.updateFSResponseOnBonusPick), XT.SetBool(Vars.PartiallyUpdateSpinResponseOnBonusPick, this.partiallyUpdateSpinResponseOnBonusPick), XT.SetBool(Vars.UpdateBonusPickDataDuringRespins, this.allowBonusPickDuringBonusRespin), XT.SetBool(Vars.UpdateRespinDataOnBonusPick, this.updateRespinDataOnBonusPick), XT.SetObject(Vars.NoInitBonusGameTypes, this.noInitBonusGameTypes), XT.SetObject(Vars.NoInitBonusGameIds, this.noInitBonusGameIds), XT.SetInt(Vars.TotalNumberOfLines, this.totalNumberOfLines), XT.SetBool(Vars.GameHasWaysInsteadOfLines, this.hasWaysInsteadOfLines), XT.SetBool(Vars.GameHasLinesWithBetMultiplier, this.hasLinesWithBetMultiplier), XT.SetInt(Vars.NumberOfBetLevels, this.numberOfBetLevels), XT.SetBool(Vars.TriggerBonusBeforeResult, this.triggerBonusBeforeResult), XT.SetBool(Vars.BonusWinIsSeparated, this.bonusWinIsSeparated), XT.SetBool(Vars.OpaqueInterface, this.opaqueInterface), XT.SetBool(Vars.HasReelAwareSymbolContent, this.hasReelAwareSymbolContent), XT.SetBool(Vars.HiddenMathematics, !1), XT.SetBool(BGVars.BonusDataReceived, !1), XT.SetBool(Vars.InstantlyCollectBonus, this.instantlyCollectBonusWin), XT.SetBool(Vars.HasAnteBet, this.hasAnteBet), XT.SetBool(Vars.CombineWildsInPaytableById, this.combineWildsInPaytableById), XT.SetBool(InterfaceVars.PayingSymbolsDisplayServerID, this.payingSymbolsDisplayServerID), XT.SetBool(Vars.LinesPaysBothWays, this.paysBothWays), XT.SetObject(Vars.FreeSpinOptions, null), XT.SetBool(Vars.CanSpin, !1), XT.SetBool(Vars.AllowFastStop, !0), XT.SetBool(Vars.IsDifferentSpinType, !1), XT.SetBool(Vars.DifferentSpinRushedByTurboSpin, this.differentSpinGetsRushedByTurboSpin), XT.SetObject(Vars.DefaultGameWindowOverrideData, this.defaultGameWindowOverride), XT.SetBool(Vars.BrowserWarningShown, !1), XT.SetBool(Vars.FSStartNeedsConfirmation, this.freeSpinsStartNeedsConfirmation), XT.SetBool(Vars.SpinNeedsConfirmation, !1), XT.SetBool(Vars.SpinBlockingFeatureIsRunning, !1), XT.SetFloat(Vars.MinimumJackpotBigWinDuration, this.minimumJackpotBigWinDuration), XT.SetBool(Vars.ManualRespin, this.manualRespin), XT.SetObject(Vars.FeaturePurchase, null), XT.SetBool(InterfaceVars.ShowGamePaysAsWinTeaser, this.showGamePaysAsWinTeaser), XT.SetBool(Vars.FastPlayChangesBetweenSpins, this.fastPlayChangesBetweenSpins), XT.SetDouble(InterfaceVars.GUIDynamicMessageDelay, this.GUIDynamicMessagesDelay), XT.SetBool(InterfaceVars.CustomFreeSpinsLeft_UsesCATEvents, this.GUICustomFSLeft_usesCATEvents), XT.SetString(InterfaceVars.CustomFreeSpinsLeftMessage, this.GUICustomFSLeftMessage), XT.SetBool(InterfaceVars.ShowExplicitResult, this.showExplicitResult), XT.SetBool(Vars.WinLimitReached, !1), XT.SetBool(Vars.RespinInProgress, !1), XT.SetBool(Vars.CanTriggerBigWinBeforeBonus, this.canTriggerBigWinBeforeBonus), XT.SetObject(Vars.ToServer_RequestExtraParams, null), XT.SetBool(InterfaceVars.LimitSpinButtonPositionByGameAnchors, !0)
}, StageInit.prototype.UHTInit = function () {
    XT.RegisterAndInit(this.XTRoot)
}, StageInit.prototype.OnCustomDataInitialized = function () {
    this.waitForCustomDataInit--
}, StageInit.prototype.UHTUpdate = function (t) {
    if (t && (XT.TriggerEvent(Vars.Evt_Internal_Init_SymbolManager), XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived, this.OnInitReceived, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdated, this.OnBalanceUpdated, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_IntroClosePressed, this.IntroClosed, this), XT.TriggerEvent(Vars.Evt_ToServer_RequestInit), XT.GetBool(Vars.DisableIntroScreen) && XT.SetBool(Vars.GameHasIntro, !1), XT.RegisterCallbackBool(Vars.FastPlay, this.OnFastPlayValueChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnStartSpin, this, -999), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_SpinEnded, this.OnSpinEnded, this, 999), XT.TriggerEvent(Vars.Evt_Internal_Init_CustomData), XT.RegisterCallbackEvent(Vars.Evt_Internal_CustomDataIsInitialized, this.OnCustomDataInitialized, this)), this.initReceived && this.waitForCustomDataInit <= 0 && 0 == globalResourcesNeededList.length && !(VS_SymbolsManager.initializing + Special_SymbolsManager.initializing > 0)) {
        UHTEngine.HideLoader(), this.PatchNudgeData(), XT.GetBool(Vars.MustOpenBonus) && CoinManager.SetStrictBetMode(!1), CoinManager.SetStrictBetMode(!0), CoinManager.InitLastBets(), XT.TriggerEvent(Vars.Evt_Internal_Init_SoundManager), XT.TriggerEvent(Vars.Evt_Internal_Init_ReelsManager), XT.TriggerEvent(Vars.Evt_Internal_GameInit), XT.TriggerEvent(Vars.Evt_Internal_GUIInit);
        var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
        if (e.IsFreeSpin && !e.IsFreeSpinsCollected && (XT.SetInt(Vars.MaxFreeSpinsDisplayed, e.MaxSpins), XT.SetInt(Vars.CurrentFreeSpinDisplayed, e.CurrentSpin), XT.SetInt(Vars.FreeSpinsLeftDisplayed, e.MaxSpins - e.CurrentSpin), XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed, 0 | e.TotalMultiplier)), XT.GetBool(Vars.MustPlayJackpot) || XT.SetDouble(Vars.SpinCycleWinDisplayed, XT.GetDouble(Vars.SpinCycleWinReceived)), UHTEngine.SignalCanStartPrefetchingUnusedAtlasses(), !XT.GetBool(Vars.GameHasIntro) || XT.GetBool(Vars.GameHasIntro) && !XT.GetBool(Vars.ShouldDisplayIntro)) {
            if (this.ProcessStageToGo()) return this.initShow.RegisterCallback(this.OnIntroClosedOrSkipped, this), this.initShow.Start(), UHTAction.ChangeStage(UHTStageName.Transition)
        } else this.introShow.Start();
        this.canGoToNextStage = !0, this.initReceived = !1
    }
    return this.canGoToNextStage && (Globals.InputBlocked || !Input.GetKeyDown(KeyCode.Space, !0) && !Input.GetKeyDown(KeyCode.Return, !0) || (this.introClosed = !0), this.introClosed && this.ProcessStageToGo()) ? (this.introHide.RegisterCallback(this.OnIntroClosedOrSkipped, this), this.introHide.Start(), UHTAction.ChangeStage(UHTStageName.Transition)) : UHTAction.NoAction()
}, StageInit.prototype.UHTFinish = function () {
    XT.UnregisterCallbackEvent(this.OnInitReceived, this), XT.UnregisterCallbackEvent(this.OnBalanceUpdated, this), XT.UnregisterCallbackEvent(this.IntroClosed, this)
}, StageInit.prototype.OnBetToTotalBetMultiplierChanged = function (t) {
    -1 != this.linesForMinBet ? XT.SetInt(Vars.LinesForMinBet, this.linesForMinBet) : XT.SetInt(Vars.LinesForMinBet, t), -1 != this.linesForMaxBet ? XT.SetInt(Vars.LinesForMaxBet, XT.GetBool(Vars.HasAnteBet) ? this.linesForMaxBet : this.linesForMinBet) : XT.SetInt(Vars.LinesForMaxBet, t)
}, StageInit.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackInt(Vars.BetToTotalBetMultiplier, this.OnBetToTotalBetMultiplierChanged, this)
}, StageInit.prototype.OnBalanceUpdated = function () {
    XT.SetDouble(Vars.BalanceDisplayed, XT.GetDouble(Vars.BalanceReceived)), XT.SetDouble(Vars.BonusBalance, XT.GetDouble(Vars.BonusBalanceReceived))
}, StageInit.prototype.OnInitReceived = function () {
    this.initReceived = !0
}, StageInit.prototype.IntroClosed = function () {
    this.introClosed = !0
}, StageInit.prototype.ProcessStageToGo = function () {
    var t = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    XT.SetBool(Vars.Logic_IsFreeSpin, t.IsFreeSpin && !t.IsFreeSpinsCollected);
    var e = XT.GetBool(Vars.MustOpenBonus) && !XT.GetBool(Vars.InstantlyCollectBonus);
    return XT.GetBool(Vars.MustPlayJackpot) ? (XT.TriggerEvent(Vars.Evt_Internal_StartVSLogicSounds), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Jackpot), !0) : this.forcedGoToSpin ? (XT.TriggerEvent(Vars.Evt_Internal_StartVSLogicSounds), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Spin), !0) : e ? XT.GetBool(Vars.TriggerBonusBeforeResult) && t.IsFreeSpin && !t.IsFreeSpinsCollected && ((null != t.BonusGameData && t.BonusGameData.GameOver || t.IsFreeSpinsStart && t.MysteryScatter.length > 0) && XT.SetBool(Vars.Internal_FSBGJustClosed, !0), t.PickedOptionIndex >= 0) ? (XT.SetBool(Vars.MustResumeFreeSpinOptions, !0), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.FSBG), !0) : !!XT.GetBool(BGVars.BonusDataReceived) && (XT.SetBool(BGVars.BonusDataReceived, !1), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Bonus), !0) : XT.GetBool(Vars.FromServer_MustOpenFSBG) || null != XT.GetObject(Vars.FreeSpinOptions) ? (XT.SetBool(Vars.FromServer_MustOpenFSBG, !1), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.FSBG), !0) : (XT.TriggerEvent(Vars.Evt_Internal_StartVSLogicSounds), XT.GetBool(Vars.MustOpenGambleV2) ? (XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Gamble), !0) : t.IsFreeSpin && !t.IsFreeSpinsCollected ? ((null != t.BonusGameData && t.BonusGameData.GameOver || t.IsFreeSpinsStart && t.MysteryScatter.length > 0) && XT.SetBool(Vars.Internal_FSBGJustClosed, !0), t.PickedOptionIndex >= 0 ? (XT.SetBool(Vars.MustResumeFreeSpinOptions, !0), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.FSBG), !0) : (XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.ResultFreeSpin), !0)) : (XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Result), !0))
}, StageInit.prototype.OnBrowserWarningShown = function () {
    XT.SetBool(Vars.BrowserWarningShown, !0), XT.SetBool(Vars.SkipCooldownWhenUpdatingSettingsOnServer, !0), XT.TriggerEvent(Vars.Evt_ToServer_UpdateSettingsOnServer)
}, StageInit.prototype.OnIntroClosedOrSkipped = function (t, e) {
    t == CAT_Event.CallbackType.EndOfEvent && XT.TriggerEvent(Vars.Evt_CodeToData_IntroClosedOrSkipped)
}, StageInit.prototype.PatchNudgeData = function () {
    var t = XT.GetObject(Vars.NudgedSymbols);
    if (null != t) {
        for (var e = XT.GetObject(Vars.InitialResultScreenSymbols), i = 0; i < t.length; i++) e[t[i].reelID] = t[i].nudgedSymbolsIDs, e[t[i].reelID].reverse();
        XT.SetObject(Vars.ReceivedWinLines, []), XT.SetObject(Vars.InitialResultScreenSymbols, e), XT.SetObject(Vars.NudgedSymbols, null)
    }
}, StageInit.prototype.OnFastPlayValueChanged = function (t) {
    this.bFastPlayManuallySet ? this.bFastPlayManuallySet = !1 : (this.bFastPlayRequestedValue = t, XT.GetBool(Vars.FastPlayChangesBetweenSpins) && this.bSpinInProgress && t != this.bFastPlayBeforeSpinValue && (this.bFastPlayManuallySet = !0, XT.SetBool(Vars.FastPlay, this.bFastPlayBeforeSpinValue)))
}, StageInit.prototype.SaveFastPlayValue = function () {
    this.bFastPlayBeforeSpinValue = XT.GetBool(Vars.FastPlay)
}, StageInit.prototype.RestoreFastPlayValue = function () {
    XT.GetBool(Vars.FastPlayChangesBetweenSpins) && this.bFastPlayRequestedValue != XT.GetBool(Vars.FastPlay) && (this.bFastPlayManuallySet = !0, XT.SetBool(Vars.FastPlay, this.bFastPlayRequestedValue))
}, StageInit.prototype.OnSpinEnded = function () {
    this.bSpinInProgress = !1, this.RestoreFastPlayValue()
}, StageInit.prototype.OnStartSpin = function () {
    this.SaveFastPlayValue(), this.bSpinInProgress = !0
}, goog.require("UHT.XTLink");
var globalMustStopAutoplay = !1;

function AdvancedAutoplaySettings() {
    this.stopOnAnyWin = !1, this.stopIfFeature = !1, this.stopIfSingleWinExceeds = !1, this.singleWinValue = 0, this.stopIfCashIncreases = !1, this.cashIncreasesValue = 0, this.stopIfCashDecreases = !1, this.cashDecreasesValue = 0, this.initialBalance = 0
}

function AutoplayManager() {}
AutoplayManager.wasReset = !1, AutoplayManager.fastPlay = !1, AutoplayManager.autoplayContinuousSpin = !1, AutoplayManager.TestAdvancedStopConditions = function () {
    if (globalMustStopAutoplay) return XT.SetInt(Vars.AutoplaySpinsLeft, -1), globalMustStopAutoplay = !1, void XT.TriggerEvent(Vars.Evt_DataToCode_StopAutoplay);
    if (!(XT.GetInt(Vars.AutoplaySpinsLeft) < 0)) {
        var t = !1,
            e = XT.GetObject(Vars.AdvancedAutoplaySettings);
        if (!t && e.stopOnAnyWin && XT.GetDouble(Vars.SpinCycleWinReceived) > 0 && (t = !0), XT.GetBool(Vars.Jurisdiction_Autoplay_StopOnFeatureWin) && (e.stopIfFeature = !0), !t && e.stopIfFeature)(XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin || XT.GetBool(Vars.FromServer_MustOpenFSBG) || XT.GetBool(Vars.MustOpenBonus)) && (t = !0);
        !t && e.stopIfSingleWinExceeds && XT.GetDouble(Vars.SpinCycleWinReceived) > e.singleWinValue && (t = !0), !t && e.stopIfCashIncreases && XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived) > e.initialBalance + e.cashIncreasesValue && (t = !0), !t && e.stopIfCashDecreases && XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived) - CoinManager.GetNextTotalBet() < e.initialBalance - e.cashDecreasesValue && (t = !0), t && (XT.SetInt(Vars.AutoplaySpinsLeft, -1), XT.TriggerEvent(Vars.Evt_Internal_StoppedAutoplayByCondition))
    }
}, AutoplayManager.ResetSettings = function () {
    AutoplayManager.wasReset || (AutoplayManager.wasReset = !0, AutoplayManager.fastPlay = XT.GetBool(Vars.FastPlay), AutoplayManager.autoplayContinuousSpin = XT.GetBool(Vars.AutoplayContinuousSpin), XT.SetBool(Vars.FastPlay, !1), XT.SetBool(Vars.AutoplayContinuousSpin, !1))
}, AutoplayManager.RestoreSettings = function () {
    AutoplayManager.wasReset && (AutoplayManager.wasReset = !1, XT.SetBool(Vars.FastPlay, AutoplayManager.fastPlay), XT.SetBool(Vars.AutoplayContinuousSpin, AutoplayManager.autoplayContinuousSpin))
}, goog.require("UHT.Engine");
var BonusRoundsController = {
    isFirstSession: !0,
    lastRoundType: VsFreeRound.RoundType.Spins,
    HandleNextEvent: function (t, e, i) {
        var n = new BonusRoundRetData;
        if (ServerOptions.isReplay) return n;
        var o = XT.GetObject(Vars.BonusRoundsData);
        n.isBonusRounds = null != o, XT.GetBool(Vars.UserChoseToPlayLater) && (n.isBonusRounds = !1), n.isBonusRounds && !t && (XT.SetInt(Vars.BonusRoundsLeftDisplayed, o.RoundsLeft), XT.SetDouble(Vars.BonusRoundsWinDisplayed, o.TotalWin));
        var s = XT.GetObject(Vars.BonusRoundsEvents);
        if (null != s && s.length > 0) {
            1 == s.length && n.isBonusRounds && (BonusRoundsController.lastRoundType = o.Type);
            var a = s[0];
            if (a.Type != VsFreeRoundEvent.EventType.Start || t) a.Type != VsFreeRoundEvent.EventType.Finish || t ? a.Type == VsFreeRoundEvent.EventType.Error && (i && (n.isBonusRounds ? BonusRoundsController.lastRoundType == VsFreeRound.RoundType.Spins ? (XT.SetInt(Vars.BonusRoundsLeftDisplayed, 0), XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsError), XT.TriggerEvent(Vars.Evt_CodeToData_GUI_BonusRoundsError), n.messageIsOpened = !0, BonusRoundsController.isFirstSession = !1) : BonusRoundsController.lastRoundType == VsFreeRound.RoundType.BonusBoost && (XT.SetInt(Vars.BonusRoundsLeftDisplayed, 0), XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsError), XT.TriggerEvent(Vars.Evt_CodeToData_GUI_BoostBonusRoundsError), n.messageIsOpened = !0, BonusRoundsController.isFirstSession = !1) : XT.GetBool(Vars.TimedBonusRoundIsOngoing) || XT.GetBool(Vars.ShouldIgnoreNextFinishEventFromServer) || (XT.SetInt(Vars.BonusRoundsLeftDisplayed, 0), XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsError), XT.TriggerEvent(Vars.Evt_CodeToData_GUI_BonusRoundsError), n.messageIsOpened = !0)), e && (XT.GetBool(Vars.TimedBonusRoundIsOngoing) || s.splice(0, 1), n.isBonusRounds = !1, CoinManager.SetDesiredBet(a.Bet), BonusRoundsController.SetLines(a.Lines))) : (i && (XT.SetInt(Vars.BonusRoundsLeftDisplayed, 0), n.isBonusRounds ? BonusRoundsController.lastRoundType == VsFreeRound.RoundType.Spins ? (XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsFinished), XT.TriggerEvent(Vars.Evt_CodeToData_GUI_BonusRoundsFinished), n.messageIsOpened = !0, BonusRoundsController.isFirstSession = !1) : BonusRoundsController.lastRoundType == VsFreeRound.RoundType.BonusBoost ? (XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsFinished), XT.TriggerEvent(Vars.Evt_CodeToData_GUI_BoostBonusRoundsFinished), n.messageIsOpened = !0, BonusRoundsController.isFirstSession = !1) : XT.GetBool(Vars.TimedBonusRoundIsOngoing) ? XT.GetBool(Vars.ShouldIgnoreNextFinishEventFromServer) || (XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsFinished), XT.TriggerEvent(Vars.Evt_CodeToData_GUI_TimedBonusRoundsFinished)) : XT.TriggerEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed) : XT.GetBool(Vars.TimedBonusRoundIsOngoing) ? XT.TriggerEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed) : XT.GetBool(Vars.ShouldIgnoreNextFinishEventFromServer) ? (XT.SetBool(Vars.ShouldIgnoreNextFinishEventFromServer, !1), s.splice(0, 1)) : (XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsFinished), XT.TriggerEvent(Vars.Evt_CodeToData_GUI_BonusRoundsFinished), n.messageIsOpened = !0, BonusRoundsController.isFirstSession = !1)), e && (s.splice(0, 1), n.isBonusRounds = !1, CoinManager.SetDesiredBet(a.Bet), BonusRoundsController.SetLines(a.Lines), 0 == s.length && XT.SetObject(Vars.BonusRoundsData, null), XT.TriggerEvent(Vars.Evt_Internal_CoinValueChanged), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup)));
            else {
                var r = XT.GetObject(Vars.BonusRoundsData);
                i && (XT.SetBool(Vars.BonusRoundCanBePlayedLater, a.PlayLaterAvailable), XT.SetDouble(Vars.BonusRoundEndDateTimestamp, a.EndDateTimestamp), -1 != a.PromoLocalizedName.indexOf("#DDW#") ? XT.SetBool(Vars.BonusRoundWonFromDDW, !0) : XT.SetBool(Vars.BonusRoundWonFromDDW, !1), XT.SetString(Vars.BonusRoundPromoType, a.PromoType), XT.TriggerEvent(Vars.Evt_CodeToData_BonusRoundsStarted), o.Type == VsFreeRound.RoundType.Spins ? XT.TriggerEvent(Vars.Evt_CodeToData_GUI_BonusRoundsStarted) : o.Type == VsFreeRound.RoundType.BonusBoost ? XT.TriggerEvent(Vars.Evt_CodeToData_GUI_BoostBonusRoundsStarted) : (XT.TriggerEvent(Vars.Evt_CodeToData_GUI_TimedBonusRoundsStarted), XT.SetInt(Vars.TimedBonusRoundsSeconds, r.RoundsLeft)), n.messageIsOpened = !0, BonusRoundsController.isFirstSession || (XT.SetDouble(Vars.BonusRoundsWinDisplayed, 0), r.TotalWin = 0, XT.SetObject(Vars.BonusRoundsData, r))), e && (s.splice(0, 1), XT.GetBool(Vars.UserChoseToPlayLater) || (CoinManager.SetDesiredBet(a.Bet), BonusRoundsController.SetLines(a.Lines), XT.TriggerEvent(Vars.Evt_Internal_CoinValueChanged), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup)))
            }
        }
        return n
    },
    SetLines: function (t) {
        XT.GetBool(Vars.HasAnteBet) ? XT.SetInt(Vars.BetToTotalBetMultiplier, XT.GetBool(Vars.GameHasWaysInsteadOfLines) ? XT.GetInt(Vars.TotalNumberOfLines) : t) : XT.SetInt(Vars.BetToTotalBetMultiplier, t), XT.SetInt(Vars.Lines, XT.GetBool(Vars.GameHasWaysInsteadOfLines) ? XT.GetInt(Vars.TotalNumberOfLines) : t)
    }
};

function BonusRoundRetData() {
    this.isBonusRounds = !1, this.messageIsOpened = !1
}
goog.require("UHT.Engine"), goog.require("UHT.UHTStage");
var StageResultFreeSpinVars = {
    ResultFS_VarsToUpdateWithWin: "ResultFS_VarsToUpdateWithWin",
    Evt_Internal_ResultFS_VarsToUpdateWithWinUpdated: "Evt_Internal_ResultFS_VarsToUpdateWithWinUpdated"
};

function StageResultFreeSpin() {
    UHTStage.call(this), this.transition = null, this.transitionFast = null, this.additionalFreeSpins = null, this.minimalResultDisplayAtFreeSpinsPrepare = !1, this.bypassNoWinFSWindow = !0, this.shouldClearMysteryScattersOnFSClose = !0, this.mustSpin = !1, this.changeToResult = !1, this.changeToFSBG = !1, this.freeSpinsEnded = !1, this.fsr = null, this.prepareToOpenBonus = !1, this.mustOpenBonus = !1, this.mustOpenGamble = !1, this.isJackpotWinOnScreen = !1, this.isRespin = !1, this.totalWinReceivedSoFarInFS = 0, this.firstTimeInFSResult = !0, this.fsStartConfirmed = !0, this.shouldEnterFS = !1, this.mustStartFSSounds = !1, this.transitionWasStarted = !1, this.varsToUpdateWhenWinIsUpdated = {}
}

function StageSpin() {
    UHTStage.call(this), this.cat = null, this.startEvent = null, this.canUpdateFreeSpinsLeftDuringDifferentSpinType = !1, this.canUpdateFreeSpinsDuringRespins = !0, this.spinEnded = !1, this.isBonusRounds = !1, this.onlySpinVisually = !1, this.resumeSpinning = !1, this.autoRespinsIsInfinite = !1, this.rq = null, this.isRQEnded = !1, this.shouldResetSpinCycleWinDisplayed = !1
}

function StageBonusLevelsNew() {
    UHTStage.call(this), this.evtBonusResultWindowShowPriority = 0, this.bigWinBeforeResultWindow = !1, this.hasMultipleLevelsNoItemMarkers = !1, this.mustCloseBonus = !1, this.mustOpenGamble = !1, this.stageToReturnTo = UHTStageName.No_Stage, this.bonusData = null
}

function StageGamble() {
    UHTStage.call(this), this.cat = null, this.startEvent = null, this.endEvent = null, this.lastGambleResponse = null, this.canPick = !1, this.atLeastOnePick = !1, this.mustHideGamble = !1
}

function TransitionHelperClass() {
    this.transitionCAT = null, this.fromStageName = UHTStageName.No_Stage, this.toStageName = UHTStageName.No_Stage, this.canWait = !1
}
StageResultFreeSpin.prototype = Object.create(UHTStage.prototype), StageResultFreeSpin.prototype.constructor = StageResultFreeSpin, StageResultFreeSpin.prototype.GetStageName = function () {
    return UHTStageName.ResultFreeSpin
}, StageResultFreeSpin.prototype.XTRegisterCallbacks = function () {}, StageResultFreeSpin.prototype.XTInitVariablesAndEvents = function () {
    XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed, 0), XT.SetDouble(Vars.FreeSpinsWinDisplayed, 0), XT.SetInt(Vars.AdditionalFreeSpinsWon, 0), XT.SetDouble(Vars.FreeSpinsWinMultipliedDisplayed, 0), XT.SetDouble(Vars.FreeSpinsTotalWinDisplayed, 0), XT.SetDouble(Vars.FreeSpinsTotalWinMultipliedDisplayed, 0), XT.SetDouble(Vars.FreeSpinsConsolationPrize, 0), XT.SetBool(Vars.FromServer_MustOpenFSBG, !1), XT.SetBool(Vars.Internal_FSBGJustClosed, !1), XT.SetObject(StageResultFreeSpinVars.ResultFS_VarsToUpdateWithWin, this.varsToUpdateWhenWinIsUpdated), XT.SetBool(Vars.FreeSpinsEndedOverride, !1)
}, StageResultFreeSpin.prototype.UHTInit = function () {}, StageResultFreeSpin.prototype.UHTUpdate = function (t) {
    if (t) {
        CoinManager.SetStrictBetMode(!0), XT.SetInt(Vars.AdditionalFreeSpinsWon, 0), XT.SetBool(Vars.Logic_IsFreeSpin, !0), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Stop, this.OnPressedStop, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdated, this.OnBalanceUpdated, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_FreeSpinsWindowWinCollectPressed, this.OnWinResultCollectPressed, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_FreeSpinsWindowLoseCollectPressed, this.OnLoseResultCollectPressed, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone, this.OnResultDisplayerLoopDone, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_ConfirmFSStart, this.OnConfirmFSStart, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed, this.OnBonusRoundsContinuePressed, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Gamble_FreeSpinsResult, this.OnPressedGamble, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_GambleOpen, this.OnMustOpenGamble, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_CollectJackpotPressed, this.OnJackpotCollected, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWin, this.OnRequestToUpdateDisplayedWin, this), AutoplayManager.TestAdvancedStopConditions();
        var e = XT.GetObject(Vars.BonusRoundsData);
        null != e && e.Type == VsFreeRound.RoundType.Timed && BonusRoundsController.HandleNextEvent(!1, !1, !0), this.fsr = XT.GetObject(Vars.ReceivedFreeSpinsResponse), this.prepareToOpenBonus = XT.GetBool(Vars.MustOpenBonus);
        var i = XT.GetObject(Vars.RespinData);
        if (this.isRespin = null != i && !i.IsDone, this.UpdateGambleButtonState(), XT.SetDouble(Vars.FreeSpinsWinDisplayed, this.fsr.CurrentWin), this.varsToUpdateWhenWinIsUpdated[Vars.FreeSpinsWinMultipliedDisplayed] = this.fsr.CurrentWinMultiplied, XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed, this.fsr.TotalMultiplier), this.fsr.IsFreeSpin && !this.fsr.IsLastFreeSpin ? (XT.SetInt(Vars.AdditionalFreeSpinsWon, this.fsr.AdditionalSpins), XT.SetInt(Vars.MaxFreeSpinsDisplayed, this.fsr.MaxSpins)) : XT.SetInt(Vars.FreeSpinsLeftDisplayed, 0), this.fsr.IsFreeSpinsStart || null != XT.GetObject(Vars.FreeSpinOptions) && XT.GetBool(Vars.FromServer_MustOpenFSBG) || XT.GetBool(Vars.OpenFSBGForMysteryScatter)) UHTInterfaceBOSS.PostMessage("freeSpinStarted"), this.fsStartConfirmed = !1, !this.prepareToOpenBonus && XT.GetBool(Vars.Internal_FSBGJustClosed) ? (XT.SetBool(Vars.Internal_FSBGJustClosed, !1), this.ReallyEnterFreeSpins()) : XT.GetBool(Vars.BonusTriggersFSBG) ? VSGameStateManager.ChangeTo(VSGameState.FSBG) : null == XT.GetObject(Vars.FreeSpinsChainData) && (XT.SetDouble(Vars.WinDisplayed, 0), this.varsToUpdateWhenWinIsUpdated[Vars.WinDisplayed] = XT.GetDouble(Vars.WinReceived), XT.SetDouble(Vars.TotalLinesWinDisplayed, 0), this.varsToUpdateWhenWinIsUpdated[Vars.TotalLinesWinDisplayed] = XT.GetDouble(Vars.TotalLinesWinReceived), VSGameStateManager.ChangeTo(VSGameState.ResultFreeSpinsPrepare)), this.varsToUpdateWhenWinIsUpdated[Vars.BalanceDisplayed] = XT.GetDouble(Vars.BalanceReceived), this.varsToUpdateWhenWinIsUpdated[Vars.BonusBalance] = XT.GetDouble(Vars.BonusBalanceReceived), XT.SetBool(Vars.ResultDisplayerMinimalMode, this.minimalResultDisplayAtFreeSpinsPrepare);
        else if (this.fsr.IsFreeSpin) {
            if (XT.SetDouble(Vars.FreeSpinsLastWinDisplayed, 0), this.fsr.IsLastFreeSpin && null == XT.GetObject(Vars.TumblingData))
                if (this.firstTimeInFSResult) XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion, !0), XT.SetDouble(Vars.FreeSpinsWinMultipliedDisplayed, this.fsr.CurrentWinMultiplied), XT.SetDouble(Vars.SpinCycleWinDisplayed, XT.GetDouble(Vars.SpinCycleWinReceived));
                else if (XT.GetDouble(Vars.TumblingWin) > 0 || XT.GetBool(Vars.RespinInProgress)) this.varsToUpdateWhenWinIsUpdated[Vars.FreeSpinsLastWinDisplayed] = XT.GetDouble(Vars.WinReceived) * this.fsr.TotalMultiplier;
            else {
                XT.GetDouble(Vars.FreeSpinsConsolationPrize) > 0 && (this.totalWinReceivedSoFarInFS += XT.GetDouble(Vars.FreeSpinsConsolationPrize));
                var n = (this.fsr.CurrentWin - this.totalWinReceivedSoFarInFS) * this.fsr.TotalMultiplier;
                XT.GetBool(Vars.WinLimitReached) && (n = this.fsr.CurrentWin - this.totalWinReceivedSoFarInFS * this.fsr.TotalMultiplier), this.varsToUpdateWhenWinIsUpdated[Vars.FreeSpinsLastWinDisplayed] = n < 0 ? 0 : n
            } else this.varsToUpdateWhenWinIsUpdated[Vars.FreeSpinsLastWinDisplayed] = XT.GetDouble(Vars.WinReceived) * this.fsr.TotalMultiplier, this.totalWinReceivedSoFarInFS = this.fsr.CurrentWin;
            XT.SetBool(Vars.ResultDisplayerMinimalMode, !0), VSGameStateManager.ChangeTo(VSGameState.ResultFreeSpins), this.transitionWasStarted || (AutoplayManager.ResetSettings(), this.transitionWasStarted = !0, null != this.transitionFast && this.transitionFast.Start())
        }
        XT.GetDouble(Vars.FreeSpinsConsolationPrize) > 0 ? this.varsToUpdateWhenWinIsUpdated[Vars.SpinCycleWinDisplayed] = XT.GetDouble(Vars.SpinCycleWinReceived) - XT.GetDouble(Vars.FreeSpinsConsolationPrize) : this.varsToUpdateWhenWinIsUpdated[Vars.SpinCycleWinDisplayed] = XT.GetDouble(Vars.SpinCycleWinReceived);
        var o = (XT.GetDouble(Vars.WinReceived) - XT.GetDouble(Vars.TotalLinesWinReceived)) * this.fsr.TotalMultiplier;
        XT.SetDouble(Vars.MysteryScatterWinDisplayed, 0), this.varsToUpdateWhenWinIsUpdated[Vars.MysteryScatterWinDisplayed] = o, XT.SetDouble(Vars.TotalScattersWinDisplayed, 0), this.varsToUpdateWhenWinIsUpdated[Vars.TotalScattersWinDisplayed] = o, XT.TriggerEvent(StageResultFreeSpinVars.Evt_Internal_ResultFS_VarsToUpdateWithWinUpdated), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_Prepare), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop)
    } else {
        if (XT.SetBool(Vars.Internal_FSBGJustClosed, !1), this.mustOpenBonus && !XT.GetBool(Vars.LastWinIsCounting)) {
            if (XT.GetBool(BGVars.BonusDataReceived)) {
                this.mustOpenBonus = !1, XT.SetBool(BGVars.BonusDataReceived, !1), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup);
                var s = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
                return null != s && (XT.SetInt(Vars.CurrentFreeSpinDisplayed, s.CurrentSpin), XT.SetInt(Vars.FreeSpinsLeftDisplayed, s.MaxSpins - s.CurrentSpin)), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Bonus), UHTAction.ChangeStage(UHTStageName.Transition)
            }
            return UHTAction.NoAction()
        }
        if (this.mustOpenGamble = null != XT.GetObject(Vars.GambleV2Data) && XT.GetBool(Vars.CanSpin) && !XT.GetBool(Vars.LastWinIsCounting), this.mustOpenGamble) return this.mustOpenGamble = !1, XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion, !0), XT.SetDouble(Vars.Gamble_CurrentBalance, XT.GetDouble(Vars.FreeSpinsWinMultipliedDisplayed)), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Gamble), UHTAction.ChangeStage(UHTStageName.Transition);
        if (this.changeToResult) return this.changeToResult = !1, AutoplayManager.RestoreSettings(), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Result), UHTInterfaceBOSS.PostMessage("freeSpinEnded"), UHTInterfaceBOSS.PostMessage("gameRoundEnded"), UHTAction.ChangeStage(UHTStageName.Transition);
        if (this.shouldEnterFS && 0 == XT.GetBool(Vars.WaitInResultForBigWin) && 0 == XT.GetBool(Vars.LastWinIsCounting) && (XT.GetBool(Vars.SpinBlockingFeatureIsRunning) || (this.shouldEnterFS = !1, this.ReallyEnterFreeSpins())), this.freeSpinsEnded && 0 == XT.GetBool(Vars.WaitInResultForBigWin) && 0 == XT.GetBool(Vars.LastWinIsCounting)) {
            if (this.freeSpinsEnded = !1, XT.GetBool(Vars.OpenFSBGForMysteryScatter) && XT.GetBool(Vars.FromServer_MustOpenFSBG)) return XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), XT.SetBool(Vars.FromServer_MustOpenFSBG, !1), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.FSBG), UHTAction.ChangeStage(UHTStageName.Transition);
            XT.SetBool(Vars.SkipNextBigWin, !0);
            var a = this.fsr.TotalSpins,
                r = XT.GetObject(Vars.FreeSpinsChainData);
            if (null != r && r.HasPreviousChainInformation()) {
                a = 0;
                for (var l = 0; l < r.FSCSpinsTotal.length; l++) a += r.FSCSpinsTotal[l]
            }
            XT.SetInt(Vars.TotalFreeSpinsChainDisplayed, a), XT.SetInt(Vars.TotalFreeSpinsDisplayed, this.fsr.TotalSpins), XT.SetDouble(Vars.FreeSpinsTotalWinDisplayed, this.fsr.TotalWin), XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed, this.fsr.TotalMultiplier), XT.SetDouble(Vars.FreeSpinsTotalWinMultipliedDisplayed, XT.GetDouble(Vars.SpinCycleWinReceived)), XT.GetDouble(Vars.SpinCycleWinReceived) > 0 ? (XT.SetDouble(Vars.FSResultWindowTotalWinMultipliedDisplayed, 0), XT.SetDouble(Vars.FSResultWindowTotalWinMultipliedDisplayed, XT.GetDouble(Vars.SpinCycleWinReceived)), XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsShowWindowWin)) : this.bypassNoWinFSWindow ? this.OnLoseResultCollectPressed() : XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsShowWindowLose), 0 == XT.GetBool(Vars.CanGamble_FreeSpin) && XT.TriggerEvent(Vars.Evt_ToServer_OnFreeSpinsClosed)
        }
        if (this.mustSpin && 0 == XT.GetBool(Vars.WaitInResultForBigWin) && 0 == XT.GetBool(Vars.LastWinIsCounting) || this.changeToFSBG) {
            if (XT.GetBool(Vars.FSStartNeedsConfirmation) && !this.fsStartConfirmed) return UHTAction.NoAction();
            if (this.mustStartFSSounds && (XT.TriggerEvent(Vars.Evt_Internal_SwitchToFSSounds), this.mustStartFSSounds = !1), XT.GetBool(Vars.FromServer_MustOpenFSBG)) return this.changeToFSBG = !1, XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), XT.SetBool(Vars.FromServer_MustOpenFSBG, !1), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.FSBG), UHTAction.ChangeStage(UHTStageName.Transition);
            if (!XT.GetBool(Vars.WaitInResultForBigWin) && !XT.GetBool(Vars.SpinBlockingFeatureIsRunning)) return this.mustSpin = !1, XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Spin), UHTAction.ChangeStage(UHTStageName.Transition)
        }
    }
    return UHTAction.NoAction()
}, StageResultFreeSpin.prototype.UHTFinish = function () {
    for (var t in this.firstTimeInFSResult = !1, this.varsToUpdateWhenWinIsUpdated) this.varsToUpdateWhenWinIsUpdated.hasOwnProperty(t) && delete this.varsToUpdateWhenWinIsUpdated[t];
    XT.UnregisterCallbackEvent(this.OnPressedStop, this), XT.UnregisterCallbackEvent(this.OnBalanceUpdated, this), XT.UnregisterCallbackEvent(this.OnWinResultCollectPressed, this), XT.UnregisterCallbackEvent(this.OnLoseResultCollectPressed, this), XT.UnregisterCallbackEvent(this.OnResultDisplayerLoopDone, this), XT.UnregisterCallbackEvent(this.OnConfirmFSStart, this), XT.UnregisterCallbackEvent(this.OnPressedGamble, this), XT.UnregisterCallbackEvent(this.OnMustOpenGamble, this), XT.UnregisterCallbackEvent(this.OnJackpotCollected, this), XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWin, this), XT.UnregisterCallbackEvent(this.OnBonusRoundsContinuePressed, this)
}, StageResultFreeSpin.prototype.OnPressedStop = function () {
    XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)
}, StageResultFreeSpin.prototype.ReadyForSpin = function (t, e) {
    t == CAT_Event.CallbackType.EndOfEvent && (XT.GetBool(Vars.FromServer_MustOpenFSBG) || VSGameStateManager.ChangeTo(VSGameState.ResultFreeSpins), this.transition.cat.UnregisterCallback(this.transition.id, this.ReadyForSpin, this), this.additionalFreeSpins.cat.UnregisterCallback(this.additionalFreeSpins.id, this.ReadyForSpin, this)), this.mustSpin = !0
}, StageResultFreeSpin.prototype.OnBalanceUpdated = function () {
    0 == XT.GetBool(Vars.BalanceDisplayedIsAnimating) && (XT.SetDouble(Vars.BalanceDisplayed, XT.GetDouble(Vars.BalanceReceived)), XT.SetDouble(Vars.BonusBalance, XT.GetDouble(Vars.BonusBalanceReceived)))
}, StageResultFreeSpin.prototype.OnPressedGamble = function () {
    this.freeSpinsEnded = !1, this.fsr.IsFreeSpinsGambled = !0, XT.SetBool(Vars.Logic_IsFreeSpin, !1), XT.TriggerEvent(Vars.Evt_Internal_FreeSpinsEnded), XT.GetBool(Vars.WaitInResultForBigWin) ? XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin) : (XT.GetBool(Vars.LastWinIsCounting) && XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), XT.TriggerEvent(Vars.Evt_ToServer_RequestGambleOpen))
}, StageResultFreeSpin.prototype.OnMustOpenGamble = function () {
    XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsCloseWindowWin), this.mustOpenGamble = !0
}, StageResultFreeSpin.prototype.UpdateGambleButtonState = function () {
    XT.GetBool(Vars.FromServer_CanGambleSpinWin) && !XT.GetBool(Vars.ForceDisableGambleSpinWin) ? XT.TriggerEvent(Vars.Evt_Internal_EnableGambleButton) : XT.TriggerEvent(Vars.Evt_Internal_DisableGambleButton)
}, StageResultFreeSpin.prototype.IsJackpotWin = function () {
    return XT.GetBool(Vars.FromServer_IsJackpotWin) && !this.isJackpotWinOnScreen && (XT.GetBool(Vars.WaitInResultForBigWin) || XT.GetBool(Vars.LastWinIsCounting) || (this.isJackpotWinOnScreen = !0)), XT.GetBool(Vars.FromServer_IsJackpotWin)
}, StageResultFreeSpin.prototype.OnJackpotCollected = function () {
    XT.GetBool(Vars.WaitInResultForBigWin) ? XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin) : (XT.GetBool(Vars.LastWinIsCounting) && XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), XT.SetBool(Vars.FromServer_IsJackpotWin, !1), this.isJackpotWinOnScreen = !1)
}, StageResultFreeSpin.prototype.OnResultDisplayerLoopDone = function () {
    if (this.IsJackpotWin() || XT.GetBool(Vars.LastWinIsCounting) || XT.GetBool(ResultDisplayerVars.ResultDisplayer_DoExtraLoop)) XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop);
    else if (this.prepareToOpenBonus) this.mustOpenBonus = !0;
    else if (this.fsr.IsLastFreeSpin) {
        if (this.IsAutoRespin()) return void(this.mustSpin = !0);
        if (this.IsFSChainedSession()) return;
        if (XT.GetBool(Vars.FreeSpinsEndedOverride)) return XT.SetBool(Vars.FreeSpinsEndedOverride, !1), void(this.mustSpin = !0);
        XT.GetDouble(Vars.FreeSpinsConsolationPrize) > 0 && (XT.SetDouble(Vars.SpinCycleWinDisplayed, XT.GetDouble(Vars.SpinCycleWinReceived)), XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)), this.freeSpinsEnded = !0, this.transitionWasStarted = !1, XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion, !0)
    } else this.fsr.IsFreeSpinsStart ? this.shouldEnterFS = !0 : XT.GetInt(Vars.AdditionalFreeSpinsWon) > 0 ? (this.additionalFreeSpins.cat.RegisterCallback(this.additionalFreeSpins.id, this.ReadyForSpin, this), this.additionalFreeSpins.Start()) : this.mustSpin = !0
}, StageResultFreeSpin.prototype.OnWinResultCollectPressed = function () {
    XT.GetBool(Vars.WaitInResultForBigWin) ? XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin) : (XT.GetBool(Vars.LastWinIsCounting) && XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsCloseWindowWin), XT.TriggerEvent("PS_AnnounceResultShown"), this.OnFreeSpinsClosed())
}, StageResultFreeSpin.prototype.OnLoseResultCollectPressed = function () {
    XT.TriggerEvent(Vars.Evt_CodeToData_FreeSpinsCloseWindowLose), this.OnFreeSpinsClosed()
}, StageResultFreeSpin.prototype.IsFSChainedSession = function () {
    var t = XT.GetObject(Vars.FreeSpinsChainData),
        e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    return null != t && e.MaxSpins > 0 && (XT.SetInt(Vars.FreeSpinsTotalMultiplierDisplayed, e.TotalMultiplier), XT.SetInt(Vars.FreeSpinsLeftDisplayed, e.MaxSpins), this.mustStartFSSounds = !0, XT.TriggerEvent(Vars.Evt_Internal_FreeSpinsStarted), XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), this.transitionWasStarted = !0, this.transition.cat.RegisterCallback(this.transition.id, this.ReadyForSpin, this), this.transition.Start(), !0)
}, StageResultFreeSpin.prototype.OnFreeSpinsClosed = function () {
    XT.GetBool(Vars.FromServer_MustOpenFSBG) ? this.changeToFSBG = !0 : this.changeToResult = !0, this.freeSpinsEnded = !1, this.shouldClearMysteryScattersOnFSClose && XT.SetObject(Vars.MysteryScatterSymbolIds, []), XT.SetBool(Vars.Logic_IsFreeSpin, !1), XT.GetBool(Vars.CanGamble_FreeSpin) && XT.TriggerEvent(Vars.Evt_ToServer_OnFreeSpinsClosed), XT.TriggerEvent(Vars.Evt_Internal_FreeSpinsEnded)
}, StageResultFreeSpin.prototype.ReallyEnterFreeSpins = function () {
    this.mustStartFSSounds = !0, XT.TriggerEvent(Vars.Evt_Internal_FreeSpinsStarted), XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), this.fsr = XT.GetObject(Vars.ReceivedFreeSpinsResponse), XT.SetInt(Vars.CurrentFreeSpinDisplayed, 0), XT.SetDouble(Vars.FreeSpinsLastWinDisplayed, 0), this.totalWinReceivedSoFarInFS = 0, XT.SetInt(Vars.FreeSpinsLeftDisplayed, this.fsr.MaxSpins), AutoplayManager.ResetSettings(), this.transitionWasStarted = !0, this.transition.cat.RegisterCallback(this.transition.id, this.ReadyForSpin, this), this.transition.Start()
}, StageResultFreeSpin.prototype.OnConfirmFSStart = function () {
    this.fsStartConfirmed = !0
}, StageResultFreeSpin.prototype.OnRequestToUpdateDisplayedWin = function () {
    for (var t in this.varsToUpdateWhenWinIsUpdated) XT.SetDouble(t, this.varsToUpdateWhenWinIsUpdated[t]);
    XT.TriggerEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI), XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWin, this)
}, StageResultFreeSpin.prototype.IsAutoRespin = function () {
    return this.isRespin && !XT.GetBool(Vars.ManualRespin)
}, StageResultFreeSpin.prototype.OnBonusRoundsContinuePressed = function () {
    var t = XT.GetObject(Vars.BonusRoundsData);
    null != t && t.Type != VsFreeRound.RoundType.Timed || (XT.TriggerEvent(Vars.Evt_CodeToData_CloseOtherOpenedBonusRoundsWindows), XT.SetBool(Vars.CanSpin, !0), this.OnBonusRoundsInfoUpdated())
}, StageResultFreeSpin.prototype.OnBonusRoundsInfoUpdated = function () {
    var t = BonusRoundsController.HandleNextEvent(!1, !0, !1);
    CoinManager.SetStrictBetMode(t.isBonusRounds);
    var e = (t = BonusRoundsController.HandleNextEvent(!1, !1, !0)).isBonusRounds,
        i = t.messageIsOpened;
    XT.GetObject(Vars.BonusRoundsData);
    0 == i && CoinManager.SetStrictBetMode(e)
}, goog.require("UHT.Engine"), goog.require("UHT.UHTStage"), StageSpin.prototype = Object.create(UHTStage.prototype), StageSpin.prototype.constructor = StageSpin, StageSpin.preventBalanceUpdate = !1, StageSpin.prototype.GetStageName = function () {
    return UHTStageName.Spin
}, StageSpin.prototype.XTRegisterCallbacks = function () {}, StageSpin.prototype.XTInitVariablesAndEvents = function () {
    XT.SetDouble(Vars.CurrentWinMultiplier, 1), XT.SetObject(Vars.SpinRoutineQueue, this.rq), XT.SetBool(Vars.SpinResultIsBigWin, !1), XT.SetFloat(Vars.SpinDuration, 0)
}, StageSpin.prototype.UHTInit = function () {}, StageSpin.prototype.UHTUpdate = function (t) {
    if (t) {
        XT.GetBool(Vars.IsDifferentSpinType) || XT.SetFloat(Vars.SpinDuration, 0);
        var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse),
            i = XT.GetObject(Vars.RespinData);
        this.shouldResetSpinCycleWinDisplayed = (null == i || i.IsDone) && (!e.IsFreeSpin || e.IsLastFreeSpin), null != this.rq ? (XT.TriggerEvent(Vars.Evt_Internal_InjectRQIBeforeSpinStart), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnRQEnded, null, this)), this.rq.StartRoutines()) : this.OnRQEnded(null), UHTEngine.RegisterUserInteraction()
    }
    if (this.isRQEnded) {
        this.isRQEnded = !1, XT.GetBool(Vars.Logic_IsFreeSpin) || (XT.GetBool(Vars.ContinuousSpin) ? globalTracking.SendEvent("uht_spin", "started_turbo_spin_fastplay", XT.GetBool(Vars.FastPlay) ? 1 : 0, "SpinTracker") : globalTracking.SendEvent("uht_spin", "started_normal_spin_fastplay", XT.GetBool(Vars.FastPlay) ? 1 : 0, "SpinTracker")), globalTracking.StartTimer("uht_spin", "time_response_received", "SpinTracker");
        i = XT.GetObject(Vars.RespinData);
        XT.GetBool(Vars.Logic_IsFreeSpin) || null != i && !i.IsDone || UHTInterfaceBOSS.PostMessage("gameRoundStarted"), UHTInterfaceBOSS.PostMessage("spinStarted"), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Stop, this.OnPressedStop, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StartAutoplay, this.OnStartAutoplay, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StopAutoplay, this.OnStopAutoplay, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_SpinEnded, this.OnSpinEnded, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdatedFromResult, this.OnBalanceUpdated, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed, this.OnBonusRoundsContinuePressed, this), XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), this.onlySpinVisually || XT.TriggerEvent(Vars.Evt_ToServer_RequestSpin), XT.TriggerEvent(Vars.Evt_Internal_StopIdleSpinCounter), XT.TriggerEvent(Vars.Evt_Internal_SpinStarted), XT.SetBool(Vars.CanSpin, !1), XT.SetBool(Vars.SkipNextBigWin, !1), XT.SetInt(Vars.BigWinLevel, 0), XT.SetBool(Vars.SpinResultIsBigWin, !1), XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion, !1);
        var n = BonusRoundsController.HandleNextEvent(!0, !0, !0);
        this.isBonusRounds = n.isBonusRounds;
        XT.GetObject(Vars.BonusRoundsData), e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
        XT.GetBool(Vars.UpdateVSGameStateOnSpin) && (XT.SetDouble(Vars.CurrentWinMultiplier, 1), !e.IsFreeSpin || e.IsFreeSpinsCollected || e.IsFreeSpinsGambled ? XT.GetInt(Vars.AutoplaySpinsLeft) >= 0 ? this.autoRespinsIsInfinite ? VSGameStateManager.ChangeTo(VSGameState.Spin) : this.isBonusRounds ? VSGameStateManager.ChangeTo(VSGameState.SpinBonusRoundsAutoplay) : VSGameStateManager.ChangeTo(VSGameState.SpinAutoplay) : this.isBonusRounds ? VSGameStateManager.ChangeTo(VSGameState.SpinBonusRounds) : this.onlySpinVisually || this.resumeSpinning ? VSGameStateManager.ChangeTo(VSGameState.Result) : VSGameStateManager.ChangeTo(VSGameState.Spin) : (XT.SetDouble(Vars.CurrentWinMultiplier, e.TotalMultiplier), VSGameStateManager.ChangeTo(VSGameState.SpinFreeSpins))), null != this.cat && this.cat.StartEvent(this.startEvent.id)
    } else {
        n = BonusRoundsController.HandleNextEvent(!0, !0, !0);
        this.isBonusRounds = n.isBonusRounds, Globals.InputBlocked || (Input.GetKeyDown(KeyCode.Space) || Input.GetKeyDown(KeyCode.Return) || XT.GetBool(Vars.ContinuousSpin)) && XT.GetBool(Vars.AllowFastStop) && (!XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins) || XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins) && XT.GetFloat(Vars.SpinDuration) > XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value)) && (XT.GetBool(Vars.DisableStopButton) || XT.TriggerEvent(Vars.Evt_Internal_ReelManager_StopSpin));
        var o = null != XT.GetObject(Vars.BonusRoundsData) && 0 == XT.GetObject(Vars.BonusRoundsData).RoundsLeft && GameConnection.I.requestState == RequestState.Collect;
        if (this.spinEnded && !o) {
            if (this.spinEnded = !1, !XT.GetBool(Vars.Logic_IsFreeSpin)) {
                var s = GLOBAL_TIME_RESPONSE_RECEIVED;
                s > 0 && XT.GetInt(Vars.AutoplaySpinsLeft) >= 0 && globalTracking.SendEvent("uht_spin", "finished_autospin", s, "SpinTracker")
            }
            UHTInterfaceBOSS.PostMessage("spinEnded");
            var a = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
            i = XT.GetObject(Vars.RespinData);
            return this.shouldResetSpinCycleWinDisplayed && XT.SetDouble(Vars.SpinCycleWinDisplayed, 0), (null == i || i.IsDone) && (!a.IsFreeSpin || a.IsLastFreeSpin) && (XT.GetBool(Vars.MustOpenBonus) || XT.GetBool(Vars.FromServer_MustOpenFSBG) || null != XT.GetObject(Vars.GambleV2Data) || UHTInterfaceBOSS.PostMessage("gameRoundEnded")), XT.TriggerEvent(Vars.Evt_Internal_SpinEnded), XT.GetBool(Vars.MustPlayJackpot) ? (XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Jackpot), UHTAction.ChangeStage(UHTStageName.Transition)) : XT.GetBool(Vars.TriggerBonusBeforeResult) && XT.GetBool(Vars.MustOpenBonus) ? XT.GetBool(BGVars.BonusDataReceived) ? (XT.SetBool(BGVars.BonusDataReceived, !1), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Bonus), UHTAction.ChangeStage(UHTStageName.Transition)) : UHTAction.NoAction() : (a.IsFreeSpin || XT.GetBool(Vars.FromServer_MustOpenFSBG)) && (null == i || i.IsDone && a.IsFreeSpinsStart || !a.IsFreeSpinsStart) ? (XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.ResultFreeSpin), UHTAction.ChangeStage(UHTStageName.Transition)) : (XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Result), UHTAction.ChangeStage(UHTStageName.Transition))
        }
    }
    return UHTAction.NoAction()
}, StageSpin.prototype.UHTFinish = function () {
    XT.UnregisterCallbackEvent(this.OnSpinEnded, this), XT.UnregisterCallbackEvent(this.OnBalanceUpdated, this), XT.UnregisterCallbackEvent(this.OnPressedStop, this), XT.UnregisterCallbackEvent(this.OnStartAutoplay, this), XT.UnregisterCallbackEvent(this.OnStopAutoplay, this), XT.UnregisterCallbackEvent(this.OnBonusRoundsContinuePressed, this)
}, StageSpin.prototype.OnPressedStop = function () {
    XT.GetBool(Vars.AllowFastStop) && !XT.GetBool(Vars.DisableStopButton) && XT.TriggerEvent(Vars.Evt_Internal_ReelManager_StopSpin)
}, StageSpin.prototype.OnSpinEnded = function () {
    this.spinEnded = !0
}, StageSpin.prototype.OnBalanceUpdated = function () {
    StageSpin.preventBalanceUpdate || (XT.SetDouble(Vars.BalanceDisplayed, XT.GetDouble(Vars.BalanceReceived)), XT.SetDouble(Vars.BonusBalance, XT.GetDouble(Vars.BonusBalanceReceived)))
}, StageSpin.prototype.OnStopAutoplay = function () {
    XT.SetInt(Vars.AutoplaySpinsLeft, -1);
    XT.GetObject(Vars.BonusRoundsData);
    this.isBonusRounds ? VSGameStateManager.ChangeTo(VSGameState.SpinBonusRounds) : VSGameStateManager.ChangeTo(VSGameState.Spin)
}, StageSpin.prototype.OnBonusRoundsContinuePressed = function () {
    XT.TriggerEvent(Vars.Evt_ToServer_ReloadGame)
}, StageSpin.prototype.OnStartAutoplay = function () {
    XT.SetInt(Vars.AutoplaySpinsLeft, XT.GetInt(Vars.AutoplaySpinsRequested)), XT.SetInt(Vars.AutoplaySpinsLeftDisplayed, XT.GetInt(Vars.AutoplaySpinsLeft))
}, StageSpin.prototype.OnRQEnded = function (t) {
    var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    null == e || XT.GetBool(Vars.IsDifferentSpinType) && !this.canUpdateFreeSpinsLeftDuringDifferentSpinType || !this.canUpdateFreeSpinsDuringRespins || (XT.SetInt(Vars.CurrentFreeSpinDisplayed, e.CurrentSpin), XT.SetInt(Vars.FreeSpinsLeftDisplayed, e.MaxSpins - e.CurrentSpin)), this.isRQEnded = !0
}, goog.require("UHT.Engine"), goog.require("UHT.UHTStage"), StageBonusLevelsNew.prototype = Object.create(UHTStage.prototype), StageBonusLevelsNew.prototype.constructor = StageBonusLevelsNew, StageBonusLevelsNew.prototype.GetStageName = function () {
    return UHTStageName.Bonus
}, StageBonusLevelsNew.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.BonusData, this.OnBonusDataObject, this)
}, StageBonusLevelsNew.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(BGVars.ShowResultAfterBigWin, this.bigWinBeforeResultWindow), XT.SetBool(BGVars.HasMultipleLevelsNoItemMarkers, this.hasMultipleLevelsNoItemMarkers)
}, StageBonusLevelsNew.prototype.OnDestroy = function () {}, StageBonusLevelsNew.prototype.OnBonusDataObject = function (t) {
    this.bonusData = t
}, StageBonusLevelsNew.prototype.UHTUpdate = function (t) {
    if (t) CoinManager.SetStrictBetMode(!0), XT.RegisterCallbackEvent(BGVars.Evt_CodeToData_BonusResultWindowShow, this.OnBonusResultWindowShow, this, this.evtBonusResultWindowShowPriority), XT.RegisterCallbackEvent(BGVars.Evt_DataToCode_BonusResultWindowCollect, this.OnBonusResultWindowCollect, this), XT.RegisterCallbackEvent(BGVars.Evt_DataToCode_BonusResultWindowClosed, this.OnBonusResultWindowClosed, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Gamble_BonusResult, this.OnGamblePressed, this), VSGameStateManager.ChangeTo(VSGameState.Bonus), XT.SetBool(Vars.MustOpenBonus, !1), XT.SetInt(Vars.BonusTotalWinDisplayed, this.bonusData.WinPoints), this.mustCloseBonus = !1, this.stageToReturnTo = UHTStageName.No_Stage, this.bonusData.HasMultipleLevels() ? 0 == this.bonusData.Level ? (this.bonusData.HasMultipliers() ? this.bonusData.MultiplierStep ? XT.TriggerEvent(BGVars.Evt_Internal_ShowLevel) : XT.TriggerEvent(BGVars.Evt_Internal_ResumeLevel) : XT.TriggerEvent(BGVars.Evt_Internal_ShowLevel), UHTInterfaceBOSS.PostMessage("bonusGameStarted")) : XT.TriggerEvent(BGVars.Evt_Internal_ResumeLevel) : this.bonusData.GameOver || this.hasMultipleLevelsNoItemMarkers && this.bonusData.Level > 0 ? XT.TriggerEvent(BGVars.Evt_Internal_ResumeLevel) : (UHTInterfaceBOSS.PostMessage("bonusGameStarted"), XT.TriggerEvent(BGVars.Evt_Internal_ShowLevel)), XT.TriggerEvent(Vars.Evt_Internal_StopVSLogicSounds), XT.TriggerEvent(Vars.Evt_Internal_StartBGLogicSounds);
    else {
        if (this.mustOpenGamble) return this.mustOpenGamble = !1, XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Gamble), UHTAction.ChangeStage(UHTStageName.Transition);
        if (this.mustCloseBonus) {
            if (XT.GetBool(Vars.MustOpenBonus)) {
                if (this.bonusData.GameOver) return UHTAction.NoAction();
                this.stageToReturnTo = UHTStageName.Bonus
            } else {
                var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
                this.stageToReturnTo = e.IsFreeSpin || XT.GetBool(Vars.FromServer_MustOpenFSBG) ? UHTStageName.ResultFreeSpin : UHTStageName.Result
            }
            return this.stageToReturnTo == UHTStageName.Result && AutoplayManager.RestoreSettings(), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, this.stageToReturnTo), UHTInterfaceBOSS.PostMessage("bonusGameEnded"), XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin || XT.GetBool(Vars.MustOpenBonus) || UHTInterfaceBOSS.PostMessage("gameRoundEnded"), UHTAction.ChangeStage(UHTStageName.Transition)
        }
    }
    return UHTAction.NoAction()
}, StageBonusLevelsNew.prototype.UHTFinish = function () {
    XT.UnregisterCallbackEvent(this.OnBonusResultWindowShow, this), XT.UnregisterCallbackEvent(this.OnBonusResultWindowCollect, this), XT.UnregisterCallbackEvent(this.OnBonusResultWindowClosed, this), XT.UnregisterCallbackEvent(this.OnGamblePressed, this), XT.TriggerEvent(Vars.Evt_Internal_StopBGLogicSounds), XT.TriggerEvent(Vars.Evt_Internal_StartVSLogicSounds)
}, StageBonusLevelsNew.prototype.OnBonusResultWindowShow = function () {
    XT.SetInt(Vars.BonusTotalWinDisplayed, this.bonusData.WinPoints), XT.SetDouble(Vars.BonusBetPerLine, CoinManager.GetLastBet()), XT.GetBool(BGVars.ShowResultAfterBigWin) || (XT.SetDouble(Vars.BonusRealWinDisplayed, 0), XT.SetDouble(Vars.BonusRealWinDisplayed, this.bonusData.RealWin)), XT.SetDouble(Vars.SpinCycleWinDisplayed, XT.GetDouble(Vars.SpinCycleWinReceived))
}, StageBonusLevelsNew.prototype.OnBonusResultWindowCollect = function () {
    XT.GetBool(Vars.WaitInResultForBigWin) ? XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin) : (XT.GetBool(Vars.LastWinIsCounting) && XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), XT.TriggerEvent(BGVars.Evt_CodeToData_BonusResultWindowClose))
}, StageBonusLevelsNew.prototype.OnBonusResultWindowClosed = function () {
    this.mustOpenGamble = null != XT.GetObject(Vars.GambleV2Data), this.mustOpenGamble || (XT.TriggerEvent(Vars.Evt_ToServer_BonusGameFinished), this.mustCloseBonus = !0)
}, StageBonusLevelsNew.prototype.OnGamblePressed = function () {
    XT.GetBool(Vars.WaitInResultForBigWin) ? XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin) : (XT.GetBool(Vars.LastWinIsCounting) && XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), XT.TriggerEvent(BGVars.Evt_CodeToData_BonusResultWindowClose), XT.SetDouble(Vars.Gamble_CurrentBalance, this.bonusData.RealWin), this.bonusData.isBonusGambled = !0, this.mustOpenGamble = !0)
}, goog.require("UHT.Engine"), goog.require("UHT.UHTStage"), StageGamble.prototype = Object.create(UHTStage.prototype), StageGamble.prototype.constructor = StageGamble, StageGamble.prototype.GetStageName = function () {
    return UHTStageName.Gamble
}, StageGamble.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.Gamble_CurrentProgressObject, new GambleProgressObject)
}, StageGamble.prototype.UHTInit = function () {}, StageGamble.prototype.UHTUpdate = function (t) {
    if (t) CoinManager.SetStrictBetMode(!0), this.Init(), XT.GetBool(Vars.GameHasCustomGamble) ? VSGameStateManager.ChangeTo(VSGameState.GambleCustom) : VSGameStateManager.ChangeTo(VSGameState.Gamble), null != this.cat && this.cat.StartEvent(this.startEvent.id);
    else if (this.mustHideGamble) {
        this.mustHideGamble = !1, XT.TriggerEvent(Vars.Evt_Internal_Gamble_ClearProgress), XT.SetDouble(Vars.WinReceived, XT.GetDouble(Vars.Gamble_CurrentBalance)), XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion, !0), null != this.cat && this.cat.StartEvent(this.endEvent.id);
        var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
        return e.IsFreeSpin && !e.IsFreeSpinsGambled ? (XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.ResultFreeSpin), UHTAction.ChangeStage(UHTStageName.Transition)) : UHTAction.ChangeStage(UHTStageName.Result)
    }
    return UHTAction.NoAction()
}, StageGamble.prototype.UHTFinish = function () {
    XT.UnregisterCallbackObject(this.OnResultReceived, this), XT.UnregisterCallbackEvent(this.OnPressedGambleCollect, this), XT.UnregisterCallbackEvent(this.OnMustCloseGamble, this), XT.UnregisterCallbackEvent(this.OnPick, this)
}, StageGamble.prototype.Init = function () {
    if (XT.RegisterCallbackObject(Vars.FromServer_GambleResult, this.OnResultReceived, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_GambleCollect, this.OnPressedGambleCollect, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_GambleClose, this.OnMustCloseGamble, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_GamblePick, this.OnPick, this), null != XT.GetObject(Vars.FromServer_GambleHistory)) {
        var t = XT.GetObject(Vars.FromServer_GambleHistory);
        XT.SetDouble(Vars.Gamble_CurrentBalance, t.WinAmount), XT.TriggerEvent(Vars.Evt_Internal_Gamble_DisplayHistory)
    }
    XT.SetDouble(Vars.Gamble_FinalBalanceDisplayed, 0), this.canPick = !0, this.atLeastOnePick = !1
}, StageGamble.prototype.OnPick = function () {
    this.canPick && (this.canPick = !1, this.atLeastOnePick = !0, XT.SetBool(Vars.SkipNextBigWin, !1), XT.TriggerEvent(Vars.Evt_ToServer_GamblePicked))
}, StageGamble.prototype.OnResultReceived = function (t) {
    switch (this.lastGambleResponse = t, XT.SetDouble(Vars.Gamble_CurrentBalance, this.lastGambleResponse.GetBalance()), XT.SetInt(Vars.Gamble_PickResult_ItemID, this.lastGambleResponse.GetCard()), XT.TriggerEvent(Vars.Evt_Internal_Gamble_PickResult_Handled), this.lastGambleResponse.GetState()) {
        case GamblingState.Win:
            XT.TriggerEvent(Vars.Evt_CodeToData_Gamble_PickResult_Win);
            break;
        case GamblingState.Lose:
            XT.TriggerEvent(Vars.Evt_CodeToData_Gamble_PickResult_Lose);
            break;
        case GamblingState.WinLimit:
            XT.TriggerEvent(Vars.Evt_CodeToData_Gamble_PickResult_WinLimit);
            break
    }
    this.canPick = !0
}, StageGamble.prototype.OnMustCloseGamble = function () {
    this.mustHideGamble = !0
}, StageGamble.prototype.OnPressedGambleCollect = function () {
    if (XT.GetBool(Vars.WaitInResultForBigWin)) XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin);
    else {
        XT.GetBool(Vars.LastWinIsCounting) && XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin);
        var t = XT.GetObject(Vars.BonusData),
            e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
        this.atLeastOnePick || (null != t && t.isBonusGambled && XT.TriggerEvent(Vars.Evt_ToServer_BonusGameFinished), null != e && e.IsFreeSpinsGambled && XT.TriggerEvent(Vars.Evt_ToServer_OnFreeSpinsClosed)), null != t && (t.isBonusGambled = !1), XT.TriggerEvent(Vars.Evt_ToServer_RequestGambleClose), XT.TriggerEvent(Vars.Evt_Internal_GambleCloseCurrentResultWindow)
    }
}, goog.require("UHT.Engine"), goog.require("UHT.UHTStage");
var StageTransitionVars = {
    StageTransition_WaitInTransition: "StageTransition_WaitInTransition",
    Evt_StageTransition_SetWaitInTransition: "Evt_StageTransition_SetWaitInTransition"
};

function StageTransition() {
    UHTStage.call(this), this.transitions = [], this.toStageName = UHTStageName.No_Stage, this.fromStageName = UHTStageName.No_Stage, this.transitionCAT = null, this.transitionDone = !1, this.transitionCanWait = !1
}

function IntroPageSwitcher() {
    Component.call(this), this.pageSwitch = null, this.pages = null
}

function FXBeforeBigWin_DiamondStrike() {
    this.fxCat = null, this.canStartFX = !1
}
StageTransition.prototype = Object.create(UHTStage.prototype), StageTransition.prototype.constructor = StageTransition, StageTransition.prototype.GetStageName = function () {
    return UHTStageName.Transition
}, StageTransition.prototype.XTRegisterCallbacks = function () {}, StageTransition.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(StageTransitionVars.StageTransition_WaitInTransition, !1)
}, StageTransition.prototype.UHTInit = function () {}, StageTransition.prototype.UHTUpdate = function (t) {
    var e = XT.GetBool(StageTransitionVars.StageTransition_WaitInTransition);
    if (t) {
        if (this.fromStageName = XT.GetObject(Vars.FromStageName), this.toStageName = XT.GetObject(Vars.ToStageName), this.transitionCAT = this.GetCAT(this.fromStageName, this.toStageName), null != this.transitionCAT) this.transitionCAT.RegisterCallback(0, this.TransitionToStageDone, this), this.transitionCAT.StartEvent(0);
        else if (!this.transitionCanWait || !e) return UHTAction.ChangeStage(this.toStageName)
    } else if ((!this.transitionCanWait || !e) && this.transitionDone) return this.transitionDone = !1, UHTAction.ChangeStage(this.toStageName);
    return UHTAction.NoAction()
}, StageTransition.prototype.UHTFinish = function () {
    null != this.transitionCAT && this.transitionCAT.StartEvent(1)
}, StageTransition.prototype.TransitionToStageDone = function (t, e) {
    t == CAT_Event.CallbackType.EndOfEvent && (this.transitionDone = !0)
}, StageTransition.prototype.GetCAT = function (t, e) {
    for (var i = 0; i < this.transitions.length; i++)
        if (this.transitions[i].fromStageName == t && this.transitions[i].toStageName == e) return this.transitionCanWait = this.transitions[i].canWait, this.transitions[i].transitionCAT;
    return this.transitionCanWait = !1, null
}, goog.require("UHT.Engine"), IntroPageSwitcher.prototype = Object.create(Component.prototype), IntroPageSwitcher.prototype.constructor = IntroPageSwitcher, IntroPageSwitcher.prototype.SwitchToPage = function (t) {
    for (var e = _number.otoi(t), i = 0, n = 0; n < this.pages.length; n++)
        if (this.pages[n].activeSelf) {
            i = n;
            break
        } var o = e * (this.pages.length - 1) + (i < e ? i : i - 1);
    this.pageSwitch[o].Start()
}, goog.require("UHT.Engine"), FXBeforeBigWin_DiamondStrike.prototype = Object.create(XTLink.prototype), FXBeforeBigWin_DiamondStrike.prototype.constructor = FXBeforeBigWin_DiamondStrike, FXBeforeBigWin_DiamondStrike.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded, this.OnSpinEnded, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PlaySpinEndedBWSound, this.OnSpinEndedBWSound, this)
}, FXBeforeBigWin_DiamondStrike.prototype.OnSpinEnded = function () {
    this.canStartFX = !0
}, FXBeforeBigWin_DiamondStrike.prototype.OnSpinEndedBWSound = function () {
    this.gameObject.activeInHierarchy && this.canStartFX && (this.canStartFX = !1, this.fxCat.Start())
}, goog.require("UHT.FOXLink");
var WinLimitVars = {
    WinLimit_TotalBetMultiplier: "WinLimit_TotalBetMultiplier",
    WinLimit_TotalAmount: "WinLimit_TotalAmount",
    WinLimit_UncappedWinLines: "WinLimit_UncappedWinLines"
};

function WinLimitFOX() {
    FOXLink.call(this), this.defaultWinLimit = "tbm", this.anteBetWinLimit = "tbm_a", this.winLimitsValues = {}, this.isCollect = !1, this.isBonusCollect = !1, this.isSpin = !1, this.isCapNeeded = !1, this.isCappedIfNeeded = !1, this.cycleWin = 0, this.prevCycleWin = 0, this.cycleWinBeforeRespins = 0, this.cycleWinBeforeFreeSpins = 0, this.bonusWinsInFreeSpins = 0, this.gamble_riskAmount = 0, this.partialWinIsPartOfFSWin = !1, this.bFreeSpinEndsWithRespin = !1, this.bRemoveBGTAtBonusRespin = !1, this.forceBonusCollectOnCapDuringBonus = !1, this.forceCollectOnWLDuringFS = !1, this.removeBonusData = !0, this.removeWinLines = !0, this.removeWinWayGroups = !0, this.affectWinRecived = !0, this.considerInitialCycleWinAsCycleWinBeforeRespins = !1, this.affectRespinWin = !0, this.bonusWinShouldIncludePreviousCycleWin = !1
}

function SymbolsFader() {
    XTLink.call(this), this.alphaValue = 1, this.includeLoopers = !1, this.symbolPositions = [], this.oldAlphaValue = 1, this.rm = null, this.isAllowed = !0
}
WinLimitFOX.prototype = Object.create(FOXLink.prototype), WinLimitFOX.prototype.constructor = WinLimitFOX, WinLimitFOX.prototype.XTRegisterCallbacks = function () {
    FOXLink.prototype.XTRegisterCallbacks.call(this), XT.RegisterCallbackObject(FOXVars.FOX_Response, this.OnFOXResponse, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.BetLevelChanged, this.OnBetLevelChanged, this), XT.RegisterCallbackObject("GameInfo", this.OnGameInfo, this)
}, WinLimitFOX.prototype.XTInitVariablesAndEvents = function () {
    XT.SetInt(WinLimitVars.WinLimit_TotalBetMultiplier, 0), XT.SetDouble(WinLimitVars.WinLimit_TotalAmount, 0), XT.SetObject(WinLimitVars.WinLimit_UncappedWinLines, null)
}, WinLimitFOX.prototype.OnFOXResponse = function (t) {
    this.isCappedIfNeeded = !1
}, WinLimitFOX.prototype.HandleInitResponse = function (t) {
    if (null != t.wl_i) {
        var e = t.wl_i.split(";");
        if (0 != e.length) {
            for (var i = 0; i < e.length; i++) {
                var n = e[i].split("~");
                if (n.length < 2) return;
                this.winLimitsValues[n[0]] = _number.otoi(n[1])
            }
            var o = null != this.winLimitsValues[this.defaultWinLimit] ? this.winLimitsValues[this.defaultWinLimit] : 0;
            XT.SetInt(WinLimitVars.WinLimit_TotalBetMultiplier, o), this.HandleSpinResponse(t), this.HandleBonusRespinResponse(t), this.considerInitialCycleWinAsCycleWinBeforeRespins && (this.cycleWinBeforeRespins = this.cycleWin)
        }
    }
}, WinLimitFOX.prototype.HandleSpinResponse = function (t) {
    if (this.CapValuesIfNeeded(t)) {
        if (this.isCollect && null != t[GameProtocolDictionary.freeSpinCurrentNumber]) {
            var e = _number.otoi(t[GameProtocolDictionary.freeSpinCurrentNumber]);
            e--, null != t.fsmore && delete t.fsmore, 0 == e ? (delete t[GameProtocolDictionary.freeSpinCurrentNumber], delete t[GameProtocolDictionary.freeSpinMaxNumber], delete t[GameProtocolDictionary.freeSpinTotalNumber]) : null == t[GameProtocolDictionary.freeSpinTotalNumber] && (t[GameProtocolDictionary.freeSpinTotalNumber] = e.toString()), null != t[GameProtocolDictionary.mysteryScatterGame] && delete t[GameProtocolDictionary.mysteryScatterGame], this.WeHaveFSChainData(t) && delete t[GameProtocolDictionary.freeSpinMaxNumber]
        }
        if (null != t.rs_p && null == t.rs_t) {
            var i = t.rs_p;
            delete t.rs_p, t.rs_t = i, this.bRemoveBGTAtBonusRespin && (null != t[GameProtocolDictionary.BonusGame.gameOver] && (t[GameProtocolDictionary.BonusGame.gameOver] = "1"), "0" == i && null != t.bgt && delete t.bgt)
        }
        this.bFreeSpinEndsWithRespin && null != t[GameProtocolDictionary.freeSpinCurrentNumber] && (null == t.rs_t && (t.rs_t = "1"), null != t.prg && (t.prg = "0,0")), this.removeBonusData && (!this.isCollect && !this.isSpin || null == t[GameProtocolDictionary.BonusGame.bonusGameExists] && null == t[GameProtocolDictionary.BonusGame.level] && null == t[GameProtocolDictionary.BonusGame.currentBonusRespin] && null == t[GameProtocolDictionary.BonusGame.status] && null == t[GameProtocolDictionary.BonusGame.winsMask] && null == t.wof_status || (delete t[GameProtocolDictionary.BonusGame.bonusGameExists], delete t[GameProtocolDictionary.BonusGame.level], delete t[GameProtocolDictionary.BonusGame.currentBonusRespin], delete t[GameProtocolDictionary.BonusGame.status], delete t[GameProtocolDictionary.BonusGame.winsMask], delete t.wof_status)), null != t.g_ra && delete t.g_ra
    }
}, WinLimitFOX.prototype.HandleBonusRespinResponse = function (t) {
    var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    this.CapValuesIfNeeded(t) ? this.isBonusCollect ? (t[GameProtocolDictionary.BonusGame.gameOver] = "1", null != t[GameProtocolDictionary.BonusGame.extraRetriggersWon] && delete t[GameProtocolDictionary.BonusGame.extraRetriggersWon], null != t[GameProtocolDictionary.BonusGame.currentBonusRespin] && null != t[GameProtocolDictionary.BonusGame.maxBonusRespins] && (t[GameProtocolDictionary.BonusGame.currentBonusRespin] = t[GameProtocolDictionary.BonusGame.maxBonusRespins]), null != e && e.IsFreeSpin && (e.TotalSpins = e.CurrentSpin - 1)) : this.isCollect && null != e && e.IsFreeSpin && (e.TotalSpins = e.CurrentSpin - 1) : null != e && e.IsFreeSpin && null != t[GameProtocolDictionary.BonusGame.gameOver] && "1" == t[GameProtocolDictionary.BonusGame.gameOver] && (this.bonusWinsInFreeSpins += GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.BonusGame.realWin))
}, WinLimitFOX.prototype.HandlePickBonusResponse = function (t) {
    this.prevCycleWin = this.cycleWin;
    var e = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    if (this.CapValuesIfNeeded(t))
        if (this.isCollect)
            if (null != t[GameProtocolDictionary.freeSpinCurrentNumber]) {
                var i = _number.otoi(t[GameProtocolDictionary.freeSpinCurrentNumber]);
                i--, null == t[GameProtocolDictionary.freeSpinTotalNumber] && (t[GameProtocolDictionary.freeSpinTotalNumber] = i.toString())
            } else e.IsFreeSpin && (e.TotalSpins = e.CurrentSpin - 1);
    else this.isBonusCollect && (null != t[GameProtocolDictionary.BonusGame.gameOver] && (t[GameProtocolDictionary.BonusGame.gameOver] = "1"), e.IsFreeSpin && (e.TotalSpins = e.CurrentSpin - 1));
    else null != e && e.IsFreeSpin && null != t[GameProtocolDictionary.BonusGame.gameOver] && "1" == t[GameProtocolDictionary.BonusGame.gameOver] && (this.bonusWinsInFreeSpins += GameProtocolCommonParser.ParseDouble(t, GameProtocolDictionary.BonusGame.realWin))
}, WinLimitFOX.prototype.HandleGambleResponse = function (t) {
    if (null != t.g_ra) this.gamble_riskAmount = _number.otod(t.g_ra);
    else if (this.CapValuesIfNeeded(t) && null == t.g_ra) {
        var e = XT.GetDouble(WinLimitVars.WinLimit_TotalAmount),
            i = _number.otod(t.wl_utw),
            n = Math.round(i / this.gamble_riskAmount);
        t.g_ra = this.gamble_riskAmount.toString(), t.g_w = e.toString(), t.g_mul = n.toString(), t.g_l = "1", t.g_wi = "1", t.g_r = "1", t.g_si = "1", t.g_end = "1"
    }
}, WinLimitFOX.prototype.SwitchTotalBetMultiplier = function (t) {
    null != this.winLimitsValues[t] && XT.SetInt(WinLimitVars.WinLimit_TotalBetMultiplier, this.winLimitsValues[t])
}, WinLimitFOX.prototype.HandlePickFSOptionResponse = function (t) {
    this.CapValuesIfNeeded(t)
}, WinLimitFOX.prototype.CapValuesIfNeeded = function (t) {
    return this.isCappedIfNeeded || (this.isCappedIfNeeded = !0, this.isCapNeeded = this.InternalCapValuesIfNeeded(t)), this.isCapNeeded
}, WinLimitFOX.prototype.InternalCapValuesIfNeeded = function (t) {
    null != t[GameProtocolDictionary.spinCycleWin] && (this.cycleWin = _number.otod(t[GameProtocolDictionary.spinCycleWin]));
    var e = "rs_p";
    null != t[e] && (0 == _number.otoi(t[e]) && (this.cycleWinBeforeRespins = this.prevCycleWin));
    if (null != t[GameProtocolDictionary.freeSpinCurrentWin]) {
        var i = _number.otod(t[GameProtocolDictionary.freeSpinCurrentWin]);
        this.partialWinIsPartOfFSWin && null != t.pw && (i += _number.otod(t.pw)), 0 == i && (this.cycleWinBeforeFreeSpins = this.cycleWin)
    }
    if (null == t[e = "wl_ta"]) return XT.SetDouble(WinLimitVars.WinLimit_TotalAmount, 0), XT.SetObject(WinLimitVars.WinLimit_UncappedWinLines, null), XT.SetBool(Vars.WinLimitReached, !1), !1;
    XT.SetBool(Vars.WinLimitReached, !0);
    var n = _number.otod(t[e]),
        o = String(n - this.prevCycleWin),
        s = String(n - this.cycleWinBeforeRespins),
        a = n - this.cycleWinBeforeFreeSpins,
        r = n - this.prevCycleWin;
    this.bonusWinShouldIncludePreviousCycleWin && (r = n);
    var l, u = !1,
        h = !1;
    if (this.affectWinRecived && null != t[GameProtocolDictionary.winAmountShort] && (t[GameProtocolDictionary.winAmountShort] = o), this.affectRespinWin) {
        var c = 0;
        null != t.rs_iw && (c = _number.otod(t.rs_iw)), null != t[GameProtocolDictionary.respinCycleWin] ? t[GameProtocolDictionary.respinCycleWin] = (_number.otod(s) - c).toString() : null != t.rs_iw && (t.rs_iw = s)
    }
    if (null != t[GameProtocolDictionary.TumblingWin] && (t[GameProtocolDictionary.TumblingWin] = s), null != t[GameProtocolDictionary.freeSpinTotalWin]) {
        var p = _number.otod(t[GameProtocolDictionary.freeSpinTotalWin]);
        p > a && (p = a), t[GameProtocolDictionary.freeSpinTotalWin] = String(p)
    }
    if (null != t[GameProtocolDictionary.freeSpinCurrentWin] && (t[GameProtocolDictionary.freeSpinCurrentWin] = (a - this.bonusWinsInFreeSpins).toString(), this.forceCollectOnWLDuringFS && (h = !0)), null != t[GameProtocolDictionary.freeSpinTotalWinMultiplied]) {
        var d = _number.otod(t[GameProtocolDictionary.freeSpinTotalWinMultiplied]);
        d > a && (d = a), t[GameProtocolDictionary.freeSpinTotalWinMultiplied] = String(d)
    }
    null != t[GameProtocolDictionary.BonusGame.realWin] && ((l = _number.otod(t[GameProtocolDictionary.BonusGame.realWin])) > r && (l = r), t[GameProtocolDictionary.BonusGame.realWin] = l.toString(), this.forceBonusCollectOnCapDuringBonus && (u = !0));
    null != t.bpw && ((l = _number.otod(t.bpw)) > r && (l = r), this.forceBonusCollectOnCapDuringBonus ? (u = !0, t.bpw = "0", t[GameProtocolDictionary.BonusGame.realWin] = l.toString()) : t.bpw = l.toString());
    XT.SetDouble(WinLimitVars.WinLimit_TotalAmount, n), XT.SetObject(WinLimitVars.WinLimit_UncappedWinLines, VSProtocolParser.ParseWinLines(t));
    var m = 0;
    if (this.removeWinLines)
        for (; null != t[GameProtocolDictionary.winLines(m)];) delete t[GameProtocolDictionary.winLines(m++)];
    this.removeWinWayGroups && null != t[GameProtocolDictionary.winWayGroups] && delete t[GameProtocolDictionary.winWayGroups];
    var S = "";
    null != t[GameProtocolDictionary.Actions.action] && (S = t[GameProtocolDictionary.Actions.action]);
    var g = "";
    return null != t[GameProtocolDictionary.NextActions.nextAction] && (g = t[GameProtocolDictionary.NextActions.nextAction]), this.isCollect = S == GameProtocolDictionary.Actions.doCollect || g == GameProtocolDictionary.NextActions.Collect, this.isBonusCollect = S == GameProtocolDictionary.Actions.doCollectBonus || g == GameProtocolDictionary.NextActions.CollectBonus, this.isSpin = g == GameProtocolDictionary.NextActions.Spin, u ? (this.isBonusCollect = !0, this.isCollect = !1, this.isSpin = !1) : h && (this.isCollect = !0, this.isBonusCollect = !1, this.isSpin = !1), null != t[GameProtocolDictionary.Tumbling] && delete t[GameProtocolDictionary.Tumbling], !0
}, WinLimitFOX.prototype.OnSpinStarted = function () {
    var t = XT.GetObject(Vars.RespinData),
        e = !(null == t || t.IsDone);
    !XT.GetBool(Vars.Logic_IsFreeSpin) && !e ? (this.prevCycleWin = 0, this.bonusWinsInFreeSpins = 0, this.cycleWinBeforeRespins = 0) : (this.prevCycleWin = this.cycleWin, e || (this.cycleWinBeforeRespins = this.cycleWin))
}, WinLimitFOX.prototype.OnBetLevelChanged = function () {
    var t = XT.GetObject(Vars.BetLevelSettings);
    null != t && (0 == t.betLevelIndex ? this.SwitchTotalBetMultiplier(this.defaultWinLimit) : this.SwitchTotalBetMultiplier(this.anteBetWinLimit))
}, WinLimitFOX.prototype.WeHaveFSChainData = function (t) {
    return null != t[GameProtocolDictionary.FreeSpinsChain.spins] || null != t[GameProtocolDictionary.FreeSpinsChain.multipliers] || null != t[GameProtocolDictionary.FreeSpinsChain.sessionsWonSymbolsCount] || null != t[GameProtocolDictionary.FreeSpinsChain.sessionsWonThisSpin] || null != t[GameProtocolDictionary.FreeSpinsChain.spinsTotal] || null != t[GameProtocolDictionary.FreeSpinsChain.multipliersTotal] || null != t[GameProtocolDictionary.FreeSpinsChain.winsTotal] || null != t[GameProtocolDictionary.FreeSpinsChain.multipliedWinTotal]
}, WinLimitFOX.prototype.OnGameInfo = function (t) {
    null != t && null == this.winLimitsValues[this.defaultWinLimit] && null != t.props && null != t.props.max_rnd_win && (this.winLimitsValues[this.defaultWinLimit] = parseInt(t.props.max_rnd_win, 10), XT.SetInt(WinLimitVars.WinLimit_TotalBetMultiplier, this.winLimitsValues[this.defaultWinLimit])), null != t && null == this.winLimitsValues[this.anteBetWinLimit] && null != t.props && null != t.props.max_rnd_win_a && (this.winLimitsValues[this.anteBetWinLimit] = parseInt(t.props.max_rnd_win_a, 10))
}, goog.require("UHT.Engine"), SymbolsFader.prototype = Object.create(XTLink.prototype), SymbolsFader.prototype.constructor = SymbolsFader, SymbolsFader.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded, this.OnSpinEnded, this)
}, SymbolsFader.prototype.OnSpinStarted = function () {
    this.alphaValue = 1, this.Update(), this.isAllowed = !1
}, SymbolsFader.prototype.OnSpinEnded = function () {
    this.isAllowed = !0
}, SymbolsFader.prototype.Start = function () {
    this.oldAlphaValue = this.alphaValue
}, SymbolsFader.prototype.Update = function () {
    if (null == this.rm && (this.rm = XT.GetObject(Vars.ReelsManagerObject)), Math.abs(this.alphaValue - this.oldAlphaValue) > .001) {
        this.oldAlphaValue = this.alphaValue;
        for (var t = 0; t < this.rm.reels.length; t++) {
            if (this.includeLoopers)
                for (var e = 0; e < this.rm.reels[t].symbolLoopHolders.length; e++) null != this.rm.reels[t].symbolLoopHolders[e].currentSymbol && (this.rm.reels[t].symbolLoopHolders[e].currentSymbol.GetComponent(UIPanel).alpha = this.alphaValue);
            if (this.isAllowed)
                for (e = 0; e < this.rm.reels[t].symbolHolders.length; e++) {
                    for (var i = !1, n = e * this.rm.reels.length + t, o = 0; o < this.symbolPositions.length; o++)
                        if (this.symbolPositions[o] == n) {
                            i = !0;
                            break
                        }(i || 0 == this.symbolPositions.length) && (this.rm.reels[t].symbolHolders[e].currentSymbol.gameObject.GetComponent(UIPanel).alpha = this.alphaValue)
                }
        }
    }
}, goog.require("UHT.Engine");
var ReelFXReelStopEvent = {
    ReelStopStarted: 0,
    ReelStopEnded: 1
};

function ReelFX() {
    XTLink.call(this), this.reelIndex = 0, this.reelStopEvent = ReelFXReelStopEvent.ReelStopStarted, this.reelExcited = null, this.reelStop = null, this.reelStopWin = null, this.fastPlayReelExcited = null, this.fastPlayReelStop = null, this.fastPlayReelStopWin = null, this.reelStoppedFast = null, this.reelsExcited = null, this.numberOfReels = 0
}

function GoldSymbolManager() {
    XTLink.call(this)
}

function PossibleWinningScatterFX() {
    XTLink.call(this), this.delayToAnimateScatters = .3, this.extraDelayForExcited = 0, this.symbolFXState = VS_Symbol.State.HighlightOn, this.symbolHolders = null, this.resultSymbols = null, this.currentDelay = null, this.animateScatters = null, this.isFastStop = !1
}

function SymbolDepthSort() {
    XTLink.call(this), this.sortOrder = SymbolDepthSort.SortOrder.topLeft, this.startingDepth = 0, this.symbolRoot = null, this.shouldWorkDuringSpinLoop = !1, this.setDepthOnGameInit = !0, this.sortSpinePanels = !0, this.rm = null, this.myPanel = null, this.initDepth = 0, this.spinePanels = null, this.initSpinePanelsDepth = null
}

function VS_SymbolMarker() {
    Component.call(this), this.markSymbol = null, this.unmarkSymbol = null, this.symbol = null, this.shouldPatchMarkedPositions = !1, this.reelsManager = null, this.mySymbol = null, this.myMarkerPos = -1
}

function Special_ReelSymbolHolder() {
    Component.call(this), this.startAnimation = null, this.startAnimationFastPlay = null, this.loopAnimation = null, this.stopAnimation = null, this.stopAnimationAlternative = null, this.positionInReel = 0, this.orderedSymbolIdx = 0, this.parentReel = null, this.currentSymbol = null, this.eventStartDelay = 0, this.eventStartDelayFastPlay = 0, this.eventStopDelay = 0, this.switchChildrenToParentLayer = !1, this.canFireStartEvent = !1, this.canFireStopEvent = !1, this.animationState = null, this.animationTime = 0, this.animationIsUpdated = !1, this.state = Special_ReelSymbolHolder.State.IDLE
}

function Special_Reel() {
    Component.call(this), this.reelsManager = null, this.symbolHolders = null, this.symbolLoopHolders = null, this.stopOffset = 1, this.spinInPlace = !1, this.loopDelayAfterStart = 0, this.loopDelayAfterFastStart = 0, this.reelIndex = 0, this.isExcited = !1, this.randomStop = !1, this.randomStartPositions = !1, this.randomStopDelay = 0, this.dontRepeatSymbolsAtStop = !1, this.decelerationSpeed = 1, this.currentSpinSpeed = 1, this.minimumSpinSpeed = .2, this.applyDeceleration = !1, this.looperIdx = -1, this.mustStop = !1, this.stopIdx = 0, this.symbolList = [], this.stopPosition = 0, this.rememberedStopPosition = 0, this.currentPosition = 0, this.holdersSpinning = 0, this.internalCounterInPlace = 0, this.randomizedStopIdx = null, this.willRandomStopIdx = 0, this.randomStopTimer = 0, this.lastSymbolGot = -1, this.rememberToStop = !1, this.rememberedFastStop = !1
}

function Special_ReelsManager() {
    Component.call(this), this.symbolsManager = null, this.reels = [], this.reelsStartOrder = null, this.reelsStopOrder = null, this.reelDelayStart = .1, this.reelDelayStop = .15, this.extraReelDelayStart = null, this.extraReelDelayStop = null, this.reelsStartSpeedUpOnFastStop = 0, this.useDecelerationOnStop = !1, this.useDecelerationOnActualStop = !1, this.reelsStarts = [], this.reelsStops = [], this.reelsStopped = [], this.stopSwitchesSymbols = !1, this.startFasterInFastPlay = !1, this.useAlternativeStopInFastStop = !1, this.syncFastStopWithNormalReels = !1, this.ignoreDelaysOnContinuosSpin = !0, this.ignoreDelaysOnInstantStop = !0, this.isFastStart = !1, this.autoStopDelay = 1.5, this.autoStopTimer = 0, this.startTimer = 0, this.reelToStart = 0, this.stopTimer = 0, this.reelToStop = 0, this.fastStop = !1, this.rememberToStop = !1, this.resultReceived = !1, this.mustStopStoppingReels = !1, this.reelIdxList = [], this.state = Special_ReelsManager.State.IDLE
}

function FSTransitionLink_DiamondStrike() {
    XTLink.call(this), this.specialReelsManager = null, this.addedSymbolsOnEachReel = 8, this.replacementIds = null, this.catTransition = null, this.reelStopPositions = [], this.symbolsCounter = 0
}

function FSTransition_specialReelDiamondStrike() {
    Special_Reel.call(this), this.normalSpinSpeed = 1, this.stopSpinSpeed = 1, this.link = null, this.forceAccelerationOnStop = !0, this.checkSymbolsInAdvance = 3, this.decelerateSymbolIds = null, this.checkedPosition = -1, this.applyAcceleration = !1
}

function RandomAudioClipPlayer() {
    Component.call(this), this.audioClips = null, this.soundManager = null
}

function BonusGameTransition_DiamondStrike() {
    XTLink.call(this), this.transitionToBonusCatID = 10, this.stillCanWinCatId = 11, this.delayBeforeExcitedReel = 1.2, this.exciteReel = null, this.unexciteReel = null, this.winnersCATContiners = [], this.reelsManager = null, this.stillPossibleWinner = _array.create(5), this.lastStoppedReel = 4, this.isBonusWin = !1, this.isFastStop = !1
}

function WinLineVisual() {
    XTLink.call(this), this.id = 0, this.thickness = 0, this.color = null, this.guides = [], this.useObjectAsEnd = !1, this.lineEndings = [], this.showOnlyLineEnd = !1, this.linesDefinitions = null, this.pixiZOrderedContainer = new PIXI.Container
}

function PerLineWinDisplayer() {
    XTLink.call(this), this.StartCAT = null, this.StopCAT = null
}

function VS_SymbolScatterWild() {
    VS_Symbol.call(this), this.eventWildNormal = null, this.eventWildSpinStart = null, this.eventWildSpinLoop = null, this.eventWildSpinStop = null, this.eventWildHighlightOff = null, this.eventWildFSHighlightOff = null, this.eventWildHighlightOn = null, this.eventWildExcited = null, this.eventWildWinExcited = null, this.eventWildWinning = null, this.eventSetAsScatter = null, this.eventSetAsWild = null, this.eventResetToScatter = null, this.eventWildSpinLoopExcited = null, this.isScatter = !0
}
ReelFX.prototype = Object.create(XTLink.prototype), ReelFX.prototype.constructor = ReelFX, ReelFX.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_ExcitedReel, this.ReelExcited, this), XT.RegisterCallbackObject(Vars.ReelInitialPositions, this.OnReelPositions, this), XT.RegisterCallbackObject(Vars.ResultScreenSymbols, this.OnResultScreenSymbols, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin, this.OnReelStoppedFast, this), this.reelStopEvent == ReelFXReelStopEvent.ReelStopEnded ? XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopEnded, this.ReelStopEnded, this) : XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopStarted, this.ReelStopped, this)
}, ReelFX.prototype.XTInitVariablesAndEvents = function () {}, ReelFX.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.ReelExcited, this), XT.UnregisterCallbackEvent(this.ReelStopped, this), XT.UnregisterCallbackObject(this.OnReelPositions, this), XT.UnregisterCallbackObject(this.OnResultScreenSymbols, this), XT.UnregisterCallbackEvent(this.OnReelStoppedFast, this)
}, ReelFX.prototype.OnResultScreenSymbols = function (t) {
    this.reelsExcited = [];
    for (var e = 0; e < this.numberOfReels; e++) this.reelsExcited.push(!1)
}, ReelFX.prototype.OnReelPositions = function (t) {
    this.numberOfReels = t.length, this.reelsExcited = []
}, ReelFX.prototype.ReelExcited = function () {
    var t = XT.GetInt(Vars.LastExcitedReelIndex);
    this.reelsExcited[t] = !0, t == this.reelIndex && (XT.GetBool(Vars.FastPlay) && null != this.fastPlayReelExcited.cat ? this.fastPlayReelExcited.Start() : this.reelExcited.Start())
}, ReelFX.prototype.ReelStopped = function () {
    this.ReelStoppedInternal(XT.GetObject(Vars.LastStoppedReelIndices))
}, ReelFX.prototype.ReelStopEnded = function () {
    this.ReelStoppedInternal([XT.GetInt(Vars.LastStopEndedReelIndex)])
}, ReelFX.prototype.ReelStoppedInternal = function (t) {
    for (var e = XT.GetObject(Vars.ReelsStopOrder), i = 0; i < t.length; i++)
        if (_array.indexOf(this.reelIndex, e) <= _array.indexOf(t[i], e) && (this.reelExcited.Stop(), null != this.fastPlayReelExcited.cat && this.fastPlayReelExcited.Stop(), this.reelIndex == t[i])) {
            var n = XT.GetBool(Vars.FastPlay),
                o = XT.GetObject(Vars.ReelsWinInfo)[this.reelIndex];
            this.reelsExcited[this.reelIndex] && o && null != this.reelStopWin.cat ? n && null != this.fastPlayReelStopWin.cat ? this.fastPlayReelStopWin.Start() : this.reelStopWin.Start() : n && null != this.fastPlayReelExcited.cat ? this.fastPlayReelStop.Start() : this.reelStop.Start()
        }
}, ReelFX.prototype.OnReelStoppedFast = function () {
    this.reelsExcited[this.reelIndex] && null != this.reelStoppedFast && this.reelStoppedFast.Start()
}, goog.require("UHT.Engine"), GoldSymbolManager.prototype = Object.create(XTLink.prototype), GoldSymbolManager.prototype.constructor = GoldSymbolManager, GoldSymbolManager.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.GoldSymbol, this.OnGoldSymbolObject, this)
}, GoldSymbolManager.prototype.OnGoldSymbolObject = function (t) {
    var e = t,
        i = XT.GetObject(Vars.MarkedSymbolPositions);
    if (i.splice(0, i.length), null != e && null != e.symbols)
        for (var n = 0; n < e.symbols.length; n++) i.push(e.symbols[n][1])
}, goog.require("UHT.Engine"), PossibleWinningScatterFX.prototype = Object.create(XTLink.prototype), PossibleWinningScatterFX.prototype.constructor = PossibleWinningScatterFX, PossibleWinningScatterFX.prototype.Start = function () {
    this.ResetArrays()
}, PossibleWinningScatterFX.prototype.XTInitVariablesAndEvents = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopStarted, this.OnReelStopStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin, this.OnStopSpin, this), XT.RegisterCallbackObject(Vars.OrderedSymbolHoldersList, this.OnSymbolsHolderUpdate, this)
}, PossibleWinningScatterFX.prototype.OnSpinStarted = function () {
    this.isFastStop = !1, this.ResetArrays()
}, PossibleWinningScatterFX.prototype.OnStopSpin = function () {
    this.isFastStop = !0
}, PossibleWinningScatterFX.prototype.OnSymbolsHolderUpdate = function (t) {
    this.symbolHolders = t
}, PossibleWinningScatterFX.prototype.OnReelStopStarted = function () {
    if (!this.isFastStop) {
        var t = XT.GetObject(Vars.LastStoppedReelIndices);
        this.resultSymbols = XT.GetObject(Vars.InitialResultScreenSymbols);
        var e = XT.GetObject(Vars.ExtraScatters);
        if (!(t.length > 1 && t[t.length - 1] == this.resultSymbols.length - 1))
            for (var i = XT.GetObject(Vars.StillPossibleWinComboScatter), n = 0; n < t.length; n++) {
                var o = t[n];
                if (i[o])
                    for (var s = 0; s < this.resultSymbols[o].length; s++) {
                        if (null != e && e.length > 0)
                            for (var a = 0; a < e.length; a++)
                                if (this.resultSymbols[o][s] == e[a]) {
                                    this.animateScatters[o] = !0, this.currentDelay[o] = this.delayToAnimateScatters, this.symbolHolders[o].parentReel.isExcited && (this.currentDelay[o] += this.extraDelayForExcited);
                                    break
                                } if (1 == this.resultSymbols[o][s]) {
                            this.animateScatters[o] = !0, this.currentDelay[o] = this.delayToAnimateScatters, this.symbolHolders[o].parentReel.isExcited && (this.currentDelay[o] += this.extraDelayForExcited);
                            break
                        }
                    }
            }
    }
}, PossibleWinningScatterFX.prototype.AnimateScatters = function (t) {
    for (var e = XT.GetObject(Vars.ExtraScatters), i = 0; i < this.resultSymbols[0].length; i++) {
        var n = t + this.resultSymbols.length * i;
        if (null != e && e.length > 0)
            for (var o = 0; o < e.length; o++) null != this.symbolHolders[n].currentSymbol && this.symbolHolders[n].currentSymbol.symbolId == e[o] && this.ApplyFXOnSymbol(this.symbolHolders[n].currentSymbol);
        null != this.symbolHolders[n].currentSymbol && 1 == this.symbolHolders[n].currentSymbol.symbolId && this.ApplyFXOnSymbol(this.symbolHolders[n].currentSymbol)
    }
}, PossibleWinningScatterFX.prototype.ResetArrays = function () {
    this.currentDelay = _array.create(5, 0), this.animateScatters = _array.create(5, !1)
}, PossibleWinningScatterFX.prototype.ApplyFXOnSymbol = function (t) {
    switch (this.symbolFXState) {
        case VS_Symbol.State.HighlightOn:
            t.SetHighlightOn();
            break;
        case VS_Symbol.State.HighlightOff:
            t.SetHighlightOff();
            break;
        case VS_Symbol.State.Normal:
            t.SetNormal();
            break;
        case VS_Symbol.State.Excited:
            t.SetExcited();
            break;
        case VS_Symbol.State.WinExcited:
            t.SetWinExcited();
            break;
        case VS_Symbol.State.SpinLoopExcited:
            t.SpinLoopExcited();
            break;
        case VS_Symbol.State.SpinLoopExcitedImportant:
            t.SpinLoopExcitedImportant();
            break;
        case VS_Symbol.State.Winning:
            t.SetWinning();
            break;
        default:
            break
    }
}, PossibleWinningScatterFX.prototype.Update = function () {
    for (var t = 0; t < this.animateScatters.length; t++) this.animateScatters[t] && (this.currentDelay[t] > 0 && (this.currentDelay[t] -= Time.deltaTime), this.currentDelay[t] <= 0 && (this.animateScatters[t] = !1, this.AnimateScatters(t)))
}, goog.require("UHT.Engine"), goog.provide("UHT.SymbolDepthSort"), SymbolDepthSort.prototype = Object.create(XTLink.prototype), SymbolDepthSort.prototype.constructor = SymbolDepthSort, SymbolDepthSort.SortOrder = {
    topLeft: 0,
    topRight: 1,
    bottomLeft: 2,
    bottomRight: 3
}, SymbolDepthSort.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, SymbolDepthSort.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGameInit, this)
}, SymbolDepthSort.prototype.OnGameInit = function () {
    null == this.rm && this.Init(), this.setDepthOnGameInit && "Symbols" != this.symbolRoot.parent.gameObject.name && "Pool" != this.symbolRoot.parent.gameObject.name && this.SetDepth()
}, SymbolDepthSort.prototype.Init = function () {
    if (this.rm = XT.GetObject(Vars.ReelsManagerObject), this.myPanel = this.gameObject.GetComponent(UIPanel), this.initDepth = this.myPanel.depth, null == this.symbolRoot && (this.symbolRoot = this.gameObject.transform), this.spinePanels = [], this.sortSpinePanels) {
        this.initSpinePanelsDepth = [];
        for (var t = this.symbolRoot.GetComponentsInChildren(SpineController, !0), e = 0; e < t.length; e++) {
            var i = t[e].GetComponent(UIPanel);
            this.spinePanels.push(i), this.initSpinePanelsDepth.push(i.depth)
        }
    }
}, SymbolDepthSort.prototype.SetDepth = function () {
    null == this.rm && this.Init();
    for (var t = 0; t < this.rm.reels.length; t++)
        for (var e = 0; e < this.rm.reels[t].sortedSymbolHolders.length; e++) {
            var i = null;
            if (this.shouldWorkDuringSpinLoop) {
                var n = this.rm.reels[t].sortedSymbolHolders[e].gameObject.GetComponentInChildren(VS_Symbol);
                if (null != n && (i = n.GetComponentInChildren(SymbolDepthSort)), null == i) continue
            } else i = this;
            if (this.rm.reels[t].sortedSymbolHolders[e].gameObject == i.symbolRoot.parent.gameObject) {
                if (null == i.myPanel) continue;
                i.myPanel.depth = i.startingDepth;
                for (var o = 0; o < i.spinePanels.length; o++) i.spinePanels[o].depth = i.startingDepth;
                var s = 0;
                switch (i.sortOrder) {
                    case SymbolDepthSort.SortOrder.topLeft:
                        s = t + e;
                        break;
                    case SymbolDepthSort.SortOrder.bottomLeft:
                        s = this.rm.reels[t].sortedSymbolHolders.length - e - 1 + t;
                        break;
                    case SymbolDepthSort.SortOrder.topRight:
                        s = this.rm.reels.length - t - 1 + e;
                        break;
                    case SymbolDepthSort.SortOrder.bottomRight:
                        s = this.rm.reels[t].sortedSymbolHolders.length - e - 1 + this.rm.reels.length - t - 1;
                        break;
                    default:
                        break
                }
                i.myPanel.depth += s;
                for (o = 0; o < i.spinePanels.length; o++) i.spinePanels[o].depth += s
            }
        }
}, SymbolDepthSort.prototype.ResetDepth = function () {
    null == this.rm && this.Init(), this.myPanel.depth = this.initDepth;
    for (var t = 0; t < this.spinePanels.length; t++) this.spinePanels[t].depth = this.initSpinePanelsDepth[t]
}, goog.require("UHT.Engine"), goog.provide("UHT.VS_SymbolMarker"), VS_SymbolMarker.prototype = Object.create(Component.prototype), VS_SymbolMarker.prototype.constructor = VS_SymbolMarker, VS_SymbolMarker.prototype.Start = function () {
    this.mySymbol = null != this.symbol ? this.symbol : this.gameObject.GetComponent(VS_Symbol)
}, VS_SymbolMarker.prototype.SymbolStartsStop = function () {
    var t = XT.GetObject(Vars.MarkedSymbolPositions);
    if (0 != t.length) {
        null == this.reelsManager && (this.reelsManager = XT.GetObject(Vars.ReelsManagerObject));
        for (var e = 0; e < this.reelsManager.reels.length; e++)
            for (var i = 0; i < this.reelsManager.reels[e].symbolHolders.length; i++) {
                if (this.reelsManager.reels[e].symbolHolders[i].currentSymbol == this.mySymbol) {
                    var n = this.reelsManager.reels.length * i + e;
                    return this.shouldPatchMarkedPositions && (n -= this.reelsManager.reels.length), void(-1 != t.indexOf(n) ? (this.myMarkerPos < 0 && this.markSymbol.Start(), this.myMarkerPos = n) : (this.myMarkerPos > -1 && this.unmarkSymbol.Start(), this.myMarkerPos = -1))
                }
            }
    } else this.myMarkerPos > -1 && (this.myMarkerPos = -1, this.unmarkSymbol.Start())
}, VS_SymbolMarker.prototype.ResetMarkerPos = function () {
    this.myMarkerPos = -1
}, goog.require("UHT.Engine"), goog.require("UHT.Special_Symbol"), goog.provide("UHT.Special_ReelSymbolHolder"), Special_ReelSymbolHolder.prototype = Object.create(Component.prototype), Special_ReelSymbolHolder.prototype.constructor = Special_ReelSymbolHolder, Special_ReelSymbolHolder.State = {
    IDLE: 0,
    START: 1,
    LOOP: 2,
    STOP: 3
}, Special_ReelSymbolHolder.prototype.SetPositionInReel = function (t) {
    this.positionInReel = t
}, Special_ReelSymbolHolder.prototype.SetOrderedSymbolIdx = function (t) {
    this.orderedSymbolIdx = t
}, Special_ReelSymbolHolder.prototype.GetOrderedSymbolIdx = function () {
    return this.orderedSymbolIdx
}, Special_ReelSymbolHolder.prototype.SetParentReel = function (t) {
    this.parentReel = t
}, Special_ReelSymbolHolder.prototype.DiscardSymbol = function () {
    null != this.currentSymbol && this.parentReel.reelsManager.symbolsManager.RecycleSymbol(this.currentSymbol), this.currentSymbol = null
}, Special_ReelSymbolHolder.prototype.ReplaceSymbol = function (t) {
    this.DiscardSymbol(), this.currentSymbol = this.parentReel.reelsManager.symbolsManager.GetSymbol(t, this.gameObject), this.ChangeLayerToParentLayer()
}, Special_ReelSymbolHolder.prototype.SampleAnimation = function () {
    this.animationState.enabled = !0, this.animationState.weight = 1, this.animationState.time = this.animationTime, this.gameObject.animation.Sample(), this.animationState.enabled = !1
}, Special_ReelSymbolHolder.prototype.GetCappedDeltaTime = function () {
    var t = Time.deltaTime;
    return null != this.parentReel && (t *= this.parentReel.currentSpinSpeed), t
}, Special_ReelSymbolHolder.prototype.UpdateVisual = function () {
    switch (this.animationIsUpdated ? this.animationIsUpdated = !1 : this.animationTime += this.GetCappedDeltaTime(), this.state) {
        case Special_ReelSymbolHolder.State.START:
            this.canFireStartEvent && this.animationTime >= (this.parentReel.reelsManager.isFastStart ? this.eventStartDelayFastPlay : this.eventStartDelay) && (this.canFireStartEvent = !1, this.currentSymbol.EventStart()), this.animationTime > this.animationState.length ? (this.state = Special_ReelSymbolHolder.State.IDLE, this.DiscardSymbol(), this.parentReel.SymbolLeftTheReel(this.positionInReel, this.animationTime - this.animationState.length)) : this.SampleAnimation();
            break;
        case Special_ReelSymbolHolder.State.LOOP:
            this.animationTime > this.animationState.length ? (this.state = Special_ReelSymbolHolder.State.IDLE, this.DiscardSymbol(), this.parentReel.SymbolLeftTheReel(this.positionInReel, this.animationTime - this.animationState.length)) : this.SampleAnimation();
            break;
        case Special_ReelSymbolHolder.State.STOP:
            this.canFireStopEvent && this.animationTime >= this.eventStopDelay && (this.canFireStopEvent = !1, this.currentSymbol.EventStop()), this.animationTime > this.animationState.length && (this.animationTime = this.animationState.length, this.state = Special_ReelSymbolHolder.State.IDLE, this.parentReel.StopFinished(this.positionInReel)), this.SampleAnimation();
            break;
        default:
            break
    }
}, Special_ReelSymbolHolder.prototype.AfterUpdateVisual = function () {
    this.animationIsUpdated = !1
}, Special_ReelSymbolHolder.prototype.StartAnimation = function (t, e) {
    this.gameObject.animation.clip = t, this.animationState = this.gameObject.animation.GetAnimationState(t.name), this.animationTime = e, this.SampleAnimation(), this.animationIsUpdated = !0
}, Special_ReelSymbolHolder.prototype.PlayStart = function () {
    this.canFireStartEvent = !0, this.state = Special_ReelSymbolHolder.State.START, this.StartAnimation(this.GetStartAnimation(), 0), this.currentSymbol.SpinStart(), this.ChangeLayerToParentLayer()
}, Special_ReelSymbolHolder.prototype.PlayLoop = function (t) {
    this.state = Special_ReelSymbolHolder.State.LOOP, this.StartAnimation(this.loopAnimation, t), this.parentReel.isExcited ? this.currentSymbol.SpinLoopExcited() : this.currentSymbol.SpinLoop()
}, Special_ReelSymbolHolder.prototype.PlayStop = function (t, e) {
    this.canFireStopEvent = !0, this.state = Special_ReelSymbolHolder.State.STOP, this.StartAnimation(e ? this.stopAnimationAlternative : this.stopAnimation, t), this.currentSymbol.SpinStop()
}, Special_ReelSymbolHolder.prototype.SetHighlightOn = function () {
    null != this.currentSymbol && this.currentSymbol.SetHighlightOn()
}, Special_ReelSymbolHolder.prototype.SetHighlightOff = function () {
    null != this.currentSymbol && this.currentSymbol.SetHighlightOff()
}, Special_ReelSymbolHolder.prototype.GetStartAnimation = function () {
    return this.parentReel.reelsManager.isFastStart ? this.startAnimationFastPlay : this.startAnimation
}, Special_ReelSymbolHolder.prototype.ChangeLayerToParentLayer = function () {
    if (this.switchChildrenToParentLayer) {
        var t = this.GetComponentsInChildren(Transform, !0);
        if (null != t)
            for (var e = 0; e < t.length; e++) t[e].gameObject.layer != this.gameObject.layer && (t[e].gameObject.layer = this.gameObject.layer)
    }
}, goog.provide("UHT.Special_Reel"), goog.require("UHT.Engine"), goog.require("UHT.Special_ReelSymbolHolder"), Special_Reel.prototype = Object.create(Component.prototype), Special_Reel.prototype.constructor = Special_Reel, Special_Reel.prototype.InitReel = function () {
    var t;
    for (t = 0; t < this.symbolHolders.length; t++) this.symbolHolders[t].SetParentReel(this), this.symbolHolders[t].SetPositionInReel(t);
    for (t = 0; t < this.symbolLoopHolders.length; t++) this.symbolLoopHolders[t].SetParentReel(this), this.symbolLoopHolders[t].SetPositionInReel(t);
    this.randomizedStopIdx = _array.create(this.symbolHolders.length, 0)
}, Special_Reel.prototype.GetNextSymbol = function () {
    if (this.mustStop) {
        var t = this.stopPosition;
        return this.stopPosition--, this.stopPosition += this.symbolList.length, this.stopPosition %= this.symbolList.length, this.symbolList[t % this.symbolList.length]
    }
    var e = this.currentPosition;
    return this.currentPosition--, this.currentPosition += this.symbolList.length, this.currentPosition %= this.symbolList.length, this.lastSymbolGot = this.symbolList[e % this.symbolList.length], this.lastSymbolGot
}, Special_Reel.prototype.GetNextSymbolInPlace = function (t) {
    if (this.mustStop) {
        var e = this.stopPosition - (this.symbolHolders.length - 1 - t % this.symbolHolders.length);
        return e += this.symbolList.length, e %= this.symbolList.length, this.symbolList[e]
    }
    this.internalCounterInPlace++, this.internalCounterInPlace == this.symbolHolders.length && (this.internalCounterInPlace = 0, this.currentPosition -= this.symbolHolders.length, this.currentPosition += this.symbolList.length, this.currentPosition %= this.symbolList.length);
    var i = this.currentPosition - t % this.symbolHolders.length;
    return i += this.symbolList.length, i %= this.symbolList.length, this.symbolList[i]
}, Special_Reel.prototype.RandomizeStops = function () {
    var t, e = [];
    for (t = 0; t < this.randomizedStopIdx.length; t++) e.push(t);
    for (t = 0; t < this.randomizedStopIdx.length; t++) {
        var i = Random.Range(0, e.length);
        this.randomizedStopIdx[t] = e[i];
        for (var n = 0; n < e.length; n++) e[n] == e[i] && e.splice(n, 1)
    }
}, Special_Reel.prototype.SetPosition = function (t) {
    this.currentPosition = this.randomStartPositions ? Random.Range(0, this.symbolList.length) % this.symbolList.length : t % this.symbolList.length
}, Special_Reel.prototype.SetStopPosition = function (t) {
    this.stopPosition = (t + this.stopOffset) % this.symbolList.length, this.rememberedStopPosition = this.stopPosition
}, Special_Reel.prototype.SetSymbolList = function (t) {
    this.symbolList = [];
    for (var e = 0; e < t.length; e++) this.symbolList.push(t[e])
}, Special_Reel.prototype.Start = function () {}, Special_Reel.prototype.Update = function () {
    var t;
    for (t = this.symbolHolders.length - 1; t >= 0; t--) this.symbolHolders[t].UpdateVisual();
    for (var e = this.symbolLoopHolders.length, i = (this.looperIdx + 1) % this.symbolLoopHolders.length; e > 0;) this.symbolLoopHolders[i].UpdateVisual(), i = (i + 1) % this.symbolLoopHolders.length, e--;
    for (var n = 0; n < this.symbolHolders.length; n++) this.symbolHolders[n].AfterUpdateVisual();
    for (var o = 0; o < this.symbolLoopHolders.length; o++) this.symbolLoopHolders[o].AfterUpdateVisual();
    this.randomStopTimer += Time.deltaTime, this.UpdateStopDeceleration(), this.rememberToStop && (this.SymbolRepeatsForStop() || (this.rememberToStop = !1, this.StopSpin(this.rememberedFastStop)))
}, Special_Reel.prototype.SymbolRepeatsForStop = function () {
    var t = (this.stopPosition - 1 + this.symbolList.length) % this.symbolList.length;
    return this.symbolList[t % this.symbolList.length] != this.lastSymbolGot
}, Special_Reel.prototype.GetFreeLooper = function () {
    return this.looperIdx++, this.looperIdx %= this.symbolLoopHolders.length, this.looperIdx
}, Special_Reel.prototype.NewLoop = function (t, e) {
    var i;
    this.spinInPlace ? (i = this.symbolLoopHolders[t]).ReplaceSymbol(this.GetNextSymbolInPlace(t)) : (i = this.symbolLoopHolders[this.GetFreeLooper()]).ReplaceSymbol(this.GetNextSymbol()), i.PlayLoop(e)
}, Special_Reel.prototype.StartSpin = function () {
    this.mustStop = !1, this.holdersSpinning = this.symbolHolders.length;
    for (var t = 0; t < this.symbolHolders.length; t++) this.symbolHolders[t].PlayStart();
    this.spinInPlace || this.SymbolLeftTheReel(-1, -this.GetLoopDelayAfterStart()), this.internalCounterInPlace = 0, this.RandomizeStops(), this.willRandomStopIdx = 0, this.randomStopTimer = this.randomStopDelay
}, Special_Reel.prototype.GetLooperTimersAndCleanUp = function () {
    var t, e = [],
        i = this.symbolLoopHolders[0].loopAnimation.length,
        n = -1;
    for (t = 0; t < this.symbolHolders.length; t++) {
        if (this.symbolHolders[t].state == Special_ReelSymbolHolder.State.START) {
            var o = this.symbolHolders[t].animationTime;
            o < this.GetLoopDelayAfterStart() && (o = this.GetLoopDelayAfterStart());
            var s = i - (this.symbolHolders[t].GetStartAnimation().length - o);
            s < 0 && (s = 0), e.push(s), n = this.symbolHolders[t].currentSymbol.symbolId, this.symbolHolders[t].DiscardSymbol(), this.symbolHolders[t].state = Special_ReelSymbolHolder.State.IDLE
        }
        this.symbolHolders[t].state == Special_ReelSymbolHolder.State.STOP && (e.push(this.symbolHolders[t].animationTime), this.symbolHolders[t].DiscardSymbol(), this.symbolHolders[t].state = Special_ReelSymbolHolder.State.IDLE)
    }
    var a = -1,
        r = -1;
    for (t = 0; t < this.symbolLoopHolders.length; t++)
        if (this.symbolLoopHolders[t].state == Special_ReelSymbolHolder.State.LOOP) {
            var l = this.symbolLoopHolders[t].animationTime;
            l < 0 && (l = 0), e.push(l), l > r && (a = this.symbolLoopHolders[t].currentSymbol.symbolId, r = l)
        } for (t = 0; t < this.symbolLoopHolders.length; t++) this.symbolLoopHolders[t].DiscardSymbol(), this.symbolLoopHolders[t].state = Special_ReelSymbolHolder.State.IDLE;
    e.sort((function (t, e) {
        return t - e
    }));
    var u = !0;
    return -1 != n ? this.symbolLoopHolders[0].ReplaceSymbol(n) : -1 != a ? this.symbolLoopHolders[0].ReplaceSymbol(a) : u = !1, u && this.symbolLoopHolders[0].PlayLoop(e[this.symbolHolders.length]), e
}, Special_Reel.prototype.StopSpin = function (t) {
    if (this.dontRepeatSymbolsAtStop && this.SymbolRepeatsForStop()) return this.rememberToStop = !0, void(this.rememberedFastStop = t);
    if (this.stopPosition = this.rememberedStopPosition, this.mustStop = !0, this.stopIdx = this.symbolHolders.length - 1, this.reelsManager.stopSwitchesSymbols && t && this.holdersSpinning > 0) {
        for (var e = this.GetLooperTimersAndCleanUp(), i = this.stopIdx; i >= 0;) {
            this.symbolHolders[i].ReplaceSymbol(this.GetNextSymbol());
            var n = e[i];
            if (this.reelsManager.syncFastStopWithNormalReels) {
                var o = XT.GetObject(Vars.ReelsManagerObject).fastStopTimeUntilFinish;
                n = this.reelsManager.useAlternativeStopInFastStop ? this.symbolHolders[i].stopAnimationAlternative.length - o : this.symbolHolders[i].stopAnimation.length - o
            }
            this.symbolHolders[i].PlayStop(n, this.reelsManager.useAlternativeStopInFastStop), i--
        }
        this.stopIdx = -1
    }
}, Special_Reel.prototype.SymbolLeftTheReel = function (t, e) {
    this.mustStop ? this.spinInPlace ? this.randomStop ? this.randomStop && this.randomStopTimer >= this.randomStopDelay && t == this.randomizedStopIdx[this.willRandomStopIdx] ? (this.symbolHolders[t % this.symbolHolders.length].ReplaceSymbol(this.GetNextSymbolInPlace(t)), this.symbolHolders[t % this.symbolHolders.length].PlayStop(e, !1), this.willRandomStopIdx++, this.randomStopTimer = 0) : this.NewLoop(t, e) : (this.symbolHolders[t % this.symbolHolders.length].ReplaceSymbol(this.GetNextSymbolInPlace(t)), this.symbolHolders[t % this.symbolHolders.length].PlayStop(e, !1)) : this.stopIdx >= 0 && (this.symbolHolders[this.stopIdx].ReplaceSymbol(this.GetNextSymbol()), this.symbolHolders[this.stopIdx].PlayStop(e, this.reelsManager.useAlternativeStopInFastStop && this.reelsManager.IsFastPlayOn()), this.stopIdx--) : this.NewLoop(t, e)
}, Special_Reel.prototype.StopFinished = function (t) {
    this.holdersSpinning--, 0 == this.holdersSpinning && (this.reelsManager.StopFinished(this.reelIndex), this.currentPosition = this.stopPosition)
}, Special_Reel.prototype.ApplyDeceleration = function (t) {
    this.applyDeceleration = t, t || (this.currentSpinSpeed = 1)
}, Special_Reel.prototype.UpdateStopDeceleration = function () {
    this.applyDeceleration && (this.currentSpinSpeed > this.minimumSpinSpeed ? (this.currentSpinSpeed -= Time.deltaTime * this.decelerationSpeed, this.currentSpinSpeed < this.minimumSpinSpeed && (this.currentSpinSpeed = this.minimumSpinSpeed)) : (this.applyDeceleration = !1, this.currentSpinSpeed = this.minimumSpinSpeed))
}, Special_Reel.prototype.GetLoopDelayAfterStart = function () {
    return this.reelsManager.isFastStart ? this.loopDelayAfterFastStart : this.loopDelayAfterStart
}, Special_Reel.prototype.SetSymbolsToNormal = function () {
    for (var t = 0; t < this.symbolHolders.length; t++) null != this.symbolHolders[t].currentSymbol && this.symbolHolders[t].currentSymbol.SetNormal()
}, goog.require("UHT.Special_Reel"), goog.provide("UHT.Special_ReelsManager"), Special_ReelsManager.prototype = Object.create(Component.prototype), Special_ReelsManager.prototype.constructor = Special_ReelsManager, Special_ReelsManager.prototype.scriptUpdatePriority = 4, Special_ReelsManager.State = {
    IDLE: 0,
    STARTING: 1,
    SPINNING: 2,
    STOPPING: 3
}, Special_ReelsManager.prototype.Init = function () {
    var t;
    if (this.reelsStartOrder.length < this.reels.length)
        for (this.reelsStartOrder = _array.create(this.reels.length, 0), t = 0; t < this.reelsStartOrder.length; t++) this.reelsStartOrder[t] = t;
    if (this.reelsStopOrder.length < this.reels.length)
        for (this.reelsStopOrder = _array.create(this.reels.length, 0), t = 0; t < this.reelsStopOrder.length; t++) this.reelsStopOrder[t] = t;
    if (this.extraReelDelayStart.length < this.reels.length)
        for (this.extraReelDelayStart = _array.create(this.reels.length, 0), t = 0; t < this.extraReelDelayStart.length; t++) this.extraReelDelayStart[t] = 0;
    if (this.extraReelDelayStop.length < this.reels.length)
        for (this.extraReelDelayStop = _array.create(this.reels.length, 0), t = 0; t < this.extraReelDelayStop.length; t++) this.extraReelDelayStop[t] = 0;
    for (t = 0; t < this.reels.length; t++) this.reels[t].InitReel(), this.reels[t].reelsManager = this, this.reels[t].reelIndex = t
}, Special_ReelsManager.prototype.OnReelSymbols = function (t) {
    for (var e = 0; e < this.reels.length; e++) this.reels[e].SetSymbolList(t[e])
}, Special_ReelsManager.prototype.OnReelPositions = function (t) {
    for (var e = 0; e < this.reels.length; e++) this.reels[e].SetPosition(t[e])
}, Special_ReelsManager.prototype.OnSpinResultReceived = function (t) {
    this.resultReceived = !0;
    for (var e = 0; e < this.reels.length; e++) this.reels[e].SetStopPosition(t[e])
}, Special_ReelsManager.prototype.InitFirstScreenSymbols = function (t) {
    for (var e = 0; e < this.reels.length; e++)
        for (var i = this.reels[e], n = 0; n < i.symbolHolders.length; n++) i.symbolHolders[i.symbolHolders.length - 1 - n].ReplaceSymbol(t[e][n]), i.symbolHolders[n].SetOrderedSymbolIdx(n * this.reels.length + e)
}, Special_ReelsManager.prototype.SetAllSymbolsToNormal = function () {
    for (var t = 0; t < this.reels.length; t++) this.reels[t].SetSymbolsToNormal()
}, Special_ReelsManager.prototype.OnStartSpin = function () {
    this.startFasterInFastPlay && (this.isFastStart = this.IsFastPlayOn()), this.PrepareStart()
}, Special_ReelsManager.prototype.OnStopSpin = function () {
    this.fastStop || (this.startTimer += this.reelsStartSpeedUpOnFastStop), this.fastStop = !0, this.rememberToStop = !0, this.mustStopStoppingReels = !0
}, Special_ReelsManager.prototype.PrepareStart = function () {
    if (this.startTimer = this.reelDelayStart, this.useDecelerationOnStop)
        for (var t = 0; t < this.reels.length; t++) this.reels[t].ApplyDeceleration(!1);
    (this.IsFastPlayOn() || this.ignoreDelaysOnContinuosSpin && XT.GetBool(Vars.ContinuousSpin)) && (this.startTimer = this.reelDelayStart * this.reels.length), this.reelToStart = this.reelsStartOrder[0], this.autoStopTimer = 0, this.IsFastPlayOn() && (this.autoStopTimer = this.autoStopDelay), this.state = Special_ReelsManager.State.STARTING, this.resultReceived = !1, this.rememberToStop = !1, this.mustStopStoppingReels = !1, this.fastStop = !1
}, Special_ReelsManager.prototype.PrepareStop = function () {
    if (this.stopTimer = this.reelDelayStop, (this.IsFastPlayOn() || this.fastStop) && (this.stopTimer = this.reelDelayStop * this.reels.length), this.useDecelerationOnStop && !this.useDecelerationOnActualStop && !this.fastStop && !this.IsFastPlayOn())
        for (var t = 0; t < this.reels.length; t++) this.reels[t].ApplyDeceleration(!0);
    this.reelToStop = this.reelsStopOrder[0], this.state = Special_ReelsManager.State.STOPPING
}, Special_ReelsManager.prototype.Update = function () {
    var t;
    if (this.state == Special_ReelsManager.State.SPINNING && (this.autoStopTimer += Time.deltaTime, this.autoStopTimer > this.autoStopDelay && this.resultReceived && (this.PrepareStop(), this.autoStopTimer = 0)), this.state == Special_ReelsManager.State.SPINNING && this.resultReceived && this.rememberToStop && this.PrepareStop(), this.state == Special_ReelsManager.State.STARTING) {
        this.startTimer += Time.deltaTime, this.reelIdxList = [];
        for (var e = this.GetIndexOfReelToStart(this.reelToStart); this.startTimer > this.reelDelayStart + this.extraReelDelayStart[e] || this.IsFastPlayOn() || !this.ignoreDelaysOnInstantStop && this.mustStopStoppingReels || this.ignoreDelaysOnContinuosSpin && XT.GetBool(Vars.ContinuousSpin);) {
            if (this.startTimer -= this.reelDelayStart + this.extraReelDelayStart[e], this.reels[this.reelToStart].StartSpin(), this.reelIdxList.push(this.reelToStart), !(e < this.reelsStartOrder.length - 1)) {
                this.state = Special_ReelsManager.State.SPINNING;
                break
            }
            this.reelToStart = this.reelsStartOrder[e + 1], e = this.GetIndexOfReelToStart(this.reelToStart)
        }
        if (this.reelIdxList.length > 0)
            for (t = 0; t < this.reelsStarts.length; ++t) {
                var i = this.reelsStarts[t];
                i.callback.call(i.object, this.reelIdxList)
            }
    }
    if (this.state == Special_ReelsManager.State.STOPPING && this.resultReceived) {
        this.stopTimer += Time.deltaTime, this.reelIdxList = [];
        var n = this.GetIndexOfReelToStop(this.reelToStop);
        if (this.stopSwitchesSymbols && this.mustStopStoppingReels) {
            for (t = 0; t < n; t++) {
                var o = this.reelsStopOrder[t];
                this.reels[o].StopSpin(this.fastStop)
            }
            this.mustStopStoppingReels = !1
        }
        for (; this.stopTimer > this.reelDelayStop + this.extraReelDelayStop[n] || this.fastStop || this.IsFastPlayOn() || !this.ignoreDelaysOnInstantStop && this.mustStopStoppingReels || !this.ignoreDelaysOnContinuosSpin && XT.GetBool(Vars.ContinuousSpin);) {
            if (this.useDecelerationOnStop && this.useDecelerationOnActualStop && !this.fastStop && !this.IsFastPlayOn())
                for (t = 0; t < this.reels.length; t++) this.reels[t].ApplyDeceleration(!0);
            if (this.stopTimer -= this.reelDelayStop + this.extraReelDelayStop[n], this.reels[this.reelToStop].StopSpin(this.fastStop), this.reelIdxList.push(this.reelToStop), !(n < this.reelsStopOrder.length - 1)) {
                this.state = Special_ReelsManager.State.IDLE;
                break
            }
            this.reelToStop = this.reelsStopOrder[n + 1], n = this.GetIndexOfReelToStop(this.reelToStop)
        }
        if (this.reelIdxList.length > 0)
            for (var s = 0; s < this.reelsStops.length; ++s) {
                var a = this.reelsStops[s];
                a.callback.call(a.object, this.reelIdxList)
            }
    }
}, Special_ReelsManager.prototype.StopFinished = function (t) {
    var e = [];
    e.push(t);
    for (var i = 0; i < this.reelsStopped.length; ++i) {
        var n = this.reelsStopped[i];
        n.callback.call(n.object, e)
    }
}, Special_ReelsManager.prototype.IsFastPlayOn = function () {
    return XT.GetBool(Vars.FastPlay)
}, Special_ReelsManager.prototype.IsFastStop = function () {
    return this.fastStop
}, Special_ReelsManager.prototype.GetIndexOfReelToStop = function (t) {
    for (var e = -1, i = 0; i < this.reelsStopOrder.length; i++) t == this.reelsStopOrder[i] && (e = i);
    return e
}, Special_ReelsManager.prototype.GetIndexOfReelToStart = function (t) {
    for (var e = -1, i = 0; i < this.reelsStartOrder.length; i++) t == this.reelsStartOrder[i] && (e = i);
    return e
}, Special_ReelsManager.prototype.RegisterCallbacks = function (t, e, i, n) {
    this.reelsStarts.push({
        object: n,
        callback: t
    }), this.reelsStops.push({
        object: n,
        callback: e
    }), this.reelsStopped.push({
        object: n,
        callback: i
    })
}, goog.require("UHT.Engine"), FSTransitionLink_DiamondStrike.prototype = Object.create(XTLink.prototype), FSTransitionLink_DiamondStrike.prototype.constructor = FSTransitionLink_DiamondStrike, FSTransitionLink_DiamondStrike.prototype.XTRegisterCallbacks = function () {
    this.specialReelsManager.RegisterCallbacks(this.OnReelsStarts, this.OnReelsStops, this.OnReelsStopFinished, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_InitReceived, this.OnGameInitReceived, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_Init_ReelsManager, this.OnReelsManagerInit, this)
}, FSTransitionLink_DiamondStrike.prototype.OnGameInitReceived = function () {
    this.specialReelsManager.Init();
    for (var t = 0; t < this.specialReelsManager.reels.length; ++t) this.specialReelsManager.reels[t].decelerateSymbolIds = this.replacementIds
}, FSTransitionLink_DiamondStrike.prototype.OnReelsManagerInit = function () {
    var t = XT.GetObject(Vars.FirstScreenSymbols);
    this.specialReelsManager.InitFirstScreenSymbols(t), this.specialReelsManager.SetAllSymbolsToNormal();
    for (var e = 0; e < t.length; ++e) this.reelStopPositions.push(0)
}, FSTransitionLink_DiamondStrike.prototype.StartTransition = function () {
    for (var t = XT.GetObject(Vars.ResultScreenSymbols).slice(), e = 0; e < t.length; e++) t[e].reverse();
    this.specialReelsManager.InitFirstScreenSymbols(t), this.catTransition.Start()
}, FSTransitionLink_DiamondStrike.prototype.StartSpin = function () {
    this.symbolsCounter = 0;
    var t = XT.GetObject(Vars.ReelSymbols);
    if (t == XT.GetObject(Vars.NextReelSymbols)) {
        var e = XT.GetObject(Vars.ReelSets);
        null != e && e.length > 0 && (t = e[0])
    }
    for (var i = [], n = 0; n < t.length; n++) {
        i[n] = _array.create(t[n].length);
        for (var o = Math.floor(t[n].length / this.addedSymbolsOnEachReel), s = o, a = 0; a < t[n].length; a++) {
            var r = t[n][a],
                l = a,
                u = this.replacementIds[Random.Range(0, this.replacementIds.length - 1)];
            if (a == (s + t[n].length) % t[n].length) r = u, l += Random.Range(-o, o), l %= t[n].length, s += o;
            l != a && i[n][a] != u && (i[n][a] = t[n][a]), i[n][l] = r
        }
    }
    for (var h = 0; h < i.length; h++)
        for (var c = 0, p = 0; p < i[h].length; p++) 2 != i[h][p] && -1 == this.replacementIds.indexOf(i[h][p]) ? c = 0 : c++, c > 3 && (i[h][p] = Random.Range(3, this.replacementIds[0]), c = 0);
    this.specialReelsManager.OnReelSymbols(i), this.specialReelsManager.OnReelPositions(this.reelStopPositions), this.specialReelsManager.OnStartSpin()
}, FSTransitionLink_DiamondStrike.prototype.StopSpin = function () {
    var t, e = XT.GetObject(Vars.ResultScreenSymbols).slice(),
        i = XT.GetObject(Vars.NextReelSymbols),
        n = XT.GetObject(Vars.ReelsManagerObject);
    for (t = 0; t < e.length; t++) {
        this.reelStopPositions[t] = Math.floor(e[t].length / 2);
        for (var o = 0; o < e[t].length; o++) e[t][o] = i[t][o], n.reels[t].symbolHolders[o].ReplaceSymbol(e[t][o]), n.reels[t].symbolHolders[o].currentSymbol.SetNormal()
    }
    for (t = 0; t < e.length; t++) e[t].reverse();
    this.specialReelsManager.OnReelSymbols(e), this.specialReelsManager.OnSpinResultReceived(this.reelStopPositions), this.specialReelsManager.OnStopSpin()
}, FSTransitionLink_DiamondStrike.prototype.OnReelsStopFinished = function (t) {}, FSTransitionLink_DiamondStrike.prototype.OnReelsStops = function (t) {}, FSTransitionLink_DiamondStrike.prototype.OnReelsStarts = function (t) {}, FSTransitionLink_DiamondStrike.prototype.GetSymbolsCounter = function () {
    return this.symbolsCounter++
}, goog.require("UHT.Engine"), goog.require("UHT.Special_Reel"), FSTransition_specialReelDiamondStrike.prototype = Object.create(Special_Reel.prototype), FSTransition_specialReelDiamondStrike.prototype.constructor = FSTransition_specialReelDiamondStrike, FSTransition_specialReelDiamondStrike.prototype.UpdateStopDeceleration = function () {
    this.forceAccelerationOnStop && this.mustStop ? (this.applyAcceleration = !0, this.applyDeceleration = !1) : this.checkedPosition != this.currentPosition && (this.checkedPosition = this.currentPosition, this.applyDeceleration = this.ShouldApplyDeceleration(), this.applyAcceleration = !this.applyDeceleration, this.applyDeceleration && this.currentSpinSpeed <= this.minimumSpinSpeed && (this.applyDeceleration = !1), this.applyAcceleration && this.currentSpinSpeed >= this.normalSpinSpeed && (this.applyAcceleration = !1)), this.applyDeceleration && this.currentSpinSpeed > this.minimumSpinSpeed && (this.currentSpinSpeed -= Time.deltaTime * this.decelerationSpeed, this.currentSpinSpeed < this.minimumSpinSpeed && (this.currentSpinSpeed = this.minimumSpinSpeed)), this.applyAcceleration && this.currentSpinSpeed < (this.mustStop ? this.stopSpinSpeed : this.normalSpinSpeed) && (this.currentSpinSpeed += Time.deltaTime * this.decelerationSpeed, this.currentSpinSpeed > this.normalSpinSpeed && (this.currentSpinSpeed = this.normalSpinSpeed))
}, FSTransition_specialReelDiamondStrike.prototype.ShouldApplyDeceleration = function () {
    if (this.symbolList.length > 0)
        for (var t = this.currentPosition + this.checkSymbolsInAdvance, e = 0; e < this.checkSymbolsInAdvance; ++e)
            if (t--, t += this.symbolList.length, t %= this.symbolList.length, this.decelerateSymbolIds.indexOf(this.symbolList[t]) > -1) return !0;
    return !1
}, FSTransition_specialReelDiamondStrike.prototype.NewLoop = function (t, e) {
    var i;
    this.spinInPlace ? (i = this.symbolLoopHolders[t]).ReplaceSymbol(this.GetNextSymbolInPlace(t)) : (i = this.symbolLoopHolders[this.GetFreeLooper()]).ReplaceSymbol(this.GetNextSymbol()), i.PlayLoop(e);
    var n = i.currentSymbol.gameObject.GetComponent(SymbolDepthSort);
    null != n && (i.currentSymbol.gameObject.GetComponent(UIPanel).depth = n.startingDepth)
}, goog.require("UHT.Engine"), RandomAudioClipPlayer.prototype = Object.create(Component.prototype), RandomAudioClipPlayer.prototype.constructor = RandomAudioClipPlayer, RandomAudioClipPlayer.prototype.PlayRandomClip = function () {
    if (null != this.soundManager || (this.soundManager = XT.GetObject(Vars.SoundManagerObject), null != this.soundManager)) {
        var t = Random.Range(0, this.audioClips.length);
        this.soundManager.PlaySimple(this.audioClips[t])
    }
}, goog.require("UHT.Engine"), BonusGameTransition_DiamondStrike.prototype = Object.create(XTLink.prototype), BonusGameTransition_DiamondStrike.prototype.constructor = BonusGameTransition_DiamondStrike, BonusGameTransition_DiamondStrike.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackObject(Vars.ReelsManagerObject, this.OnReelsManagerObject, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_SpinResultReceived, this.OnSpinResultReceived, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopStarted, this.OnReelStopStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin, this.OnStopSpin, this)
}, BonusGameTransition_DiamondStrike.prototype.OnReelsManagerObject = function (t) {
    this.reelsManager = t
}, BonusGameTransition_DiamondStrike.prototype.OnSpinStarted = function () {
    this.isFastStop = !1;
    for (var t = 0; t < this.stillPossibleWinner.length; t++) this.stillPossibleWinner[t] = !1
}, BonusGameTransition_DiamondStrike.prototype.OnStopSpin = function () {
    this.isFastStop = !0
}, BonusGameTransition_DiamondStrike.prototype.OnReelStopStarted = function () {
    var t, e = XT.GetObject(Vars.LastStoppedReelIndices);
    if (this.lastStoppedReel = e[e.length - 1], (XT.GetBool(Vars.ContinuousSpin) || XT.GetBool(Vars.FastPlay) && !this.isBonusWin || this.isFastStop) && (this.stillPossibleWinner[this.lastStoppedReel] = !1), XT.GetBool(Vars.ContinuousSpin) || this.isFastStop)
        for (this.isBonusWin = !1, this.SetupReelDelayStop(!0), t = 0; t < this.unexciteReel.length; t++) this.unexciteReel[t].Start();
    else this.isBonusWin && this.lastStoppedReel < 4 && this.stillPossibleWinner[this.lastStoppedReel + 1] && this.exciteReel[this.lastStoppedReel + 1].Start()
}, BonusGameTransition_DiamondStrike.prototype.OnSpinResultReceived = function () {
    var t, e = XT.GetObject(Vars.MarkedSymbolPositions),
        i = 0;
    for (t = 0; t < e.length; t++) {
        var n = e[t] % 5;
        this.stillPossibleWinner[n] = !0
    }
    for (t = 0; t < this.stillPossibleWinner.length; t++)
        if (1 == this.stillPossibleWinner[t]) {
            var o = 3 - i;
            this.stillPossibleWinner.length - t < o ? this.stillPossibleWinner[t] = !1 : i++
        } this.isBonusWin = i >= 3, this.SetupReelDelayStop(!this.isBonusWin)
}, BonusGameTransition_DiamondStrike.prototype.SetupReelDelayStop = function (t) {
    XT.GetObject(Vars.ExtraReelDelayStop);
    for (var e = XT.GetObject(Vars.ExtraReelDelayStopDefault), i = _array.create(e.length), n = XT.GetObject(Vars.ReelsCanBeExcited), o = !0, s = 0; s < e.length; s++) i[s] = e[s], !t && this.stillPossibleWinner[s] && (i[s] = this.delayBeforeExcitedReel, XT.GetBool(Vars.FastPlay) && o && (i[s] += this.reelsManager.reelDelayStart * this.reelsManager.reels.length), o = !1), n[s] = t;
    XT.SetObject(Vars.ExtraReelDelayStop, i)
}, BonusGameTransition_DiamondStrike.prototype.StartTransitionToBonus = function () {
    this.FindGolden7OnReel();
    for (var t = 0; t < this.winnersCATContiners.length; t++) this.winnersCATContiners[t].StartEvent(this.transitionToBonusCatID)
}, BonusGameTransition_DiamondStrike.prototype.PossibleGolden7Stops = function () {
    if (this.stillPossibleWinner[this.lastStoppedReel])
        for (var t = XT.GetObject(Vars.MarkedSymbolPositions), e = this.reelsManager.reels[this.lastStoppedReel], i = 0; i < e.symbolHolders.length; i++) null != e.symbolHolders[i].currentSymbol && -1 != t.indexOf(5 * i + this.lastStoppedReel) && e.symbolHolders[i].currentSymbol.gameObject.GetComponentInChildren(CAT_Container).StartEvent(this.stillCanWinCatId)
}, BonusGameTransition_DiamondStrike.prototype.FindGolden7OnReel = function () {
    this.winnersCATContiners = [];
    for (var t = XT.GetObject(Vars.OrderedSymbolHoldersList), e = XT.GetObject(Vars.MarkedSymbolPositions), i = 0; i < e.length; i++) this.winnersCATContiners.push(t[e[i]].gameObject.GetComponentInChildren(CAT_Container))
}, goog.require("UHT.XTLink"), WinLineVisual.prototype = Object.create(XTLink.prototype), WinLineVisual.prototype.constructor = WinLineVisual, WinLineVisual.prototype.OnWillRenderObject = function () {
    var t = this.gameObject.transform.scale();
    this.pixiZOrderedContainer.x = this.gameObject.transform.position().x, this.pixiZOrderedContainer.y = -this.gameObject.transform.position().y, this.pixiZOrderedContainer.scale.x = t.x, this.pixiZOrderedContainer.scale.y = t.y
}, WinLineVisual.prototype.Awake = function () {
    if (!this.showOnlyLineEnd) {
        var t = new PIXI.Graphics;
        t.lineStyle(0), t.beginFill(this.color.rgbAsHex, this.color.a), this.useObjectAsEnd || t.drawRect(this.guides[0].x - this.thickness, -this.guides[0].y - this.thickness, 2 * this.thickness, 2 * this.thickness), t.endFill();
        var e = new PIXI.Graphics;
        e.lineStyle(0), e.beginFill(0, this.color.a), this.useObjectAsEnd || e.drawRect(this.guides[0].x - this.thickness, -this.guides[0].y - this.thickness / 2, 2 * this.thickness, 2 * this.thickness), e.endFill();
        var i = new PIXI.Graphics;
        i.lineStyle(0), i.beginFill(this.color.rgbAsHex, this.color.a), this.useObjectAsEnd || i.drawRect(this.guides[this.guides.length - 1].x - this.thickness, -this.guides[this.guides.length - 1].y - this.thickness, 2 * this.thickness, 2 * this.thickness), i.endFill();
        var n = new PIXI.Graphics;
        n.lineStyle(0), n.beginFill(0, this.color.a), this.useObjectAsEnd || n.drawRect(this.guides[this.guides.length - 1].x - this.thickness, -this.guides[this.guides.length - 1].y - this.thickness / 2, 2 * this.thickness, 2 * this.thickness), n.endFill();
        var o = new PIXI.Graphics;
        o.lineStyle(this.thickness, this.color.rgbAsHex, this.color.a), o.moveTo(this.guides[0].x, -this.guides[0].y);
        for (var s = 1; s < this.guides.length; s++) o.lineTo(this.guides[s].x, -this.guides[s].y);
        var a = new PIXI.Graphics;
        a.lineStyle(this.thickness, 0, this.color.a), a.moveTo(this.guides[0].x, -this.guides[0].y + this.thickness / 2);
        for (s = 1; s < this.guides.length; s++) a.lineTo(this.guides[s].x, -this.guides[s].y + this.thickness / 2);
        this.pixiZOrderedContainer.addChild(a), this.pixiZOrderedContainer.addChild(e), this.pixiZOrderedContainer.addChild(n), this.pixiZOrderedContainer.addChild(o), this.pixiZOrderedContainer.addChild(t), this.pixiZOrderedContainer.addChild(i)
    }
}, WinLineVisual.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_ShowWinLine, this.OnWinLineShow, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_HideWinLine, this.OnWinLineHide, this), XT.RegisterCallbackObject(Vars.LinesDefinitionsObject, this.LinesDefinitionsObject, this)
}, WinLineVisual.prototype.XTInitVariablesAndEvents = function () {}, WinLineVisual.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnWinLineShow, this), XT.UnregisterCallbackEvent(this.OnWinLineHide, this), XT.UnregisterCallbackObject(this.LinesDefinitionsObject, this)
}, WinLineVisual.prototype.Update = function () {}, WinLineVisual.prototype.OnWinLineShow = function () {
    if (this.id == XT.GetInt(Vars.CurrentDisplayedWinLineId) && (this.gameObject.SetActive(!0), XT.GetBool(Vars.ShowSymbolSquaresOnLineVisual)))
        for (var t = XT.GetObject(Vars.ReceivedWinLines), e = 0; e < t.length; e++)
            if (t[e].LineNumber == this.id)
                for (var i = 0; i < t[e].WinPositions.length; i++) this.linesDefinitions.symbolSquares[t[e].WinPositions[i]].SetActive(!0)
}, WinLineVisual.prototype.OnWinLineHide = function () {
    if (this.id == XT.GetInt(Vars.CurrentDisplayedWinLineId) && (this.gameObject.SetActive(!1), XT.GetBool(Vars.ShowSymbolSquaresOnLineVisual)))
        for (var t = XT.GetObject(Vars.ReceivedWinLines), e = 0; e < t.length; e++)
            if (t[e].LineNumber == this.id)
                for (var i = 0; i < t[e].WinPositions.length; i++) this.linesDefinitions.symbolSquares[t[e].WinPositions[i]].SetActive(!1)
}, WinLineVisual.prototype.LinesDefinitionsObject = function (t) {
    this.linesDefinitions = t
}, WinLineVisual.prototype.OnEnable = function () {
    this.useObjectAsEnd && (this.lineEndings[0].SetActive(!0), this.lineEndings[1].SetActive(!0))
}, WinLineVisual.prototype.OnDisable = function () {
    this.useObjectAsEnd && (this.lineEndings[0].SetActive(!1), this.lineEndings[1].SetActive(!1))
}, goog.require("UHT.XTLink"), PerLineWinDisplayer.prototype = Object.create(XTLink.prototype), PerLineWinDisplayer.prototype.constructor = PerLineWinDisplayer, PerLineWinDisplayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateCurrentDisplayedWinLineIndex, this.OnUpdateWinLineIndex, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StartDisplayWinLine, this.OnStartDisplayWinLine, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StopDisplayWinLine, this.OnStopDisplayWinLine, this)
}, PerLineWinDisplayer.prototype.OnUpdateWinLineIndex = function () {
    var t = XT.GetInt(Vars.CurrentDisplayedWinLineIndex),
        e = XT.GetObject(Vars.ReceivedWinLines);
    XT.SetDouble(Vars.CurrentDisplayedWinLineWin, e[t].WinAmount * XT.GetDouble(Vars.CurrentWinMultiplier));
    var i = XT.GetObject(Vars.OrderedSymbolHoldersList),
        n = e[t].WinPositions;
    this.gameObject.transform.position(i[n[n.length - 1]].gameObject.transform.position())
}, PerLineWinDisplayer.prototype.OnStartDisplayWinLine = function () {
    this.StartCAT.cat.StartEvent(this.StartCAT.id)
}, PerLineWinDisplayer.prototype.OnStopDisplayWinLine = function () {
    this.StopCAT.cat.IsEventRunning(this.StopCAT.id) || this.StopCAT.cat.StartEvent(this.StopCAT.id)
}, goog.require("UHT.VS_Symbol"), VS_SymbolScatterWild.prototype = Object.create(VS_Symbol.prototype), VS_SymbolScatterWild.prototype.constructor = VS_SymbolScatterWild, VS_SymbolScatterWild.prototype.Start = function () {
    VS_Symbol.prototype.Start.call(this), this.eventWildNormal.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildSpinStart.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildSpinLoop.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildSpinStop.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildHighlightOff.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildFSHighlightOff.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildHighlightOn.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildWinExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildWinning.UnregisterCallback(this.Callback_EventEnded, this), this.eventSetAsScatter.UnregisterCallback(this.Callback_EventEnded, this), this.eventSetAsWild.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildSpinLoopExcited.UnregisterCallback(this.Callback_EventEnded, this), this.eventWildNormal.RegisterCallback(this.Callback_EventEnded, this), this.eventWildSpinStart.RegisterCallback(this.Callback_EventEnded, this), this.eventWildSpinLoop.RegisterCallback(this.Callback_EventEnded, this), this.eventWildSpinStop.RegisterCallback(this.Callback_EventEnded, this), this.eventWildHighlightOff.RegisterCallback(this.Callback_EventEnded, this), this.eventWildFSHighlightOff.RegisterCallback(this.Callback_EventEnded, this), this.eventWildHighlightOn.RegisterCallback(this.Callback_EventEnded, this), this.eventWildExcited.RegisterCallback(this.Callback_EventEnded, this), this.eventWildWinExcited.RegisterCallback(this.Callback_EventEnded, this), this.eventWildWinning.RegisterCallback(this.Callback_EventEnded, this), this.eventSetAsScatter.RegisterCallback(this.Callback_EventEnded, this), this.eventSetAsWild.RegisterCallback(this.Callback_EventEnded, this), this.eventWildSpinLoopExcited.RegisterCallback(this.Callback_EventEnded, this)
}, VS_SymbolScatterWild.prototype.ProcessCommands = function () {
    if (this.commands.length > 0)
        if (this.canProcessNextCommand) {
            var t = this.commands[0];
            switch (this.commands.splice(0, 1), this.canProcessNextCommand = !1, t) {
                case VS_Symbol.State.Normal:
                    this.isScatter ? this.eventNormal.Start() : this.eventWildNormal.Start();
                    break;
                case VS_Symbol.State.HighlightOn:
                    this.isScatter ? this.eventHighlightOn.Start() : this.eventWildHighlightOn.Start();
                    break;
                case VS_Symbol.State.HighlightOff:
                    this.isScatter ? this.eventHighlightOff.Start() : this.eventWildHighlightOff.Start();
                    break;
                case VS_Symbol.State.SpinStart:
                    this.isScatter ? this.eventSpinStart.Start() : this.eventWildSpinStart.Start();
                    break;
                case VS_Symbol.State.SpinLoop:
                    this.isScatter ? this.eventSpinLoop.Start() : this.eventWildSpinLoop.Start();
                    break;
                case VS_Symbol.State.SpinStop:
                    this.isScatter ? this.eventSpinStop.Start() : this.eventWildSpinStop.Start();
                    break;
                case VS_Symbol.State.Excited:
                    this.isScatter ? this.eventExcited.Start() : this.eventWildExcited.Start();
                    break;
                case VS_Symbol.State.WinExcited:
                    this.isScatter ? this.eventWinExcited.Start() : this.eventWildWinExcited.Start();
                    break;
                case VS_Symbol.State.Winning:
                    this.isScatter ? this.eventWinning.Start() : this.eventWildWinning.Start();
                    break;
                case VS_Symbol.State.SpinLoopExcited:
                    this.isScatter ? this.eventSpinLoopExcited.Start() : this.eventWildSpinLoopExcited.Start();
                    break;
                case VS_Symbol.State.FSHighlightOff:
                    this.isScatter ? this.eventFSHighlightOff.Start() : this.eventWildFSHighlightOff.Start();
                    break;
                case VS_Symbol.State.Invalid:
                default:
                    this.canProcessNextCommand = !0;
                    break
            }
            this.internalState = t, this.currentStateForInspector = this.internalState
        } else 0 == this.stopEventSent && this.StopAllRunningEvents()
}, VS_SymbolScatterWild.prototype.StopAllRunningEvents = function () {
    VS_Symbol.prototype.StopAllRunningEvents.call(this), this.eventWildNormal.IsRunning() && this.eventWildNormal.Stop(), this.eventWildSpinStart.IsRunning() && this.eventWildSpinStart.Stop(), this.eventWildSpinLoop.IsRunning() && this.eventWildSpinLoop.Stop(), this.eventWildSpinStop.IsRunning() && this.eventWildSpinStop.Stop(), this.eventWildHighlightOff.IsRunning() && this.eventWildHighlightOff.Stop(), this.eventWildHighlightOn.IsRunning() && this.eventWildHighlightOn.Stop(), this.eventWildExcited.IsRunning() && this.eventWildExcited.Stop(), this.eventWildWinExcited.IsRunning() && this.eventWildWinExcited.Stop(), this.eventWildWinning.IsRunning() && this.eventWildWinning.Stop(), this.eventSetAsScatter.IsRunning() && this.eventSetAsScatter.Stop(), this.eventSetAsWild.IsRunning() && this.eventSetAsWild.Stop(), this.eventWildSpinLoopExcited.IsRunning() && this.eventWildSpinLoopExcited.Stop(), this.eventWildFSHighlightOff.IsRunning() && this.eventWildFSHighlightOff.Stop()
}, VS_SymbolScatterWild.prototype.SetAsWild = function () {
    this.eventSetAsWild.Start(), this.isScatter = !1
}, VS_SymbolScatterWild.prototype.SetAsScatter = function () {
    this.eventSetAsScatter.Start(), this.isScatter = !0
}, VS_SymbolScatterWild.prototype.IsScatter = function () {
    return this.isScatter
}, VS_SymbolScatterWild.prototype.ResetToScatter = function () {
    this.eventResetToScatter.Start(), this.isScatter = !0
}, goog.require("UHT.VS_ReelsManager"), goog.provide("UHT.ResultDisplayer");
var ResultDisplayerVars = {
    ResultDisplayerObject: "ResultDisplayerObject",
    ResultDisplayer_DoExtraLoop: "ResultDisplayer_DoExtraLoop",
    ResultDisplayer_SkipDelayBeforeEndOfDisplayLoop: "ResultDisplayer_SkipDelayBeforeEndOfDisplayLoop"
};

function ResultDisplayer() {
    XTLink.call(this), ResultDisplayer.PlaySpinEndedBigWinSound = {
        whenEnteringResult: 0,
        whenExpandingIsDone: 1,
        whenLinesWillShow: 2
    }, this.rq = null, this.showAllLinesVisual = !0, this.showEachLineVisual = !0, this.useAlternativeAllLinesDisplay = !1, this.showSymbolSquaresOnLineVisual = !1, this.expandSymbolsOneByOne = !0, this.singleLineShowDuration = .5, this.allLinesShowDuration = 1, this.scatterDuration = .5, this.bonusDuration = .5, this.transitionDuration = .1, this.noWinDisplayDuration = .5, this.scatterWildChangeDuration = .2, this.wildBecomesScatterWhenScatterPays = !1, this.mysteryScatterDuration = .5, this.applyDelayOnSymbols = !1, this.delayIsAppliedPerReel = !1, this.singleLineSymbolDelay = .2, this.allLinesSymbolDelay = .15, this.singleLineLastSymbolDelay = 1, this.allLinesLastSymbolDelay = 1, this.numberOfReels = 5, this.expandingSymbolDuration = 1, this.bigWinWaitsAllLinesLoops = 0, this.playSpinEndedBWCondition = 0, this.eachLine_WldOverridesDominatingSymbolWinSound = !1, this.allLines_WildOverridesDominatingSymbolWinSound = !1, this.allLines_PlaySymbolWinSoundOnlyOnce = !1, this.resetSymbolsVisualState = VS_Symbol.State.Normal, this.showFSWonBeforeResult = !1, this.showFSWonBeforeResultDuration = 2, this.showBonusWonBeforeResult = !1, this.showBonusWonBeforeResultDuration = 2, this.treatMoneySymbolsAsBonusSymbols = !0, this.treatMarkedPositionsAsBonusSymbols = !1, this.considerSymbolSubstitutes = !1, this.symbolWinSoundPlayedOnce = !1, this.mustStart = !1, this.isMinimalMode = !1, this.isStarted = !1, this.mustAnimateScatters = !1, this.scatterPositions = null, this.animateScattersLoop = !0, this.mustAnimateScattersWin = !1, this.scatterWinPositions = null, this.mustAnimateBonuses = !1, this.bonusPositions = null, this.animateBonusesLoop = !1, this.mustSetScattersAsWilds = !1, this.scatterAsWildPositions = null, this.mysteryScatterID = [], this.mustAnimateMysteryScatters = !1, this.mysteryScatterPositions = null, this.iMysteryScatterIDtoShow = -1, this.curWinLines = null, this.calculator = null, this.mustExpandSymbols = !1, this.expandingSymbolsData = null, this.upSymbols = null, this.curOrderedHoldersList = null, this.resultTime = 3, ResultDisplayer.ScatterWildState = {
        SCATTER: 0,
        WILD: 1
    }, this.currentScatterWildState = ResultDisplayer.ScatterWildState.SCATTER, this.scattersWildConvertedThisSpin = !1, this.useScatterWildStates = !1, this.payingSymbols_queueAllLines = !0, this.STUCS_forTumbling = !1
}

function StageResult() {
    UHTStage.call(this), this.cat = null, this.startEvent = null, this.bMustBehaveLikeResultFreeSpinsFRB = !1, this.mustSpin = !1, this.mustShowGamble = !1, this.prepareToOpenBonus = !1, this.mustOpenBonus = !1, this.prepareToOpenFSBG = !1, this.mustOpenFSBG = !1, this.isJackpotWinOnScreen = !1, this.isBonusRounds = !1, this.bonusRoundsMessageWindowIsOpened = !1, this.isRespin = !1, this.canAutoSpinAfterResultMinimumTime = !1, this.spinBlockersCounter = 0, this.autoplayRequested = !1, this.mustStartAutoplayAfterConfirmSpinStart = !1
}
ResultDisplayer.prototype = Object.create(XTLink.prototype), ResultDisplayer.prototype.constructor = ResultDisplayer, ResultDisplayer.isJackpotWin = !1, ResultDisplayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_Prepare, this.OnPrepare, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop, this.OnDoLoop, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup, this.OnDoCleanup, this)
}, ResultDisplayer.prototype.XTInitVariablesAndEvents = function () {
    XT.SetObject(Vars.RQManagerObject, this.rq), XT.SetBool(Vars.CanSpinAfterResultMinimumTime, !1), XT.SetBool(Vars.ShowSymbolSquaresOnLineVisual, this.showSymbolSquaresOnLineVisual), XT.SetBool(ResultDisplayerVars.ResultDisplayer_DoExtraLoop, !1), XT.SetBool(ResultDisplayerVars.ResultDisplayer_SkipDelayBeforeEndOfDisplayLoop, !1), XT.SetObject(ResultDisplayerVars.ResultDisplayerObject, this), XT.SetBool(Vars.ResultDisplayer_CanAnimateScatters, !0), XT.SetBool(Vars.ResultDisplayer_CanAnimateBonuses, !0), XT.SetBool(Vars.ForceResultMinimalMode, !1), XT.SetDouble(Vars.CurrentDisplayedWinLineWin, 0)
}, ResultDisplayer.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnPrepare, this), XT.UnregisterCallbackEvent(this.OnDoLoop, this), XT.UnregisterCallbackEvent(this.OnDoCleanup, this)
}, ResultDisplayer.prototype.Update = function () {
    if (this.mustStart) {
        if (this.mustStart = !1, this.rq.StopRoutines(), this.playSpinEndedBWCondition == ResultDisplayer.PlaySpinEndedBigWinSound.whenEnteringResult && XT.GetBool(Vars.SpinResultIsBigWin) && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_PlaySpinEndedBWSound)), XT.TriggerEvent(Vars.Evt_Internal_InjectRQIOnResultDisplayerLoopStarts), XT.GetBool(Vars.FromServer_IsJackpotWin) && XT.GetBool(Vars.MustShowJackpotWon) && (ResultDisplayer.isJackpotWin = !0, XT.SetBool(Vars.MustShowJackpotWon, !1), XT.TriggerEvent(Vars.Evt_Internal_InjectRQIForMysteryJackpotWin)), XT.GetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion)) this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_UpdateDisplayedWin)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SignalTheUserCanSpin, !0, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.noWinDisplayDuration));
        else {
            if (XT.TriggerEvent(Vars.Evt_Internal_InjectRQIAfterBonusAnimate), this.mustAnimateScatters && this.showFSWonBeforeResult && !XT.GetBool(Vars.WinLimitReached) && (this.animateScattersLoop || (this.mustAnimateScatters = !1), XT.GetBool(Vars.ScatterSymbolIsWild) && this.mustSetScattersAsWilds && (this.useScatterWildStates && this.currentScatterWildState != ResultDisplayer.ScatterWildState.WILD || (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetScatterWildAsScatter, this.scatterPositions, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterWildChangeDuration)), this.useScatterWildStates && (this.currentScatterWildState = ResultDisplayer.ScatterWildState.SCATTER))), this.mustAnimateScattersWin && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowScattersWin)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols, this.scatterPositions, this)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowFSWonBeforeResult)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.showFSWonBeforeResultDuration)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, null, this)), this.mustAnimateScattersWin && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideScattersWin))), this.mustAnimateBonuses && this.showBonusWonBeforeResult && (this.animateBonusesLoop || (this.mustAnimateBonuses = !1), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols, this.bonusPositions, this)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowBonusWonBeforeResult)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.showBonusWonBeforeResultDuration)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, null, this))), this.mustExpandSymbols) {
                for (var t = 0; t < this.expandingSymbolsData.length; t++) this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowExpandingSymbol, this.expandingSymbolsData[t].ExpandingSymbolId, this)), this.expandSymbolsOneByOne && this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.expandingSymbolDuration));
                !this.expandSymbolsOneByOne && XT.GetBool(Vars.ExpandableDelayNeededAtTheEnd) && this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.expandingSymbolDuration)), this.mustExpandSymbols = !1
            }
            if (this.playSpinEndedBWCondition == ResultDisplayer.PlaySpinEndedBigWinSound.whenExpandingIsDone && XT.GetBool(Vars.SpinResultIsBigWin) && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_PlaySpinEndedBWSound)), XT.GetBool(Vars.SpinResultIsBigWin) && 0 != this.bigWinWaitsAllLinesLoops || (this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_UpdateDisplayedWin)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SignalTheUserCanSpin, !0, this)), XT.TriggerEvent(Vars.Evt_Internal_InjectRQIBeforeLinesShow), this.playSpinEndedBWCondition == ResultDisplayer.PlaySpinEndedBigWinSound.whenLinesWillShow && XT.GetBool(Vars.SpinResultIsBigWin) && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_PlaySpinEndedBWSound)), this.curWinLines.length > 0 && (this.useAlternativeAllLinesDisplay ? XT.TriggerEvent(Vars.Evt_QueueDisplayAllLines_Alternative) : this.QueueDisplayAllLines()), this.QueueDisplayJackpot(), this.QueueDisplayPayingSymbols()), this.bigWinWaitsAllLinesLoops > 0 && XT.GetBool(Vars.SpinResultIsBigWin)) {
                XT.TriggerEvent(Vars.Evt_Internal_InjectRQIBeforeLinesShow), this.playSpinEndedBWCondition == ResultDisplayer.PlaySpinEndedBigWinSound.whenLinesWillShow && XT.GetBool(Vars.SpinResultIsBigWin) && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_PlaySpinEndedBWSound));
                for (var e = 0; e < this.bigWinWaitsAllLinesLoops; e++) this.curWinLines.length > 0 && (this.useAlternativeAllLinesDisplay ? XT.TriggerEvent(Vars.Evt_QueueDisplayAllLines_Alternative) : this.QueueDisplayAllLines());
                this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_UpdateDisplayedWin)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SignalTheUserCanSpin, !0, this))
            }
            var i = XT.GetObject(Vars.ReceivedFreeSpinsResponse),
                n = !1;
            if (XT.GetBool(Vars.Jurisdiction_LineByLineFreespin) && i.IsFreeSpin && !i.IsFreeSpinsStart && (n = !0), XT.GetBool(Vars.Jurisdiction_LineByLineGlobal) && (n = !0), !this.isMinimalMode && !XT.GetBool(Vars.ForceResultMinimalMode) || n) {
                this.rq.AddRoutineQueueItem(new RQIMarker(RQIMarker.MarkerType.StartLineByLine)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration)), (this.curWinLines.length > 1 || XT.GetBool(InterfaceVars.ShowExplicitResult)) && this.QueueDisplayLinesOneByOne(), this.rq.AddRoutineQueueItem(new RQIMarker(RQIMarker.MarkerType.EndLineByLine));
                for (e = 0; e < this.curWinLines.length; e++) this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLine, this.curWinLines[e].LineNumber, this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLineWin, e, this))
            }
            if (XT.TriggerEvent(Vars.Evt_Internal_InjectRQIAfterLinesShow), this.mustAnimateScattersWin && (XT.GetBool(Vars.ScatterSymbolIsWild) && this.wildBecomesScatterWhenScatterPays && this.mustSetScattersAsWilds && (this.useScatterWildStates && this.currentScatterWildState != ResultDisplayer.ScatterWildState.WILD || (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetScatterWildAsScatter, this.scatterAsWildPositions, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterWildChangeDuration)), this.useScatterWildStates && (this.currentScatterWildState = ResultDisplayer.ScatterWildState.SCATTER))), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowScattersWin)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, null, this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols, this.scatterWinPositions, this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound, 1, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterDuration)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideScattersWin))), this.mustAnimateScatters && !this.showFSWonBeforeResult && (this.animateScattersLoop || (this.mustAnimateScatters = !1), XT.GetBool(Vars.ScatterSymbolIsWild) && this.mustSetScattersAsWilds && (this.useScatterWildStates && this.currentScatterWildState != ResultDisplayer.ScatterWildState.WILD || (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetScatterWildAsScatter, this.scatterPositions, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterWildChangeDuration)), this.useScatterWildStates && (this.currentScatterWildState = ResultDisplayer.ScatterWildState.SCATTER))), this.mustAnimateScattersWin && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowScattersWin)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols, this.scatterPositions, this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound, 1, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterDuration)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, null, this)), this.mustAnimateScattersWin && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideScattersWin))), XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin && this.mustAnimateMysteryScatters) {
                this.mustAnimateMysteryScatters = !1;
                for (e = 0; e < this.mysteryScatterPositions.length; e++) this.mysteryScatterPositions[e].length > 0 && (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetMysteryScatterIDtoShow, this.mysteryScatterID[e], this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetMysteryScatters, this.mysteryScatterPositions[e], this)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowMysteryScatterWin)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols, this.mysteryScatterPositions[e], this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.mysteryScatterDuration)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideMysteryScatterWin)));
                this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, null, this))
            }
            if (this.mustAnimateBonuses && !this.showBonusWonBeforeResult && (this.animateBonusesLoop || (this.mustAnimateBonuses = !1), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols, this.bonusPositions, this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound, 0, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.bonusDuration)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, null, this))), XT.GetBool(Vars.TruncateFSResponseDuringRespin)) {
                var o = XT.GetObject(Vars.TruncatedFreeSpinsResponse),
                    s = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
                o.IsFreeSpin && !s.IsFreeSpin && (this.mustAnimateScatters = !1)
            }
            0 != this.HasWorkToDo() || XT.GetBool(ResultDisplayerVars.ResultDisplayer_SkipDelayBeforeEndOfDisplayLoop) || this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.noWinDisplayDuration)), XT.TriggerEvent(Vars.Evt_Internal_InjectRQIBeforeEndOfDisplayLoop)
        }
        this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnDisplayLoopEnded, null, this)), this.rq.StartRoutines()
    }
    this.resultTime += Time.deltaTime, XT.GetBool(Vars.CanSpinAfterResultMinimumTime) && (XT.SetBool(Vars.CanSpinAfterResultMinimumTime, !1), this.SignalTheUserCanSpin(!0))
}, ResultDisplayer.prototype.InternalSetCurWinLines = function (t) {
    this.curWinLines = t
}, ResultDisplayer.prototype.InternalSetWinLinesMinimalMode = function (t) {
    this.isMinimalMode = t
}, ResultDisplayer.prototype.OnPrepare = function () {
    this.curWinLines = XT.GetObject(Vars.ReceivedWinLines), this.isMinimalMode = XT.GetBool(Vars.ResultDisplayerMinimalMode), this.curOrderedHoldersList = XT.GetObject(Vars.OrderedSymbolHoldersList), this.calculator = XT.GetObject(Vars.SpinExciterObject), this.upSymbols = XT.GetObject(Vars.UpSymbols_RandomWilds), this.ComputeScatters(), this.ComputeBonuses(), XT.GetBool(Vars.ScatterSymbolIsWild) && this.ComputeScattersSetAsWilds();
    var t = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    t.IsFreeSpin && !t.IsFreeSpinsStart && XT.GetDouble(Vars.MysteryScatterWinDisplayed) > 0 && this.ComputeMysteryScatters();
    for (var e = 0; e < this.curOrderedHoldersList.length; e++) this.HasWorkToDo() && !XT.GetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion) ? this.curOrderedHoldersList[e].currentSymbol.SetHighlightOff() : this.curOrderedHoldersList[e].currentSymbol.SetNormal();
    this.expandingSymbolsData = XT.GetObject(Vars.ExpandingSymbolsData), this.mustExpandSymbols = null != this.expandingSymbolsData, this.isStarted = !0, XT.GetObject(Vars.FromStageName) != UHTStageName.Init && (this.resultTime = 0), this.useScatterWildStates && (this.currentScatterWildState = ResultDisplayer.ScatterWildState.SCATTER, this.scattersWildConvertedThisSpin = !1)
}, ResultDisplayer.prototype.OnDoLoop = function () {
    this.isStarted && (this.mustStart = !0)
}, ResultDisplayer.prototype.OnDoCleanup = function () {
    if (this.isStarted) {
        this.isStarted = !1, this.mustStart = !1, this.rq.StopRoutines();
        for (var t = 0; t < this.curWinLines.length; t++) this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLine, this.curWinLines[t].LineNumber, this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLineWin, t, this));
        this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideAllLinesWin)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideScattersWin)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnResetAllSymbolsVisual, null, this)), this.rq.StartRoutines()
    }
    this.symbolWinSoundPlayedOnce = !1, ResultDisplayer.isJackpotWin = !1
}, ResultDisplayer.prototype.QueueDisplayAllLines = function () {
    if (XT.GetBool(Vars.ScatterSymbolIsWild) && this.mustSetScattersAsWilds && (this.useScatterWildStates && (this.currentScatterWildState != ResultDisplayer.ScatterWildState.SCATTER || this.scattersWildConvertedThisSpin) || (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnSetScatterWildAsWild, this.scatterAsWildPositions, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.scatterWildChangeDuration)), this.useScatterWildStates && (this.currentScatterWildState = ResultDisplayer.ScatterWildState.WILD, this.scattersWildConvertedThisSpin = !0))), XT.GetDouble(Vars.TotalLinesWinReceived) > 0 && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowAllLinesWin)), this.showAllLinesVisual)
        for (var t = 0; t < this.curWinLines.length; t++) {
            var e = this.curWinLines[t].LineNumber;
            this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowLine, e, this))
        }
    var i = !0;
    if (!this.symbolWinSoundPlayedOnce || !this.allLines_PlaySymbolWinSoundOnlyOnce)
        for (t = 0; t < this.curWinLines.length; t++)
            if (this.allLines_WildOverridesDominatingSymbolWinSound && this.calculator.BetLinesFromServer(this.curWinLines[t].LineNumber).containsWild) {
                this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound, 2, this)), this.symbolWinSoundPlayedOnce = !0, i = !1;
                break
            } if (i && this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound, -1, this)), this.applyDelayOnSymbols ? this.QueueAllLinesDelayed(null) : (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowAllSymbolAnimation, null, this)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_Internal_InjectRQIWhileShowingAllLines)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.allLinesShowDuration))), this.showAllLinesVisual)
        for (t = 0; t < this.curWinLines.length; t++) {
            e = this.curWinLines[t].LineNumber;
            this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLine, e, this))
        }
    this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, null, this)), XT.GetDouble(Vars.TotalLinesWinReceived) > 0 && this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideAllLinesWin)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration))
}, ResultDisplayer.prototype.QueueDisplayLinesOneByOne = function () {
    for (var t = 0; t < this.curWinLines.length; t++) {
        var e = this.curWinLines[t].LineNumber;
        this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowLineWin, t, this)), this.showEachLineVisual && this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowLine, e, this)), this.eachLine_WldOverridesDominatingSymbolWinSound && this.calculator.BetLinesFromServer(e).containsWild ? this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound, 2, this)) : this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SymbolWinPlaySound, this.calculator.BetLinesFromServer(e).dominatingSymbol, this)), this.applyDelayOnSymbols ? this.QueueSingleLineDelayed(e) : (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnShowSymbolAnimation, this.curWinLines[t].WinPositions, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration))), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLine, e, this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, e, this)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideLineWin, t, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration))
    }
}, ResultDisplayer.prototype.QueueSingleLineDelayed = function (t) {
    for (var e = _array.create(this.curOrderedHoldersList.length, !1), i = 0; i < this.curWinLines.length; i++)
        if (this.curWinLines[i].LineNumber == t)
            for (var n = this.curWinLines[i].WinPositions, o = 0; o < n.length; ++o) e[n[o]] = !0;
    for (i = 0; i < this.numberOfReels; i++)
        for (o = i; o < this.curOrderedHoldersList.length;) e[o] ? (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.HighlightSymbol, o, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineSymbolDelay))) : this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.UnHighlightSymbol, o, this)), o += this.numberOfReels;
    this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineLastSymbolDelay - this.singleLineSymbolDelay))
}, ResultDisplayer.prototype.QueueAllLinesDelayed = function (t) {
    for (var e = _array.create(this.curOrderedHoldersList.length, !1), i = 0; i < this.curWinLines.length; i++)
        for (var n = this.curWinLines[i].WinPositions, o = 0; o < n.length; o++) e[n[o]] = !0;
    for (i = 0; i < this.numberOfReels; i++) {
        for (o = i; o < this.curOrderedHoldersList.length;) e[o] ? (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.HighlightSymbol, o, this)), this.delayIsAppliedPerReel || this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.allLinesSymbolDelay))) : this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.UnHighlightSymbol, o, this)), o += this.numberOfReels;
        this.delayIsAppliedPerReel && this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.allLinesSymbolDelay))
    }
    this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.allLinesLastSymbolDelay - this.allLinesSymbolDelay))
}, ResultDisplayer.prototype.HighlightSymbol = function (t) {
    this.curOrderedHoldersList[t].currentSymbol.SetHighlightOn()
}, ResultDisplayer.prototype.UnHighlightSymbol = function (t) {
    this.curOrderedHoldersList[t].currentSymbol.SetHighlightOff()
}, ResultDisplayer.prototype.OnDisplayLoopEnded = function (t) {
    XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone)
}, ResultDisplayer.prototype.OnShowExpandingSymbol = function (t) {
    XT.SetInt(Vars.CurrentAnimatingExpandingSymbolID, _number.otoi(t)), XT.TriggerEvent(Vars.Evt_Internal_ShowExpandingSymbol)
}, ResultDisplayer.prototype.OnShowLineWin = function (t) {
    XT.SetInt(Vars.CurrentDisplayedWinLineIndex, t), XT.TriggerEvent(Vars.Evt_Internal_UpdateCurrentDisplayedWinLineIndex), XT.GetDouble(Vars.CurrentDisplayedWinLineWin) > 0 && XT.TriggerEvent(Vars.Evt_Internal_StartDisplayWinLine)
}, ResultDisplayer.prototype.OnHideLineWin = function (t) {
    XT.GetDouble(Vars.CurrentDisplayedWinLineWin) > 0 && XT.TriggerEvent(Vars.Evt_Internal_StopDisplayWinLine)
}, ResultDisplayer.prototype.OnShowLine = function (t) {
    XT.SetInt(Vars.CurrentDisplayedWinLineId, t), XT.TriggerEvent(Vars.Evt_Internal_ShowWinLine)
}, ResultDisplayer.prototype.OnHideLine = function (t) {
    XT.SetInt(Vars.CurrentDisplayedWinLineId, t), XT.TriggerEvent(Vars.Evt_Internal_HideWinLine)
}, ResultDisplayer.prototype.OnShowAllSymbolAnimation = function (t) {
    for (var e = _array.create(this.curOrderedHoldersList.length, !1), i = 0; i < this.curWinLines.length; i++)
        for (var n = this.curWinLines[i].WinPositions, o = 0; o < n.length; o++) e[n[o]] = !0;
    for (i = 0; i < this.curOrderedHoldersList.length; i++) e[i] ? this.curOrderedHoldersList[i].currentSymbol.SetHighlightOn() : this.curOrderedHoldersList[i].currentSymbol.SetHighlightOff()
}, ResultDisplayer.prototype.OnHideAllSymbolAnimation = function (t) {
    for (var e = 0; e < this.curOrderedHoldersList.length; e++) this.curOrderedHoldersList[e].currentSymbol.SetHighlightOff()
}, ResultDisplayer.prototype.OnResetAllSymbolsVisual = function (t) {
    for (var e = 0; e < this.curOrderedHoldersList.length; e++) XT.GetBool(Vars.ScatterSymbolIsWild) && 1 == this.curOrderedHoldersList[e].currentSymbol.symbolId && (this.useScatterWildStates || this.curOrderedHoldersList[e].currentSymbol.SetAsScatter()), this.resetSymbolsVisualState == VS_Symbol.State.Normal ? this.curOrderedHoldersList[e].currentSymbol.SetNormal() : this.curOrderedHoldersList[e].currentSymbol.ChangeToState(this.resetSymbolsVisualState)
}, ResultDisplayer.prototype.OnShowSymbolAnimation = function (t) {
    for (var e = 0; e < this.curOrderedHoldersList.length; e++) - 1 != t.indexOf(e) ? this.curOrderedHoldersList[e].currentSymbol.SetHighlightOn() : this.curOrderedHoldersList[e].currentSymbol.SetHighlightOff()
}, ResultDisplayer.prototype.OnAnimateListOfSymbols = function (t) {
    for (var e = 0; e < t.length; e++) this.curOrderedHoldersList[t[e]].currentSymbol.SetHighlightOn()
}, ResultDisplayer.prototype.SymbolWinPlaySound = function (t) {
    var e = t;
    XT.SetInt(Vars.ResultSymbolWinID, e), XT.TriggerEvent(Vars.Evt_Internal_ResultSymbolWinPlaySound)
}, ResultDisplayer.prototype.FindSymbolsWithID = function (t) {
    for (var e = [], i = 0; i < this.curOrderedHoldersList.length; i++) this.considerSymbolSubstitutes ? this.calculator.IsSameID(t, this.curOrderedHoldersList[i].currentSymbol.symbolId) && e.push(i) : this.curOrderedHoldersList[i].currentSymbol.symbolId == t && e.push(i);
    return e
}, ResultDisplayer.prototype.FindInitialSymbolsWithID = function (t) {
    for (var e = [], i = XT.GetObject(Vars.InitialResultScreenSymbols), n = 0; n < i.length; n++)
        for (var o = 0; o < i[n].length; o++) this.considerSymbolSubstitutes ? this.calculator.IsSameID(t, i[n][o]) && e.push(n + (i[n].length - 1 - o) * i.length) : t == i[n][o] && e.push(n + (i[n].length - 1 - o) * i.length);
    return e
}, ResultDisplayer.prototype.ComputeScatters = function () {
    var t = null != this.upSymbols ? this.FindInitialSymbolsWithID(1) : this.FindSymbolsWithID(1),
        e = this.calculator.GetScattersThatNeedToBeAnimated();
    this.scatterPositions = [];
    for (var i = 0; i < t.length; i++) e[t[i]] && this.scatterPositions.push(t[i]);
    switch (this.mustAnimateScatters = this.scatterPositions.length > 0, this.mustAnimateScatters && (this.isMinimalMode = !0), this.scatterWinPositions = null, this.mustAnimateScattersWin = !1, this.calculator.ScatterPaysMoney) {
        case ScatterSymbolPayType.Everywhere:
            this.scatterWinPositions = null != this.upSymbols ? this.FindInitialSymbolsWithID(1) : this.FindSymbolsWithID(1);
            var n = XT.GetDouble(Vars.WinReceived) - XT.GetDouble(Vars.TotalLinesWinReceived);
            this.mustAnimateScattersWin = this.scatterWinPositions.length >= this.calculator.ScatterPaysMoneyMinCombo && n > 0;
            break;
        case ScatterSymbolPayType.OnActivePayline:
            break;
        case ScatterSymbolPayType.OnActivePaylineLeftToRight:
            break;
        case ScatterSymbolPayType.OnAdjacentReelsBothWays:
            this.scatterWinPositions = this.FindSymbolsWithID(1);
            var o = [],
                s = 0,
                a = 0;
            for (s = 0; s < this.numberOfReels && 0 != this.calculator.SymbolAppearencesOnReel(1, s); s++);
            if (s >= this.calculator.ScatterPaysMoneyMinCombo) {
                for (a = 0; a < this.scatterWinPositions.length; a++) this.curOrderedHoldersList[this.scatterWinPositions[a]].parentReel.reelIndex < s && o.push(this.scatterWinPositions[a]);
                this.mustAnimateScattersWin = !0
            }
            for (s = 0; s < this.numberOfReels && 0 != this.calculator.SymbolAppearencesOnReel(1, this.numberOfReels - s - 1); s++);
            if (s >= this.calculator.ScatterPaysMoneyMinCombo) {
                for (a = 0; a < this.scatterWinPositions.length; a++) this.curOrderedHoldersList[this.scatterWinPositions[a]].parentReel.reelIndex > this.numberOfReels - s - 1 && o.push(this.scatterWinPositions[a]);
                this.mustAnimateScattersWin = !0
            }
            this.scatterWinPositions = o;
            break;
        default:
            break
    }
    var r = XT.GetInt(PayingSymbolVars.PayingSymbolsScatterIndex);
    r > -1 && (this.mustAnimateScattersWin = !0, this.scatterWinPositions = XT.GetObject(PayingSymbolVars.PayingSymbols)[r].positions), XT.GetBool(Vars.ResultDisplayer_CanAnimateScatters) || (this.mustAnimateScatters = !1, this.mustAnimateScattersWin = !1)
}, ResultDisplayer.prototype.ComputeBonuses = function () {
    var t = this.FindSymbolsWithID(0),
        e = this.calculator.GetBonusesThatNeedToBeAnimated();
    this.bonusPositions = [];
    for (var i = 0; i < t.length; i++) e[t[i]] && this.bonusPositions.push(t[i]);
    if (0 == this.bonusPositions.length) {
        var n, o = XT.GetObject(Vars.MoneySymbolData);
        if (this.treatMoneySymbolsAsBonusSymbols && null != o && null != o.currentValues)
            for (n = 0; n < o.currentValues.length; n++) o.currentValues[n] > 0 && this.bonusPositions.push(n);
        else {
            var s = XT.GetObject(Vars.MarkedSymbolPositions);
            if (this.treatMarkedPositionsAsBonusSymbols && null != s)
                for (n = 0; n < s.length; n++) this.bonusPositions.push(s[n])
        }
    }
    var a = XT.GetBool(Vars.MustOpenBonus);
    this.mustAnimateBonuses = this.bonusPositions.length > 0 && a, XT.GetBool(Vars.ResultDisplayer_CanAnimateBonuses) || (this.mustAnimateBonuses = !1)
}, ResultDisplayer.prototype.ComputeScattersSetAsWilds = function () {
    var t = _array.create(this.curOrderedHoldersList.length, !1);
    this.scatterAsWildPositions = [];
    for (var e = 0; e < this.curWinLines.length; e++)
        for (var i = this.curWinLines[e].WinPositions, n = 0; n < i.length; ++n) t[i[n]] = !0;
    for (e = 0; e < this.curOrderedHoldersList.length; e++) t[e] && 1 == this.curOrderedHoldersList[e].currentSymbol.symbolId && this.scatterAsWildPositions.push(e);
    this.mustSetScattersAsWilds = this.scatterAsWildPositions.length > 0
}, ResultDisplayer.prototype.OnSetScatterWildAsScatter = function (t) {
    for (var e = 0; e < t.length; e++) this.curOrderedHoldersList[t[e]].currentSymbol.SetAsScatter()
}, ResultDisplayer.prototype.OnSetScatterWildAsWild = function (t) {
    for (var e = 0; e < t.length; e++) this.curOrderedHoldersList[t[e]].currentSymbol.SetAsWild()
}, ResultDisplayer.prototype.HasWorkToDo = function () {
    return this.curWinLines.length > 0 || this.mustAnimateScatters || XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin && this.mustAnimateMysteryScatters || this.mustAnimateBonuses || this.mustAnimateScattersWin
}, ResultDisplayer.prototype.SignalTheUserCanSpin = function (t) {
    var e = t;
    if (e) {
        var i = XT.GetBool(Vars.Jurisdiction_ResultMinimumTime) || XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins);
        XT.GetBool(Vars.ContinuousSpin) && XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeTurbo) && (i = !0);
        var n = !this.STUCS_forTumbling;
        if (this.STUCS_forTumbling && (n = null == XT.GetObject(Vars.TumblingData)), i && !XT.GetObject(Vars.ReceivedFreeSpinsResponse).IsFreeSpin && n) {
            var o = 0;
            XT.GetBool(Vars.Jurisdiction_ResultMinimumTime) && (o = XT.GetFloat(Vars.Jurisdiction_ResultMinimumTime_Value)), XT.GetBool(Vars.ContinuousSpin) && XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeTurbo) && (o = XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeTurbo_Value)), XT.GetBool(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins) && XT.GetFloat(Vars.SpinDuration) < XT.GetFloat(Vars.Jurisdiction_ResultMinimumTimeBetweenSpins_Value) && (o = this.resultTime + 1), this.resultTime < o && (e = !1, XT.SetBool(Vars.CanSpinAfterResultMinimumTime, !0))
        }
    }
    null != XT.GetObject(Vars.NudgedSymbols) && (e = !1), XT.SetBool(Vars.CanSpin, e)
}, ResultDisplayer.prototype.OnSetMysteryScatterIDtoShow = function (t) {
    this.iMysteryScatterIDtoShow = _number.otoi(t)
}, ResultDisplayer.prototype.OnSetMysteryScatters = function (t) {
    for (var e = 0; e < t.length; ++e) this.curOrderedHoldersList[t[e]].ReplaceSymbol(this.iMysteryScatterIDtoShow);
    XT.GetBool(Vars.ScatterSymbolIsWild) && this.ComputeScattersSetAsWilds()
}, ResultDisplayer.prototype.ComputeMysteryScatters = function () {
    this.mysteryScatterPositions = [];
    var t = XT.GetObject(Vars.ReceivedFreeSpinsResponse);
    if (this.mustAnimateMysteryScatters = !1, t.MysteryScatter.length > 0) {
        this.mysteryScatterID = t.MysteryScatter;
        for (var e = 0; e < this.mysteryScatterID.length; e++) {
            this.mysteryScatterPositions.push([]);
            var i = this.FindSymbolsWithID(this.mysteryScatterID[e]);
            if (i.length >= this.calculator.MysteryScatterMinCombo) {
                var n = XT.GetObject(Vars.ReelsManagerObject).reels;
                this.mustAnimateMysteryScatters = !0;
                for (e = 0; e < i.length; ++e)
                    for (var o = i[e] % n.length, s = 0; s < n[o].symbolHolders.length; ++s) this.mysteryScatterPositions[e].push(o + s * n.length)
            }
        }
    }
}, ResultDisplayer.prototype.QueueDisplayJackpot = function () {
    ResultDisplayer.isJackpotWin && (this.curWinLines.length > 0 && XT.GetDouble(Vars.TotalLinesWinReceived) > 0 || (this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowAllLinesWin)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideAllLinesWin)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration))), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowJackpotWin)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideJackpotWin)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration)))
}, ResultDisplayer.prototype.QueueDisplayPayingSymbols = function () {
    var t = XT.GetObject(PayingSymbolVars.PayingSymbols);
    if (0 != t.length && !XT.GetBool(PayingSymbolVars.PayingSymbolIsScatter)) {
        this.curWinLines.length > 0 && XT.GetDouble(Vars.TotalLinesWinReceived) > 0 || ResultDisplayer.isJackpotWin || !this.payingSymbols_queueAllLines || (this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_ShowAllLinesWin)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(Vars.Evt_CodeToData_HideAllLinesWin)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration)));
        for (var e = XT.GetInt(PayingSymbolVars.PayingSymbolsScatterIndex), i = 0; i < t.length; ++i) i != e && (this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.SetCurrentDisplayedPayingSymbolIndex, i, this)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(PayingSymbolVars.Evt_Internal_ShowPayingSymbol)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnAnimateListOfSymbols, t[i].positions, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.singleLineShowDuration)), this.rq.AddRoutineQueueItem(new RQITriggerEvent(PayingSymbolVars.Evt_Internal_HidePayingSymbol)), this.rq.AddRoutineQueueItem(new RQITriggerCallback(this.OnHideAllSymbolAnimation, null, this)), this.rq.AddRoutineQueueItem(new RQIWaitForSeconds(this.transitionDuration)))
    }
}, ResultDisplayer.prototype.SetCurrentDisplayedPayingSymbolIndex = function (t) {
    XT.SetInt(PayingSymbolVars.CurrentDisplayedPayingSymbolIndex, t)
}, goog.require("UHT.UHTStage"), goog.require("UHT.ResultDisplayer"), StageResult.prototype = Object.create(UHTStage.prototype), StageResult.prototype.constructor = StageResult, StageResult.prototype.GetStageName = function () {
    return UHTStageName.Result
}, StageResult.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BlockSpin, this.OnBlockSpin, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_UnblockSpin, this.OnUnblockSpin, this)
}, StageResult.prototype.XTInitVariablesAndEvents = function () {
    XT.SetInt(Vars.AutoplaySpinsLeft, -1), XT.SetInt(Vars.AutoplaySpinsRequested, 0), XT.SetInt(Vars.AutoplaySpinsLeftDisplayed, 0), XT.SetBool(Vars.WaitInResultForBigWin, !1), XT.SetInt(Vars.VAWBWCounters, 0), XT.SetBool(Vars.LastWinIsCounting, !1), XT.SetBool(Vars.BalanceIsCounting, !1), XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion, !1), XT.SetBool(Vars.ForceDisableGambleSpinWin, !1), XT.SetBool(Vars.CanUpdateBalanceDisplayed, !0), XT.SetBool(Vars.FeaturePurchaseWindowIsOpen, !1)
}, StageResult.prototype.UHTInit = function () {}, StageResult.AllowSkipMoneyCheckOnContinuousSpin = !1, StageResult.SkipMoneyCheckOnSpin = !1, StageResult.prototype.UHTUpdate = function (t) {
    if (window.RC_CheckShowWindow(), t) {
        if (window.RC1API.ReinstateRC(), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Spin, this.OnPressedSpin, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Stop, this.OnPressedStop, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_BalanceUpdated, this.OnBalanceUpdated, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultDisplayer_LoopDone, this.OnResultDisplayerLoopDone, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_Gamble, this.OnPressedGamble, this), XT.RegisterCallbackEvent(Vars.Evt_FromServer_GambleOpen, this.OnMustOpenGamble, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StartAutoplay, this.OnStartAutoplay, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_StopAutoplay, this.OnStopAutoplay, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_CollectJackpotPressed, this.OnJackpotCollected, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_BonusRoundsOnContinuePressed, this.OnBonusRoundsContinuePressed, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_BonusRoundsInfoUpdated, this.OnBonusRoundsInfoUpdated, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_CoinValueChanged, this.OnCoinValueChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWin, this.OnRequestToUpdateDisplayedWin, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_ConfirmSpinStart, this.OnConfirmStartSpin, this), XT.SetDouble(Vars.WinDisplayed, 0), XT.SetDouble(Vars.TotalLinesWinDisplayed, 0), XT.SetDouble(Vars.TotalScattersWinDisplayed, 0), XT.SetInt(Vars.Lines, XT.GetInt(Vars.TotalNumberOfLines)), AutoplayManager.TestAdvancedStopConditions(), !this.bMustBehaveLikeResultFreeSpinsFRB) {
            var e = BonusRoundsController.HandleNextEvent(!1, !1, !0);
            this.isBonusRounds = e.isBonusRounds, this.bonusRoundsMessageWindowIsOpened = e.messageIsOpened
        }
        var i = XT.GetObject(Vars.BonusRoundsData),
            n = XT.GetObject(Vars.RespinData);
        this.isRespin = null != n && !n.IsDone, 0 == this.bonusRoundsMessageWindowIsOpened && CoinManager.SetStrictBetMode(this.isBonusRounds), XT.GetBool(Vars.InstantlyCollectBonus) && XT.GetBool(Vars.MustOpenBonus) && XT.TriggerEvent(Vars.Evt_ToServer_BonusGameFinished), this.prepareToOpenBonus = XT.GetBool(Vars.MustOpenBonus) && !XT.GetBool(Vars.InstantlyCollectBonus), this.prepareToOpenFSBG = XT.GetBool(Vars.FromServer_MustOpenFSBG), (XT.GetInt(Vars.AutoplaySpinsLeft) > 0 || this.IsAutoRespin()) && XT.SetBool(Vars.ForceDisableGambleSpinWin, !0), this.UpdateGambleButtonState();
        var o = XT.GetInt(Vars.AutoplaySpinsLeft),
            s = !1,
            a = !0;
        o >= 0 && !this.IsAutoRespin() && (o--, XT.GetBool(Vars.InstantAutoplay) && -1 == o && (o = 0), -1 == o ? s = !1 : (this.isBonusRounds ? VSGameStateManager.ChangeTo(VSGameState.ResultBonusRoundsAutoplay) : VSGameStateManager.ChangeTo(VSGameState.ResultAutoplay), s = !0, a = !1), this.prepareToOpenBonus || this.prepareToOpenFSBG || XT.SetInt(Vars.AutoplaySpinsLeft, o)), a && (this.prepareToOpenBonus ? VSGameStateManager.ChangeTo(VSGameState.ResultPrepareForBonus) : this.isBonusRounds && null != i ? VSGameStateManager.ChangeTo(VSGameState.ResultBonusRounds) : this.prepareToOpenFSBG ? VSGameStateManager.ChangeTo(VSGameState.FSBG) : VSGameStateManager.ChangeTo(VSGameState.Result)), s = s || this.IsAutoRespin() || this.prepareToOpenBonus || this.prepareToOpenFSBG, XT.SetBool(Vars.ResultDisplayerMinimalMode, s), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_Prepare), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop), null != this.cat && this.cat.StartEvent(this.startEvent.id), this.canAutoSpinAfterResultMinimumTime = !1, this.autoplayRequested = !1, this.mustStartAutoplayAfterConfirmSpinStart = !1, XT.TriggerEvent(TournamentPointsVars.ShowTournamentPointsNotification)
    } else {
        if (this.mustOpenBonus && !XT.GetBool(Vars.LastWinIsCounting) && (XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), 0 == XT.GetBool(Vars.WaitInResultForBigWin))) return XT.GetBool(BGVars.BonusDataReceived) ? (this.mustOpenBonus = !1, XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), XT.SetBool(BGVars.BonusDataReceived, !1), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Bonus), window.RC1API.PauseRC(), UHTAction.ChangeStage(UHTStageName.Transition)) : UHTAction.NoAction();
        if (this.mustOpenFSBG && !XT.GetBool(Vars.LastWinIsCounting)) return XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), 0 == XT.GetBool(Vars.WaitInResultForBigWin) ? (XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), this.mustOpenFSBG = !1, XT.SetBool(Vars.FromServer_MustOpenFSBG, !1), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.FSBG), UHTAction.ChangeStage(UHTStageName.Transition)) : UHTAction.NoAction();
        if (XT.GetBool(Vars.LastWinIsCounting) || XT.TriggerEvent(Vars.ShowPendingNotifications), Globals.InputBlocked || (XT.GetBool(Vars.ContinuousSpin) && StageResult.AllowSkipMoneyCheckOnContinuousSpin && (StageResult.SkipMoneyCheckOnSpin = !0), (Input.GetKeyDown(KeyCode.Space) || Input.GetKeyDown(KeyCode.Return) || XT.GetBool(Vars.ContinuousSpin) || (Input.GetKey(KeyCode.Space) || Input.GetKey(KeyCode.Return) || XT.GetBool(Vars.ForceContinuousSpin)) && !XT.GetBool(Vars.Jurisdiction_DisableAutoplay)) && !ServerOptions.isReplay && this.CanSpin() && (this.mustSpin = !0), StageResult.SkipMoneyCheckOnSpin = !1), this.mustSpin)
            if (this.mustSpin = !1, XT.GetBool(Vars.WaitInResultForBigWin) || XT.GetBool(Vars.SpinBlockingFeatureIsRunning)) XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin);
            else if (!this.IsJackpotWin()) return XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), XT.SetInt(Vars.AutoplaySpinsLeftDisplayed, XT.GetInt(Vars.AutoplaySpinsLeft)), XT.SetBool(Vars.ForceDisableGambleSpinWin, !0), this.UpdateGambleButtonState(), XT.SetBool(Vars.ForceDisableGambleSpinWin, !1), XT.TriggerEvent(Vars.Evt_Internal_SpinRequested), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Spin), window.RC1API.PauseRC(), UHTAction.ChangeStage(UHTStageName.Transition);
        if (this.mustShowGamble)
            if (this.mustShowGamble = !1, XT.GetBool(Vars.WaitInResultForBigWin)) XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin);
            else if (!this.IsJackpotWin()) return XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup), XT.SetBool(Vars.Evt_Internal_ResultDisplayer_SkipNextLoopOccasion, !0), XT.SetDouble(Vars.Gamble_CurrentBalance, XT.GetDouble(Vars.WinReceived)), XT.SetBool(Vars.ForceDisableGambleSpinWin, !0), this.UpdateGambleButtonState(), XT.SetObject(Vars.FromStageName, this.GetStageName()), XT.SetObject(Vars.ToStageName, UHTStageName.Gamble), window.RC1API.PauseRC(), UHTAction.ChangeStage(UHTStageName.Transition);
        this.canAutoSpinAfterResultMinimumTime && XT.GetBool(Vars.CanSpin) && this.OnResultDisplayerLoopDone()
    }
    return UHTAction.NoAction()
}, StageResult.prototype.UHTFinish = function () {
    XT.UnregisterCallbackEvent(this.OnPressedSpin, this), XT.UnregisterCallbackEvent(this.OnPressedStop, this), XT.UnregisterCallbackEvent(this.OnBalanceUpdated, this), XT.UnregisterCallbackEvent(this.OnResultDisplayerLoopDone, this), XT.UnregisterCallbackEvent(this.OnPressedGamble, this), XT.UnregisterCallbackEvent(this.OnMustOpenGamble, this), XT.UnregisterCallbackEvent(this.OnStartAutoplay, this), XT.UnregisterCallbackEvent(this.OnStopAutoplay, this), XT.UnregisterCallbackEvent(this.OnJackpotCollected, this), XT.UnregisterCallbackEvent(this.OnBonusRoundsContinuePressed, this), XT.UnregisterCallbackEvent(this.OnBonusRoundsInfoUpdated, this), XT.UnregisterCallbackEvent(this.OnCoinValueChanged, this), XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWin, this), XT.UnregisterCallbackEvent(this.OnConfirmStartSpin, this)
}, StageResult.prototype.OnPressedStop = function () {
    XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)
}, StageResult.prototype.UpdateGambleButtonState = function () {
    XT.GetBool(Vars.FromServer_CanGambleSpinWin) && !XT.GetBool(Vars.ForceDisableGambleSpinWin) ? XT.TriggerEvent(Vars.Evt_Internal_EnableGambleButton) : XT.TriggerEvent(Vars.Evt_Internal_DisableGambleButton)
}, StageResult.prototype.OnPressedSpin = function () {
    this.CanSpin() && (this.mustSpin = !0)
}, StageResult.prototype.OnPressedGamble = function () {
    XT.TriggerEvent(Vars.Evt_ToServer_RequestGambleOpen)
}, StageResult.prototype.OnMustOpenGamble = function () {
    this.mustShowGamble = !0
}, StageResult.prototype.OnBalanceUpdated = function () {
    0 == XT.GetBool(Vars.BalanceDisplayedIsAnimating) && (XT.SetDouble(Vars.BalanceDisplayed, XT.GetDouble(Vars.BalanceReceived)), XT.SetDouble(Vars.BonusBalance, XT.GetDouble(Vars.BonusBalanceReceived)))
}, StageResult.prototype.CanSpin = function () {
    if (this.spinBlockersCounter > 0) return !1;
    if (!XT.GetBool(Vars.WaitInResultForBigWin)) {
        if (XT.GetBool(Vars.Jurisdiction_FinishCountersBeforeSpin) && (XT.GetBool(Vars.LastWinIsCounting) || XT.GetBool(Vars.BalanceIsCounting)) && XT.GetInt(Vars.AutoplaySpinsLeft) < 0) return XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), !1;
        XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin)
    }
    return !window.SystemMessageManager.IsMessageOpen() && (!XT.GetBool(Vars.FeaturePurchaseWindowIsOpen) && (0 != XT.GetBool(Vars.CanSpin) && (!this.bonusRoundsMessageWindowIsOpened && (!this.prepareToOpenBonus && (!this.prepareToOpenFSBG && (!!this.isBonusRounds || (this.isRespin ? !(this.IsAutoRespin() && !(XT.GetBool(Vars.DifferentSpinRushedByTurboSpin) && XT.GetBool(Vars.IsDifferentSpinType) && XT.GetBool(Vars.ContinuousSpin))) : !ServerOptions.isReplay && !StageResult.SkipMoneyCheckOnSpin && null != window.UHT_STILLCHECKMONEYONSPIN && CoinManager.GetNextTotalBet() > XT.GetDouble(Vars.BalanceReceived) + XT.GetDouble(Vars.BonusBalanceReceived) && !XT.GetBool(Vars.Logic_IsFreeSpin) ? (XT.TriggerEvent(Vars.Evt_CodeToData_NotEnoughMoneyForSpin), XT.SetDouble(Vars.AlternativeWager, -1), UHTInterfaceBOSS.PostMessage("balanceTooLow"), !1) : JackpotsManager.I.hasActiveJp && !JackpotsManager.I.hasOpenJp ? (window.SystemMessageManager.ShowMessage(window.SystemMessageType.JackpotsAreClosed), !1) : (XT.SetDouble(Vars.AlternativeWager, -1), !XT.GetBool(Vars.SpinNeedsConfirmation) || (this.autoplayRequested && (this.mustStartAutoplayAfterConfirmSpinStart = !0), XT.TriggerEvent(Vars.Evt_CodeToData_ShowSpinConfirmationWindow), !1)))))))))
};
var BT_AUTOPLAY_FirstSent = !1;
StageResult.prototype.OnStartAutoplay = function () {
    if (this.autoplayRequested = !0, 0 != this.CanSpin()) {
        if (!BT_AUTOPLAY_FirstSent) {
            var t = globalTracking.GetTimerValue("uht_behaviour", "Session_timer", "BehaviourTracker");
            globalTracking.SendEvent("uht_behaviour", "AUTOPLAY_started_once", t, "BehaviourTracker"), BT_AUTOPLAY_FirstSent = !0
        }
        XT.SetInt(Vars.AutoplaySpinsLeft, XT.GetInt(Vars.AutoplaySpinsRequested) - 1), XT.SetInt(Vars.AutoplaySpinsLeftDisplayed, XT.GetInt(Vars.AutoplaySpinsLeft)), this.mustSpin = !0
    } else this.autoplayRequested = !1
}, StageResult.prototype.OnStopAutoplay = function () {
    XT.SetInt(Vars.AutoplaySpinsLeft, -1), XT.SetBool(Vars.ForceDisableGambleSpinWin, !1), this.UpdateGambleButtonState();
    XT.GetObject(Vars.BonusRoundsData);
    this.isBonusRounds ? VSGameStateManager.ChangeTo(VSGameState.ResultBonusRounds) : VSGameStateManager.ChangeTo(VSGameState.Result)
}, StageResult.prototype.IsJackpotWin = function () {
    return XT.GetBool(Vars.FromServer_IsJackpotWin) && !this.isJackpotWinOnScreen && (XT.GetBool(Vars.WaitInResultForBigWin) || XT.GetBool(Vars.LastWinIsCounting) || (this.isJackpotWinOnScreen = !0)), XT.GetBool(Vars.FromServer_IsJackpotWin)
}, StageResult.prototype.OnJackpotCollected = function () {
    XT.GetBool(Vars.WaitInResultForBigWin) ? XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin) : (XT.GetBool(Vars.LastWinIsCounting) && XT.TriggerEvent(Vars.Evt_Internal_FinalizeDisplayedWin), XT.SetBool(Vars.FromServer_IsJackpotWin, !1), this.isJackpotWinOnScreen = !1)
}, StageResult.prototype.OnResultDisplayerLoopDone = function () {
    if (this.IsJackpotWin()) XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop);
    else if (this.prepareToOpenBonus) this.mustOpenBonus = !0;
    else if (this.prepareToOpenFSBG) this.mustOpenFSBG = !0;
    else {
        if (this.IsAutoRespin()) {
            if (!XT.GetBool(Vars.WaitInResultForBigWin) && !XT.GetBool(Vars.LastWinIsCounting)) return void(this.mustSpin = !0);
            XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop)
        }
        if (XT.GetInt(Vars.AutoplaySpinsLeft) >= 0) {
            if (XT.GetBool(Vars.WaitInResultForBigWin) || XT.GetBool(Vars.LastWinIsCounting)) XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop);
            else if (this.CanSpin()) this.mustSpin = !0;
            else if (this.canAutoSpinAfterResultMinimumTime = XT.GetBool(Vars.CanSpinAfterResultMinimumTime), !this.canAutoSpinAfterResultMinimumTime) {
                XT.SetInt(Vars.AutoplaySpinsLeft, -1);
                XT.GetObject(Vars.BonusRoundsData);
                this.isBonusRounds ? VSGameStateManager.ChangeTo(VSGameState.ResultBonusRounds) : VSGameStateManager.ChangeTo(VSGameState.Result)
            }
        } else XT.GetBool(Vars.WaitInResultForBigWin) || XT.GetBool(Vars.LastWinIsCounting) || XT.TriggerEvent(Vars.Evt_Internal_StartIdleSpinCounter), XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoLoop)
    }
}, StageResult.prototype.OnBonusRoundsContinuePressed = function () {
    XT.TriggerEvent(Vars.Evt_CodeToData_CloseOtherOpenedBonusRoundsWindows), XT.SetBool(Vars.CanSpin, !0);
    var t = BonusRoundsController.HandleNextEvent(!1, !0, !1);
    CoinManager.SetStrictBetMode(t.isBonusRounds), this.OnBonusRoundsInfoUpdated()
}, StageResult.prototype.OnBonusRoundsInfoUpdated = function () {
    if (!this.bMustBehaveLikeResultFreeSpinsFRB) {
        var t = BonusRoundsController.HandleNextEvent(!1, !1, !0);
        this.isBonusRounds = t.isBonusRounds, this.bonusRoundsMessageWindowIsOpened = t.messageIsOpened, XT.GetInt(Vars.AutoplaySpinsLeft) >= 0 ? VSGameStateManager.ChangeTo(this.isBonusRounds ? VSGameState.ResultBonusRoundsAutoplay : VSGameState.ResultAutoplay) : VSGameStateManager.ChangeTo(this.isBonusRounds ? VSGameState.ResultBonusRounds : VSGameState.Result), 0 == this.bonusRoundsMessageWindowIsOpened && CoinManager.SetStrictBetMode(this.isBonusRounds)
    }
}, StageResult.prototype.OnCoinValueChanged = function () {
    0 != XT.GetBool(Vars.CanSpin) && (this.bonusRoundsMessageWindowIsOpened || this.prepareToOpenBonus || this.prepareToOpenFSBG || this.isBonusRounds || XT.TriggerEvent(Vars.Evt_Internal_ResultDisplayer_DoCleanup))
}, StageResult.prototype.OnRequestToUpdateDisplayedWin = function () {
    if (XT.SetDouble(Vars.WinDisplayed, XT.GetDouble(Vars.WinReceived)), XT.SetDouble(Vars.TotalLinesWinDisplayed, XT.GetDouble(Vars.TotalLinesWinReceived)), XT.SetDouble(Vars.TotalScattersWinDisplayed, XT.GetDouble(Vars.WinReceived) - XT.GetDouble(Vars.TotalLinesWinReceived)), XT.GetBool(Vars.CanUpdateBalanceDisplayed) && XT.SetDouble(Vars.BalanceDisplayed, XT.GetDouble(Vars.BalanceReceived)), XT.SetDouble(Vars.BonusBalance, XT.GetDouble(Vars.BonusBalanceReceived)), XT.GetBool(Vars.BonusWinIsSeparated))
        if (this.prepareToOpenBonus) XT.SetDouble(Vars.SpinCycleWinDisplayed, XT.GetDouble(Vars.WinReceived));
        else {
            var t = XT.GetObject(Vars.BonusData);
            (null != t && t.justReceived || this.prepareToOpenFSBG) && XT.SetBool(Vars.CanAnimateValues, !1), XT.SetDouble(Vars.SpinCycleWinDisplayed, XT.GetDouble(Vars.SpinCycleWinReceived))
        }
    else if (ResultDisplayer.isJackpotWin) {
        var e = XT.GetBool(Vars.CanAnimateValues),
            i = XT.GetDouble(Vars.SpinCycleWinReceived),
            n = XT.GetDouble(Vars.FromServer_JackpotAmountWon);
        XT.SetBool(Vars.CanAnimateValues, !1), XT.SetDouble(Vars.SpinCycleWinDisplayed, n), XT.SetBool(Vars.CanAnimateValues, e), XT.SetDouble(Vars.SpinCycleWinDisplayed, n + i)
    } else XT.SetDouble(Vars.SpinCycleWinDisplayed, XT.GetDouble(Vars.SpinCycleWinReceived));
    XT.TriggerEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI), XT.UnregisterCallbackEvent(this.OnRequestToUpdateDisplayedWin, this)
}, StageResult.prototype.OnConfirmStartSpin = function () {
    XT.SetBool(Vars.SpinNeedsConfirmation, !1), this.mustStartAutoplayAfterConfirmSpinStart && (XT.SetInt(Vars.AutoplaySpinsLeft, XT.GetInt(Vars.AutoplaySpinsRequested) - 1), XT.SetInt(Vars.AutoplaySpinsLeftDisplayed, XT.GetInt(Vars.AutoplaySpinsLeft))), this.OnPressedSpin()
}, StageResult.prototype.OnBlockSpin = function () {
    this.spinBlockersCounter++
}, StageResult.prototype.OnUnblockSpin = function () {
    this.spinBlockersCounter--
}, StageResult.prototype.IsAutoRespin = function () {
    return this.isRespin && !XT.GetBool(Vars.ManualRespin)
}, goog.require("UHT.XTLink"), goog.require("UHT.SoundManager"), goog.require("UHT.AudioClassesUtils");
var VSSoundLogicVars = {
    VSSoundLogicObject: "VSSoundLogicObject"
};

function VS_SoundLogic() {
    XTLink.call(this), this.playSpecialSymbolSoundsInOrder = !1, this.startFSSoundsOnSpecificEvent = !1, this.clipMusic = null, this.clipsReelSpin = null, this.reelsStartingSounds = null, this.reelsStartingAll = null, this.reelsStoppingSounds = null, this.reelsStoppingAll = null, this.clipSpinWin = null, this.clipSpinNoWin = null, this.clipShowWinLine = null, this.clipsSymbolWin = null, this.clipsSymbolWinOverride = null, this.reelStopDelay = 0, this.reelsStopAllDelay = 0, this.reelsFastStopAllDelay = 0, this.clipFSWonBeforeResult = null, this.clipBonusWonBeforeResult = null, this.reelMustStop = [], this.reelsMustStopAll = null, this.sndManager = null, this.numberOfReels = 0, this.reelIndex = 0, this.reelIndices = null, this.reelsExcited = null, this.resultSymbols = null, this.isInactive = !0, this.allReelsStopped = !1, this.fastStop = !1, this.oldClipReelSpinIndex = -1, this.reelsStoppedWithSpecialSymbol = null, this.canPlaySpinEndedBWSound = !0, this.stillPossibleWinComboBonus = null, this.stillPossibleWinComboScatter = null, this.stillPossibleWinComboWild = null, this.stillPossibleWinComboPerSymbol = null
}

function JackpotValuesDisplayer() {
    XTLink.call(this), this.jackpotLabels = null, this.bgItemValues = []
}

function JurisdictionGameTitle() {
    XTLink.call(this), this.miniFontSize = 50, this.miniTopOffset = 158, this.miniRightOffset = 20, this.miniScale = .69, this.copyFontStylesFromClockDesktop = !0, this.copyFontStylesFromClockMobile = !0, this.copyFontStylesFromClockMini = !0, this.isPatched = !1
}

function PickableItemMultiplePicks() {
    PickableItemBase.call(this), this.activateRoots = [], this.soundPlayers = [], this.rootIndex = 0
}

function BonusPickWinAwareCATLink() {
    Component.call(this), this.content = []
}

function PaytableSymbolPayout_Ways() {
    XTLink.call(this), this.symbolIndex = 0, this.isDisplayingCoins = !1, this.isMultipliedByTotalBet = !1, this.showOnlyValue = !1, this.isDisplayingRange = !1, this.ignoreRightUpperRange = !1, this.updatedUpperRange = !1, this.rangeDelimiter = " - ", this.valueDelimiter = "  ", this.rightUpperRangeReplacer = "+", this.customPayoutData = null, this.formatOptions = null
}

function PaytableSymbolPayout() {
    PaytableSymbolPayout_Ways.call(this)
}

function JurisdictionShowXChance() {
    FOXLink.call(this), this.chanceLabel = null
}

function JurisdictionShowNOKChance() {
    XTLink.call(this), this.chanceLabel = null, this.showXChance = null, this.root = null, this.paytable = null
}

function AGCCController() {
    Component.call(this), this.image = null, this.shouldShow = !1
}

function AnimatedScaledBar() {
    Component.call(this), this.target = null, this.clip = null
}
VS_SoundLogic.prototype = Object.create(XTLink.prototype), VS_SoundLogic.prototype.constructor = VS_SoundLogic, VS_SoundLogic.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinStarted, this.OnSoundLogicSpinStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_SpinEnded, this.OnVSSoundLogicSpinEnded, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_PlaySpinEndedBWSound, this.OnVSSoundLogicSpinEndedBWSound, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopStarted, this.OnSoundLogicReelStopReceived, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStarted, this.OnSoundLogicReelHasStarted, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ResultSymbolWinPlaySound, this.OnSoundLogicShowWinLine, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsEnded, this.OnSoundLogicStartFreeSpins, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StartVSLogicSounds, this.OnVSLogicStartSounds, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_StopVSLogicSounds, this.OnVSLogicStopSounds, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ExcitedReel, this.OnSoundLogicReelHasExcited, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelManager_StopSpin, this.OnStopSpin, this), XT.RegisterCallbackObject(Vars.SoundManagerObject, this.OnSoundManagerChanged, this), XT.RegisterCallbackObject(Vars.ReelInitialPositions, this.OnSoundLogicReelPositions, this), XT.RegisterCallbackObject(Vars.ResultScreenSymbols, this.OnSoundLogicResultSymbolsReceived, this), XT.RegisterCallbackObject(Vars.SymbolsManagerObject, this.OnSymbolsManagerObject, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_ReelStopEnded, this.OnSoundLogicReelStopEnded, this), XT.RegisterCallbackBool(Vars.MusicIsOn, this.OnMusicStateChanged, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowFSWonBeforeResult, this.OnPlayFSWonBeforeResult, this), XT.RegisterCallbackEvent(Vars.Evt_CodeToData_ShowBonusWonBeforeResult, this.OnPlayBonusWonBeforeResult, this), this.startFSSoundsOnSpecificEvent ? XT.RegisterCallbackEvent(Vars.Evt_Internal_SwitchToFSSounds, this.OnSoundLogicStartFreeSpins, this) : XT.RegisterCallbackEvent(Vars.Evt_Internal_FreeSpinsStarted, this.OnSoundLogicStartFreeSpins, this)
}, VS_SoundLogic.prototype.XTInitVariablesAndEvents = function () {
    XT.SetBool(Vars.Logic_IsFreeSpin, !1), XT.SetBool(Vars.CanPlayReelStopSounds, !0), XT.SetBool(Vars.VSSoundLogic_IgnoreFastStop, !1), XT.SetObject(VSSoundLogicVars.VSSoundLogicObject, this)
}, VS_SoundLogic.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnSoundLogicSpinStarted, this), XT.UnregisterCallbackEvent(this.OnVSSoundLogicSpinEnded, this), XT.UnregisterCallbackEvent(this.OnVSSoundLogicSpinEndedBWSound, this), XT.UnregisterCallbackEvent(this.OnSoundLogicReelStopReceived, this), XT.UnregisterCallbackEvent(this.OnSoundLogicReelHasStarted, this), XT.UnregisterCallbackEvent(this.OnSoundLogicShowWinLine, this), XT.UnregisterCallbackEvent(this.OnSoundLogicStartFreeSpins, this), XT.UnregisterCallbackEvent(this.OnVSLogicStartSounds, this), XT.UnregisterCallbackEvent(this.OnVSLogicStopSounds, this), XT.UnregisterCallbackEvent(this.OnSoundLogicReelHasExcited, this), XT.UnregisterCallbackObject(this.OnSoundManagerChanged, this), XT.UnregisterCallbackObject(this.OnSoundLogicReelPositions, this), XT.UnregisterCallbackObject(this.OnSoundLogicResultSymbolsReceived, this), XT.UnregisterCallbackObject(this.OnSymbolsManagerObject, this), XT.UnregisterCallbackEvent(this.OnSoundLogicReelStopEnded, this), XT.UnregisterCallbackBool(this.OnMusicStateChanged, this)
}, VS_SoundLogic.prototype.OnSoundManagerChanged = function (t) {
    this.sndManager = t
}, VS_SoundLogic.prototype.OnSymbolsManagerObject = function (t) {
    for (var e = t, i = 0, n = 0; n < e.symbols.length; n++) i < e.symbols[n].symbolId && (i = e.symbols[n].symbolId);
    this.reelsStoppedWithSpecialSymbol = _array.create(i + 1, 0)
}, VS_SoundLogic.prototype.OnMusicStateChanged = function (t) {
    this.UpdateSounds()
}, VS_SoundLogic.prototype.UpdateSounds = function () {
    if (!this.isInactive) {
        for (var t = 0; t < this.clipsReelSpin.length; t++)
            if (this.clipsReelSpin[t].IsPlaying()) {
                var e = {
                    handle: this.clipsReelSpin[t].handler
                };
                this.sndManager.StopLoopingSound(e), this.clipsReelSpin[t].handler = e.handle, this.clipsReelSpin[t].handler = this.sndManager.PlayLooping(this.clipsReelSpin[t].GetClip())
            } for (var i = 0; i < this.numberOfReels; i++)
            if (this.reelsStartingSounds[i].clipsReelMusicExcited.IsPlaying()) {
                e = {
                    handle: this.reelsStartingSounds[i].clipsReelMusicExcited.handler
                };
                this.sndManager.StopLoopingSound(e), this.reelsStartingSounds[i].clipsReelMusicExcited.handler = e.handle, this.reelsStartingSounds[i].clipsReelMusicExcited.handler = this.sndManager.PlayLooping(this.reelsStartingSounds[i].clipsReelMusicExcited.GetClip())
            } this.UpdateBackgroundMusic()
    }
}, VS_SoundLogic.prototype.OnSoundLogicReelPositions = function (t) {
    this.numberOfReels = t.length, this.reelsExcited = []
}, VS_SoundLogic.prototype.OnSoundLogicResultSymbolsReceived = function (t) {
    this.resultSymbols = t, this.reelsExcited = [];
    for (var e = 0; e < this.numberOfReels; e++) this.reelsExcited.push(!1);
    this.allReelsStopped = !1
}, VS_SoundLogic.prototype.OnSoundLogicSpinStarted = function () {
    this.fastStop = !1;
    for (var t = 0; t < this.clipsReelSpin.length; t++)
        if (this.clipsReelSpin[t].IsPlaying()) {
            var e = {
                handle: this.clipsReelSpin[t].handler
            };
            this.sndManager.StopLoopingSound(e), this.clipsReelSpin[t].handler = e.handle
        } for (var i = Random.Range(0, this.clipsReelSpin.length); this.clipsReelSpin.length > 1 && i == this.oldClipReelSpinIndex;) i = Random.Range(0, this.clipsReelSpin.length);
    this.clipsReelSpin[i].handler = this.sndManager.PlayLooping(this.clipsReelSpin[i].GetClip()), this.oldClipReelSpinIndex = i;
    for (var n = 0; n < this.reelsStoppedWithSpecialSymbol.length; n++) this.reelsStoppedWithSpecialSymbol[n] = 0
}, VS_SoundLogic.prototype.OnStopSpin = function () {
    XT.GetBool(Vars.VSSoundLogic_IgnoreFastStop) || (this.fastStop = !0)
}, VS_SoundLogic.prototype.OnVSSoundLogicSpinEnded = function () {
    for (var t = 0; t < this.clipsReelSpin.length; t++)
        if (this.clipsReelSpin[t].IsPlaying()) {
            var e = {
                handle: this.clipsReelSpin[t].handler
            };
            this.sndManager.StopLoopingSound(e), this.clipsReelSpin[t].handler = e.handle
        } var i = XT.GetDouble(Vars.WinReceived);
    if (i > 0) {
        var n = XT.GetObject(Vars.CoinCounterObject);
        i >= CoinManager.GetLastTotalBet() * n.BigWinSteps[0] && this.sndManager.PlaySimple(this.GetSpinWinClip())
    } else this.sndManager.PlaySimple(this.clipSpinNoWin.GetClip())
}, VS_SoundLogic.prototype.OnVSSoundLogicSpinEnded = function () {
    for (var t = 0; t < this.clipsReelSpin.length; t++)
        if (this.clipsReelSpin[t].IsPlaying()) {
            var e = {
                handle: this.clipsReelSpin[t].handler
            };
            this.sndManager.StopLoopingSound(e), this.clipsReelSpin[t].handler = e.handle
        } XT.GetDouble(Vars.WinReceived) <= 0 && this.sndManager.PlaySimple(this.clipSpinNoWin.GetClip()), this.canPlaySpinEndedBWSound = !0
}, VS_SoundLogic.prototype.OnVSSoundLogicSpinEndedBWSound = function () {
    this.canPlaySpinEndedBWSound && (this.canPlaySpinEndedBWSound = !1, this.sndManager.PlaySimple(this.GetSpinWinClip()))
}, VS_SoundLogic.prototype.OnSoundLogicReelHasStarted = function () {
    this.reelIndices = XT.GetObject(Vars.LastStartedReelIndices), this.reelIndex = this.reelIndices[this.reelIndices.length - 1], this.reelIndices.length == this.numberOfReels ? this.sndManager.PlaySimple(this.reelsStartingAll.GetClip()) : this.sndManager.PlaySimple(this.reelsStartingSounds[this.reelIndex].clipsReelStart.GetClip())
}, VS_SoundLogic.prototype.OnSoundLogicReelHasExcited = function () {
    var t = XT.GetInt(Vars.LastExcitedReelIndex);
    this.reelsExcited[t] = !0
}, VS_SoundLogic.prototype.OnSoundLogicReelStopReceived = function () {
    this.reelIndices = XT.GetObject(Vars.LastStoppedReelIndices), this.reelIndex = this.reelIndices[this.reelIndices.length - 1], this.stillPossibleWinComboBonus = XT.GetObject(Vars.StillPossibleWinComboBonus), this.stillPossibleWinComboScatter = XT.GetObject(Vars.StillPossibleWinComboScatter), this.stillPossibleWinComboWild = XT.GetObject(Vars.StillPossibleWinComboWild), this.stillPossibleWinComboPerSymbol = XT.GetObject(Vars.StillPossibleWinComboPerSymbol);
    var t = XT.GetObject(Vars.ReelsStopOrder);
    if (this.reelIndex == t[this.numberOfReels - 1] && (this.allReelsStopped = !0), this.reelIndices.length > 1 || this.fastStop && this.allReelsStopped) return this.PlayReelsStopAllSound(this.reelsStoppingAll.GetClip()), void(this.reelMustStop = []);
    if (!this.fastStop) {
        var e, i, n;
        if (this.playSpecialSymbolSoundsInOrder) {
            var o = null;
            for (n = 0; n < this.reelsStoppedWithSpecialSymbol.length; n++)
                if ((0 != n || this.stillPossibleWinComboBonus[this.reelIndex]) && (1 != n || this.stillPossibleWinComboScatter[this.reelIndex]) && (2 != n || this.stillPossibleWinComboWild[this.reelIndex]) && (!(n > 2) || this.stillPossibleWinComboPerSymbol[this.reelIndex][n])) {
                    var s = !1;
                    for (i = 0; i < this.resultSymbols[this.reelIndex].length; i++) {
                        if (this.resultSymbols[this.reelIndex][i] == n)
                            for (e = 0; e < this.reelsStoppingSounds[this.reelsStoppedWithSpecialSymbol[n]].reelStopWithSpecialSymbol.length; e++)
                                if (this.reelsStoppingSounds[this.reelsStoppedWithSpecialSymbol[n]].reelStopWithSpecialSymbol[e].specialSymbolId == n) {
                                    null == o && (o = this.reelsExcited[this.reelIndex] ? this.reelsStoppingSounds[this.reelsStoppedWithSpecialSymbol[n]].reelStopWithSpecialSymbol[e].GetExcitedClip() : this.reelsStoppingSounds[this.reelsStoppedWithSpecialSymbol[n]].reelStopWithSpecialSymbol[e].GetClip()), this.reelsStoppedWithSpecialSymbol[n]++, s = !0;
                                    break
                                } if (s) break
                    }
                    if (null != o) return void this.PlayReelStopSound(o)
                }
        } else
            for (e = 0; e < this.reelsStoppingSounds[this.reelIndex].reelStopWithSpecialSymbol.length; e++)
                if ((0 != (n = this.reelsStoppingSounds[this.reelIndex].reelStopWithSpecialSymbol[e].specialSymbolId) || this.stillPossibleWinComboBonus[this.reelIndex]) && (1 != n || this.stillPossibleWinComboScatter[this.reelIndex]) && (2 != n || this.stillPossibleWinComboWild[this.reelIndex]) && (!(n > 2) || this.stillPossibleWinComboPerSymbol[this.reelIndex][n]))
                    for (i = 0; i < this.resultSymbols[this.reelIndex].length; i++)
                        if (n == this.resultSymbols[this.reelIndex][i]) return void(this.reelsExcited[this.reelIndex] ? this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopWithSpecialSymbol[e].GetExcitedClip()) : this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopWithSpecialSymbol[e].GetClip()));
        if (this.reelsExcited[this.reelIndex]) XT.GetObject(Vars.ReelsWinInfo)[this.reelIndex] ? this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopExcitedWin.GetClip()) : this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopExcitedLose.GetClip());
        else this.PlayReelStopSound(this.reelsStoppingSounds[this.reelIndex].reelStopDefault.GetClip())
    }
}, VS_SoundLogic.prototype.OnSoundLogicReelStopEnded = function () {
    this.reelIndex = XT.GetInt(Vars.LastStopEndedReelIndex);
    for (var t = XT.GetObject(Vars.ReelsStopOrder), e = -1, i = 0, n = 0; n < this.numberOfReels; n++) t[n] == this.reelIndex && (i = n, n < this.numberOfReels - 1 && (e = n + 1));
    for (var o = i; o >= 0; o--)
        if (this.reelsStartingSounds[o].clipsReelMusicExcited.IsPlaying()) {
            var s = {
                handle: this.reelsStartingSounds[o].clipsReelMusicExcited.handler
            };
            this.sndManager.StopLoopingSound(s), this.reelsStartingSounds[o].clipsReelMusicExcited.handler = s.handle
        } this.allReelsStopped || -1 != e && this.reelsExcited[t[e]] && (this.sndManager.PlaySimple(this.reelsStartingSounds[e].clipsReelStartExcited.GetClip()), this.reelsStartingSounds[e].clipsReelMusicExcited.handler = this.sndManager.PlayLooping(this.reelsStartingSounds[e].clipsReelMusicExcited.GetClip()))
}, VS_SoundLogic.prototype.OnPlayFSWonBeforeResult = function () {
    XT.GetBool(Vars.LastWinIsCounting) || this.sndManager.PlaySimple(this.clipFSWonBeforeResult)
}, VS_SoundLogic.prototype.OnPlayBonusWonBeforeResult = function () {
    XT.GetBool(Vars.LastWinIsCounting) || this.sndManager.PlaySimple(this.clipBonusWonBeforeResult)
}, VS_SoundLogic.prototype.OnSoundLogicShowWinLine = function () {
    var t = XT.GetInt(Vars.ResultSymbolWinID); - 1 == t || this.clipsSymbolWin.length <= t || null == this.clipsSymbolWin[t].GetClip() ? this.sndManager.PlaySimple(this.clipShowWinLine.GetClip()) : this.sndManager.PlaySimple(this.clipsSymbolWin[t].GetClip())
}, VS_SoundLogic.prototype.OnSoundLogicStartFreeSpins = function () {
    this.UpdateSounds()
}, VS_SoundLogic.prototype.OnVSLogicStartSounds = function () {
    this.isInactive = !1, this.UpdateSounds()
}, VS_SoundLogic.prototype.OnVSLogicStopSounds = function () {
    if (this.clipMusic.IsPlaying()) {
        var t = {
            handle: this.clipMusic.handler
        };
        this.sndManager.StopMusic(t), this.clipMusic.handler = t.handle
    }
    this.isInactive = !0
}, VS_SoundLogic.prototype.UpdateBackgroundMusic = function () {
    if (this.clipMusic.IsPlaying()) {
        var t = {
            handle: this.clipMusic.handler
        };
        this.sndManager.StopMusic(t), this.clipMusic.handler = t.handle
    }
    this.clipMusic.handler = this.sndManager.PlayMusic(this.clipMusic.GetClip())
}, VS_SoundLogic.prototype.PlayReelStopSound = function (t) {
    if (XT.GetBool(Vars.CanPlayReelStopSounds))
        if (this.reelStopDelay <= 0) this.sndManager.PlaySimple(t);
        else {
            var e = new AudioClipDelay;
            e.CountToPlayClip(t, this.reelStopDelay), this.reelMustStop.push(e)
        }
}, VS_SoundLogic.prototype.PlayReelsStopAllSound = function (t) {
    XT.GetBool(Vars.CanPlayReelStopSounds) && (!this.fastStop && this.reelsStopAllDelay <= 0 || this.fastStop && this.reelsFastStopAllDelay <= 0 ? this.sndManager.PlaySimple(t) : (this.reelsMustStopAll = new AudioClipDelay, this.reelsMustStopAll.CountToPlayClip(t, this.fastStop ? this.reelsFastStopAllDelay : this.reelsStopAllDelay)))
}, VS_SoundLogic.prototype.Update = function () {
    for (var t = 0; t < this.reelMustStop.length; t++) this.reelMustStop[t].MustPlay() && (this.sndManager.PlaySimple(this.reelMustStop[t].GetClip()), this.reelMustStop[t].Reset(), this.reelMustStop.splice(t, 1));
    null != this.reelsMustStopAll && this.reelsMustStopAll.MustPlay() && (this.sndManager.PlaySimple(this.reelsMustStopAll.GetClip()), this.reelsMustStopAll.Reset(), this.reelsMustStopAll = null)
}, VS_SoundLogic.prototype.GetSpinWinClip = function () {
    for (var t = XT.GetObject(Vars.ReceivedWinLines), e = XT.GetObject(Vars.OrderedSymbolList), i = [], n = 0; n < t.length; ++n)
        for (var o = t[n].WinPositions, s = 0; s < o.length; ++s) - 1 == i.indexOf(e[o[s]].symbolId) && i.push(e[o[s]].symbolId);
    for (n = 0; n < this.clipsSymbolWinOverride.length; ++n) {
        var a = this.clipsSymbolWinOverride[n].GetClip();
        if (null != a && -1 != i.indexOf(n)) return a
    }
    return this.clipSpinWin.GetClip()
}, goog.require("UHT.Engine"), JackpotValuesDisplayer.prototype = Object.create(XTLink.prototype), JackpotValuesDisplayer.prototype.constructor = JackpotValuesDisplayer, JackpotValuesDisplayer.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged, this.OnBetChanged, this), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.RegisterCallbackBool(Vars.HasCoins, this.OnHasCoinsChanged, this)
}, JackpotValuesDisplayer.prototype.UpdateJackpotValues = function () {
    if (null != this.bgItemValues)
        for (var t = 0; t < this.bgItemValues.length; t++) this.jackpotLabels[t].text = this.GetProcessedValue(this.bgItemValues[t])
}, JackpotValuesDisplayer.prototype.OnHasCoinsChanged = function (t) {
    this.UpdateJackpotValues()
}, JackpotValuesDisplayer.prototype.OnGameInit = function () {
    this.bgItemValues = XT.GetObject(Vars.InitBGItemValues), this.UpdateJackpotValues()
}, JackpotValuesDisplayer.prototype.OnBetChanged = function () {
    this.UpdateJackpotValues()
}, JackpotValuesDisplayer.prototype.GetProcessedValue = function (t) {
    var e = t * CoinManager.GetNextTotalBet();
    if (XT.GetBool(Vars.HasCoins)) return CoinManager.ConvertMoneyToCoins(e).toString();
    var i = new FormatOptions;
    return i.fontId = 1, LocaleManager.FormatValue(e, i)
}, goog.require("UHT.XTLink"), JurisdictionGameTitle.prototype = Object.create(XTLink.prototype), JurisdictionGameTitle.prototype.constructor = JurisdictionGameTitle, JurisdictionGameTitle.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackBool(Vars.Jurisdiction_GameTitle, this.OnJurisdictionGameTitleChanged, this)
}, JurisdictionGameTitle.prototype.OnJurisdictionGameTitleChanged = function (t) {
    this.gameObject.SetActive(t), GUIArranger.I.logoObjectAnchor.gameObject.SetActive(!t);
    var e = this.gameObject.GetComponentsInChildren(UILabel, !0);
    e.length > 0 && XT.SetString(Vars.GameTitle, e[0].text), t && !this.isPatched && (Globals.isMini ? (this.PatchForMini(), this.copyFontStylesFromClockMini && this.CopyFontStylesFromClock()) : Globals.isMobile && (this.PatchForMobile(), this.copyFontStylesFromClockMobile && this.CopyFontStylesFromClock()), this.copyFontStylesFromClockDesktop && !Globals.isMobile && this.CopyFontStylesFromClock(), this.isPatched = !0)
}, JurisdictionGameTitle.prototype.PatchForMini = function () {
    var t = this.gameObject.GetComponentsInChildren(ScreenAnchor, !0);
    if (0 != t.length) {
        for (var e = this.gameObject.GetComponentsInChildren(UILabel, !0), i = 0; i < e.length; i++) {
            e[i].fontSize = this.miniFontSize;
            var n = e[i].color;
            e[i].color = n, e[0].init()
        }
        for (i = 0; i < t.length; i++) t[i].anchorTop = !0, t[i].topOffset = this.miniTopOffset, t[i].rightOffset = t[i].rightOffset * (1 / this.miniScale) + this.miniRightOffset, t[i].transform.localScale(new UHTMath.Vector3(this.miniScale * e[i].resize, this.miniScale * e[i].resize, t[i].transform.localScale().z))
    }
}, JurisdictionGameTitle.prototype.CopyFontStylesFromClock = function () {
    for (var t = globalRuntime.sceneRoots[1].transform.GetComponentsInChildren(ClockDisplayer, !0)[0].gameObject.GetComponentsInChildren(UILabel, !0)[0], e = this.gameObject.GetComponentsInChildren(UILabel, !0), i = 0; i < e.length; i++) {
        e[i].color = t.color, e[i].effectStyle = t.effectStyle, e[i].effectColor = t.effectColor;
        var n = t.effectWidth * (e[i].fontSize / t.fontSize),
            o = t.effectHeight * (e[i].fontSize / t.fontSize);
        e[i].effectWidth = n, e[i].effectHeight = o, e[i].init()
    }
    if (e.length > 0)
        for (i = 0; i < GUIArranger.I.gameTitles.length; ++i) GUIArranger.I.gameTitles[i].SetColor(e[0].color), GUIArranger.I.gameTitles[i].effectStyle = e[0].effectStyle, GUIArranger.I.gameTitles[i].effectColor = e[0].effectColor, GUIArranger.I.gameTitles[i].effectWidth = e[0].effectWidth, GUIArranger.I.gameTitles[i].effectHeight = e[0].effectHeight
}, JurisdictionGameTitle.prototype.PatchForMobile = function () {
    var t = this.gameObject.GetComponentsInChildren(UILabel, !0);
    if (0 != t.length) {
        var e = this.gameObject.GetComponentsInChildren(ArrangeableActive, !0);
        if (e.length > 0)
            for (var i = 0; i < e.length; ++i) e[i].activeInPortrait && (e[i].activeInPortrait = !1, e[i].gameObject.SetActive(!1));
        else {
            var n = !0;
            switch (LayoutManager.layoutMode) {
                case LayoutManager.Mode.PortraitPLN:
                case LayoutManager.Mode.Portrait:
                case LayoutManager.Mode.PortraitIPad:
                case LayoutManager.Mode.PortraitIPhone:
                    n = !1;
                    break
            }
            for (i = 0; i < t.length; ++i) {
                var o = t[i].gameObject.AddComponent("ArrangeableActive");
                o.useOnMobile = !0, o.activeInLandscape = !0, o.activeInPortrait = !1, t[i].gameObject.SetActive(n)
            }
        }
    }
}, goog.require("UHT.Engine"), PickableItemMultiplePicks.prototype = Object.create(PickableItemBase.prototype), PickableItemMultiplePicks.prototype.constructor = PickableItemMultiplePicks, PickableItemMultiplePicks.prototype.ItemShow = function (t, e) {
    PickableItemBase.prototype.ItemShow.call(this, t, e), this.UpdateHierarchy(t, e), this.showPicked.Start()
}, PickableItemMultiplePicks.prototype.ItemResume = function (t, e) {
    PickableItemBase.prototype.ItemResume.call(this, t, e), this.UpdateHierarchy(t, e), this.resumePicked.Start()
}, PickableItemMultiplePicks.prototype.ResetItem = function () {
    PickableItemBase.prototype.ResetItem.call(this), this.resetPick.Start()
}, PickableItemMultiplePicks.prototype.PlayOrderedClip = function () {
    this.soundPlayers[this.rootIndex].PlayNextClip()
}, PickableItemMultiplePicks.prototype.ResumeOrderedClip = function () {
    this.soundPlayers[this.rootIndex].IncreaseClipIndex()
}, PickableItemMultiplePicks.prototype.UpdateHierarchy = function (t, e) {
    for (var i = 0; i < t.BGItemValues.length; i++) t.BGItemValues[i] == t.ItemsWins[e] && (this.rootIndex = i, this.activateRoots[i].Start())
}, goog.require("UHT.Engine"), BonusPickWinAwareCATLink.prototype = Object.create(Component.prototype), BonusPickWinAwareCATLink.prototype.constructor = BonusPickWinAwareCATLink, BonusPickWinAwareCATLink.prototype.UpdateContent = function () {
    var t = XT.GetObject(Vars.BonusData);
    if (null != t && t.GameOver)
        for (var e = 0; e < t.BGItemValues.length; e++) t.BGItemValues[e] == (t.RealWin / t.Coef + .5 | 0) && this.content[e].Start()
}, goog.provide("UHT.PaytableSymbolPayout_Ways"), goog.require("UHT.XTLink"), PaytableSymbolPayout_Ways.prototype = Object.create(XTLink.prototype), PaytableSymbolPayout_Ways.prototype.constructor = PaytableSymbolPayout_Ways, PaytableSymbolPayout_Ways.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this)
}, PaytableSymbolPayout_Ways.prototype.OnDestroy = function () {
    XT.UnregisterCallbackEvent(this.OnGameInit, this), XT.UnregisterCallbackEvent(this.UpdateSymbolPayoutInformation, this), XT.UnregisterCallbackBool(this.OnHasCoinsChanged, this)
}, PaytableSymbolPayout_Ways.prototype.OnGameInit = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_BetChanged, this.UpdateSymbolPayoutInformation, this), XT.RegisterCallbackBool(Vars.HasCoins, this.OnHasCoinsChanged, this), this.UpdateSymbolPayoutInformation()
}, PaytableSymbolPayout_Ways.prototype.OnHasCoinsChanged = function (t) {
    this.UpdateSymbolPayoutInformation()
}, PaytableSymbolPayout_Ways.prototype.UpdateSymbolPayoutInformation = function () {
    var t = XT.GetObject(Vars.PaytablePayoutData);
    null != t && (this.gameObject.GetComponent(UILabel).text = this.GetProcessedText(0 == this.customPayoutData.length ? t[this.symbolIndex] : this.customPayoutData))
}, PaytableSymbolPayout_Ways.prototype.GetProcessedText = function (t) {
    var e = "",
        i = this.isMultipliedByTotalBet ? CoinManager.GetNextTotalBet() : CoinManager.GetNextBet();
    if (this.isDisplayingRange) {
        this.updatedUpperRange = !1;
        var n = [],
            o = [],
            s = t.length - 1,
            a = t.length - 1;
        n.push(s);
        for (var r = t.length - 1; r >= 0; r--) t[s] != t[r] && (s = r, n.push(s));
        for (var l = 0; l < n.length; l++) {
            for (var u = n[l]; u >= 0 && t[n[l]] == t[u]; u--) a = u;
            o.push(a)
        }
        for (var h = 0; h < n.length; h++)
            if (!(t[n[h]] <= 0)) {
                var c = "";
                c = this.isDisplayingCoins && XT.GetBool(Vars.HasCoins) ? CoinManager.ConvertMoneyToCoins(t[n[h]] * i).toString() : LocaleManager.FormatValue(t[n[h]] * i, this.formatOptions), n[h] == o[h] ? e += (this.showOnlyValue ? "" : ("" == e ? "" : "\n") + (n[h] + 1) + this.valueDelimiter) + c : this.ignoreRightUpperRange && !this.updatedUpperRange ? (this.updatedUpperRange = !0, e += (this.showOnlyValue ? "" : ("" == e ? "" : "\n") + (o[h] + 1) + this.rightUpperRangeReplacer + this.valueDelimiter) + c) : e += (this.showOnlyValue ? "" : ("" == e ? "" : "\n") + (o[h] + 1) + this.rangeDelimiter + (n[h] + 1) + this.valueDelimiter) + c
            }
    } else
        for (r = t.length - 1; r >= 0; r--)
            if (t[r] > 0) {
                c = "";
                c = this.isDisplayingCoins && XT.GetBool(Vars.HasCoins) ? CoinManager.ConvertMoneyToCoins(t[r] * i).toString() : LocaleManager.FormatValue(t[r] * i, this.formatOptions), e += (this.showOnlyValue ? "" : ("" == e ? "" : "\n") + (r + 1) + " - ") + c
            } return e
}, goog.require("UHT.PaytableSymbolPayout_Ways"), PaytableSymbolPayout.prototype = Object.create(PaytableSymbolPayout_Ways.prototype), PaytableSymbolPayout.prototype.constructor = PaytableSymbolPayout, PaytableSymbolPayout.prototype.UpdateSymbolPayoutInformation = function () {
    null == this.customPayoutData && (this.isDisplayingCoins = !0, this.showOnlyValue = !1, this.customPayoutData = [], this.formatOptions = new FormatOptions), PaytableSymbolPayout_Ways.prototype.UpdateSymbolPayoutInformation.call(this)
}, goog.require("UHT.FOXLink"), JurisdictionShowXChance.prototype = Object.create(FOXLink.prototype), JurisdictionShowXChance.prototype.constructor = JurisdictionShowXChance, JurisdictionShowXChance.prototype.HandleInitResponse = function (t) {
    if (XT.GetBool(Vars.Jurisdiction_Show_X_Chance)) {
        var e = null;
        if (t.gameInfo && (e = JSON5.parse(t.gameInfo)), e.props && null == e.props.max_rnd_hr) {
            var i = -1;
            for (var n in e.props)
                if (0 == n.indexOf("max_rnd_hr")) {
                    var o = _number.otod(e.props[n]);
                    o > i && (i = o)
                } i > 0 && (e.props.max_rnd_hr = i.toString())
        }
        var s = !1;
        if (null != e && null != e.props && null != e.props.max_rnd_win && null != e.props.max_rnd_hr) {
            var a = new FormatOptions;
            a.hasDecimals = !1, a.hasCurrency = !1;
            var r = LocaleManager.FormatValue(e.props.max_rnd_win, a),
                l = LocaleManager.FormatValue(e.props.max_rnd_hr, a);
            this.chanceLabel.text = this.chanceLabel.text.replace("{0}", r + "X"), this.chanceLabel.text = this.chanceLabel.text.replace("{1}", l), this.chanceLabel.gameObject.SetActive(!0);
            var u = globalRuntime.sceneRoots[1];
            if (!Globals.isMobile)
                for (var h = u.GetComponentsInChildren(window.PaytableArranger, !0), c = 0; c < h.length; c++) {
                    var p = h[c].panelUnder.GetComponentsInChildren(UISprite, !0)[0];
                    null != p && (p.transform.localPosition(new UHTMath.Vector3(p.transform.localPosition().x, -39, p.transform.localPosition().z)), p.transform.localScale(new UHTMath.Vector3(p.transform.localScale().x, 1.097, p.transform.localScale().z)))
                }
            s = !0
        }
        s || XT.SetBool(Vars.Jurisdiction_Show_X_Chance, !1)
    }
}, goog.require("UHT.XTLink"), JurisdictionShowNOKChance.prototype = Object.create(XTLink.prototype), JurisdictionShowNOKChance.prototype.constructor = JurisdictionShowNOKChance, JurisdictionShowNOKChance.prototype.XTRegisterCallbacks = function () {
    XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, this.OnGameInit, this), XT.SetBool("Jurisdiction_Show_NOK_Chance", !1), Globals.isMobile || (XT.RegisterCallbackEvent(Vars.Evt_Internal_PaytableOpen, this.OnPaytablePageChanged, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytableNext, this.OnPaytablePageChanged, this), XT.RegisterCallbackEvent(Vars.Evt_DataToCode_Pressed_PaytablePrevious, this.OnPaytablePageChanged, this), this.root = globalRuntime.sceneRoots[1], this.paytable = this.root.GetComponentsInChildren(Paytable, !0)[0])
}, JurisdictionShowNOKChance.prototype.OnPaytablePageChanged = function () {
    this.chanceLabel.gameObject.SetActive(1 == this.paytable.currentPageIndex)
}, JurisdictionShowNOKChance.prototype.OnGameInit = function () {
    for (var t = (ServerOptions.jurisdictionRequirements + "," + ServerOptions.brandRequirements).split(","), e = 0; e < t.length; e++)
        if (0 == t[e].indexOf("SHONOK")) {
            if (this.chanceLabel.gameObject.SetActive(!0), this.showXChance.SetActive(!1), XT.SetBool("Jurisdiction_Show_NOK_Chance", !0), !Globals.isMobile) {
                var i = this.root.GetComponentsInChildren(window.PaytableArranger, !0);
                for (e = 0; e < i.length; e++) {
                    var n = i[e].panelUnder.GetComponentsInChildren(UISprite, !0)[0];
                    null != n && (n.transform.localPosition(new UHTMath.Vector3(n.transform.localPosition().x, -39, n.transform.localPosition().z)), n.transform.localScale(new UHTMath.Vector3(n.transform.localScale().x, 1.097, n.transform.localScale().z)))
                }
            }
            return
        } XT.UnregisterCallbackEvent(this.OnPaytablePageChanged, this)
}, goog.require("UHT.BonusGameMultiplePicks"), goog.require("UHT.PickableItemBase"), goog.require("UHT.VS_SymbolMarker"), goog.require("UHT.VSGameStateManager"), goog.require("UHT.SymbolDepthSort"), goog.require("UHT.Special_ReelsManager"), goog.require("UHT.Engine"), AGCCController.prototype = Object.create(Component.prototype), AGCCController.prototype.constructor = AGCCController, AGCCController.prototype.Update = function () {
    if (null != UHT_GAME_CONFIG && (this.shouldShow = "imageAGCC" == UHT_GAME_CONFIG.jurisdictionMsg, this.image.SetActive(this.shouldShow)), this.shouldShow) {
        var t = Globals.GetCameraForObject(this.image);
        if (null != t) {
            var e = new UHTMath.Vector3(0, 0, 0);
            e.y = UHTScreen.height;
            var i = t.ScreenToWorldPoint(e),
                n = this.image.transform.position();
            this.image.transform.position(n.x, i.y + .05, n.z)
        }
        UHTScreen.width >= 1.4 * UHTScreen.height ? this.image.transform.localScale(2.1, 2.1, 2.1) : UHTScreen.width >= UHTScreen.height ? this.image.transform.localScale(1.7, 1.7, 1.7) : UHTScreen.width < UHTScreen.height && this.image.transform.localScale(1.05, 1.05, 1.05);
        var o = globalRuntime.sceneRoots[0].GetComponentsInChildren(ClientLoader)[0];
        o.transform.localScale(.6, .6, .6), o.transform.localPosition(0, 30, 0)
    }
}, goog.require("UHT.Engine"), AnimatedScaledBar.prototype = Object.create(Component.prototype), AnimatedScaledBar.prototype.constructor = AnimatedScaledBar, AnimatedScaledBar.prototype.Scale = function (t) {
    var e = this.target.GetAnimationState(this.clip.name);
    e.enabled = !0, e.weight = 1, e.time = t * e.length, this.target.Sample(), e.enabled = !1
}, goog.require("UHT.Engine"), ClientLoader.prototype = Object.create(Component.prototype), ClientLoader.prototype.constructor = ClientLoader;
var UHT_LOADER_DEBUG = !1;

function ClientLoader() {
    Component.call(this), this.scaledBar = null, this.minTimeForLoader = 0, this.percentLabel = null, this.shouldHide = -1, this.timeSpentInLoader = 0, this.curScale = 0, this.maxDeltaScale = .01, this.animatedBars = null, this.tryToHide = !1
}

function padLeft(t, e, i) {
    return Array(e - String(t).length + 1).join(i || "0") + t
}

function ClientLoaderAnimation() {
    Component.call(this), this.framePrefix = "", this.dt = .1, this.digits = 2, this.sprite = null, this.oframe = -1, this.frame = 0, this.animTime = 0
}

function ClientCustomContentTGCE() {
    Component.call(this), this.start = null, this.animate = null, this.landscape = null, this.portrait = null, this.framesAnimator = null, this.framesAnimationTime = 0, this.progressSampler = null, this.progressSamplers = null, this.progressAnimator = null, this.progressAnimators = null, this.progressAnimationTime = 0, this.progressThreshold = 0, this.totalDistance = 0, this.minimalDistance = 0, this.targetProgress = 0, this.screenWidth = 0, this.screenHeight = 0
}

function OrientationChanger() {
    Component.call(this), this.toLandscape = null, this.toPortrait = null, this.screenWidth = 0, this.screenHeight = 0
}

function FullscreenVisual() {
    Component.call(this), this.catShow = null, this.catHide = null, this.mustShow = !1, this.isShown = !1, UHTEventBroker.AddHandler(UHTEventBroker.Type.Game, new UHTEventBroker.Handler(this, this.OnGameEvent))
}

function LoaderScaler() {
    Component.call(this), this.curWidth = -1, this.curHeight = -1, this.background = null
}

function SpriteSizeProxy() {
    Component.call(this), this.sprite = null, this.width = -1, this.height = -1, this.curWidth = -1, this.curHeight = -1, this.useUpdate = !0
}
ClientLoader.progressPercent = window.UHT_CLIENT_DOWNLOADED / window.UHT_GAME_SIZE * LoaderProgress.Download_Weight, ClientLoader.loadingBar = document.getElementById("loadingBar"), ClientLoader.prototype.Start = function () {
    UHTEngine.StartDownloadingMainGame(this, "UNUSED", "OnRequestToHideLoader"), window.UHT_CUSTOM_LOADER || (this.scaledBar.transform.parent.gameObject.SetActive(!1), this.gameObject.GetComponentInChildren(ClientLoaderAnimation).gameObject.SetActive(!1)), this.scaledBar.transform.localScale(0, 1, 1);
    for (var t = 0; t < this.animatedBars.length; ++t) this.animatedBars[t].Scale(0);
    this.percentLabel.gameObject.SetActive(!1), UHTEngine.HideFirstLoader(), this.curScale = ClientLoader.progressPercent
}, ClientLoader.prototype.OnRequestToHideLoader = function () {
    this.tryToHide = !0
}, ClientLoader.prototype.Update = function () {
    if (this.timeSpentInLoader += Time.deltaTime, !(this.timeSpentInLoader < this.minTimeForLoader)) {
        if (this.percentLabel.gameObject.SetActive(!0), LoaderProgress.Download_Total = UHT_GAME_SIZE, -1 == LoaderProgress.Download_AlreadyDownloaded && (LoaderProgress.Download_Weight *= 1 - (LoaderProgress.Download_Current + 1) / (LoaderProgress.Download_Total + 1), LoaderProgress.GameAndSound_Download_Weight *= 1 - (LoaderProgress.Download_Current + 1) / (LoaderProgress.Download_Total + 1), LoaderProgress.Download_AlreadyDownloaded = LoaderProgress.Download_Current), -1 == LoaderProgress.Download_SoundAlreadyDownloaded && (LoaderProgress.Sound_Download_Weight *= 1 - (LoaderProgress.Sound_Download_Current + 1) / (LoaderProgress.Sound_Download_Total + 1), LoaderProgress.Download_SoundAlreadyDownloaded = LoaderProgress.Sound_Download_Current), 0 != globalResourcesNeededList.length || UHTEngine.WaitingForSounds() ? this.shouldHide = -1 : this.tryToHide && this.shouldHide < 0 && (this.shouldHide = 5), 0 != this.shouldHide) {
            for (var t = 0, e = 0, i = 0; i < globalResourcesNeededInfo.length; i++)
                if (null != globalResourcesNeededInfo[i].baseTexture.source.downloadSizeTotal) {
                    var n = globalResourcesNeededInfo[i].baseTexture.source.downloadSizeLoaded,
                        o = globalResourcesNeededInfo[i].baseTexture.source.downloadSizeTotal;
                    e += n, -1 == o ? t = -1 : -1 != t && (t += o)
                } else globalResourcesNeededInfo[i].valid && e++, t++;
            t > 0 && (LoaderProgress.Blocking_Current = e, LoaderProgress.Blocking_Total = t), this.tryToHide && -1 == LoaderProgress.Blocking_Total && 0 == globalResourcesNeededInfo.length && (LoaderProgress.Blocking_Current = 1, LoaderProgress.Blocking_Total = 1), LoaderProgress.InitConnection_Visual < LoaderProgress.InitConnection_Current && (LoaderProgress.InitConnection_Visual += .2), LoaderProgress.Sound_Download_Weight = 0, LoaderProgress.Download_Weight = LoaderProgress.GameAndSound_Download_Weight;
            var s = LoaderProgress.Download_Weight + (null != window.UHT_ForceClickForSounds ? 0 : UHT_DEVICE_TYPE.DESKTOP ? LoaderProgress.Sound_Download_Weight : 0) + LoaderProgress.Import_Weight + LoaderProgress.Import_Textures_Weight + LoaderProgress.InitConnection_Weight + LoaderProgress.Localize_Weight + LoaderProgress.Blocking_Weight + LoaderProgress.SymbolsManagers_Weight + .02,
                a = 0;
            if (a += ((LoaderProgress.Download_Current - LoaderProgress.Download_AlreadyDownloaded + 1) / (LoaderProgress.Download_Total - LoaderProgress.Download_AlreadyDownloaded + 1) * (1 - LoaderProgress.Download_Retried_LockedPercent) + LoaderProgress.Download_Retried_LockedPercent) * (LoaderProgress.Download_Weight / s), UHT_DEVICE_TYPE.DESKTOP && -1 != LoaderProgress.Sound_Download_Total && (a += (LoaderProgress.Sound_Download_Current - LoaderProgress.Download_SoundAlreadyDownloaded + 1) / (LoaderProgress.Sound_Download_Total - LoaderProgress.Download_SoundAlreadyDownloaded + 1) * (LoaderProgress.Sound_Download_Weight / s)), -1 != LoaderProgress.Import_Total && (a += LoaderProgress.Import_Current / LoaderProgress.Import_Total * (LoaderProgress.Import_Weight / s)), -1 != LoaderProgress.Import_Textures_Total) {
                var r = LoaderProgress.Import_Textures_Current / LoaderProgress.Import_Textures_Total;
                a += (r = UHTMath.clamp(r, 0, 1)) * (LoaderProgress.Import_Textures_Weight / s)
            }
            a += LoaderProgress.InitConnection_Visual / LoaderProgress.InitConnection_Total * (LoaderProgress.InitConnection_Weight / s), a += LoaderProgress.Localize_Current / LoaderProgress.Localize_Total * (LoaderProgress.Localize_Weight / s), -1 != LoaderProgress.Blocking_Total && (a += LoaderProgress.Blocking_Current / LoaderProgress.Blocking_Total * (LoaderProgress.Blocking_Weight / s)), -1 != LoaderProgress.SymbolsManagers_Total && (a += LoaderProgress.SymbolsManagers_Current / LoaderProgress.SymbolsManagers_Total * (LoaderProgress.SymbolsManagers_Weight / s));
            var l = a - this.curScale;
            l < 0 && (l = 0), l > this.maxDeltaScale * (2.5 / l) * a && (l = this.maxDeltaScale * (2.5 / l) * a), this.curScale += l, UHT_LOADER_DEBUG && (UHT_DEBUG_TEXT = "\nLP:   " + Number(a).toFixed(2) + "      " + Number(this.curScale).toFixed(2) + "      \n  IC " + padLeft(LoaderProgress.Import_Current, 6, " ") + "/" + padLeft(LoaderProgress.Import_Total, 6, " ") + "\n  IT " + padLeft(LoaderProgress.Import_Textures_Current, 6, " ") + "/" + padLeft(LoaderProgress.Import_Textures_Total, 6, " ") + "\n       CC " + padLeft(LoaderProgress.InitConnection_Current, 1, " ") + "  CV " + Number(LoaderProgress.InitConnection_Visual).toFixed(2) + "  CT " + padLeft(LoaderProgress.InitConnection_Total, 1, " ") + "\n       LC " + padLeft(LoaderProgress.Localize_Current, 1, " ") + "/" + padLeft(LoaderProgress.Localize_Total, 1, " ") + "\n       BLOCK " + padLeft(LoaderProgress.Blocking_Current, 10, " ") + "  BT " + padLeft(LoaderProgress.Blocking_Total, 10, " ") + "\n       SM " + padLeft(LoaderProgress.SymbolsManagers_Current, 3, " ") + "/" + padLeft(LoaderProgress.SymbolsManagers_Total, 3, " ") + "\n       DL " + padLeft(LoaderProgress.Download_Current, 8, " ") + "/" + padLeft(LoaderProgress.Download_Total, 8, " "))
        }
        if (0 == this.shouldHide) {
            this.gameObject.SetActive(!1), window.UHT_CUSTOM_LOADER || (ClientLoader.loadingBar.style.display = "none", "none" != document.getElementById("ScaleRootLoading").style.display && (window.removeEventListener("DOMContentLoaded", window.scaleLoadingBar, !1), window.removeEventListener("resize", window.scaleLoadingBar, !1), document.getElementById("ScaleRootLoading").style.display = "none")), UHTEngine.SignalLoaderIsHidden(), LoadingStep = 4, globalTracking.StartTimer("uht_loading", "_CLOSED_at_PLAYING", "LoadingTracker"), globalTracking.StopTimerAndSend("uht_loading", "_3_game_opening_and_connecting", "LoadingTracker");
            var u = globalTracking.GetTimerValue("uht_loading", "_3_game_opening_and_connecting", "LoadingTracker");
            globalTracking.SendEvent("uht_loading", "_3_game_opening_and_connecting", u, "LoadingTracker"), globalTracking.StopTimerAndSend("uht_loading", "_4_loading_total_time", "LoadingTracker");
            var h = globalTracking.GetTimerValue("uht_loading", "_4_loading_total_time", "LoadingTracker");
            globalTracking.SendEvent("uht_loading", "_4_loading_total_time", h, "LoadingTracker"), globalTracking.SendEvent("uht_behaviour", "Session_started", Renderer.IsWebGL ? 1 : 0, "BehaviourTracker"), globalTracking.StartTimer("uht_behaviour", "Session_timer", "BehaviourTracker"), UHTInterfaceBOSS.PostMessage("gameLoadingEnded"), window.RC2API.PostMessage("gameLoaded"), window.RC_timer = (new Date).getTime(), window.RC_sessionTimer = window.RC_timer, null != UHT_GAME_CONFIG.rcSettings && null != UHT_GAME_CONFIG.rcSettings.elapsed && (window.RC_sessionTimer -= 6e4 * UHT_GAME_CONFIG.rcSettings.elapsed)
        } else this.shouldHide > 0 && (this.shouldHide--, this.curScale + .004 * this.shouldHide < 1 && (this.curScale += .004));
        this.curScale = UHTMath.clamp(this.curScale, 0, 1);
        var c = this.curScale < .5 ? .5 - 2 * (.5 - this.curScale) * (.5 - this.curScale) : 2 * (this.curScale - .5) * (this.curScale - .5) + .5;
        this.scaledBar.transform.localScale(c, 1, 1);
        for (var p = 0; p < this.animatedBars.length; ++p) this.animatedBars[p].Scale(c);
        var d = UHTMath.clamp(c, .01, 1);
        this.percentLabel.text = Math.round(100 * d).toString() + "%", ClientLoader.progressPercent != d && UHTInterfaceBOSS.OnLoadingPercentChanged(ClientLoader.progressPercent), ClientLoader.progressPercent = d, window.UHT_CUSTOM_LOADER || (ClientLoader.loadingBar.style.width = 100 * ClientLoader.progressPercent + "%")
    }
}, goog.require("UHT.Engine"), ClientLoaderAnimation.prototype = Object.create(Component.prototype), ClientLoaderAnimation.prototype.constructor = ClientLoaderAnimation, ClientLoaderAnimation.prototype.AddDigits = function (t) {
    for (; t.length < this.digits;) t = "0" + t;
    return t
}, ClientLoaderAnimation.prototype.SetFrame = function () {
    this.sprite.color.a = 1
}, ClientLoaderAnimation.prototype.Update = function () {
    UHTScreen.height < 600 ? this.frame = 32 : this.frame = 33, this.SetFrame()
}, goog.require("UHT.Engine"), ClientCustomContentTGCE.prototype = Object.create(Component.prototype), ClientCustomContentTGCE.prototype.constructor = ClientCustomContentTGCE, ClientCustomContentTGCE.prototype.Start = function () {
    this.totalDistance = UHTMath.Vector3.distance(this.progressSampler.manualFrom, this.progressSampler.manualTo), this.minimalDistance = this.totalDistance * this.progressThreshold, this.framesAnimator.animationTime = this.framesAnimationTime, this.progressAnimator.animationTime = this.progressAnimationTime;
    for (var t = 0; t < this.progressAnimators.length; ++t) this.progressAnimators[t].animationTime = this.progressAnimationTime;
    this.start.Start()
}, ClientCustomContentTGCE.prototype.LateUpdate = function () {
    this.UpdateLayout(), this.UpdateProgress()
}, ClientCustomContentTGCE.prototype.UpdateLayout = function () {
    this.screenWidth == UHTScreen.width && this.screenHeight == UHTScreen.height || (this.screenWidth = UHTScreen.width, this.screenHeight = UHTScreen.height, (this.screenWidth >= this.screenHeight ? this.landscape : this.portrait).Start())
}, ClientCustomContentTGCE.prototype.UpdateProgress = function () {
    var t = Math.round(100 * ClientLoader.progressPercent / (100 * this.progressThreshold)) * this.progressThreshold;
    if (!(t < this.targetProgress || Math.abs(t - this.targetProgress) < UHTMath.numberError)) {
        this.targetProgress = t, this.progressSampler.Sample(this.targetProgress);
        for (var e = 0; e < this.progressSamplers.length; ++e) this.progressSamplers[e].Sample(this.targetProgress);
        var i = UHTMath.Vector3.distance(this.progressAnimator.target.transform.localPosition(), this.progressSampler.target.transform.localPosition()) / this.minimalDistance;
        this.framesAnimator.animationTime = this.framesAnimationTime / i, this.animate.Start()
    }
}, goog.require("UHT.Engine"), OrientationChanger.prototype = Object.create(Component.prototype), OrientationChanger.prototype.constructor = OrientationChanger, OrientationChanger.prototype.LateUpdate = function () {
    this.screenWidth == UHTScreen.width && this.screenHeight == UHTScreen.height || (this.screenWidth = UHTScreen.width, this.screenHeight = UHTScreen.height, (this.screenWidth >= this.screenHeight ? this.toLandscape : this.toPortrait).Start())
}, goog.require("UHT.Engine"), FullscreenVisual.prototype = Object.create(Component.prototype), FullscreenVisual.prototype.constructor = FullscreenVisual, FullscreenVisual.prototype.OnGameEvent = function (t) {
    switch (JSON.parse(t).common) {
        case "EVT_FULLSCREEN_OVERLAY_SHOWN":
            this.mustShow = !0;
            break;
        case "EVT_FULLSCREEN_OVERLAY_HIDDEN":
            this.mustShow = !1;
            break
    }
}, FullscreenVisual.prototype.Update = function () {
    this.mustShow != this.isShown && (this.catShow.IsRunning() && this.catShow.Stop(), this.catHide.IsRunning() && this.catHide.Stop(), (this.mustShow ? this.catShow : this.catHide).Start(), this.isShown = this.mustShow)
}, goog.require("UHT.Engine"), LoaderScaler.prototype = Object.create(Component.prototype), LoaderScaler.prototype.constructor = LoaderScaler, LoaderScaler.prototype.Update = function () {
    UHTScreen.width == this.curWidth && UHTScreen.height == this.curHeight || (this.curWidth = UHTScreen.width, this.curHeight = UHTScreen.height, this.curWidth >= this.curHeight ? (this.gameObject.transform.localScale(1.5, 1.5, 1.5), null != this.background && this.background.transform.localScale(3, 1, 1)) : this.curWidth < this.curHeight && (this.gameObject.transform.localScale(1.6, 1.6, 1.6), null != this.background && this.background.transform.localScale(1, 2, 1)))
}, goog.require("UHT.Engine"), SpriteSizeProxy.prototype = Object.create(Component.prototype), SpriteSizeProxy.prototype.constructor = SpriteSizeProxy, SpriteSizeProxy.prototype.Update = function () {
    this.useUpdate && (this.width != this.curWidth && (this.sprite.width = this.width, this.curWidth = this.width), this.height != this.curHeight && (this.sprite.height = this.height, this.curHeight = this.height))
}, SpriteSizeProxy.prototype.SetHeight = function (t) {
    this.sprite.height = t
}, SpriteSizeProxy.prototype.SetWidth = function (t) {
    this.sprite.width = t
}, goog.require("UHT.Engine");
var BetwayAPI = {};

function new_uuidv4() {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (t) {
        var e = 16 * Math.random() | 0;
        return ("x" == t ? e : 3 & e | 8).toString(16)
    }))
}
BetwayAPI.ReceiveMessage = function (t) {
    if (t instanceof Object && null != t.data && null != t.data && "string" == typeof t.data && -1 != t.data.indexOf("{")) {
        var e = null;
        try {
            e = JSON.parse(t.data)
        } catch (t) {
            return
        }
        "REQUEST" == e.Type && ("PAUSE_GAMEPLAY" == e.Name ? (window.globalMustStopAutoplay = !0, XT.SetBool(Vars.ForceContinuousSpin, !1), BetwayAPI.PostMessage("PAUSE_GAMEPLAY", e.Id)) : "RESUME_GAMEPLAY" == e.Name ? BetwayAPI.PostMessage("RESUME_GAMEPLAY", e.Id, 1e3, "Resuming gameplay is not supported") : BetwayAPI.PostMessage(e.Name, e.Id, 1e3, "Message is not supported"))
    }
}, BetwayAPI.PostMessage = function (t, e, i, n, o) {
    var s = {
        Name: t,
        Body: o || null,
        Type: null != e ? "RESPONSE" : "REQUEST",
        Origin: "embeddedgame",
        SenderId: window.name,
        Id: null != e ? e : new_uuidv4()
    };
    null != i && (s.Error = {
        ErrorCode: i,
        Description: n
    });
    var a = JSON.stringify(s);
    window.parent.postMessage(a, "*")
}, BetwayAPI.UHTInterfaceBOSS_PostMessage_Override = function (t) {
    "gameLoadingEnded" == t ? (BetwayAPI.PostMessage("BRIDGE_API_READY"), window.parent.postMessage(JSON.stringify({
        event: "gameLoaded"
    }), "*")) : "gameRoundStarted" == t ? (BetwayAPI.PostMessage("BUSY"), window.parent.postMessage(JSON.stringify({
        event: "gameBusy"
    }), "*")) : "gameRoundEnded" == t ? (BetwayAPI.PostMessage("IDLE"), window.parent.postMessage(JSON.stringify({
        event: "gameNotBusy"
    }), "*")) : "openCashier" == t ? BetwayAPI.PostMessage("LAUNCH_BANKING") : "gameQuit" == t && BetwayAPI.PostMessage("CLOSE_GAME")
}, BetwayAPI.LobbyGameButtonOverride = function (t) {
    BetwayAPI.PostMessage("launch_game", void 0, void 0, void 0, {
        game_id: "pragmatic_" + t.symbol
    })
}, BetwayAPI.Init = function () {
    ["BETWAY", "ETI"].indexOf(UHT_GAME_CONFIG_SRC.integrationType) < 0 || (window.addEventListener("message", BetwayAPI.ReceiveMessage, !1), UHTInterfaceBOSS.PostMessage = BetwayAPI.UHTInterfaceBOSS_PostMessage_Override, LobbyGameButton.prototype.StartGame = BetwayAPI.LobbyGameButtonOverride, UHTInterfaceBOSS.HandleGameHistory = function () {
        return BetwayAPI.PostMessage("LAUNCH_GAME_HISTORY"), !0
    }, UHTInterfaceBOSS.UserInteraction = function () {
        BetwayAPI.PostMessage("PLAYER_ACTIVITY")
    })
}, BetwayAPI.Init(), goog.require("UHT.Engine"), goog.require("UHT.EventManager"), goog.require("UHT.VSGameStateManager");
var BVAPI = {
    isMobile: !1,
    BVFrame: null,
    BVWindow: null,
    canvas: null,
    isFirstUpdate: !0,
    isXTInit: !1,
    isResultShown: !1,
    spinCycleWin: 0,
    gameReady: !1,
    overlayReady: !1,
    postGameReady: !1,
    postGameActive: !1,
    postGameIdle: !1,
    stopGame: !1,
    restartGame: !1,
    isGamePaused: !1,
    isGameIdle: !1,
    ReceiveMessage: function (t) {
        if (t instanceof Object) {
            var e = String(t.data);
            "restartGame" == e ? BVAPI.restartGame = !0 : "stopGame" == e ? BVAPI.stopGame = !0 : "overlayReady" != e && "rcFrameLoaded" != e || (BVAPI.overlayReady = BVAPI.postGameReady = !0)
        }
    }
};
BVAPI.VSGameStates = [VSGameState.Result, VSGameState.ResultBonusRounds], BVAPI.VSGameStatesAutoplay = [VSGameState.ResultAutoplay, VSGameState.ResultBonusRoundsAutoplay], BVAPI.PauseGame = function (t) {
    if (t != BVAPI.isGamePaused) {
        if (BVAPI.isGamePaused = t, Globals.GamePaused = t, SystemMessageManager.IsMessageOpen() || UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
                common: t ? "EVT_MESSAGE_OPENED" : "EVT_MESSAGE_CLOSED",
                args: null
            })), SystemMessageManager.SetHiddenMode(t), null == BVAPI.canvas && (BVAPI.canvas = document.getElementsByTagName("canvas")[0]), null != BVAPI.canvas && BVAPI.canvas.classList[t ? "add" : "remove"]("paused"), t) {
            XT.SetInt(Vars.AutoplaySpinsLeft, -1);
            var e = BVAPI.VSGameStatesAutoplay.indexOf(VSGameStateManager.GetState());
            e > -1 && VSGameStateManager.ChangeTo(BVAPI.VSGameStates[e])
        }
        BVAPI.isMobile && BVAPI.OnUHTResize()
    }
}, BVAPI.PostMessage = function (t) {
    null != BVAPI.BVWindow && BVAPI.BVWindow.postMessage instanceof Function && BVAPI.BVWindow.postMessage(t, "*")
}, BVAPI.UHTInterfaceBOSS_PostMessage = null, BVAPI.UHTInterfaceBOSS_PostMessage_Override = function (t) {
    "gameRoundStarted" == t ? BVAPI.postGameActive = !0 : "gameRoundEnded" == t && (BVAPI.postGameIdle = !0), UHTInterfaceBOSS.enabled && BVAPI.UHTInterfaceBOSS_PostMessage(t)
}, BVAPI.OnFOXInitReceived = function () {
    var t = XT.GetObject(FOXVars.FOX_Response) || {};
    BVAPI.postGameIdle = "s" == t.na && null == t.fs && null == t.fs_total && null == t.rs, BVAPI.postGameActive = !BVAPI.postGameIdle
}, BVAPI.OnXTGameInit = function () {
    BVAPI.gameReady = !0
}, BVAPI.OnXTUpdateDisplayedWinInUI = function () {
    var t = XT.GetDouble(Vars.SpinCycleWinReceived);
    (t <= 0 || t == BVAPI.spinCycleWin) && (BVAPI.isResultShown = !0), BVAPI.spinCycleWin = t
}, BVAPI.OnXTLastWinIsCountingChanged = function (t) {
    XT.GetDouble(Vars.SpinCycleWinReceived) > 0 && !t && (BVAPI.isResultShown = !0)
}, BVAPI.OnUHTBeforeUpdate = function () {
    BVAPI.isXTInit && BVAPI.overlayReady && BVAPI.gameReady && (BVAPI.stopGame && (BVAPI.stopGame = !1, BVAPI.PauseGame(!0), BVAPI.isGameIdle && BVAPI.PostMessage("gameIdle")), BVAPI.restartGame && (BVAPI.restartGame = !1, BVAPI.PauseGame(!1)))
}, BVAPI.OnUHTUpdate = function () {
    BVAPI.isFirstUpdate && (BVAPI.isFirstUpdate = !1, BVAPI.isMobile && BVAPI.OnUHTResize()), !BVAPI.isXTInit && XT.RegisterAndInitDone && (BVAPI.isXTInit = !0, XT.RegisterCallbackEvent(FOXVars.Evt_FOX_InitReceived, BVAPI.OnFOXInitReceived, BVAPI), XT.RegisterCallbackBool(Vars.LastWinIsCounting, BVAPI.OnXTLastWinIsCountingChanged, BVAPI), XT.RegisterCallbackEvent(Vars.Evt_Internal_UpdateDisplayedWinInUI, BVAPI.OnXTUpdateDisplayedWinInUI, BVAPI), XT.RegisterCallbackEvent(Vars.Evt_Internal_GameInit, BVAPI.OnXTGameInit, BVAPI)), BVAPI.isXTInit && BVAPI.overlayReady && BVAPI.gameReady && (BVAPI.postGameReady && (BVAPI.postGameReady = !1, BVAPI.PostMessage("gameReady")), BVAPI.postGameIdle && BVAPI.isResultShown && (BVAPI.isGameIdle = !0, BVAPI.postGameIdle = BVAPI.isResultShown = !1, BVAPI.PostMessage("gameIdle")), BVAPI.postGameActive && (BVAPI.isGameIdle = !1, BVAPI.postGameActive = !1, BVAPI.PostMessage("gameActive")))
}, BVAPI.OnUHTResize = function () {
    var t = [];
    t.push(["width:", BVAPI.isGamePaused ? window.innerWidth : 0, "px"].join("")), t.push(["height:", BVAPI.isGamePaused ? window.innerHeight : 0, "px"].join("")), BVAPI.BVFrame.setAttribute("style", t.join(";"))
}, BVAPI.Init = function () {
    if (null != UHT_GAME_CONFIG_SRC.externalOverlay_BV) {
        if (BVAPI.isMobile = UHT_DEVICE_TYPE.MOBILE, BVAPI.isMobile) {
            var t = document.createElement("iframe");
            t.name = "BVFrame", t.className = "rciframe_visible", t.setAttribute("frameborder", "0"), t.setAttribute("allowtransparency", "true"), document.body.appendChild(t), BVAPI.BVWindow = window.open(UHT_GAME_CONFIG_SRC.externalOverlay_BV, t.name), BVAPI.BVFrame = t, BVAPI.OnUHTResize(), EventManager.AddHandler("EVT_UHT_RESIZE", BVAPI.OnUHTResize, BVAPI)
        } else BVAPI.BVWindow = window.parent, BVAPI.overlayReady = BVAPI.postGameReady = !0;
        window.addEventListener("message", BVAPI.ReceiveMessage, !1), EventManager.AddHandler("EVT_UHT_BEFOREUPDATE", BVAPI.OnUHTBeforeUpdate, BVAPI), EventManager.AddHandler("EVT_UHT_UPDATE", BVAPI.OnUHTUpdate, BVAPI), BVAPI.UHTInterfaceBOSS_PostMessage = UHTInterfaceBOSS.PostMessage, UHTInterfaceBOSS.PostMessage = BVAPI.UHTInterfaceBOSS_PostMessage_Override
    }
}, BVAPI.Init();
var CustomMsgManager = {
        HistoryHandler: function () {
            UHT_GAME_CONFIG.openHistoryInTab ? window.open(UHT_GAME_CONFIG.HISTORY) : (new GameHistoryWindow).Open()
        },
        OpenHandler: function (t) {
            window.open(t)
        },
        AjaxHandler: function (t) {
            var e = new ServerRequest;
            e.Url = t.url, t.wait && (e.Handler = new EventHandler(null, CustomMsgManager.OnAjaxResponse)), RequestManager.AddRequest(e, !0)
        },
        OnAjaxResponse: function (t, e) {
            200 == e && SystemMessageManager.CloseMessage()
        },
        SendLogout: function () {
            var t = new XMLHttpRequest;
            t.open("POST", UHT_GAME_CONFIG.LOGOUT, !0), t.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), t.onreadystatechange = function () {
                4 == t.readyState && ("OK" == t.responseText ? SystemMessageManager.CloseGame() : setTimeout((function () {
                    CustomMsgManager.SendLogout()
                }), 2e3))
            }, t.send()
        },
        NotifyHandler: function (t) {
            window.top != window && UHTInterfaceBOSS.PostMessageRec(window.parent, t), SystemMessageManager.CloseMessage()
        },
        HandleResponse: function (t, e) {
            var i = e.custom_msg;
            if (null == i) {
                var n;
                try {
                    n = JSON.parse(t)
                } catch (t) {
                    n = {}
                }
                if (null == (i = n.custom_msg)) return
            }
            try {
                i = decodeURIComponent(atob(String(i)).split("").map((function (t) {
                    return "%" + ("00" + t.charCodeAt(0).toString(16)).slice(-2)
                })).join(""))
            } catch (t) {}
            try {
                i = JSON.parse(String(i))
            } catch (t) {}
            if (i instanceof Array) {
                for (var o = !UHT_CONFIG.MINI_MODE, s = 0; s < i.length; ++s) {
                    var a = i[s];
                    a.id = "msg" + UID.Generate();
                    var r = ["sys-msg", "custom"];
                    null == a.title && (a.title = o ? SystemMessageManager.LocalizedText("WindowTitle") : "", r.push("no-title")), a.title = SystemMessageManager.ProcessText(a.title), a.className = r.join(" "), a.text = SystemMessageManager.ProcessText(String(a.text)), o || 1 == a.nonIntrusive || (a.text = a.text.replace(/\n/g, "<br>"));
                    var l = a.options;
                    null == l && (l = 1 == a.nonIntrusive ? [] : [{
                        label: SystemMessageManager.LocalizedText("BtContinuePlaying"),
                        action: "continue"
                    }]);
                    for (var u = 0; u < l.length; ++u) {
                        var h, c = l[u],
                            p = c.action;
                        if ("quit" == p && (h = [SystemMessageManager.CloseGame]), "continue" == p && (h = [SystemMessageManager.CloseMessage]), "logout" == p && (h = [CustomMsgManager.SendLogout]), "history" == p && (null == UHT_GAME_CONFIG.HISTORY ? p = "link" : h = [SystemMessageManager.CloseMessage, CustomMsgManager.HistoryHandler]), "link" == p) {
                            var d = c.linkType,
                                m = c.url;
                            "redirect" == d && (h = [SystemMessageManager.GetBtnClickHandler([SystemMessageManager.Reload], m)]), "open" == d && (h = [SystemMessageManager.GetBtnClickHandler([CustomMsgManager.OpenHandler], m)]), "openAndCloseMessage" == d && (h = [SystemMessageManager.GetBtnClickHandler([CustomMsgManager.OpenHandler, SystemMessageManager.CloseMessage], m)]), "ajax" == d && (h = [SystemMessageManager.GetBtnClickHandler([CustomMsgManager.AjaxHandler, SystemMessageManager.CloseMessage], {
                                url: m,
                                wait: !1
                            })]), "ajaxResponse" == d && (h = [SystemMessageManager.GetBtnClickHandler([CustomMsgManager.AjaxHandler], {
                                url: m,
                                wait: !0
                            })]), "ajaxClose" == d && (h = [SystemMessageManager.GetBtnClickHandler([CustomMsgManager.AjaxHandler, SystemMessageManager.CloseGame], {
                                url: m,
                                wait: !0
                            })]), "notify" == d && (h = [SystemMessageManager.GetBtnClickHandler([CustomMsgManager.NotifyHandler], m)])
                        }
                        var S = SystemMessageManager.ProcessText(c.label);
                        null != S && "undefined" != S || (S = "quit" == p ? SystemMessageManager.LocalizedText("BtCLOSE") : "continue" == p ? SystemMessageManager.LocalizedText("BtContinuePlaying") : "history" == p ? SystemMessageManager.LocalizedText("BtRCHistory") : SystemMessageManager.LocalizedText("BtOK")), c.id = "", c.label = S, c.handlers = h
                    }
                    a.buttons = l, delete a.options, a.equals = function () {
                        return !1
                    }
                }
                SystemMessageManager.canShowMessage = !1;
                for (s = i.length - 1; s >= 0; --s) SystemMessageManager.ShowMessage(i[s].id, !1, i[s].text, null, i[s]);
                SystemMessageManager.canShowMessage = !0, SystemMessageManager.InternalShowMessage()
            }
        }
    },
    RC1API = {
        enabled: !1,
        ReceiveMessage: function (t) {
            if ("object" == typeof t && null != t.data && null != t.data && "string" == typeof t.data && -1 != t.data.indexOf("{")) {
                var e = null;
                try {
                    e = JSON.parse(t.data)
                } catch (t) {
                    return
                }
                "Tilt" == e.type && (window.globalMustStopAutoplay = !0, XT.SetBool(Vars.ForceContinuousSpin, !1))
            }
        },
        PauseRC: function () {
            RC1API.enabled && window.postMessage(JSON.stringify({
                type: "status",
                payload: {
                    freeSpins: "true"
                }
            }), "*")
        },
        ReinstateRC: function () {
            RC1API.enabled && window.postMessage(JSON.stringify({
                type: "status",
                payload: {
                    freeSpins: "false"
                }
            }), "*")
        },
        Init: function () {
            window.addEventListener("message", RC1API.ReceiveMessage, !1), null != UHT_GAME_CONFIG.rcSettings && (RC1API.enabled = "RC1" == UHT_GAME_CONFIG.rcSettings.rctype)
        }
    };
RC1API.Init();
var RC2API = {
    enabled: !1,
    rciframe: null,
    rciwindow: null,
    isGamePaused: !1,
    ReceiveMessage: function (t) {
        if (RC2API.enabled && "object" == typeof t && "object" == typeof t.data) {
            var e = t.data.method,
                i = t.data.params;
            switch (e) {
                case "operatorLoaded":
                    break;
                case "confirmHandshake":
                    "object" == typeof i && RC2API.PostMessage(String(i.success));
                    break;
                case "pauseGame":
                    if ("object" == typeof i) {
                        var n = i.return_data instanceof Array ? i.return_data : [],
                            o = {};
                        n.indexOf("session_id") > -1 && (o.session_id = UHT_GAME_CONFIG.rcSettings.session_id), n.indexOf("game_name") > -1 && (o.game_name = UHT_GAME_CONFIG.rcSettings.game_name), n.indexOf("user_id") > -1 && (o.user_id = UHT_GAME_CONFIG.rcSettings.user_id), RC2API.isGamePaused || (SystemMessageManager.IsMessageOpen() || UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
                            common: "EVT_MESSAGE_OPENED",
                            args: null
                        })), SystemMessageManager.SetHiddenMode(!0), RC2API.isGamePaused = !0, RC2API.rciframe.className = "rciframe_visible"), RC2API.PostMessage(String(i.callback), o)
                    }
                    break;
                case "resumeGame":
                    RC2API.isGamePaused && (RC2API.isGamePaused = !1, RC2API.rciframe.className = "rciframe_hidden", SystemMessageManager.IsMessageOpen() || UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
                        common: "EVT_MESSAGE_CLOSED",
                        args: null
                    })), SystemMessageManager.SetHiddenMode(!1));
                    break;
                case "navigateTo":
                    "object" == typeof i && "string" == typeof i.url && (location.href = i.url);
                    break
            }
        }
    },
    PostMessage: function (t, e) {
        null != RC2API.rciwindow && RC2API.rciwindow.postMessage({
            method: t,
            params: e
        }, "*")
    },
    HandleResize: function () {
        var t = [];
        t.push(["width:", window.innerWidth, "px"].join("")), t.push(["height:", window.innerHeight, "px"].join("")), RC2API.rciframe.setAttribute("style", t.join(";"))
    },
    Init: function () {
        if (null != UHT_GAME_CONFIG.rcSettings && (RC2API.enabled = "RC2" == UHT_GAME_CONFIG.rcSettings.rctype, RC2API.enabled)) {
            var t = document.createElement("iframe");
            t.name = "rciframe", t.className = "rciframe_hidden", t.setAttribute("frameborder", "0"), t.setAttribute("allowtransparency", "true"), document.body.appendChild(t), RC2API.rciwindow = window.open(UHT_GAME_CONFIG.rcSettings.rciframeurl, t.name), RC2API.rciframe = t, RC2API.HandleResize(), window.addEventListener("message", RC2API.ReceiveMessage, !1), window.addEventListener("resize", RC2API.HandleResize, !1)
        }
    }
};
RC2API.Init(), goog.provide("UHT.SystemMessageHelpers");
var RCContinueURL, RCCloseURL, RCHistoryURL, RCContinueURL_Type, RCCloseURL_Type, SystemMessageType = {
        NoMoney: "NoMoney",
        NoMoneyBlocking: "NoMoneyBlocking",
        Frozen: "Frozen",
        Reload: "Reload",
        Disabled: "Disabled",
        Techbreak: "Techbreak",
        GameAvailableOnlyAtRealMode: "GameAvailableOnlyAtRealMode",
        ProgressiveJackpotGamesAvailableOnlyAtRealMode: "ProgressiveJackpotGamesAvailableOnlyAtRealMode",
        SaveSettingError: "SaveSettingError",
        LostConnect: "LostConnect",
        PleaseLogin: "PleaseLogin",
        UseGoogleChrome: "UseGoogleChrome",
        UseSafari: "UseSafari",
        Timeout: "Timeout",
        ClientRegulation: "ClientRegulation",
        Regulation: "Regulation",
        JackpotsAreClosed: "JackpotsAreClosed"
    },
    SystemMessageFrozenError = {
        t0: "UNKNOWN",
        t1: "COULD_NOT_RESTORE_WITH_FRB",
        t2: "INVALID_SESSION",
        t3: "RETRY_REQUEST_ERROR",
        t4: "POSTPONED_WIN_ERROR",
        t5: "GAME_CONFIGURATION_ERROR",
        t6: "EXTERNAL_SERVICE_ERROR",
        t7: "SERVER_OBJECT_NOT_FOUND",
        t8: "EXPIRED_SESSION"
    },
    SystemMessageFrozenInfo = {
        t100: "PLAYER_FROZEN",
        t101: "PLAYER_LIMIT_REACHED",
        t102: "DISABLED_GAME",
        t103: "RTP_CHANGED"
    };

function SystemMessageData(t, e, i) {
    this.type = t, this.text = e, this.args = i, this.id = ""
}

function SystemMessageSettings(t) {
    switch (t) {
        case SystemMessageType.NoMoney:
            return {
                id: "NoMoney", buttons: [{
                    id: "BtOK",
                    handlers: [SystemMessageManager.CloseMessage]
                }]
            };
        case SystemMessageType.NoMoneyBlocking:
            return {
                id: "NoMoney", buttons: []
            };
        case SystemMessageType.Frozen:
        case SystemMessageType.Disabled:
            return {
                id: "Frozen", buttons: UHT_DEVICE_TYPE.DESKTOP && !checkIsRequired("MBD") ? [] : [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }]
            };
        case SystemMessageType.Reload:
            return {
                id: "ServerError", buttons: UHT_DEVICE_TYPE.DESKTOP && !checkIsRequired("MBD") ? [] : [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }]
            };
        case SystemMessageType.Techbreak:
            return {
                id: "Techbreak", buttons: UHT_DEVICE_TYPE.DESKTOP && !checkIsRequired("MBD") ? [] : [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }]
            };
        case SystemMessageType.GameAvailableOnlyAtRealMode:
            return {
                id: "GameAvailableOnlyAtRealMode", buttons: UHT_DEVICE_TYPE.DESKTOP && !checkIsRequired("MBD") ? [] : [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }]
            };
        case SystemMessageType.ProgressiveJackpotGamesAvailableOnlyAtRealMode:
            return {
                id: "ProgressiveJackpotGamesAvailableOnlyAtRealMode", title: "ProgressiveJackpotGames", buttons: UHT_DEVICE_TYPE.DESKTOP && !checkIsRequired("MBD") ? [] : [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }]
            };
        case SystemMessageType.SaveSettingError:
            return {
                id: "SaveSettingError", buttons: UHT_DEVICE_TYPE.DESKTOP && !checkIsRequired("MBD") ? [] : [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }]
            };
        case SystemMessageType.LostConnect:
            return {
                id: "LostConnect", buttons: UHT_DEVICE_TYPE.DESKTOP && !checkIsRequired("MBD") ? [] : [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }]
            };
        case SystemMessageType.PleaseLogin:
            return {
                id: "PleaseLogin", buttons: UHT_DEVICE_TYPE.DESKTOP && !checkIsRequired("MBD") ? [] : [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }]
            };
        case SystemMessageType.UseGoogleChrome:
            return {
                id: "UseGoogleChrome", title: "UnsupportedBrowserTitle", buttons: [{
                    id: "BtOK",
                    handlers: [SystemMessageManager.CloseMessage]
                }]
            };
        case SystemMessageType.UseSafari:
            return {
                id: "UseSafari", title: "UnsupportedBrowserTitle", buttons: [{
                    id: "BtOK",
                    handlers: [SystemMessageManager.CloseMessage]
                }]
            };
        case SystemMessageType.Timeout:
            return {
                id: "Timeout", buttons: Globals.isMobile ? [{
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.CloseGame]
                }] : []
            };
        case SystemMessageType.JackpotsAreClosed:
            return {
                id: "JackpotsAreClosed", buttons: [{
                    id: "BtOK",
                    handlers: [SystemMessageManager.CloseMessage]
                }]
            };
        case SystemMessageType.ClientRegulation:
            var e, i = [],
                n = !1;
            if (null != UHT_GAME_CONFIG.rcSettings.buttons)
                for (e = 0; e < UHT_GAME_CONFIG.rcSettings.buttons.length; e++) "continue" == UHT_GAME_CONFIG.rcSettings.buttons[e].action && (n = !0, RCContinueURL = UHT_GAME_CONFIG.rcSettings.buttons[e].url, RCContinueURL_Type = UHT_GAME_CONFIG.rcSettings.buttons[e].rcContinueType, i.push({
                    id: "BtContinuePlaying",
                    handlers: [SystemMessageManager.RCContinue]
                }));
            if (n || i.push({
                    id: "BtContinuePlaying",
                    handlers: [SystemMessageManager.RCCloseMessage]
                }), null != UHT_GAME_CONFIG.rcSettings.buttons)
                for (e = 0; e < UHT_GAME_CONFIG.rcSettings.buttons.length; e++)
                    if ("history" == UHT_GAME_CONFIG.rcSettings.buttons[e].action) {
                        var o = UHT_GAME_CONFIG.rcSettings.buttons[e].url;
                        "" != o && (RCHistoryURL = o), i.push({
                            id: "BtRCHistory",
                            handlers: [SystemMessageManager.RCHistory]
                        })
                    } if (null != UHT_GAME_CONFIG.rcSettings.buttons)
                for (e = 0; e < UHT_GAME_CONFIG.rcSettings.buttons.length; e++) "exit" == UHT_GAME_CONFIG.rcSettings.buttons[e].action && (RCCloseURL = UHT_GAME_CONFIG.rcSettings.buttons[e].url, RCCloseURL_Type = UHT_GAME_CONFIG.rcSettings.buttons[e].rcCloseType, i.push({
                    id: "BtCLOSE",
                    handlers: [SystemMessageManager.RCClose]
                }));
            return {
                id: "ClientRegulation", buttons: i
            };
        case SystemMessageType.Regulation:
            return {
                id: "Regulation", buttons: [{
                    id: "BtContinuePlaying",
                    handlers: [SystemMessageManager.RegulationContinuePressed]
                }, {
                    id: "BtRCHistory",
                    handlers: [SystemMessageManager.RCHistory]
                }, {
                    id: "BtStopPlaying",
                    handlers: [SystemMessageManager.RegulationStopPressed]
                }]
            }
    }
    return null
}
SystemMessageData.prototype.equals = function (t) {
    return this.type == t.type && this.text == t.text && this.args == t.args
};
var ScaleHelper = {
    ScaleContent: function () {
        var t = 1;
        t = window.innerWidth > window.innerHeight ? window.innerHeight / 999 : window.innerWidth / 999;
        var e = ["-moz-transform: scale(VAL)", "-webkit-transform: scale(VAL)", "-ms-transform: scale(VAL)", "-o-transform: scale(VAL)", "transform: scale(VAL)"];
        UHT_DEVICE_TYPE.DESKTOP && (t = t > 1 ? 1 : t);
        for (var i = 0; i < e.length; ++i) e[i] = e[i].replace("VAL", t);
        e.push("width:" + window.innerWidth / t + "px"), e.push("margin-top:" + (window.innerHeight - 999 * t) / 2 + "px"), document.getElementById("ScaleRoot").setAttribute("style", e.join(";"))
    },
    Init: function () {
        ScaleHelper.ScaleContent(), window.addEventListener("resize", ScaleHelper.ScaleContent, !1)
    }
};
ScaleHelper.Init(), goog.require("UHT.SystemMessageHelpers"), goog.require("UHT.Tracking");
var SystemMessageManager = {
        OS: {
            iOS: "iOS",
            Android: "Android"
        },
        os: null,
        root: null,
        scaleRoot: null,
        defaultTexts: null,
        localizedTexts: null,
        initialized: !1,
        showMessageTimeout: null,
        messagesToShow: [],
        shownMessages: [],
        browserWarningShownCallback: null,
        regulationType: null,
        isHiddenMode: !1,
        msgOpenWasTriggered: !1,
        fontName: "Tahoma",
        msgFontLoaded: {},
        canShowMessage: !0,
        handleNoMoney: !0,
        lastMsgCode: void 0,
        lastExtCode: void 0,
        lastFrozen: void 0,
        OnLoad: function () {
            var t = SystemMessageManager;
            UHTEventBroker.AddHandler(UHTEventBroker.Type.Wrapper, new UHTEventBroker.Handler(t, t.HandleWrapperEvent)), t.LoadLocalizedMessages()
        },
        CheckUserAgent: function (t, e, i) {
            if ("Mozilla/5.0 (iPhone; CPU iPhone OS 9_3 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13E230" != window.navigator.userAgent) {
                SystemMessageManager.browserWarningShownCallback = new UHTEventBroker.Handler(i, e);
                var n = new UAParser2,
                    o = n.getBrowser(),
                    s = n.getOS();
                s.name == SystemMessageManager.OS.Android ? (SystemMessageManager.os = SystemMessageManager.OS.Android, "Chrome" != o.name && SystemMessageManager.ShowMessage(SystemMessageType.UseGoogleChrome)) : s.name == SystemMessageManager.OS.iOS && (SystemMessageManager.os = SystemMessageManager.OS.iOS, t || "Mobile Safari" != o.name && SystemMessageManager.ShowMessage(SystemMessageType.UseSafari))
            }
        },
        LoadLocalizedMessages: function () {
            var t = JSON.parse(String(UHT_SYSTEM_MESSAGES).replace(/\n/g, "<br>")),
                e = "en",
                i = UHT_CONFIG.LANGUAGE;
            null != t[i] ? (SystemMessageManager.locale = i, SystemMessageManager.localizedTexts = SystemMessageManager.Merge(t.en, t[i])) : (SystemMessageManager.locale = e, SystemMessageManager.localizedTexts = t.en), SystemMessageManager.initialized = !0, UHT_SYSTEM_MESSAGES = null;
            var n = document.getElementById("DeferredLoadingText");
            null != n && (n.innerHTML = SystemMessageManager.LocalizedText("DeferredLoading"))
        },
        Merge: function (t, e) {
            var i = {};
            for (var n in t) i[n] = t[n];
            for (var n in e) i[n] = e[n];
            return i
        },
        HandleWrapperEvent: function (t) {
            var e = JSON.parse(t),
                i = e.common,
                n = e.args;
            switch (i) {
                case "EVT_HTTP_RESPONSE":
                    return void SystemMessageManager.HandleHttpResponse(n);
                case "EVT_SHOW_MESSAGE":
                    return void SystemMessageManager.HandleShowMessage(n)
            }
        },
        HandleHttpResponse: function (t) {
            SystemMessageManager.lastMsgCode = void 0, SystemMessageManager.lastExtCode = void 0, SystemMessageManager.lastFrozen = void 0;
            var e = SystemMessageManager,
                i = SystemMessageType;
            if (200 == Number(t.httpCode)) {
                var n = t.data;
                if (null != n)
                    if (-1 == n.indexOf("unlogged")) {
                        for (var o = {}, s = String(n).split("&"), a = 0; a < s.length; ++a) {
                            var r = s[a].split("=");
                            o[r[0]] = r[1] || ""
                        }
                        if (SystemMessageManager.lastMsgCode = o.msg_code, SystemMessageManager.lastExtCode = o.ext_code, SystemMessageManager.lastFrozen = o.frozen, e.handleNoMoney && null != o.nomoney && 1 == Number(o.nomoney)) UHTInterfaceBOSS.PostMessage("balanceTooLow"), XT.GetBool(Vars.DisableNoMoneyMessageFromServer) || e.ShowMessage("i" == o.error_type ? i.NoMoney : i.NoMoneyBlocking);
                        else if (null != o.frozen) {
                            var l = SystemMessageFrozenError["t" + o.msg_code] || "",
                                u = SystemMessageFrozenInfo["t" + o.msg_code] || "",
                                h = "BAD_CODE_" + o.msg_code + "_" + o.frozen;
                            "" != l && (h = "ERROR_" + l), "" != u && (h = "INFO_" + u), globalTracking.SendEvent("uht_server_errors", "Frozen_" + h, loaderIsVisible ? 1 : 0, "ServerErrorsTracker"), e.ShowMessage(i.Frozen, !0, o.frozen)
                        } else if (null != o.reload) e.ShowMessage(i.Reload, !0, o.reload, o.link);
                        else if (null != o.disabled) e.ShowMessage(i.Disabled, !0, o.disabled);
                        else if (2 == o.techbreak) e.ShowMessage(i.Techbreak, !0);
                        else if (null != o.msg_code) {
                            var c = Number(o.msg_code);
                            1 == c ? e.ShowMessage(i.GameAvailableOnlyAtRealMode, !0) : 2 == c && e.ShowMessage(i.ProgressiveJackpotGamesAvailableOnlyAtRealMode, !0)
                        } else null != o.regulation && (e.regulationType = o.regulation, e.ShowMessage(i.Regulation, !1, o.msg));
                        CustomMsgManager.HandleResponse(n, o)
                    } else e.ShowMessage(i.PleaseLogin, !0)
            }
        },
        HandleShowMessage: function (t) {
            switch (t.message || "") {
                case "ALERT_CANT_SAVE_SETTINGS":
                    globalTracking.SendEvent("uht_server_errors", SystemMessageType.SaveSettingError, loaderIsVisible ? 1 : 0, "ServerErrorsTracker");
                    break;
                case "ALERT_CONNECTION_LOST":
                    SystemMessageManager.ShowMessage(SystemMessageType.LostConnect, !0);
                    break
            }
        }
    },
    TimeoutWindowShown = !1;
SystemMessageManager.ShowMessage = function (t, e, i, n, o) {
    if (!window.UHT_CUSTOM_LOADER) {
        var s = document.getElementById("ScaleRootLoading");
        null != s && "none" != s.style.display && (window.removeEventListener("DOMContentLoaded", window.scaleLoadingBar, !1), window.removeEventListener("resize", window.scaleLoadingBar, !1), s.style.display = "none")
    }
    if (!TimeoutWindowShown) {
        t != SystemMessageType.SaveSettingError && t != SystemMessageType.UseGoogleChrome && t != SystemMessageType.UseSafari && UHTInterfaceBOSS.OnSystemMessage(t);
        var a = null != o;
        a || t == SystemMessageType.Frozen || globalTracking.SendEvent("uht_server_errors", t, loaderIsVisible ? 1 : 0, "ServerErrorsTracker"), 1 == e && UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter, JSON.stringify({
            common: "UNLOGGED",
            type: "html5"
        }));
        var r = SystemMessageManager;
        if (null != t) {
            var l = a ? o : new SystemMessageData(t, i || null, n);
            r.MessageExists(l) || r.messagesToShow.push(l)
        }
        if (r.initialized) {
            if (null != r.showMessageTimeout && (clearTimeout(r.showMessageTimeout), r.showMessageTimeout = null), null == r.root && r.InitRootElements(), 0 != r.messagesToShow.length) {
                for (var u = 0; u < r.messagesToShow.length; ++u) {
                    var h = a ? o : SystemMessageSettings(r.messagesToShow[u].type);
                    if (null != h) {
                        if (!UHT_CONFIG.MINI_MODE && !a) {
                            for (var c = 0; c < h.buttons.length; ++c) h.buttons[c].label = r.LocalizedText(h.buttons[c].id);
                            r.messagesToShow[u].buttons = h.buttons, r.messagesToShow[u].title = r.LocalizedText(h.title || "WindowTitle"), r.messagesToShow[u].text = null != r.messagesToShow[u].text ? r.ProcessText(r.messagesToShow[u].text) : r.LocalizedText(h.id)
                        }
                        r.messagesToShow[u].id = h.id, r.scaleRoot.appendChild(r.CreateMessage(r.messagesToShow[u], h, a))
                    }
                }
                SystemMessageManager.isHiddenMode || (r.shownMessages = r.shownMessages.concat(r.messagesToShow)), r.messagesToShow = [], r.InternalShowMessage()
            }
        } else r.showMessageTimeout = setTimeout(r.ShowMessage, 200)
    }
}, SystemMessageManager.InternalShowMessage = function () {
    var t = SystemMessageManager;
    null == t.root && t.InitRootElements();
    var e = "sys-msg-root-hidden",
        i = null;
    if (XT.RegisterAndInitDone) {
        if (t.canShowMessage && t.shownMessages.length > 0 && !t.isHiddenMode) {
            var n = (i = t.shownMessages[t.shownMessages.length - 1]).id;
            if (1 == i.nonIntrusive) t.TriggerMessageClosed(), XT.SetObject(CustomNotificationVars.CustomNotification, i), XT.TriggerEvent(CustomNotificationVars.Evt_Internal_ShowNonIntrusiveNotification);
            else {
                if (!UHT_CONFIG.MINI_MODE) XT.SetObject(CustomNotificationVars.CustomNotification, i), XT.TriggerEvent(CustomNotificationVars.Evt_Internal_ShowIntrusiveNotification);
                else {
                    if (!t.msgFontLoaded[n]) return void setTimeout(t.InternalShowMessage, 100);
                    e = ["sys-msg-root-visible", n].join(" ")
                }
                t.msgOpenWasTriggered || (UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
                    common: "EVT_MESSAGE_OPENED",
                    args: null
                })), t.msgOpenWasTriggered = !0), "UseSafari" == n && t.BrowserWarningShown()
            }
        }
        t.root.className = e, null != i && (i.isCustom || Globals.isMini) && (i.element.style.top = .5 * (563 - i.element.clientHeight) + "px")
    } else setTimeout(t.InternalShowMessage, 100)
}, SystemMessageManager.SetHiddenMode = function (t) {
    SystemMessageManager.isHiddenMode = t, SystemMessageManager.InternalShowMessage()
}, SystemMessageManager.IsMessageOpen = function () {
    var t = SystemMessageManager,
        e = t.shownMessages.length > 0;
    return e && 1 == t.shownMessages[t.shownMessages.length - 1].nonIntrusive && (e = !1), e || SystemMessageManager.messagesToShow.length > 0 || RC2API.isGamePaused
}, SystemMessageManager.RCContinue = function () {
    if ("notify" == RCContinueURL_Type) {
        var t = new XMLHttpRequest;
        t.open("GET", RCContinueURL, !0), t.send(null), SystemMessageManager.RCCloseMessage()
    } else location.href = RCContinueURL
}, SystemMessageManager.RCClose = function () {
    if (null != RCCloseURL)
        if ("notify" == RCCloseURL_Type) {
            var t = new XMLHttpRequest;
            t.open("GET", RCCloseURL, !0), t.send(null), UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter, JSON.stringify({
                common: "EVT_CLOSE_GAME",
                args: null
            }))
        } else location.href = RCCloseURL;
    else UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter, JSON.stringify({
        common: "EVT_CLOSE_GAME",
        args: null
    }))
}, SystemMessageManager.RCHistory = function () {
    if (!UHTInterfaceBOSS.HandleGameHistory()) {
        var t = ServerOptions.gameHistory;
        null != RCHistoryURL && (ServerOptions.gameHistory = RCHistoryURL), null != UHT_GAME_CONFIG_SRC.externalHistoryUrl && (ServerOptions.gameHistory = UHT_GAME_CONFIG_SRC.externalHistoryUrl), UHT_GAME_CONFIG_SRC.openHistoryInWindow ? window.location.assign(ServerOptions.gameHistory) : UHT_GAME_CONFIG.openHistoryInTab ? window.open(ServerOptions.gameHistory) : (new GameHistoryWindow).Open(), ServerOptions.gameHistory = t
    }
}, SystemMessageManager.RCCloseMessage = function () {
    SystemMessageManager.CloseMessage(), RC_timer = (new Date).getTime(), RC_WindowShown = !1
}, SystemMessageManager.CloseMessage = function () {
    var t = SystemMessageManager;
    t.scaleRoot.removeChild(t.scaleRoot.lastChild), 1 == t.shownMessages.pop().nonIntrusive ? XT.TriggerEvent(CustomNotificationVars.Evt_Internal_HideNonIntrusiveNotification) : XT.TriggerEvent(CustomNotificationVars.Evt_Internal_HideIntrusiveNotification), t.InternalShowMessage(), t.shownMessages.length < 1 && setTimeout(t.TriggerMessageClosed, 1)
}, SystemMessageManager.TriggerMessageClosed = function () {
    UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
        common: "EVT_MESSAGE_CLOSED",
        args: null
    })), SystemMessageManager.msgOpenWasTriggered = !1
}, SystemMessageManager.MessageExists = function (t) {
    for (var e = SystemMessageManager.shownMessages, i = 0; i < e.length; ++i)
        if (e[i].equals(t)) return !0;
    e = SystemMessageManager.messagesToShow;
    for (var n = 0; n < e.length; ++n)
        if (e[n].equals(t)) return !0;
    return !1
}, SystemMessageManager.CreateMessage = function (t, e, i) {
    var n = SystemMessageManager,
        o = [],
        s = document.createElement("p");
    s.className = "sys-msg-title", s.innerHTML = i ? n.ProcessText(e.title) : n.LocalizedText(e.title || "WindowTitle"), o.push(s.innerHTML);
    var a = document.createElement("table");
    a.className = "sys-msg-text";
    var r = null != t.text ? n.ProcessText(t.text) : n.LocalizedText(e.id);
    a.innerHTML = ["<tbody><tr><td>", r, "</td></tr></tbody>"].join(""), o.push(r);
    var l = document.createElement("p");
    l.className = "sys-msg-buttons";
    for (var u = 0; u < e.buttons.length; ++u) {
        var h = document.createElement("a");
        h.className = ["sys-msg-button", e.buttons[u].id].join(" "), h.innerHTML = i ? n.ProcessText(e.buttons[u].label) : n.LocalizedText(e.buttons[u].id), o.push(h.innerHTML), n.SetBtnHandlers(h, e.buttons[u].handlers, t.args), l.appendChild(h)
    }
    var c = document.createElement("div");
    return c.id = e.id, c.className = i ? e.className : "sys-msg", c.appendChild(s), c.appendChild(a), c.appendChild(l), 1 != SystemMessageManager.msgFontLoaded[e.id] && (n.msgFontLoaded[e.id] = !1, FontLoader.LoadFont(n.fontName, null, {
        force: !0,
        text: o.join("")
    }), FontLoader.AddHandler(n.fontName, (function () {
        n.msgFontLoaded[e.id] = !0
    }), n)), t.element = c, t.isCustom = i, c
}, SystemMessageManager.InitRootElements = function () {
    var t = SystemMessageManager;
    null == t.root && (t.root = document.createElement("div"), t.root.className = "sys-msg-root-hidden", t.root.id = "SysMsgRoot_" + t.locale, t.scaleRoot = document.createElement("div"), t.scaleRoot.className = "sys-msg-scale-root", t.root.appendChild(t.scaleRoot), document.body.appendChild(t.root), t.HandleResize(), window.addEventListener("resize", t.HandleResize, !1), t.os == t.OS.iOS && t.root.addEventListener("touchmove", t.HandleTouchMove, !1))
}, SystemMessageManager.HandleTouchMove = function (t) {
    return t.returnValue = !1, t.cancelBubble = !0, t.preventDefault && (t.preventDefault(), t.stopPropagation()), !1
}, SystemMessageManager.SetBtnHandlers = function (t, e, i) {
    var n = SystemMessageManager;
    t.addEventListener("click", n.GetBtnClickHandler(e, i), !1), t.addEventListener("touchstart", n.AddBtnActiveStyle, !1), t.addEventListener("touchend", n.RemoveBtnActiveStyle, !1), t.addEventListener("touchcancel", n.RemoveBtnActiveStyle, !1), t.addEventListener("touchleave", n.RemoveBtnActiveStyle, !1), t.addEventListener("mousedown", n.AddBtnActiveStyle, !1), t.addEventListener("mouseup", n.RemoveBtnActiveStyle, !1), t.addEventListener("mouseout", n.RemoveBtnActiveStyle, !1), t.addEventListener("mouseleave", n.RemoveBtnActiveStyle, !1)
}, SystemMessageManager.AddBtnActiveStyle = function () {
    var t = this || null;
    null != t && (/\bactive\b/.test(t.className) || (t.className = [t.className, "active"].join(" ")))
}, SystemMessageManager.RemoveBtnActiveStyle = function () {
    var t = this || null;
    null != t && /\bactive\b/.test(t.className) && (t.className = String(t.className).replace(/\bactive\b/g, "").replace(/^\s/g, "").replace(/\s$/g, "").replace(/\s\s/g, " "))
}, SystemMessageManager.GetBtnClickHandler = function (t, e) {
    return function () {
        for (var i = 0; i < t.length; ++i) t[i](e)
    }
}, SystemMessageManager.HandleResize = function () {
    var t = 1;
    t = window.innerWidth > window.innerHeight ? window.innerHeight / 567 : window.innerWidth / 567;
    var e = ["-moz-transform: scale(VAL)", "-webkit-transform: scale(VAL)", "-ms-transform: scale(VAL)", "-o-transform: scale(VAL)", "transform: scale(VAL)"];
    if (UHT_DEVICE_TYPE.DESKTOP && (t = t > 1 ? 1 : t), Globals.isMini) {
        var i = document.getElementsByClassName("sys-msg-title")[0],
            n = 900;
        null != i && null != i.offsetWidth && (n = i.offsetWidth), n * t > window.innerWidth && (t = window.innerWidth / n)
    }
    for (var o = 0; o < e.length; ++o) e[o] = e[o].replace("VAL", t);
    e.push("width:" + window.innerWidth / t + "px"), e.push("margin-top:" + (window.innerHeight - 567 * t) / 2 + "px"), SystemMessageManager.scaleRoot.setAttribute("style", e.join(";"))
}, SystemMessageManager.ProcessText = function (t) {
    return t = decodeURIComponent(t).replace(/\+/g, " "), !UHT_CONFIG.MINI_MODE && (t = t.replace(/<br/gi, "\n<br").replace(/<p/gi, "\n<p").replace(/(<([^>]+)>)/gi, "").replace(/\n\n/gi, "\n").replace(/^\n/gi, "").replace(/\n$/gi, "")), t
}, SystemMessageManager.LocalizedText = function (t) {
    if (null == SystemMessageManager.localizedTexts) return "*" + t + "*";
    var e = SystemMessageManager.localizedTexts[t];
    return null == e ? "**" + t + "**" : SystemMessageManager.ProcessText(e)
}, SystemMessageManager.RealMoney = function () {
    UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter, JSON.stringify({
        common: "EVT_OPEN_CASHIER",
        args: null
    }))
}, SystemMessageManager.CloseGame = function () {
    UHTEventBroker.Trigger(UHTEventBroker.Type.Adapter, JSON.stringify({
        common: "EVT_CLOSE_GAME",
        args: null
    }))
}, SystemMessageManager.Reload = function (t) {
    location.assign(t)
}, SystemMessageManager.BrowserWarningShown = function () {
    SystemMessageManager.browserWarningShownCallback.call()
}, SystemMessageManager.RegulationContinuePressed = function () {
    SystemMessageManager.SendRegulationChoice(!0)
}, SystemMessageManager.RegulationStopPressed = function () {
    SystemMessageManager.SendRegulationChoice(!1)
}, SystemMessageManager.SendRegulationChoice = function (t) {
    var e = new XMLHttpRequest;
    e.open("POST", UHT_GAME_CONFIG.REGULATION, !0), e.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), e.onreadystatechange = function () {
        if (4 == e.readyState) {
            var i = {};
            try {
                i = JSON.parse(_string.Trim(e.responseText))
            } catch (t) {}
            "OK" == i.status ? t ? SystemMessageManager.CloseMessage() : SystemMessageManager.RCClose() : setTimeout((function () {
                SystemMessageManager.SendRegulationChoice(t)
            }), 1e3)
        }
    };
    var i = [];
    i.push(["action", t ? "RESUME" : "STOP"].join("=")), i.push(["type", SystemMessageManager.regulationType].join("=")), e.send(i.join("&"))
}, SystemMessageManager.SendTimeout = function () {
    var t = new XMLHttpRequest;
    t.open("POST", UHT_GAME_CONFIG.LOGOUT, !0), t.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), t.onreadystatechange = function () {
        4 == t.readyState && ("OK" == t.responseText || setTimeout((function () {
            SystemMessageManager.SendTimeout()
        }), 2e3))
    }, t.send()
}, SystemMessageManager.OnLoad();
var LastInteractionTime = (new Date).getTime();
SystemMessageManager.UserInteraction = function () {
    LastInteractionTime = (new Date).getTime()
};
var RC_timer = -1,
    RC_sessionTimer = -1,
    RC_WindowShown = !1;

function RC_CheckShowWindow() {
    if (-1 != RC_timer && null != UHT_GAME_CONFIG.rcSettings && "RC0" == UHT_GAME_CONFIG.rcSettings.rctype && !RC_WindowShown) {
        var t = (new Date).getTime(),
            e = UHT_GAME_CONFIG.rcSettings.interval,
            i = (0 | Math.floor((t - RC_timer) / 6e4)) + (UHT_GAME_CONFIG.rcSettings.elapsed || 0),
            n = 0 | Math.floor((t - RC_sessionTimer) / 6e4);
        i >= e && (SystemMessageManager.ShowMessage(SystemMessageType.ClientRegulation, !1, UHT_GAME_CONFIG.rcSettings.msg.replace("{0}", e.toString()).replace("{1}", n)), UHT_GAME_CONFIG.rcSettings.elapsed = 0, RC_WindowShown = !0)
    }
}

function CheckTimeout() {
    "-1" == UHT_GAME_CONFIG.sessionTimeout || ServerOptions.isReplay || ((new Date).getTime() - LastInteractionTime > 60 * UHT_GAME_CONFIG.sessionTimeout * 1e3 ? (TimeoutWindowShown || (SystemMessageManager.ShowMessage(SystemMessageType.Timeout, !0), SystemMessageManager.SendTimeout()), TimeoutWindowShown = !0) : setTimeout(CheckTimeout, 1e4))
}

function IPhone7Helper() {}

function IPhone8Helper() {
    IPhone7Helper.call(this), this.root = null, this.canvas = null, this.isLandscape = !1, this.clientHeight = 0, this.timeoutOrientationChanged = null
}
setTimeout(CheckTimeout, 6e4), IPhone8Helper.prototype = Object.create(IPhone7Helper.prototype), IPhone8Helper.prototype.constructor = IPhone8Helper, IPhone8Helper.prototype.GameStarted = function () {
    var t = window.UHTLogoIsVisible,
        e = null == window.loaderIsVisible || window.loaderIsVisible;
    return !t && !e
}, IPhone8Helper.prototype.CreateElement = function (t, e) {
    var i = document.createElement("div");
    return i.className = t, e && document.body.appendChild(i), i
}, IPhone8Helper.prototype.InitElements = function () {
    var t = this;
    this.CreateElement("fullscreen-reserve", !0), this.root = this.CreateElement("fullscreen-root-hidden", !0), this.root.addEventListener("touchend", (function () {
        t.HandleTouchEnd.apply(t, arguments)
    }), !1), this.root.addEventListener("touchcancel", (function () {
        t.HandleTouchEnd.apply(t, arguments)
    }), !1), this.root.addEventListener("gesturestart", (function () {
        t.PreventEvent.apply(t, arguments)
    }), !1), this.root.addEventListener("gesturechange", (function () {
        t.PreventEvent.apply(t, arguments)
    }), !1), this.root.addEventListener("gestureend", (function () {
        t.PreventEvent.apply(t, arguments)
    }), !1), this.canvas = document.getElementsByTagName("canvas")[0], this.canvas.style.position = "fixed", document.body.style.overflowY = "scroll", document.body.style.scrollBehavior = "smooth"
}, IPhone8Helper.prototype.PreventEvent = function (t) {
    t.preventDefault()
}, IPhone8Helper.prototype.ResizeHandler = function (t) {
    var e = this;
    if (this.GameStarted() && !Globals.WatchingReplay) {
        null == this.root && this.InitElements(), this.isLandscape = window.innerWidth > window.innerHeight;
        var i = this.isLandscape ? Math.min(screen.width, screen.height) : Math.max(screen.width, screen.height);
        this.clientHeight = this.GetClientHeight(), this.isLandscape ? this.clientHeight <= window.innerHeight && window.innerHeight == i ? (this.UpdateStyle(!1), UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
            common: "EVT_FULLSCREEN_OVERLAY_HIDDEN",
            args: null
        })), window.scrollTo(0, 0)) : (this.UpdateStyle(!0), UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
            common: "EVT_FULLSCREEN_OVERLAY_SHOWN",
            args: null
        }))) : this.clientHeight < window.innerHeight && window.innerHeight <= i ? (this.UpdateStyle(!1), UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
            common: "EVT_FULLSCREEN_OVERLAY_HIDDEN",
            args: null
        })), window.scrollTo(0, 0)) : (this.UpdateStyle(!0), UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
            common: "EVT_FULLSCREEN_OVERLAY_SHOWN",
            args: null
        }))), this.isLandscape ? null != this.timeoutOrientationChanged && clearTimeout(this.timeoutOrientationChanged) : this.QueueFullscreenHide(), void 0 !== t && setTimeout((function () {
            e.ResizeHandler()
        }), 100)
    } else setTimeout((function () {
        e.ResizeHandler()
    }), 100)
}, IPhone8Helper.prototype.QueueFullscreenHide = function () {
    null != this.timeoutOrientationChanged && clearTimeout(this.timeoutOrientationChanged), this.timeoutOrientationChanged = setTimeout(this.HideFullScreen, 3e3, this)
}, IPhone8Helper.prototype.HideFullScreen = function (t) {
    t.UpdateStyle(!1), UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
        common: "EVT_FULLSCREEN_OVERLAY_HIDDEN",
        args: null
    }))
}, IPhone8Helper.prototype.UpdateStyle = function (t) {
    for (var e = String(document.documentElement.className).replace("fullscreen-visible", "").split(" "), i = [], n = 0; n < e.length; ++n) "" != e[n] && i.push(e[n]);
    t && i.push("fullscreen-visible"), document.documentElement.className = i.join(" "), this.root.className = t ? "fullscreen-root-visible" : "fullscreen-root-hidden"
}, IPhone8Helper.prototype.HandleTouchEnd = function () {
    window.scrollTo(0, 0)
}, IPhone8Helper.prototype.ScrollHandler = function () {
    if (this.clientHeight != this.GetClientHeight()) {
        var t = document.createEvent("HTMLEvents");
        t.initEvent("resize", !0, !0), window.dispatchEvent(t)
    }
}, IPhone8Helper.prototype.GetClientHeight = function () {
    return document.documentElement.clientHeight
};
var FullScreenIPhoneHelper = {
    Init: function () {
        if (!UHT_FRAME && ("iPhone" == UHT_UA_INFO.device.model && "Mobile Safari" == UHT_UA_INFO.browser.name))
            if (7 == _number.otoui(UHT_UA_INFO.os.version)) var t = new IPhone7Helper;
            else {
                t = new IPhone8Helper;
                window.addEventListener("resize", (function () {
                    t.ResizeHandler.apply(t, arguments)
                }), !1), t.ResizeHandler()
            }
    },
    USING_NEW_IMPLEMENTATION: !0
};
! function () {
    var t = "undefined" != typeof Element && "ALLOW_KEYBOARD_INPUT" in Element,
        e = function () {
            for (var t, e, i = [
                    ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],
                    ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"],
                    ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"],
                    ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"],
                    ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]
                ], n = 0, o = i.length, s = {}; n < o; n++)
                if ((t = i[n]) && t[1] in document) {
                    for (n = 0, e = t.length; n < e; n++) s[i[0][n]] = t[n];
                    return s
                } return !1
        }(),
        i = {
            request: function (i) {
                if ("iOS" != UHT_UA_INFO.os.name) {
                    var n = e.requestFullscreen;
                    i = i || document.documentElement, "Android" == UHT_UA_INFO.os.name && "Chrome" == UHT_UA_INFO.browser.name && _number.otoui(UHT_UA_INFO.browser.version) >= 71 ? i[n]({
                        navigationUI: "hide"
                    }) : /5\.1[\.\d]* Safari/.test(navigator.userAgent) ? i[n]() : i[n](t && Element.ALLOW_KEYBOARD_INPUT)
                }
            },
            exit: function () {
                document[e.exitFullscreen]()
            },
            toggle: function (t) {
                this.isFullscreen ? this.exit() : this.request(t)
            },
            raw: e
        };
    e ? (Object.defineProperties(i, {
        isFullscreen: {
            get: function () {
                return !!document[e.fullscreenElement]
            }
        },
        element: {
            enumerable: !0,
            get: function () {
                return document[e.fullscreenElement]
            }
        },
        enabled: {
            enumerable: !0,
            get: function () {
                return !!document[e.fullscreenEnabled]
            }
        }
    }), window.screenfull = i) : window.screenfull = !1
}();
var FullScreenManager = {};

function IPhoneChromeFullscreen() {
    this.root = null, this.reserve = null, this.minHeight = -1, this.maxHeight = -1, this.topBarHeightLand = -1, this.topBarHeightPort = -1, this.isInit = !1, this.isLand = !1, this.isVisible = !1, this.isResized = !1, this.gameJustStarted = !0, this.timer = 0, this.CreateElement = IPhone8Helper.prototype.CreateElement, this.UpdateStyle = IPhone8Helper.prototype.UpdateStyle, this.GameStarted = IPhone8Helper.prototype.GameStarted
}
FullScreenManager.overlay = null, FullScreenManager.reserve = null, FullScreenManager.RequestFullscreen = function () {
    window.screenfull.isFullscreen || window.screenfull.request()
}, FullScreenManager.ExitFullscreen = function () {
    window.screenfull.isFullscreen && window.screenfull.exit()
}, FullScreenManager.IsFullscreen = function () {
    return window.screenfull.isFullscreen
}, FullScreenManager.Init = function () {
    if (UHT_DEVICE_TYPE.MOBILE && (null == UHT_GAME_CONFIG_SRC.allowFullscreen || window.top == window || UHT_GAME_CONFIG_SRC.allowFullscreen)) {
        var t = FullScreenManager,
            e = globalColliderInputManager;
        null != e ? (window.screenfull && window.screenfull.enabled && e.addEventHandler(ColliderEvent.ButtonUp, new EventHandler(t, t.RequestFullscreen)), FullScreenIPhoneHelper.Init()) : setTimeout(t.Init, 50)
    }
}, FullScreenManager.OnLoad = function () {
    var t = FullScreenManager;
    t.Init(), window.RequestFullscreen = t.RequestFullscreen, window.ExitFullscreen = t.ExitFullscreen, window.IsFullscreen = t.IsFullscreen
}, FullScreenManager.OnLoad(), IPhoneChromeFullscreen.instance = null, IPhoneChromeFullscreen.prototype.UpdateReserve = function () {
    this.reserve.style.height = (this.isLand ? this.minHeight : this.maxHeight) + Math.max(0, window.scrollY) + "px"
}, IPhoneChromeFullscreen.prototype.FixScroll = function () {
    window.scrollY < this.scrollY && window.scrollTo(0, this.scrollY), this.UpdateReserve()
}, IPhoneChromeFullscreen.prototype.Init = function () {
    var t = Math.min(screen.width, screen.height),
        e = Math.max(screen.width, screen.height);
    320 == t && 568 == e && (this.topBarHeightLand = this.topBarHeightPort = this.scrollY = 76), 375 == t && 667 == e && (this.topBarHeightLand = this.topBarHeightPort = this.scrollY = 76), 414 == t && 736 == e && (this.topBarHeightLand = this.topBarHeightPort = this.scrollY = 76), 375 == t && 812 == e && (this.topBarHeightLand = 56, this.topBarHeightPort = this.scrollY = 100), 414 == t && 896 == e && (this.topBarHeightLand = 56, this.topBarHeightPort = this.scrollY = 100), this.minHeight = t, this.maxHeight = e, this.root = this.CreateElement("fullscreen-root-hidden", !0), this.reserve = document.createElement("div"), document.body.insertBefore(this.reserve, document.getElementsByTagName("canvas")[0]), this.UpdateReserve(), this.isInit = !0
}, IPhoneChromeFullscreen.prototype.IsMinimalMode = function () {
    return this.isLand = window.innerWidth > window.innerHeight, (this.isLand ? this.minHeight : this.maxHeight) - window.innerHeight < (this.isLand ? this.topBarHeightLand : this.topBarHeightPort)
}, IPhoneChromeFullscreen.prototype.OnUHTResize = function (t) {
    Globals.WatchingReplay || (this.isInit || this.Init(), this.IsMinimalMode() ? this.isVisible && (this.isVisible = !1, this.UpdateStyle(!1), UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
        common: "EVT_FULLSCREEN_OVERLAY_HIDDEN",
        args: null
    }))) : this.isVisible || (window.scrollTo(0, 0), this.UpdateReserve(), this.isVisible = !0, this.UpdateStyle(!0), UHTEventBroker.Trigger(UHTEventBroker.Type.Game, JSON.stringify({
        common: "EVT_FULLSCREEN_OVERLAY_SHOWN",
        args: null
    }))), this.isResized = !0)
}, IPhoneChromeFullscreen.prototype.OnUHTUpdate = function (t) {
    if (this.gameJustStarted && this.GameStarted() && (this.OnUHTResize(null), this.gameJustStarted = !1), this.isInit) return this.isResized ? (this.isResized = !1, void(this.timer = 0)) : void(this.IsMinimalMode() && (this.timer > 1 ? (this.timer = 0, this.FixScroll()) : this.timer += Time.deltaTime))
}, IPhoneChromeFullscreen.OnLoad = function () {
    if (!UHT_FRAME && "iPhone" == UHT_UA_INFO.device.model && "Chrome" == UHT_UA_INFO.browser.name) {
        var t = IPhoneChromeFullscreen.instance = new IPhoneChromeFullscreen;
        EventManager.AddHandler("EVT_UHT_RESIZE", t.OnUHTResize, t), EventManager.AddHandler("EVT_UHT_UPDATE", t.OnUHTUpdate, t)
    }
};
var NoSleep = {
    os: null,
    uap: null,
    browserName: "",
    Android: function () {
        var t = document.createElement("source");
        t.src = "data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK", t.type = "video/webm";
        var e = document.createElement("source");
        e.src = "data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw", e.type = "video/mp4";
        var i = document.createElement("video");
        i.setAttribute("loop", ""), i.appendChild(t), i.appendChild(e), i.play(), renderCanvas.removeEventListener("touchend", NoSleep.Android, !1), NoSleep = null
    },
    IOS10: function () {
        var t = document.createElement("video");
        t.setAttribute("playsinline", ""), t.setAttribute("src", "data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"), t.addEventListener("timeupdate", (function () {
            t.currentTime > .5 && (t.currentTime = Math.random())
        })), t.play(), document.removeEventListener("touchend", NoSleep.IOS10, !1), NoSleep = null
    },
    Init: function () {
        if (null == NoSleep.uap && (NoSleep.uap = new UAParser2, NoSleep.os = NoSleep.uap.getOS() || {
                name: "",
                version: "0"
            }, NoSleep.browserName = NoSleep.uap.getBrowser().name), "Android" != NoSleep.os.name || "Chrome" != NoSleep.uap.getBrowser().name || IS_UCBROWSER) "iOS" != NoSleep.os.name || -1 == NoSleep.browserName.indexOf("Safari") && -1 == NoSleep.browserName.indexOf("Chrome") || parseFloat(NoSleep.os.version) >= 10 && document.addEventListener("touchend", NoSleep.IOS10, !1);
        else {
            if (null == renderCanvas) return void setTimeout(NoSleep.Init, 100);
            renderCanvas.addEventListener("touchend", NoSleep.Android, !1)
        }
    }
};
NoSleep.Init();