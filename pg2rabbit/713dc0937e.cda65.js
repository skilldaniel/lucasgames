!function(){var t;!function(t){t.i="window",t.o="self"}(t||(t={}));var e=(0,eval)("this"),i=(e[t.o],e[t.i]);System.register(["react","common"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.default,n=t.useEffect},function(t){r=t.Utils}],execute:function(){var o={},a={};Object.defineProperty(a,"__esModule",{value:!0});var s=__importDefault(e),l=shell.I18n,p={container:{display:"flex",width:"inherit",height:"50px",margin:"0 auto 5px auto",justifyContent:"center",alignItems:"center",paddingLeft:"10px",paddingRight:"10px"},labels:{fontSize:"11px",textAlign:"center",wordBreak:"break-word"},separator:{width:"2px",height:"12px",marginLeft:"10px",marginRight:"10px"}},c={labels:{color:"rgba(255, 255, 255, 0.4)"},separator:{backgroundColor:"#282833"}};a.default=function(t){var e=t.betSizeTitle?t.betSizeTitle:l.t("History.HistoryBetSize"),i=t.betLevelTitle?t.betLevelTitle:l.t("History.HistoryBetLevel"),n=c,r=Object.assign({},p.labels,n.labels),o=Object.assign({},p.separator,n.separator);return r.color=t.labelColor?t.labelColor:r.color,o.backgroundColor=t.seperatorColor?t.seperatorColor:o.backgroundColor,s.default.createElement("div",{id:"bet-information-container",style:p.container},function(t){if(t.totalRoundCount&&t.currentRoundCount){var e=t.roundsTitlei18nKey?t.roundsTitlei18nKey:"History.HistoryDetailItemRoundLabel",i=l.t(e,{currCount:t.currentRoundCount.toString(),maxCount:t.totalRoundCount.toString()}),n=t.themeColor?t.themeColor:"#9C9B9B";return s.default.createElement("div",{id:"rounds-label",style:Object.assign({},p.labels,{color:n})},i)}}(t),function(t){if(t.totalRoundCount&&t.currentRoundCount){var e=Object.assign({},p.separator,c.separator);return s.default.createElement("div",{id:"separator",style:e})}}(t),s.default.createElement("div",{id:"bet-size-label",style:r},e+" "+t.betSize),s.default.createElement("div",{id:"separator",style:o}),s.default.createElement("div",{id:"bet-level-label",style:r},i+" "+t.betLevel))};var u={};Object.defineProperty(u,"__esModule",{value:!0});var h=__importDefault(e),d=shell.I18n,x={noComboContainer:{display:"flex",width:"inherit",height:"48px",justifyContent:"center",alignItems:"center",margin:"0 auto"},text:{fontSize:"14px"}},f={color:"#CCCCCC"};u.default=function(t){var e=Object.assign({},x.text,f);return e.color=t.labelColor?t.labelColor:e.color,h.default.createElement("div",{id:"no-winning-combination-container",style:x.noComboContainer},h.default.createElement("div",{id:"no-winning-combination-text",style:e},d.t("History.HistoryNoWinning")))};var g={},b={},y={},m={};Object.defineProperty(m,"__esModule",{value:!0});var v={writable:!1,value:void 0,enumerable:!1,configurable:!1};function _(t,e,i){for(var n=t.length,r=0;r<n;r++){var o=t[r];o&&o(e,i)}}m.unwatch=function(t,e,i){if("object"!=typeof t||null===t)throw Error("Invalid parameter at index 0");if("string"!=typeof e||""===e)throw Error("Invalid parameter at index 1");var n=t.watch_eventPool;if(n){var r=n[e];if(r)if(void 0===i)r.length=0;else{var o=r.indexOf(i);-1!==o&&r.splice(o,1)}}},m.watch=function(t,e,i){if("object"!=typeof t||null===t)throw Error("Invalid parameter at index 0");if("string"!=typeof e||""===e)throw Error("Invalid parameter at index 1");if("function"!=typeof i)throw Error("Invalid parameter at index 2");var n=t.watch_eventPool;if(!n){if(!Object.isExtensible(t))throw Error("Object is not extensible");n=v.value=Object.create(null),Object.defineProperty(t,"watch_eventPool",v)}var r=n[e];if(!r){var o=Object.getOwnPropertyDescriptor(t,e);if(!o)throw Error("Object property not exists");if(!1===o.writable||void 0!==o.get&&void 0===o.set)throw Error("Object property is readonly");if(!o.configurable)throw Error("Object property is not configurable");r=n[e]=[],function(t,e,i){if(i.writable){var n=i.value;i.get=function(){return n},i.set=function(t){var i=n;n=t,_(this.watch_eventPool[e],t,i)},delete i.value,delete i.writable}else if(i.get){var r=i.set;i.set=function(t){r.call(this,t),_(this.watch_eventPool[e],this[e])}}else{var o=i.set;i.set=function(t){o.call(this,t),_(this.watch_eventPool[e],t)}}Object.defineProperty(t,e,i)}(t,e,o)}if(-1!==r.indexOf(i))throw Error("Watch callback exists");r.push(i)},Object.defineProperty(y,"__esModule",{value:!0});var w=m,k=new(function(){function t(){this.tooltipProps={isActive:!1,title:"",desc:"",posY:0}}return t.prototype.observe=function(t,e,i){var n,r,o=this;return i&&void 0!==this[t]&&e(this[t],this),(n=this,r=t,function(t){var e=t.bind(void 0,void 0);w.watch(n,r,e)})((function(t,i,n){t||void 0===i||JSON.stringify(i)===JSON.stringify(n)||e(i,o)}))},t.prototype.dispose=function(t){w.unwatch(this,t)},t.prototype.update=function(t){this.tooltipProps=t},t}());y.tooltipViewModel=k,Object.defineProperty(b,"__esModule",{value:!0});var C=__importDefault(e),H=y,O={wrappedContent:{width:"285px",height:"48px",alignSelf:"start"},infoIcon:{transform:"translate(270px, -48.5px) scale(0.3333)",opacity:"40%"}},S=function(t){function e(e){var i=t.call(this,e)||this;return i.l=void 0,i.u=!1,i}return __extends(e,t),e.prototype.componentDidMount=function(){this.h()},e.prototype.componentDidUpdate=function(){this.h()},e.prototype.h=function(){var t=this;this.u=!1,clearTimeout(this.l),this.l=setTimeout((function(){t.u=!0}),0)},e.prototype.componentWillUnmount=function(){clearTimeout(this.l)},e.prototype.v=function(t,e){return void 0===e&&(e=!1),(e?t.map((function(t){return shell.I18n.t(t)})):t).join(" x ")},e.prototype._=function(t){var e=this;if(this.u){var i=t.currentTarget,n=i.parentNode,r=Array.prototype.indexOf.call(n.children,i),o=48*(n.children.length-1-r),a=Object.keys(this.props.winCalculation),s=a.map((function(t){return e.props.winCalculation[t]})),l={isActive:!0,posY:o,title:this.v(a,!0),desc:this.v(s)};H.tooltipViewModel.currentTarget=i,H.tooltipViewModel.update(l)}},e.prototype.k=function(t){t.currentTarget.style.opacity="0.8"},e.prototype.C=function(t){t.currentTarget.style.opacity="1"},e.prototype.render=function(){return C.default.createElement("div",{style:O.wrappedContent,onMouseDown:this.k.bind(this),onMouseUp:this.C.bind(this),onTouchStart:this.k.bind(this),onTouchEnd:this.C.bind(this),onClick:this._.bind(this)},this.props.children,C.default.createElement("div",{className:"gh_basic_sprite gh_ic_nav_info_s",style:O.infoIcon}))},e}(C.default.Component);b.default=S,Object.defineProperty(g,"__esModule",{value:!0});var L=__importDefault(e),I=__importDefault(b),j={paylineContainer:{display:"flex",width:"inherit",justifyContent:"space-between",alignItems:"center",height:"48px",margin:"0 auto"},paylineNumberImageWrapper:{display:"flex",alignItems:"center",height:"inherit"},paylineLabels:{display:"flex",flexDirection:"column"},paylineImage:{width:"38px",height:"24px"},winLineLabel:{width:"25px",fontSize:"14px",textAlign:"left"},winValueLabel:{width:"100px",fontSize:"14px",textAlign:"right"},subValueLabel:{width:"100px",fontSize:"11px",textAlign:"right"}},z={winLineLabel:{color:"#CCCCCC"},winValueLabel:{color:"#CCCCCC"},subValueLabel:{color:"#9C9B9B"}};g.default=function(t){var e=z,i=Object.assign({},j.winLineLabel,e.winLineLabel),n=Object.assign({},j.winValueLabel,e.winValueLabel);i.color=t.winLineLabelColor?t.winLineLabelColor:i.color,n.color=t.winValueLabelColor?t.winValueLabelColor:n.color;var r=L.default.createElement("div",{id:"payline-container",style:j.paylineContainer},L.default.createElement("div",{id:"payline-number-sprite-wrapper",style:j.paylineNumberImageWrapper},L.default.createElement("div",{id:"win-line-number-label",style:i},("0"+parseInt(t.winLine,10).toString()).slice(-2)),function(t){var e=t.paylineSpriteClassName,i=t.paylineImageMap,n=t.paylineImageStyle,r=t.winLine;if(i){var o=i[r],a=e||"",s={width:j.paylineImage.width,height:j.paylineImage.height},l=n||{};return L.default.createElement("span",{className:a+" "+o,style:Object.assign({},s,l)})}return null}(t)),L.default.createElement("div",{id:"payline-labels",style:j.paylineLabels},L.default.createElement("div",{id:"payline-win-value-label",style:n},t.winValue),function(t){var e=t.subValue,i=t.subValueLabelColor,n=Object.assign({},j.subValueLabel,z.subValueLabel);return n.color=i||n.color,e?L.default.createElement("div",{id:"payline-subvalue-label",style:n},e):null}(t)));return t.winCalculation?L.default.createElement(I.default,{winCalculation:t.winCalculation},r):r};var D={};Object.defineProperty(D,"__esModule",{value:!0});var A=__importDefault(e),N={payoutTitleContainer:{display:"flex",width:"inherit",height:"32px",justifyContent:"center",alignItems:"center",margin:"0 auto"},line:{width:"120px"},text:{textAlign:"center",width:"72px",fontSize:"11px"}},P={line:{backgroundColor:"#282833",height:"2px"},text:{color:"#9C9B9B"}};D.default=function(t){var e=P,i=Object.assign({},N.line,e.line),n=Object.assign({},N.text,e.text);return i.backgroundColor=t.lineColor?t.lineColor:i.backgroundColor,n.color=t.labelColor?t.labelColor:n.color,A.default.createElement("div",{id:"payout-title-container",style:N.payoutTitleContainer},A.default.createElement("div",{className:"line",style:i}),A.default.createElement("div",{id:"payout-text",style:n},shell.I18n.t("History.HistoryPayout")),A.default.createElement("div",{className:"line",style:i}))};var M={};Object.defineProperty(M,"__esModule",{value:!0});var T=__importDefault(e),F=shell.I18n,R={display:"flex",width:"inherit",height:"50px",margin:"0 auto",justifyContent:"center",alignItems:"center"},B={display:"flex",flexDirection:"column",alignItems:"center"},W={textAlign:"center",display:"inline-table"},E={textAlign:"center",fontSize:"11px"},Y={container:{backgroundColor:"#24242E"},valueLabel:{color:"#9C9B9B"},titleLabel:{color:"#9C9B9B"}},$={container:{backgroundColor:"#262121"},valueLabel:{color:"#A7A6A6"},titleLabel:{color:"rgba(167,166,166, 0.5)"}};function V(t){var e=Object.assign({},B,{width:t.size,marginLeft:t.marginLeft}),i=t.useSmallFont?{fontSize:"11px"}:{fontSize:"12px"};i.lineHeight=t.valueLineHeight?t.valueLineHeight:i.fontSize;var n=t.isCard?$:Y,r=Object.assign({},W,n.valueLabel),o=Object.assign({},E,n.titleLabel);return r.color=t.valueLabelColor?t.valueLabelColor:r.color,o.color=t.keyLabelColor?t.keyLabelColor:o.color,T.default.createElement("div",{className:"transaction-detail-item",style:e},T.default.createElement("div",{id:"detail-item-holder",style:{height:"23px",display:"flex",justifyContent:"center",alignItems:"center"}},T.default.createElement("div",{id:t.keyName+"-item-value",style:Object.assign({},r,i)},t.value)),T.default.createElement("div",{id:t.keyName+"-item-key",style:o},t.keyName))}function G(t,e){return t?e+"("+t+")":""+e}function X(t,e){if(void 0===e&&(e=14),t.length>e&&t.indexOf(" ")<0){var i=Math.floor(t.length/2);return t.slice(0,i)+" "+t.slice(i,t.length)}return t}M.default=function(t){var e=t.isCard?$:Y,i=Object.assign({},R,e.container),n=G(t.currencySymbol,F.t("History.HistoryRecordPayout")),r=G(t.currencySymbol,F.t("History.HistoryRecordWin")),o=G(t.currencySymbol,F.t("History.HistoryRecordBalance")),a=t.transactionId.length>14||t.betValue.length>10||t.profitValue.length>10||t.balance.length>16,s=X(t.transactionId);return i.backgroundColor=t.backgroundColor?t.backgroundColor:i.backgroundColor,T.default.createElement("div",{id:"transaction-details-container",style:i},T.default.createElement(V,{keyName:F.t("History.HistoryRecordTransaction"),value:s,size:"27%",useSmallFont:a,valueLineHeight:"12px",isCard:t.isCard,keyLabelColor:t.keyLabelColor,valueLabelColor:t.valueLabelColor}),T.default.createElement(V,{keyName:n,value:X(t.betValue,11),size:"18%",marginLeft:"10px",useSmallFont:a,valueLineHeight:"12px",isCard:t.isCard,keyLabelColor:t.keyLabelColor,valueLabelColor:t.valueLabelColor}),T.default.createElement(V,{keyName:r,value:X(t.profitValue,12),size:"20%",marginLeft:"10px",useSmallFont:a,valueLineHeight:"12px",isCard:t.isCard,keyLabelColor:t.keyLabelColor,valueLabelColor:t.valueLabelColor}),T.default.createElement(V,{keyName:o,value:X(t.balance,17),size:"27%",marginLeft:"10px",useSmallFont:a,valueLineHeight:"12px",isCard:t.isCard,keyLabelColor:t.keyLabelColor,valueLabelColor:t.valueLabelColor}))};var U={};Object.defineProperty(U,"__esModule",{value:!0});var J=__importDefault(e),K=y,q={descText:{fontSize:"12px",textAlign:"left",padding:"0px 8px"},titleText:{color:"#808080",fontSize:"12px",textAlign:"left",padding:"0px 8px"},tooltip:{position:"relative",width:"300px",height:"inherit",alignSelf:"center"},tooltipArrow:{content:" ",left:"90%",border:"solid transparent",height:"0",width:"0",position:"absolute",pointerEvents:"none",borderWidth:"6px",marginLeft:"-6",borderBottomColor:"#464653",bottom:"98%"},tooltipToast:{backgroundColor:"#464653",color:"#fff",borderRadius:"6px",padding:"5px"}};function Q(t){K.tooltipViewModel.currentTarget&&K.tooltipViewModel.currentTarget.contains(t.target)&&t.stopPropagation(),K.tooltipViewModel.update({isActive:!1}),document.body.removeEventListener("click",Q)}var Z=function(t){function e(e){var i=t.call(this,e)||this;return i.state={isActive:!1,title:"",desc:"",posY:0},i}return __extends(e,t),e.prototype.componentDidUpdate=function(){this.state.isActive&&document.body.addEventListener("click",Q)},e.prototype.componentWillUnmount=function(){document.body.removeEventListener("click",Q),K.tooltipViewModel.dispose("tooltipProps")},e.prototype.componentDidMount=function(){var t=this;K.tooltipViewModel.observe("tooltipProps",(function(e){t.setState({isActive:e.isActive,title:e.title,desc:e.desc,posY:e.posY})}))},e.prototype.render=function(){var t=this.state.isActive?"visible":"hidden",e=this.state.desc,i=this.state.title,n=this.state.posY,r=__assign(__assign({},q.tooltip),{visibility:t,top:"-"+n+"px"});return J.default.createElement("div",{id:"tooltip",style:r},J.default.createElement("div",{style:q.tooltipArrow}),J.default.createElement("div",{id:"tooltip-toast",style:q.tooltipToast},J.default.createElement("div",{id:"tooltip-title",style:q.titleText},i),J.default.createElement("div",{id:"tooltip-desc",style:q.descText},e)))},e}(J.default.Component);U.default=Z;var tt={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(t){t.BET_SIZE="History.HistoryTipsBetSize",t.BET_LEVEL="History.HistoryTipsBetLevel",t.PAYOUT="History.HistoryTipsPayout",t.WAYS="History.HistoryTipsWay",t.COUNTS="History.HistoryTipsSymbolCount",t.MULTIPLIER="History.HistoryTipsMultiplier"}(t.WinCalculation||(t.WinCalculation={}))}(tt),Object.defineProperty(o,"__esModule",{value:!0});var et=__importDefault(a),it=o.BetInformation=et.default,nt=__importDefault(u),rt=o.NoWinningCombination=nt.default,ot=__importDefault(g),at=o.Payline=ot.default,st=__importDefault(D),lt=o.PayoutTitle=st.default,pt=__importDefault(M);o.TransactionDetails=pt.default;var ct=__importDefault(U),ut=o.Tooltip=ct.default,ht=__importDefault(b);o.TooltipWrapper=ht.default;var dt=tt,xt=o.WinCalculation=dt.WinCalculation,ft=i.__awaiter;function gt(t,e){var i=[];t.forEach((function(t){var e,n,r;i.push((e=t.resolvePath,n={x:0,y:0,width:0,height:0},r=t.colour,void 0===n&&(n={x:0,y:0,width:0,height:0,isRotate:!1}),new Promise((function(t,i){var o=new plugin.Loader;o.onLoad=function(e){var o=document.createElement("canvas"),a=o.getContext("2d");if(null!==a){var s=new Image;s.onload=function(){URL.revokeObjectURL(s.src);var e=0===n.width?s.width:n.width,i=0===n.height?s.height:n.height;o.width=e,o.height=i,a.clearRect(0,0,e,i),a.translate(e/2,i/2),n.isRotate?(a.rotate(270*Math.PI/180),a.drawImage(s,n.x,n.y,i,e,-i/2,-e/2,i,e)):a.drawImage(s,n.x,n.y,e,i,-e/2,-i/2,e,i);var l=a.getImageData(0,0,e,i),p=l.data;if(r)for(var c=0,u=p.length;c<u;c+=4)p[c]=r.r,p[c+1]=r.g,p[c+2]=r.b;a.putImageData(l,0,0),t(o.toDataURL())},s.onerror=function(){i(Error("ImageBase64 load image failed"))},s.src=URL.createObjectURL(e.response)}},o.onError=function(t){i(t)},o.load([{src:e,type:plugin.LoadType.Blob}])}))))})),Promise.all(i).then((function(t){var i=[];t.forEach((function(t){i.push(t)})),e&&e(i,void 0)})).catch((function(t){e&&e(void 0,t)}))}var bt={};function yt(t,e,i){var n,r=this,o=t.src,a="unknown";a=-1!==o.indexOf(".css")?"css":a,a=-1!==(n=o).indexOf(".jpg")||-1!==n.indexOf(".png")?"image":a;var s=shell.Error,l=shell.ClientError,p=s&&new s(l.Domain,l.GameLoadResourceError),c=e.resource.resolveUrl(o);return new Promise((function(n,o){return __awaiter(r,void 0,void 0,(function(){var r;return __generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,9,,10]),"image"!==a?[3,5]:t.tint?[4,(l=[{resolvePath:c,colour:t.tint}],new Promise((function(t,e){gt(l,(function(i,n){if(n||i&&0===i.length){var r=shell.Error,o=shell.ClientError,a=r&&new r(o.Domain,o.GameLoadResourceError);e(n||a)}t(i)}))})))]:[3,2];case 1:return r=s.sent(),n(r[0]),[3,4];case 2:return[4,_t(c,i)];case 3:r=s.sent(),n(r),s.label=4;case 4:return[3,8];case 5:return"css"!==a?[3,7]:[4,wt(c,e,i)];case 6:return r=s.sent(),n(r),[3,8];case 7:o(p),s.label=8;case 8:return[3,10];case 9:return s.sent(),o(p),[3,10];case 10:return[2]}var l}))}))}))}function mt(t,e,i){return __awaiter(this,void 0,void 0,(function(){var n,r;return __generator(this,(function(o){switch(o.label){case 0:return t.cssFile.endsWith(".css")?[4,yt({src:t.cssFile},e,i)]:[3,2];case 1:return n=o.sent(),[3,3];case 2:n=t.cssFile,o.label=3;case 3:return t.tint?[4,yt({src:t.imageFile,tint:t.tint},e,i)]:[3,6];case 4:return r=o.sent(),[4,vt(n,e,r,!0,i)];case 5:return n=o.sent(),[3,8];case 6:return[4,vt(n,e,t.imageFile,!1,i)];case 7:n=o.sent(),o.label=8;case 8:return t.appendHeader&&function(t,e){var i=[],n=e.bundleInfo.name;bt[n]||(bt[n]=[]),Array.isArray(t)||(t=[t]);var r=bt[n].length+1;t.forEach((function(t,n){var o=r+n,a="$CSS-"+e.bundleInfo.name+"-"+o;i.push(a),function(t,e,i){if(-1===bt[e].indexOf(t)){var n=document.createElement("style");n.id=t,n.innerHTML=i,document.head.appendChild(n),bt[e].push(t)}}(a,e.bundleInfo.name,t)}))}(n,e),[2,n]}}))}))}function vt(t,e,i,n,r){return void 0===n&&(n=!1),new Promise((function(o,a){n?(t=t.replace(/url\((.*?)\)/g,(function(){return"url("+i+")"})),o(t)):function(t,e){var i=this,n=shell.Error,r=shell.ClientError,o=n&&new n(r.Domain,r.GameLoadResourceError);return new Promise((function(n,r){return __awaiter(i,void 0,void 0,(function(){var i;return __generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,kt(t,e)];case 1:return i=a.sent(),n(i),[3,3];case 2:return a.sent(),r(o),[3,3];case 3:return[2]}}))}))}))}(e.resource.resolveUrl(i),r).then((function(e){t=t.replace(/url\((.*?)\)/g,(function(){return"url("+URL.createObjectURL(e)+")"})),o(t)})).catch(a)}))}function _t(t,e){var i=new plugin.Loader;return new Promise((function(n,r){i.onLoad=function(t){n(t.response)},i.onError=function(t){r(t)},i.load([{src:t,type:plugin.LoadType.Image,maxAttemptCount:e}])}))}function wt(t,e,i){var n=new plugin.Loader;return new Promise((function(r,o){n.onLoad=function(t){var i=function(t,e){return t.replace(/url\((.*?)\)/g,(function(t,i){return"url("+e.resource.resolveUrl(i)+")"}))}(t.response,e);r(i)},n.onError=function(t){o(t)},n.load([{src:t,type:plugin.LoadType.Text,maxAttemptCount:i}])}))}function kt(t,e){var i=new plugin.Loader;return new Promise((function(n,r){i.onLoad=function(t){n(t.response)},i.onError=function(t){r(t)},i.load([{src:t,type:plugin.LoadType.Blob,maxAttemptCount:e}])}))}const Ct=e.createContext({isBO:!1});class Ht{constructor(t){this.hasTooltip=!0,this.H=[],this.O=[],this.S=t}initialize(t,e){return ft(this,void 0,void 0,(function*(){const i=e||t;let n=[];n=this.H.concat(this.O).map((e=>{mt(e,i,0).catch((()=>mt(e,t,0)))}));const r=t.resource.resolveUrl("history/locale/locale.json");var o;return n.push((o=r,0,new Promise((function(t,e){var i=new plugin.Loader;i.onLoad=function(e){var i=e.response;for(var n in i)i[n]&&shell.I18n.extend(i[n],n);t(i)},i.onError=function(){var t=shell.Error,i=shell.ClientError,n=new t(i.Domain,i.GameLoadResourceError);e(n)},i.load([{src:o,type:plugin.LoadType.Json,maxAttemptCount:0}])})))),yield Promise.all(n).then((()=>this.S))}))}compileAllHistoryDataBecomePages(t){return t}compileAllHistoryDataForFreeSpinList(t){return t}getNavTitle(t,e){return shell.I18n.t("History.HistoryNormalSpin")}showNavArrowDropDown(t,e){return!1}useDefaultTransactionDetailsHeader(){return!0}getAdditionalSpinsTitle(t,e,i){return shell.I18n.t("History.HistoryNormalSpin")}}class Ot{constructor(t){this.L=t.aw,this.I=t.bl,this.j=t.cs,this.D=t.lw,this.A=t.ml,this.N=t.nst,this.P=t.rc,this.M=t.rf,this.T=t.rl,this.F=t.rtf,this.R=t.st,this.B=t.wp,this.W=t.rwsp,this.Y=t.fs,this.$=t.cpf,this.V=t.cptw,this.G=t.imw,this.X=t.ctw,this.U=t.np,this.J=t.crtw}get accumulatedWin(){return this.L}get balance(){return this.I}get betSizeValue(){return this.j}get lineWinInfo(){return this.D}get betLevelValue(){return this.A}get nextSpinType(){return this.N}get respinCount(){return this.P}get isRespin(){return this.M}get reelList(){return this.T}get isRespinTeaser(){return this.F}get spinType(){return this.R}get winPositionInfo(){return this.B}get winSymbolPayoutsInfo(){return this.W}get isFreeSpin(){return!!this.Y}get isFirstSpinOfFreeSpin(){const t=this.Y;return!(!t||t.s!==t.ts)}get cashPrizeInfo(){return this.$}get cashPrizeValue(){return this.V>0?this.V:void 0}get isMaximumWin(){return this.G}get currentTotalWin(){return this.X}get nettProfit(){return this.U}get hasWin(){return!!this.B}get hasCashWin(){return this.V>0}get currentRoundTotalWin(){return this.J}}var St;!function(t){t[t.WILD=0]="WILD",t[t.NONE=1]="NONE",t[t.INGOTS=2]="INGOTS",t[t.CHEST=3]="CHEST",t[t.BAG=4]="BAG",t[t.PACKETS=5]="PACKETS",t[t.ORANGES=6]="ORANGES",t[t.CRACKERS=7]="CRACKERS"}(St||(St={}));const Lt={0:"s_wild",1:"s_blank",2:"h_ingot",3:"h_packet",4:"h_angbao",5:"h_coins",6:"h_firecraker",7:"h_carrot",8:"s_cash_off",9:"s_cash_on"},It={1:"fr-01",2:"fr-02",3:"fr-03",4:"fr-04",5:"fr-05",6:"fr-06",7:"fr-07",8:"fr-08",9:"fr-09",10:"fr-10"},jt={0:"yellow_0",1:"yellow_1",2:"yellow_2",3:"yellow_3",4:"yellow_4",5:"yellow_5",6:"yellow_6",7:"yellow_7",8:"yellow_8",9:"yellow_9",".":"yellow_decimal",",":"yellow_comma"," ":"blank_space"},zt={0:"red_0",1:"red_1",2:"red_2",3:"red_3",4:"red_4",5:"red_5",6:"red_6",7:"red_7",8:"red_8",9:"red_9",".":"red_decimal",",":"red_comma"," ":"blank_space"},Dt={0:"purple_0",1:"purple_1",2:"purple_2",3:"purple_3",4:"purple_4",5:"purple_5",6:"purple_6",7:"purple_7",8:"purple_8",9:"purple_9",".":"purple_decimal",",":"purple_comma"," ":"blank_space"},At={0:32,1:21,2:30,3:32,4:32,5:30,6:28,7:28,8:32,9:30,".":16,",":16," ":8};var Nt;!function(t){t[t.NORMAL=1]="NORMAL",t[t.FREE_SPIN=2]="FREE_SPIN"}(Nt||(Nt={}));const{formatCurrency:Pt}=r,Mt={betResultsContainer:{position:"relative",margin:"0 auto",paddingBottom:"7px",width:"278px"},slotContainer:{display:"flex",alignItems:"center",position:"relative",width:"320px",height:"302px",transform:"translateX(10px) translateY(-12px)"},slotItemColumnOdd:{position:"relative",height:"205px",width:"82px",transform:"translateY(-32px)"},slotItemColumnEven:{position:"relative",height:"290px",width:"81px",transform:"translateY(43px)"},slotItemContainer:{position:"relative",width:"128px",height:"90px"},winHighlightContainer:{position:"absolute",width:"128px",height:"90px"},slotItem:{transformOrigin:"top left",transform:"scale(0.5)"},winHighlight:{position:"absolute",transformOrigin:"top left",transform:"scale(0.5)"},winHighlightEven:{transformOrigin:"top left",transform:"translateY(96px) scale(0.5)",zIndex:"2"},slotBgContainer:{position:"absolute",width:"240px",height:"262px"},slotBg:{transformOrigin:"top left",transform:"scaleX(0.505) scaleY(0.505) translateX(37px) translateY(35px)"},slotBlackMaskMiddle:{display:"flex",alignItems:"center",position:"absolute",zIndex:"1",transformOrigin:"top left",transform:"scaleX(0.52) scaleY(0.665) translate(13px, -521.5px)",opacity:"0.4"},slotBlackMaskSides:{display:"flex",alignItems:"center",position:"absolute",zIndex:"1",transformOrigin:"top left",transform:"scaleX(0.5) scaleY(0.5) translate(16px, -510px)",opacity:"0.4"},textAnchorContainerStyle:{transformOrigin:"left center",transform:"scale(0.5)"}};function Tt(t,i){if(t<=0)return;const n=t;let r;const o=n.toString().split("");n%1!=0&&(o.forEach(((t,e)=>{"."===t&&(r=e)})),o.splice(r,1));const a=o.length;let s=Pt(t,"","");(s.endsWith(".00")||s.endsWith(",00"))&&(s=s.substring(0,s.length-3));const l=s.split("");let p,c;p=i>=10&&i<50?zt:i>=50?Dt:jt;const u=[];let h=0;for(let g=0;g<l.length;g++){let t=0;","===l[g]?t=5:"."===l[g]&&(t=0);const i={transformOrigin:"center center",transform:`translateY(${t}px)`,zIndex:"5"},n=l[g],r=p[n];h+=At[n],c=e.createElement("span",{className:`fr-general-sprite ${r} `,key:"cash-value-sprite-img-on-index-"+g.toString(),style:i}),u.push(c)}const d=16.5;let x=d;if(a<=3||r){const t=h/4;x=t>31.5?d:31.5-t+d}const f={transformOrigin:"center center",width:"max-content",height:"max-content",transform:`translateX(${x}px) translateY(-174px)`,zIndex:"5"};return e.createElement("div",{className:"cash-container",style:f},e.createElement("div",{className:"text-anchor-container",style:Mt.textAnchorContainerStyle},e.createElement("div",null,u)))}function Ft(t){const{reelList:i,isFreeSpin:r,cashPrizeInfo:o,hasWin:a,winPositionInfo:s,hasCashWin:l}=t.data,p=function(t,e,i){const n=[[],[],[]],r=[],o=[];if(e){const t=Object.keys(e);for(const i of t){const t=e[i];o.push(t)}}const a=[];for(const s in i)i[s].forEach((t=>{void 0===a.find((e=>e===t))&&a.push(t)}));return t.forEach(((t,e)=>{const i=Object.create(null);if(i.symbolIndex=t,i.blockValue=0,i.multiplierValue=void 0,i.onWinPosition=!1,o.length>0)for(let n=0;n<o.length;n++){const t=o[n];if(t.p===e){i.blockValue=t.bv,i.multiplierValue=t.m;break}}if(a.length>0)for(let n=0;n<a.length;n++)a[n]===e&&(i.onWinPosition=!0);const r=Math.floor(e/4);99!==i.symbolIndex&&n[r].push(i)})),n.forEach(((t,e)=>{r[e]=Object.create(null),r[e].columnList=t})),r}(i,o,s);return n((()=>{const t=document.getElementsByClassName("text-anchor-container");for(let e=0;e<t.length;e++){let i=getComputedStyle(t[e]).width;if(i=+i.slice(0,i.length-2)/2,i>63){const n=63/i*.5;t[e].style.transform=`scale(${n})`}}return function(){const t=document.getElementsByClassName("text-anchor-container");for(let e=0;e<t.length;e++)t[e].style.transform="scale(0.5)"}})),e.createElement("div",{id:"bet-results-container",style:Mt.betResultsContainer},function(t){return t?e.createElement("div",{id:"slot-bg-container",style:Mt.slotBgContainer},e.createElement("span",{className:"fr-general-sprite reel_bns_bg",style:Mt.slotBg})):e.createElement("div",{id:"slot-bg-container",style:Mt.slotBgContainer},e.createElement("span",{className:"fr-general-sprite reel_main_bg",style:Mt.slotBg}))}(r),function(t,i,n){return e.createElement("div",{id:"slot-container",style:Mt.slotContainer},function(t,i,n){let r=[];return t&&(r=t.map(((t,r)=>{const o=t.columnList.map(((t,i)=>{const r=t.blockValue,o=t.multiplierValue,a=t.onWinPosition;return 8===t.symbolIndex&&!0===n&&(t.symbolIndex=9),function(t,i,n,r,o,a,s){let l="0";(a||s&&r)&&(l="4");const p={transform:`translateY(-${t%4*25}px)`,zIndex:""+l},c=Object.assign(Object.assign({},Mt.slotItemContainer),p);return a?e.createElement("div",{className:"slot-item",key:"slot-item-"+t,style:c},e.createElement("span",{className:"fr-general-sprite wh",style:Mt.winHighlight}),e.createElement("span",{className:`${n} ${i}`,style:Mt.slotItem}),Tt(r,o)):e.createElement("div",{className:"slot-item",key:"slot-item-"+t,style:c},e.createElement("span",{className:`${n} ${i}`,style:Mt.slotItem}),Tt(r,o))}(i,Lt[t.symbolIndex],t.symbolIndex!==St.WILD?"fr-symbols-sprite":"fr-dynamic-symbols-sprite",r,o,a,n)})),a=r%2==0,s=a?Mt.slotItemColumnEven:Mt.slotItemColumnOdd;return e.createElement("div",{id:"slot-item-column-"+r,key:"slot-item-column-"+r,style:s},o,function(t,i,n){if(t||i){const t=n?Mt.slotBlackMaskSides:Mt.slotBlackMaskMiddle;return e.createElement("span",{className:"fr-general-sprite reel_mask",style:t})}}(i,n,a))}))),r}(t,i,n))}(p,a,l))}const{formatCurrency:Rt,formatGroup:Bt}=r,Wt="rgb(204, 204, 204)",Et={betPayoutContainer:{display:"flex",flexDirection:"column",flexWrap:"wrap",width:"285px",margin:"auto"},featureContainer:{display:"flex",width:"inherit",height:"48px",alignItems:"center"},singleLineLeftDescLabel:{flex:"1 1 150px",textAlign:"left",fontSize:"14px",color:Wt},singleLineRightDescLabel:{flex:"1 1 150px",textAlign:"right",fontSize:"14px",color:Wt},descLeftWrapper:{display:"flex",flexDirection:"column",flex:"1 1 auto",textAlign:"left",fontSize:"14px",color:Wt},scale:{transformOrigin:"top left",transform:"scale(0.35) translateX(-25px)"},spriteContainer:{width:"50px",height:"60px"},payline:{width:"48px",height:"62px",transformOrigin:"left center",transform:"scale(0.5)",color:"rgb(255, 255, 255)"},subDescLeftLabel:{width:"100px",fontSize:"11px",color:"rgb(156, 155, 155)",textAlign:"left"}},Yt=shell.I18n;function $t(t){const i=[];return function(t,i){const{cashPrizeValue:n,isMaximumWin:r}=i;n&&(r?t.push(e.createElement("div",{id:"cash-prize-container",key:"cash-prize-container",style:Et.featureContainer},e.createElement("label",{style:Et.singleLineLeftDescLabel},""+Yt.t("FortuneRabbitHistory.HistoryWinLineItemCashPrize")))):t.push(e.createElement("div",{id:"cash-prize-container",key:"cash-prize-container",style:Et.featureContainer},e.createElement("label",{style:Et.singleLineLeftDescLabel},""+Yt.t("FortuneRabbitHistory.HistoryWinLineItemCashPrize")),e.createElement("label",{style:Et.singleLineRightDescLabel},""+Rt(n)))))}(i,t),function(t,i){const{winPositionInfo:n}=i;if(n){const{lineWinInfo:o,betLevelValue:a,betSizeValue:s,winSymbolPayoutsInfo:l}=i;Object.keys(n).forEach(((i,n)=>{const p=o[i],c=Rt(p),u=l?l[i]:function(...t){const e=t.reduce(((t,e)=>t/e));return Math.round(e)}(p,a,s),h={[xt.BET_SIZE]:Rt(s,""),[xt.BET_LEVEL]:a,[xt.PAYOUT]:u};Object.keys(h).forEach((t=>{h[t]=r.formatGroup(h[t])})),t.push(e.createElement(at,{key:"fr-payline-"+n,paylineSpriteClassName:"fr-paylines-sprite",paylineImageStyle:Et.payline,paylineImageMap:It,winLine:i,winValue:c,winCalculation:h}))}))}}(i,t),function(t,i){const{isMaximumWin:n,currentTotalWin:r}=i;n&&t.push(e.createElement("div",{id:"max-win-container",key:"max-win-container",style:Et.featureContainer},e.createElement("div",{id:"max-win-wrapper",style:Et.descLeftWrapper},e.createElement("label",null,""+Yt.t("FortuneRabbitHistory.HistoryWinLineItemMaxWin")),e.createElement("label",{style:Et.subDescLeftLabel},"5000x")),e.createElement("label",{style:Et.singleLineRightDescLabel},""+Rt(r))))}(i,t),function(t,i){const{hasWin:n,hasCashWin:r}=i;n||r||t.push(e.createElement(rt,{key:"fr-no-winning-combination"}))}(i,t),i}function Vt(t){return e.createElement("div",{id:"bet-payout-container",style:Et.betPayoutContainer},$t(t.data))}const Gt={betDetailContainer:{display:"flex",flexDirection:"column",alignItems:"center"}};class Xt extends e.Component{constructor(t){super(t),this.state={gameDetailModel:new Ot(this.props.data)}}componentDidUpdate(t){this.props.data!==t.data&&this.setState({gameDetailModel:new Ot(this.props.data)})}render(){return e.createElement("div",{id:"bet-details-container",style:Gt.betDetailContainer},e.createElement(Ct.Provider,{value:{isBO:!1}},e.createElement(it,{betSize:r.formatCurrency(this.state.gameDetailModel.betSizeValue),betLevel:this.state.gameDetailModel.betLevelValue}),e.createElement(Ft,{data:this.state.gameDetailModel}),e.createElement(lt,null),e.createElement(Vt,{data:this.state.gameDetailModel}),this.props.isCurrentPage&&e.createElement(ut,null)))}}t("GHBetDetailModule",new class extends Ht{constructor(){super(...arguments),this.K="FortuneRabbitHistory",this.O=[{cssFile:".fr-dynamic-symbols-sprite{background-image:url(dynamic_symbols.png);background-repeat:no-repeat;display:inline-block;overflow:hidden}.s_wild{background-position:-1px -1px;height:192px;width:192px}",imageFile:"history/dynamic_symbols.png",appendHeader:!0},{cssFile:".fr-symbols-sprite{background-image:url(symbols.png);background-repeat:no-repeat;display:inline-block;overflow:hidden}.h_angbao{background-position:-1px -1px}.h_angbao,.h_carrot{height:192px;width:192px}.h_carrot{background-position:-1px -195px}.h_coins{background-position:-195px -1px}.h_coins,.h_firecraker{height:192px;width:192px}.h_firecraker{background-position:-195px -195px}.h_packet{background-position:-389px -195px}.h_ingot,.h_packet{height:192px;width:192px}.h_ingot{background-position:-389px -1px}.s_blank{background-position:-583px -1px}.s_blank,.s_cash_off{height:192px;width:192px}.s_cash_off{background-position:-777px -1px}.s_cash_on{background-position:-583px -195px;height:192px;width:192px}",imageFile:"history/symbols.png",appendHeader:!0},{cssFile:".fr-paylines-sprite{background-image:url(paylines.png);background-repeat:no-repeat;display:inline-block;overflow:hidden}.fr-01{background-position:-1px -1px}.fr-01,.fr-02{height:60px;width:52px}.fr-02{background-position:-55px -1px}.fr-03{background-position:-109px -1px}.fr-03,.fr-04{height:60px;width:52px}.fr-04{background-position:-163px -1px}.fr-05{background-position:-217px -1px}.fr-05,.fr-07{height:60px;width:52px}.fr-07{background-position:-325px -1px}.fr-06{background-position:-271px -1px}.fr-06,.fr-08{height:60px;width:52px}.fr-08{background-position:-379px -1px}.fr-09{background-position:-433px -1px}.fr-09,.fr-10{height:60px;width:52px}.fr-10{background-position:-487px -1px}",imageFile:"history/paylines.png",appendHeader:!0},{cssFile:".fr-general-sprite{background-image:url(general.png);background-repeat:no-repeat;display:inline-block;overflow:hidden}.blank_space{background-position:-163px -1297px;height:1px;width:8px}.purple_0{background-position:-357px -1057px;height:46px;width:32px}.purple_1{background-position:-459px -1057px;height:46px;width:20px}.purple_2{background-position:-357px -1249px;height:46px;width:30px}.purple_3{background-position:-391px -1057px}.purple_3,.purple_4{height:46px;width:32px}.purple_4{background-position:-425px -1057px}.purple_5{background-position:-389px -1249px;height:46px;width:30px}.purple_8{background-position:-357px -1105px}.purple_8,.red_0{height:46px;width:32px}.red_0{background-position:-391px -1105px}.purple_decimal{background-position:-225px -1423px;height:14px;width:16px}.purple_6{background-position:-453px -1253px}.purple_6,.purple_7{height:46px;width:28px}.purple_7{background-position:-195px -1349px}.purple_9{background-position:-421px -1249px;height:46px;width:30px}.purple_comma{background-position:-459px -1201px;height:24px;width:16px}.red_6{background-position:-195px -1397px;height:46px;width:28px}.red_1{background-position:-459px -1105px;height:46px;width:20px}.red_2{background-position:-163px -1301px;height:46px;width:30px}.red_3{background-position:-425px -1105px}.red_3,.red_4{height:46px;width:32px}.red_4{background-position:-357px -1153px}.red_5{background-position:-173px -1251px;height:46px;width:30px}.red_7{background-position:-225px -1349px;height:46px;width:28px}.yellow_8{background-position:-425px -1201px}.red_8,.yellow_8{height:46px;width:32px}.red_8{background-position:-391px -1153px}.red_9{background-position:-163px -1349px;height:46px;width:30px}.red_comma{background-position:-459px -1227px;height:24px;width:16px}.red_decimal{background-position:-225px -1439px;height:14px;width:16px}.reel_bns_bg{background-position:-1px -1px;height:526px;width:480px}.reel_main_bg{background-position:-1px -529px;height:526px;width:480px}.reel_mask{background-position:-1px -1057px;height:398px;width:160px}.wh{background-position:-163px -1057px;height:192px;width:192px}.yellow_0{background-position:-425px -1153px;height:46px;width:32px}.yellow_1{background-position:-459px -1153px;height:46px;width:20px}.yellow_2{background-position:-163px -1397px;height:46px;width:30px}.yellow_6{background-position:-227px -1301px;height:46px;width:28px}.yellow_3{background-position:-357px -1201px}.yellow_3,.yellow_4{height:46px;width:32px}.yellow_4{background-position:-391px -1201px}.yellow_5{background-position:-195px -1301px;height:46px;width:30px}.yellow_7{background-position:-237px -1251px;height:46px;width:28px}.yellow_9{background-position:-205px -1251px;height:46px;width:30px}.yellow_comma{background-position:-225px -1397px;height:24px;width:16px}.yellow_decimal{background-position:-243px -1397px;height:14px;width:16px}",imageFile:"history/general.png",appendHeader:!0}]}getNavTitle(t,e){let i;if(0===e){if(!(t.length-1>0))return shell.I18n.t("History.HistoryNormalSpin");i=shell.I18n.t("FortuneRabbitHistory.HistoryDetailItemPrefabFreeSpin")}return i=shell.I18n.t("FortuneRabbitHistory.HistoryDetailItemPrefabFreeSpin"),`${i}: ${e+1}/${t.length}`}showNavArrowDropDown(t,e){return t.length>1}getAdditionalSpinsTitle(t,e,i){return{title:shell.I18n.t("FortuneRabbitHistory.HistoryDetailItemPrefabFreeSpin"),noCount:!1}}}(Xt)),t("GHComponentGameId",1543462)}}}))}();